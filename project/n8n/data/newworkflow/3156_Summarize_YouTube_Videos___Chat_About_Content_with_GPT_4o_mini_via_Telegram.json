{
  "url": "https://n8n.io/workflows/3156-summarize-youtube-videos-and-chat-about-content-with-gpt-4o-mini-via-telegram/",
  "title": "Summarize YouTube Videos & Chat About Content with GPT-4o-mini via Telegram",
  "author": "Grzegorz Hanus",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"KgoL0qrLYZUJFuAS\",\"meta\":{\"instanceId\":\"53cd73f110e7e1f0aa170e039c302b8f2a1790f1200f176610cac2d761dfa4b7\"},\"name\":\"Summarize YouTube Videos & Chat About Content with GPT-4o-mini via Telegram\",\"tags\":[],\"nodes\":[{\"id\":\"a9cb4358-f9ec-4d81-9422-f1b7133f1f2a\",\"name\":\"Split Transcript into Segments\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[800,680],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"transcript\"},\"typeVersion\":1},{\"id\":\"03650773-fd85-4ecb-a218-0d18e2f88e68\",\"name\":\"Extract YouTube URL from Input\",\"type\":\"n8n-nodes-base.set\",\"position\":[580,220],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3ee42e4c-3cee-4934-97e7-64c96b5691ed\",\"name\":\"youtubeUrl\",\"type\":\"string\",\"value\":\"={{ $json.chatInput || $json.query.url}}\"}]}},\"typeVersion\":3.4},{\"id\":\"9b55683c-6b04-44e6-8af2-ef69a50e783a\",\"name\":\"Extract Video ID from URL\",\"type\":\"n8n-nodes-base.code\",\"position\":[580,460],\"parameters\":{\"language\":\"python\",\"pythonCode\":\"# Loop over input items and add a new field called 'myNewField' to the JSON of each one\\nfor item in _input.all():\\n  item.json.myNewField = 1\\nreturn _input.all()\"},\"typeVersion\":2},{\"id\":\"8552bb5d-c857-4a4e-b97b-7482b5e97244\",\"name\":\"gpt-4o-mini\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1280,960],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"ZjnhmdYT28d52ebY\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"5cea6925-cbf7-47a4-9a26-45f42f91c074\",\"name\":\"Generate Summary with GPT-4o-mini\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[1260,760],\"parameters\":{\"text\":\"=Please analyze the given text and create a structured summary following these guidelines:\\n\\n1. *General Summary*:\\n   - Provide a concise overview of the main topic or purpose of the text in one paragraph.\\n   - Focus on the essence of the content without excessive detail.\\n\\n2. *Key Moments*:\\n   - List the most important points, events, or concepts from the text.\\n   - Use bullet points for clarity.\\n   - Keep each point short and focused.\\n   - Highlight key terms using HTML bold tags (<b>term</b>).\\n\\n3. *Instructions (if applicable)*:\\n   - If the text is a tutorial or instructional, list the steps in a clear order.\\n   - Use numbered points for steps.\\n   - If not applicable, state: \\\"This text does not contain instructions.\\\"\\n\\n4. *Format requirements*:\\n   - Use markdown for headers (e.g., ## General Summary) and bullet points.\\n   - Use HTML bold tags (<b>term</b>) for emphasis instead of markdown bold.\\n   - Do not use tables; use simple text for lists or comparisons (e.g., \\\"Element: opis\\\").\\n   - Ensure the message is simple and displays correctly in the Telegram app, avoiding unsupported features like nested lists or tables.\\n\\nHere is the text: {{ $json.concatenated_text }}\",\"promptType\":\"define\"},\"typeVersion\":1.4},{\"id\":\"cba394e4-3ae3-4506-a1d9-7b8ffbdf5d93\",\"name\":\"Concatenate Transcript Segments\",\"type\":\"n8n-nodes-base.summarize\",\"position\":[1000,680],\"parameters\":{\"options\":{},\"fieldsToSummarize\":{\"values\":[{\"field\":\"text\",\"separateBy\":\" \",\"aggregation\":\"concatenate\"}]}},\"typeVersion\":1},{\"id\":\"c4b266bd-ab23-4823-8f2c-f12704bad58f\",\"name\":\"Trigger on Telegram Message\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[360,100],\"webhookId\":\"da4bfbb8-d077-4ea1-8d2d-08d408002213\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"57f22922-29fd-402e-b5c3-79cb133209cd\",\"name\":\"Extract YouTube Transcript\",\"type\":\"n8n-nodes-youtube-transcription-kasha.youtubeTranscripter\",\"position\":[580,680],\"parameters\":{\"videoId\":\"={{ $json.videoId}}\"},\"typeVersion\":1},{\"id\":\"196453ad-8a63-4fbc-9dc3-37a1ee611857\",\"name\":\"Send Summary via Telegram\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1660,760],\"webhookId\":\"7159b4c8-984a-4c86-aa32-84e55d406745\",\"parameters\":{\"text\":\"={{ $json.text }}\\n\\n\\n{{ $('Extract YouTube URL from Input').item.json.youtubeUrl}}\",\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"MR8ATMwMsj9Ux1De\",\"name\":\"YoutubeTranscriptChat\"}},\"typeVersion\":1.2},{\"id\":\"7754143b-9449-427c-9e04-e91434c4bc74\",\"name\":\"Receive YouTube URL via Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[360,320],\"webhookId\":\"8f0beaaf-b2c3-4148-8006-3b73fa146f60\",\"parameters\":{\"path\":\"8f0beaaf-b2c3-4148-8006-3b73fa146f60\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"e9aaec56-2458-49a4-989e-eb4af03441b9\",\"name\":\"Send Response to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1860,760],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"bac178f2-be91-4f28-a024-d7dbef11c442\",\"name\":\"Telegram Trigger\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[240,1040],\"webhookId\":\"254daa2a-41b8-49f7-8781-52c7e573de70\",\"parameters\":{\"updates\":[\"message\"],\"additionalFields\":{}},\"credentials\":{\"telegramApi\":{\"id\":\"MR8ATMwMsj9Ux1De\",\"name\":\"YoutubeTranscriptChat\"}},\"typeVersion\":1.1},{\"id\":\"128b8e7a-9b56-4d98-a270-9f627f188b8b\",\"name\":\"Retrieve Transcript from Google Docs\",\"type\":\"n8n-nodes-base.googleDocs\",\"position\":[1280,520],\"parameters\":{\"operation\":\"get\",\"documentURL\":\"1-NdqfoVWfG1gpjltzJthw_MZeyAlGF3d3gYiIOBLbPk\"},\"credentials\":{\"googleDocsOAuth2Api\":{\"id\":\"N5fN0xR3iI0aCpms\",\"name\":\"Google Docs account 2\"}},\"typeVersion\":2},{\"id\":\"d4377188-fac7-4d48-8ef4-747f9dd39cf0\",\"name\":\"Update Transcript in Google Docs\",\"type\":\"n8n-nodes-base.googleDocs\",\"position\":[1480,520],\"parameters\":{\"actionsUi\":{\"actionFields\":[{\"text\":\"={{ $json.content }}\",\"action\":\"replaceAll\",\"replaceText\":\"={{ $('Concatenate Transcript Segments').item.json.concatenated_text }}\"}]},\"operation\":\"update\",\"documentURL\":\"={{ $json.documentId }}\"},\"credentials\":{\"googleDocsOAuth2Api\":{\"id\":\"N5fN0xR3iI0aCpms\",\"name\":\"Google Docs account 2\"}},\"typeVersion\":2},{\"id\":\"25504013-f1e0-4556-a318-dbc482bde4fa\",\"name\":\"Handle User Questions via AI\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[440,1040],\"parameters\":{\"text\":\"={{ $json.message.text }}\",\"options\":{\"systemMessage\":\"You are a tool for answering user questions about a YouTube video based on its transcript, which is available in a Google Docs document. Always check the transcript content before responding and ensure your answers are consistent with it.\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"562ce57d-600e-4bb2-a5a2-e6d005f840bd\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[380,1220],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"ZjnhmdYT28d52ebY\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"39ba9c74-a5c1-455e-b51b-9d36bce76635\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[540,1260],\"parameters\":{\"sessionKey\":\"={{ $json.message.text }}\",\"sessionIdType\":\"customKey\"},\"typeVersion\":1.3},{\"id\":\"1983dc09-f74f-4863-8b2c-9069bc6d64d9\",\"name\":\"Google Docs2\",\"type\":\"n8n-nodes-base.googleDocsTool\",\"position\":[660,1280],\"parameters\":{\"operation\":\"get\",\"documentURL\":\"1-NdqfoVWfG1gpjltzJthw_MZeyAlGF3d3gYiIOBLbPk\"},\"credentials\":{\"googleDocsOAuth2Api\":{\"id\":\"N5fN0xR3iI0aCpms\",\"name\":\"Google Docs account 2\"}},\"typeVersion\":2},{\"id\":\"4dfcba99-98e5-49e4-b8bd-31fb841a0985\",\"name\":\"Send AI Response via Telegram\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[840,1040],\"webhookId\":\"63608fd8-27e6-4b87-8021-95f7441b7ca1\",\"parameters\":{\"text\":\"={{ $json.output }}\",\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"MR8ATMwMsj9Ux1De\",\"name\":\"YoutubeTranscriptChat\"}},\"retryOnFail\":true,\"typeVersion\":1.2},{\"id\":\"29c22c9f-cca2-459f-8ef0-577c6e1ddd93\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,0],\"parameters\":{\"color\":5,\"width\":540,\"height\":500,\"content\":\"## Get a video URL\\nGet video url via webhook or message\\n\\nFor this I recommend using a shortcut \\nif you are using apple. \\nThis allows you to share a video\\ndirectly to n8n via webhook\\n\"},\"typeVersion\":1},{\"id\":\"7a987035-42cc-4b52-b4e3-f75194173a58\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1200,360],\"parameters\":{\"color\":4,\"width\":540,\"height\":360,\"content\":\"## Load memory \\nUploading the transcript about the memory in google docs so you can then ask questions about the film\"},\"typeVersion\":1},{\"id\":\"2c7446b3-d7bf-4d0c-9b07-87e6ffaea0da\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,900],\"parameters\":{\"color\":3,\"width\":1020,\"height\":600,\"content\":\"## Ask AI about video\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"0b743433-f1cf-4a8c-9c4e-4b7778d6391a\",\"connections\":{\"gpt-4o-mini\":{\"ai_languageModel\":[[{\"node\":\"Generate Summary with GPT-4o-mini\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Google Docs2\":{\"ai_tool\":[[{\"node\":\"Handle User Questions via AI\",\"type\":\"ai_tool\",\"index\":0}]]},\"Telegram Trigger\":{\"main\":[[{\"node\":\"Handle User Questions via AI\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Handle User Questions via AI\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Extract Video ID from URL\":{\"main\":[[{\"node\":\"Extract YouTube Transcript\",\"type\":\"main\",\"index\":0}]]},\"Send Summary via Telegram\":{\"main\":[[{\"node\":\"Send Response to Webhook\",\"type\":\"main\",\"index\":0}]]},\"Extract YouTube Transcript\":{\"main\":[[{\"node\":\"Split Transcript into Segments\",\"type\":\"main\",\"index\":0}]]},\"Trigger on Telegram Message\":{\"main\":[[{\"node\":\"Extract YouTube URL from Input\",\"type\":\"main\",\"index\":0}]]},\"Handle User Questions via AI\":{\"main\":[[{\"node\":\"Send AI Response via Telegram\",\"type\":\"main\",\"index\":0}]]},\"Extract YouTube URL from Input\":{\"main\":[[{\"node\":\"Extract Video ID from URL\",\"type\":\"main\",\"index\":0}]]},\"Split Transcript into Segments\":{\"main\":[[{\"node\":\"Concatenate Transcript Segments\",\"type\":\"main\",\"index\":0}]]},\"Concatenate Transcript Segments\":{\"main\":[[{\"node\":\"Generate Summary with GPT-4o-mini\",\"type\":\"main\",\"index\":0},{\"node\":\"Retrieve Transcript from Google Docs\",\"type\":\"main\",\"index\":0}]]},\"Receive YouTube URL via Webhook\":{\"main\":[[{\"node\":\"Extract YouTube URL from Input\",\"type\":\"main\",\"index\":0}]]},\"Generate Summary with GPT-4o-mini\":{\"main\":[[{\"node\":\"Send Summary via Telegram\",\"type\":\"main\",\"index\":0}]]},\"Retrieve Transcript from Google Docs\":{\"main\":[[{\"node\":\"Update Transcript in Google Docs\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Summarize YouTube Videos & Chat About Content with GPT-4o-mini via Telegram\n\n## Description\n\nThis n8n workflow automates the process of summarizing YouTube video transcripts and enables users to interact with the content through AI-powered question answering via Telegram. It leverages the GPT-4o-mini model to generate summaries and provide insights based on the video’s transcript.\n\n### How It Works\n\n  1. **Input** : The workflow starts by receiving a YouTube video URL. This can be submitted through:\n\n     * A Telegram chat message.\n     * A webhook (e.g., triggered by a shortcut on Apple devices).\n  2. **Transcript Extraction** : The URL is processed to extract the video transcript using the custom `youtubeTranscripter` community node ([available here](https://www.npmjs.com/package/n8n-nodes-youtube-transcription-kasha)). The transcript is concatenated into a single text and stored in a Google Docs document.\n\n  3. **Summarization** : The GPT-4o-mini AI model analyzes the transcript and generates a structured summary, including:\n\n     * A general overview.\n     * Key moments.\n     * Instructions (if applicable).  \nThe summary is then sent back to the user via Telegram.\n  4. **Interactive Q &A**: Users can ask questions about the video content via Telegram. The AI retrieves the stored transcript from Google Docs and provides accurate, context-based answers, which are sent back through Telegram.\n\n\n\n\n### Setup Instructions\n\nTo configure this workflow, follow these steps:\n\n  1. **Import the Workflow** : Download the provided JSON template and import it into your n8n instance.\n  2. **Install the Community Node** : Install the `youtubeTranscripter` community node via npm:\n         \n         npm install n8n-nodes-youtube-transcription-kasha\n         \n\n**Important** : This node requires a self-hosted n8n instance due to its external dependencies.\n  3. **Configure Nodes** : \n     * **Webhook** : Set up the webhook to receive YouTube URLs. Alternatively, configure the Telegram node if using Telegram as the input method.\n     * **Google Docs** : Provide valid credentials to enable writing the transcript to a Google Docs document.\n     * **AI Model** : Set up the GPT-4o-mini model for summarization and Q&A functionality.\n  4. **Test the Workflow** : Send a YouTube URL via your chosen input method (Telegram or webhook) and confirm that the summary is generated and delivered correctly.\n\n\n\n### Customization\n\n  * **Language** : Adjust the AI prompts to generate summaries and answers in any desired language.\n  * **Output Format** : Modify the summary structure by editing the prompt in the summarization node.\n  * **Input Methods** : Replace the Telegram node with another messaging or input node to adapt the workflow to different platforms.\n\n\n\n### Who Can Benefit?\n\nThis template is perfect for:\n\n  * **Content Creators** : Quickly summarize video content for repurposing or review.\n  * **Students and Researchers** : Extract key insights from educational or informational videos efficiently.\n  * **General Users** : Interact with video content via AI without needing to watch the full video.\n\n\n\n### Problem Solved\n\nThis workflow simplifies video content consumption by:\n\n  * Automating the extraction and summarization of key points.\n  * Enabling interactive Q&A to address specific questions without rewatching the video.\n\n\n\n## Additional Notes\n\n  * **Disclaimer** : The `youtubeTranscripter` community node is required and only works on self-hosted n8n instances due to its reliance on external services.\n  * **Apple Users** : Enhance your experience with a custom shortcut to share YouTube videos directly to the workflow. [Download the shortcut here](https://routinehub.co/shortcut/21757/).\n\n\n",
  "crawled_at": "2025-05-26T03:53:36.067711",
  "readme_zh": "# 通过Telegram用GPT-4o-mini总结YouTube视频并对话交流\n\n## 功能描述\n\n该n8n工作流可自动生成YouTube视频字幕摘要，并通过Telegram实现基于AI的智能问答交互。工作流利用GPT-4o-mini模型分析视频字幕，生成内容摘要并提供深度解读。\n\n### 运行原理\n\n1. **输入环节**  \n   通过以下方式接收YouTube视频链接：\n   - Telegram聊天消息\n   - Webhook触发（如苹果设备快捷指令）\n\n2. **字幕提取**  \n   使用社区版`youtubeTranscripter`节点（[获取地址](https://www.npmjs.com/package/n8n-nodes-youtube-transcription-kasha)）解析视频字幕，整合文本后存储至Google文档。\n\n3. **智能摘要**  \n   GPT-4o-mini模型分析字幕后生成结构化摘要，包含：\n   - 内容概览\n   - 关键时间点\n   - 操作指南（如适用）  \n   摘要将通过Telegram发送给用户。\n\n4. **交互问答**  \n   用户可通过Telegram提问，AI从Google文档调取字幕内容，生成精准回答后通过Telegram回复。\n\n### 配置指南\n\n1. **导入工作流**  \n   下载JSON模板并导入n8n实例。\n\n2. **安装社区节点**  \n   通过npm安装字幕提取节点：\n   ```bash\n   npm install n8n-nodes-youtube-transcription-kasha\n   ```\n   *注：该节点需在自托管n8n环境中运行*\n\n3. **节点配置**  \n   - **Webhook**：设置接收YouTube链接的接口（或配置Telegram输入节点）\n   - **Google文档**：配置有效凭证以存储字幕\n   - **AI模型**：设置GPT-4o-mini的摘要生成与问答功能\n\n4. **测试验证**  \n   通过选定方式发送YouTube链接，确认摘要生成与回复功能正常。\n\n### 定制选项\n\n- **多语言支持**：修改AI提示词可适配任意语种\n- **摘要格式**：编辑摘要生成节点的提示词可调整结构\n- **输入渠道**：可替换Telegram节点适配其他通讯平台\n\n### 适用场景\n\n本模板特别适合：\n- **内容创作者**：快速生成视频摘要用于二次创作\n- **学术研究者**：高效获取教育类视频核心观点\n- **普通用户**：无需观看完整视频即可掌握内容要点\n\n### 核心价值\n\n本方案通过以下方式优化视频消费体验：\n- 自动化提取核心内容\n- 交互式问答精准定位信息\n\n## 注意事项\n\n- 社区版字幕提取节点需自托管环境运行\n- 苹果用户可安装[快捷指令](https://routinehub.co/shortcut/21757/)实现一键分享",
  "title_zh": "通过Telegram用GPT-4o-mini总结YouTube视频内容并聊天",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\n  \"id\": \"KgoL0qrLYZUJFuAS\",\n  \"meta\": {\n    \"instanceId\": \"53cd73f110e7e1f0aa170e039c302b8f2a1790f1200f176610cac2d761dfa4b7\"\n  },\n  \"name\": \"Summarize YouTube Videos & Chat About Content with GPT-4o-mini via Telegram\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"a9cb4358-f9ec-4d81-9422-f1b7133f1f2a\",\n      \"name\": \"Split Transcript into Segments\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        800,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"transcript\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"03650773-fd85-4ecb-a218-0d18e2f88e68\",\n      \"name\": \"Extract YouTube URL from Input\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        580,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"3ee42e4c-3cee-4934-97e7-64c96b5691ed\",\n              \"name\": \"youtubeUrl\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.chatInput || $json.query.url}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"9b55683c-6b04-44e6-8af2-ef69a50e783a\",\n      \"name\": \"Extract Video ID from URL\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        580,\n        460\n      ],\n      \"parameters\": {\n        \"language\": \"python\",\n        \"pythonCode\": \"# Loop over input items and add a new field called 'myNewField' to the JSON of each one\\nfor item in _input.all():\\n  item.json.myNewField = 1\\nreturn _input.all()\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"8552bb5d-c857-4a4e-b97b-7482b5e97244\",\n      \"name\": \"gpt-4o-mini\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1280,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"ZjnhmdYT28d52ebY\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5cea6925-cbf7-47a4-9a26-45f42f91c074\",\n      \"name\": \"Generate Summary with GPT-4o-mini\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1260,\n        760\n      ],\n      \"parameters\": {\n        \"text\": \"=Please analyze the given text and create a structured summary following these guidelines:\\n\\n1. *General Summary*:\\n   - Provide a concise overview of the main topic or purpose of the text in one paragraph.\\n   - Focus on the essence of the content without excessive detail.\\n\\n2. *Key Moments*:\\n   - List the most important points, events, or concepts from the text.\\n   - Use bullet points for clarity.\\n   - Keep each point short and focused.\\n   - Highlight key terms using HTML bold tags (<b>term</b>).\\n\\n3. *Instructions (if applicable)*:\\n   - If the text is a tutorial or instructional, list the steps in a clear order.\\n   - Use numbered points for steps.\\n   - If not applicable, state: \\\"This text does not contain instructions.\\\"\\n\\n4. *Format requirements*:\\n   - Use markdown for headers (e.g., ## General Summary) and bullet points.\\n   - Use HTML bold tags (<b>term</b>) for emphasis instead of markdown bold.\\n   - Do not use tables; use simple text for lists or comparisons (e.g., \\\"Element: opis\\\").\\n   - Ensure the message is simple and displays correctly in the Telegram app, avoiding unsupported features like nested lists or tables.\\n\\nHere is the text: {{ $json.concatenated_text }}\",\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"cba394e4-3ae3-4506-a1d9-7b8ffbdf5d93\",\n      \"name\": \"Concatenate Transcript Segments\",\n      \"type\": \"n8n-nodes-base.summarize\",\n      \"position\": [\n        1000,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToSummarize\": {\n          \"values\": [\n            {\n              \"field\": \"text\",\n              \"separateBy\": \" \",\n              \"aggregation\": \"concatenate\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c4b266bd-ab23-4823-8f2c-f12704bad58f\",\n      \"name\": \"Trigger on Telegram Message\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        360,\n        100\n      ],\n      \"webhookId\": \"da4bfbb8-d077-4ea1-8d2d-08d408002213\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"57f22922-29fd-402e-b5c3-79cb133209cd\",\n      \"name\": \"Extract YouTube Transcript\",\n      \"type\": \"n8n-nodes-youtube-transcription-kasha.youtubeTranscripter\",\n      \"position\": [\n        580,\n        680\n      ],\n      \"parameters\": {\n        \"videoId\": \"={{ $json.videoId}}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"196453ad-8a63-4fbc-9dc3-37a1ee611857\",\n      \"name\": \"Send Summary via Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1660,\n        760\n      ],\n      \"webhookId\": \"7159b4c8-984a-4c86-aa32-84e55d406745\",\n      \"parameters\": {\n        \"text\": \"={{ $json.text }}\\n\\n\\n{{ $('Extract YouTube URL from Input').item.json.youtubeUrl}}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"MR8ATMwMsj9Ux1De\",\n          \"name\": \"YoutubeTranscriptChat\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"7754143b-9449-427c-9e04-e91434c4bc74\",\n      \"name\": \"Receive YouTube URL via Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        360,\n        320\n      ],\n      \"webhookId\": \"8f0beaaf-b2c3-4148-8006-3b73fa146f60\",\n      \"parameters\": {\n        \"path\": \"8f0beaaf-b2c3-4148-8006-3b73fa146f60\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"e9aaec56-2458-49a4-989e-eb4af03441b9\",\n      \"name\": \"Send Response to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1860,\n        760\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"bac178f2-be91-4f28-a024-d7dbef11c442\",\n      \"name\": \"Telegram Trigger\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        240,\n        1040\n      ],\n      \"webhookId\": \"254daa2a-41b8-49f7-8781-52c7e573de70\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"MR8ATMwMsj9Ux1De\",\n          \"name\": \"YoutubeTranscriptChat\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"128b8e7a-9b56-4d98-a270-9f627f188b8b\",\n      \"name\": \"Retrieve Transcript from Google Docs\",\n      \"type\": \"n8n-nodes-base.googleDocs\",\n      \"position\": [\n        1280,\n        520\n      ],\n      \"parameters\": {\n        \"operation\": \"get\",\n        \"documentURL\": \"1-NdqfoVWfG1gpjltzJthw_MZeyAlGF3d3gYiIOBLbPk\"\n      },\n      \"credentials\": {\n        \"googleDocsOAuth2Api\": {\n          \"id\": \"N5fN0xR3iI0aCpms\",\n          \"name\": \"Google Docs account 2\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"d4377188-fac7-4d48-8ef4-747f9dd39cf0\",\n      \"name\": \"Update Transcript in Google Docs\",\n      \"type\": \"n8n-nodes-base.googleDocs\",\n      \"position\": [\n        1480,\n        520\n      ],\n      \"parameters\": {\n        \"actionsUi\": {\n          \"actionFields\": [\n            {\n              \"text\": \"={{ $json.content }}\",\n              \"action\": \"replaceAll\",\n              \"replaceText\": \"={{ $('Concatenate Transcript Segments').item.json.concatenated_text }}\"\n            }\n          ]\n        },\n        \"operation\": \"update\",\n        \"documentURL\": \"={{ $json.documentId }}\"\n      },\n      \"credentials\": {\n        \"googleDocsOAuth2Api\": {\n          \"id\": \"N5fN0xR3iI0aCpms\",\n          \"name\": \"Google Docs account 2\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"25504013-f1e0-4556-a318-dbc482bde4fa\",\n      \"name\": \"Handle User Questions via AI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        440,\n        1040\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.message.text }}\",\n        \"options\": {\n          \"systemMessage\": \"You are a tool for answering user questions about a YouTube video based on its transcript, which is available in a Google Docs document. Always check the transcript content before responding and ensure your answers are consistent with it.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"562ce57d-600e-4bb2-a5a2-e6d005f840bd\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        380,\n        1220\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"ZjnhmdYT28d52ebY\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"39ba9c74-a5c1-455e-b51b-9d36bce76635\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        540,\n        1260\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"={{ $json.message.text }}\",\n        \"sessionIdType\": \"customKey\"\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"1983dc09-f74f-4863-8b2c-9069bc6d64d9\",\n      \"name\": \"Google Docs2\",\n      \"type\": \"n8n-nodes-base.googleDocsTool\",\n      \"position\": [\n        660,\n        1280\n      ],\n      \"parameters\": {\n        \"operation\": \"get\",\n        \"documentURL\": \"1-NdqfoVWfG1gpjltzJthw_MZeyAlGF3d3gYiIOBLbPk\"\n      },\n      \"credentials\": {\n        \"googleDocsOAuth2Api\": {\n          \"id\": \"N5fN0xR3iI0aCpms\",\n          \"name\": \"Google Docs account 2\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4dfcba99-98e5-49e4-b8bd-31fb841a0985\",\n      \"name\": \"Send AI Response via Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        840,\n        1040\n      ],\n      \"webhookId\": \"63608fd8-27e6-4b87-8021-95f7441b7ca1\",\n      \"parameters\": {\n        \"text\": \"={{ $json.output }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"MR8ATMwMsj9Ux1De\",\n          \"name\": \"YoutubeTranscriptChat\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"29c22c9f-cca2-459f-8ef0-577c6e1ddd93\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 540,\n        \"height\": 500,\n        \"content\": \"## 获取视频链接\\n通过Webhook或消息获取视频网址\\n\\n为此，我推荐使用快捷指令\\n如果您使用的是苹果设备。\\n这允许您直接通过Webhook\\n将视频分享到n8n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7a987035-42cc-4b52-b4e3-f75194173a58\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 540,\n        \"height\": 360,\n        \"content\": \"## 载入记忆\\n将关于该记忆的文字记录上传至谷歌文档，以便您随后能就影片内容提问\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2c7446b3-d7bf-4d0c-9b07-87e6ffaea0da\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        900\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 1020,\n        \"height\": 600,\n        \"content\": \"## 向AI咨询视频相关\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"0b743433-f1cf-4a8c-9c4e-4b7778d6391a\",\n  \"connections\": {\n    \"gpt-4o-mini\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Generate Summary with GPT-4o-mini\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Docs2\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Handle User Questions via AI\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Handle User Questions via AI\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Handle User Questions via AI\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Video ID from URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract YouTube Transcript\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send Summary via Telegram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Response to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract YouTube Transcript\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Transcript into Segments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trigger on Telegram Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract YouTube URL from Input\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Handle User Questions via AI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send AI Response via Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract YouTube URL from Input\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Video ID from URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Transcript into Segments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Concatenate Transcript Segments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Concatenate Transcript Segments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Summary with GPT-4o-mini\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Retrieve Transcript from Google Docs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Receive YouTube URL via Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract YouTube URL from Input\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Summary with GPT-4o-mini\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Summary via Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve Transcript from Google Docs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Transcript in Google Docs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}