{
  "url": "https://n8n.io/workflows/4231-context-aware-google-calendar-management-with-mcp-protocol/",
  "title": "Context-Aware Google Calendar Management with MCP Protocol",
  "author": "Simeon",
  "publish_date": "Last update 6 days ago",
  "publish_date_absolute": "2025-05-20",
  "categories": [
    {
      "name": "Engineering"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"aiKrExd0rAxJO6xi\",\"meta\":{\"instanceId\":\"f8eaf8bef1c6467fb3687216a5c1296ee5e886fb01cb197574b7f8e91332a8d8\",\"templateCredsSetupCompleted\":true},\"name\":\"MCP_google_calendar\",\"tags\":[],\"nodes\":[{\"id\":\"17ccfdbf-d121-4ff0-95d4-bb38644d2bb1\",\"name\":\"MCP Server Trigger\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[80,-40],\"webhookId\":\"c734cf98-3d5a-4cbd-af97-8ad2da760944\",\"parameters\":{\"path\":\"c734cf98-3d5a-4cbd-af97-8ad2da760944\"},\"typeVersion\":1},{\"id\":\"174a13be-04f1-417c-8510-26798dae3447\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[1060,220],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"operation\"},{\"name\":\"startDate\"},{\"name\":\"endDate\"},{\"name\":\"eventId\"},{\"name\":\"timeZone\"}]}},\"typeVersion\":1.1},{\"id\":\"f74799f0-67b4-4247-905c-46adb1be4739\",\"name\":\"Operation\",\"type\":\"n8n-nodes-base.switch\",\"position\":[1460,180],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"getEvent\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"81b134bc-d671-4493-b3ad-8df9be3f49a6\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.operation }}\",\"rightValue\":\"getEvent\"}]},\"renameOutput\":true},{\"outputKey\":\"deleteEvent\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8d57914f-6587-4fb3-88e0-aa1de6ba56c1\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.operation }}\",\"rightValue\":\"deleteEvent\"}]},\"renameOutput\":true},{\"outputKey\":\"createEvent\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"7c38f238-213a-46ec-aefe-22e0bcb8dffc\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.operation }}\",\"rightValue\":\"createEvent\"}]},\"renameOutput\":true},{\"outputKey\":\"updateEvent\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ee9b6783-a0f2-4848-9166-aba6645c1ebc\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.operation }}\",\"rightValue\":\"updateEvent\"}]},\"renameOutput\":true},{\"outputKey\":\"getEventData\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9ea6980d-a7be-4dec-8ddf-d2fcffb00af1\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"getEventData\",\"rightValue\":\"getEventData\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"b8007362-0d41-4875-872b-877f33b74bf8\",\"name\":\"validate_busy_time\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[-80,240],\"parameters\":{\"name\":\"validate_busy_time\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"aiKrExd0rAxJO6xi\",\"cachedResultName\":\"MCP_google_calendar\"},\"description\":\"Call this tool to validate if the gap of time is already busy. it is useful to validate before creating a new event\",\"workflowInputs\":{\"value\":{\"endDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\"timeZone\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\"operation\":\"=getEvent\",\"startDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"},\"schema\":[{\"id\":\"operation\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"operation\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"startDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"startDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"endDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"eventId\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"eventId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timeZone\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timeZone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"51f39673-4657-401b-b1bf-34e816318acf\",\"name\":\"create_new_event\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[80,240],\"parameters\":{\"name\":\"create_new_event\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"aiKrExd0rAxJO6xi\",\"cachedResultName\":\"MCP_google_calendar\"},\"description\":\"Use this tool to create a new event; always validate if the gap of time is available before creating a new event \",\"workflowInputs\":{\"value\":{\"endDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\"timeZone\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\"operation\":\"createEvent\",\"startDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"},\"schema\":[{\"id\":\"operation\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"operation\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"startDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"startDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"endDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"eventId\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"eventId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timeZone\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timeZone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"3587c022-2f57-4bf6-8066-c292bcab5399\",\"name\":\"delete_event\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[360,240],\"parameters\":{\"name\":\"delete_event\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"aiKrExd0rAxJO6xi\",\"cachedResultName\":\"MCP_google_calendar\"},\"description\":\"Call this tool to delete a event, to delete a event you need the even id. it is required\",\"workflowInputs\":{\"value\":{\"endDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\"timeZone\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\"operation\":\"deleteEvent\",\"startDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"},\"schema\":[{\"id\":\"operation\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"operation\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"startDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"startDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"endDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"eventId\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"eventId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timeZone\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timeZone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"1da9a808-b478-47cd-b129-2a11d83d8735\",\"name\":\"update_event\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[220,240],\"parameters\":{\"name\":\"update_event\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"aiKrExd0rAxJO6xi\",\"cachedResultName\":\"MCP_google_calendar\"},\"description\":\"Call this tool to update the event name, startDate or endDate. Validate with validate_busy_time before any action\",\"workflowInputs\":{\"value\":{\"endDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\"timeZone\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\"operation\":\"updateEvent\",\"startDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"},\"schema\":[{\"id\":\"operation\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"operation\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"startDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"startDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endDate\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"endDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"eventId\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"eventId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timeZone\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timeZone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"f3105e5b-0dec-44d0-ba5c-5bd91b0887d1\",\"name\":\"validate_availability_event\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[2100,-220],\"parameters\":{\"options\":{},\"timeMax\":\"={{ $json.endDate }}\",\"timeMin\":\"={{ $json.startDate }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"resource\":\"calendar\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"43f2125b-85ea-455d-92ed-b84d0eb4a566\",\"name\":\"check_availability_to_create\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[1780,220],\"parameters\":{\"options\":{},\"timeMax\":\"={{ $('map_data').item.json.endDate }}\",\"timeMin\":\"={{ $('map_data').item.json.startDate }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"resource\":\"calendar\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"7f2e1fef-79cb-4728-aa63-1afe038598ab\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[2000,220],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"4ee8a84d-c48a-416f-aa31-0633ee59124b\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.available }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"b2523fe9-526b-4617-b404-59a0b0e6d0e0\",\"name\":\"Stop and Error\",\"type\":\"n8n-nodes-base.stopAndError\",\"position\":[2220,320],\"parameters\":{\"errorMessage\":\"The time you are trying to create the event is busy\"},\"typeVersion\":1},{\"id\":\"c72026c4-820d-4be0-9bbd-37b9ec6d2bf1\",\"name\":\"create_event\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[2220,160],\"parameters\":{\"end\":\"={{ $('map_data').item.json.endDate }}\",\"start\":\"={{ $('map_data').item.json.startDate }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"additionalFields\":{}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"61f84fdb-768e-4b5f-9df9-21316dfa7678\",\"name\":\"delete_event1\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[2120,-20],\"parameters\":{\"eventId\":\"={{ $('map_data').item.json.eventId }}\",\"options\":{},\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"operation\":\"delete\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"2544e1e6-e620-4794-b1d4-898b2e9722ad\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[2320,-220],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"973dfb96-eeda-45be-bc93-668c9118677f\",\"name\":\"available\",\"type\":\"boolean\",\"value\":\"={{ $json.available }}\"}]}},\"typeVersion\":3.4},{\"id\":\"966dc7bb-b2c8-40b1-95d9-ad10b232d1b2\",\"name\":\"get_event_in_time_gap\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[1860,700],\"parameters\":{\"options\":{},\"timeMax\":\"={{ $('map_data').item.json.endDate }}\",\"timeMin\":\"={{ $('map_data').item.json.startDate }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"operation\":\"getAll\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3,\"alwaysOutputData\":true},{\"id\":\"7010b476-f500-4891-a795-30c75f0f077c\",\"name\":\"update_calendar\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[1860,480],\"parameters\":{\"eventId\":\"={{ $json.eventId }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"your-calendar@gmail.com\",\"cachedResultName\":\"your-calendar@gmail.com\"},\"operation\":\"update\",\"updateFields\":{\"end\":\"={{ $json.endDate }}\",\"start\":\"={{ $json.startDate }}\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"google-api-id\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"933163a6-5597-48da-95de-7067dd55ad84\",\"name\":\"get_events_in_gap_time\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[520,240],\"parameters\":{\"name\":\"get_events_in_gap_time\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"aiKrExd0rAxJO6xi\",\"cachedResultName\":\"MCP_google_calendar\"},\"description\":\"Use this tool to get event data in a gap of time. but if you have just validate the availibity of the time use \\\"validate_busy_time\\\" tool this is tool is to get data\",\"workflowInputs\":{\"value\":{\"endDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\"timeZone\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\"operation\":\"getEventData\",\"startDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"},\"schema\":[{\"id\":\"operation\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"operation\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"startDate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"startDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endDate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"endDate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"eventId\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"eventId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timeZone\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timeZone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"01c9435e-0258-4048-a3ad-cf84424fad6c\",\"name\":\"map_data\",\"type\":\"n8n-nodes-base.set\",\"position\":[1240,220],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={\\n  \\\"operation\\\": \\\"{{ $json.operation }}\\\",\\n  \\\"startDate\\\": \\\"{{ DateTime.fromISO($json.startDate).setZone($json.timeZone).toISO() }}\\\",\\n  \\\"endDate\\\": \\\"{{ DateTime.fromISO($json.endDate).setZone($json.timeZone).toISO() }}\\\",\\n  \\\"eventId\\\": \\\"{{ $json.eventId }}\\\",\\n  \\\"timeZone\\\": \\\"{{ $json.timeZone }}\\\"\\n}\\n\"},\"typeVersion\":3.4},{\"id\":\"0e3a8817-7485-499c-9692-7b920bb34b3f\",\"name\":\"response_data_get_data\",\"type\":\"n8n-nodes-base.set\",\"position\":[2080,700],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={\\n  \\\"isAvailableTime\\\":{{$json.values().length === 0}},\\n\\\"eventData\\\":{\\nid:\\\"{{ $json.id }}\\\"\\n}\\n}\\n\"},\"typeVersion\":3.4}],\"active\":true,\"pinData\":{\"When Executed by Another Workflow\":[{\"json\":{\"endDate\":\"2025-05-17T20:00:00Z\",\"eventId\":null,\"timeZone\":\"America/Argentina/Buenos_Aires\",\"operation\":\"getEventData\",\"startDate\":\"2025-05-17T19:00:00Z\"}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"fbb67adf-7d52-4b42-8b61-a3c01470a1f9\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"create_event\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Stop and Error\",\"type\":\"main\",\"index\":0}]]},\"map_data\":{\"main\":[[{\"node\":\"Operation\",\"type\":\"main\",\"index\":0}]]},\"Operation\":{\"main\":[[{\"node\":\"validate_availability_event\",\"type\":\"main\",\"index\":0}],[{\"node\":\"delete_event1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"check_availability_to_create\",\"type\":\"main\",\"index\":0}],[{\"node\":\"update_calendar\",\"type\":\"main\",\"index\":0}],[{\"node\":\"get_event_in_time_gap\",\"type\":\"main\",\"index\":0}]]},\"delete_event\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"update_event\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"create_new_event\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"validate_busy_time\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"get_event_in_time_gap\":{\"main\":[[{\"node\":\"response_data_get_data\",\"type\":\"main\",\"index\":0}]]},\"get_events_in_gap_time\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"validate_availability_event\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"check_availability_to_create\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"map_data\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Google Calendar MCP – Context-Aware Calendar Operations\n\nThis n8n template implements an **MCP (Model Context Protocol)** -compliant module for managing **Google Calendar** events in a context-aware, conflict-free manner.\n\n### 🧠 What It Does\n\nThis MCP enables structured interaction with Google Calendar based on context and intent, ensuring reliable, reusable operations with awareness of existing data and state.\n\n### ✅ Core Capabilities\n\n  * **Context-aware event creation**  \nPrevents overlapping by validating time availability before creating new events.\n\n  * **Gap validation**  \nChecks if a time range is busy or free, enabling smarter scheduling decisions.\n\n  * **Conditional updates**  \nOnly updates events after confirming their existence and current state.\n\n  * **Safe deletion**  \nRemoves events using MCP principles of validation and traceability.\n\n\n\n\n### 🚀 How to Use\n\nTo use this MCP in your context-aware systems:\n\n  1. Deploy the template in your n8n instance.\n  2. Locate the **Server node** in the workflow — it exposes a **Server-Sent Events (SSE) URL**.\n  3. Copy that SSE URL.\n  4. Use that URL as the entry point for your MCP client or orchestrator.\n\n\n\nThis URL acts as the communication bridge, allowing you to interact with the MCP-compliant Google Calendar logic using standard MCP semantics.![Screenshot 20250517 at 2.00.14 PM.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2025_05_17_at_2_00_14_PM_71e6e23775.png)\n",
  "crawled_at": "2025-05-26T07:22:34.871380",
  "readme_zh": "## Google日历MCP——情境感知的日历操作\n\n该n8n模板实现了一个符合**MCP（模型情境协议）**规范的模块，用于以情境感知、无冲突的方式管理**Google日历**事件。\n\n### 🧠 功能说明\n\n此MCP支持基于情境和意图与Google日历进行结构化交互，确保在感知现有数据和状态的前提下，实现可靠、可复用的操作。\n\n### ✅ 核心能力\n\n  * **情境感知事件创建**  \n通过验证时间可用性来防止创建重叠事件。\n\n  * **间隙验证**  \n检查时间段是否已被占用，实现更智能的日程安排决策。\n\n  * **条件更新**  \n仅在确认事件存在及当前状态后进行更新。\n\n  * **安全删除**  \n遵循MCP的验证与可追溯性原则移除事件。\n\n### 🚀 使用指南\n\n在您的情境感知系统中使用此MCP：\n\n  1. 在n8n实例中部署该模板。\n  2. 定位工作流中的**服务器节点**——它将暴露一个**服务器发送事件（SSE）URL**。\n  3. 复制该SSE URL。\n  4. 将此URL作为MCP客户端或编排器的接入点。\n\n该URL将作为通信桥梁，使您能够使用标准MCP语义与符合MCP规范的Google日历逻辑进行交互。![Screenshot 20250517 at 2.00.14 PM.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2025_05_17_at_2_00_14_PM_71e6e23775.png)",
  "title_zh": "基于MCP协议的上下文感知谷歌日历管理",
  "publish_date_zh": "最后更新于6天前",
  "workflow_json_zh": "{\n  \"id\": \"aiKrExd0rAxJO6xi\",\n  \"meta\": {\n    \"instanceId\": \"f8eaf8bef1c6467fb3687216a5c1296ee5e886fb01cb197574b7f8e91332a8d8\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"MCP_google_calendar\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"17ccfdbf-d121-4ff0-95d4-bb38644d2bb1\",\n      \"name\": \"MCP Server Trigger\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpTrigger\",\n      \"position\": [\n        80,\n        -40\n      ],\n      \"webhookId\": \"c734cf98-3d5a-4cbd-af97-8ad2da760944\",\n      \"parameters\": {\n        \"path\": \"c734cf98-3d5a-4cbd-af97-8ad2da760944\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"174a13be-04f1-417c-8510-26798dae3447\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        1060,\n        220\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"operation\"\n            },\n            {\n              \"name\": \"startDate\"\n            },\n            {\n              \"name\": \"endDate\"\n            },\n            {\n              \"name\": \"eventId\"\n            },\n            {\n              \"name\": \"timeZone\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"f74799f0-67b4-4247-905c-46adb1be4739\",\n      \"name\": \"Operation\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1460,\n        180\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"getEvent\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"81b134bc-d671-4493-b3ad-8df9be3f49a6\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.operation }}\",\n                    \"rightValue\": \"getEvent\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"deleteEvent\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"8d57914f-6587-4fb3-88e0-aa1de6ba56c1\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.operation }}\",\n                    \"rightValue\": \"deleteEvent\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"createEvent\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"7c38f238-213a-46ec-aefe-22e0bcb8dffc\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.operation }}\",\n                    \"rightValue\": \"createEvent\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"updateEvent\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"ee9b6783-a0f2-4848-9166-aba6645c1ebc\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.operation }}\",\n                    \"rightValue\": \"updateEvent\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"getEventData\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"9ea6980d-a7be-4dec-8ddf-d2fcffb00af1\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"getEventData\",\n                    \"rightValue\": \"getEventData\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"b8007362-0d41-4875-872b-877f33b74bf8\",\n      \"name\": \"validate_busy_time\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        -80,\n        240\n      ],\n      \"parameters\": {\n        \"name\": \"validate_busy_time\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"aiKrExd0rAxJO6xi\",\n          \"cachedResultName\": \"MCP_google_calendar\"\n        },\n        \"description\": \"Call this tool to validate if the gap of time is already busy. it is useful to validate before creating a new event\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"endDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\n            \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\n            \"timeZone\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\n            \"operation\": \"=getEvent\",\n            \"startDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"operation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"operation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"startDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"startDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"endDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"eventId\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"eventId\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timeZone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timeZone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"51f39673-4657-401b-b1bf-34e816318acf\",\n      \"name\": \"create_new_event\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        80,\n        240\n      ],\n      \"parameters\": {\n        \"name\": \"create_new_event\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"aiKrExd0rAxJO6xi\",\n          \"cachedResultName\": \"MCP_google_calendar\"\n        },\n        \"description\": \"Use this tool to create a new event; always validate if the gap of time is available before creating a new event \",\n        \"workflowInputs\": {\n          \"value\": {\n            \"endDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\n            \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\n            \"timeZone\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\n            \"operation\": \"createEvent\",\n            \"startDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"operation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"operation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"startDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"startDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"endDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"eventId\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"eventId\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timeZone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timeZone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"3587c022-2f57-4bf6-8066-c292bcab5399\",\n      \"name\": \"delete_event\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        360,\n        240\n      ],\n      \"parameters\": {\n        \"name\": \"delete_event\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"aiKrExd0rAxJO6xi\",\n          \"cachedResultName\": \"MCP_google_calendar\"\n        },\n        \"description\": \"Call this tool to delete a event, to delete a event you need the even id. it is required\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"endDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\n            \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\n            \"timeZone\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\n            \"operation\": \"deleteEvent\",\n            \"startDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"operation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"operation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"startDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"startDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"endDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"eventId\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"eventId\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timeZone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timeZone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"1da9a808-b478-47cd-b129-2a11d83d8735\",\n      \"name\": \"update_event\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        220,\n        240\n      ],\n      \"parameters\": {\n        \"name\": \"update_event\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"aiKrExd0rAxJO6xi\",\n          \"cachedResultName\": \"MCP_google_calendar\"\n        },\n        \"description\": \"Call this tool to update the event name, startDate or endDate. Validate with validate_busy_time before any action\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"endDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\n            \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\n            \"timeZone\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\n            \"operation\": \"updateEvent\",\n            \"startDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"operation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"operation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"startDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"startDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"endDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"eventId\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"eventId\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timeZone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timeZone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"f3105e5b-0dec-44d0-ba5c-5bd91b0887d1\",\n      \"name\": \"validate_availability_event\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        2100,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"timeMax\": \"={{ $json.endDate }}\",\n        \"timeMin\": \"={{ $json.startDate }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"resource\": \"calendar\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"43f2125b-85ea-455d-92ed-b84d0eb4a566\",\n      \"name\": \"check_availability_to_create\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        1780,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"timeMax\": \"={{ $('map_data').item.json.endDate }}\",\n        \"timeMin\": \"={{ $('map_data').item.json.startDate }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"resource\": \"calendar\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"7f2e1fef-79cb-4728-aa63-1afe038598ab\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2000,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"4ee8a84d-c48a-416f-aa31-0633ee59124b\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.available }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"b2523fe9-526b-4617-b404-59a0b0e6d0e0\",\n      \"name\": \"Stop and Error\",\n      \"type\": \"n8n-nodes-base.stopAndError\",\n      \"position\": [\n        2220,\n        320\n      ],\n      \"parameters\": {\n        \"errorMessage\": \"The time you are trying to create the event is busy\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c72026c4-820d-4be0-9bbd-37b9ec6d2bf1\",\n      \"name\": \"create_event\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        2220,\n        160\n      ],\n      \"parameters\": {\n        \"end\": \"={{ $('map_data').item.json.endDate }}\",\n        \"start\": \"={{ $('map_data').item.json.startDate }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"61f84fdb-768e-4b5f-9df9-21316dfa7678\",\n      \"name\": \"delete_event1\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        2120,\n        -20\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ $('map_data').item.json.eventId }}\",\n        \"options\": {},\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"operation\": \"delete\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"2544e1e6-e620-4794-b1d4-898b2e9722ad\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2320,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"973dfb96-eeda-45be-bc93-668c9118677f\",\n              \"name\": \"available\",\n              \"type\": \"boolean\",\n              \"value\": \"={{ $json.available }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"966dc7bb-b2c8-40b1-95d9-ad10b232d1b2\",\n      \"name\": \"get_event_in_time_gap\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        1860,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"timeMax\": \"={{ $('map_data').item.json.endDate }}\",\n        \"timeMin\": \"={{ $('map_data').item.json.startDate }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"7010b476-f500-4891-a795-30c75f0f077c\",\n      \"name\": \"update_calendar\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        1860,\n        480\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ $json.eventId }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"your-calendar@gmail.com\",\n          \"cachedResultName\": \"your-calendar@gmail.com\"\n        },\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"end\": \"={{ $json.endDate }}\",\n          \"start\": \"={{ $json.startDate }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"google-api-id\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"933163a6-5597-48da-95de-7067dd55ad84\",\n      \"name\": \"get_events_in_gap_time\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        520,\n        240\n      ],\n      \"parameters\": {\n        \"name\": \"get_events_in_gap_time\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"aiKrExd0rAxJO6xi\",\n          \"cachedResultName\": \"MCP_google_calendar\"\n        },\n        \"description\": \"Use this tool to get event data in a gap of time. but if you have just validate the availibity of the time use \\\"validate_busy_time\\\" tool this is tool is to get data\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"endDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('endDate', ``, 'string') }}\",\n            \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('eventId', ``, 'string') }}\",\n            \"timeZone\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('timeZone', ``, 'string') }}\",\n            \"operation\": \"getEventData\",\n            \"startDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('startDate', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"operation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"operation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"startDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"startDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"endDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"eventId\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"eventId\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timeZone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timeZone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"01c9435e-0258-4048-a3ad-cf84424fad6c\",\n      \"name\": \"map_data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1240,\n        220\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={\\n  \\\"operation\\\": \\\"{{ $json.operation }}\\\",\\n  \\\"startDate\\\": \\\"{{ DateTime.fromISO($json.startDate).setZone($json.timeZone).toISO() }}\\\",\\n  \\\"endDate\\\": \\\"{{ DateTime.fromISO($json.endDate).setZone($json.timeZone).toISO() }}\\\",\\n  \\\"eventId\\\": \\\"{{ $json.eventId }}\\\",\\n  \\\"timeZone\\\": \\\"{{ $json.timeZone }}\\\"\\n}\\n\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0e3a8817-7485-499c-9692-7b920bb34b3f\",\n      \"name\": \"response_data_get_data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2080,\n        700\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={\\n  \\\"isAvailableTime\\\":{{$json.values().length === 0}},\\n\\\"eventData\\\":{\\nid:\\\"{{ $json.id }}\\\"\\n}\\n}\\n\"\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {\n    \"When Executed by Another Workflow\": [\n      {\n        \"json\": {\n          \"endDate\": \"2025-05-17T20:00:00Z\",\n          \"eventId\": null,\n          \"timeZone\": \"America/Argentina/Buenos_Aires\",\n          \"operation\": \"getEventData\",\n          \"startDate\": \"2025-05-17T19:00:00Z\"\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"fbb67adf-7d52-4b42-8b61-a3c01470a1f9\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"create_event\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Stop and Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"map_data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Operation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Operation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"validate_availability_event\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"delete_event1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"check_availability_to_create\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"update_calendar\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"get_event_in_time_gap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"delete_event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"update_event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"create_new_event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"validate_busy_time\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get_event_in_time_gap\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"response_data_get_data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get_events_in_gap_time\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"validate_availability_event\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check_availability_to_create\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"map_data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}