{
  "url": "https://n8n.io/workflows/3444-redis-locking-for-concurrent-task-handling/",
  "title": "Redis Locking for Concurrent Task Handling",
  "author": "Geoffrey Saxena",
  "publish_date": "Last update 19 days ago",
  "publish_date_absolute": "2025-05-07",
  "categories": [
    {
      "name": "Engineering"
    },
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"id\":\"ffe22db7-06b9-4efe-ab35-758e420dbe57\",\"name\":\"END\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[-2880,540],\"parameters\":{},\"typeVersion\":1},{\"id\":\"9480feb6-e12a-4b59-998e-bdc7b119087a\",\"name\":\"Workflow 1\",\"type\":\"n8n-nodes-base.set\",\"position\":[-2620,-20],\"parameters\":{\"options\":{}},\"typeVersion\":3.4},{\"id\":\"54492842-137b-48d6-851a-1ce6cc751612\",\"name\":\"Workflow 2\",\"type\":\"n8n-nodes-base.set\",\"position\":[-2620,200],\"parameters\":{\"options\":{}},\"typeVersion\":3.4},{\"id\":\"83bbda2c-112b-4ed0-9ccd-c7a5c840100d\",\"name\":\"Workflow 3\",\"type\":\"n8n-nodes-base.set\",\"position\":[-2620,420],\"parameters\":{\"options\":{}},\"typeVersion\":3.4},{\"id\":\"74d889d9-5215-495b-8e60-e1c78d79ae8c\",\"name\":\"Incoming Webhook Data\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-4760,220],\"webhookId\":\"94d08900-4816-4c74-962a-aacff5077d5d\",\"parameters\":{\"path\":\"94d08900-4816-4c74-962a-aacff5077d5d\",\"options\":{}},\"typeVersion\":2},{\"id\":\"cb5e3e72-6678-4efb-8301-f149014444d2\",\"name\":\"Fetch Webhook Data & Declare lockValue\",\"type\":\"n8n-nodes-base.code\",\"position\":[-4520,220],\"parameters\":{\"jsCode\":\"// Parse the Slack payload\\nconst payload = JSON.parse($('Incoming Webhook Data').first().json[\\\"body\\\"][\\\"payload\\\"]);\\n\\n// Extract button action details\\nconst var1 = payload.var1;\\nconst var2 = payload.var2;\\nconst var3 = payload.var3;\\n\\n// Log or return the details\\nreturn {\\n    var1 : var1,\\n    var2: var2,\\n    var3: var3,\\n    lockValue : `${var1}-${var2}-${var3}`\\n};\"},\"typeVersion\":2},{\"id\":\"e118f753-945b-4951-95da-394732fc636c\",\"name\":\"Check Redis Lock\",\"type\":\"n8n-nodes-base.redis\",\"position\":[-4220,220],\"parameters\":{\"key\":\"xyz-lock\",\"options\":{},\"operation\":\"get\",\"propertyName\":\"Element\"},\"credentials\":{\"redis\":{\"id\":\"o0RxOKCtencIaop1\",\"name\":\"Geoffrey Redis\"}},\"typeVersion\":1},{\"id\":\"c1488bae-cb82-48ce-94cd-5359d7d10b04\",\"name\":\"Acquire Redis Lock\",\"type\":\"n8n-nodes-base.redis\",\"position\":[-3520,200],\"parameters\":{\"key\":\"xyz-lock\",\"ttl\":180,\"value\":\"={{ $('Fetch Webhook Data & Declare lockValue').item.json.lookupVariable }}\",\"expire\":true,\"operation\":\"set\"},\"credentials\":{\"redis\":{\"id\":\"o0RxOKCtencIaop1\",\"name\":\"Geoffrey Redis\"}},\"typeVersion\":1},{\"id\":\"0fe5e1d8-f1e4-40e0-a3a4-4c00bbf2b50b\",\"name\":\"redisLock existence boolean\",\"type\":\"n8n-nodes-base.if\",\"position\":[-4020,220],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"905501b4-718c-44fb-b2a5-a8eaf8605511\",\"operator\":{\"type\":\"string\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.Element }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"3c66fab5-2c2a-4bba-8ba1-ed85e57cd42d\",\"name\":\"redisLock acquired booleans\",\"type\":\"n8n-nodes-base.if\",\"position\":[-3800,320],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"6c071e68-a15a-4da8-b962-fe173b1eb145\",\"operator\":{\"type\":\"string\",\"operation\":\"notExists\",\"singleValue\":true},\"leftValue\":\"={{ $json.Element }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"787d1c86-1a66-40ea-b8b6-29f50a48737c\",\"name\":\"Poll for lock\",\"type\":\"n8n-nodes-base.wait\",\"position\":[-3520,420],\"webhookId\":\"615b4c18-2c29-418c-a2bf-302ff24e5c65\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"f5b88169-e97b-4359-890e-969dbdc6d829\",\"name\":\"duplicateWebhook boolean\",\"type\":\"n8n-nodes-base.if\",\"position\":[-3200,420],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"08500e34-cc7f-4005-87bd-f7250dc076fe\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Fetch Webhook Data & Declare lockValue').item.json.lookupVariable }}\",\"rightValue\":\"={{ $input.first().json.Element }}\"}]}},\"typeVersion\":2.2},{\"id\":\"db4e4149-7970-402c-a3d7-2cfe47b6a5b7\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-4760,-120],\"parameters\":{\"color\":6,\"width\":480,\"height\":220,\"content\":\"#### ğŸ”’ This workflow demonstrates Redis-based locking to prevent concurrent execution of workflows.\\n\\n**Steps:**\\n+ Try to acquire a lock via Redis\\n+ If successful, execute workflow\\n+ If duplicate request; ignore request\\n+ Release the lock after completion\"},\"typeVersion\":1},{\"id\":\"879b7ab5-402b-4ea8-977b-64d29cd9bb39\",\"name\":\"Discard Redis Lock\",\"type\":\"n8n-nodes-base.redis\",\"position\":[-2320,200],\"parameters\":{\"key\":\"n8n-rca-lock\",\"operation\":\"delete\"},\"credentials\":{\"redis\":{\"id\":\"o0RxOKCtencIaop1\",\"name\":\"Geoffrey Redis\"}},\"typeVersion\":1},{\"id\":\"494030d6-e731-4f4f-9193-7b46f2d470d0\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-3580,80],\"parameters\":{\"color\":5,\"width\":220,\"height\":80,\"content\":\"Attempts to acquire a lock using Redis by setting a key with expiration.\"},\"typeVersion\":1},{\"id\":\"a643b45e-2067-4c42-8c1c-365b3fea911a\",\"name\":\"Workflow Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[-2880,200],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"1\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"2761039b-e76c-4606-9aaf-48a569942ab7\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"\",\"rightValue\":\"\"}]},\"renameOutput\":true},{\"outputKey\":\"2\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ef07c62f-bd3f-4f54-85b9-9dbf64915f2c\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"\",\"rightValue\":\"\"}]},\"renameOutput\":true},{\"outputKey\":\"3\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"2dfc15de-bf33-4c25-932f-dae16758e2e6\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"\",\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"5531d4c3-158c-4f98-b6fa-9ef9a85eef71\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2940,680],\"parameters\":{\"color\":5,\"height\":80,\"content\":\"Skips execution when duplicate request is received.\"},\"typeVersion\":1},{\"id\":\"0a159f03-3ecc-4010-ab63-cc24df90df31\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2320,100],\"parameters\":{\"color\":5,\"height\":80,\"content\":\"Deletes the Redis lock key to release the lock.\"},\"typeVersion\":1}],\"connections\":{\"Workflow 1\":{\"main\":[[{\"node\":\"Discard Redis Lock\",\"type\":\"main\",\"index\":0}]]},\"Workflow 2\":{\"main\":[[{\"node\":\"Discard Redis Lock\",\"type\":\"main\",\"index\":0}]]},\"Workflow 3\":{\"main\":[[{\"node\":\"Discard Redis Lock\",\"type\":\"main\",\"index\":0}]]},\"Poll for lock\":{\"main\":[[{\"node\":\"duplicateWebhook boolean\",\"type\":\"main\",\"index\":0}]]},\"Workflow Switch\":{\"main\":[[{\"node\":\"Workflow 1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Workflow 2\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Workflow 3\",\"type\":\"main\",\"index\":0}]]},\"Check Redis Lock\":{\"main\":[[{\"node\":\"redisLock existence boolean\",\"type\":\"main\",\"index\":0}]]},\"Acquire Redis Lock\":{\"main\":[[{\"node\":\"Workflow Switch\",\"type\":\"main\",\"index\":0}]]},\"Incoming Webhook Data\":{\"main\":[[{\"node\":\"Fetch Webhook Data & Declare lockValue\",\"type\":\"main\",\"index\":0}]]},\"duplicateWebhook boolean\":{\"main\":[[{\"node\":\"END\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Check Redis Lock\",\"type\":\"main\",\"index\":0}]]},\"redisLock acquired booleans\":{\"main\":[[{\"node\":\"Acquire Redis Lock\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Poll for lock\",\"type\":\"main\",\"index\":0}]]},\"redisLock existence boolean\":{\"main\":[[{\"node\":\"Acquire Redis Lock\",\"type\":\"main\",\"index\":0}],[{\"node\":\"redisLock acquired booleans\",\"type\":\"main\",\"index\":0}]]},\"Fetch Webhook Data & Declare lockValue\":{\"main\":[[{\"node\":\"Check Redis Lock\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## ğŸ‘¤ Who is this for?\n\nThis workflow is great for **n8n users who want to prevent duplicate or overlapping workflow runs**. If you're a developer, DevOps engineer, or automation enthusiast managing tasks like **database updates, syncing tools, or hitting rate-limited APIs** , this oneâ€™s for you.\n\n* * *\n\n## ğŸ§© What problem does this solve?\n\nIn the real world, automations can get triggered at the same timeâ€”whether thatâ€™s because of multiple webhook calls, overlapping schedules, or retries. And when two workflows try to do the same thing at once (like updating a record or syncing data), it can cause **conflicts, data corruption, or wasted API calls**.\n\nThis workflow helps avoid that problem by using **Redis as a lock system** , so **only one instance runs at a time**. Think of it like putting up a â€œğŸš§ Workflow in Progressâ€ sign while your logic is running.\n\n* * *\n\n## âš™ï¸ What this workflow does\n\n  1. When the workflow starts, it tries to **set a Redis key** as a lock with a short expiry.\n  2. If the lock is free: \n     * Your **main business logic runs**.\n     * Once it's done, the lock is cleared.\n  3. If the lock is already taken (i.e., another run is in progress): \n     * The workflow will **wait and retry** a few times.\n  4. If a duplicate request shows up while one is already being processed: \n     * It **skips that duplicate** to avoid unnecessary work.\n\n\n\nYou can customize both the **timeout** and **retry logic** to match your needs.\n\n* * *\n\n## ğŸ› ï¸ Setup guide\n\nTo use this template:\n\n  * Youâ€™ll need access to a **Redis instance** (either self-hosted or managed like Upstash, Redis Cloud, etc).\n  * Set up your Redis credentials in the n8n Redis node.\n  * Swap out the webhook node with your actual trigger or logic.\n  * Adjust the lock timeout to match how long your task typically takes.\n\n\n\n> ğŸ’¡ **Bonus Tip:** Use this pattern wherever you need **idempotency** or want to avoid **duplicate processing**.\n\n* * *\n\n## ğŸ§ª Example use case\n\nLetâ€™s say you have a workflow that **syncs ClickUp tickets to Google Sheets**. It runs daily at 9 AM and updates tickets, adds notes, and makes sure nothing is missed.\n\nBut what if two runs start at the same time? Or someone triggers a manual sync while the scheduled one is still working?\n\nBy wrapping that whole sync inside this **Redis locking template** , you can make sure it **only runs one at a time** , saving your APIs (and your sanity).\n",
  "crawled_at": "2025-05-26T04:30:52.915983",
  "readme_zh": "## ğŸ‘¤ é€‚ç”¨äººç¾¤\n\næœ¬å·¥ä½œæµéå¸¸é€‚åˆ**å¸Œæœ›é¿å…é‡å¤æˆ–é‡å å·¥ä½œæµè¿è¡Œçš„n8nç”¨æˆ·**ã€‚å¦‚æœæ‚¨æ˜¯è´Ÿè´£**æ•°æ®åº“æ›´æ–°ã€å·¥å…·åŒæ­¥æˆ–è°ƒç”¨æœ‰é€Ÿç‡é™åˆ¶çš„API**çš„å¼€å‘è€…ã€DevOpså·¥ç¨‹å¸ˆæˆ–è‡ªåŠ¨åŒ–çˆ±å¥½è€…ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ­£æ˜¯ä¸ºæ‚¨é‡èº«å®šåˆ¶ã€‚\n\n* * *\n\n## ğŸ§© è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\nç°å®åœºæ™¯ä¸­ï¼Œè‡ªåŠ¨åŒ–æµç¨‹å¯èƒ½å› å¤šé‡ç½‘ç»œé’©å­è°ƒç”¨ã€è®¡åˆ’ä»»åŠ¡é‡å æˆ–é‡è¯•æœºåˆ¶è€ŒåŒæ—¶è§¦å‘ã€‚å½“ä¸¤ä¸ªå·¥ä½œæµè¯•å›¾åŒæ—¶æ‰§è¡Œç›¸åŒæ“ä½œï¼ˆå¦‚æ›´æ–°è®°å½•æˆ–åŒæ­¥æ•°æ®ï¼‰æ—¶ï¼Œå¯èƒ½å¯¼è‡´**å†²çªã€æ•°æ®æŸåæˆ–APIè°ƒç”¨æµªè´¹**ã€‚\n\næœ¬æ–¹æ¡ˆé€šè¿‡**Redisåˆ†å¸ƒå¼é”æœºåˆ¶**ç¡®ä¿**åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå®ä¾‹è¿è¡Œ**ï¼Œç›¸å½“äºåœ¨ä¸šåŠ¡é€»è¾‘æ‰§è¡Œæ—¶æŒ‚èµ·\"ğŸš§ å¤„ç†ä¸­\"çš„æ ‡è¯†ç‰Œã€‚\n\n* * *\n\n## âš™ï¸ å·¥ä½œæµæœºåˆ¶\n\n1. å¯åŠ¨æ—¶å°è¯•**è®¾ç½®å¸¦çŸ­æš‚è¿‡æœŸæ—¶é—´çš„Redisé”é”®**\n2. è·å–é”æˆåŠŸæ—¶ï¼š\n   - æ‰§è¡Œ**æ ¸å¿ƒä¸šåŠ¡é€»è¾‘**\n   - å®Œæˆåè‡ªåŠ¨é‡Šæ”¾é”\n3. é”å·²è¢«å ç”¨æ—¶ï¼ˆå³æœ‰å…¶ä»–å®ä¾‹æ­£åœ¨è¿è¡Œï¼‰ï¼š\n   - å·¥ä½œæµå°†**ç­‰å¾…å¹¶è‡ªåŠ¨é‡è¯•**æ•°æ¬¡\n4. æ£€æµ‹åˆ°é‡å¤è¯·æ±‚æ—¶ï¼š\n   - **è·³è¿‡å†—ä½™å¤„ç†**ä»¥é¿å…æ— æ•ˆæ“ä½œ\n\næ”¯æŒè‡ªå®šä¹‰**è¶…æ—¶æ—¶é•¿**ä¸**é‡è¯•ç­–ç•¥**ä»¥é€‚åº”ä¸åŒéœ€æ±‚ã€‚\n\n* * *\n\n## ğŸ› ï¸ é…ç½®æŒ‡å—\n\nä½¿ç”¨æœ¬æ¨¡æ¿éœ€ï¼š\n- å‡†å¤‡**Rediså®ä¾‹**ï¼ˆè‡ªå»ºæˆ–Upstash/Redis Cloudç­‰æ‰˜ç®¡æœåŠ¡ï¼‰\n- åœ¨n8nçš„RedisèŠ‚ç‚¹ä¸­é…ç½®è®¤è¯ä¿¡æ¯\n- å°†ç¤ºä¾‹WebhookèŠ‚ç‚¹æ›¿æ¢ä¸ºå®é™…è§¦å‘å™¨\n- æ ¹æ®ä»»åŠ¡è€—æ—¶è°ƒæ•´é”è¿‡æœŸæ—¶é—´\n\n> ğŸ’¡ **è¿›é˜¶æŠ€å·§**ï¼šè¯¥æ¨¡å¼åŒæ ·é€‚ç”¨äºéœ€è¦**ä¿è¯å¹‚ç­‰æ€§**æˆ–**é¿å…é‡å¤å¤„ç†**çš„åœºæ™¯\n\n* * *\n\n## ğŸ§ª å…¸å‹åº”ç”¨åœºæ™¯\n\nå‡è®¾æ‚¨æœ‰ä¸€ä¸ª**æ¯æ—¥9ç‚¹åŒæ­¥ClickUpä»»åŠ¡åˆ°Googleè¡¨æ ¼**çš„å·¥ä½œæµï¼Œéœ€è¦æ›´æ–°ä»»åŠ¡çŠ¶æ€ã€æ·»åŠ æ³¨é‡Šå¹¶ç¡®ä¿æ•°æ®å®Œæ•´ã€‚\n\nè‹¥å‡ºç°ä»¥ä¸‹æƒ…å†µï¼š\n- å®šæ—¶ä»»åŠ¡é‡å å¯åŠ¨\n- æ‰‹åŠ¨åŒæ­¥ä¸è‡ªåŠ¨è°ƒåº¦åŒæ—¶è§¦å‘\n\né€šè¿‡**Redisé”æ¨¡æ¿**å°è£…åŒæ­¥é€»è¾‘ï¼Œå¯ç¡®ä¿**ä¸²è¡ŒåŒ–æ‰§è¡Œ**ï¼Œæ—¢ä¿æŠ¤APIé…é¢ï¼Œä¹Ÿç»´æŠ¤ç³»ç»Ÿç¨³å®šæ€§ã€‚",
  "title_zh": "Rediså¹¶å‘ä»»åŠ¡å¤„ç†é”æœºåˆ¶",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äº8å¤©å‰",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"ffe22db7-06b9-4efe-ab35-758e420dbe57\",\n      \"name\": \"END\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        -2880,\n        540\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9480feb6-e12a-4b59-998e-bdc7b119087a\",\n      \"name\": \"Workflow 1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -2620,\n        -20\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"54492842-137b-48d6-851a-1ce6cc751612\",\n      \"name\": \"Workflow 2\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -2620,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"83bbda2c-112b-4ed0-9ccd-c7a5c840100d\",\n      \"name\": \"Workflow 3\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -2620,\n        420\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"74d889d9-5215-495b-8e60-e1c78d79ae8c\",\n      \"name\": \"Incoming Webhook Data\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -4760,\n        220\n      ],\n      \"webhookId\": \"94d08900-4816-4c74-962a-aacff5077d5d\",\n      \"parameters\": {\n        \"path\": \"94d08900-4816-4c74-962a-aacff5077d5d\",\n        \"options\": {}\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cb5e3e72-6678-4efb-8301-f149014444d2\",\n      \"name\": \"Fetch Webhook Data & Declare lockValue\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -4520,\n        220\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Parse the Slack payload\\nconst payload = JSON.parse($('Incoming Webhook Data').first().json[\\\"body\\\"][\\\"payload\\\"]);\\n\\n// Extract button action details\\nconst var1 = payload.var1;\\nconst var2 = payload.var2;\\nconst var3 = payload.var3;\\n\\n// Log or return the details\\nreturn {\\n    var1 : var1,\\n    var2: var2,\\n    var3: var3,\\n    lockValue : `${var1}-${var2}-${var3}`\\n};\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"e118f753-945b-4951-95da-394732fc636c\",\n      \"name\": \"Check Redis Lock\",\n      \"type\": \"n8n-nodes-base.redis\",\n      \"position\": [\n        -4220,\n        220\n      ],\n      \"parameters\": {\n        \"key\": \"xyz-lock\",\n        \"options\": {},\n        \"operation\": \"get\",\n        \"propertyName\": \"Element\"\n      },\n      \"credentials\": {\n        \"redis\": {\n          \"id\": \"o0RxOKCtencIaop1\",\n          \"name\": \"Geoffrey Redis\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c1488bae-cb82-48ce-94cd-5359d7d10b04\",\n      \"name\": \"Acquire Redis Lock\",\n      \"type\": \"n8n-nodes-base.redis\",\n      \"position\": [\n        -3520,\n        200\n      ],\n      \"parameters\": {\n        \"key\": \"xyz-lock\",\n        \"ttl\": 180,\n        \"value\": \"={{ $('Fetch Webhook Data & Declare lockValue').item.json.lookupVariable }}\",\n        \"expire\": true,\n        \"operation\": \"set\"\n      },\n      \"credentials\": {\n        \"redis\": {\n          \"id\": \"o0RxOKCtencIaop1\",\n          \"name\": \"Geoffrey Redis\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0fe5e1d8-f1e4-40e0-a3a4-4c00bbf2b50b\",\n      \"name\": \"redisLock existence boolean\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -4020,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"905501b4-718c-44fb-b2a5-a8eaf8605511\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.Element }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"3c66fab5-2c2a-4bba-8ba1-ed85e57cd42d\",\n      \"name\": \"redisLock acquired booleans\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -3800,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"6c071e68-a15a-4da8-b962-fe173b1eb145\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notExists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.Element }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"787d1c86-1a66-40ea-b8b6-29f50a48737c\",\n      \"name\": \"Poll for lock\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        -3520,\n        420\n      ],\n      \"webhookId\": \"615b4c18-2c29-418c-a2bf-302ff24e5c65\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"f5b88169-e97b-4359-890e-969dbdc6d829\",\n      \"name\": \"duplicateWebhook boolean\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -3200,\n        420\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"08500e34-cc7f-4005-87bd-f7250dc076fe\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('Fetch Webhook Data & Declare lockValue').item.json.lookupVariable }}\",\n              \"rightValue\": \"={{ $input.first().json.Element }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"db4e4149-7970-402c-a3d7-2cfe47b6a5b7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -4760,\n        -120\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 480,\n        \"height\": 220,\n        \"content\": \"#### ğŸ”’ è¯¥å·¥ä½œæµæ¼”ç¤ºäº†åŸºäºRedisçš„é”æœºåˆ¶ï¼Œç”¨äºé˜²æ­¢å·¥ä½œæµå¹¶å‘æ‰§è¡Œã€‚\\n\\n**æ­¥éª¤ï¼š**\\n+ å°è¯•é€šè¿‡Redisè·å–é”\\n+ è‹¥æˆåŠŸï¼Œåˆ™æ‰§è¡Œå·¥ä½œæµ\\n+ è‹¥æ£€æµ‹åˆ°é‡å¤è¯·æ±‚ï¼Œåˆ™å¿½ç•¥è¯¥è¯·æ±‚\\n+ å®Œæˆåé‡Šæ”¾é”\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"879b7ab5-402b-4ea8-977b-64d29cd9bb39\",\n      \"name\": \"Discard Redis Lock\",\n      \"type\": \"n8n-nodes-base.redis\",\n      \"position\": [\n        -2320,\n        200\n      ],\n      \"parameters\": {\n        \"key\": \"n8n-rca-lock\",\n        \"operation\": \"delete\"\n      },\n      \"credentials\": {\n        \"redis\": {\n          \"id\": \"o0RxOKCtencIaop1\",\n          \"name\": \"Geoffrey Redis\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"494030d6-e731-4f4f-9193-7b46f2d470d0\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -3580,\n        80\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 220,\n        \"height\": 80,\n        \"content\": \"å°è¯•é€šè¿‡è®¾ç½®å¸¦è¿‡æœŸæ—¶é—´çš„é”®æ¥ä½¿ç”¨Redisè·å–é”ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a643b45e-2067-4c42-8c1c-365b3fea911a\",\n      \"name\": \"Workflow Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -2880,\n        200\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"1\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"2761039b-e76c-4606-9aaf-48a569942ab7\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"2\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"ef07c62f-bd3f-4f54-85b9-9dbf64915f2c\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"3\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"2dfc15de-bf33-4c25-932f-dae16758e2e6\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"5531d4c3-158c-4f98-b6fa-9ef9a85eef71\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2940,\n        680\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 80,\n        \"content\": \"å½“æ”¶åˆ°é‡å¤è¯·æ±‚æ—¶è·³è¿‡æ‰§è¡Œã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0a159f03-3ecc-4010-ab63-cc24df90df31\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2320,\n        100\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 80,\n        \"content\": \"åˆ é™¤Redisé”é”®ä»¥é‡Šæ”¾é”ã€‚\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Workflow 1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Discard Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Workflow 2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Discard Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Workflow 3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Discard Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Poll for lock\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"duplicateWebhook boolean\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Workflow Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Workflow 1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Workflow 2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Workflow 3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Redis Lock\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"redisLock existence boolean\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Acquire Redis Lock\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Workflow Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Incoming Webhook Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Webhook Data & Declare lockValue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"duplicateWebhook boolean\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"END\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Check Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"redisLock acquired booleans\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Acquire Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Poll for lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"redisLock existence boolean\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Acquire Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"redisLock acquired booleans\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Webhook Data & Declare lockValue\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Redis Lock\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}