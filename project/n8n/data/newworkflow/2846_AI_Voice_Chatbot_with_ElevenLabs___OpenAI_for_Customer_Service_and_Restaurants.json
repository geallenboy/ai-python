{
  "url": "https://n8n.io/workflows/2846-ai-voice-chatbot-with-elevenlabs-and-openai-for-customer-service-and-restaurants/",
  "title": "AI Voice Chatbot with ElevenLabs & OpenAI for Customer Service and Restaurants",
  "author": "Davide",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "2025-01-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"ibiHg6umCqvcTF4g\",\"meta\":{\"instanceId\":\"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\"templateCredsSetupCompleted\":true},\"name\":\"Voice RAG Chatbot with ElevenLabs and OpenAI\",\"tags\":[],\"nodes\":[{\"id\":\"5898da57-38b0-4d29-af25-fe029cda7c4a\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-180,800],\"parameters\":{\"text\":\"={{ $json.body.question }}\",\"options\":{},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"81bbedb6-5a07-4977-a68f-2bdc75b17aba\",\"name\":\"Vector Store Tool\",\"type\":\"@n8n/n8n-nodes-langchain.toolVectorStore\",\"position\":[20,1040],\"parameters\":{\"name\":\"company\",\"description\":\"Risponde alle domande relative a ciò che ti viene chiesto\"},\"typeVersion\":1},{\"id\":\"fd021f6c-248d-41f4-a4f9-651e70692327\",\"name\":\"Qdrant Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[-140,1300],\"parameters\":{\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=COLLECTION\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"84aca7bb-4812-498f-b319-88831e4ca412\",\"name\":\"Embeddings OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[-140,1460],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"CDX6QM4gLYanh0P4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"82e430db-2ad7-427d-bcf9-6aa226253d18\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-760,520],\"parameters\":{\"color\":5,\"width\":1400,\"height\":240,\"content\":\"# STEP 4\\n\\n## RAG System\\n\\nClick on \\\"test workflow\\\" on n8n and \\\"Test AI agent\\\" on ElevenLabs. If everything is configured correctly, when you ask a question to the agent, the webhook on n8n is activated with the \\\"question\\\" field in the body filled with the question asked to the voice agent.\\n\\nThe AI ​​Agent will extract the information from the vector database, send it to the model to create the response which will be sent via the response webhook to ElevenLabs which will transform it into voice\"},\"typeVersion\":1},{\"id\":\"6a19e9fa-50fa-4d51-ba41-d03c999e4649\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-780,-880],\"parameters\":{\"color\":3,\"width\":1420,\"height\":360,\"content\":\"# STEP 1\\n\\n## Create an Agent on ElevenLabs \\n- Create an agent on ElevenLabs (eg. test_n8n)\\n- Add \\\"First message\\\" (eg. Hi, Can I help you?)\\n- Add the \\\"System Prompt\\\" message... eg:\\n'You are the waiter of \\\"Pizzeria da Michele\\\" in Verona. If you are asked a question, use the tool \\\"test_chatbot_elevenlabs\\\". When you receive the answer from \\\"test_chatbot_elevenlabs\\\" answer the user clearly and precisely.'\\n- In Tools add a Webhook called eg. \\\"test_chatbot_elevenlabs\\\" and add the following description:\\n'You are the waiter. Answer the questions asked and store them in the question field.'\\n- Add the n8n webhook URL (method POST)\\n- Enable \\\"Body Parameters\\\" and insert in the description \\\"Ask the user the question to ask the place.\\\", then in the \\\"Properties\\\" add a data type string called \\\"question\\\", value type \\\"LLM Prompt\\\" and description \\\"user question\\\"\"},\"typeVersion\":1},{\"id\":\"ec053ee7-3a4a-4697-a08c-5645810d23f0\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-740,-200],\"parameters\":{},\"typeVersion\":1},{\"id\":\"3e71e40c-a5cc-40cf-a159-aeedc97c47d1\",\"name\":\"Create collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-440,-340],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"240283fc-50ec-475c-bd24-e6d0a367c10c\",\"name\":\"Refresh collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-440,-80],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION/points/delete\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"7d10fda0-c6ab-4bf5-b73e-b93a84937eff\",\"name\":\"Get folder\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[-220,-80],\"parameters\":{\"filter\":{\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=test-whatsapp\"}},\"options\":{},\"resource\":\"fileFolder\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"c5761ad2-e66f-4d65-b653-0e89ea017f17\",\"name\":\"Download Files\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[0,-80],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{\"googleFileConversion\":{\"conversion\":{\"docsToFormat\":\"text/plain\"}}},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"1f031a11-8ef3-4392-a7db-9bca00840b8f\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[380,120],\"parameters\":{\"options\":{},\"dataType\":\"binary\"},\"typeVersion\":1},{\"id\":\"7f614392-7bc7-408c-8108-f289a81d5cf6\",\"name\":\"Token Splitter\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\"position\":[360,280],\"parameters\":{\"chunkSize\":300,\"chunkOverlap\":30},\"typeVersion\":1},{\"id\":\"648c5b3d-37a8-4a89-b88c-38e1863f09dc\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,-400],\"parameters\":{\"color\":6,\"width\":880,\"height\":220,\"content\":\"# STEP 2\\n\\n## Create Qdrant Collection\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"a6c50f3c-3c73-464e-9bdc-49de96401c1b\",\"name\":\"Qdrant Vector Store1\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[240,-80],\"parameters\":{\"mode\":\"insert\",\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=COLLECTION\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"7e19ac49-4d90-4258-bd44-7ca4ffa0128a\",\"name\":\"Embeddings OpenAI1\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[220,120],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"CDX6QM4gLYanh0P4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"bfa104a2-1f9c-4200-ae7b-4659894c1e6f\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,-140],\"parameters\":{\"color\":4,\"width\":620,\"height\":400,\"content\":\"# STEP 3\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n## Documents vectorization with Qdrant and Google Drive\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"a148ffcf-335f-455d-8509-d98c711ed740\",\"name\":\"Respond to ElevenLabs\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[380,800],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"5d19f73a-b8e8-4e75-8f67-836180597572\",\"name\":\"OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-300,1040],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"CDX6QM4gLYanh0P4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"802b76e1-3f3e-490c-9e3b-65dc5b28d906\",\"name\":\"Listen\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-700,800],\"webhookId\":\"e9f611eb-a8dd-4520-8d24-9f36deaca528\",\"parameters\":{\"path\":\"test_voice_message_elevenlabs\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"bdc55a38-1d4b-48fe-bbd8-29bf1afd954a\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-140,1040],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"2d5dd8cb-81eb-41bc-af53-b894e69e530c\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[200,1320],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"CDX6QM4gLYanh0P4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"92d04432-1dbb-4d79-9edc-42378aee1c53\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-760,1620],\"parameters\":{\"color\":7,\"width\":1400,\"height\":240,\"content\":\"# STEP 5\\n\\n## Add Widget\\n\\nAdd the widget to your business website by replacing AGENT_ID with the agent id you created on ElevenLabs\\n\\n<elevenlabs-convai agent-id=\\\"AGENT_ID\\\"></elevenlabs-convai><script src=\\\"https://elevenlabs.io/convai-widget/index.js\\\" async type=\\\"text/javascript\\\"></script>\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"6738abfe-e626-488d-a00b-81021cb04aaf\",\"connections\":{\"Listen\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"OpenAI\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"AI Agent\":{\"main\":[[{\"node\":\"Respond to ElevenLabs\",\"type\":\"main\",\"index\":0}]]},\"Get folder\":{\"main\":[[{\"node\":\"Download Files\",\"type\":\"main\",\"index\":0}]]},\"Download Files\":{\"main\":[[{\"node\":\"Qdrant Vector Store1\",\"type\":\"main\",\"index\":0}]]},\"Token Splitter\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"Embeddings OpenAI\":{\"ai_embedding\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Vector Store Tool\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Vector Store Tool\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Embeddings OpenAI1\":{\"ai_embedding\":[[{\"node\":\"Qdrant Vector Store1\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Refresh collection\":{\"main\":[[{\"node\":\"Get folder\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Qdrant Vector Store1\",\"type\":\"ai_document\",\"index\":0}]]},\"Qdrant Vector Store\":{\"ai_vectorStore\":[[{\"node\":\"Vector Store Tool\",\"type\":\"ai_vectorStore\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Create collection\",\"type\":\"main\",\"index\":0},{\"node\":\"Refresh collection\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "The \"Voice RAG Chatbot with ElevenLabs and OpenAI\" workflow in n8n is designed to create an interactive voice-based chatbot system that leverages both text and voice inputs for providing information. Ideal for shops, commercial activities and restaurants\n\n### How it works:\n\nHere's how it operates:\n\n  1. **Webhook Activation** : The process begins when a user interacts with the voice agent set up on ElevenLabs, triggering a webhook in n8n. This webhook sends a question from the user to the AI Agent node.\n  2. **AI Agent Processing** : Upon receiving the query, the AI Agent node processes the input using predefined prompts and tools. It extracts relevant information from the knowledge base stored within the Qdrant vector database.\n  3. **Knowledge Base Retrieval** : The Vector Store Tool node interfaces with the Qdrant Vector Store to retrieve pertinent documents or data segments matching the user’s query.\n  4. **Text Generation** : Using the retrieved information, the OpenAI Chat Model generates a coherent response tailored to the user’s question.\n  5. **Response Delivery** : The generated response is sent back through another webhook to ElevenLabs, where it is converted into speech and delivered audibly to the user.\n  6. **Continuous Interaction** : For ongoing conversations, the Window Buffer Memory ensures context retention by maintaining a history of interactions, enhancing the conversational flow.\n\n\n\n### Set up steps:\n\nTo configure this workflow effectively, follow these detailed setup instructions:\n\n  1. **ElevenLabs Agent Creation** :\n\n     * Begin by creating an agent on ElevenLabs (e.g., named 'test_n8n').\n     * Customize the first message and define the system prompt specific to your use case, such as portraying a character like a waiter at \"Pizzeria da Michele\".\n     * Add a Webhook tool labeled 'test_chatbot_elevenlabs' configured to receive questions via POST requests.\n  2. **Qdrant Collection Initialization** :\n\n     * Utilize the HTTP Request nodes ('Create collection' and 'Refresh collection') to initialize and clear existing collections in Qdrant. Ensure you update placeholders `QDRANTURL` and `COLLECTION` accordingly.\n  3. **Document Vectorization** :\n\n     * Use Google Drive integration to fetch documents from a designated folder. These documents are then downloaded and processed for embedding.\n     * Employ the Embeddings OpenAI node to generate embeddings for the downloaded files before storing them into Qdrant via the Qdrant Vector Store node.\n  4. **AI Agent Configuration** :\n\n     * Define the system prompt for the AI Agent node which guides its behavior and responses based on the nature of queries expected (e.g., product details, troubleshooting tips).\n     * Link necessary models and tools including OpenAI language models and memory buffers to enhance interaction quality.\n  5. **Testing Workflow** :\n\n     * Execute test runs of the entire workflow by clicking 'Test workflow' in n8n alongside initiating tests on the ElevenLabs side to confirm all components interact seamlessly.\n     * Monitor logs and outputs closely during testing phases to ensure accurate data flow between systems.\n  6. **Integration with Website** :\n\n     * Finally, integrate the chatbot widget onto your business website replacing placeholder AGENT_ID with the actual identifier created earlier on ElevenLabs.\n\n\n\nBy adhering to these comprehensive guidelines, users can successfully deploy a sophisticated voice-driven chatbot capable of delivering precise answers utilizing advanced retrieval-augmented generation techniques powered by OpenAI and ElevenLabs technologies.\n",
  "crawled_at": "2025-05-26T02:10:40.047786",
  "readme_zh": "n8n中的“基于ElevenLabs与OpenAI的语音RAG聊天机器人”工作流旨在创建一个结合文本与语音输入的交互式智能应答系统，特别适合商店、商业机构及餐厅场景。\n\n### 运行原理：\n\n系统运作流程如下：\n\n1. **Webhook触发**：用户通过ElevenLabs语音助手发起交互时，将触发n8n的webhook，将用户问题传送至AI代理节点\n2. **AI代理处理**：AI代理节点根据预设指令集处理查询，从Qdrant向量数据库的知识库中提取相关信息\n3. **知识库检索**：向量存储工具节点对接Qdrant数据库，检索与用户问题匹配的文档或数据片段\n4. **文本生成**：OpenAI聊天模型基于检索结果生成符合语境的定制化回答\n5. **语音反馈**：生成文本通过webhook回传至ElevenLabs，转换为语音播报给用户\n6. **持续对话**：窗口缓冲记忆模块保存交互历史，维持对话上下文连贯性\n\n### 配置步骤：\n\n请按以下详细说明进行部署：\n\n1. **创建ElevenLabs代理**：\n   * 在ElevenLabs创建代理（如命名为test_n8n）\n   * 定制欢迎语并设置场景化系统提示（例如扮演\"Pizzeria da Michele\"餐厅服务员）\n   * 添加标注为test_chatbot_elevenlabs的Webhook工具，配置为接收POST请求\n\n2. **初始化Qdrant集合**：\n   * 使用HTTP请求节点（创建集合/刷新集合）初始化Qdrant数据库\n   * 替换QDRANTURL和COLLECTION占位符为实际参数\n\n3. **文档向量化处理**：\n   * 通过Google Drive节点获取指定文件夹文档\n   * 使用OpenAI嵌入节点生成文档向量，经Qdrant向量存储节点入库\n\n4. **AI代理配置**：\n   * 为AI代理节点设置系统提示词，定义应答规则（如商品查询/故障排查）\n   * 连接OpenAI语言模型和记忆缓冲等工具模块\n\n5. **工作流测试**：\n   * 在n8n点击\"测试工作流\"，同步在ElevenLabs端发起测试\n   * 监控系统日志确保各组件数据交互正常\n\n6. **网站集成**：\n   * 将聊天机器人组件部署至企业网站\n   * 替换代码中的AGENT_ID为ElevenLabs生成的实际ID\n\n遵循本指南，您可部署这套采用检索增强生成技术的智能语音助手，结合OpenAI与ElevenLabs的先进能力，实现精准的语音交互服务。",
  "title_zh": "基于ElevenLabs与OpenAI技术的AI语音聊天机器人（适用于客服与餐饮场景）",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\n  \"id\": \"ibiHg6umCqvcTF4g\",\n  \"meta\": {\n    \"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Voice RAG Chatbot with ElevenLabs and OpenAI\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"5898da57-38b0-4d29-af25-fe029cda7c4a\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        -180,\n        800\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.body.question }}\",\n        \"options\": {},\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"81bbedb6-5a07-4977-a68f-2bdc75b17aba\",\n      \"name\": \"Vector Store Tool\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolVectorStore\",\n      \"position\": [\n        20,\n        1040\n      ],\n      \"parameters\": {\n        \"name\": \"company\",\n        \"description\": \"Risponde alle domande relative a ciò che ti viene chiesto\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fd021f6c-248d-41f4-a4f9-651e70692327\",\n      \"name\": \"Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        -140,\n        1300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=COLLECTION\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"84aca7bb-4812-498f-b319-88831e4ca412\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        -140,\n        1460\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"82e430db-2ad7-427d-bcf9-6aa226253d18\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -760,\n        520\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1400,\n        \"height\": 240,\n        \"content\": \"# 步骤四\\n\\n## RAG系统\\n\\n在n8n上点击\\\"测试工作流\\\"，在ElevenLabs上点击\\\"测试AI代理\\\"。如果所有配置正确，当你向代理提问时，n8n上的webhook会被激活，请求体中的\\\"question\\\"字段将包含向语音代理提出的问题。\\n\\nAI代理会从向量数据库中提取信息，发送给模型生成响应，然后通过响应webhook传回ElevenLabs，由后者将其转换为语音。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6a19e9fa-50fa-4d51-ba41-d03c999e4649\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -780,\n        -880\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 1420,\n        \"height\": 360,\n        \"content\": \"# 第一步\\n\\n## 在ElevenLabs创建智能体\\n- 在ElevenLabs平台创建智能体（例如命名为test_n8n）\\n- 设置\\\"首次问候语\\\"（例如：\\\"您好，需要什么帮助？\\\"）\\n- 添加\\\"系统提示\\\"信息，例如：\\n'你是位于维罗纳的\\\"Pizzeria da Michele\\\"餐厅服务员。当被提问时，请使用\\\"test_chatbot_elevenlabs\\\"工具。收到\\\"test_chatbot_elevenlabs\\\"的回复后，请清晰准确地回答用户问题。'\\n\\n## 配置工具\\n- 在工具中添加名为\\\"test_chatbot_elevenlabs\\\"的Webhook，并设置描述：\\n'你作为服务员角色。请回答用户提问并将问题存储在question字段中。'\\n- 填入n8n的Webhook URL（POST方法）\\n- 启用\\\"Body Parameters\\\"参数配置：\\n  - 在描述栏填写\\\"向用户询问需要向场所提出的问题\\\"\\n  - 在\\\"Properties\\\"属性栏添加：\\n    - 数据类型：字符串\\n    - 名称：question\\n    - 值类型：LLM Prompt\\n    - 描述：用户问题\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ec053ee7-3a4a-4697-a08c-5645810d23f0\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -740,\n        -200\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3e71e40c-a5cc-40cf-a159-aeedc97c47d1\",\n      \"name\": \"Create collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -440,\n        -340\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"240283fc-50ec-475c-bd24-e6d0a367c10c\",\n      \"name\": \"Refresh collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -440,\n        -80\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION/points/delete\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7d10fda0-c6ab-4bf5-b73e-b93a84937eff\",\n      \"name\": \"Get folder\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        -220,\n        -80\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"driveId\": {\n            \"__rl\": true,\n            \"mode\": \"list\",\n            \"value\": \"My Drive\",\n            \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n            \"cachedResultName\": \"My Drive\"\n          },\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"id\",\n            \"value\": \"=test-whatsapp\"\n          }\n        },\n        \"options\": {},\n        \"resource\": \"fileFolder\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"c5761ad2-e66f-4d65-b653-0e89ea017f17\",\n      \"name\": \"Download Files\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        0,\n        -80\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {\n          \"googleFileConversion\": {\n            \"conversion\": {\n              \"docsToFormat\": \"text/plain\"\n            }\n          }\n        },\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"1f031a11-8ef3-4392-a7db-9bca00840b8f\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        380,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataType\": \"binary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7f614392-7bc7-408c-8108-f289a81d5cf6\",\n      \"name\": \"Token Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\n      \"position\": [\n        360,\n        280\n      ],\n      \"parameters\": {\n        \"chunkSize\": 300,\n        \"chunkOverlap\": 30\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"648c5b3d-37a8-4a89-b88c-38e1863f09dc\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 880,\n        \"height\": 220,\n        \"content\": \"# 第二步\\n\\n## 创建Qdrant集合\\n需要修改：\\n- QDRANTURL（Qdrant服务地址）\\n- COLLECTION（集合名称）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a6c50f3c-3c73-464e-9bdc-49de96401c1b\",\n      \"name\": \"Qdrant Vector Store1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        240,\n        -80\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=COLLECTION\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7e19ac49-4d90-4258-bd44-7ca4ffa0128a\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        220,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"bfa104a2-1f9c-4200-ae7b-4659894c1e6f\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        -140\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 620,\n        \"height\": 400,\n        \"content\": \"# 步骤三\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a148ffcf-335f-455d-8509-d98c711ed740\",\n      \"name\": \"Respond to ElevenLabs\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        380,\n        800\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"5d19f73a-b8e8-4e75-8f67-836180597572\",\n      \"name\": \"OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -300,\n        1040\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"802b76e1-3f3e-490c-9e3b-65dc5b28d906\",\n      \"name\": \"Listen\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -700,\n        800\n      ],\n      \"webhookId\": \"e9f611eb-a8dd-4520-8d24-9f36deaca528\",\n      \"parameters\": {\n        \"path\": \"test_voice_message_elevenlabs\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"bdc55a38-1d4b-48fe-bbd8-29bf1afd954a\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        -140,\n        1040\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"2d5dd8cb-81eb-41bc-af53-b894e69e530c\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        200,\n        1320\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"92d04432-1dbb-4d79-9edc-42378aee1c53\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -760,\n        1620\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1400,\n        \"height\": 240,\n        \"content\": \"# 步骤五\\n\\n## 添加小组件\\n\\n将以下代码添加到您的商业网站中，并将AGENT_ID替换为您在ElevenLabs创建的智能体ID\\n\\n<elevenlabs-convai agent-id=\\\"AGENT_ID\\\"></elevenlabs-convai><script src=\\\"https://elevenlabs.io/convai-widget/index.js\\\" async type=\\\"text/javascript\\\"></script>\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"6738abfe-e626-488d-a00b-81021cb04aaf\",\n  \"connections\": {\n    \"Listen\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to ElevenLabs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get folder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Token Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Vector Store Tool\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Vector Store Tool\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Refresh collection\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get folder\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Qdrant Vector Store\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"Vector Store Tool\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Refresh collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}