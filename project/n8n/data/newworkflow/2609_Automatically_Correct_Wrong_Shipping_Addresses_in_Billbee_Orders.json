{
  "url": "https://n8n.io/workflows/2609-automatically-correct-wrong-shipping-addresses-in-billbee-orders/",
  "title": "Automatically Correct Wrong Shipping Addresses in Billbee Orders",
  "author": "Simon",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-26",
  "categories": [
    {
      "name": "Sales"
    }
  ],
  "workflow_json": "{\"id\":\"VaU41OXvni95OlAL\",\"meta\":{\"instanceId\":\"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\",\"templateCredsSetupCompleted\":true},\"name\":\"address validation\",\"tags\":[],\"nodes\":[{\"id\":\"c6e389ae-6db2-416b-8f6f-91749fbc860f\",\"name\":\"get order data\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2500,880],\"parameters\":{\"url\":\"=https://api.billbee.io/api/v1/orders/{{ $json.orderID }}\",\"options\":{},\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpBasicAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Billbee-Api-Key\",\"value\":\"={{ $json['X-Billbee-Api-Key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"1b27594b-af74-4c25-bb4f-27550bcd152e\",\"name\":\"Split Out Order Data\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[2660,880],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"Data.ShippingAddress.BillbeeId, Data.ShippingAddress.FirstName, Data.ShippingAddress.LastName, Data.ShippingAddress.Street, Data.ShippingAddress.HouseNumber, Data.ShippingAddress.Zip, Data.ShippingAddress.City, Data.ShippingAddress.CountryISO2, Data.ShippingAddress.Line2, Data.ShippingAddress.NameAddition\"},\"typeVersion\":1},{\"id\":\"43808f6f-815d-419c-9e6f-c12d436108f2\",\"name\":\"Set Address Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[2820,880],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"dbda7791-09eb-4ae9-b1e8-7ce8582a5b4a\",\"name\":\"first_name\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.FirstName'] }}\"},{\"id\":\"1d13d702-b422-48c4-be04-db7869776897\",\"name\":\"family_name\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.LastName'] }}\"},{\"id\":\"9169466f-5639-4b58-80d3-c041ccea5e21\",\"name\":\"Street\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.Street'] }}\"},{\"id\":\"ea20b727-83c0-4c23-94c7-29f4f57eda78\",\"name\":\"housenumber\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.HouseNumber'].replace(\\\"/\\\",\\\"\\\")}}\"},{\"id\":\"81c3ebb0-6975-4b69-93f1-42dba7f2f60b\",\"name\":\"zip\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.Zip'] }}\"},{\"id\":\"2f1a6786-d48b-4475-805e-1db2fef2b5c3\",\"name\":\"location\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.City'] }}\"},{\"id\":\"4b6a4eb2-8867-4d9e-a4fb-32b66f466b58\",\"name\":\"BillbeeID\",\"type\":\"string\",\"value\":\"={{ $('Webhook').item.json.query.Id }}\"},{\"id\":\"814513e9-9e56-4fb8-84bc-fd01456af443\",\"name\":\"BillbeeShippingAddressID\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.BillbeeId'] }}\"},{\"id\":\"bd45c9b8-d9fb-4d3f-be13-d202b8a3430d\",\"name\":\"CountryISO2\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.CountryISO2'] }}\"},{\"id\":\"c8e08606-d860-4482-8b4e-c68fe4c1974f\",\"name\":\"AddressLine2\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.Line2'] }}\"},{\"id\":\"fe1cb8a4-6c21-4505-8337-e31f07386a8c\",\"name\":\"NameAddition\",\"type\":\"string\",\"value\":\"={{ $json['Data.ShippingAddress.NameAddition'] }}\"}]}},\"typeVersion\":3.3},{\"id\":\"3e5f3fc5-d3e2-4f4a-978e-795893e016cc\",\"name\":\"Check Address endereco api\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[4140,760],\"parameters\":{\"url\":\"https://endereco-service.de/rpc/v1\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"jsonrpc\\\": \\\"2.0\\\",\\n  \\\"id\\\": 1,\\n  \\\"method\\\": \\\"addressCheck\\\",\\n  \\\"params\\\": {\\n    \\\"country\\\": \\\"{{ $json['CountryISO2']}}\\\",\\n    \\\"language\\\": \\\"{{ $json[\\\"CountryISO2\\\"] }}\\\",\\n    \\\"postCode\\\": \\\"{{ $json[\\\"zip\\\"] }}\\\",\\n    \\\"cityName\\\": \\\"{{ $json[\\\"location\\\"] }}\\\",\\n    \\\"street\\\": \\\"{{ $json[\\\"Street\\\"] }}\\\",\\n    \\\"houseNumber\\\": \\\"{{ $json[\\\"housenumber\\\"] }}\\\"\\n  }\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Auth-Key\",\"value\":\"={{ $('ConfigNode').item.json['X-Auth-Key-Endereco'] }}\"},{\"name\":\"Content-Type\",\"value\":\"application/json\"},{\"name\":\"X-Transaction-Id\",\"value\":\"not_required\"},{\"name\":\"X-Transaction-Referer\",\"value\":\"n8n\"},{\"name\":\"X-Agent\",\"value\":\"n8n\"}]}},\"typeVersion\":4.2},{\"id\":\"3b02a11e-719b-41ef-b84f-b1e06d83854a\",\"name\":\"Split Out Corrected Address\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[4600,720],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"result.predictions\"},\"typeVersion\":1},{\"id\":\"a3b6135a-6a0e-4c37-95ef-6e33f14c5e74\",\"name\":\"set new delivery address to billbee\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[4920,720],\"parameters\":{\"url\":\"=https://api.billbee.io/api/v1/customers/addresses/{{ $('Set Address Fields').item.json[\\\"BillbeeShippingAddressID\\\"] }}\",\"method\":\"PATCH\",\"options\":{},\"sendBody\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"Housenumber\",\"value\":\"={{ $json.houseNumber }}\"},{\"name\":\"Street\",\"value\":\"={{ $json.street }}\"},{\"name\":\"Zip\",\"value\":\"={{ $json.postCode }}\"},{\"name\":\"City\",\"value\":\"={{ $json.cityName }}\"}]},\"genericAuthType\":\"httpBasicAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Billbee-Api-Key\",\"value\":\"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"b170217c-b2d7-4514-b070-403e29964e4b\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"position\":[2120,960],\"webhookId\":\"0f7b87d2-ec90-4f54-9971-31e564206980\",\"parameters\":{\"amount\":1},\"typeVersion\":1.1},{\"id\":\"17ea8895-05cd-4ffd-af31-aace970f8073\",\"name\":\"Wait1\",\"type\":\"n8n-nodes-base.wait\",\"position\":[4760,720],\"webhookId\":\"b7a0738c-0890-45f5-a435-bc9d9a9062bb\",\"parameters\":{\"amount\":1},\"typeVersion\":1.1},{\"id\":\"d8d005e4-3b94-49d6-82dc-2919ca69dd2f\",\"name\":\"check if new address is not empty\",\"type\":\"n8n-nodes-base.if\",\"position\":[4320,760],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"2a9d055a-4607-4e87-bb6a-ecc1a31826e0\",\"operator\":{\"type\":\"array\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.result.predictions }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"3ad15e79-e4c8-4adf-90a5-aaf61cfe4825\",\"name\":\"set billbee tag\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[4580,920],\"parameters\":{\"url\":\"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"Tags\\\": [\\n    \\\"endereco_address_failed\\\"\\n  ]\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpBasicAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Billbee-Api-Key\",\"value\":\"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"6b0e5cfb-95d5-43a0-a665-6b8db6b6ad98\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2260,820],\"parameters\":{\"color\":4,\"width\":481,\"height\":198,\"content\":\"## Get and Prepare Oder Data\"},\"typeVersion\":1},{\"id\":\"a2524895-b0dd-492b-b425-548ccbabf5c2\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,460],\"parameters\":{\"color\":7,\"width\":1110.4301052736698,\"height\":544.444950562247,\"content\":\"# **Address Validation Workflow**\\n### **Requirements**\\n- **Billbee Developer API Key**: Request via email: `support@billbee.io`.\\n- **Billbee User API Key**: Found in the **Billbee settings**.\\n- **Endereco API Key**: Register at [Endereco API](https://www.endereco.de/en/integrations/address-api/). **30-Day Free Trial available**.\\n## **About**\\nThis workflow automates the process of validating client shipping addresses, saving time and reducing errors. Your **warehouse team** will appreciate it!\\n## **How it Works**\\n1. **Start**: The workflow is triggered by a **Webhook** sent from Billbee (see configuration). The webhook provides the **Order ID**.\\n2. **Retrieve Order Data**: Use the Order ID to call the **Billbee Order Endpoint**. This fetches the client's shipping address.\\n3. **Data Mapping and Manipulation**: Rename and map the fields. Apply optional filters and data adjustments.\\n3.1 **Validating the housenumber** (Most common error)\\n4. **Validate Address**: Send the shipping address to the **Endereco API**. The API validates the address and, if necessary, suggests a corrected address.\\n5. **Conditional Check**: **Was a new address suggested?** **Yes**: Update the client’s shipping address in Billbee. **No**: Add a **\\\"Validation Error\\\"** tag to the Billbee order.\\n6. **Tag the Order**: For successfully validated orders, add a tag in Billbee to mark them as processed.\\n### **Benefits**\\n- **Time-Saving**: Automates address validation, reducing manual effort.\\n- **Error Reduction**: Identifies incorrect addresses and suggests corrections automatically.\\n- **Transparency**: Tracks the validation status with tags in Billbee.\\n\"},\"typeVersion\":1},{\"id\":\"31bb6e73-e702-4577-8b7f-a9850e80cbaf\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1060,1040],\"parameters\":{\"width\":276,\"height\":219,\"content\":\"## API Docs\\n\\nEndereco:\\nhttps://github.com/Endereco/enderecoservice_api\\n\\nBillbee:\\nhttps://app.billbee.io//swagger/ui/index\\n\"},\"typeVersion\":1},{\"id\":\"4bb9d0c1-0838-449b-bb1e-c4912173d9df\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,1040],\"parameters\":{\"color\":5,\"width\":574.5277463210057,\"height\":573.7065374509425,\"content\":\"### Bilbee Setup \\n### **Rule Settings**\\n- **Name of the Rule:** Endereco Address Validation\\n- **Comment:** *No comment provided.*\\n- **Active:** ✅ Active\\n- **Stop Rule Processing After This Rule:** ⬜ Disabled\\n### **Trigger:**\\n- **Event:** Order imported  \\n- **Import Type:** All import types\\n### **Conditions:**\\n- **Restrict Shop:** Rule applies only if the order comes from one of the defined shops.\\n### **Actions:**\\n- **Call External URL:**  \\n  - **URL:** `YOUR_N8N_WEBHOOK_LINK?Id={OrderId}`\\nThis rule ensures that for every imported order from a specific shop, the external webhook URL is triggered with the `OrderId` as a parameter.\\n\\n### Option 2\\n\\nIf order state gets changed to \\\"gepackt\\\", \\\"In Fulfillment\\\" by this you can manually correct the orders within Billbee as most address are fine. Make sure that the State does not trigger a different automation\"},\"typeVersion\":1},{\"id\":\"ad409a55-db7f-4699-9d56-98d7a2164afe\",\"name\":\"check if housenumer is not empty\",\"type\":\"n8n-nodes-base.if\",\"position\":[3260,880],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"5dbd8016-9c70-4cd8-9c7b-22b6779d7ae3\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.housenumber }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"0131cf4e-983b-4cc5-8305-e4a644f9e700\",\"name\":\"check if addressline 2 contains number\",\"type\":\"n8n-nodes-base.if\",\"position\":[3420,980],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"e758c0d9-caf6-40e8-9ceb-cd786e346709\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.AddressLine2.isNumeric() }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"14d67019-a6c2-4ad4-9c0e-383ee3e1f3e9\",\"name\":\"Filter\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1360,1320],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"13c4f784-fb7a-4a61-b106-eb92dbc8f2d0\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"851d9d42-2b50-4a40-8d46-7d3decf897c2\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,1300],\"parameters\":{\"color\":3,\"height\":239.63602562365423,\"content\":\"## Include Filter \\nYou want to filter out PickUp Shops or Parcel Stations for example in Germany:\\n\\n\\\"Postfiliale, Paketshop, Packstation\\\"\\n\\nThis can also be set up within Billbee\"},\"typeVersion\":1},{\"id\":\"a07c7816-bcb6-457d-a621-ccfebcc384ad\",\"name\":\"set value of addressline2 as housenumber\",\"type\":\"n8n-nodes-base.set\",\"position\":[3600,900],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7c21cf08-4ae8-4856-ae2f-0f25053aebde\",\"name\":\"housenumber\",\"type\":\"string\",\"value\":\"={{ $json.AddressLine2 }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"c22fb34a-252f-4570-b576-089bb3243bfd\",\"name\":\"Filter Out PickUpShops\",\"type\":\"n8n-nodes-base.filter\",\"position\":[3040,880],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"b6bf1576-9082-446b-9072-13130bf7d724\",\"operator\":{\"type\":\"string\",\"operation\":\"notContains\"},\"leftValue\":\"={{ $json.Street }}\",\"rightValue\":\"Postfiliale\"},{\"id\":\"f7e18eb3-a3df-49df-adb4-d9c807963478\",\"operator\":{\"type\":\"string\",\"operation\":\"notContains\"},\"leftValue\":\"={{ $json.Street }}\",\"rightValue\":\"Packstation\"},{\"id\":\"51c548d1-1eed-4caf-b32c-402b8ce73042\",\"operator\":{\"type\":\"string\",\"operation\":\"notContains\"},\"leftValue\":\"={{ $json.Street }}\",\"rightValue\":\"Paketshop\"}]}},\"typeVersion\":2.2},{\"id\":\"b2b3c72a-d3d0-467f-8f60-17f40c7a3650\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[3020,820],\"parameters\":{\"color\":3,\"width\":155.04025478630723,\"height\":185.20127393153615,\"content\":\"## Open ME!\"},\"typeVersion\":1},{\"id\":\"ea2e9abf-1461-4754-b663-83e771207627\",\"name\":\"check if addressline 2 contains number and letter\",\"type\":\"n8n-nodes-base.if\",\"position\":[3560,1080],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"c82c2273-b34c-42e1-871d-31db72d2ad49\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json[\\\"AddressLine2\\\"].match(/^(?=.*\\\\d)(?=.*[A-Za-z]).+$/) !== null }}\\n\",\"rightValue\":\"\"}]},\"looseTypeValidation\":true},\"typeVersion\":2.2},{\"id\":\"b532b22f-421e-4bd8-8241-ca559e77c3ca\",\"name\":\"set billbee tag manual check\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[3780,1200],\"parameters\":{\"url\":\"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"Tags\\\": [\\n    \\\"manual_address_check\\\"\\n  ]\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpBasicAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Billbee-Api-Key\",\"value\":\"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"bdb10514-2fa7-4727-a8e7-aa8394fced6f\",\"name\":\"set value of addressline2 as housenumber number+letter\",\"type\":\"n8n-nodes-base.set\",\"position\":[3760,1020],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7c21cf08-4ae8-4856-ae2f-0f25053aebde\",\"name\":\"housenumber\",\"type\":\"string\",\"value\":\"={{ $json.AddressLine2 }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"cf0a516f-f019-40f8-8d09-ff02a034781d\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[3000,760],\"parameters\":{\"color\":5,\"width\":907.6568579769853,\"height\":627.257034553087,\"content\":\"## House Number Validation\"},\"typeVersion\":1},{\"id\":\"82a16bec-77e9-4717-8111-69f8f068c925\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[4040,700],\"parameters\":{\"color\":4,\"width\":1325.4150814203485,\"height\":354.5727675883748,\"content\":\"## Address Validation & Correction\"},\"typeVersion\":1},{\"id\":\"07f54a0d-2b13-4996-95a4-4c225402abe1\",\"name\":\"set billbee success\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[5080,720],\"parameters\":{\"url\":\"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"Tags\\\": [\\n    \\\"endereco_address_validated\\\"\\n  ]\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpBasicAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Billbee-Api-Key\",\"value\":\"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"bd2f3340-f389-48e1-a90d-1625b6845556\",\"name\":\"ConfigNode\",\"type\":\"n8n-nodes-base.set\",\"position\":[1860,960],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"c4d1415a-636b-4673-bba5-699168af2b2e\",\"name\":\"X-Billbee-Api-Key\",\"type\":\"string\",\"value\":\"INSERT BILLBEE DEVELOPER API KEY\"},{\"id\":\"69c630d7-d64c-49be-a594-88b05d44a091\",\"name\":\"X-Auth-Key-Endereco\",\"type\":\"string\",\"value\":\"INSERT ENDERECO API KEY\"},{\"id\":\"75977810-a10a-45ea-b536-d4b8f0f59b15\",\"name\":\"orderID\",\"type\":\"string\",\"value\":\"={{ $json.query.Id }}\"}]}},\"typeVersion\":3.4},{\"id\":\"7619e573-116a-4f87-b6d2-b652ee7a25b7\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1800,1120],\"parameters\":{\"color\":3,\"height\":251.61012258936577,\"content\":\"### **Setup**\\n\\n**Create an Basic Auth for BillbeeUser**\\n-E-Mail as Username, Password User API Key\\n\\nPaste your Billbee Developer Key (X Key) and Endereco API Key\\n\\n\"},\"typeVersion\":1},{\"id\":\"31c17f6e-0e90-4db1-9048-4b13bd36cc90\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2500,1100],\"parameters\":{\"color\":3,\"width\":150,\"height\":135.6842625042993,\"content\":\"### **Setup**\\n\\nSelect your BillbeeUser Basic Auth \\n\\n\"},\"typeVersion\":1},{\"id\":\"ca1e1a8b-6107-4e0c-81c4-2a3b715aed11\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[1640,960],\"webhookId\":\"786e8a93-9837-44e6-81ae-a173ce25a14f\",\"parameters\":{\"path\":\"786e8a93-9837-44e6-81ae-a173ce25a14f\",\"options\":{}},\"typeVersion\":2}],\"active\":false,\"pinData\":{\"Webhook\":[{\"json\":{\"body\":{},\"query\":{\"Id\":\"300000221273261\"},\"params\":{},\"headers\":{\"host\":\"sfx-ecommerce.app.n8n.cloud\",\"x-real-ip\":\"49.12.91.132\",\"tracestate\":\"dd=s:-1\",\"traceparent\":\"00-00000000000000004c0234c4a8ce641b-3f1af42f856c7eb3-00\",\"accept-encoding\":\"gzip\",\"x-forwarded-for\":\"49.12.91.132\",\"x-forwarded-host\":\"sfx-ecommerce.app.n8n.cloud\",\"x-forwarded-port\":\"443\",\"x-forwarded-proto\":\"https\",\"x-datadog-trace-id\":\"5476998116086277147\",\"x-forwarded-server\":\"traefik-78bdf4fd45-vvczp\",\"x-datadog-parent-id\":\"4547215258723057331\",\"x-datadog-sampling-priority\":\"-1\"},\"webhookUrl\":\"https://sfx-ecommerce.app.n8n.cloud/webhook/786e8a93-9837-44e6-81ae-a173ce25a14f\",\"executionMode\":\"production\"}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"1f498c7a-468a-48c4-b044-64455eb51aa2\",\"connections\":{\"Wait\":{\"main\":[[{\"node\":\"get order data\",\"type\":\"main\",\"index\":0}]]},\"Wait1\":{\"main\":[[{\"node\":\"set new delivery address to billbee\",\"type\":\"main\",\"index\":0}]]},\"Webhook\":{\"main\":[[{\"node\":\"ConfigNode\",\"type\":\"main\",\"index\":0}]]},\"ConfigNode\":{\"main\":[[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"get order data\":{\"main\":[[{\"node\":\"Split Out Order Data\",\"type\":\"main\",\"index\":0}]]},\"Set Address Fields\":{\"main\":[[{\"node\":\"Filter Out PickUpShops\",\"type\":\"main\",\"index\":0}]]},\"Split Out Order Data\":{\"main\":[[{\"node\":\"Set Address Fields\",\"type\":\"main\",\"index\":0}]]},\"Filter Out PickUpShops\":{\"main\":[[{\"node\":\"check if housenumer is not empty\",\"type\":\"main\",\"index\":0}]]},\"Check Address endereco api\":{\"main\":[[{\"node\":\"check if new address is not empty\",\"type\":\"main\",\"index\":0}]]},\"Split Out Corrected Address\":{\"main\":[[{\"node\":\"Wait1\",\"type\":\"main\",\"index\":0}]]},\"check if housenumer is not empty\":{\"main\":[[{\"node\":\"Check Address endereco api\",\"type\":\"main\",\"index\":0}],[{\"node\":\"check if addressline 2 contains number\",\"type\":\"main\",\"index\":0}]]},\"check if new address is not empty\":{\"main\":[[{\"node\":\"Split Out Corrected Address\",\"type\":\"main\",\"index\":0}],[{\"node\":\"set billbee tag\",\"type\":\"main\",\"index\":0}]]},\"set new delivery address to billbee\":{\"main\":[[{\"node\":\"set billbee success\",\"type\":\"main\",\"index\":0}]]},\"check if addressline 2 contains number\":{\"main\":[[{\"node\":\"set value of addressline2 as housenumber\",\"type\":\"main\",\"index\":0}],[{\"node\":\"check if addressline 2 contains number and letter\",\"type\":\"main\",\"index\":0}]]},\"set value of addressline2 as housenumber\":{\"main\":[[{\"node\":\"Check Address endereco api\",\"type\":\"main\",\"index\":0}]]},\"check if addressline 2 contains number and letter\":{\"main\":[[{\"node\":\"set value of addressline2 as housenumber number+letter\",\"type\":\"main\",\"index\":0}],[{\"node\":\"set billbee tag manual check\",\"type\":\"main\",\"index\":0}]]},\"set value of addressline2 as housenumber number+letter\":{\"main\":[[{\"node\":\"Check Address endereco api\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# **Address Validation Workflow**\n\n## **About**\n\nThis workflow automates the process of validating and correcting client shipping addresses in Billbee, ensuring accurate delivery information. It's ideal for e-commerce businesses looking to save time and reduce errors in their order fulfillment process. The workflow uses Billbee, an order management platform for small to medium-sized online retailers, and the Endereco API for address validation.\n\n## **Who Is This For?**\n\n  * **E-Commerce Businesses** : Streamline order fulfillment by automatically correcting common shipping address errors.\n  * **Warehouse Teams** : Reduce manual work and ensure packages are shipped to the correct address.\n  * **Small to Medium-Sized Retailers** : Businesses using Billbee to manage orders and requiring efficient, automated solutions for address validation.\n\n\n\n## **How it Works**\n\n  1. **Trigger** : Workflow starts via a Billbee Webhook when an order is imported.\n  2. **Fetch Data** : Retrieve the client's shipping address using the Order ID.\n  3. **Validate Address** : Send the address to the Endereco API for validation and correction (e.g., house number errors).\n  4. **Conditional Actions** : \n     * **Valid Address** : Update the address in Billbee.\n     * **Invalid Address** : Tag the order with \"Validation Error.\"\n  5. **Track Status** : Add tags in Billbee for processed orders.\n\n\n\n## **Setup Steps**\n\n  1. **API Keys** : Obtain Billbee Developer/User API Keys and Endereco API Key.\n  2. **Billbee Rule** : Create an automation rule: \n     * **Trigger** : Order imported.\n     * **Action** : Call External URL with `OrderId` to trigger n8n workflow.\n  3. **Optional** : Use a secondary trigger (e.g., order state changes to \"gepackt\") for manual corrections.\n\n\n\n## **Customization Options**\n\n  1. **Filter Delivery Addresses** :\n\n     * Customize filters to exclude specific delivery types, such as pickup shops (\"Postfiliale,\" \"Paketshop,\" or \"Packstation\").\n     * Filters can be adjusted within Billbee or in the workflow.\n  2. **Error Handling** :\n\n     * Configure additional actions for orders that fail validation, such as notifying your team or flagging orders for manual review.\n  3. **Order Tags** :\n\n     * Define custom tags in Billbee to better track order statuses (e.g., \"Address Corrected,\" \"Validation Error\").\n  4. **Trigger Types** :\n\n     * Use additional triggers such as changes to order states (e.g., \"gepackt\" or \"In Fulfillment\") for manual corrections or validations.\n  5. **Address Fields** :\n\n     * Modify the workflow to focus on specific address components, such as postal codes, city names, or country codes.\n  6. **Validation Rules** :\n\n     * Adjust Endereco API settings or add custom logic to refine validation criteria based on your business needs.\n\n\n\n### **API Documentation**\n\n  * **Endereco** : [Endereco API Docs](https://github.com/Endereco/enderecoservice_api)\n  * **Billbee** : [Billbee API Docs](https://app.billbee.io//swagger/ui/index)\n\n\n",
  "crawled_at": "2025-05-26T00:28:28.198941",
  "readme_zh": "# **地址验证工作流**\n\n## **概述**\n\n本工作流自动化验证并修正Billbee系统中客户配送地址的过程，确保交付信息准确无误。特别适合希望通过自动化节省时间并减少订单处理错误的电子商务企业。该工作流整合了中小型在线零售商订单管理平台Billbee与Endereco地址验证API。\n\n## **适用对象**\n\n  * **电商企业**：通过自动修正常见配送地址错误，优化订单履约流程\n  * **仓储团队**：减少人工操作，确保包裹准确投递\n  * **中小零售商**：使用Billbee管理订单，且需要高效自动化地址验证解决方案的企业\n\n## **运作原理**\n\n  1. **触发机制**：通过Billbee Webhook在订单导入时启动工作流\n  2. **数据获取**：根据订单ID提取客户配送地址\n  3. **地址验证**：将地址发送至Endereco API进行校验与修正（如门牌号错误等）\n  4. **条件判断**：\n     * **有效地址**：在Billbee中更新地址\n     * **无效地址**：为订单添加\"验证错误\"标签\n  5. **状态追踪**：在Billbee中对已处理订单添加标记\n\n## **配置步骤**\n\n  1. **API密钥**：获取Billbee开发者/用户API密钥及Endereco API密钥\n  2. **Billbee规则**：创建自动化规则：\n     * **触发条件**：订单导入\n     * **执行动作**：调用包含`OrderId`的外部URL触发n8n工作流\n  3. **可选配置**：设置二级触发器（如订单状态变更为\"已打包\"）用于人工修正\n\n## **自定义选项**\n\n  1. **配送地址筛选**：\n     * 可配置过滤器排除特定配送类型（如自提点\"Postfiliale\"、\"Paketshop\"或\"Packstation\"）\n     * 筛选条件可在Billbee或工作流中调整\n  2. **错误处理**：\n     * 为验证失败的订单配置额外操作（如通知团队或标记为人工审核）\n  3. **订单标签**：\n     * 在Billbee中定义自定义标签（如\"地址已修正\"、\"验证错误\"）以追踪状态\n  4. **触发类型**：\n     * 使用订单状态变更（如\"已打包\"或\"履约中\"）作为手动校验的触发条件\n  5. **地址字段**：\n     * 可调整工作流专注校验特定地址组件（邮编/城市名/国家代码等）\n  6. **验证规则**：\n     * 根据业务需求调整Endereco API设置或添加自定义校验逻辑\n\n### **API文档**\n\n  * **Endereco**：[Endereco API文档](https://github.com/Endereco/enderecoservice_api)\n  * **Billbee**：[Billbee API文档](https://app.billbee.io//swagger/ui/index)",
  "title_zh": "自动修正Billbee订单中的错误送货地址",
  "publish_date_zh": "最后更新于5个月前",
  "workflow_json_zh": "{\n  \"id\": \"VaU41OXvni95OlAL\",\n  \"meta\": {\n    \"instanceId\": \"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"address validation\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"c6e389ae-6db2-416b-8f6f-91749fbc860f\",\n      \"name\": \"get order data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2500,\n        880\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.billbee.io/api/v1/orders/{{ $json.orderID }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpBasicAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Billbee-Api-Key\",\n              \"value\": \"={{ $json['X-Billbee-Api-Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"1b27594b-af74-4c25-bb4f-27550bcd152e\",\n      \"name\": \"Split Out Order Data\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        2660,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"Data.ShippingAddress.BillbeeId, Data.ShippingAddress.FirstName, Data.ShippingAddress.LastName, Data.ShippingAddress.Street, Data.ShippingAddress.HouseNumber, Data.ShippingAddress.Zip, Data.ShippingAddress.City, Data.ShippingAddress.CountryISO2, Data.ShippingAddress.Line2, Data.ShippingAddress.NameAddition\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"43808f6f-815d-419c-9e6f-c12d436108f2\",\n      \"name\": \"Set Address Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2820,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"dbda7791-09eb-4ae9-b1e8-7ce8582a5b4a\",\n              \"name\": \"first_name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.FirstName'] }}\"\n            },\n            {\n              \"id\": \"1d13d702-b422-48c4-be04-db7869776897\",\n              \"name\": \"family_name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.LastName'] }}\"\n            },\n            {\n              \"id\": \"9169466f-5639-4b58-80d3-c041ccea5e21\",\n              \"name\": \"Street\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.Street'] }}\"\n            },\n            {\n              \"id\": \"ea20b727-83c0-4c23-94c7-29f4f57eda78\",\n              \"name\": \"housenumber\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.HouseNumber'].replace(\\\"/\\\",\\\"\\\")}}\"\n            },\n            {\n              \"id\": \"81c3ebb0-6975-4b69-93f1-42dba7f2f60b\",\n              \"name\": \"zip\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.Zip'] }}\"\n            },\n            {\n              \"id\": \"2f1a6786-d48b-4475-805e-1db2fef2b5c3\",\n              \"name\": \"location\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.City'] }}\"\n            },\n            {\n              \"id\": \"4b6a4eb2-8867-4d9e-a4fb-32b66f466b58\",\n              \"name\": \"BillbeeID\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Webhook').item.json.query.Id }}\"\n            },\n            {\n              \"id\": \"814513e9-9e56-4fb8-84bc-fd01456af443\",\n              \"name\": \"BillbeeShippingAddressID\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.BillbeeId'] }}\"\n            },\n            {\n              \"id\": \"bd45c9b8-d9fb-4d3f-be13-d202b8a3430d\",\n              \"name\": \"CountryISO2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.CountryISO2'] }}\"\n            },\n            {\n              \"id\": \"c8e08606-d860-4482-8b4e-c68fe4c1974f\",\n              \"name\": \"AddressLine2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.Line2'] }}\"\n            },\n            {\n              \"id\": \"fe1cb8a4-6c21-4505-8337-e31f07386a8c\",\n              \"name\": \"NameAddition\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Data.ShippingAddress.NameAddition'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"3e5f3fc5-d3e2-4f4a-978e-795893e016cc\",\n      \"name\": \"Check Address endereco api\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        4140,\n        760\n      ],\n      \"parameters\": {\n        \"url\": \"https://endereco-service.de/rpc/v1\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"jsonrpc\\\": \\\"2.0\\\",\\n  \\\"id\\\": 1,\\n  \\\"method\\\": \\\"addressCheck\\\",\\n  \\\"params\\\": {\\n    \\\"country\\\": \\\"{{ $json['CountryISO2']}}\\\",\\n    \\\"language\\\": \\\"{{ $json[\\\"CountryISO2\\\"] }}\\\",\\n    \\\"postCode\\\": \\\"{{ $json[\\\"zip\\\"] }}\\\",\\n    \\\"cityName\\\": \\\"{{ $json[\\\"location\\\"] }}\\\",\\n    \\\"street\\\": \\\"{{ $json[\\\"Street\\\"] }}\\\",\\n    \\\"houseNumber\\\": \\\"{{ $json[\\\"housenumber\\\"] }}\\\"\\n  }\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Auth-Key\",\n              \"value\": \"={{ $('ConfigNode').item.json['X-Auth-Key-Endereco'] }}\"\n            },\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Transaction-Id\",\n              \"value\": \"not_required\"\n            },\n            {\n              \"name\": \"X-Transaction-Referer\",\n              \"value\": \"n8n\"\n            },\n            {\n              \"name\": \"X-Agent\",\n              \"value\": \"n8n\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3b02a11e-719b-41ef-b84f-b1e06d83854a\",\n      \"name\": \"Split Out Corrected Address\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        4600,\n        720\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"result.predictions\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a3b6135a-6a0e-4c37-95ef-6e33f14c5e74\",\n      \"name\": \"set new delivery address to billbee\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        4920,\n        720\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.billbee.io/api/v1/customers/addresses/{{ $('Set Address Fields').item.json[\\\"BillbeeShippingAddressID\\\"] }}\",\n        \"method\": \"PATCH\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Housenumber\",\n              \"value\": \"={{ $json.houseNumber }}\"\n            },\n            {\n              \"name\": \"Street\",\n              \"value\": \"={{ $json.street }}\"\n            },\n            {\n              \"name\": \"Zip\",\n              \"value\": \"={{ $json.postCode }}\"\n            },\n            {\n              \"name\": \"City\",\n              \"value\": \"={{ $json.cityName }}\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpBasicAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Billbee-Api-Key\",\n              \"value\": \"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"b170217c-b2d7-4514-b070-403e29964e4b\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        2120,\n        960\n      ],\n      \"webhookId\": \"0f7b87d2-ec90-4f54-9971-31e564206980\",\n      \"parameters\": {\n        \"amount\": 1\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"17ea8895-05cd-4ffd-af31-aace970f8073\",\n      \"name\": \"Wait1\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        4760,\n        720\n      ],\n      \"webhookId\": \"b7a0738c-0890-45f5-a435-bc9d9a9062bb\",\n      \"parameters\": {\n        \"amount\": 1\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"d8d005e4-3b94-49d6-82dc-2919ca69dd2f\",\n      \"name\": \"check if new address is not empty\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        4320,\n        760\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"2a9d055a-4607-4e87-bb6a-ecc1a31826e0\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.result.predictions }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"3ad15e79-e4c8-4adf-90a5-aaf61cfe4825\",\n      \"name\": \"set billbee tag\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        4580,\n        920\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"Tags\\\": [\\n    \\\"endereco_address_failed\\\"\\n  ]\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpBasicAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Billbee-Api-Key\",\n              \"value\": \"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"6b0e5cfb-95d5-43a0-a665-6b8db6b6ad98\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2260,\n        820\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 481,\n        \"height\": 198,\n        \"content\": \"## 获取并准备订单数据\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a2524895-b0dd-492b-b425-548ccbabf5c2\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        460\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1110.4301052736698,\n        \"height\": 544.444950562247,\n        \"content\": \"# **地址验证工作流程**\\n### **需求条件**\\n- **Billbee开发者API密钥**：通过邮件申请：`support@billbee.io`。\\n- **Billbee用户API密钥**：可在**Billbee设置**中找到。\\n- **Endereco API密钥**：在[Endereco API](https://www.endereco.de/en/integrations/address-api/)注册。**提供30天免费试用**。\\n## **概述**\\n该工作流程自动化验证客户配送地址的过程，节省时间并减少错误。您的**仓库团队**将会对此赞不绝口！\\n## **工作原理**\\n1. **启动**：工作流程由Billbee发送的**Webhook**触发（参见配置）。该Webhook提供**订单ID**。\\n2. **获取订单数据**：使用订单ID调用**Billbee订单端点**，获取客户的配送地址。\\n3. **数据映射与处理**：重命名并映射字段。应用可选筛选器和数据调整。\\n   3.1 **验证门牌号**（最常见的错误）\\n4. **验证地址**：将配送地址发送至**Endereco API**。该API验证地址并在必要时建议修正后的地址。\\n5. **条件检查**：**是否有新地址建议？** **是**：在Billbee中更新客户的配送地址。**否**：在Billbee订单中添加**“验证错误”**标签。\\n6. **标记订单**：对于成功验证的订单，在Billbee中添加标签以标记为已处理。\\n### **优势**\\n- **节省时间**：自动化地址验证，减少人工操作。\\n- **减少错误**：自动识别错误地址并提供修正建议。\\n- **透明性**：通过Billbee中的标签跟踪验证状态。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"31bb6e73-e702-4577-8b7f-a9850e80cbaf\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1060,\n        1040\n      ],\n      \"parameters\": {\n        \"width\": 276,\n        \"height\": 219,\n        \"content\": \"## API 文档\\n\\nEndereco:\\nhttps://github.com/Endereco/enderecoservice_api\\n\\nBillbee:\\nhttps://app.billbee.io//swagger/ui/index\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4bb9d0c1-0838-449b-bb1e-c4912173d9df\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        1040\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 574.5277463210057,\n        \"height\": 573.7065374509425,\n        \"content\": \"### Bilbee 设置  \\n### **规则设置**  \\n- **规则名称:** Endereco地址验证  \\n- **备注:** *未提供备注*  \\n- **启用状态:** ✅ 启用  \\n- **执行后终止规则处理:** ⬜ 禁用  \\n\\n### **触发条件:**  \\n- **事件:** 订单导入  \\n- **导入类型:** 所有导入类型  \\n\\n### **适用条件:**  \\n- **店铺限制:** 仅当订单来自指定店铺时生效  \\n\\n### **执行动作:**  \\n- **调用外部URL:**  \\n  - **URL:** `YOUR_N8N_WEBHOOK_LINK?Id={OrderId}`  \\n该规则确保每次从指定店铺导入订单时，都会触发外部Webhook链接，并将`OrderId`作为参数传递。  \\n\\n### 选项二  \\n\\n若订单状态被手动更改为\\\"已打包\\\"或\\\"处理中\\\"，您可在Billbee内直接修正订单（多数地址无误）。请确保该状态变更不会触发其他自动化流程。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ad409a55-db7f-4699-9d56-98d7a2164afe\",\n      \"name\": \"check if housenumer is not empty\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        3260,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"5dbd8016-9c70-4cd8-9c7b-22b6779d7ae3\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.housenumber }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0131cf4e-983b-4cc5-8305-e4a644f9e700\",\n      \"name\": \"check if addressline 2 contains number\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        3420,\n        980\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"e758c0d9-caf6-40e8-9ceb-cd786e346709\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.AddressLine2.isNumeric() }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"14d67019-a6c2-4ad4-9c0e-383ee3e1f3e9\",\n      \"name\": \"Filter\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1360,\n        1320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"13c4f784-fb7a-4a61-b106-eb92dbc8f2d0\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"851d9d42-2b50-4a40-8d46-7d3decf897c2\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        1300\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"height\": 239.63602562365423,\n        \"content\": \"## 包含筛选器  \\n例如，在德国您希望筛选掉自提点或包裹站：  \\n\\n\\\"邮局代理点、包裹商店、自助包裹站\\\"  \\n\\n该功能同样可在Billbee中设置。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a07c7816-bcb6-457d-a621-ccfebcc384ad\",\n      \"name\": \"set value of addressline2 as housenumber\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        3600,\n        900\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7c21cf08-4ae8-4856-ae2f-0f25053aebde\",\n              \"name\": \"housenumber\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.AddressLine2 }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"c22fb34a-252f-4570-b576-089bb3243bfd\",\n      \"name\": \"Filter Out PickUpShops\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        3040,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"b6bf1576-9082-446b-9072-13130bf7d724\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.Street }}\",\n              \"rightValue\": \"Postfiliale\"\n            },\n            {\n              \"id\": \"f7e18eb3-a3df-49df-adb4-d9c807963478\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.Street }}\",\n              \"rightValue\": \"Packstation\"\n            },\n            {\n              \"id\": \"51c548d1-1eed-4caf-b32c-402b8ce73042\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.Street }}\",\n              \"rightValue\": \"Paketshop\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"b2b3c72a-d3d0-467f-8f60-17f40c7a3650\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        3020,\n        820\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 155.04025478630723,\n        \"height\": 185.20127393153615,\n        \"content\": \"## 打开我！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ea2e9abf-1461-4754-b663-83e771207627\",\n      \"name\": \"check if addressline 2 contains number and letter\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        3560,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"loose\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c82c2273-b34c-42e1-871d-31db72d2ad49\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json[\\\"AddressLine2\\\"].match(/^(?=.*\\\\d)(?=.*[A-Za-z]).+$/) !== null }}\\n\",\n              \"rightValue\": \"\"\n            }\n          ]\n        },\n        \"looseTypeValidation\": true\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"b532b22f-421e-4bd8-8241-ca559e77c3ca\",\n      \"name\": \"set billbee tag manual check\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        3780,\n        1200\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"Tags\\\": [\\n    \\\"manual_address_check\\\"\\n  ]\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpBasicAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Billbee-Api-Key\",\n              \"value\": \"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"bdb10514-2fa7-4727-a8e7-aa8394fced6f\",\n      \"name\": \"set value of addressline2 as housenumber number+letter\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        3760,\n        1020\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7c21cf08-4ae8-4856-ae2f-0f25053aebde\",\n              \"name\": \"housenumber\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.AddressLine2 }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"cf0a516f-f019-40f8-8d09-ff02a034781d\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        3000,\n        760\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 907.6568579769853,\n        \"height\": 627.257034553087,\n        \"content\": \"## 门牌号验证\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"82a16bec-77e9-4717-8111-69f8f068c925\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        4040,\n        700\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 1325.4150814203485,\n        \"height\": 354.5727675883748,\n        \"content\": \"## 地址验证与更正\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"07f54a0d-2b13-4996-95a4-4c225402abe1\",\n      \"name\": \"set billbee success\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        5080,\n        720\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.billbee.io/api/v1/orders/{{ $('Set Address Fields').item.json[\\\"BillbeeID\\\"] }}/tags\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"Tags\\\": [\\n    \\\"endereco_address_validated\\\"\\n  ]\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpBasicAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Billbee-Api-Key\",\n              \"value\": \"={{ $('ConfigNode').item.json['X-Billbee-Api-Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"bd2f3340-f389-48e1-a90d-1625b6845556\",\n      \"name\": \"ConfigNode\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1860,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c4d1415a-636b-4673-bba5-699168af2b2e\",\n              \"name\": \"X-Billbee-Api-Key\",\n              \"type\": \"string\",\n              \"value\": \"INSERT BILLBEE DEVELOPER API KEY\"\n            },\n            {\n              \"id\": \"69c630d7-d64c-49be-a594-88b05d44a091\",\n              \"name\": \"X-Auth-Key-Endereco\",\n              \"type\": \"string\",\n              \"value\": \"INSERT ENDERECO API KEY\"\n            },\n            {\n              \"id\": \"75977810-a10a-45ea-b536-d4b8f0f59b15\",\n              \"name\": \"orderID\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.query.Id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"7619e573-116a-4f87-b6d2-b652ee7a25b7\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1800,\n        1120\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"height\": 251.61012258936577,\n        \"content\": \"### **设置**\\n\\n**为Billbee用户创建基础认证**\\n- 使用电子邮箱作为用户名，密码为用户API密钥\\n\\n粘贴您的Billbee开发者密钥（X密钥）和Endereco API密钥\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"31c17f6e-0e90-4db1-9048-4b13bd36cc90\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2500,\n        1100\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 150,\n        \"height\": 135.6842625042993,\n        \"content\": \"### **设置**\\n\\n选择您的 BillbeeUser 基本认证\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ca1e1a8b-6107-4e0c-81c4-2a3b715aed11\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        1640,\n        960\n      ],\n      \"webhookId\": \"786e8a93-9837-44e6-81ae-a173ce25a14f\",\n      \"parameters\": {\n        \"path\": \"786e8a93-9837-44e6-81ae-a173ce25a14f\",\n        \"options\": {}\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"Webhook\": [\n      {\n        \"json\": {\n          \"body\": {},\n          \"query\": {\n            \"Id\": \"300000221273261\"\n          },\n          \"params\": {},\n          \"headers\": {\n            \"host\": \"sfx-ecommerce.app.n8n.cloud\",\n            \"x-real-ip\": \"49.12.91.132\",\n            \"tracestate\": \"dd=s:-1\",\n            \"traceparent\": \"00-00000000000000004c0234c4a8ce641b-3f1af42f856c7eb3-00\",\n            \"accept-encoding\": \"gzip\",\n            \"x-forwarded-for\": \"49.12.91.132\",\n            \"x-forwarded-host\": \"sfx-ecommerce.app.n8n.cloud\",\n            \"x-forwarded-port\": \"443\",\n            \"x-forwarded-proto\": \"https\",\n            \"x-datadog-trace-id\": \"5476998116086277147\",\n            \"x-forwarded-server\": \"traefik-78bdf4fd45-vvczp\",\n            \"x-datadog-parent-id\": \"4547215258723057331\",\n            \"x-datadog-sampling-priority\": \"-1\"\n          },\n          \"webhookUrl\": \"https://sfx-ecommerce.app.n8n.cloud/webhook/786e8a93-9837-44e6-81ae-a173ce25a14f\",\n          \"executionMode\": \"production\"\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1f498c7a-468a-48c4-b044-64455eb51aa2\",\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"get order data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set new delivery address to billbee\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ConfigNode\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ConfigNode\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get order data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Order Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Address Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Out PickUpShops\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Order Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Address Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Out PickUpShops\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"check if housenumer is not empty\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Address endereco api\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"check if new address is not empty\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Corrected Address\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check if housenumer is not empty\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Address endereco api\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"check if addressline 2 contains number\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check if new address is not empty\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Corrected Address\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"set billbee tag\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"set new delivery address to billbee\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set billbee success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check if addressline 2 contains number\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set value of addressline2 as housenumber\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"check if addressline 2 contains number and letter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"set value of addressline2 as housenumber\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Address endereco api\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check if addressline 2 contains number and letter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set value of addressline2 as housenumber number+letter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"set billbee tag manual check\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"set value of addressline2 as housenumber number+letter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Address endereco api\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}