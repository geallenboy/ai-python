{
  "url": "https://n8n.io/workflows/2241-unsubscribe-mautic-contacts-from-automated-unsubscribe-emails/",
  "title": "Unsubscribe Mautic contacts from automated unsubscribe emails",
  "author": "Victor Gonzalez",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"f0efd559def66ddc761033b0b2eb86ed3edec31121f2c1aa92ed05e63303529a\"},\"name\":\"Unsubscribe Mautic contacts from automated unsubscribe emails\",\"tags\":[],\"nodes\":[{\"id\":\"55d6a64b-88e2-4162-a93a-b31ad32b94fd\",\"name\":\"Gmail Trigger\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"position\":[140,860],\"parameters\":{\"filters\":{\"includeSpamTrash\":true},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]}},\"credentials\":{\"gmailOAuth2\":{\"id\":\"3\",\"name\":\"Gmail account\"}},\"typeVersion\":1},{\"id\":\"a697b58c-e0c8-42e0-8211-49caf46ce222\",\"name\":\"Is automated unsubscribe?\",\"type\":\"n8n-nodes-base.if\",\"position\":[460,1000],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"= {{ $json[\\\"To\\\"] }}\",\"value2\":\"unsubscribe\",\"operation\":\"contains\"},{\"value1\":\"={{ $json[\\\"From\\\"] }}\",\"value2\":\"={{ $node[\\\"Edit Fields\\\"].json[\\\"emailAddress\\\"] }}\",\"operation\":\"notEqual\"}]}},\"typeVersion\":1,\"alwaysOutputData\":false},{\"id\":\"72c76f4b-50da-481a-9c3e-204158f3a016\",\"name\":\"Add to unsubscribed segment\",\"type\":\"n8n-nodes-base.mautic\",\"position\":[1520,720],\"parameters\":{\"resource\":\"contactSegment\",\"contactId\":\"={{ $json[\\\"id\\\"] }}\",\"segmentId\":3,\"authentication\":\"oAuth2\"},\"credentials\":{\"mauticOAuth2Api\":{\"id\":\"4\",\"name\":\"Mautic account\"}},\"typeVersion\":1},{\"id\":\"44c85f57-0716-476f-bea5-00efeddf908f\",\"name\":\"Remove newsletter segment\",\"type\":\"n8n-nodes-base.mautic\",\"position\":[1520,920],\"parameters\":{\"resource\":\"contactSegment\",\"contactId\":\"={{ $json[\\\"id\\\"] }}\",\"operation\":\"remove\",\"segmentId\":1,\"authentication\":\"oAuth2\"},\"credentials\":{\"mauticOAuth2Api\":{\"id\":\"4\",\"name\":\"Mautic account\"}},\"typeVersion\":1},{\"id\":\"b26ddbb9-3209-458b-8e94-2854ed8bf8de\",\"name\":\"Reply Unsubscribe Message\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[1520,1140],\"parameters\":{\"message\":\"={{$node[\\\"Edit Fields\\\"].json[\\\"unsubscribeMessage\\\"]}}\",\"options\":{},\"messageId\":\"={{ $node[\\\"Gmail Trigger\\\"].json[\\\"id\\\"] }}\",\"operation\":\"reply\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"3\",\"name\":\"Gmail account\"}},\"typeVersion\":2},{\"id\":\"34fc931b-f692-4383-a75b-76502c11452b\",\"name\":\"Add to Do Not Contact List\",\"type\":\"n8n-nodes-base.mautic\",\"disabled\":true,\"position\":[1520,520],\"parameters\":{\"contactId\":\"{{ $json[\\\"id\\\"] }}\",\"operation\":\"editDoNotContactList\",\"authentication\":\"oAuth2\",\"additionalFields\":{}},\"credentials\":{\"mauticOAuth2Api\":{\"id\":\"4\",\"name\":\"Mautic account\"}},\"typeVersion\":1},{\"id\":\"b5dd2d22-c367-4f30-a1b3-e3a767aec96b\",\"name\":\"Extract Email from 'From' Field\",\"type\":\"n8n-nodes-base.code\",\"position\":[640,840],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"var fromField = $input.item.json.From;\\nvar extractedEmail;\\nif (fromField.includes('<') && fromField.includes('>')) {\\n    // From field is wrapped in carets\\n    var regex = /[^< ]+(?=>)/g;\\n    extractedEmail = fromField.match(regex)[0];\\n} else {\\n    // From field is not wrapped in carets\\n    extractedEmail = fromField;\\n}\\nreturn {json: {extractedEmail}}\"},\"typeVersion\":1},{\"id\":\"f11e57b5-7834-4654-8793-42b1aa297730\",\"name\":\"Extract Unique Email Addresses\",\"type\":\"n8n-nodes-base.code\",\"position\":[820,1000],\"parameters\":{\"jsCode\":\"// Access the input data using all() method\\nconst inputData = $input.all();\\nconst uniqueEmailsSet = new Set();\\n\\n// Loop through each item, extract the email, and add it to the Set\\ninputData.forEach(item => {\\n    uniqueEmailsSet.add(item.json.extractedEmail);\\n});\\n\\n// Convert the Set to an array of objects in the n8n format\\nconst uniqueEmailsArray = Array.from(uniqueEmailsSet).map(email => {\\n    return { json: { extractedEmail: email } };\\n});\\n\\nreturn uniqueEmailsArray;\\n\"},\"typeVersion\":2},{\"id\":\"5e168e07-1a6b-4140-81b9-9d9ffb852f61\",\"name\":\"Get Mautic Contact ID from Email Address\",\"type\":\"n8n-nodes-base.mautic\",\"position\":[1020,840],\"parameters\":{\"limit\":1,\"options\":{\"search\":\"=email:{{ $json[\\\"extractedEmail\\\"] }}\",\"rawData\":false},\"operation\":\"getAll\",\"authentication\":\"oAuth2\"},\"credentials\":{\"mauticOAuth2Api\":{\"id\":\"4\",\"name\":\"Mautic account\"}},\"typeVersion\":1,\"alwaysOutputData\":false},{\"id\":\"ad1a7b7a-230a-4098-b419-c93e3a6398a1\",\"name\":\"If Contact Exists in Mautic\",\"type\":\"n8n-nodes-base.if\",\"position\":[1180,1060],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json[\\\"id\\\"] }}\",\"operation\":\"isNotEmpty\"}]}},\"typeVersion\":1},{\"id\":\"17b999f9-9c50-488a-b5d2-d98bbd566048\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[200,500],\"parameters\":{\"content\":\"## Step 1\\nSet your email address and unsubscribe message in the edit fields node\"},\"typeVersion\":1},{\"id\":\"11d28571-7335-4e53-a691-973412b6daef\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,1020],\"parameters\":{\"content\":\"## Step 2\\nSet your credentials in the Gmail trigger\"},\"typeVersion\":1},{\"id\":\"2874fbc3-5735-471c-8c34-70854e0770bd\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,660],\"parameters\":{\"content\":\"## Step 3\\nSet credentials in the mautic nodes\"},\"typeVersion\":1},{\"id\":\"1e51f13f-3fba-4b5b-8c88-eb792c4c0b40\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1240,460],\"parameters\":{\"content\":\"## Step 4\\nEdit segments (add or remove) in the mautic nodes, optionally add to do not contact list.\"},\"typeVersion\":1},{\"id\":\"3b5f94df-864b-480c-a6f2-d572345e7d9a\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[580,440],\"parameters\":{\"width\":237.7703390037576,\"height\":194.55974544175768,\"content\":\"## Unsubscribe Mautic contacts from automated unsubscribe emails\"},\"typeVersion\":1},{\"id\":\"69496c4b-254d-4a89-8ab1-9fe80cfaea14\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[300,700],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"emailAddress\",\"stringValue\":\"hello@example.com\"},{\"name\":\"unsubscribeMessage\",\"stringValue\":\"Your have successfully opted out from our marketing campaigns. Please reply if you believe this is an error.\"}]},\"options\":{}},\"typeVersion\":3.2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"\",\"connections\":{\"Edit Fields\":{\"main\":[[{\"node\":\"Is automated unsubscribe?\",\"type\":\"main\",\"index\":0}]]},\"Gmail Trigger\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"Is automated unsubscribe?\":{\"main\":[[{\"node\":\"Extract Email from 'From' Field\",\"type\":\"main\",\"index\":0}]]},\"If Contact Exists in Mautic\":{\"main\":[[{\"node\":\"Add to unsubscribed segment\",\"type\":\"main\",\"index\":0},{\"node\":\"Remove newsletter segment\",\"type\":\"main\",\"index\":0},{\"node\":\"Reply Unsubscribe Message\",\"type\":\"main\",\"index\":0},{\"node\":\"Add to Do Not Contact List\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Reply Unsubscribe Message\",\"type\":\"main\",\"index\":0}]]},\"Extract Unique Email Addresses\":{\"main\":[[{\"node\":\"Get Mautic Contact ID from Email Address\",\"type\":\"main\",\"index\":0}]]},\"Extract Email from 'From' Field\":{\"main\":[[{\"node\":\"Extract Unique Email Addresses\",\"type\":\"main\",\"index\":0}]]},\"Get Mautic Contact ID from Email Address\":{\"main\":[[{\"node\":\"If Contact Exists in Mautic\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who is this for?\n\nThis template is designed for businesses and organizations that use Mautic for email marketing and want to automate the process of removing contacts from specific segments when they receive an unsubscribe request via email.\n\n## What problem is this workflow solving? / use case\n\nMany email recipients, especially those who are less tech-savvy, may not follow the standard unsubscribe link provided in emails. Instead, for example in Gmail, they click the \"Unsubscribe\" button in the Gmail web interface, which in turn sends an email with a consistent format, these emails contain the word unsubscribe in the 'To' field using the following structure:\n\n**[hello+unsubscribe_6629823aa976f053068426@example.com](mailto:hello+unsubscribe_6629823aa976f053068426@example.com)**\n\nThis workflow automates the process of identifying such unsubscribe emails and removing the contact from the relevant Mautic segments, ensuring compliance with unsubscribe requests and maintaining a clean mailing list.\n\n## What this workflow does\n\n  * Monitors a Gmail account for incoming emails.\n  * Identifies unsubscribe emails based on specific patterns in the \"To\" field (e.g., containing the word \"unsubscribe\").\n  * Retrieves the contact's ID from Mautic based on the email address.\n  * Removes the contact from the specified \"newsletter\" segment in Mautic.\n  * Adds the contact to the \"unsubscribed\" segment in Mautic.\n  * Sends a confirmation email to the contact, acknowledging their unsubscribe request.\n\n\n\n## Setup\n\n  1. Configure your email address and unsubscribe message in the \"Edit Fields\" node.\n  2. Set your credentials in the Gmail trigger and in the Mautic nodes.\n  3. Set the segments for the \"newsletter\" and \"unsubscribed\" in the Mautic nodes.\n  4. Make sure your n8n installation has a public endpoint for your Gmail trigger to work correctly.\n  5. Deploy the workflow.\n\n\n\n## How to customize this workflow to your needs\n\n  * Adjust the conditions for identifying unsubscribe emails based on your specific requirements.\n  * Modify the segments or actions taken in Mautic according to your desired behavior.\n  * Customize the confirmation email message and sender details.\n\n\n\n**Note:** This workflow assumes a consistent structure for unsubscribe emails, where the \"From\" field contains the word \"unsubscribe\" using the \"+\" sign. If your email provider follows a different convention, adjust the conditions in the \"Is automated unsubscribe?\" node accordingly.\n",
  "crawled_at": "2025-05-25T21:53:19.451404",
  "readme_zh": "## 适用对象\n\n本模板专为使用Mautic进行邮件营销的企业及机构设计，旨在自动化处理通过邮件接收退订请求时从特定细分列表中移除联系人的流程。\n\n## 解决痛点/应用场景\n\n许多邮件接收者（尤其对技术不熟悉的用户）可能不会点击邮件中的标准退订链接。例如在Gmail中，用户会直接点击网页界面的\"退订\"按钮，系统将自动发送格式固定的退订邮件——这类邮件的\"收件人\"字段会包含\"unsubscribe\"字样，并遵循如下结构：\n\n**[hello+unsubscribe_6629823aa976f053068426@example.com](mailto:hello+unsubscribe_6629823aa976f053068426@example.com)**\n\n该工作流能自动识别此类退订邮件，并将相关联系人从Mautic细分列表中移除，既确保遵守退订请求，又保持邮件列表清洁。\n\n## 工作流功能\n\n* 监控Gmail账户的入站邮件\n* 根据\"收件人\"字段特定模式（如含\"unsubscribe\"字样）识别退订邮件\n* 通过邮件地址从Mautic获取联系人ID\n* 将联系人从Mautic指定的\"newsletter\"细分列表中移除\n* 将联系人添加至Mautic的\"unsubscribed\"退订列表\n* 向联系人发送退订确认邮件\n\n## 配置步骤\n\n1. 在\"编辑字段\"节点配置邮箱地址和退订消息\n2. 在Gmail触发器和Mautic节点中设置凭证\n3. 在Mautic节点中设置\"newsletter\"和\"unsubscribed\"细分列表\n4. 确保n8n安装具有公共端点以使Gmail触发器正常工作\n5. 部署工作流\n\n## 自定义调整建议\n\n* 根据实际需求调整识别退订邮件的条件\n* 按需修改Mautic中的细分列表或执行动作\n* 定制确认邮件的内容和发件人信息\n\n**注意：** 本工作流假设退订邮件具有固定结构，即\"发件人\"字段通过\"+\"符号包含\"unsubscribe\"字样。若您的邮件服务商采用不同规范，请相应调整\"是否为自动退订？\"节点的判断条件。",
  "title_zh": "从自动退订邮件中取消订阅Mautic联系人",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"f0efd559def66ddc761033b0b2eb86ed3edec31121f2c1aa92ed05e63303529a\"\n  },\n  \"name\": \"Unsubscribe Mautic contacts from automated unsubscribe emails\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"55d6a64b-88e2-4162-a93a-b31ad32b94fd\",\n      \"name\": \"Gmail Trigger\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        140,\n        860\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"includeSpamTrash\": true\n        },\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"3\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a697b58c-e0c8-42e0-8211-49caf46ce222\",\n      \"name\": \"Is automated unsubscribe?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        460,\n        1000\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"= {{ $json[\\\"To\\\"] }}\",\n              \"value2\": \"unsubscribe\",\n              \"operation\": \"contains\"\n            },\n            {\n              \"value1\": \"={{ $json[\\\"From\\\"] }}\",\n              \"value2\": \"={{ $node[\\\"Edit Fields\\\"].json[\\\"emailAddress\\\"] }}\",\n              \"operation\": \"notEqual\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"72c76f4b-50da-481a-9c3e-204158f3a016\",\n      \"name\": \"Add to unsubscribed segment\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        1520,\n        720\n      ],\n      \"parameters\": {\n        \"resource\": \"contactSegment\",\n        \"contactId\": \"={{ $json[\\\"id\\\"] }}\",\n        \"segmentId\": 3,\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"4\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"44c85f57-0716-476f-bea5-00efeddf908f\",\n      \"name\": \"Remove newsletter segment\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        1520,\n        920\n      ],\n      \"parameters\": {\n        \"resource\": \"contactSegment\",\n        \"contactId\": \"={{ $json[\\\"id\\\"] }}\",\n        \"operation\": \"remove\",\n        \"segmentId\": 1,\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"4\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b26ddbb9-3209-458b-8e94-2854ed8bf8de\",\n      \"name\": \"Reply Unsubscribe Message\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1520,\n        1140\n      ],\n      \"parameters\": {\n        \"message\": \"={{$node[\\\"Edit Fields\\\"].json[\\\"unsubscribeMessage\\\"]}}\",\n        \"options\": {},\n        \"messageId\": \"={{ $node[\\\"Gmail Trigger\\\"].json[\\\"id\\\"] }}\",\n        \"operation\": \"reply\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"3\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"34fc931b-f692-4383-a75b-76502c11452b\",\n      \"name\": \"Add to Do Not Contact List\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"disabled\": true,\n      \"position\": [\n        1520,\n        520\n      ],\n      \"parameters\": {\n        \"contactId\": \"{{ $json[\\\"id\\\"] }}\",\n        \"operation\": \"editDoNotContactList\",\n        \"authentication\": \"oAuth2\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"4\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b5dd2d22-c367-4f30-a1b3-e3a767aec96b\",\n      \"name\": \"Extract Email from 'From' Field\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        640,\n        840\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"var fromField = $input.item.json.From;\\nvar extractedEmail;\\nif (fromField.includes('<') && fromField.includes('>')) {\\n    // From field is wrapped in carets\\n    var regex = /[^< ]+(?=>)/g;\\n    extractedEmail = fromField.match(regex)[0];\\n} else {\\n    // From field is not wrapped in carets\\n    extractedEmail = fromField;\\n}\\nreturn {json: {extractedEmail}}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f11e57b5-7834-4654-8793-42b1aa297730\",\n      \"name\": \"Extract Unique Email Addresses\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        820,\n        1000\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Access the input data using all() method\\nconst inputData = $input.all();\\nconst uniqueEmailsSet = new Set();\\n\\n// Loop through each item, extract the email, and add it to the Set\\ninputData.forEach(item => {\\n    uniqueEmailsSet.add(item.json.extractedEmail);\\n});\\n\\n// Convert the Set to an array of objects in the n8n format\\nconst uniqueEmailsArray = Array.from(uniqueEmailsSet).map(email => {\\n    return { json: { extractedEmail: email } };\\n});\\n\\nreturn uniqueEmailsArray;\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"5e168e07-1a6b-4140-81b9-9d9ffb852f61\",\n      \"name\": \"Get Mautic Contact ID from Email Address\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        1020,\n        840\n      ],\n      \"parameters\": {\n        \"limit\": 1,\n        \"options\": {\n          \"search\": \"=email:{{ $json[\\\"extractedEmail\\\"] }}\",\n          \"rawData\": false\n        },\n        \"operation\": \"getAll\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"4\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"ad1a7b7a-230a-4098-b419-c93e3a6398a1\",\n      \"name\": \"If Contact Exists in Mautic\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1180,\n        1060\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json[\\\"id\\\"] }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17b999f9-9c50-488a-b5d2-d98bbd566048\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        500\n      ],\n      \"parameters\": {\n        \"content\": \"## 第一步\\n在编辑字段节点中设置您的电子邮件地址和退订消息\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"11d28571-7335-4e53-a691-973412b6daef\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        1020\n      ],\n      \"parameters\": {\n        \"content\": \"## 第二步  \\n在Gmail触发器中设置您的凭据\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2874fbc3-5735-471c-8c34-70854e0770bd\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        660\n      ],\n      \"parameters\": {\n        \"content\": \"## 第三步  \\n在Mautic节点中设置凭据\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1e51f13f-3fba-4b5b-8c88-eb792c4c0b40\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1240,\n        460\n      ],\n      \"parameters\": {\n        \"content\": \"## 步骤4\\n在mautic节点中编辑片段（添加或删除），可选择加入禁止联系名单。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b5f94df-864b-480c-a6f2-d572345e7d9a\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        580,\n        440\n      ],\n      \"parameters\": {\n        \"width\": 237.7703390037576,\n        \"height\": 194.55974544175768,\n        \"content\": \"## 从自动退订邮件中取消订阅Mautic联系人\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"69496c4b-254d-4a89-8ab1-9fe80cfaea14\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        300,\n        700\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"emailAddress\",\n              \"stringValue\": \"hello@example.com\"\n            },\n            {\n              \"name\": \"unsubscribeMessage\",\n              \"stringValue\": \"Your have successfully opted out from our marketing campaigns. Please reply if you believe this is an error.\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"\",\n  \"connections\": {\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is automated unsubscribe?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gmail Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is automated unsubscribe?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Email from 'From' Field\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If Contact Exists in Mautic\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add to unsubscribed segment\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Remove newsletter segment\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Reply Unsubscribe Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Add to Do Not Contact List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Reply Unsubscribe Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Unique Email Addresses\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Mautic Contact ID from Email Address\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Email from 'From' Field\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Unique Email Addresses\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Mautic Contact ID from Email Address\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If Contact Exists in Mautic\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}