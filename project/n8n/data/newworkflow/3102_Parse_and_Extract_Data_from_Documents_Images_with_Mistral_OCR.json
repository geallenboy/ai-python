{
  "url": "https://n8n.io/workflows/3102-parse-and-extract-data-from-documentsimages-with-mistral-ocr/",
  "title": "Parse and Extract Data from Documents/Images with Mistral OCR",
  "author": "Jimleuk",
  "publish_date": "Last update 3 months ago",
  "publish_date_absolute": "2025-02-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"c499b8cc-7cc8-411d-9c22-d46c7654e169\",\"name\":\"Mistral Upload\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,-20],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/files\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"multipart-form-data\",\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"purpose\",\"value\":\"ocr\"},{\"name\":\"file\",\"parameterType\":\"formBinaryData\",\"inputDataFieldName\":\"data\"}]},\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"08cbe4b7-2adc-4ea0-8dfc-af107369b1dd\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-540,-20],\"parameters\":{},\"typeVersion\":1},{\"id\":\"965f294a-5d77-4190-ad4f-ff191aba0948\",\"name\":\"Mistral Signed URL\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[900,-20],\"parameters\":{\"url\":\"=https://api.mistral.ai/v1/files/{{ $json.id }}/url\",\"options\":{},\"sendQuery\":true,\"sendHeaders\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"expiry\",\"value\":\"24\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Accept\",\"value\":\"application/json\"}]},\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"7abfb1f8-f6c8-4fd0-a78e-9d4b97a4d6bc\",\"name\":\"Import PDF\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[480,-20],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"15BcE6nXto9lQDHPmwjm7y9JPerAVEutY\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"yOwz41gMQclOadgu\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"8942c6bf-4d86-4a95-aa4a-c819008e2534\",\"name\":\"Import Image\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[480,200],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"1a2FcRDWHHncMO8CYxD80uNUBGH1Sy1k2\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"yOwz41gMQclOadgu\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"94a1c3ca-1ca7-4bb1-9e7c-8314742423ab\",\"name\":\"Mistral Upload1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,200],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/files\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"multipart-form-data\",\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"purpose\",\"value\":\"ocr\"},{\"name\":\"file\",\"parameterType\":\"formBinaryData\",\"inputDataFieldName\":\"data\"}]},\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"9d075eec-ba0e-41e1-8bdc-a732bc0f9229\",\"name\":\"Mistral Signed URL1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[900,200],\"parameters\":{\"url\":\"=https://api.mistral.ai/v1/files/{{ $json.id }}/url\",\"options\":{},\"sendQuery\":true,\"sendHeaders\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"expiry\",\"value\":\"24\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Accept\",\"value\":\"application/json\"}]},\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"f623f066-fc70-40fa-b608-f28a75a8ac8c\",\"name\":\"Mistral DOC OCR\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1100,-20],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/ocr\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"document_url\\\",\\n    \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n  },\\n  \\\"include_image_base64\\\": true\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"15913796-e7c8-451a-8e7b-da7a3b10db02\",\"name\":\"Mistral IMAGE OCR\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1100,200],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/ocr\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"image_url\\\",\\n    \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"a79524ff-84f0-46db-bb8e-afc18f1ddd40\",\"name\":\"Document URL\",\"type\":\"n8n-nodes-base.set\",\"position\":[-160,-20],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1eb5f18b-eb06-48df-8491-d60de75b4855\",\"name\":\"url\",\"type\":\"string\",\"value\":\"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_scan.pdf\"}]}},\"typeVersion\":3.4},{\"id\":\"72b89f33-a67c-4f73-9a78-e8ccd02fbc98\",\"name\":\"Image URL\",\"type\":\"n8n-nodes-base.set\",\"position\":[-160,200],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1eb5f18b-eb06-48df-8491-d60de75b4855\",\"name\":\"url\",\"type\":\"string\",\"value\":\"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_2.png\"}]}},\"typeVersion\":3.4},{\"id\":\"808ccbb3-0dae-4e2c-9166-bf40c589824a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-320,-160],\"parameters\":{\"color\":7,\"width\":680,\"height\":580,\"content\":\"### Example 1. Publicly Hosted Files\\nThe default way to use Mistral OCR is to give it a public URL of the file you want processed. Great for your own semi-private docs or other people's. If you rather not expose files due to privacy concerns, then you'd want to check out example 2.\"},\"typeVersion\":1},{\"id\":\"b968d6ab-9582-495d-84af-f75833701e2a\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[400,-160],\"parameters\":{\"color\":7,\"width\":920,\"height\":560,\"content\":\"### Example 2. Privately Hosted via Mistral Cloud\\nGive Mistral OCR private and secure access to your files by uploading them to Mistral cloud first. Retrieve the file using a signed URL and pass this to Mistral OCR. Benefit of storing via Mistral could be faster cache access and reduced latency for repeat docs.\"},\"typeVersion\":1},{\"id\":\"f2c0b30a-49be-4850-b102-f23d0feac0ec\",\"name\":\"Mistral DOC OCR1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[60,-20],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/ocr\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"document_url\\\",\\n    \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"64a28537-e70b-48bc-b580-cc9d5a5a1b80\",\"name\":\"Mistral IMAGE OCR1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[60,200],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/ocr\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"image_url\\\",\\n    \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"3caaa30b-21f2-4643-93dd-8dff6f3c1920\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-740,-440],\"parameters\":{\"width\":380,\"height\":640,\"content\":\"## Document Parsing with Mistral OCR\\nUp your structured document parsing game with Mistral's latest release... **Mistral-OCR**!\\n* Designed to specifically parse PDF and image files.\\n* Handles multiple-page documents and images up to 10k pixels.\\n* Each page is conveniently transcribed as markdown only - there is no plain text output.\\n* Incredible pricing at only $0.001 per page!\\n\\n### Requirements\\n* You'll need a Mistral Cloud API Key\\n* This template only works with the Mistral Cloud API for Mistral OCR.\"},\"typeVersion\":1},{\"id\":\"bd4d0c9f-f4a6-4527-8f9d-5af90a2858c2\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1360,-160],\"parameters\":{\"color\":7,\"width\":680,\"height\":580,\"content\":\"### Example 3. No need for Extraction? Talk Directly with the File!\\nIt seems Mistral were also able to integrate OCR capabilities into its text models which allows you to carry out tasks such as document classification and sentiment analysis really quickly. Unfortunately, it doesn't work the same way with images - you have to use Pixtral but the results are really bad!\"},\"typeVersion\":1},{\"id\":\"c9a9d4bb-4ee6-413a-9f08-97fdcee22bf2\",\"name\":\"Document URL1\",\"type\":\"n8n-nodes-base.set\",\"position\":[1520,-20],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1eb5f18b-eb06-48df-8491-d60de75b4855\",\"name\":\"url\",\"type\":\"string\",\"value\":\"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_scan.pdf\"},{\"id\":\"c639fce3-6967-444d-be18-6c9ce802ef22\",\"name\":\"query\",\"type\":\"string\",\"value\":\"what is the total number of deposits?\"}]}},\"typeVersion\":3.4},{\"id\":\"5de4d62c-af8f-4e6d-adbd-2f591a2165f7\",\"name\":\"Document Understanding\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1740,-20],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"mistral-small-latest\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"text\\\": \\\"{{ $json.query }}\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"document_url\\\",\\n          \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"document_image_limit\\\": 8,\\n  \\\"document_page_limit\\\": 64\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2},{\"id\":\"9a7bbff0-d446-469d-aa61-838e8c025ad5\",\"name\":\"Image URL1\",\"type\":\"n8n-nodes-base.set\",\"position\":[1520,200],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1eb5f18b-eb06-48df-8491-d60de75b4855\",\"name\":\"url\",\"type\":\"string\",\"value\":\"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_2.png\"},{\"id\":\"639cd062-ebef-44ab-97a2-79ee388f8b41\",\"name\":\"query\",\"type\":\"string\",\"value\":\"what is the total number of deposits?\"}]}},\"typeVersion\":3.4},{\"id\":\"ca43d437-a373-4938-a0a8-8087a98d46a8\",\"name\":\"Document Mis-Understanding?\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1740,200],\"parameters\":{\"url\":\"https://api.mistral.ai/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"pixtral-large-latest\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"text\\\": \\\"{{ $json.query }}\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"image_url\\\",\\n          \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"document_image_limit\\\": 8,\\n  \\\"document_page_limit\\\": 64\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"mistralCloudApi\"},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":4.2}],\"pinData\":{},\"connections\":{\"Image URL\":{\"main\":[[{\"node\":\"Mistral IMAGE OCR1\",\"type\":\"main\",\"index\":0}]]},\"Image URL1\":{\"main\":[[{\"node\":\"Document Mis-Understanding?\",\"type\":\"main\",\"index\":0}]]},\"Import PDF\":{\"main\":[[{\"node\":\"Mistral Upload\",\"type\":\"main\",\"index\":0}]]},\"Document URL\":{\"main\":[[{\"node\":\"Mistral DOC OCR1\",\"type\":\"main\",\"index\":0}]]},\"Import Image\":{\"main\":[[{\"node\":\"Mistral Upload1\",\"type\":\"main\",\"index\":0}]]},\"Document URL1\":{\"main\":[[{\"node\":\"Document Understanding\",\"type\":\"main\",\"index\":0}]]},\"Mistral Upload\":{\"main\":[[{\"node\":\"Mistral Signed URL\",\"type\":\"main\",\"index\":0}]]},\"Mistral Upload1\":{\"main\":[[{\"node\":\"Mistral Signed URL1\",\"type\":\"main\",\"index\":0}]]},\"Mistral DOC OCR1\":{\"main\":[[]]},\"Mistral Signed URL\":{\"main\":[[{\"node\":\"Mistral DOC OCR\",\"type\":\"main\",\"index\":0}]]},\"Mistral Signed URL1\":{\"main\":[[{\"node\":\"Mistral IMAGE OCR\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Document URL\",\"type\":\"main\",\"index\":0},{\"node\":\"Image URL\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Mistral OCR is a super convenient way to parse and extract data from multi-page PDFs or single images using AI.\n\nWhat makes it special and differs it from the competition is that Mistral OCR also performs document page splitting and markdown conversion. This helps reduce dependencies required for document parsing workflows where tools like StirlingPDF.\n\nRead the official documentation on Mistral OCR API here: <https://docs.mistral.ai/capabilities/document/#tag/ocr/operation/ocr_v1_ocr_post>\n\n## How it works\n\n  * To access Mistral-OCR, you'll need to use Mistral Cloud API via the HTTP request node\n  * Mistral OCR can only accept 2 file types: PDF and Image. Here, we use 2 different request to the Mistral-OCR API to parse a bank statement PDF and an screenshot of a bank statement to extract the tables.\n  * Next, we explore a more secure method of uploading documents to the Mistral OCR API by using Mistral's cloud storage. In example 2, we first store a copy of our documents to Mistral cloud and then generate a signed URL to retreive the file before sending it to Mistral OCR. This ensures the file is not accessible publicly and protects it from unauthorised access.\n  * Finally, another way to use Mistral-OCR is via document understanding. This allows you to ask questions about the document rather than extract contents from it. In example 3, I demonstrate this use-case asking Mistral-small to tell me how many deposits are shown in the bank statement.\n\n\n\n## How to use\n\n  * Ensure your documents are either publicly accessible for Mistral-OCR or upload them to Mistral Cloud. Alternatively, signed urls from AWS S3 or Cloudflare R2 should also work.\n\n\n\n## Requirements\n\n  * Mistral Cloud account and API Key. You'll also need credit on your account to use Mistral-OCR.\n\n\n\n## Customising the workflow\n\n  * Mistral-OCR also works for images such as charts and diagrams so try using it on Financial Reports.\n  * Mistral-OCR is even cheaper with batching enabled. This returns your results within 24hrs but is half the price per page.\n\n\n",
  "crawled_at": "2025-05-26T03:44:41.636376",
  "readme_zh": "Mistral OCR 是一种利用AI从多页PDF或单张图片中解析提取数据的超便捷工具。\n\n其独特之处在于不仅能进行OCR识别，还能执行文档页面分割和Markdown格式转换。这一特性显著减少了文档解析工作流中对StirlingPDF等工具的依赖。\n\n阅读Mistral OCR API官方文档：<https://docs.mistral.ai/capabilities/document/#tag/ocr/operation/ocr_v1_ocr_post>\n\n## 工作原理\n\n* 需通过HTTP请求节点调用Mistral云API访问Mistral-OCR\n* 仅支持PDF和图片两种文件类型。示例中我们分别向API发起两次请求：解析银行对账单PDF和截图以提取表格数据\n* 演示更安全的文档上传方式：先将文件存储至Mistral云存储，生成签名URL后再提交OCR处理，有效防止未授权访问\n* 最后展示文档理解功能：直接向Mistral-small提问（如\"对账单中有多少笔存款\"）而非提取全文内容\n\n## 使用方法\n\n* 确保文档可通过公开链接访问，或先上传至Mistral云存储\n* AWS S3/Cloudflare R2的签名URL同样适用\n\n## 使用要求\n\n* 需注册Mistral云账户并配置API密钥\n* 账户需有可用额度\n\n## 定制技巧\n\n* 适用于图表类图像解析，可尝试处理财务报告\n* 启用批量处理模式可节省50%页均成本（结果24小时内返回）",
  "title_zh": "使用Mistral OCR解析并提取文档/图像中的数据",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"c499b8cc-7cc8-411d-9c22-d46c7654e169\",\n      \"name\": \"Mistral Upload\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/files\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"purpose\",\n              \"value\": \"ocr\"\n            },\n            {\n              \"name\": \"file\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"08cbe4b7-2adc-4ea0-8dfc-af107369b1dd\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -540,\n        -20\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"965f294a-5d77-4190-ad4f-ff191aba0948\",\n      \"name\": \"Mistral Signed URL\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        900,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.mistral.ai/v1/files/{{ $json.id }}/url\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"expiry\",\n              \"value\": \"24\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7abfb1f8-f6c8-4fd0-a78e-9d4b97a4d6bc\",\n      \"name\": \"Import PDF\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        480,\n        -20\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"15BcE6nXto9lQDHPmwjm7y9JPerAVEutY\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"yOwz41gMQclOadgu\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"8942c6bf-4d86-4a95-aa4a-c819008e2534\",\n      \"name\": \"Import Image\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        480,\n        200\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"1a2FcRDWHHncMO8CYxD80uNUBGH1Sy1k2\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"yOwz41gMQclOadgu\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"94a1c3ca-1ca7-4bb1-9e7c-8314742423ab\",\n      \"name\": \"Mistral Upload1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/files\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"purpose\",\n              \"value\": \"ocr\"\n            },\n            {\n              \"name\": \"file\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"9d075eec-ba0e-41e1-8bdc-a732bc0f9229\",\n      \"name\": \"Mistral Signed URL1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        900,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.mistral.ai/v1/files/{{ $json.id }}/url\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"expiry\",\n              \"value\": \"24\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"f623f066-fc70-40fa-b608-f28a75a8ac8c\",\n      \"name\": \"Mistral DOC OCR\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1100,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/ocr\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"document_url\\\",\\n    \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n  },\\n  \\\"include_image_base64\\\": true\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"15913796-e7c8-451a-8e7b-da7a3b10db02\",\n      \"name\": \"Mistral IMAGE OCR\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1100,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/ocr\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"image_url\\\",\\n    \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a79524ff-84f0-46db-bb8e-afc18f1ddd40\",\n      \"name\": \"Document URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -160,\n        -20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1eb5f18b-eb06-48df-8491-d60de75b4855\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_scan.pdf\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"72b89f33-a67c-4f73-9a78-e8ccd02fbc98\",\n      \"name\": \"Image URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -160,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1eb5f18b-eb06-48df-8491-d60de75b4855\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_2.png\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"808ccbb3-0dae-4e2c-9166-bf40c589824a\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -320,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 680,\n        \"height\": 580,\n        \"content\": \"### 示例1：公开托管的文件  \\n使用Mistral OCR的默认方式是提供一个待处理文件的公开URL。这种方式非常适合处理您自己的半私有文档或他人的文件。若出于隐私考虑不愿公开文件，请参阅示例2。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b968d6ab-9582-495d-84af-f75833701e2a\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        400,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 920,\n        \"height\": 560,\n        \"content\": \"### 示例二：通过Mistral云私有化部署  \\n先将文件上传至Mistral云，即可为Mistral OCR提供私密安全的文件访问权限。通过签名URL获取文件并传递给Mistral OCR。使用Mistral云存储的优势在于：重复处理文档时可获得更快的缓存访问速度并降低延迟。  \\n\\n（注：根据技术文档特性，采用以下处理：  \\n1. 保留\\\"Mistral Cloud/OCR\\\"品牌名不译  \\n2. \\\"signed URL\\\"译为行业通用术语\\\"签名URL\\\"  \\n3. \\\"repeat docs\\\"意译为\\\"重复处理文档\\\"以明确技术场景  \\n4. 使用\\\"私有化部署\\\"对应\\\"Privately Hosted\\\"体现企业级服务属性）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f2c0b30a-49be-4850-b102-f23d0feac0ec\",\n      \"name\": \"Mistral DOC OCR1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        60,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/ocr\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"document_url\\\",\\n    \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"64a28537-e70b-48bc-b580-cc9d5a5a1b80\",\n      \"name\": \"Mistral IMAGE OCR1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        60,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/ocr\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"mistral-ocr-latest\\\",\\n  \\\"document\\\": {\\n    \\\"type\\\": \\\"image_url\\\",\\n    \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n  }\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3caaa30b-21f2-4643-93dd-8dff6f3c1920\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -740,\n        -440\n      ],\n      \"parameters\": {\n        \"width\": 380,\n        \"height\": 640,\n        \"content\": \"## 使用Mistral OCR解析文档  \\n用Mistral最新发布的**Mistral-OCR**提升您的结构化文档解析能力！  \\n* 专为解析PDF和图像文件设计  \\n* 支持多页文档及高达10k像素的图像  \\n* 每页内容将便捷地转换为纯Markdown格式——不提供纯文本输出  \\n* 价格惊人，每页仅需0.001美元！  \\n\\n### 使用要求  \\n* 需配备Mistral云服务API密钥  \\n* 本模板仅适用于Mistral OCR的云服务API\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bd4d0c9f-f4a6-4527-8f9d-5af90a2858c2\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1360,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 680,\n        \"height\": 580,\n        \"content\": \"### 示例3. 无需提取？直接与文件对话！\\nMistral似乎已成功将OCR功能集成到其文本模型中，这使得执行文档分类和情感分析等任务变得极为迅速。遗憾的是，该功能对图片的处理方式不同——你必须使用Pixtral，但效果非常糟糕！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c9a9d4bb-4ee6-413a-9f08-97fdcee22bf2\",\n      \"name\": \"Document URL1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1520,\n        -20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1eb5f18b-eb06-48df-8491-d60de75b4855\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_scan.pdf\"\n            },\n            {\n              \"id\": \"c639fce3-6967-444d-be18-6c9ce802ef22\",\n              \"name\": \"query\",\n              \"type\": \"string\",\n              \"value\": \"what is the total number of deposits?\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5de4d62c-af8f-4e6d-adbd-2f591a2165f7\",\n      \"name\": \"Document Understanding\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1740,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"mistral-small-latest\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"text\\\": \\\"{{ $json.query }}\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"document_url\\\",\\n          \\\"document_url\\\": \\\"{{ $json.url }}\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"document_image_limit\\\": 8,\\n  \\\"document_page_limit\\\": 64\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"9a7bbff0-d446-469d-aa61-838e8c025ad5\",\n      \"name\": \"Image URL1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1520,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1eb5f18b-eb06-48df-8491-d60de75b4855\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"=https://pub-d4aa9be14ae34d6ebcebe06f13af667b.r2.dev/multimodal_bank_statement_2.png\"\n            },\n            {\n              \"id\": \"639cd062-ebef-44ab-97a2-79ee388f8b41\",\n              \"name\": \"query\",\n              \"type\": \"string\",\n              \"value\": \"what is the total number of deposits?\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"ca43d437-a373-4938-a0a8-8087a98d46a8\",\n      \"name\": \"Document Mis-Understanding?\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1740,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.mistral.ai/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"pixtral-large-latest\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"text\\\": \\\"{{ $json.query }}\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"image_url\\\",\\n          \\\"image_url\\\": \\\"{{ $json.url }}\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"document_image_limit\\\": 8,\\n  \\\"document_page_limit\\\": 64\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mistralCloudApi\"\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Image URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral IMAGE OCR1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Image URL1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Document Mis-Understanding?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Import PDF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral Upload\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Document URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral DOC OCR1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Import Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral Upload1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Document URL1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Document Understanding\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral Upload\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral Signed URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral Upload1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral Signed URL1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral DOC OCR1\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Mistral Signed URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral DOC OCR\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral Signed URL1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mistral IMAGE OCR\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Document URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Image URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}