{
  "url": "https://n8n.io/workflows/2699-obsidian-notes-read-aloud-using-ai-available-as-a-podcast-feed/",
  "title": "Obsidian Notes Read Aloud using AI: Available as a Podcast Feed",
  "author": "Obsidi8n",
  "publish_date": "Last update 5 months ago",
  "publish_date_absolute": "2024-12-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"f9X48gqgIUwyseMM\",\"meta\":{\"instanceId\":\"d47f3738b860eed937a1b18d7345fa2c65cf4b4957554e29477cb064a7039870\"},\"name\":\"Obsidian Notes Read Aloud: Available as a Podcast Feed\",\"tags\":[],\"nodes\":[{\"id\":\"a44b5cb3-6c9f-4227-a45f-a21765ea120c\",\"name\":\"OpenAI1\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-660,-180],\"parameters\":{\"input\":\"={{ $json.body.content }}\",\"options\":{\"response_format\":\"mp3\"},\"resource\":\"audio\"},\"credentials\":{\"openAiApi\":{\"id\":\"q8L9oWVM7QyzYEE5\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.7},{\"id\":\"9ca589b6-f1c7-44a9-8ff7-4abb979a71c3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1200,-400],\"parameters\":{\"width\":440,\"height\":540,\"content\":\"## Send Notes to Webhook\\n**Setup:**\\n- Install [Post Webhook Plugin](https://github.com/Masterb1234/obsidian-post-webhook/) in Obsidian\\n- Enter n8n Webhook URL and name in plugin settings\\n\\n**Usage:**\\n- Select text or use full note\\n- Open Command Palette (Ctrl+P)\\n- Choose 'Send Note/Selection to [name]'\\n- Audio file appears in Podcast Feed and note\"},\"typeVersion\":1},{\"id\":\"3ea132e5-8c67-4140-a9b2-607ea256e90f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1200,240],\"parameters\":{\"width\":440,\"height\":440,\"content\":\"## Generic Podcast Feed Module\\nA reusable module for any 'X-to-Podcast' workflow. Generates standard RSS feed from:\\n- Source data (Google Sheets)\\n- Podcast metadata\\n\\nCompatible with all major podcast platforms (Apple, Google, Spotify, etc.).\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"92d6a6df-0e4e-423b-8447-dce10d5373ae\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-720,-400],\"parameters\":{\"color\":3,\"width\":440,\"height\":540,\"content\":\"## Create Audio and Write Description\\nOpenAI TTS converts notes to audio while the messaging model generates concise descriptions for podcast apps.\"},\"typeVersion\":1},{\"id\":\"b950b0ab-e27e-473d-9891-d5551a44ed17\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[800,-400],\"parameters\":{\"color\":4,\"width\":380,\"height\":540,\"content\":\"## Append Row to Google Sheets\\nSaves essential podcast parameters (<title>, <link>, <description>, <duration>) to Google Sheets for Feed generation.\"},\"typeVersion\":1},{\"id\":\"02fda37f-77a5-47f5-81bc-b59486704386\",\"name\":\"Webhook GET Note\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-1040,-120],\"webhookId\":\"64fac784-9b98-4bbc-aaf2-dd45763d3362\",\"parameters\":{\"path\":\"64fac784-9b98-4bbc-aaf2-dd45763d3362\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"845d04ea-d221-4034-b5e1-75061e5f351c\",\"name\":\"Webhook GET Podcast Feed\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-1040,460],\"webhookId\":\"2f0a6706-54da-4b89-91f4-5e147b393bd8\",\"parameters\":{\"path\":\"2f0a6706-54da-4b89-91f4-5e147b393bd8h\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"ce6d766c-89e6-4d62-9d48-d6715a28592f\",\"name\":\"Upload Audio to Cloudinary\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-220,-120],\"parameters\":{\"url\":\"https://api.cloudinary.com/v1_1/CLOUDINARY_ENV/upload\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"multipart-form-data\",\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"file\",\"parameterType\":\"formBinaryData\",\"inputDataFieldName\":\"data\"},{\"name\":\"upload_preset\",\"value\":\"rb_preset\"},{\"name\":\"resource_type\",\"value\":\"auto\"}]},\"genericAuthType\":\"httpCustomAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"multipart/form-data\"}]}},\"credentials\":{\"httpCustomAuth\":{\"id\":\"DHmR14pD9rTrd3nS\",\"name\":\"Cloudinary API\"}},\"typeVersion\":4.1},{\"id\":\"1f86c18d-8197-4671-9c41-726a02108c4e\",\"name\":\"OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-660,-20],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"content\":\"={{ $json.body.content }}\"},{\"role\":\"system\",\"content\":\"Based on the user input text, write a concise and engaging description of 50–150 characters. Highlight the key idea or takeaway while making it compelling and easy to understand. Avoid unnecessary details or repetition.\"}]}},\"credentials\":{\"openAiApi\":{\"id\":\"q8L9oWVM7QyzYEE5\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.7},{\"id\":\"0942959c-2231-4055-b196-4483c210a39d\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[320,-40],\"parameters\":{},\"typeVersion\":3},{\"id\":\"ee7ba6a7-f8dd-4863-bf5c-6ec8eb2329ea\",\"name\":\"Aggregate\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[460,-180],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"f403d045-08e9-400e-9988-c8f55a5aa609\",\"name\":\"Give Audio Unique Name\",\"type\":\"n8n-nodes-base.set\",\"position\":[-460,-180],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"97f0fe66-7ddf-4eff-a3cf-3104e74dbfac\",\"name\":\"fileName\",\"type\":\"string\",\"value\":\"={{ $('Webhook GET Note').item.json.body.timestamp }}.mp3\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"2dbff0f5-f359-43b7-b0de-4b9d657c69c0\",\"name\":\"Send Audio to Obsidian\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[80,-180],\"parameters\":{\"options\":{\"responseHeaders\":{\"entries\":[{\"name\":\"content-type\",\"value\":\"=audio/mpeg\"}]}},\"respondWith\":\"binary\",\"responseDataSource\":\"set\"},\"typeVersion\":1},{\"id\":\"ede7c038-b210-4b29-8557-7530ea4cf63e\",\"name\":\"Rename Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[620,-180],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3a7d01f4-7448-40e0-9f46-e6edea971b72\",\"name\":\"title\",\"type\":\"string\",\"value\":\"={{ $('Webhook GET Note').item.json.body.filename.split('.md')[0] }}\"},{\"id\":\"f49446df-3975-4133-a964-ebdcc0d904dd\",\"name\":\"link\",\"type\":\"string\",\"value\":\"={{ $json.data[0].url }}\"},{\"id\":\"8be5df35-ec79-45b1-94c3-306d58100fd2\",\"name\":\"description\",\"type\":\"string\",\"value\":\"={{ $json.data[1].message.content }}\"},{\"id\":\"231d0ee2-13d2-4a28-a19c-adc4920130fd\",\"name\":\"date\",\"type\":\"string\",\"value\":\"={{ $json.data[0].created_at }}\"},{\"id\":\"cd2748b3-999a-4514-9b31-49b7d045101f\",\"name\":\"duration\",\"type\":\"number\",\"value\":\"={{ $json.data[0].duration }}\"}]}},\"typeVersion\":3.4},{\"id\":\"10a35ef9-ab86-4010-9fcc-3cd765384e93\",\"name\":\"Append Item to Google Sheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[940,-180],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"link\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"link\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"description\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"description\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"date\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"date\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"duration\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"duration\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[]},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit#gid=0\",\"cachedResultName\":\"Blad1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit?usp=drivesdk\",\"cachedResultName\":\"obsidian-n8n\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"3Pu0wlfxgNYzVqY6\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"62dd3faf-22db-40f9-892c-2cf9368a9496\",\"name\":\"Get Items from Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-660,460],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit#gid=0\",\"cachedResultName\":\"Blad1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit?usp=drivesdk\",\"cachedResultName\":\"obsidian-n8n\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"3Pu0wlfxgNYzVqY6\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"7b465ed0-d2cc-4862-b0e6-4bd6215f3945\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-720,320],\"parameters\":{\"color\":3,\"width\":440,\"height\":360,\"content\":\"## Podcast Feed Configuration\\n- Static: Configure podcast metadata in 'Edit Fields'\\n- Dynamic: Episodes automatically pulled from Google Sheets\"},\"typeVersion\":1},{\"id\":\"1608ce65-bf1f-4dce-b4c7-b85b72ecb8c7\",\"name\":\"Write RSS Feed\",\"type\":\"n8n-nodes-base.code\",\"position\":[-120,460],\"parameters\":{\"jsCode\":\"// Variables from a separate edit node\\nconst baseUrl = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.baseUrl; \\nconst podcastTitle = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.podcastTitle;\\nconst podcastDescription = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.podcastDescription;\\nconst authorName = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.authorName;\\nconst ownerName = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.ownerName;\\nconst ownerEmail = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.ownerEmail;\\nconst coverImageUrl = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.coverImageUrl;\\nconst language = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.language || 'en-us';\\nconst explicitContent = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.explicitContent || false;\\nconst itunesCategory = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.itunesCategory;\\nconst webhookUrl = $node[\\\"Webhook GET Podcast Feed\\\"].data.webhookUrl\\n\\n// Get the input items\\nconst inputItems = items;\\n\\n// Function to format date to RFC 822 format\\nfunction formatDate(dateString) {\\n  return new Date(dateString || new Date()).toUTCString();\\n}\\n\\n// Function to convert duration from seconds to HH:MM:SS\\nfunction formatDuration(seconds = 0) {\\n  const hours = Math.floor(seconds / 3600);\\n  const minutes = Math.floor((seconds % 3600) / 60);\\n  const remainingSeconds = Math.floor(seconds % 60);\\n\\n  const minutesStr = minutes.toString().padStart(2, '0');\\n  const secondsStr = remainingSeconds.toString().padStart(2, '0');\\n  \\n  if (hours > 0) {\\n    return `${hours}:${minutesStr}:${secondsStr}`;\\n  }\\n  return `${minutesStr}:${secondsStr}`;\\n}\\n\\n// Function to safely sanitize text\\nfunction sanitizeText(text) {\\n  if (text === undefined || text === null) {\\n    return '';\\n  }\\n  return String(text)\\n    .replace(/&/g, '&amp;')\\n    .replace(/</g, '&lt;')\\n    .replace(/>/g, '&gt;')\\n    .replace(/\\\"/g, '&quot;')\\n    .replace(/'/g, '&apos;');\\n}\\n\\n// Generate the RSS feed header\\nlet rssFeed = `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<rss xmlns:itunes=\\\"http://www.itunes.com/dtds/podcast-1.0.dtd\\\" \\n     xmlns:content=\\\"http://purl.org/rss/1.0/modules/content/\\\"\\n     xmlns:atom=\\\"http://www.w3.org/2005/Atom\\\"\\n     version=\\\"2.0\\\">\\n  <channel>\\n    <title>${sanitizeText(podcastTitle)}</title>\\n    <description>${sanitizeText(podcastDescription)}</description>\\n    <link>${sanitizeText(baseUrl)}</link>\\n    <atom:link href=\\\"${sanitizeText(webhookUrl)}\\\" rel=\\\"self\\\" type=\\\"application/rss+xml\\\"/>\\n    <language>${sanitizeText(language)}</language>\\n    <copyright>© ${new Date().getFullYear()} ${sanitizeText(authorName)}</copyright>\\n    <lastBuildDate>${new Date().toUTCString()}</lastBuildDate>\\n    <itunes:author>${sanitizeText(authorName)}</itunes:author>\\n    <itunes:owner>\\n      <itunes:name>${sanitizeText(ownerName)}</itunes:name>\\n      <itunes:email>${sanitizeText(ownerEmail)}</itunes:email>\\n    </itunes:owner>\\n    <itunes:image href=\\\"${sanitizeText(coverImageUrl)}\\\"/>\\n    <itunes:category text=\\\"${sanitizeText(itunesCategory)}\\\"/>\\n    <itunes:explicit>${explicitContent}</itunes:explicit>\\n    <itunes:type>episodic</itunes:type>\\\\n`;\\n\\n// Generate items\\nfor (const item of inputItems) {\\n  const json = item.json;\\n  \\n  // Extract values from the json object\\n  const title = sanitizeText(json.title);\\n  const description = sanitizeText(json.description);\\n  const link = sanitizeText(json.link);\\n  const date = json.date;\\n  const duration = json.duration;\\n  \\n  // Assign episode and season numbers dynamically based on row_number\\n  const episodeNumber = json.row_number; // Use row_number for the episode number\\n  const seasonNumber = 1; // You can adjust this logic if your episodes span multiple seasons\\n\\n  rssFeed += `    <item>\\n    <title>${title}</title>\\n    <description>${description}</description>\\n    <link>${link}</link>\\n    <guid isPermaLink=\\\"false\\\">${link}</guid>\\n    <pubDate>${formatDate(date)}</pubDate>\\n    <enclosure \\n      url=\\\"${link}\\\"\\n      length=\\\"0\\\"\\n      type=\\\"audio/mpeg\\\"/>\\n    <itunes:duration>${formatDuration(duration)}</itunes:duration>\\n    <itunes:summary>${description}</itunes:summary>\\n    <itunes:episodeType>full</itunes:episodeType>\\n    <itunes:episode>${episodeNumber}</itunes:episode>\\n    <itunes:season>${seasonNumber}</itunes:season>\\n    <itunes:explicit>${explicitContent}</itunes:explicit>\\n    <content:encoded>\\n      <![CDATA[\\n      <p>${description}</p>\\n      ]]>\\n    </content:encoded>\\n  </item>\\\\n`;\\n}\\n\\n// Close the RSS feed\\nrssFeed += `  </channel>\\n</rss>`;\\n\\n// Return the complete RSS feed\\nreturn [{\\n  json: {\\n    rssFeed\\n  }\\n}];\\n\"},\"typeVersion\":2},{\"id\":\"c8c7fbfc-c408-438e-af7e-5c384cfce4a5\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,320],\"parameters\":{\"color\":5,\"width\":340,\"height\":360,\"content\":\"## Write Podcast Feed\\nGenerates RSS feed XML from collected data.\"},\"typeVersion\":1},{\"id\":\"b5962e24-49eb-423a-ab8c-cb04daf5e1a0\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,-400],\"parameters\":{\"color\":5,\"width\":460,\"height\":540,\"content\":\"## Audio to Cloudinary and Obsidian\\nCloudinary stores audio files and provides duration metadata for podcast feed.\\n\\nSetup:\\n- Create Custom Auth credentials\\n- Set CLOUDINARY_ENV to your environment\"},\"typeVersion\":1},{\"id\":\"e0f18eda-13fc-4771-8ce0-11574a4469ad\",\"name\":\"Return Podcast Feed to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[200,460],\"parameters\":{\"options\":{\"responseHeaders\":{\"entries\":[{\"name\":\"Content-Type\",\"value\":\"application/xml\"}]}},\"respondWith\":\"text\",\"responseBody\":\"={{ $json.rssFeed }}\"},\"typeVersion\":1.1},{\"id\":\"d3afe3f0-79e4-48c1-a0d6-356b462156c7\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[260,-400],\"parameters\":{\"color\":6,\"width\":500,\"height\":540,\"content\":\"## Prepare Relevant Data\\nConsolidates and formats data for Google Sheets storage.\"},\"typeVersion\":1},{\"id\":\"f77ff10c-e4e3-4761-b4db-4c42d5831f5c\",\"name\":\"Manually Enter Other Data for Podcast Feed\",\"type\":\"n8n-nodes-base.set\",\"position\":[-460,460],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"05d1c4f7-ebe7-4df8-925b-0e0d5539f172\",\"name\":\"baseUrl\",\"type\":\"string\",\"value\":\"https://n8n.io\"},{\"id\":\"e8c6845e-887f-49e9-8336-ca2cb2a2fd29\",\"name\":\"podcastTitle\",\"type\":\"string\",\"value\":\"My Notes to Podcast\"},{\"id\":\"bf2948ed-cffa-4d3f-9bab-5fb008d83b4c\",\"name\":\"podcastDescription\",\"type\":\"string\",\"value\":\"My Notes Read Aloud\"},{\"id\":\"f5008697-3e52-4ae2-94da-c059b60a6de9\",\"name\":\"authorName\",\"type\":\"string\",\"value\":\"Your Name\"},{\"id\":\"6595bf45-e054-4e18-ade9-13e38e6efedb\",\"name\":\"ownerName\",\"type\":\"string\",\"value\":\"Owner Name\"},{\"id\":\"b21efe1c-e5b5-4bb3-bf07-a52859c7a607\",\"name\":\"ownerEmail\",\"type\":\"string\",\"value\":\"owner@email.com\"},{\"id\":\"3f0b090c-0b5e-41cb-9841-05b7b8f83126\",\"name\":\"coverImageUrl\",\"type\":\"string\",\"value\":\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPDcMnpgGkzIFxDpDaHEIFVg_D6nVG5Z0pPA&s\"},{\"id\":\"1fb27792-1f2b-4a9a-a353-a64e31bb4747\",\"name\":\"language\",\"type\":\"string\",\"value\":\"en-us\"},{\"id\":\"7c3d868a-f3c0-4fd0-8909-e4172f8a4b18\",\"name\":\"explicitContent\",\"type\":\"string\",\"value\":\"false\"},{\"id\":\"6aa041b4-554c-4540-889c-e37a314d5842\",\"name\":\"itunesCategory\",\"type\":\"string\",\"value\":\"Technology\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"4eb1c404-4e77-45ea-b413-4b79d8f40b1d\",\"connections\":{\"Merge\":{\"main\":[[{\"node\":\"Aggregate\",\"type\":\"main\",\"index\":0}]]},\"OpenAI\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"OpenAI1\":{\"main\":[[{\"node\":\"Give Audio Unique Name\",\"type\":\"main\",\"index\":0}]]},\"Aggregate\":{\"main\":[[{\"node\":\"Rename Fields\",\"type\":\"main\",\"index\":0}]]},\"Rename Fields\":{\"main\":[[{\"node\":\"Append Item to Google Sheet\",\"type\":\"main\",\"index\":0}]]},\"Write RSS Feed\":{\"main\":[[{\"node\":\"Return Podcast Feed to Webhook\",\"type\":\"main\",\"index\":0}]]},\"Webhook GET Note\":{\"main\":[[{\"node\":\"OpenAI1\",\"type\":\"main\",\"index\":0},{\"node\":\"OpenAI\",\"type\":\"main\",\"index\":0}]]},\"Give Audio Unique Name\":{\"main\":[[{\"node\":\"Upload Audio to Cloudinary\",\"type\":\"main\",\"index\":0},{\"node\":\"Send Audio to Obsidian\",\"type\":\"main\",\"index\":0}]]},\"Webhook GET Podcast Feed\":{\"main\":[[{\"node\":\"Get Items from Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Upload Audio to Cloudinary\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Append Item to Google Sheet\":{\"main\":[[]]},\"Get Items from Google Sheets\":{\"main\":[[{\"node\":\"Manually Enter Other Data for Podcast Feed\",\"type\":\"main\",\"index\":0}]]},\"Manually Enter Other Data for Podcast Feed\":{\"main\":[[{\"node\":\"Write RSS Feed\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**How it works:**\n\n  * Send notes from Obsidian via Webhook to start the audio conversion\n  * OpenAI converts your text to natural-sounding audio and generates episode descriptions\n  * Audio files are stored in Cloudinary and automatically attached to your notes in Obsidian\n  * A professional podcast feed is generated, compatible with all major podcast platforms (Apple, Spotify, Google)\n\n\n\n**Set up steps:**\n\n  * Install and configure the [Post Webhook Plugin](https://github.com/Masterb1234/obsidian-post-webhook/) in Obsidian\n  * Set up Custom Auth credentials in n8n for Cloudinary using the following JSON:\n\n\n    \n    \n    {\n      \"name\": \"Cloudinary API\",\n      \"type\": \"httpHeaderAuth\",\n      \"authParameter\": {\n        \"type\": \"header\",\n        \"key\": \"Authorization\",\n        \"value\": \"Basic {{Buffer.from('your_api_key:your_api_secret').toString('base64')}}\"\n      }\n    }\n    \n\n  * Configure podcast feed metadata (title, author, cover image, etc.)\n\n\n\nNote: The second flow is a generic Podcast Feed module that can be reused in any '[...]-to-Podcast' workflow. It generates a standard RSS feed from Google Sheets data and podcast metadata, making it compatible with all major podcast platforms.\n",
  "crawled_at": "2025-05-26T01:44:38.525857",
  "readme_zh": "**运作原理：**\n\n  * 通过Webhook从Obsidian发送笔记以启动音频转换  \n  * OpenAI将文本转换为自然语音并生成节目描述  \n  * 音频文件存储于Cloudinary并自动附加到Obsidian笔记中  \n  * 生成专业播客订阅源，兼容所有主流播客平台（苹果、Spotify、谷歌）",
  "title_zh": "使用AI朗读Obsidian笔记：可作为播客订阅源",
  "publish_date_zh": "最后更新于4个月前",
  "workflow_json_zh": "{\n  \"id\": \"f9X48gqgIUwyseMM\",\n  \"meta\": {\n    \"instanceId\": \"d47f3738b860eed937a1b18d7345fa2c65cf4b4957554e29477cb064a7039870\"\n  },\n  \"name\": \"Obsidian Notes Read Aloud: Available as a Podcast Feed\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"a44b5cb3-6c9f-4227-a45f-a21765ea120c\",\n      \"name\": \"OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        -660,\n        -180\n      ],\n      \"parameters\": {\n        \"input\": \"={{ $json.body.content }}\",\n        \"options\": {\n          \"response_format\": \"mp3\"\n        },\n        \"resource\": \"audio\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"q8L9oWVM7QyzYEE5\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"9ca589b6-f1c7-44a9-8ff7-4abb979a71c3\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1200,\n        -400\n      ],\n      \"parameters\": {\n        \"width\": 440,\n        \"height\": 540,\n        \"content\": \"## 发送笔记至Webhook\\n**配置步骤:**\\n- 在Obsidian中安装[Post Webhook插件](https://github.com/Masterb1234/obsidian-post-webhook/)\\n- 在插件设置中输入n8n的Webhook网址及自定义名称\\n\\n**使用方法:**\\n- 选中文本或使用整篇笔记\\n- 打开命令面板(Ctrl+P)\\n- 选择\\\"发送笔记/选中内容至[名称]\\\"\\n- 音频文件将出现在播客订阅源中，同时保留原笔记\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3ea132e5-8c67-4140-a9b2-607ea256e90f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1200,\n        240\n      ],\n      \"parameters\": {\n        \"width\": 440,\n        \"height\": 440,\n        \"content\": \"## 通用播客订阅模块\\n适用于各类\\\"内容转播客\\\"工作流的可复用模块。支持从以下来源生成标准RSS订阅源：\\n- 原始数据（谷歌表格）\\n- 播客元数据\\n\\n兼容所有主流播客平台（苹果播客、谷歌播客、Spotify等）。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"92d6a6df-0e4e-423b-8447-dce10d5373ae\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -720,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 440,\n        \"height\": 540,\n        \"content\": \"## 创建音频并撰写描述\\nOpenAI文本转语音技术将笔记转换为音频，同时消息模型为播客应用生成简洁的描述。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b950b0ab-e27e-473d-9891-d5551a44ed17\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 380,\n        \"height\": 540,\n        \"content\": \"## 追加行到Google表格\\n将关键播客参数（<标题>、<链接>、<描述>、<时长>）保存至Google表格以供生成Feed使用。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"02fda37f-77a5-47f5-81bc-b59486704386\",\n      \"name\": \"Webhook GET Note\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -1040,\n        -120\n      ],\n      \"webhookId\": \"64fac784-9b98-4bbc-aaf2-dd45763d3362\",\n      \"parameters\": {\n        \"path\": \"64fac784-9b98-4bbc-aaf2-dd45763d3362\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"845d04ea-d221-4034-b5e1-75061e5f351c\",\n      \"name\": \"Webhook GET Podcast Feed\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -1040,\n        460\n      ],\n      \"webhookId\": \"2f0a6706-54da-4b89-91f4-5e147b393bd8\",\n      \"parameters\": {\n        \"path\": \"2f0a6706-54da-4b89-91f4-5e147b393bd8h\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"ce6d766c-89e6-4d62-9d48-d6715a28592f\",\n      \"name\": \"Upload Audio to Cloudinary\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -220,\n        -120\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.cloudinary.com/v1_1/CLOUDINARY_ENV/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"file\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            },\n            {\n              \"name\": \"upload_preset\",\n              \"value\": \"rb_preset\"\n            },\n            {\n              \"name\": \"resource_type\",\n              \"value\": \"auto\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpCustomAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"multipart/form-data\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpCustomAuth\": {\n          \"id\": \"DHmR14pD9rTrd3nS\",\n          \"name\": \"Cloudinary API\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"1f86c18d-8197-4671-9c41-726a02108c4e\",\n      \"name\": \"OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        -660,\n        -20\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            },\n            {\n              \"role\": \"system\",\n              \"content\": \"Based on the user input text, write a concise and engaging description of 50–150 characters. Highlight the key idea or takeaway while making it compelling and easy to understand. Avoid unnecessary details or repetition.\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"q8L9oWVM7QyzYEE5\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"0942959c-2231-4055-b196-4483c210a39d\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        320,\n        -40\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"ee7ba6a7-f8dd-4863-bf5c-6ec8eb2329ea\",\n      \"name\": \"Aggregate\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        460,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f403d045-08e9-400e-9988-c8f55a5aa609\",\n      \"name\": \"Give Audio Unique Name\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -460,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"97f0fe66-7ddf-4eff-a3cf-3104e74dbfac\",\n              \"name\": \"fileName\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Webhook GET Note').item.json.body.timestamp }}.mp3\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"2dbff0f5-f359-43b7-b0de-4b9d657c69c0\",\n      \"name\": \"Send Audio to Obsidian\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        80,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"content-type\",\n                \"value\": \"=audio/mpeg\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"binary\",\n        \"responseDataSource\": \"set\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ede7c038-b210-4b29-8557-7530ea4cf63e\",\n      \"name\": \"Rename Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        620,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"3a7d01f4-7448-40e0-9f46-e6edea971b72\",\n              \"name\": \"title\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Webhook GET Note').item.json.body.filename.split('.md')[0] }}\"\n            },\n            {\n              \"id\": \"f49446df-3975-4133-a964-ebdcc0d904dd\",\n              \"name\": \"link\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data[0].url }}\"\n            },\n            {\n              \"id\": \"8be5df35-ec79-45b1-94c3-306d58100fd2\",\n              \"name\": \"description\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data[1].message.content }}\"\n            },\n            {\n              \"id\": \"231d0ee2-13d2-4a28-a19c-adc4920130fd\",\n              \"name\": \"date\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data[0].created_at }}\"\n            },\n            {\n              \"id\": \"cd2748b3-999a-4514-9b31-49b7d045101f\",\n              \"name\": \"duration\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.data[0].duration }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"10a35ef9-ab86-4010-9fcc-3cd765384e93\",\n      \"name\": \"Append Item to Google Sheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        940,\n        -180\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"description\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"description\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"duration\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"duration\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": []\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit#gid=0\",\n          \"cachedResultName\": \"Blad1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit?usp=drivesdk\",\n          \"cachedResultName\": \"obsidian-n8n\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"3Pu0wlfxgNYzVqY6\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"62dd3faf-22db-40f9-892c-2cf9368a9496\",\n      \"name\": \"Get Items from Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -660,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit#gid=0\",\n          \"cachedResultName\": \"Blad1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1F73a7uuzLAq916w2JFndumv0JhnCAvOTN-Cn_OOP3uA/edit?usp=drivesdk\",\n          \"cachedResultName\": \"obsidian-n8n\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"3Pu0wlfxgNYzVqY6\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"7b465ed0-d2cc-4862-b0e6-4bd6215f3945\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -720,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 440,\n        \"height\": 360,\n        \"content\": \"## 播客订阅源配置\\n- 静态模式：通过\\\"编辑字段\\\"配置播客元数据\\n- 动态模式：剧集自动从Google表格同步获取\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1608ce65-bf1f-4dce-b4c7-b85b72ecb8c7\",\n      \"name\": \"Write RSS Feed\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -120,\n        460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Variables from a separate edit node\\nconst baseUrl = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.baseUrl; \\nconst podcastTitle = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.podcastTitle;\\nconst podcastDescription = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.podcastDescription;\\nconst authorName = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.authorName;\\nconst ownerName = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.ownerName;\\nconst ownerEmail = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.ownerEmail;\\nconst coverImageUrl = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.coverImageUrl;\\nconst language = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.language || 'en-us';\\nconst explicitContent = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.explicitContent || false;\\nconst itunesCategory = $node[\\\"Manually Enter Other Data for Podcast Feed\\\"].data.itunesCategory;\\nconst webhookUrl = $node[\\\"Webhook GET Podcast Feed\\\"].data.webhookUrl\\n\\n// Get the input items\\nconst inputItems = items;\\n\\n// Function to format date to RFC 822 format\\nfunction formatDate(dateString) {\\n  return new Date(dateString || new Date()).toUTCString();\\n}\\n\\n// Function to convert duration from seconds to HH:MM:SS\\nfunction formatDuration(seconds = 0) {\\n  const hours = Math.floor(seconds / 3600);\\n  const minutes = Math.floor((seconds % 3600) / 60);\\n  const remainingSeconds = Math.floor(seconds % 60);\\n\\n  const minutesStr = minutes.toString().padStart(2, '0');\\n  const secondsStr = remainingSeconds.toString().padStart(2, '0');\\n  \\n  if (hours > 0) {\\n    return `${hours}:${minutesStr}:${secondsStr}`;\\n  }\\n  return `${minutesStr}:${secondsStr}`;\\n}\\n\\n// Function to safely sanitize text\\nfunction sanitizeText(text) {\\n  if (text === undefined || text === null) {\\n    return '';\\n  }\\n  return String(text)\\n    .replace(/&/g, '&amp;')\\n    .replace(/</g, '&lt;')\\n    .replace(/>/g, '&gt;')\\n    .replace(/\\\"/g, '&quot;')\\n    .replace(/'/g, '&apos;');\\n}\\n\\n// Generate the RSS feed header\\nlet rssFeed = `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<rss xmlns:itunes=\\\"http://www.itunes.com/dtds/podcast-1.0.dtd\\\" \\n     xmlns:content=\\\"http://purl.org/rss/1.0/modules/content/\\\"\\n     xmlns:atom=\\\"http://www.w3.org/2005/Atom\\\"\\n     version=\\\"2.0\\\">\\n  <channel>\\n    <title>${sanitizeText(podcastTitle)}</title>\\n    <description>${sanitizeText(podcastDescription)}</description>\\n    <link>${sanitizeText(baseUrl)}</link>\\n    <atom:link href=\\\"${sanitizeText(webhookUrl)}\\\" rel=\\\"self\\\" type=\\\"application/rss+xml\\\"/>\\n    <language>${sanitizeText(language)}</language>\\n    <copyright>© ${new Date().getFullYear()} ${sanitizeText(authorName)}</copyright>\\n    <lastBuildDate>${new Date().toUTCString()}</lastBuildDate>\\n    <itunes:author>${sanitizeText(authorName)}</itunes:author>\\n    <itunes:owner>\\n      <itunes:name>${sanitizeText(ownerName)}</itunes:name>\\n      <itunes:email>${sanitizeText(ownerEmail)}</itunes:email>\\n    </itunes:owner>\\n    <itunes:image href=\\\"${sanitizeText(coverImageUrl)}\\\"/>\\n    <itunes:category text=\\\"${sanitizeText(itunesCategory)}\\\"/>\\n    <itunes:explicit>${explicitContent}</itunes:explicit>\\n    <itunes:type>episodic</itunes:type>\\\\n`;\\n\\n// Generate items\\nfor (const item of inputItems) {\\n  const json = item.json;\\n  \\n  // Extract values from the json object\\n  const title = sanitizeText(json.title);\\n  const description = sanitizeText(json.description);\\n  const link = sanitizeText(json.link);\\n  const date = json.date;\\n  const duration = json.duration;\\n  \\n  // Assign episode and season numbers dynamically based on row_number\\n  const episodeNumber = json.row_number; // Use row_number for the episode number\\n  const seasonNumber = 1; // You can adjust this logic if your episodes span multiple seasons\\n\\n  rssFeed += `    <item>\\n    <title>${title}</title>\\n    <description>${description}</description>\\n    <link>${link}</link>\\n    <guid isPermaLink=\\\"false\\\">${link}</guid>\\n    <pubDate>${formatDate(date)}</pubDate>\\n    <enclosure \\n      url=\\\"${link}\\\"\\n      length=\\\"0\\\"\\n      type=\\\"audio/mpeg\\\"/>\\n    <itunes:duration>${formatDuration(duration)}</itunes:duration>\\n    <itunes:summary>${description}</itunes:summary>\\n    <itunes:episodeType>full</itunes:episodeType>\\n    <itunes:episode>${episodeNumber}</itunes:episode>\\n    <itunes:season>${seasonNumber}</itunes:season>\\n    <itunes:explicit>${explicitContent}</itunes:explicit>\\n    <content:encoded>\\n      <![CDATA[\\n      <p>${description}</p>\\n      ]]>\\n    </content:encoded>\\n  </item>\\\\n`;\\n}\\n\\n// Close the RSS feed\\nrssFeed += `  </channel>\\n</rss>`;\\n\\n// Return the complete RSS feed\\nreturn [{\\n  json: {\\n    rssFeed\\n  }\\n}];\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c8c7fbfc-c408-438e-af7e-5c384cfce4a5\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 340,\n        \"height\": 360,\n        \"content\": \"## 生成播客订阅源\\n根据收集的数据生成RSS订阅源XML文件\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b5962e24-49eb-423a-ab8c-cb04daf5e1a0\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 460,\n        \"height\": 540,\n        \"content\": \"## 音频文件上传至Cloudinary与Obsidian集成方案\\nCloudinary用于存储音频文件并为播客订阅提供时长元数据\\n\\n配置步骤：\\n- 创建自定义鉴权凭证\\n- 将CLOUDINARY_ENV变量设置为您的环境名称\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e0f18eda-13fc-4771-8ce0-11574a4469ad\",\n      \"name\": \"Return Podcast Feed to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        200,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"Content-Type\",\n                \"value\": \"application/xml\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"={{ $json.rssFeed }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"d3afe3f0-79e4-48c1-a0d6-356b462156c7\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        260,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 500,\n        \"height\": 540,\n        \"content\": \"## 准备相关数据\\n整合并格式化数据以便存储到Google Sheets中。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f77ff10c-e4e3-4761-b4db-4c42d5831f5c\",\n      \"name\": \"Manually Enter Other Data for Podcast Feed\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -460,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"05d1c4f7-ebe7-4df8-925b-0e0d5539f172\",\n              \"name\": \"baseUrl\",\n              \"type\": \"string\",\n              \"value\": \"https://n8n.io\"\n            },\n            {\n              \"id\": \"e8c6845e-887f-49e9-8336-ca2cb2a2fd29\",\n              \"name\": \"podcastTitle\",\n              \"type\": \"string\",\n              \"value\": \"My Notes to Podcast\"\n            },\n            {\n              \"id\": \"bf2948ed-cffa-4d3f-9bab-5fb008d83b4c\",\n              \"name\": \"podcastDescription\",\n              \"type\": \"string\",\n              \"value\": \"My Notes Read Aloud\"\n            },\n            {\n              \"id\": \"f5008697-3e52-4ae2-94da-c059b60a6de9\",\n              \"name\": \"authorName\",\n              \"type\": \"string\",\n              \"value\": \"Your Name\"\n            },\n            {\n              \"id\": \"6595bf45-e054-4e18-ade9-13e38e6efedb\",\n              \"name\": \"ownerName\",\n              \"type\": \"string\",\n              \"value\": \"Owner Name\"\n            },\n            {\n              \"id\": \"b21efe1c-e5b5-4bb3-bf07-a52859c7a607\",\n              \"name\": \"ownerEmail\",\n              \"type\": \"string\",\n              \"value\": \"owner@email.com\"\n            },\n            {\n              \"id\": \"3f0b090c-0b5e-41cb-9841-05b7b8f83126\",\n              \"name\": \"coverImageUrl\",\n              \"type\": \"string\",\n              \"value\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPDcMnpgGkzIFxDpDaHEIFVg_D6nVG5Z0pPA&s\"\n            },\n            {\n              \"id\": \"1fb27792-1f2b-4a9a-a353-a64e31bb4747\",\n              \"name\": \"language\",\n              \"type\": \"string\",\n              \"value\": \"en-us\"\n            },\n            {\n              \"id\": \"7c3d868a-f3c0-4fd0-8909-e4172f8a4b18\",\n              \"name\": \"explicitContent\",\n              \"type\": \"string\",\n              \"value\": \"false\"\n            },\n            {\n              \"id\": \"6aa041b4-554c-4540-889c-e37a314d5842\",\n              \"name\": \"itunesCategory\",\n              \"type\": \"string\",\n              \"value\": \"Technology\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"4eb1c404-4e77-45ea-b413-4b79d8f40b1d\",\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"OpenAI1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Give Audio Unique Name\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Rename Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Rename Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append Item to Google Sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Write RSS Feed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return Podcast Feed to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook GET Note\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenAI1\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"OpenAI\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Give Audio Unique Name\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Audio to Cloudinary\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Send Audio to Obsidian\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook GET Podcast Feed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Items from Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload Audio to Cloudinary\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Append Item to Google Sheet\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Get Items from Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Manually Enter Other Data for Podcast Feed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Manually Enter Other Data for Podcast Feed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Write RSS Feed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}