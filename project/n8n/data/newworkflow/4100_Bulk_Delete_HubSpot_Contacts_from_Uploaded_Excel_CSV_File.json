{
  "url": "https://n8n.io/workflows/4100-bulk-delete-hubspot-contacts-from-uploaded-excelcsv-file/",
  "title": "Bulk Delete HubSpot Contacts from Uploaded Excel/CSV File",
  "author": "Akhil Varma Gadiraju",
  "publish_date": "Last update 4 days ago",
  "publish_date_absolute": "2025-05-22",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"7d8066d2f56a07000fe7d753d3eeabf0ecdf68413466f30d10afe0906f058427\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"4ea0189c-83eb-4c95-92f8-db9b3dd9b521\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[20,150],\"webhookId\":\"abf99fbe-fa03-4f55-b978-db7cba42a565\",\"parameters\":{\"path\":\"abf99fbe-fa03-4f55-b978-db7cba42a565\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"0f8a3ab7-8fae-4d94-8721-05239e402a34\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"onError\":\"continueErrorOutput\",\"position\":[680,150],\"parameters\":{\"options\":{\"reset\":\"={{ false }}\"}},\"typeVersion\":3},{\"id\":\"7027161a-72ee-47b7-b393-a71a0e9d37f9\",\"name\":\"Replace Me\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1560,150],\"parameters\":{},\"typeVersion\":1},{\"id\":\"a376ab8e-d925-4c06-a019-1da903a4a5c4\",\"name\":\"Delete Contact\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[1340,0],\"parameters\":{\"contactId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"operation\":\"delete\",\"authentication\":\"appToken\"},\"credentials\":{\"hubspotAppToken\":{\"id\":\"IpprhyuB3yZtaB5z\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1},{\"id\":\"b7fb3731-255b-4a06-8bb0-51a896721bd5\",\"name\":\"Search Contact\",\"type\":\"n8n-nodes-base.hubspot\",\"onError\":\"continueRegularOutput\",\"position\":[900,75],\"parameters\":{\"limit\":1,\"operation\":\"search\",\"authentication\":\"appToken\",\"filterGroupsUi\":{\"filterGroupsValues\":[{\"filtersUi\":{\"filterValues\":[{\"value\":\"={{ $json.email }}\",\"propertyName\":\"email|string\"}]}}]},\"additionalFields\":{}},\"credentials\":{\"hubspotAppToken\":{\"id\":\"IpprhyuB3yZtaB5z\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1,\"alwaysOutputData\":true},{\"id\":\"7f7059cc-cd26-43d5-9006-cd56cf020bce\",\"name\":\"If contact exists\",\"type\":\"n8n-nodes-base.if\",\"position\":[1120,75],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"dbb5bafc-0939-492f-811f-4bbbfcbbf09d\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.id }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"b1e62cd8-5745-4912-9303-2982fa0a26f5\",\"name\":\"Parse Data\",\"type\":\"n8n-nodes-base.set\",\"position\":[460,150],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"40719114-6df6-47b5-ba76-ff7f5dbf16db\",\"name\":\"email\",\"type\":\"string\",\"value\":\"={{ $json.emails }}\"}]}},\"typeVersion\":3.4},{\"id\":\"59ef516b-9237-4085-9e88-a76608c0e70b\",\"name\":\"Extract File Data\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[240,150],\"parameters\":{\"options\":{},\"operation\":\"xlsx\"},\"notesInFlow\":false,\"typeVersion\":1},{\"id\":\"bfef804a-d87d-4f49-90c3-844ba010bf2d\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,20],\"parameters\":{\"height\":120,\"content\":\"## Start Workflow\\nCopy the webhook URL and use it in your app or API client (like Postman).\"},\"typeVersion\":1},{\"id\":\"ff6f02b4-0495-43d3-b6b6-a11cf0dd4ceb\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,320],\"parameters\":{\"color\":4,\"width\":320,\"height\":100,\"content\":\"## Change Input File Format\\nChange file format if needed in Extract File Data Node.\"},\"typeVersion\":1},{\"id\":\"4e23de5c-85a4-40cb-94a1-6216a820bdad\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[360,0],\"parameters\":{\"color\":4,\"width\":320,\"height\":140,\"content\":\"## Change Field Name\\nChange Data Header name if needed in Parse Data Node.\\n\\ncurrent -> emails\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Webhook\":{\"main\":[[{\"node\":\"Extract File Data\",\"type\":\"main\",\"index\":0}]]},\"Parse Data\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Replace Me\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Delete Contact\":{\"main\":[[{\"node\":\"Replace Me\",\"type\":\"main\",\"index\":0}]]},\"Search Contact\":{\"main\":[[{\"node\":\"If contact exists\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[],[{\"node\":\"Search Contact\",\"type\":\"main\",\"index\":0}]]},\"Extract File Data\":{\"main\":[[{\"node\":\"Parse Data\",\"type\":\"main\",\"index\":0}]]},\"If contact exists\":{\"main\":[[{\"node\":\"Delete Contact\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Replace Me\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Bulk Contact Deletion from HubSpot via Uploaded Excel / CSV File\n\nThis workflow allows you to automate the deletion of HubSpot contacts based on email addresses provided in an uploaded Excel (`.xlsx`) file. It's ideal for bulk-cleaning outdated or invalid contact data.\n\n* * *\n\n## ✅ Prerequisites\n\nBefore using this workflow, ensure you have the following:\n\n  * A valid **HubSpot App Token** with permissions to search and delete contacts.\n  * An Excel (`.xlsx`) file with a column labeled `emails` containing the contact emails to be deleted.\n  * n8n self-hosted or cloud environment with: \n    * **Webhook** node enabled and accessible.\n    * **HubSpot** node credentials configured.\n  * Basic familiarity with n8n node configuration for custom adjustments (optional).\n\n\n\n* * *\n\n## 📃Sample Document\n\n![sample_xlsx_document.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/sample_xlsx_document_f916c5d99e.png)\n\n## [Download](https://docs.google.com/spreadsheets/d/1PsulQO-io1VKokxeNgGA0oGc4QVYhLUJ/edit?usp=sharing&ouid=117854718738214515668&rtpof=true&sd=true)\n\n## 🧠 n8n Workflow: Delete HubSpot Contacts from an Uploaded Excel File\n\nThis n8n workflow allows you to upload an Excel file containing contact email addresses. It will check each one in HubSpot and delete the contact if it exists.\n\n* * *\n\n## 🔗 Workflow Overview\n\n### 📥 1. Trigger via Webhook (POST)\n\nThe workflow starts when a `.xlsx` file is uploaded via an HTTP `POST` request to the webhook. This Excel file should contain a column with contact email addresses.\n\n* * *\n\n### 📄 2. Extract Data from Excel\n\nThe uploaded file is parsed, and its rows are converted into structured JSON items, making each email address available for further processing.\n\n* * *\n\n### 🧹 3. Normalize Data\n\nThe data is cleaned and normalized — for example, mapping column headers (e.g., `emails`) into a standard `email` field, ensuring consistent downstream logic.\n\n* * *\n\n### 🔁 4. Loop Through Contacts\n\nEach row (contact) is processed individually using batch looping. This allows for fine-grained error handling and sequential processing.\n\n* * *\n\n### 🔎 5. Search for Contact in HubSpot\n\nFor each contact, a search query is made in HubSpot based on the email address. The workflow only fetches the first result (if any).\n\n* * *\n\n### 🧪 6. Check if Contact Exists\n\nAn IF condition checks whether the contact was found (i.e., if a HubSpot contact ID exists):\n\n  * ✅ **Yes** → proceed to delete the contact.\n  * ❌ **No** → skip deletion and continue to the next.\n\n\n\n* * *\n\n### 🗑️ 7. Delete Contact\n\nIf a contact exists, it is deleted from HubSpot using its internal contact ID.\n\n* * *\n\n### 🛠️ 8. Optional Placeholder for Post-Processing\n\nA placeholder node named **“Replace Me”** is included for any custom logic you may want to add after the deletion step, such as:\n\n  * Logging\n  * Notifications\n  * Writing to external storage\n\n\n\n* * *\n\n## ✅ Use Cases\n\n  * Bulk delete old or bounced email addresses from HubSpot.\n  * Clean up contacts based on external suppression lists.\n  * Automate regular CRM hygiene processes.\n\n\n\n* * *\n\n## 💡 Suggested Enhancements\n\n  * ✍️ Log results to Google Sheets or a database\n  * 📬 Send completion report via email or Slack\n  * 🔁 Add retry logic for temporary API failures\n  * 🔍 Validate email format before making requests\n\n\n\n* * *\n\n## 📎 Requirements\n\n  * n8n (self-hosted or cloud)\n  * HubSpot App Token (set up in n8n credentials)\n  * Excel file (.xlsx) with a column for `email`\n\n\n\n* * *\n\n## 📦 Files\n\nNo external files are required. All logic is contained within the n8n workflow.\n\n* * *\n\n## 🚀 Getting Started\n\n  1. Deploy the workflow in n8n.\n  2. Copy the webhook URL and use it in your app or API client (like Postman).\n  3. Upload an Excel file containing contact emails via POST request.\n  4. Watch as it searches and deletes matches in HubSpot.\n\n\n",
  "crawled_at": "2025-05-26T06:42:07.116256",
  "readme_zh": "# 通过上传Excel/CSV文件批量删除HubSpot联系人\n\n本工作流支持根据上传的Excel文件（`.xlsx`）中提供的邮箱地址自动删除HubSpot联系人，是批量清理过期或无效联系人数据的理想解决方案。\n\n* * *\n\n## ✅ 使用前提\n\n使用前请确保满足以下条件：\n  * 拥有有效的**HubSpot应用令牌**（需包含搜索和删除联系人权限）\n  * 准备包含待删除联系人邮箱的Excel文件（`.xlsx`），其中需有命名为`emails`的列\n  * 已配置n8n自托管或云环境：\n    * 已启用并可访问**Webhook**节点\n    * 已完成**HubSpot**节点凭证配置\n  * 具备n8n节点配置基础以便自定义调整（可选）\n\n* * *\n\n## 📃示例文件\n\n![sample_xlsx_document.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/sample_xlsx_document_f916c5d99e.png)\n\n## [下载模板](https://docs.google.com/spreadsheets/d/1PsulQO-io1VKokxeNgGA0oGc4QVYhLUJ/edit?usp=sharing&ouid=117854718738214515668&rtpof=true&sd=true)\n\n## � n8n工作流：通过Excel文件批量删除HubSpot联系人\n\n本工作流支持上传包含联系人邮箱的Excel文件，自动检查每个邮箱在HubSpot中的存在性并执行删除操作。\n\n* * *\n\n## 🔗 工作流概览\n\n### 📥 1. Webhook触发（POST请求）\n\n通过HTTP `POST`请求向webhook上传`.xlsx`文件时触发工作流，该Excel文件需包含联系人邮箱列。\n\n* * *\n\n### 📄 2. 从Excel提取数据\n\n解析上传文件并将其行数据转换为结构化JSON格式，使每个邮箱地址可供后续处理。\n\n* * *\n\n### 🧹 3. 数据标准化\n\n进行数据清洗与标准化处理（例如将`emails`列映射为标准`email`字段），确保下游逻辑一致性。\n\n* * *\n\n### 🔁 4. 联系人遍历处理\n\n通过批处理循环逐条处理联系人数据，实现精细化错误处理和顺序执行。\n\n* * *\n\n### 🔎 5. 在HubSpot中搜索联系人\n\n根据邮箱地址在HubSpot执行搜索查询，仅获取首个匹配结果（如有）。\n\n* * *\n\n### 🧪 6. 检查联系人是否存在\n\n通过IF条件判断是否找到联系人（即是否存在HubSpot联系人ID）：\n  * ✅ **存在** → 执行删除\n  * ❌ **不存在** → 跳过处理\n\n* * *\n\n### 🗑️ 7. 删除联系人\n\n若联系人存在，则根据其内部ID从HubSpot中删除。\n\n* * *\n\n### 🛠️ 8. 后处理扩展节点\n\n预留名为**「替换此节点」**的扩展位，可添加以下自定义逻辑：\n  * 操作日志记录\n  * 结果通知\n  * 外部存储写入\n\n* * *\n\n## ✅ 典型应用场景\n\n  * 从HubSpot批量删除过期或退信邮箱\n  * 根据外部屏蔽列表清理联系人\n  * 自动化定期CRM数据维护\n\n* * *\n\n## 💡 优化建议\n\n  * ✍️ 将结果记录到Google Sheets或数据库\n  * 📬 通过邮件/Slack发送完成报告\n  * 🔁 增加API临时失败的自动重试机制\n  * 🔍 请求前校验邮箱格式有效性\n\n* * *\n\n## 📎 环境要求\n\n  * n8n（自托管或云版本）\n  * HubSpot应用令牌（需配置到n8n凭证）\n  * 含`email`列的Excel文件（.xlsx格式）\n\n* * *\n\n## 📦 附件说明\n\n无需外部文件，所有逻辑均内置在n8n工作流中。\n\n* * *\n\n## 🚀 快速开始\n\n  1. 在n8n中部署本工作流\n  2. 复制webhook URL到应用或API客户端（如Postman）\n  3. 通过POST请求上传含联系邮箱的Excel文件\n  4. 实时查看HubSpot中的搜索删除过程",
  "title_zh": "批量删除从上传的Excel/CSV文件中的HubSpot联系人",
  "publish_date_zh": "最后更新于4天前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"7d8066d2f56a07000fe7d753d3eeabf0ecdf68413466f30d10afe0906f058427\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"4ea0189c-83eb-4c95-92f8-db9b3dd9b521\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[20,150],\"webhookId\":\"abf99fbe-fa03-4f55-b978-db7cba42a565\",\"parameters\":{\"path\":\"abf99fbe-fa03-4f55-b978-db7cba42a565\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"0f8a3ab7-8fae-4d94-8721-05239e402a34\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"onError\":\"continueErrorOutput\",\"position\":[680,150],\"parameters\":{\"options\":{\"reset\":\"={{ false }}\"}},\"typeVersion\":3},{\"id\":\"7027161a-72ee-47b7-b393-a71a0e9d37f9\",\"name\":\"Replace Me\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1560,150],\"parameters\":{},\"typeVersion\":1},{\"id\":\"a376ab8e-d925-4c06-a019-1da903a4a5c4\",\"name\":\"Delete Contact\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[1340,0],\"parameters\":{\"contactId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"operation\":\"delete\",\"authentication\":\"appToken\"},\"credentials\":{\"hubspotAppToken\":{\"id\":\"IpprhyuB3yZtaB5z\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1},{\"id\":\"b7fb3731-255b-4a06-8bb0-51a896721bd5\",\"name\":\"Search Contact\",\"type\":\"n8n-nodes-base.hubspot\",\"onError\":\"continueRegularOutput\",\"position\":[900,75],\"parameters\":{\"limit\":1,\"operation\":\"search\",\"authentication\":\"appToken\",\"filterGroupsUi\":{\"filterGroupsValues\":[{\"filtersUi\":{\"filterValues\":[{\"value\":\"={{ $json.email }}\",\"propertyName\":\"email|string\"}]}}]},\"additionalFields\":{}},\"credentials\":{\"hubspotAppToken\":{\"id\":\"IpprhyuB3yZtaB5z\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1,\"alwaysOutputData\":true},{\"id\":\"7f7059cc-cd26-43d5-9006-cd56cf020bce\",\"name\":\"If contact exists\",\"type\":\"n8n-nodes-base.if\",\"position\":[1120,75],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"dbb5bafc-0939-492f-811f-4bbbfcbbf09d\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.id }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"b1e62cd8-5745-4912-9303-2982fa0a26f5\",\"name\":\"Parse Data\",\"type\":\"n8n-nodes-base.set\",\"position\":[460,150],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"40719114-6df6-47b5-ba76-ff7f5dbf16db\",\"name\":\"email\",\"type\":\"string\",\"value\":\"={{ $json.emails }}\"}]}},\"typeVersion\":3.4},{\"id\":\"59ef516b-9237-4085-9e88-a76608c0e70b\",\"name\":\"Extract File Data\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[240,150],\"parameters\":{\"options\":{},\"operation\":\"xlsx\"},\"notesInFlow\":false,\"typeVersion\":1},{\"id\":\"bfef804a-d87d-4f49-90c3-844ba010bf2d\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,20],\"parameters\":{\"height\":120,\"content\":\"## 开始工作流程\\n复制Webhook URL并在您的应用或API客户端（如Postman）中使用它。\"},\"typeVersion\":1},{\"id\":\"ff6f02b4-0495-43d3-b6b6-a11cf0dd4ceb\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,320],\"parameters\":{\"color\":4,\"width\":320,\"height\":100,\"content\":\"## 更改输入文件格式\\n如需更改文件格式，请在提取文件数据节点中进行操作。\"},\"typeVersion\":1},{\"id\":\"4e23de5c-85a4-40cb-94a1-6216a820bdad\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[360,0],\"parameters\":{\"color\":4,\"width\":320,\"height\":140,\"content\":\"## 更改字段名称\\n在解析数据节点中根据需要更改数据标题名称。\\n\\n当前 -> 电子邮件\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Webhook\":{\"main\":[[{\"node\":\"Extract File Data\",\"type\":\"main\",\"index\":0}]]},\"Parse Data\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Replace Me\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Delete Contact\":{\"main\":[[{\"node\":\"Replace Me\",\"type\":\"main\",\"index\":0}]]},\"Search Contact\":{\"main\":[[{\"node\":\"If contact exists\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[],[{\"node\":\"Search Contact\",\"type\":\"main\",\"index\":0}]]},\"Extract File Data\":{\"main\":[[{\"node\":\"Parse Data\",\"type\":\"main\",\"index\":0}]]},\"If contact exists\":{\"main\":[[{\"node\":\"Delete Contact\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Replace Me\",\"type\":\"main\",\"index\":0}]]}}}"
}