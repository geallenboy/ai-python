{
  "url": "https://n8n.io/workflows/859-tracking-your-crypto-portfolio-in-airtable/",
  "title": "Tracking your crypto portfolio in Airtable",
  "author": "jason",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Finance"
    },
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"id\":\"14\",\"name\":\"Update Crypto Values\",\"nodes\":[{\"name\":\"CoinGecko\",\"type\":\"n8n-nodes-base.coinGecko\",\"position\":[670,400],\"parameters\":{\"coinId\":\"={{$json[\\\"fields\\\"][\\\"Symbol\\\"]}}\",\"options\":{\"market_data\":true,\"localization\":false},\"operation\":\"get\"},\"typeVersion\":1},{\"name\":\"Get Portfolio\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[450,400],\"parameters\":{\"table\":\"Portfolio\",\"operation\":\"list\",\"application\":\"appT7eX4iZcZVRIdq\",\"additionalOptions\":{\"fields\":[\"Symbol\"]}},\"credentials\":{\"airtableApi\":\"Airtable\"},\"typeVersion\":1},{\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[870,400],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Present Price\",\"value\":\"={{$json[\\\"market_data\\\"][\\\"current_price\\\"][\\\"usd\\\"]}}\"},{\"name\":\"Id\",\"value\":\"={{$node[\\\"Get Portfolio\\\"].json[\\\"id\\\"]}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Run Top of Hour\",\"type\":\"n8n-nodes-base.cron\",\"position\":[240,400],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyHour\"}]}},\"typeVersion\":1},{\"name\":\"Get Portfolio Values\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1260,400],\"parameters\":{\"table\":\"Portfolio\",\"operation\":\"list\",\"application\":\"appT7eX4iZcZVRIdq\",\"additionalOptions\":{\"fields\":[\"Present Value\"]}},\"credentials\":{\"airtableApi\":\"Airtable\"},\"typeVersion\":1},{\"name\":\"Determine Total Value\",\"type\":\"n8n-nodes-base.function\",\"position\":[1460,400],\"parameters\":{\"functionCode\":\"var totalValues = 0;\\n\\nitems.forEach(sumValues);\\n\\nfunction sumValues(value, index, array) {\\n  totalValues = totalValues + value.json.fields['Present Value'];\\n}\\n\\nitems = [{\\\"json\\\": {}}];\\n\\n\\nitems[0].json['Portfolio Value (US$)'] = totalValues;\\n\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Update Values\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1070,400],\"parameters\":{\"id\":\"={{$node[\\\"SplitInBatches\\\"].json[\\\"id\\\"]}}\",\"table\":\"Portfolio\",\"fields\":[\"Present Price\"],\"options\":{},\"operation\":\"update\",\"application\":\"appT7eX4iZcZVRIdq\",\"updateAllFields\":false},\"credentials\":{\"airtableApi\":\"Airtable\"},\"typeVersion\":1},{\"name\":\"Append Portfolio Value\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1660,400],\"parameters\":{\"table\":\"Portfolio Value\",\"fields\":[\"Portfolio Value (US$)\"],\"options\":{},\"operation\":\"append\",\"application\":\"appT7eX4iZcZVRIdq\",\"addAllFields\":false},\"credentials\":{\"airtableApi\":\"Airtable\"},\"typeVersion\":1}],\"active\":false,\"settings\":{},\"connections\":{\"Set\":{\"main\":[[{\"node\":\"Update Values\",\"type\":\"main\",\"index\":0}]]},\"CoinGecko\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]},\"Get Portfolio\":{\"main\":[[{\"node\":\"CoinGecko\",\"type\":\"main\",\"index\":0}]]},\"Update Values\":{\"main\":[[{\"node\":\"Get Portfolio Values\",\"type\":\"main\",\"index\":0}]]},\"Run Top of Hour\":{\"main\":[[{\"node\":\"Get Portfolio\",\"type\":\"main\",\"index\":0}]]},\"Get Portfolio Values\":{\"main\":[[{\"node\":\"Determine Total Value\",\"type\":\"main\",\"index\":0}]]},\"Determine Total Value\":{\"main\":[[{\"node\":\"Append Portfolio Value\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "If you have made some investments in cryptocurrency, this workflow will allow you to create an [Airtable base](https://airtable.com/shrVzSe6GMNYsZ2Zx) that will update the value of your portfolio every hour. You can then track how well your investments are doing.\n\n![image.png](https://f000.backblazeb2.com/file/n8n-website-images/3a4aa26a7d0a46c289f991b1548b7687.png)\n\nYou can check out my [Airtable base](https://airtable.com/shrVzSe6GMNYsZ2Zx) to see how it works or even copy my base so that you can customize this workflow for yourself.\n\nTo implement this workflow, you will need to update the Airtable nodes with your own credentials and make sure that they are pointing to your Airtable\n",
  "crawled_at": "2025-05-25T18:59:14.518548",
  "readme_zh": "若你已投资加密货币，此工作流将助你创建一个[Airtable表格](https://airtable.com/shrVzSe6GMNYsZ2Zx)，每小时自动更新投资组合价值。你可借此实时追踪投资收益表现。\n\n![image.png](https://f000.backblazeb2.com/file/n8n-website-images/3a4aa26a7d0a46c289f991b1548b7687.png)\n\n可参考我的[Airtable模板](https://airtable.com/shrVzSe6GMNYsZ2Zx)了解运作机制，或直接复制该模板并根据自身需求调整工作流。\n\n实施时需将Airtable节点替换为你自己的账户凭证，并确保所有设置指向你的个人Airtable数据库。",
  "title_zh": "在Airtable中追踪您的加密货币投资组合",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"14\",\n  \"name\": \"Update Crypto Values\",\n  \"nodes\": [\n    {\n      \"name\": \"CoinGecko\",\n      \"type\": \"n8n-nodes-base.coinGecko\",\n      \"position\": [\n        670,\n        400\n      ],\n      \"parameters\": {\n        \"coinId\": \"={{$json[\\\"fields\\\"][\\\"Symbol\\\"]}}\",\n        \"options\": {\n          \"market_data\": true,\n          \"localization\": false\n        },\n        \"operation\": \"get\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Portfolio\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        450,\n        400\n      ],\n      \"parameters\": {\n        \"table\": \"Portfolio\",\n        \"operation\": \"list\",\n        \"application\": \"appT7eX4iZcZVRIdq\",\n        \"additionalOptions\": {\n          \"fields\": [\n            \"Symbol\"\n          ]\n        }\n      },\n      \"credentials\": {\n        \"airtableApi\": \"Airtable\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        870,\n        400\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"Present Price\",\n              \"value\": \"={{$json[\\\"market_data\\\"][\\\"current_price\\\"][\\\"usd\\\"]}}\"\n            },\n            {\n              \"name\": \"Id\",\n              \"value\": \"={{$node[\\\"Get Portfolio\\\"].json[\\\"id\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Run Top of Hour\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        240,\n        400\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyHour\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Portfolio Values\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1260,\n        400\n      ],\n      \"parameters\": {\n        \"table\": \"Portfolio\",\n        \"operation\": \"list\",\n        \"application\": \"appT7eX4iZcZVRIdq\",\n        \"additionalOptions\": {\n          \"fields\": [\n            \"Present Value\"\n          ]\n        }\n      },\n      \"credentials\": {\n        \"airtableApi\": \"Airtable\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Determine Total Value\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1460,\n        400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"var totalValues = 0;\\n\\nitems.forEach(sumValues);\\n\\nfunction sumValues(value, index, array) {\\n  totalValues = totalValues + value.json.fields['Present Value'];\\n}\\n\\nitems = [{\\\"json\\\": {}}];\\n\\n\\nitems[0].json['Portfolio Value (US$)'] = totalValues;\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Update Values\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1070,\n        400\n      ],\n      \"parameters\": {\n        \"id\": \"={{$node[\\\"SplitInBatches\\\"].json[\\\"id\\\"]}}\",\n        \"table\": \"Portfolio\",\n        \"fields\": [\n          \"Present Price\"\n        ],\n        \"options\": {},\n        \"operation\": \"update\",\n        \"application\": \"appT7eX4iZcZVRIdq\",\n        \"updateAllFields\": false\n      },\n      \"credentials\": {\n        \"airtableApi\": \"Airtable\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Append Portfolio Value\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1660,\n        400\n      ],\n      \"parameters\": {\n        \"table\": \"Portfolio Value\",\n        \"fields\": [\n          \"Portfolio Value (US$)\"\n        ],\n        \"options\": {},\n        \"operation\": \"append\",\n        \"application\": \"appT7eX4iZcZVRIdq\",\n        \"addAllFields\": false\n      },\n      \"credentials\": {\n        \"airtableApi\": \"Airtable\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Values\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CoinGecko\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Portfolio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CoinGecko\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Values\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Portfolio Values\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Run Top of Hour\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Portfolio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Portfolio Values\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Determine Total Value\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Determine Total Value\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append Portfolio Value\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}