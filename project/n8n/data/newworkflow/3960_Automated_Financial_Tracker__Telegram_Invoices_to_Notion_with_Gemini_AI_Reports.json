{
  "url": "https://n8n.io/workflows/3960-automated-financial-tracker-telegram-invoices-to-notion-with-gemini-ai-reports/",
  "title": "Automated Financial Tracker: Telegram Invoices to Notion with Gemini AI Reports",
  "author": "Rizqi Pratama Ramadhani",
  "publish_date": "Last update 13 days ago",
  "publish_date_absolute": "2025-05-13",
  "categories": [
    {
      "name": "Finance"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"3BkxvtCbF6hHGUgM\",\"meta\":{\"instanceId\":\"d847dccbed2cefba539a228a44c266869b59eafbd4f307c4928a1149fb542a9e\",\"templateCredsSetupCompleted\":true},\"name\":\"N8N Financial Tracker Telegram Invoices to Notion with AI Summaries & Reports\",\"tags\":[{\"id\":\"OXcPKHaINFSvU1ux\",\"name\":\"Money\",\"createdAt\":\"2025-05-09T11:02:15.929Z\",\"updatedAt\":\"2025-05-09T11:02:15.929Z\"},{\"id\":\"witgF3iHQ0sAlkjG\",\"name\":\"experimental\",\"createdAt\":\"2025-05-09T11:02:15.933Z\",\"updatedAt\":\"2025-05-09T11:02:15.933Z\"}],\"nodes\":[{\"id\":\"3792ae58-807f-4e83-a219-25c17c8b4048\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[680,380],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.5-flash-preview-04-17\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"haEP6ehKtsSUjFmK\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"943f87e2-a1ac-4f7e-999b-8ea261259e5a\",\"name\":\"Basic LLM Chain\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[640,220],\"parameters\":{\"text\":\"=ini ada base64 invoice rangkumkan Pengeluaran dari invoice tersebut Nama Barang jumlah dan Pengeluaran masing masing barang dan total, outputnya jangan panjang panjang saya cukup berikan \\n\\ndate: DD-MM-YYYY ( Jika dari OCR tidak ada tanggal ambil tanggal hari ini )\\nid:\\nname:\\n qty: \\nprice:\\n total:\\ncategory:\\ntax : (jika di total berbeda dengan item brati ada pajak nya hitungkan juga pajaknya masukan kesini)\\n\\nuntuk pilihan categorynya : Food & Beverage / Transportation / Utilities / Shopping / Healthcare / Entertaiment / Housing / Education\\n\\ndalam bentuk JSON array object, berikan juga key message summary untuk rangkuman, berikan rangkauman singkat total pengeluaran dan barang apa saja yang dibeli serta jumlah nya berikan juga pajaknya\",\"messages\":{\"messageValues\":[{\"type\":\"HumanMessagePromptTemplate\",\"messageType\":\"imageBinary\"}]},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.4},{\"id\":\"247b78cb-c3f6-4f31-8559-0fff70de9ba9\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,0],\"parameters\":{\"width\":1703,\"height\":580,\"content\":\"## Automated Financial Tracker: Telegram Invoices to Notion with AI Summaries & Reports\\n\"},\"typeVersion\":1},{\"id\":\"e20045c2-a8ef-43d6-b619-6825f605e183\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,620],\"parameters\":{\"color\":5,\"width\":1706,\"height\":527,\"content\":\"## Schedule report to send on chanel or private message\\n\"},\"typeVersion\":1},{\"id\":\"ed8d6544-af9e-416a-b1f3-624ca108427f\",\"name\":\"Schedule Trigger | for send chart report\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[80,880],\"parameters\":{\"rule\":{\"interval\":[{}]}},\"typeVersion\":1.2},{\"id\":\"22ad7ea1-9404-48bd-9d0f-0c58b8b66e3d\",\"name\":\"Get Recent Data from Notions\",\"type\":\"n8n-nodes-base.notion\",\"position\":[400,940],\"parameters\":{\"filters\":{\"conditions\":[{\"key\":\"Created time|created_time\",\"condition\":\"past_week\"}]},\"options\":{},\"resource\":\"databasePage\",\"operation\":\"getAll\",\"returnAll\":true,\"databaseId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1d858554-d218-807c-936c-d06c8a8ec769\",\"cachedResultUrl\":\"https://www.notion.so/1d858554d218807c936cd06c8a8ec769\",\"cachedResultName\":\"Pengeluaran Rizqi Dini\"},\"filterType\":\"manual\"},\"credentials\":{\"notionApi\":{\"id\":\"AhjWhO7Jpc5x7xKG\",\"name\":\"Notion account\"}},\"typeVersion\":2.2},{\"id\":\"34310645-52da-4f9c-96a2-0a01d0a640f9\",\"name\":\"Summarize Transaction Data\",\"type\":\"n8n-nodes-base.summarize\",\"position\":[760,920],\"parameters\":{\"options\":{},\"fieldsToSplitBy\":\"property_category\",\"fieldsToSummarize\":{\"values\":[{\"field\":\"property_total\",\"aggregation\":\"sum\"}]}},\"typeVersion\":1},{\"id\":\"80a374cb-00cf-46b1-9505-709be1c550da\",\"name\":\"Generate Chart\",\"type\":\"n8n-nodes-base.quickChart\",\"position\":[1200,900],\"parameters\":{\"data\":\"={{ $json.chart.data.datasets[0].data }}\",\"labelsMode\":\"array\",\"labelsArray\":\"={{ $json.chart.data.labels }}\",\"chartOptions\":{},\"datasetOptions\":{}},\"typeVersion\":1},{\"id\":\"6b7c67ee-b205-42f5-9441-eb2ecee4a503\",\"name\":\"Send Chart Image to Group or Private Chat\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1460,760],\"webhookId\":\"66cce6e1-819c-487b-b8ad-3f02aebd40cb\",\"parameters\":{\"chatId\":\"-1001957001324\",\"operation\":\"sendPhoto\",\"binaryData\":true,\"additionalFields\":{\"fileName\":\"chart\",\"message_thread_id\":571}},\"credentials\":{\"telegramApi\":{\"id\":\"J8yRVYmsnH74HuaD\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"06afd5ea-77b2-468d-b12b-1386d37a3ee6\",\"name\":\"Convert Data to JSON chart payload\",\"type\":\"n8n-nodes-base.code\",\"position\":[1080,900],\"parameters\":{\"jsCode\":\"const labels = [];\\nconst values = [];\\n\\nfor (const item of items) {\\n  labels.push(item.json.property_category);\\n  values.push(item.json.sum_property_total);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      chart: {\\n        type: 'bar',\\n        data: {\\n          labels,\\n          datasets: [\\n            {\\n              label: 'Spending by Category',\\n              data: values,\\n              backgroundColor: 'rgba(54, 162, 235, 0.6)',\\n              borderColor: 'rgba(54, 162, 235, 1)',\\n              borderWidth: 1\\n            }\\n          ]\\n        },\\n        options: {\\n          plugins: {\\n            title: {\\n              display: true,\\n              text: 'Spending Summary by Category'\\n            }\\n          },\\n          scales: {\\n            y: {\\n              beginAtZero: true\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n];\"},\"typeVersion\":2},{\"id\":\"4ad8c9c9-fbec-46ce-943d-447ca687e031\",\"name\":\"Telegram Trigger | When recive photo\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[160,160],\"webhookId\":\"cac4ce91-ed1f-42ea-aebe-97ac3612aea6\",\"parameters\":{\"updates\":[\"message\"],\"additionalFields\":{}},\"credentials\":{\"telegramApi\":{\"id\":\"J8yRVYmsnH74HuaD\",\"name\":\"Telegram account\"}},\"typeVersion\":1.1},{\"id\":\"5231929f-2d7d-43ff-b9ae-141374926131\",\"name\":\"Get Image Info\",\"type\":\"n8n-nodes-base.editImage\",\"position\":[460,160],\"parameters\":{\"operation\":\"information\"},\"typeVersion\":1},{\"id\":\"c8dcc6a1-2367-4049-9a8b-d8a04299ee72\",\"name\":\"Parse To your object | Table\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[1040,460],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"message\\\": {\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"summary\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\\"date\\\": { \\\"type\\\": \\\"date\\\" },\\n          \\\"id\\\": { \\\"type\\\": \\\"integer\\\" },\\n          \\\"name\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"qty\\\": { \\\"type\\\": \\\"integer\\\" },\\n          \\\"price\\\": { \\\"type\\\": \\\"number\\\" },\\n          \\\"tax\\\": { \\\"type\\\": \\\"number\\\" },\\n          \\\"total\\\": { \\\"type\\\": \\\"number\\\" },\\\"category\\\": { \\\"type\\\": \\\"string\\\" }\\n        },\\n        \\\"required\\\": [\\\"id\\\", \\\"name\\\", \\\"qty\\\", \\\"price\\\", \\\"total\\\",\\\"category\\\"]\\n      }\\n    }\\n  },\\n  \\\"required\\\": [\\\"message\\\", \\\"summary\\\"]\\n}\\n\"},\"typeVersion\":1.2},{\"id\":\"bc098a26-4e55-4908-880c-e5f27737a941\",\"name\":\"Split Out | data transaction\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1120,40],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"output.summary\"},\"typeVersion\":1},{\"id\":\"2a42bc4b-a5c7-433e-91e4-aa5531570f73\",\"name\":\"Sendback to chat and give summarize text\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1480,400],\"webhookId\":\"f90475fa-69cd-4e19-bc93-bffdceae8324\",\"parameters\":{\"text\":\"={{ $json.output.message }}\",\"chatId\":\"={{ $('Telegram Trigger | When recive photo').item.json.message.chat.id }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"J8yRVYmsnH74HuaD\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"bfc5c52e-313d-4257-bdfa-c542b687a853\",\"name\":\"Record To Notion Database\",\"type\":\"n8n-nodes-base.notion\",\"position\":[1580,120],\"parameters\":{\"options\":{},\"resource\":\"databasePage\",\"databaseId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1d858554-d218-807c-936c-d06c8a8ec769\",\"cachedResultUrl\":\"https://www.notion.so/1d858554d218807c936cd06c8a8ec769\",\"cachedResultName\":\"Pengeluaran Rizqi Dini\"},\"propertiesUi\":{\"propertyValues\":[{\"key\":\"Name|title\",\"title\":\"={{ $json.name }}\"},{\"key\":\"Quantity|number\",\"numberValue\":\"={{ $json.qty }}\"},{\"key\":\"Price|number\",\"numberValue\":\"={{ $json.price }}\"},{\"key\":\"Total|number\",\"numberValue\":\"={{ $json.total }}\"},{\"key\":\"Category|select\",\"selectValue\":\"={{ $json.category }}\"},{\"key\":\"Date|rich_text\",\"textContent\":\"={{ $json.date }}\"},{\"key\":\"Tax|number\",\"numberValue\":\"={{ $json.tax }}\"}]}},\"credentials\":{\"notionApi\":{\"id\":\"AhjWhO7Jpc5x7xKG\",\"name\":\"Notion account\"}},\"typeVersion\":2.2},{\"id\":\"f514554b-eb9e-47e2-ad6b-0b13036beaf4\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,60],\"parameters\":{\"color\":3,\"width\":340,\"height\":280,\"content\":\"📸 INVOICE INPUT 📸\\nBot listens here for photos of your receipts/invoices.\\nEnsure your Telegram Bot API token is set in credentials.\"},\"typeVersion\":1},{\"id\":\"53fc4c77-3f16-4cb8-82e8-f4810af1f569\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[600,60],\"parameters\":{\"color\":5,\"width\":360,\"height\":460,\"content\":\"🤖 AI MAGIC HAPPENS HERE 🧠\\n- Image is sent to Google Gemini for data extraction.\\n- Check 'Basic LLM Chain' to customize the AI prompt (e.g., categories, output format).\\n- Requires Google Gemini API credentials.\"},\"typeVersion\":1},{\"id\":\"c6fb1193-7cc9-4f45-8a5f-20af41cdf3c8\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[980,340],\"parameters\":{\"color\":5,\"width\":280,\"height\":200,\"content\":\"✨ STRUCTURING AI DATA ✨\\nConverts the AI's text output into a usable JSON object.\\nCheck the schema if you modify the AI prompt significantly.\"},\"typeVersion\":1},{\"id\":\"79a4e9ba-d1ea-4cfc-870c-145bae80c9b4\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,0],\"parameters\":{\"color\":2,\"width\":380,\"height\":240,\"content\":\"📝 SAVING TO NOTION 📝\\n- Extracted transaction data is saved here.\\n- Configure with your Notion API key & Database ID.\\n- Map fields correctly to your database columns!\"},\"typeVersion\":1},{\"id\":\"9406306b-9f3d-4877-a888-1f5e16a431c1\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,760],\"parameters\":{\"height\":280,\"content\":\"REPORTING SCHEDULE 🗓️\\nSet how often you want to receive your spending report (e.g., weekly, monthly).\"},\"typeVersion\":1},{\"id\":\"1b6c8a28-b0f0-44fb-be02-21725d950716\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[320,760],\"parameters\":{\"color\":2,\"width\":280,\"height\":380,\"content\":\"📊 FETCHING DATA FOR REPORT 📊\\n- Retrieves transactions from Notion for the report period.\\n- Default: \\\"Past Week\\\". Adjust filter as needed.\\n- Requires Notion API credentials & Database ID.\"},\"typeVersion\":1},{\"id\":\"4612006e-04a9-4ad5-9f05-d49ec13f31cf\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,740],\"parameters\":{\"width\":320,\"height\":360,\"content\":\"➕ SUMMARIZING SPENDING ➕\\nAggregates your expenses, usually by category,\\nto prepare for the chart.\"},\"typeVersion\":1},{\"id\":\"103132cf-37a6-455f-b19f-14d3e17af912\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1040,740],\"parameters\":{\"width\":300,\"height\":340,\"content\":\"📈 GENERATING VISUAL REPORT 📈\\nCreates the actual chart image based on your spending data.\\nYou can customize chart type (bar, pie, etc.) here.\"},\"typeVersion\":1},{\"id\":\"24324366-33e5-4097-ab36-aac31cef0006\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1380,640],\"parameters\":{\"color\":6,\"width\":300,\"height\":300,\"content\":\"📤 SENDING REPORT TO TELEGRAM 📤\\n- Delivers the generated chart to your chosen Telegram chat/group.\\n- Set the correct Chat ID and Bot API token.\"},\"typeVersion\":1},{\"id\":\"e9fc1140-411b-411a-87a6-bbe9718ba3b3\",\"name\":\"Sticky Note11\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,280],\"parameters\":{\"color\":6,\"width\":300,\"height\":280,\"content\":\"💬 TRANSACTION SUMMARY 💬\\nSends a confirmation message back to the user in Telegram\\nwith a summary of the recorded expense.\"},\"typeVersion\":1},{\"id\":\"013fd587-3504-44b8-97e1-09cad47a0089\",\"name\":\"Sticky Note12\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,360],\"parameters\":{\"color\":7,\"width\":460,\"height\":240,\"content\":\"  🔑 CREDENTIALS NEEDED 🔑\\n  Remember to set up API keys/tokens for:\\n  - Telegram\\n  - Google Gemini\\n  - Notion\\n\\n  💡 CUSTOMIZE ME! 💡\\n  - Adjust AI prompts for better accuracy.\\n  - Change Notion database structure.\\n  - Modify report frequency and content.\\n\"},\"typeVersion\":1},{\"id\":\"8f6f0fdb-d3be-4464-a7db-ea4d642a4f55\",\"name\":\"Telegram\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[320,160],\"webhookId\":\"6e801e0b-72d1-42a9-ac47-61ac113a01d2\",\"parameters\":{\"fileId\":\"={{ $json.message.photo[3].file_id }}\",\"resource\":\"file\"},\"credentials\":{\"telegramApi\":{\"id\":\"J8yRVYmsnH74HuaD\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"a192c50c-4a77-44ee-b98a-f18d4ced2cb1\",\"connections\":{\"Telegram\":{\"main\":[[{\"node\":\"Get Image Info\",\"type\":\"main\",\"index\":0}]]},\"Generate Chart\":{\"main\":[[{\"node\":\"Send Chart Image to Group or Private Chat\",\"type\":\"main\",\"index\":0}]]},\"Get Image Info\":{\"main\":[[{\"node\":\"Basic LLM Chain\",\"type\":\"main\",\"index\":0}]]},\"Basic LLM Chain\":{\"main\":[[{\"node\":\"Split Out | data transaction\",\"type\":\"main\",\"index\":0},{\"node\":\"Sendback to chat and give summarize text\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Basic LLM Chain\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Summarize Transaction Data\":{\"main\":[[{\"node\":\"Convert Data to JSON chart payload\",\"type\":\"main\",\"index\":0}]]},\"Get Recent Data from Notions\":{\"main\":[[{\"node\":\"Summarize Transaction Data\",\"type\":\"main\",\"index\":0}]]},\"Parse To your object | Table\":{\"ai_outputParser\":[[{\"node\":\"Basic LLM Chain\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Split Out | data transaction\":{\"main\":[[{\"node\":\"Record To Notion Database\",\"type\":\"main\",\"index\":0}]]},\"Convert Data to JSON chart payload\":{\"main\":[[{\"node\":\"Generate Chart\",\"type\":\"main\",\"index\":0}]]},\"Telegram Trigger | When recive photo\":{\"main\":[[{\"node\":\"Telegram\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger | for send chart report\":{\"main\":[[{\"node\":\"Get Recent Data from Notions\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Automated Financial Tracker: Telegram Invoices to Notion with AI Summaries & Reports**\n\n* * *\n\n**Tired of manually logging every expense? Streamline your financial tracking with this powerful n8n workflow!**\n\nSnap a photo of your invoice in Telegram, and let AI (powered by Google Gemini) automatically extract the details, record them in your Notion database, and even send you a quick summary. Plus, get scheduled weekly reports with charts to visualize your spending. Automate your finances, save time, and gain better insights with this easy-to-use template!\n\n**Transform your expense tracking from a chore into an automated breeze. Try it out!**\n\n* * *\n\n### Overview:\n\nThis workflow revolutionizes how you track your finances by automating the entire process from invoice capture to reporting. Simply send a photo of an invoice or receipt to a designated Telegram chat, and this workflow will:\n\n  1. **Extract Data with AI:** Utilize Google Gemini's capabilities to perform OCR on the image, understand the content, and extract key details like item name, quantity, price, total, date, and even attempt to categorize the expense.\n  2. **Store in Notion:** Automatically log each extracted transaction into a structured Notion database.\n  3. **Instant Feedback:** Send a summary of the processed transaction back to your Telegram chat.\n  4. **Scheduled Reporting:** Generate and send a visual summary of your expenses (e.g., weekly spending by category) as a chart to your preferred Telegram chat or group.\n\n\n\nThis workflow is perfect for individuals, freelancers, or small teams looking to effortlessly manage their expenses without manual data entry.\n\n### Key Features & Benefits:\n\n  * **Effortless Expense Logging:** Just send a picture – no more typing!\n  * **AI-Powered Data Extraction:** Leverages Google Gemini for intelligent invoice processing.\n  * **Centralized Data in Notion:** Keep all your financial records neatly organized in a Notion database.\n  * **Automated Categorization:** AI helps in categorizing your expenses (e.g., Food & Beverage, Transportation).\n  * **Instant Summaries:** Get immediate confirmation and a summary of what was recorded.\n  * **Visual Reporting:** Receive scheduled charts (e.g., bar charts of spending by category) directly in Telegram.\n  * **Customizable:** Easily adapt the workflow to your specific needs, categories, and reporting preferences.\n  * **Time-Saving:** Drastically reduces the time spent on manual financial administration.\n\n\n\n### How It Works (Workflow Breakdown):\n\nThe workflow is divided into two main parts:\n\n**Part 1: Real-time Invoice Processing & Logging (`## Auto Notes Transaction with Telegram and Notion database`)**\n\n  1. **Telegram Trigger (`Telegram Trigger | When recive photo`):** Activates when a new photo is sent to the configured Telegram chat.\n  2. **Get Photo Info (`Get Info Photo from telegram chat`):** Retrieves the details of the received photo.\n  3. **Get Image Info (`Get Image Info`):** Prepares the image data.\n  4. **AI Data Extraction (`Google Gemini Chat Model` & `Basic LLM Chain`):**\n     * The image data is sent to the Google Gemini Chat Model.\n     * A specific prompt instructs the AI to extract details (date, ID, name, quantity, price, total, category, tax) in a JSON array format and provide a summary message. The categories include Food & Beverage, Transportation, Utilities, Shopping, Healthcare, Entertainment, Housing, and Education.\n  5. **Parse AI Output (`Parse To your object | Table`):** Structures the AI's JSON output for easier handling.\n  6. **Split Transactions (`Split Out | data transaction`):** If an invoice contains multiple items, this node splits them into individual records.\n  7. **Record to Notion (`Record To Notion Database`):** Each transaction item is added as a new page/entry in your specified Notion database, mapping fields like Name, Quantity, Price, Total, Category, Date, and Tax.\n  8. **Send Telegram Summary (`Sendback to chat and give summarize text`):** The summary message generated by the AI is sent back to the original Telegram chat.\n\n\n\n**Part 2: Scheduled Financial Reporting (`## Schedule report to send on chanel or private message`)**\n\n  1. **Schedule Trigger (`Schedule Trigger | for send chart report`):** Runs at a predefined interval (e.g., every week) to generate reports.\n  2. **Get Recent Data from Notion (`Get Recent Data from Notions`):** Fetches transaction data from the Notion database for a specific period (e.g., the past week).\n  3. **Summarize Data (`Summarize Transaction Data`):** Aggregates the data, for example, by summing up the 'total' amount for each 'category'.\n  4. **Prepare Chart Data (`Convert Data to JSON chart payload`):** Transforms the summarized data into a JSON format suitable for generating a chart (e.g., labels for categories, data for spending amounts).\n  5. **Generate Chart (`Generate Chart`):** Uses the QuickChart node to create a visual chart (e.g., a bar chart) from the prepared data.\n  6. **Send Chart to Telegram (`Send Chart Image to Group or Private Chat`):** Sends the generated chart image to a specified Telegram chat ID or group.\n\n\n\n### Nodes Used (Key Nodes):\n\n  * **Telegram Trigger & Telegram Node:** For receiving images and sending messages/images.\n  * **Google Gemini Chat Model (Langchain):** For AI-powered OCR and data extraction from invoices.\n  * **Basic LLM Chain (Langchain):** To interact with the language model using specific prompts.\n  * **Output Parser Structured (Langchain):** To structure the output from the language model.\n  * **Notion Node:** For reading from and writing to your Notion databases.\n  * **Schedule Trigger:** To automate the reporting process.\n  * **Summarize Node:** To aggregate data for reports.\n  * **Code Node:** Used here to format data for the chart.\n  * **QuickChart Node:** For generating charts.\n  * **SplitOut Node:** To process multiple items from a single invoice.\n\n\n\n### Setup Instructions:\n\n  1. **Credentials:**\n     * **Telegram:** Create a Telegram bot and get its API token. You'll also need the Chat ID where you'll send invoices and where reports should be sent.\n     * **Google Gemini (PaLM) API:** You'll need an API key for Google Gemini.\n     * **Notion:** Create a Notion integration and get the API key. Create a Notion database with properties corresponding to the data you want to save (e.g., `Name` (Title), `Quantity` (Number), `Price` (Number), `Total` (Number), `Category` (Select), `Date` (Text or Date), `Tax` (Number)). Share this database with your Notion integration.\n  2. **Configure Telegram Trigger:**\n     * Add your Telegram Bot API token.\n     * When you first activate the workflow or test the trigger, send `/start` to your bot in the chat you want to use for sending invoices. n8n will then capture the Chat ID.\n  3. **Configure Google Gemini Node (`Google Gemini Chat Model`):**\n     * Select or add your Google Gemini API credentials.\n     * Review the prompt in the `Basic LLM Chain` node and adjust if necessary (e.g., date format, categories).\n  4. **Configure Notion Nodes:**\n     * **`Record To Notion Database`:**\n       * Select or add your Notion API credentials.\n       * Select your target Notion Database ID.\n       * Map the properties from the workflow (e.g., `={{ $json.name }}`) to your Notion database columns.\n     * **`Get Recent Data from Notions`:**\n       * Select or add your Notion API credentials.\n       * Select your target Notion Database ID.\n       * Adjust the filter if needed (default is \"past_week\").\n  5. **Configure Telegram Node for Reports (`Send Chart Image to Group or Private Chat`):**\n     * Select or add your Telegram Bot API token.\n     * Enter the `Chat ID` for the group or private chat where you want to receive the reports.\n  6. **Configure Schedule Trigger (`Schedule Trigger | for send chart report`):**\n     * Set your desired schedule (e.g., every Monday at 9 AM).\n  7. **Test:** Send an image of an invoice to your Telegram bot and check if the data appears in Notion and if you receive a summary message. Wait for the scheduled report or manually trigger it to test the reporting functionality.\n\n\n\n* * *\n\n## Sticky Note Text for Your n8n Template:\n\n_(These are suggestions. You would place these directly into the sticky notes within your n8n workflow editor.)_\n\n**Existing High-Level Sticky Notes:**\n\n  * `## Auto Notes Transaction with Telegram and Notion database`\n  * `## Schedule report to send on chanel or private message`\n\n\n\n**Specific Sticky Notes to Add:**\n\n  * **On`Telegram Trigger | When recive photo`:**\n        \n        📸 INVOICE INPUT 📸\n        Bot listens here for photos of your receipts/invoices.\n        Ensure your Telegram Bot API token is set in credentials.\n        \n\n  * **Near`Google Gemini Chat Model` & `Basic LLM Chain`:**\n        \n        🤖 AI MAGIC HAPPENS HERE 🧠\n        - Image is sent to Google Gemini for data extraction.\n        - Check 'Basic LLM Chain' to customize the AI prompt (e.g., categories, output format).\n        - Requires Google Gemini API credentials.\n        \n\n  * **On`Parse To your object | Table`:**\n        \n        ✨ STRUCTURING AI DATA ✨\n        Converts the AI's text output into a usable JSON object.\n        Check the schema if you modify the AI prompt significantly.\n        \n\n  * **On`Record To Notion Database`:**\n        \n        📝 SAVING TO NOTION 📝\n        - Extracted transaction data is saved here.\n        - Configure with your Notion API key & Database ID.\n        - Map fields correctly to your database columns!\n        \n\n  * **On`Sendback to chat and give summarize text`:**\n        \n        💬 TRANSACTION SUMMARY 💬\n        Sends a confirmation message back to the user in Telegram\n        with a summary of the recorded expense.\n        \n\n  * **On`Schedule Trigger | for send chart report`:**\n        \n        🗓️ REPORTING SCHEDULE 🗓️\n        Set how often you want to receive your spending report (e.g., weekly, monthly).\n        \n\n  * **On`Get Recent Data from Notions`:**\n        \n        📊 FETCHING DATA FOR REPORT 📊\n        - Retrieves transactions from Notion for the report period.\n        - Default: \"Past Week\". Adjust filter as needed.\n        - Requires Notion API credentials & Database ID.\n        \n\n  * **On`Summarize Transaction Data`:**\n        \n        ➕ SUMMARIZING SPENDING ➕\n        Aggregates your expenses, usually by category,\n        to prepare for the chart.\n        \n\n  * **On`Convert Data to JSON chart payload` (Code Node):**\n        \n        🎨 PREPARING CHART DATA 🎨\n        This Code node formats the summarized data\n        into the JSON structure needed by QuickChart.\n        \n\n  * **On`Generate Chart` (QuickChart Node):**\n        \n        📈 GENERATING VISUAL REPORT 📈\n        Creates the actual chart image based on your spending data.\n        You can customize chart type (bar, pie, etc.) here.\n        \n\n  * **On`Send Chart Image to Group or Private Chat`:**\n        \n        📤 SENDING REPORT TO TELEGRAM 📤\n        - Delivers the generated chart to your chosen Telegram chat/group.\n        - Set the correct Chat ID and Bot API token.\n        \n\n  * **General Sticky Note (Place where relevant):**\n        \n        🔑 CREDENTIALS NEEDED 🔑\n        Remember to set up API keys/tokens for:\n        - Telegram\n        - Google Gemini\n        - Notion\n        \n\n  * **General Sticky Note (Place where relevant):**\n        \n        💡 CUSTOMIZE ME! 💡\n        - Adjust AI prompts for better accuracy.\n        - Change Notion database structure.\n        - Modify report frequency and content.\n        \n\n\n\n",
  "crawled_at": "2025-05-26T06:07:23.569816",
  "readme_zh": "**自动化财务追踪器：Telegram发票智能录入Notion，AI摘要与报告一键生成**\n\n* * *\n\n**厌倦了手动记录每笔开支？用这款强大的n8n工作流解放双手！**\n\n只需在Telegram拍摄发票照片，AI（基于Google Gemini）将自动提取信息、记录到Notion数据库，并发送摘要通知。每周还能收到带可视化图表的消费报告。这个易用模板让财务管理自动化，省时又省心！\n\n**让繁琐的记账变成全自动流水线，立即体验！**\n\n* * *\n\n### 核心功能：\n\n1. **AI智能识别**：通过Google Gemini实现图像OCR，自动提取商品名称、数量、价格、总金额、日期等信息，并智能分类（如餐饮、交通、购物等）\n2. **Notion自动归档**：结构化存储每笔交易到Notion数据库\n3. **实时反馈**：处理完成后即刻在Telegram返回交易摘要\n4. **定期报告**：按周生成可视化消费图表（支持按类别统计）\n\n### 技术亮点：\n\n- **零手动输入**：拍照即完成记录\n- **AI深度学习**：自动识别发票关键字段\n- **Notion中央数据库**：所有财务数据井井有条\n- **智能分类系统**：支持8大消费类型自动归类\n- **可视化报表**：定期推送柱状图/饼图等分析图表\n- **高度可定制**：可自由调整分类规则、报告频率等\n\n### 实现原理：\n\n**第一部分：实时发票处理**\n1. Telegram接收发票照片\n2. Google Gemini解析图像生成结构化数据\n3. 自动拆解多商品订单\n4. 同步至Notion数据库\n5. 返回Telegram摘要通知\n\n**第二部分：定期报告生成**\n1. 定时触发数据汇总\n2. 从Notion获取周期消费数据\n3. AI生成可视化图表\n4. 自动推送至指定Telegram会话\n\n### 配置指南：\n\n1. **准备API密钥**：\n   - Telegram机器人Token\n   - Google Gemini API密钥\n   - Notion集成密钥\n\n2. **设置Notion数据库**：\n   - 需包含名称、数量、价格、总金额、分类、日期等字段\n\n3. **调整工作流**：\n   - 修改AI提示词优化识别精度\n   - 自定义报告周期（周报/月报）\n   - 配置图表类型（柱状图/饼图）\n\n* * *\n\n**便签提示（n8n工作流内嵌建议）：**\n\n`📸 发票入口`  \n在此配置Telegram机器人监听照片消息  \n务必设置正确的Bot API Token  \n\n`🤖 AI核心处理区`  \n- 图像发送至Google Gemini解析  \n- 可修改提示词调整识别规则  \n- 需配置Gemini API凭证  \n\n`📊 可视化报告`  \n每周自动生成消费趋势图表  \n支持自定义统计维度  \n\n`🔧 调试提示`  \n首次使用时建议：  \n1. 发送测试发票照片  \n2. 检查Notion数据是否同步  \n3. 手动触发报告生成测试",
  "title_zh": "自动化财务追踪器：通过Gemini AI生成报告，将Telegram发票同步至Notion",
  "publish_date_zh": "上次更新于5天前",
  "workflow_json_zh": "{\n  \"id\": \"3BkxvtCbF6hHGUgM\",\n  \"meta\": {\n    \"instanceId\": \"d847dccbed2cefba539a228a44c266869b59eafbd4f307c4928a1149fb542a9e\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"N8N Financial Tracker Telegram Invoices to Notion with AI Summaries & Reports\",\n  \"tags\": [\n    {\n      \"id\": \"OXcPKHaINFSvU1ux\",\n      \"name\": \"Money\",\n      \"createdAt\": \"2025-05-09T11:02:15.929Z\",\n      \"updatedAt\": \"2025-05-09T11:02:15.929Z\"\n    },\n    {\n      \"id\": \"witgF3iHQ0sAlkjG\",\n      \"name\": \"experimental\",\n      \"createdAt\": \"2025-05-09T11:02:15.933Z\",\n      \"updatedAt\": \"2025-05-09T11:02:15.933Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"3792ae58-807f-4e83-a219-25c17c8b4048\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        680,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.5-flash-preview-04-17\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"haEP6ehKtsSUjFmK\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"943f87e2-a1ac-4f7e-999b-8ea261259e5a\",\n      \"name\": \"Basic LLM Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        640,\n        220\n      ],\n      \"parameters\": {\n        \"text\": \"=ini ada base64 invoice rangkumkan Pengeluaran dari invoice tersebut Nama Barang jumlah dan Pengeluaran masing masing barang dan total, outputnya jangan panjang panjang saya cukup berikan \\n\\ndate: DD-MM-YYYY ( Jika dari OCR tidak ada tanggal ambil tanggal hari ini )\\nid:\\nname:\\n qty: \\nprice:\\n total:\\ncategory:\\ntax : (jika di total berbeda dengan item brati ada pajak nya hitungkan juga pajaknya masukan kesini)\\n\\nuntuk pilihan categorynya : Food & Beverage / Transportation / Utilities / Shopping / Healthcare / Entertaiment / Housing / Education\\n\\ndalam bentuk JSON array object, berikan juga key message summary untuk rangkuman, berikan rangkauman singkat total pengeluaran dan barang apa saja yang dibeli serta jumlah nya berikan juga pajaknya\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"type\": \"HumanMessagePromptTemplate\",\n              \"messageType\": \"imageBinary\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"247b78cb-c3f6-4f31-8559-0fff70de9ba9\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 1703,\n        \"height\": 580,\n        \"content\": \"## 自动化财务追踪器：Telegram发票智能同步至Notion（含AI摘要与报表功能）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e20045c2-a8ef-43d6-b619-6825f605e183\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1706,\n        \"height\": 527,\n        \"content\": \"## 安排报告发送至频道或私聊\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ed8d6544-af9e-416a-b1f3-624ca108427f\",\n      \"name\": \"Schedule Trigger | for send chart report\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        80,\n        880\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"22ad7ea1-9404-48bd-9d0f-0c58b8b66e3d\",\n      \"name\": \"Get Recent Data from Notions\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        400,\n        940\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"conditions\": [\n            {\n              \"key\": \"Created time|created_time\",\n              \"condition\": \"past_week\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"databaseId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1d858554-d218-807c-936c-d06c8a8ec769\",\n          \"cachedResultUrl\": \"https://www.notion.so/1d858554d218807c936cd06c8a8ec769\",\n          \"cachedResultName\": \"Pengeluaran Rizqi Dini\"\n        },\n        \"filterType\": \"manual\"\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"AhjWhO7Jpc5x7xKG\",\n          \"name\": \"Notion account\"\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"34310645-52da-4f9c-96a2-0a01d0a640f9\",\n      \"name\": \"Summarize Transaction Data\",\n      \"type\": \"n8n-nodes-base.summarize\",\n      \"position\": [\n        760,\n        920\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToSplitBy\": \"property_category\",\n        \"fieldsToSummarize\": {\n          \"values\": [\n            {\n              \"field\": \"property_total\",\n              \"aggregation\": \"sum\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"80a374cb-00cf-46b1-9505-709be1c550da\",\n      \"name\": \"Generate Chart\",\n      \"type\": \"n8n-nodes-base.quickChart\",\n      \"position\": [\n        1200,\n        900\n      ],\n      \"parameters\": {\n        \"data\": \"={{ $json.chart.data.datasets[0].data }}\",\n        \"labelsMode\": \"array\",\n        \"labelsArray\": \"={{ $json.chart.data.labels }}\",\n        \"chartOptions\": {},\n        \"datasetOptions\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6b7c67ee-b205-42f5-9441-eb2ecee4a503\",\n      \"name\": \"Send Chart Image to Group or Private Chat\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1460,\n        760\n      ],\n      \"webhookId\": \"66cce6e1-819c-487b-b8ad-3f02aebd40cb\",\n      \"parameters\": {\n        \"chatId\": \"-1001957001324\",\n        \"operation\": \"sendPhoto\",\n        \"binaryData\": true,\n        \"additionalFields\": {\n          \"fileName\": \"chart\",\n          \"message_thread_id\": 571\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"J8yRVYmsnH74HuaD\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"06afd5ea-77b2-468d-b12b-1386d37a3ee6\",\n      \"name\": \"Convert Data to JSON chart payload\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1080,\n        900\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const labels = [];\\nconst values = [];\\n\\nfor (const item of items) {\\n  labels.push(item.json.property_category);\\n  values.push(item.json.sum_property_total);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      chart: {\\n        type: 'bar',\\n        data: {\\n          labels,\\n          datasets: [\\n            {\\n              label: 'Spending by Category',\\n              data: values,\\n              backgroundColor: 'rgba(54, 162, 235, 0.6)',\\n              borderColor: 'rgba(54, 162, 235, 1)',\\n              borderWidth: 1\\n            }\\n          ]\\n        },\\n        options: {\\n          plugins: {\\n            title: {\\n              display: true,\\n              text: 'Spending Summary by Category'\\n            }\\n          },\\n          scales: {\\n            y: {\\n              beginAtZero: true\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4ad8c9c9-fbec-46ce-943d-447ca687e031\",\n      \"name\": \"Telegram Trigger | When recive photo\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        160,\n        160\n      ],\n      \"webhookId\": \"cac4ce91-ed1f-42ea-aebe-97ac3612aea6\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"J8yRVYmsnH74HuaD\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"5231929f-2d7d-43ff-b9ae-141374926131\",\n      \"name\": \"Get Image Info\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        460,\n        160\n      ],\n      \"parameters\": {\n        \"operation\": \"information\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c8dcc6a1-2367-4049-9a8b-d8a04299ee72\",\n      \"name\": \"Parse To your object | Table\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1040,\n        460\n      ],\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"message\\\": {\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"summary\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\\"date\\\": { \\\"type\\\": \\\"date\\\" },\\n          \\\"id\\\": { \\\"type\\\": \\\"integer\\\" },\\n          \\\"name\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"qty\\\": { \\\"type\\\": \\\"integer\\\" },\\n          \\\"price\\\": { \\\"type\\\": \\\"number\\\" },\\n          \\\"tax\\\": { \\\"type\\\": \\\"number\\\" },\\n          \\\"total\\\": { \\\"type\\\": \\\"number\\\" },\\\"category\\\": { \\\"type\\\": \\\"string\\\" }\\n        },\\n        \\\"required\\\": [\\\"id\\\", \\\"name\\\", \\\"qty\\\", \\\"price\\\", \\\"total\\\",\\\"category\\\"]\\n      }\\n    }\\n  },\\n  \\\"required\\\": [\\\"message\\\", \\\"summary\\\"]\\n}\\n\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"bc098a26-4e55-4908-880c-e5f27737a941\",\n      \"name\": \"Split Out | data transaction\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1120,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"output.summary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2a42bc4b-a5c7-433e-91e4-aa5531570f73\",\n      \"name\": \"Sendback to chat and give summarize text\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1480,\n        400\n      ],\n      \"webhookId\": \"f90475fa-69cd-4e19-bc93-bffdceae8324\",\n      \"parameters\": {\n        \"text\": \"={{ $json.output.message }}\",\n        \"chatId\": \"={{ $('Telegram Trigger | When recive photo').item.json.message.chat.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"J8yRVYmsnH74HuaD\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"bfc5c52e-313d-4257-bdfa-c542b687a853\",\n      \"name\": \"Record To Notion Database\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        1580,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"databaseId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1d858554-d218-807c-936c-d06c8a8ec769\",\n          \"cachedResultUrl\": \"https://www.notion.so/1d858554d218807c936cd06c8a8ec769\",\n          \"cachedResultName\": \"Pengeluaran Rizqi Dini\"\n        },\n        \"propertiesUi\": {\n          \"propertyValues\": [\n            {\n              \"key\": \"Name|title\",\n              \"title\": \"={{ $json.name }}\"\n            },\n            {\n              \"key\": \"Quantity|number\",\n              \"numberValue\": \"={{ $json.qty }}\"\n            },\n            {\n              \"key\": \"Price|number\",\n              \"numberValue\": \"={{ $json.price }}\"\n            },\n            {\n              \"key\": \"Total|number\",\n              \"numberValue\": \"={{ $json.total }}\"\n            },\n            {\n              \"key\": \"Category|select\",\n              \"selectValue\": \"={{ $json.category }}\"\n            },\n            {\n              \"key\": \"Date|rich_text\",\n              \"textContent\": \"={{ $json.date }}\"\n            },\n            {\n              \"key\": \"Tax|number\",\n              \"numberValue\": \"={{ $json.tax }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"AhjWhO7Jpc5x7xKG\",\n          \"name\": \"Notion account\"\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"f514554b-eb9e-47e2-ad6b-0b13036beaf4\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        60\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 340,\n        \"height\": 280,\n        \"content\": \"📸 发票录入 📸\\n机器人将在此处接收您的收据/发票照片。\\n请确保您的Telegram机器人API令牌已在凭证中设置。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"53fc4c77-3f16-4cb8-82e8-f4810af1f569\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        600,\n        60\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 360,\n        \"height\": 460,\n        \"content\": \"🤖 人工智能魔法在此发生 🧠\\n- 图像发送至Google Gemini进行数据提取\\n- 勾选\\\"基础LLM链\\\"自定义AI提示词（如分类、输出格式）\\n- 需提供Google Gemini API凭证\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c6fb1193-7cc9-4f45-8a5f-20af41cdf3c8\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        980,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 280,\n        \"height\": 200,\n        \"content\": \"✨ 结构化AI数据 ✨  \\n将AI的文本输出转换为可用的JSON对象。  \\n若大幅修改AI提示词，请核对数据结构模板。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"79a4e9ba-d1ea-4cfc-870c-145bae80c9b4\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 380,\n        \"height\": 240,\n        \"content\": \"📝 保存至NOTION 📝\\n- 提取的交易数据将存储在此处\\n- 使用您的Notion API密钥和数据库ID进行配置\\n- 请确保字段与数据库列正确匹配！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9406306b-9f3d-4877-a888-1f5e16a431c1\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        20,\n        760\n      ],\n      \"parameters\": {\n        \"height\": 280,\n        \"content\": \"报告周期设置 🗓️  \\n选择接收消费报告的频率（例如：每周、每月）。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1b6c8a28-b0f0-44fb-be02-21725d950716\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        320,\n        760\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 280,\n        \"height\": 380,\n        \"content\": \"📊 正在获取报告数据 📊\\n- 从Notion中提取报告周期内的交易记录。\\n- 默认周期：\\\"过去一周\\\"。可根据需要调整筛选条件。\\n- 需提供Notion API凭证及数据库ID。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4612006e-04a9-4ad5-9f05-d49ec13f31cf\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        740\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 360,\n        \"content\": \"➕ 支出汇总 ➕\\n按类别汇总您的开支，\\n为生成图表做准备。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"103132cf-37a6-455f-b19f-14d3e17af912\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1040,\n        740\n      ],\n      \"parameters\": {\n        \"width\": 300,\n        \"height\": 340,\n        \"content\": \"📈 生成可视化报告 📈\\n根据您的消费数据创建实际图表图像。\\n您可以在此自定义图表类型（柱状图、饼图等）。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"24324366-33e5-4097-ab36-aac31cef0006\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1380,\n        640\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 300,\n        \"height\": 300,\n        \"content\": \"📤 发送报告至Telegram 📤\\n- 将生成的图表发送至您选定的Telegram聊天/群组。\\n- 请设置正确的Chat ID和Bot API令牌。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e9fc1140-411b-411a-87a6-bbe9718ba3b3\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        280\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 300,\n        \"height\": 280,\n        \"content\": \"💬 交易摘要 💬\\n向用户发送一条Telegram确认消息，\\n附带记录的开支摘要。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"013fd587-3504-44b8-97e1-09cad47a0089\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 460,\n        \"height\": 240,\n        \"content\": \"🔑 所需凭证 🔑\\n请记得设置以下API密钥/令牌：\\n- Telegram\\n- Google Gemini\\n- Notion\\n\\n💡 自定义提示 💡\\n- 调整AI提示词以提高准确性\\n- 更改Notion数据库结构\\n- 修改报告频率及内容\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8f6f0fdb-d3be-4464-a7db-ea4d642a4f55\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        320,\n        160\n      ],\n      \"webhookId\": \"6e801e0b-72d1-42a9-ac47-61ac113a01d2\",\n      \"parameters\": {\n        \"fileId\": \"={{ $json.message.photo[3].file_id }}\",\n        \"resource\": \"file\"\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"J8yRVYmsnH74HuaD\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"a192c50c-4a77-44ee-b98a-f18d4ced2cb1\",\n  \"connections\": {\n    \"Telegram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Image Info\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Chart\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Chart Image to Group or Private Chat\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image Info\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Basic LLM Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out | data transaction\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Sendback to chat and give summarize text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarize Transaction Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert Data to JSON chart payload\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Recent Data from Notions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarize Transaction Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Parse To your object | Table\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out | data transaction\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Record To Notion Database\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert Data to JSON chart payload\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Chart\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger | When recive photo\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger | for send chart report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Recent Data from Notions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}