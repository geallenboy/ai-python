{
  "url": "https://n8n.io/workflows/1969-import-csv-from-url-to-google-sheets/",
  "title": "Import CSV from URL to Google Sheets",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"id\":\"NLVfecejH0cTtcdd\",\"meta\":{\"instanceId\":\"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\"},\"name\":\"Import CSV from URL to GoogleSheet\",\"tags\":[],\"nodes\":[{\"id\":\"90cced3d-b03b-4b51-b1f7-4cbd2dac25eb\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[860,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"df9519b6-937e-4a9e-bdb9-86fb722ca3c1\",\"name\":\"Upload to spreadsheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1880,380],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"unique_key\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"unique_key\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"﻿country\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"﻿country\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"country_code\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"country_code\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"year_week\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"year_week\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"level\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"level\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"region\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"region\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"region_name\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"region_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"new_cases\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"new_cases\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"tests_done\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"tests_done\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"population\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"population\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"testing_rate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"testing_rate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"positivity_rate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"positivity_rate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"testing_data_source\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"testing_data_source\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[\"unique_key\"]},\"options\":{\"cellFormat\":\"USER_ENTERED\"},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":383583634,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY/edit#gid=383583634\",\"cachedResultName\":\"COVID-weekly\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"54\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4},{\"id\":\"8298b29e-8784-4e15-902f-dc073fa73668\",\"name\":\"Add unique field\",\"type\":\"n8n-nodes-base.set\",\"position\":[1460,380],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"unique_key\",\"stringValue\":\"={{ $json.country_code }}-{{ $json.year_week }}\"}]},\"options\":{}},\"typeVersion\":3},{\"id\":\"b71bb998-4df2-4311-ae98-42c3e5e41d58\",\"name\":\"Import CSV\",\"type\":\"n8n-nodes-base.spreadsheetFile\",\"position\":[1260,380],\"parameters\":{\"options\":{\"headerRow\":true},\"fileFormat\":\"csv\"},\"typeVersion\":2},{\"id\":\"36204081-3995-46d4-ac8f-3408cbaed657\",\"name\":\"Download CSV\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1060,380],\"parameters\":{\"url\":\"https://opendata.ecdc.europa.eu/covid19/testing/csv/data.csv\",\"options\":{\"response\":{\"response\":{\"responseFormat\":\"file\"}}}},\"typeVersion\":4.1},{\"id\":\"b1a78d2e-1a8b-4d98-b130-080b3017192d\",\"name\":\"Keep only DACH in 2023\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1680,380],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.year_week }}\",\"value2\":\"2023\",\"operation\":\"startsWith\"}],\"boolean\":[{\"value1\":\"={{ ['DE', 'AT', 'CH'].includes($json.country_code )}}\",\"value2\":true}]}},\"typeVersion\":1},{\"id\":\"c5a3af9b-30a0-4337-bbb7-cff54007b22f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1620,241],\"parameters\":{\"width\":460,\"height\":293,\"content\":\"### Google API has rate-limits for read and write operations, that's why we take only a subset of the data\\n\\nTo import the whole dataset please add Split In Batches and a Wait node with a sufficient delay.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"d49a3f54-a422-4e76-b410-f8c12b4dd78b\",\"connections\":{\"Import CSV\":{\"main\":[[{\"node\":\"Add unique field\",\"type\":\"main\",\"index\":0}]]},\"Download CSV\":{\"main\":[[{\"node\":\"Import CSV\",\"type\":\"main\",\"index\":0}]]},\"Add unique field\":{\"main\":[[{\"node\":\"Keep only DACH in 2023\",\"type\":\"main\",\"index\":0}]]},\"Keep only DACH in 2023\":{\"main\":[[{\"node\":\"Upload to spreadsheet\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Download CSV\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow automatically imports data from a CSV file located at a specific URL and then updates the Google Sheets document with the provided data.\n\nBelow is a step-by-step description of what this workflow does:\n\n  1. The workflow is started manually using the \"When you click 'Execute Workflow'\" node.\n  2. The CSV file is then uploaded from the specified URL \"<https://opendata.ecdc.europa.eu/covid19/testing/csv/data.csv>\" using the \"Upload CSV\" node.\n  3. The \"Import CSV\" node accepts the uploaded CSV file and converts it into JSON formatted data.\n  4. The \"Add Unique Field\" node generates a unique key by combining the 'country_code' and 'year_week' fields from the JSON data, which will be further used in the Google Sheets document.\n  5. The 'Keep only DACH in 2023' node filters the data to keep only records where 'country_code' is either 'DE', 'AT', or 'CH' and 'year_week' starts with '2023'. Google's API has limitations on the speed of read and write operations, so only a subset of the data is taken.\n  6. The filtered data is loaded into the specified Google Sheets document via the 'Load to Spreadsheet' node. The operation is set to 'appendOrUpdate' and the document ID and sheet name are specified. Also, the previously generated 'unique_key' key is set as the key to match the columns.\n\n\n",
  "crawled_at": "2025-05-25T20:27:21.845146",
  "readme_zh": "该工作流自动从指定URL地址的CSSV文件中导入数据，随后将提供的数据更新至谷歌表格文档中。\n\n以下是该工作流执行步骤的详细说明：\n\n1. 工作流通过\"当您点击'执行工作流'\"节点手动启动\n2. 随后使用\"上传CSV\"节点从指定URL\"<https://opendata.ecdc.europa.eu/covid19/testing/csv/data.csv>\"上传CSV文件\n3. \"导入CSV\"节点接收上传的CSV文件并将其转换为JSON格式数据\n4. \"添加唯一字段\"节点通过组合JSON数据中的'country_code'和'year_week'字段生成唯一键，该键将用于谷歌表格文档\n5. '仅保留2023年DACH地区数据'节点筛选数据，仅保留'country_code'为'DE'、'AT'或'CH'且'year_week'以'2023'开头的记录。由于谷歌API对读写速度有限制，故仅取部分数据\n6. 筛选后的数据通过'加载到电子表格'节点载入指定谷歌表格文档。操作模式设置为'追加或更新'，并指定了文档ID和工作表名称。同时将先前生成的'unique_key'设置为匹配列的关键字段",
  "title_zh": "从URL导入CSV到Google表格",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\"id\":\"NLVfecejH0cTtcdd\",\"meta\":{\"instanceId\":\"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\"},\"name\":\"Import CSV from URL to GoogleSheet\",\"tags\":[],\"nodes\":[{\"id\":\"90cced3d-b03b-4b51-b1f7-4cbd2dac25eb\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[860,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"df9519b6-937e-4a9e-bdb9-86fb722ca3c1\",\"name\":\"Upload to spreadsheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1880,380],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"unique_key\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"unique_key\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"﻿country\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"﻿country\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"country_code\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"country_code\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"year_week\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"year_week\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"level\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"level\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"region\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"region\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"region_name\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"region_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"new_cases\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"new_cases\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"tests_done\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"tests_done\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"population\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"population\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"testing_rate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"testing_rate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"positivity_rate\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"positivity_rate\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"testing_data_source\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"testing_data_source\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[\"unique_key\"]},\"options\":{\"cellFormat\":\"USER_ENTERED\"},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":383583634,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY/edit#gid=383583634\",\"cachedResultName\":\"COVID-weekly\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"54\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4},{\"id\":\"8298b29e-8784-4e15-902f-dc073fa73668\",\"name\":\"Add unique field\",\"type\":\"n8n-nodes-base.set\",\"position\":[1460,380],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"unique_key\",\"stringValue\":\"={{ $json.country_code }}-{{ $json.year_week }}\"}]},\"options\":{}},\"typeVersion\":3},{\"id\":\"b71bb998-4df2-4311-ae98-42c3e5e41d58\",\"name\":\"Import CSV\",\"type\":\"n8n-nodes-base.spreadsheetFile\",\"position\":[1260,380],\"parameters\":{\"options\":{\"headerRow\":true},\"fileFormat\":\"csv\"},\"typeVersion\":2},{\"id\":\"36204081-3995-46d4-ac8f-3408cbaed657\",\"name\":\"Download CSV\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1060,380],\"parameters\":{\"url\":\"https://opendata.ecdc.europa.eu/covid19/testing/csv/data.csv\",\"options\":{\"response\":{\"response\":{\"responseFormat\":\"file\"}}}},\"typeVersion\":4.1},{\"id\":\"b1a78d2e-1a8b-4d98-b130-080b3017192d\",\"name\":\"Keep only DACH in 2023\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1680,380],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.year_week }}\",\"value2\":\"2023\",\"operation\":\"startsWith\"}],\"boolean\":[{\"value1\":\"={{ ['DE', 'AT', 'CH'].includes($json.country_code )}}\",\"value2\":true}]}},\"typeVersion\":1},{\"id\":\"c5a3af9b-30a0-4337-bbb7-cff54007b22f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1620,241],\"parameters\":{\"width\":460,\"height\":293,\"content\":\"### Google API对读写操作设有速率限制，因此我们仅获取数据的一个子集\\n\\n如需导入完整数据集，请添加“分批处理”节点及一个设置足够延迟的“等待”节点。\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"d49a3f54-a422-4e76-b410-f8c12b4dd78b\",\"connections\":{\"Import CSV\":{\"main\":[[{\"node\":\"Add unique field\",\"type\":\"main\",\"index\":0}]]},\"Download CSV\":{\"main\":[[{\"node\":\"Import CSV\",\"type\":\"main\",\"index\":0}]]},\"Add unique field\":{\"main\":[[{\"node\":\"Keep only DACH in 2023\",\"type\":\"main\",\"index\":0}]]},\"Keep only DACH in 2023\":{\"main\":[[{\"node\":\"Upload to spreadsheet\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Download CSV\",\"type\":\"main\",\"index\":0}]]}}}"
}