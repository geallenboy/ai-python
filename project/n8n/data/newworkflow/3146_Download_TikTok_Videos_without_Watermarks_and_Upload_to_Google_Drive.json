{
  "url": "https://n8n.io/workflows/3146-download-tiktok-videos-without-watermarks-and-upload-to-google-drive/",
  "title": "Download TikTok Videos without Watermarks and Upload to Google Drive",
  "author": "Cameron Wills",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"aVienX696oMCH1DR\",\"meta\":{\"instanceId\":\"dce6d05169adc9f802863a06c3edb9925b178c4fce2360953cce9c1b509705cc\"},\"name\":\"Tiktok Downloader\",\"tags\":[],\"nodes\":[{\"id\":\"4dc30078-c7df-4bcb-91ed-953cd6da4a13\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-280,20],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5598aa10-f667-4023-b9de-fe07e86badec\",\"name\":\"Get TikTok Video Page Data\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[40,20],\"parameters\":{\"url\":\"https://www.tiktok.com/@randomspamvideos25/video/7251387037834595630\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true,\"responseFormat\":\"text\"}}},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\"}]}},\"typeVersion\":4.2},{\"id\":\"734a5304-f67f-4ace-a1da-0d268664452c\",\"name\":\"Scrape raw video URL\",\"type\":\"n8n-nodes-base.code\",\"position\":[480,20],\"parameters\":{\"jsCode\":\"const html = $input.first().json.data;\\nconst headers = $input.first().json.headers || {};\\nconst cookies = headers['set-cookie'] || [];\\n\\nif (!html) {\\n  throw new Error(\\\"HTML body is undefined. Check the previous node's output.\\\");\\n}\\nconst regex = /<script id=\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\" type=\\\"application\\\\/json\\\">([\\\\s\\\\S]*?)<\\\\/script>/;\\nconst match = html.match(regex);\\n\\nif (match) {\\n  const jsonStr = match[1];\\n  const data = JSON.parse(jsonStr);\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\"webapp.video-detail\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\n  if (!videoUrl) {\\n    throw new Error(\\\"Could not find video URL in the JSON data.\\\");\\n  }\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\n} else {\\n  throw new Error(\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\");\\n}\"},\"typeVersion\":2},{\"id\":\"f574ccb8-6f5f-4e55-a2d5-7ad775d3c4e5\",\"name\":\"Output video file without watermark\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[900,20],\"parameters\":{\"url\":\"={{ $json.videoUrl }}\",\"options\":{\"response\":{\"response\":{\"responseFormat\":\"file\"}},\"allowUnauthorizedCerts\":true},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\"},{\"name\":\"Referer\",\"value\":\"https://www.tiktok.com/\"},{\"name\":\"Accept\",\"value\":\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\"},{\"name\":\"Accept-Language\",\"value\":\"en-US,en;q=0.5\"},{\"name\":\"Connection\",\"value\":\"keep-alive\"},{\"name\":\"Cookie\",\"value\":\"={{ $json.cookies }}\"}]}},\"typeVersion\":4.2},{\"id\":\"73d4ffa7-2264-4a84-9ab2-2004342e3039\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-140,-180],\"parameters\":{\"color\":6,\"width\":460,\"height\":360,\"content\":\"## 1. Load the video page\\nOpen this node and replace the URL with the one of the video you want to download without a watermark.\\n\\nA Tiktok video URL looks like: https://www.tiktok.com/@Username_here/video/Video_ID_Here\\n\\nOutputs the returned page HTML along with the session cookies\\n\\n\"},\"typeVersion\":1},{\"id\":\"848fc04b-2620-4d83-8701-52c053f7c017\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[340,-180],\"parameters\":{\"color\":5,\"width\":380,\"height\":360,\"content\":\"## 2. Find the raw video URL\\nParses through all of the HTML and finds the section containing the video URL before the watermark is applied\"},\"typeVersion\":1},{\"id\":\"40b3a2bd-5733-43a8-951c-d5fa26647615\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[740,-180],\"parameters\":{\"color\":4,\"width\":400,\"height\":360,\"content\":\"## 3. Output video file without watermark\\nUsing the cookies from step 1, a request is made to access the original video file as shown on TikTok\"},\"typeVersion\":1},{\"id\":\"36629265-f139-433f-9603-0670a08be1ed\",\"name\":\"Upload to Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[300,360],\"parameters\":{\"name\":\"={{ $node[\\\"Get TikTok Video Page Data\\\"].parameter[\\\"url\\\"].match(/\\\\/video\\\\/(\\\\d+)/)[1] + \\\".mp4\\\" }}\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"root\",\"cachedResultUrl\":\"https://drive.google.com/drive\",\"cachedResultName\":\"/ (Root folder)\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"ZvDuyVfbZJbDJXcS\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"94364c83-14ce-48c3-afe5-b7cd8addd2a0\",\"name\":\"Set file permissions to public with link\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[560,360],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"share\",\"permissionsUi\":{\"permissionsValues\":{\"role\":\"writer\",\"type\":\"anyone\",\"allowFileDiscovery\":true}}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"ZvDuyVfbZJbDJXcS\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"d37ad36c-0b7f-4c2c-9538-dc8bf75e997f\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[260,200],\"parameters\":{\"color\":7,\"width\":500,\"height\":320,\"content\":\"## (Optional) Upload video to Google Drive\\nAn expression is used to save the file to your Google Drive as Video_ID.mp4\\n\\nNote: Must have Google Drive API enabled in [Google Cloud Console](https://console.cloud.google.com/apis/api/drive.googleapis.com/overview) OAuth ClientID and Client Secret credentials setup\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"70234bbb-ccaf-4291-a50b-063e07303678\",\"connections\":{\"Scrape raw video URL\":{\"main\":[[{\"node\":\"Output video file without watermark\",\"type\":\"main\",\"index\":0}]]},\"Upload to Google Drive\":{\"main\":[[{\"node\":\"Set file permissions to public with link\",\"type\":\"main\",\"index\":0}]]},\"Get TikTok Video Page Data\":{\"main\":[[{\"node\":\"Scrape raw video URL\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Get TikTok Video Page Data\",\"type\":\"main\",\"index\":0}]]},\"Output video file without watermark\":{\"main\":[[{\"node\":\"Upload to Google Drive\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who is this for?\n\nContent creators, social media managers, digital marketers, and researchers who need to **download** original **TikTok videos without watermarks** for analysis, repurposing, or archiving purposes.\n\n## What problem does this workflow solve?\n\nDownloading TikTok videos without watermarks typically requires using questionable third-party websites that may have limitations, ads, or privacy concerns. This workflow provides a clean, automated solution that can be integrated into your own systems and processes.\n\n## What this workflow does\n\nThis workflow automates the process of downloading TikTok videos without watermarks in three simple steps:\n\n  1. **Fetch the TikTok video page** by providing the video URL\n  2. **Extract the raw video URL** from the page's HTML data\n  3. **Download the original video file** without watermark\n  4. **(Optional) Upload to Google Drive** with public sharing link generation\n\n\n\nThe workflow uses web scraping techniques to extract the original video source directly from TikTok's own servers, maintaining the highest possible quality without any added watermarks or branding.\n\n## Setup (Est. time: 5-10 minutes)\n\nBefore getting started, you'll need:\n\n  * [n8n installation](https://n8n.partnerlinks.io/n8nTTVideoGenTemplate)\n  * The URL of a TikTok you want to download\n  * (Optional) Google Drive API enabled in Google Cloud Console with OAuth Client ID and Client Secret credentials if you want to use the upload feature\n\n\n\n## How to customize this workflow to your needs\n\n  * Replace the example TikTok URL with your desired video links\n  * Modify the file naming convention for downloaded videos\n  * Integrate with other nodes to process videos after downloading\n  * Create a webhook to trigger the workflow from external applications\n  * Set up a schedule to regularly download videos from specific accounts\n\n\n\nThis workflow can be extended to support various use cases like trending content analysis, competitor research, creating compilation videos, or building a content library for inspiration. It provides a foundation that can be customized to fit into larger automated workflows for content creation and social media management.\n",
  "crawled_at": "2025-05-26T03:51:25.067728",
  "readme_zh": "## 适用人群\n\n内容创作者、社交媒体运营者、数字营销人员及研究人员——当您需要**下载无原始水印的TikTok视频**用于分析、二次创作或存档时，本方案将为您提供支持。\n\n## 解决痛点\n\n传统去水印下载方式往往依赖存在流量限制、广告侵扰或隐私隐患的第三方网站。本工作流提供了一套纯净的自动化解决方案，可直接整合至您的自有系统。\n\n## 核心功能\n\n通过三步自动化实现无水印视频下载：\n1. **获取视频页面**：输入TikTok视频链接\n2. **解析原始地址**：从网页数据提取纯净视频源\n3. **下载高清原片**：获得无平台水印的原始文件\n4. **（可选）云端存储**：自动上传至Google Drive并生成分享链接\n\n基于网页爬虫技术，直接获取TikTok服务器原始视频源，确保最高画质且无任何附加水印。\n\n## 配置指南（预计耗时5-10分钟）\n\n准备工作：\n- [n8n部署环境](https://n8n.partnerlinks.io/n8nTTVideoGenTemplate)\n- 目标TikTok视频链接\n- （如需云存储）Google Cloud Console中已启用的Drive API及OAuth凭证\n\n## 定制化建议\n\n- 替换示例链接为目标视频地址\n- 自定义下载文件命名规则\n- 对接后续处理节点（如视频剪辑）\n- 配置Webhook实现外部触发\n- 设置定时任务自动抓取特定账号内容\n\n本工作流可扩展应用于热门内容分析、竞品监测、混剪素材收集、创意内容库建设等场景，为内容创作与社媒管理提供自动化基础框架。",
  "title_zh": "无水印下载抖音视频并上传至谷歌云盘",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"id\": \"aVienX696oMCH1DR\",\n  \"meta\": {\n    \"instanceId\": \"dce6d05169adc9f802863a06c3edb9925b178c4fce2360953cce9c1b509705cc\"\n  },\n  \"name\": \"Tiktok Downloader\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"4dc30078-c7df-4bcb-91ed-953cd6da4a13\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -280,\n        20\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5598aa10-f667-4023-b9de-fe07e86badec\",\n      \"name\": \"Get TikTok Video Page Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        40,\n        20\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.tiktok.com/@randomspamvideos25/video/7251387037834595630\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true,\n              \"responseFormat\": \"text\"\n            }\n          }\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"734a5304-f67f-4ace-a1da-0d268664452c\",\n      \"name\": \"Scrape raw video URL\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        480,\n        20\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const html = $input.first().json.data;\\nconst headers = $input.first().json.headers || {};\\nconst cookies = headers['set-cookie'] || [];\\n\\nif (!html) {\\n  throw new Error(\\\"HTML body is undefined. Check the previous node's output.\\\");\\n}\\nconst regex = /<script id=\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\" type=\\\"application\\\\/json\\\">([\\\\s\\\\S]*?)<\\\\/script>/;\\nconst match = html.match(regex);\\n\\nif (match) {\\n  const jsonStr = match[1];\\n  const data = JSON.parse(jsonStr);\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\"webapp.video-detail\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\n  if (!videoUrl) {\\n    throw new Error(\\\"Could not find video URL in the JSON data.\\\");\\n  }\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\n} else {\\n  throw new Error(\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\");\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f574ccb8-6f5f-4e55-a2d5-7ad775d3c4e5\",\n      \"name\": \"Output video file without watermark\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        900,\n        20\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.videoUrl }}\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"responseFormat\": \"file\"\n            }\n          },\n          \"allowUnauthorizedCerts\": true\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\"\n            },\n            {\n              \"name\": \"Referer\",\n              \"value\": \"https://www.tiktok.com/\"\n            },\n            {\n              \"name\": \"Accept\",\n              \"value\": \"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\"\n            },\n            {\n              \"name\": \"Accept-Language\",\n              \"value\": \"en-US,en;q=0.5\"\n            },\n            {\n              \"name\": \"Connection\",\n              \"value\": \"keep-alive\"\n            },\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{ $json.cookies }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"73d4ffa7-2264-4a84-9ab2-2004342e3039\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 460,\n        \"height\": 360,\n        \"content\": \"## 1. 加载视频页面\\n打开此节点并将URL替换为您想要下载的无水印视频链接。\\n\\nTikTok视频URL格式示例：https://www.tiktok.com/@用户名示例/video/视频ID示例\\n\\n输出返回的页面HTML及会话cookies\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"848fc04b-2620-4d83-8701-52c053f7c017\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        340,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 380,\n        \"height\": 360,\n        \"content\": \"## 2. 查找原始视频URL\\n解析所有HTML内容，定位到添加水印前的视频URL所在部分\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"40b3a2bd-5733-43a8-951c-d5fa26647615\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        740,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 400,\n        \"height\": 360,\n        \"content\": \"## 3. 输出无水印视频文件\\n使用第一步获取的cookies，发起请求以访问TikTok上展示的原始视频文件\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"36629265-f139-433f-9603-0670a08be1ed\",\n      \"name\": \"Upload to Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        300,\n        360\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $node[\\\"Get TikTok Video Page Data\\\"].parameter[\\\"url\\\"].match(/\\\\/video\\\\/(\\\\d+)/)[1] + \\\".mp4\\\" }}\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"root\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive\",\n          \"cachedResultName\": \"/ (Root folder)\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"ZvDuyVfbZJbDJXcS\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"94364c83-14ce-48c3-afe5-b7cd8addd2a0\",\n      \"name\": \"Set file permissions to public with link\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        560,\n        360\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"share\",\n        \"permissionsUi\": {\n          \"permissionsValues\": {\n            \"role\": \"writer\",\n            \"type\": \"anyone\",\n            \"allowFileDiscovery\": true\n          }\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"ZvDuyVfbZJbDJXcS\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"d37ad36c-0b7f-4c2c-9538-dc8bf75e997f\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        260,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 500,\n        \"height\": 320,\n        \"content\": \"## （可选）上传视频至Google Drive\\n此表达式用于将文件以Video_ID.mp4格式保存到您的Google Drive\\n\\n注意：需先在[Google Cloud控制台](https://console.cloud.google.com/apis/api/drive.googleapis.com/overview)启用Google Drive API，并完成OAuth客户端ID和客户端密钥凭证设置\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"70234bbb-ccaf-4291-a50b-063e07303678\",\n  \"connections\": {\n    \"Scrape raw video URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Output video file without watermark\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload to Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set file permissions to public with link\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get TikTok Video Page Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Scrape raw video URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get TikTok Video Page Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Output video file without watermark\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload to Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}