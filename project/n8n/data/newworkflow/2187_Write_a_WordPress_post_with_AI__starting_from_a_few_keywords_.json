{
  "url": "https://n8n.io/workflows/2187-write-a-wordpress-post-with-ai-starting-from-a-few-keywords/",
  "title": "Write a WordPress post with AI (starting from a few keywords)",
  "author": "Giulio",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"8eaf0925-1394-4771-bf43-281ad14fefb4\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[540,880],\"parameters\":{\"color\":4,\"width\":301.3874093724939,\"height\":371.765663140765,\"content\":\"## Data check\"},\"typeVersion\":1},{\"id\":\"ab31ac7c-6bd4-44f6-8c0c-8e41463a3983\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[560,940],\"parameters\":{\"color\":7,\"width\":272.8190508599808,\"height\":80,\"content\":\"Checks that the data returned by OpenAI is correct\"},\"typeVersion\":1},{\"id\":\"306ffdb5-d6b6-4e49-a26d-a256e32f7c67\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1940,880],\"parameters\":{\"color\":5,\"width\":302,\"height\":392,\"content\":\"## Draft on WordPress\"},\"typeVersion\":1},{\"id\":\"928da5f9-194c-461d-a5dd-7fd5c8563345\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1960,960],\"parameters\":{\"color\":7,\"width\":254.77269221373095,\"height\":80,\"content\":\"The article is posted as a draft on WordPress\"},\"typeVersion\":1},{\"id\":\"271f6b4d-cf7c-49b8-9479-dd753d7c5199\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2260,880],\"parameters\":{\"color\":3,\"width\":678,\"height\":389,\"content\":\"## Featured image\"},\"typeVersion\":1},{\"id\":\"efb047c4-b835-4706-af6a-b40c6cd76757\",\"name\":\"Sticky Note11\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2280,960],\"parameters\":{\"color\":7,\"width\":517.9195082760601,\"height\":80,\"content\":\"The image is generated with Dall-E, uploaded to WordPress, and then connected to the post as its featured image\"},\"typeVersion\":1},{\"id\":\"4f78eb2c-a501-4774-b5ab-29d7aa83817d\",\"name\":\"Sticky Note12\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,940],\"parameters\":{\"color\":7,\"width\":287.370178643191,\"height\":80,\"content\":\"Starting from the given keywords, generates the article title, subtitle, chapters, and image prompt\"},\"typeVersion\":1},{\"id\":\"536d265a-1c0b-4262-adab-96edd5924530\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,880],\"parameters\":{\"color\":6,\"width\":360,\"height\":371,\"content\":\"## Article structure\"},\"typeVersion\":1},{\"id\":\"8b4b7cf6-4809-44e7-af9a-c72919981698\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-400,880],\"parameters\":{\"color\":7,\"width\":239.97343293577688,\"height\":370.512611879577,\"content\":\"## User form\"},\"typeVersion\":1},{\"id\":\"734b8ac2-2148-4d56-ab04-84f12991cf44\",\"name\":\"Sticky Note13\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,940],\"parameters\":{\"color\":7,\"width\":199.7721486302032,\"height\":80,\"content\":\"The user triggers the post creation\"},\"typeVersion\":1},{\"id\":\"c54f91a7-ac3d-4029-a19f-3fa3794d581a\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2960,880],\"parameters\":{\"color\":7,\"width\":220,\"height\":391,\"content\":\"## User feedback\"},\"typeVersion\":1},{\"id\":\"509e89e7-8916-4228-91ae-baae25a75be7\",\"name\":\"Sticky Note14\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2980,960],\"parameters\":{\"color\":7,\"width\":183.38125554060056,\"height\":80,\"content\":\"Final confirmation to the user\"},\"typeVersion\":1},{\"id\":\"5c6e90c4-9714-43db-a82c-54fcbf43a26c\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[880,1280],\"parameters\":{\"color\":7,\"width\":281.2716777103785,\"height\":288.4116890365125,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nUser is notified to try again since some data is missing\"},\"typeVersion\":1},{\"id\":\"54e10057-b300-475b-8280-cb761acc303a\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,1280],\"parameters\":{\"color\":7,\"width\":340,\"height\":275,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nWikipedia is used to write the article\"},\"typeVersion\":1},{\"id\":\"5f5b9ad9-1da5-4321-b6b4-e1985ff257ca\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-120,880],\"parameters\":{\"color\":2,\"width\":226.71615243495023,\"height\":370.512611879577,\"content\":\"## Settings\"},\"typeVersion\":1},{\"id\":\"6e298414-634f-45fb-b931-2abcae9c6db1\",\"name\":\"Sticky Note15\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-100,940],\"parameters\":{\"color\":7,\"width\":179.37633247508526,\"height\":80,\"content\":\"Set the URL of your WordPress here\"},\"typeVersion\":1},{\"id\":\"94b09f31-31aa-4284-936e-c37fb3088acc\",\"name\":\"Sticky Note16\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[880,880],\"parameters\":{\"color\":2,\"width\":225.47038972308582,\"height\":370.512611879577,\"content\":\"## Chapters split\"},\"typeVersion\":1},{\"id\":\"633cba39-ec92-410c-b010-083048487b2b\",\"name\":\"Sticky Note17\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[900,940],\"parameters\":{\"color\":7,\"width\":185.6051460344073,\"height\":80,\"content\":\"Splits out chapter contents from the previous node\"},\"typeVersion\":1},{\"id\":\"4c9fd35f-d69d-4ced-a759-175336f43c8a\",\"name\":\"Sticky Note18\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1160,940],\"parameters\":{\"color\":7,\"width\":287.370178643191,\"height\":80,\"content\":\"Writes the text for each chapter\"},\"typeVersion\":1},{\"id\":\"0d751d84-117a-4bf4-a9a7-d5ad1b557fec\",\"name\":\"Sticky Note19\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1140,880],\"parameters\":{\"color\":6,\"width\":333.40108076977657,\"height\":370.512611879577,\"content\":\"## Chapters text\"},\"typeVersion\":1},{\"id\":\"ce36a500-136b-4082-988c-5f9b6dd6d971\",\"name\":\"Sticky Note21\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1500,880],\"parameters\":{\"color\":4,\"width\":420.4253447940705,\"height\":514.2177254645992,\"content\":\"## Content preparation\"},\"typeVersion\":1},{\"id\":\"9da83dc4-9e99-42a4-88a1-27ef87df6d09\",\"name\":\"Sticky Note22\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1520,960],\"parameters\":{\"color\":7,\"width\":368.1523541074699,\"height\":80,\"content\":\"Merges the content and prepare it before sending it to WordPress\"},\"typeVersion\":1},{\"id\":\"8591f4cb-edc4-4582-96b4-bcb2214a27a7\",\"name\":\"On form submission\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-340,1080],\"webhookId\":\"080f8376-cc82-49cc-8dd0-6db36bb887ab\",\"parameters\":{\"options\":{\"path\":\"create-wordpress-post\"},\"formTitle\":\"Create a WordPress post with AI\",\"formFields\":{\"values\":[{\"fieldLabel\":\"Keywords (comma-separated)\",\"requiredField\":true},{\"fieldType\":\"dropdown\",\"fieldLabel\":\"Number of chapters\",\"fieldOptions\":{\"values\":[{\"option\":\"1\"},{\"option\":\"2\"},{\"option\":\"3\"},{\"option\":\"4\"},{\"option\":\"5\"},{\"option\":\"6\"},{\"option\":\"7\"},{\"option\":\"8\"},{\"option\":\"9\"},{\"option\":\"10\"}]},\"requiredField\":true},{\"fieldType\":\"number\",\"fieldLabel\":\"Max words count\",\"requiredField\":true}]},\"responseMode\":\"lastNode\",\"formDescription\":\"Fill this form with the required information to create a draft post on WordPress\"},\"typeVersion\":2.2},{\"id\":\"59619ea3-ac29-4188-9050-a6711c3f0921\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[940,1080],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"message.content.chapters\"},\"typeVersion\":1},{\"id\":\"728b7e4c-7b4a-46d9-ac86-98c23bda6c98\",\"name\":\"OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[1180,1080],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"content\":\"=Write a chapter for the article: {{ $('Create post title and structure').item.json.message.content.title }}, {{ $('Create post title and structure').item.json.message.content.subtitle  }}, that talks about {{ $('Settings').item.json[\\\"keywords\\\"] }}\\n\\nThis is the prompt for the chapter titled {{ $json.title }}: {{ $json.prompt }}.\\n\\nGuidelines:\\n- Just return the plain text for each chapter (no JSON structure).\\n- Don't use markdown for formatting.\\n- Use HTML for formatting, but limited to bold, italic and lists.\\n- Don't add internal titles or headings.\\n- The length of each chapther should be around {{ Math.round(($('Settings').item.json.words - 120)/ $('Settings').item.json.chapters) }} words long\\n- Go deep in the topic you treat, don't just throw some superficial info\\n{{ $itemIndex > 0 ? \\\"- The previous chapter talks about \\\" + $input.all()[$itemIndex-1].json.title : \\\"\\\" }}\\n{{ $itemIndex > 0 ? \\\"- The promt for the previous chapter is \\\" + $input.all()[$itemIndex-1].json.prompt : \\\"\\\" }}\\n{{ $itemIndex < $input.all().length ? \\\"- The following chapter will talk about \\\" + $input.all()[$itemIndex+1].json.title: \\\"\\\" }}\\n{{ $itemIndex < $input.all().length ? \\\"- The prompt for the following chapter is \\\" + $input.all()[$itemIndex+1].json.prompt : \\\"\\\" }}\\n- Consider the previous and following chapters what writing the text for this chapter. The text must be coherent with the previous and following chapters.\\n- This chapter should not repeat the concepts already exposed in the previous chapter.\\n- This chapter is a part of a larger article so don't include an introduction or conclusions. This chapter should merge with the rest of the article.\\n\"}]}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"85007abe-b4b1-4263-a7e6-62f0a2ebd7c3\",\"name\":\"Settings\",\"type\":\"n8n-nodes-base.set\",\"position\":[-60,1080],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"c07386d7-9f51-4052-a62d-500e9aff9336\",\"name\":\"wordpress_url\",\"type\":\"string\",\"value\":\"https://you-wordpress-url-here.com/\"},{\"id\":\"2bbdd88a-3d66-4407-9b77-32af63f44e11\",\"name\":\"keywords\",\"type\":\"string\",\"value\":\"={{ $json['Keywords (comma-separated)'] }}\"},{\"id\":\"4a199e44-1033-446a-a019-e2e1a694009e\",\"name\":\"chapters\",\"type\":\"string\",\"value\":\"={{ $json['Number of chapters'] }}\"},{\"id\":\"312d2e97-d1b6-46d9-b2ae-35f7234b5404\",\"name\":\"words\",\"type\":\"string\",\"value\":\"={{ $json['Max words count'] }}\"}]}},\"typeVersion\":3.4},{\"id\":\"d87b4460-1bf1-4c7f-8f5a-51993c1b7cd0\",\"name\":\"Create post title and structure\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[180,1080],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"content\":\"=Write the title, the subtitle, the chapters details, the introduction, the conclusions, and an image prompt for a SEO-friendly article about these topics:\\n{{ $json.keywords }}.\\n\\nInstructions:\\n- Place the article title in a JSON field called `title`\\n- Place the subtitle in a JSON field called `subtitle`\\n- Place the introduction in a JSON field called `introduction`\\n- In the introduction introduce the topic that is then explored in depth in the rest of the text\\n- The introduction should be around 60 words\\n- Place the conclusions in a JSON field called `conclusions`\\n- The conclusions should be around 60 words\\n- Use the conclusions to sum all said in the article and offer a conclusion to the reader\\n- The image prompt will be used to produce a photographic cover image for the article and should depict the topics discussed in the article\\n- Place the image prompt in a JSON field called `imagePrompt`\\n- There should be {{ $json.chapters.toString() }} chapters.\\n- For each chapter provide a title and an exaustive prompt that will be used to write the chapter text.\\n- Place the chapters in an array field called `chapters`\\n- For each chapter provide the fields `title` and `prompt`\\n- The chapters should follow a logical flow and not repeat the same concepts.\\n- The chapters should be one related to the other and not isolated blocks of text. The text should be fluent and folow a linear logic.\\n- Don't start the chapters with \\\"Chapter 1\\\", \\\"Chapter 2\\\", \\\"Chapter 3\\\"... just write the title of the chapter\\n- For the title and the capthers' titles don't use colons (`:`)\\n- For the text, use HTML for formatting, but limited to bold, italic and lists.\\n- Don't use markdown for formatting.\\n- Always search on Wikipedia for useful information or verify the accuracy of what you write.\\n- Never mention it if you don't find information on Wikipedia or the web\\n- Go deep in the topic you treat, don't just throw some superficial info\"}]},\"jsonOutput\":true},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"57f5811a-e82e-4dd3-8d53-0559b2716dac\",\"name\":\"Wikipedia\",\"type\":\"@n8n/n8n-nodes-langchain.toolWikipedia\",\"position\":[280,1360],\"parameters\":{},\"typeVersion\":1},{\"id\":\"1987ab2c-4b6e-451d-a831-0817004be72b\",\"name\":\"Check data consistency\",\"type\":\"n8n-nodes-base.if\",\"position\":[620,1080],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9523cb70-8467-4e65-9ecf-65cb91c29cb7\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.content.title }}\",\"rightValue\":\"\"},{\"id\":\"d754869d-10fe-4348-807f-2e1bc82a7b41\",\"operator\":{\"type\":\"array\",\"operation\":\"lengthGt\",\"rightType\":\"number\"},\"leftValue\":\"={{ $json.message.content.chapters }}\",\"rightValue\":0},{\"id\":\"79a60fc1-66f8-4cfc-a61b-de528dfb7978\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.content.subtitle }}\",\"rightValue\":\"\"},{\"id\":\"c0c44d88-1c3d-44ba-9030-6e8fa9f2860f\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.content.introduction }}\",\"rightValue\":\"\"},{\"id\":\"338cd7e0-d2b8-40f4-838d-3aaf618268d2\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.content.conclusions }}\",\"rightValue\":\"\"},{\"id\":\"76eb9ba1-7675-403c-9287-ac1319791ffe\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.content.imagePrompt }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"6b22ae14-80c9-48ac-9a03-9266bc3a9aa4\",\"name\":\"Form\",\"type\":\"n8n-nodes-base.form\",\"position\":[940,1340],\"webhookId\":\"691e1010-7083-46be-9e6e-4e77fb853a9a\",\"parameters\":{\"operation\":\"completion\",\"respondWith\":\"showText\",\"responseText\":\"There was a problem creating the article, please refresh the form and try again!\"},\"typeVersion\":1},{\"id\":\"5a22467a-6835-4a62-951f-e8cd43bef3af\",\"name\":\"Merge chapters title and text\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1580,1200],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combineBy\":\"combineByPosition\"},\"typeVersion\":3},{\"id\":\"f4609858-7f65-4f2d-b222-f03ee207f166\",\"name\":\"Final article text\",\"type\":\"n8n-nodes-base.code\",\"position\":[1760,1080],\"parameters\":{\"jsCode\":\"let article = \\\"\\\";\\n\\n// Introduction\\narticle += $('Create post title and structure').first().json.message.content.introduction;\\narticle += \\\"<br><br>\\\";\\n\\nfor (const item of $input.all()) {\\n  article += \\\"<strong>\\\" + item.json.title + \\\"</strong>\\\";\\n  article += \\\"<br><br>\\\";\\n  article += item.json.message.content;\\n  article += \\\"<br><br>\\\";\\n}\\n\\n// Conclusions\\narticle += \\\"<strong>Conclusions</strong>\\\";\\narticle += \\\"<br><br>\\\";\\narticle += $('Create post title and structure').first().json.message.content.conclusions;\\n\\n\\nreturn [\\n  {\\n    \\\"article\\\": article\\n  }\\n];\"},\"typeVersion\":2},{\"id\":\"e21a5519-315b-442e-97d0-8ee745138652\",\"name\":\"Post on Wordpress\",\"type\":\"n8n-nodes-base.wordpress\",\"position\":[2040,1080],\"parameters\":{\"title\":\"={{ $('Create post title and structure').first().json.message.content.title }}\",\"additionalFields\":{\"status\":\"draft\",\"content\":\"={{ $json.article }}\"}},\"credentials\":{\"wordpressApi\":{\"id\":\"YMW8mGrekjfxKJUe\",\"name\":\"Wordpress account\"}},\"typeVersion\":1},{\"id\":\"7d7de1e3-cff2-41f2-a8ae-123441d9b18c\",\"name\":\"Generate featured image\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[2340,1080],\"parameters\":{\"prompt\":\"=Generate a photographic image to be used as the cover image for the article titled: {{ $('Create post title and structure').first().json.message.content.title }}. This is the prompt for the image: {{ $('Create post title and structure').first().json.message.content.imagePrompt }}, photography, realistic, sigma 85mm f/1.4\",\"options\":{\"size\":\"1792x1024\",\"style\":\"natural\",\"quality\":\"hd\"},\"resource\":\"image\"},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"edbd0658-0edf-43e8-8428-3fea52639d62\",\"name\":\"Upload media\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2560,1080],\"parameters\":{\"url\":\"https://wp-demo.mondo.surf/wp-json/wp/v2/media\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"binaryData\",\"sendHeaders\":true,\"authentication\":\"predefinedCredentialType\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Disposition\",\"value\":\"attachment; filename=\\\"example.jpg\\\"\"}]},\"inputDataFieldName\":\"data\",\"nodeCredentialType\":\"wordpressApi\"},\"credentials\":{\"wordpressApi\":{\"id\":\"YMW8mGrekjfxKJUe\",\"name\":\"Wordpress account\"}},\"typeVersion\":4.2},{\"id\":\"e2cd720b-03e6-4cee-8901-a6a06e4bd1ec\",\"name\":\"Set image ID for the post\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2780,1080],\"parameters\":{\"url\":\"=https://wp-demo.mondo.surf/wp-json/wp/v2/posts/{{ $('Post on Wordpress').first().json.id }}\",\"method\":\"POST\",\"options\":{},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"featured_media\",\"value\":\"={{ $json.id }}\"}]}},\"typeVersion\":4.2},{\"id\":\"daddda39-db6a-4266-b823-8ae9080ca1a8\",\"name\":\"Form1\",\"type\":\"n8n-nodes-base.form\",\"position\":[3020,1080],\"webhookId\":\"a9bf2986-4c9d-4d89-b5bf-ef6e93130b60\",\"parameters\":{\"options\":{},\"operation\":\"completion\",\"completionTitle\":\"Created Successfully!\",\"completionMessage\":\"=The article {{ $json.title.rendered }} was correctly created as a draft on WordPress!\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"OpenAI\":{\"main\":[[{\"node\":\"Merge chapters title and text\",\"type\":\"main\",\"index\":0}]]},\"Settings\":{\"main\":[[{\"node\":\"Create post title and structure\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"OpenAI\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge chapters title and text\",\"type\":\"main\",\"index\":1}]]},\"Wikipedia\":{\"ai_tool\":[[{\"node\":\"Create post title and structure\",\"type\":\"ai_tool\",\"index\":0}]]},\"Upload media\":{\"main\":[[{\"node\":\"Set image ID for the post\",\"type\":\"main\",\"index\":0}]]},\"Post on Wordpress\":{\"main\":[[{\"node\":\"Generate featured image\",\"type\":\"main\",\"index\":0}]]},\"Final article text\":{\"main\":[[{\"node\":\"Post on Wordpress\",\"type\":\"main\",\"index\":0}]]},\"On form submission\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]},\"Check data consistency\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Form\",\"type\":\"main\",\"index\":0}]]},\"Generate featured image\":{\"main\":[[{\"node\":\"Upload media\",\"type\":\"main\",\"index\":0}]]},\"Set image ID for the post\":{\"main\":[[{\"node\":\"Form1\",\"type\":\"main\",\"index\":0}]]},\"Merge chapters title and text\":{\"main\":[[{\"node\":\"Final article text\",\"type\":\"main\",\"index\":0}]]},\"Create post title and structure\":{\"main\":[[{\"node\":\"Check data consistency\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n workflow template allows you to write WordPress posts by just providing a few keywords. It uses AI technology to write the text and to create the post's featured image. The text includes an introduction, chapters, and conclusions. Each chapter is written independently and this allows you to create also very long articles. The workflow uses technologies provided by Open AI: Chat GPT for the text and Dall-E for the image.\n\nI suggest reviewing the created posts before publishing them on your WordPress website.\n\nThe article generation might take some minutes as each chapter is created independently.\n\n### Features\n\n  * **Easy to use:** Easy web interface to start the generation of the WordPress post\n  * **AI-powered:** Text and image generation is done by artificial intelligence\n  * **Long-text ready:** Possibility to create very long articles\n  * **Configurable:** Possibility to provide as many keywords as you want, to choose the number of chapters and the length of the article\n  * **Plugs into your WordPress:** Easily integrates with your WordPress website\n  * **Tweak it as you want:** Fine-tune the Open AI prompts and the workflow as you want\n\n\n\n### Workflow Steps\n\n  * **User form:** An n8n form is used to trigger the post creation\n  * **Settings:** This node is used to set your WordPress URL (which is used later in the workflow)\n  * **Article structure:** First AI action that writes the introduction, the conclusions, and the chapter structure.\n  * **Data check:** Check that the data provided by the AI is valid\n  * **Chapters split/Chapters text:** Splits the data for each chapter in a separate item and generates each chapter's text with AI\n  * **Content preparation:** Prepares the text for posting merging the introduction, the chapters, and the conclusions. Adds some basic HTML formatting\n  * **Draft on WordPress:** Creates the draft post on WordPress\n  * **Featured image:** Creates a featured image and adds it to the post on WordPress\n  * **User feedback:** Sends a feedback to the user on the n8n form\n\n\n\n### Getting Started\n\nTo deploy and use this template:\n\n  1. Import the workflow into your n8n workspace\n  2. Set your WordPress URL in the `wordpress_url` field in the \"Settings\" node. Include the slash (`/`) at the end of the URL\n  3. Set up your Open AI n8n credentials by following [this guide](https://docs.n8n.io/integrations/builtin/credentials/openai/). The Open AI credentials are used by the Open AI nodes (\"Create post title and structure\", \"Create chapters text\", and \"Generate featured image\")\n  4. Set up your WordPress n8n credentials by following [this guide](https://docs.n8n.io/integrations/builtin/credentials/wordpress/). The WordPress credentials are used by the WordPress and HTTP Request nodes (\"Post on Wordpress\", \"Upload media\", and \"Set image ID for the post\"). Pay attention that the \"Password\" in the WordPress credentials is not the user's password by the Application Password\n\n\n\n### How use the workflow to create a WordPress post\n\n  1. Activate the workflow\n  2. Open the \"Form\" node and copy the \"Production URL\". This is the public URL of the form to AI-write the post\n  3. Open the URL in a browser and fill in the form\n  4. Wait a few minutes till you get the feedback in the form that the post was created\n  5. Go to WordPress and check the newly created draft post. Review and publish your post!\n\n\n",
  "crawled_at": "2025-05-26T07:44:49.260548",
  "readme_zh": "这个n8n工作流模板让你仅需提供几个关键词即可撰写WordPress文章。它运用AI技术自动生成正文内容并创建文章特色图片，文本结构包含引言、章节和结论。每个章节独立生成，因此可创作超长文章。工作流采用OpenAI技术：ChatGPT负责文本生成，Dall-E负责图片创作。\n\n建议在将生成的文章发布到WordPress网站前进行审阅。由于每个章节独立生成，文章创作可能需要数分钟。\n\n### 功能特点\n\n* **操作简便**：通过网页界面轻松启动文章生成\n* **AI驱动**：文本与图片均由人工智能生成\n* **长文支持**：可创作超长篇幅内容\n* **高度可配置**：支持自定义关键词数量、章节数目及文章长度\n* **无缝对接WordPress**：轻松集成至您的WordPress网站\n* **自由定制**：可随意调整OpenAI提示词和工作流参数\n\n### 工作流步骤\n\n1. **用户表单**：通过n8n表单触发文章创建\n2. **参数设置**：配置WordPress网址（供后续流程使用）\n3. **文章架构**：AI首轮生成引言、结论及章节框架\n4. **数据校验**：验证AI生成数据的有效性\n5. **章节拆分/文本生成**：将各章节数据分离并分别生成内容\n6. **内容整合**：合并引言、章节与结论，添加基础HTML格式\n7. **创建草稿**：在WordPress中生成文章草稿\n8. **特色图片**：生成并添加文章特色图片\n9. **用户反馈**：在n8n表单中向用户发送完成通知\n\n### 快速开始\n\n部署使用指南：\n\n1. 将工作流导入n8n工作区\n2. 在\"Settings\"节点设置`wordpress_url`字段（注意URL末尾需包含斜杠/）\n3. 按[指南](https://docs.n8n.io/integrations/builtin/credentials/openai/)配置OpenAI凭证（用于文本生成和图片创建节点）\n4. 按[指南](https://docs.n8n.io/integrations/builtin/credentials/wordpress/)配置WordPress凭证（注意\"Password\"需填写应用密码而非用户密码）\n\n### 使用流程\n\n1. 激活工作流\n2. 复制\"Form\"节点中的\"Production URL\"（公开表单地址）\n3. 在浏览器打开表单并填写内容\n4. 等待数分钟直至收到创建完成通知\n5. 登录WordPress查看生成的草稿，审阅后即可发布",
  "title_zh": "用AI撰写WordPress文章（从几个关键词开始）",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"8eaf0925-1394-4771-bf43-281ad14fefb4\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 301.3874093724939,\n        \"height\": 371.765663140765,\n        \"content\": \"## 数据校验\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ab31ac7c-6bd4-44f6-8c0c-8e41463a3983\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        560,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 272.8190508599808,\n        \"height\": 80,\n        \"content\": \"检查OpenAI返回的数据是否正确\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"306ffdb5-d6b6-4e49-a26d-a256e32f7c67\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1940,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 302,\n        \"height\": 392,\n        \"content\": \"## WordPress 草案\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"928da5f9-194c-461d-a5dd-7fd5c8563345\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1960,\n        960\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 254.77269221373095,\n        \"height\": 80,\n        \"content\": \"文章已作为草稿发布在WordPress上。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"271f6b4d-cf7c-49b8-9479-dd753d7c5199\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2260,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 678,\n        \"height\": 389,\n        \"content\": \"## 特色图片\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"efb047c4-b835-4706-af6a-b40c6cd76757\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2280,\n        960\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 517.9195082760601,\n        \"height\": 80,\n        \"content\": \"该图片由Dall-E生成，上传至WordPress后，作为文章的特色图片关联至帖子。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4f78eb2c-a501-4774-b5ab-29d7aa83817d\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 287.370178643191,\n        \"height\": 80,\n        \"content\": \"从给定关键词出发，生成文章标题、副标题、章节及图片提示\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"536d265a-1c0b-4262-adab-96edd5924530\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 360,\n        \"height\": 371,\n        \"content\": \"## 文章结构\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8b4b7cf6-4809-44e7-af9a-c72919981698\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -400,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 239.97343293577688,\n        \"height\": 370.512611879577,\n        \"content\": \"用户表单\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"734b8ac2-2148-4d56-ab04-84f12991cf44\",\n      \"name\": \"Sticky Note13\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 199.7721486302032,\n        \"height\": 80,\n        \"content\": \"用户触发帖子创建\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c54f91a7-ac3d-4029-a19f-3fa3794d581a\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2960,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 391,\n        \"content\": \"## 用户反馈\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"509e89e7-8916-4228-91ae-baae25a75be7\",\n      \"name\": \"Sticky Note14\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2980,\n        960\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 183.38125554060056,\n        \"height\": 80,\n        \"content\": \"最终确认给用户\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5c6e90c4-9714-43db-a82c-54fcbf43a26c\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        880,\n        1280\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 281.2716777103785,\n        \"height\": 288.4116890365125,\n        \"content\": \"用户被通知因缺少部分数据需重试\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"54e10057-b300-475b-8280-cb761acc303a\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        1280\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 340,\n        \"height\": 275,\n        \"content\": \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nWikipedia is used to write the article\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5f5b9ad9-1da5-4321-b6b4-e1985ff257ca\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -120,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 226.71615243495023,\n        \"height\": 370.512611879577,\n        \"content\": \"## 设置\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e298414-634f-45fb-b931-2abcae9c6db1\",\n      \"name\": \"Sticky Note15\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -100,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 179.37633247508526,\n        \"height\": 80,\n        \"content\": \"在此设置您的WordPress网址\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"94b09f31-31aa-4284-936e-c37fb3088acc\",\n      \"name\": \"Sticky Note16\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        880,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 225.47038972308582,\n        \"height\": 370.512611879577,\n        \"content\": \"## 章节拆分\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"633cba39-ec92-410c-b010-083048487b2b\",\n      \"name\": \"Sticky Note17\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        900,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 185.6051460344073,\n        \"height\": 80,\n        \"content\": \"从前一节点拆分出章节内容\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4c9fd35f-d69d-4ced-a759-175336f43c8a\",\n      \"name\": \"Sticky Note18\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1160,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 287.370178643191,\n        \"height\": 80,\n        \"content\": \"为每一章撰写文本\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d751d84-117a-4bf4-a9a7-d5ad1b557fec\",\n      \"name\": \"Sticky Note19\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1140,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 333.40108076977657,\n        \"height\": 370.512611879577,\n        \"content\": \"## 章节文本\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ce36a500-136b-4082-988c-5f9b6dd6d971\",\n      \"name\": \"Sticky Note21\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1500,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 420.4253447940705,\n        \"height\": 514.2177254645992,\n        \"content\": \"## 内容准备\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9da83dc4-9e99-42a4-88a1-27ef87df6d09\",\n      \"name\": \"Sticky Note22\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1520,\n        960\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 368.1523541074699,\n        \"height\": 80,\n        \"content\": \"在发送到WordPress之前合并内容并做好准备\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8591f4cb-edc4-4582-96b4-bcb2214a27a7\",\n      \"name\": \"On form submission\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        -340,\n        1080\n      ],\n      \"webhookId\": \"080f8376-cc82-49cc-8dd0-6db36bb887ab\",\n      \"parameters\": {\n        \"options\": {\n          \"path\": \"create-wordpress-post\"\n        },\n        \"formTitle\": \"Create a WordPress post with AI\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"Keywords (comma-separated)\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"dropdown\",\n              \"fieldLabel\": \"Number of chapters\",\n              \"fieldOptions\": {\n                \"values\": [\n                  {\n                    \"option\": \"1\"\n                  },\n                  {\n                    \"option\": \"2\"\n                  },\n                  {\n                    \"option\": \"3\"\n                  },\n                  {\n                    \"option\": \"4\"\n                  },\n                  {\n                    \"option\": \"5\"\n                  },\n                  {\n                    \"option\": \"6\"\n                  },\n                  {\n                    \"option\": \"7\"\n                  },\n                  {\n                    \"option\": \"8\"\n                  },\n                  {\n                    \"option\": \"9\"\n                  },\n                  {\n                    \"option\": \"10\"\n                  }\n                ]\n              },\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"number\",\n              \"fieldLabel\": \"Max words count\",\n              \"requiredField\": true\n            }\n          ]\n        },\n        \"responseMode\": \"lastNode\",\n        \"formDescription\": \"Fill this form with the required information to create a draft post on WordPress\"\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"59619ea3-ac29-4188-9050-a6711c3f0921\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        940,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"message.content.chapters\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"728b7e4c-7b4a-46d9-ac86-98c23bda6c98\",\n      \"name\": \"OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1180,\n        1080\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=Write a chapter for the article: {{ $('Create post title and structure').item.json.message.content.title }}, {{ $('Create post title and structure').item.json.message.content.subtitle  }}, that talks about {{ $('Settings').item.json[\\\"keywords\\\"] }}\\n\\nThis is the prompt for the chapter titled {{ $json.title }}: {{ $json.prompt }}.\\n\\nGuidelines:\\n- Just return the plain text for each chapter (no JSON structure).\\n- Don't use markdown for formatting.\\n- Use HTML for formatting, but limited to bold, italic and lists.\\n- Don't add internal titles or headings.\\n- The length of each chapther should be around {{ Math.round(($('Settings').item.json.words - 120)/ $('Settings').item.json.chapters) }} words long\\n- Go deep in the topic you treat, don't just throw some superficial info\\n{{ $itemIndex > 0 ? \\\"- The previous chapter talks about \\\" + $input.all()[$itemIndex-1].json.title : \\\"\\\" }}\\n{{ $itemIndex > 0 ? \\\"- The promt for the previous chapter is \\\" + $input.all()[$itemIndex-1].json.prompt : \\\"\\\" }}\\n{{ $itemIndex < $input.all().length ? \\\"- The following chapter will talk about \\\" + $input.all()[$itemIndex+1].json.title: \\\"\\\" }}\\n{{ $itemIndex < $input.all().length ? \\\"- The prompt for the following chapter is \\\" + $input.all()[$itemIndex+1].json.prompt : \\\"\\\" }}\\n- Consider the previous and following chapters what writing the text for this chapter. The text must be coherent with the previous and following chapters.\\n- This chapter should not repeat the concepts already exposed in the previous chapter.\\n- This chapter is a part of a larger article so don't include an introduction or conclusions. This chapter should merge with the rest of the article.\\n\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"85007abe-b4b1-4263-a7e6-62f0a2ebd7c3\",\n      \"name\": \"Settings\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -60,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c07386d7-9f51-4052-a62d-500e9aff9336\",\n              \"name\": \"wordpress_url\",\n              \"type\": \"string\",\n              \"value\": \"https://you-wordpress-url-here.com/\"\n            },\n            {\n              \"id\": \"2bbdd88a-3d66-4407-9b77-32af63f44e11\",\n              \"name\": \"keywords\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Keywords (comma-separated)'] }}\"\n            },\n            {\n              \"id\": \"4a199e44-1033-446a-a019-e2e1a694009e\",\n              \"name\": \"chapters\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Number of chapters'] }}\"\n            },\n            {\n              \"id\": \"312d2e97-d1b6-46d9-b2ae-35f7234b5404\",\n              \"name\": \"words\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json['Max words count'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"d87b4460-1bf1-4c7f-8f5a-51993c1b7cd0\",\n      \"name\": \"Create post title and structure\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        180,\n        1080\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=Write the title, the subtitle, the chapters details, the introduction, the conclusions, and an image prompt for a SEO-friendly article about these topics:\\n{{ $json.keywords }}.\\n\\nInstructions:\\n- Place the article title in a JSON field called `title`\\n- Place the subtitle in a JSON field called `subtitle`\\n- Place the introduction in a JSON field called `introduction`\\n- In the introduction introduce the topic that is then explored in depth in the rest of the text\\n- The introduction should be around 60 words\\n- Place the conclusions in a JSON field called `conclusions`\\n- The conclusions should be around 60 words\\n- Use the conclusions to sum all said in the article and offer a conclusion to the reader\\n- The image prompt will be used to produce a photographic cover image for the article and should depict the topics discussed in the article\\n- Place the image prompt in a JSON field called `imagePrompt`\\n- There should be {{ $json.chapters.toString() }} chapters.\\n- For each chapter provide a title and an exaustive prompt that will be used to write the chapter text.\\n- Place the chapters in an array field called `chapters`\\n- For each chapter provide the fields `title` and `prompt`\\n- The chapters should follow a logical flow and not repeat the same concepts.\\n- The chapters should be one related to the other and not isolated blocks of text. The text should be fluent and folow a linear logic.\\n- Don't start the chapters with \\\"Chapter 1\\\", \\\"Chapter 2\\\", \\\"Chapter 3\\\"... just write the title of the chapter\\n- For the title and the capthers' titles don't use colons (`:`)\\n- For the text, use HTML for formatting, but limited to bold, italic and lists.\\n- Don't use markdown for formatting.\\n- Always search on Wikipedia for useful information or verify the accuracy of what you write.\\n- Never mention it if you don't find information on Wikipedia or the web\\n- Go deep in the topic you treat, don't just throw some superficial info\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"57f5811a-e82e-4dd3-8d53-0559b2716dac\",\n      \"name\": \"Wikipedia\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWikipedia\",\n      \"position\": [\n        280,\n        1360\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1987ab2c-4b6e-451d-a831-0817004be72b\",\n      \"name\": \"Check data consistency\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        620,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9523cb70-8467-4e65-9ecf-65cb91c29cb7\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.message.content.title }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"d754869d-10fe-4348-807f-2e1bc82a7b41\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"lengthGt\",\n                \"rightType\": \"number\"\n              },\n              \"leftValue\": \"={{ $json.message.content.chapters }}\",\n              \"rightValue\": 0\n            },\n            {\n              \"id\": \"79a60fc1-66f8-4cfc-a61b-de528dfb7978\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.message.content.subtitle }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"c0c44d88-1c3d-44ba-9030-6e8fa9f2860f\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.message.content.introduction }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"338cd7e0-d2b8-40f4-838d-3aaf618268d2\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.message.content.conclusions }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"76eb9ba1-7675-403c-9287-ac1319791ffe\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.message.content.imagePrompt }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"6b22ae14-80c9-48ac-9a03-9266bc3a9aa4\",\n      \"name\": \"Form\",\n      \"type\": \"n8n-nodes-base.form\",\n      \"position\": [\n        940,\n        1340\n      ],\n      \"webhookId\": \"691e1010-7083-46be-9e6e-4e77fb853a9a\",\n      \"parameters\": {\n        \"operation\": \"completion\",\n        \"respondWith\": \"showText\",\n        \"responseText\": \"There was a problem creating the article, please refresh the form and try again!\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5a22467a-6835-4a62-951f-e8cd43bef3af\",\n      \"name\": \"Merge chapters title and text\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1580,\n        1200\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"f4609858-7f65-4f2d-b222-f03ee207f166\",\n      \"name\": \"Final article text\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1760,\n        1080\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let article = \\\"\\\";\\n\\n// Introduction\\narticle += $('Create post title and structure').first().json.message.content.introduction;\\narticle += \\\"<br><br>\\\";\\n\\nfor (const item of $input.all()) {\\n  article += \\\"<strong>\\\" + item.json.title + \\\"</strong>\\\";\\n  article += \\\"<br><br>\\\";\\n  article += item.json.message.content;\\n  article += \\\"<br><br>\\\";\\n}\\n\\n// Conclusions\\narticle += \\\"<strong>Conclusions</strong>\\\";\\narticle += \\\"<br><br>\\\";\\narticle += $('Create post title and structure').first().json.message.content.conclusions;\\n\\n\\nreturn [\\n  {\\n    \\\"article\\\": article\\n  }\\n];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"e21a5519-315b-442e-97d0-8ee745138652\",\n      \"name\": \"Post on Wordpress\",\n      \"type\": \"n8n-nodes-base.wordpress\",\n      \"position\": [\n        2040,\n        1080\n      ],\n      \"parameters\": {\n        \"title\": \"={{ $('Create post title and structure').first().json.message.content.title }}\",\n        \"additionalFields\": {\n          \"status\": \"draft\",\n          \"content\": \"={{ $json.article }}\"\n        }\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"YMW8mGrekjfxKJUe\",\n          \"name\": \"Wordpress account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7d7de1e3-cff2-41f2-a8ae-123441d9b18c\",\n      \"name\": \"Generate featured image\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        2340,\n        1080\n      ],\n      \"parameters\": {\n        \"prompt\": \"=Generate a photographic image to be used as the cover image for the article titled: {{ $('Create post title and structure').first().json.message.content.title }}. This is the prompt for the image: {{ $('Create post title and structure').first().json.message.content.imagePrompt }}, photography, realistic, sigma 85mm f/1.4\",\n        \"options\": {\n          \"size\": \"1792x1024\",\n          \"style\": \"natural\",\n          \"quality\": \"hd\"\n        },\n        \"resource\": \"image\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"edbd0658-0edf-43e8-8428-3fea52639d62\",\n      \"name\": \"Upload media\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2560,\n        1080\n      ],\n      \"parameters\": {\n        \"url\": \"https://wp-demo.mondo.surf/wp-json/wp/v2/media\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"binaryData\",\n        \"sendHeaders\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Disposition\",\n              \"value\": \"attachment; filename=\\\"example.jpg\\\"\"\n            }\n          ]\n        },\n        \"inputDataFieldName\": \"data\",\n        \"nodeCredentialType\": \"wordpressApi\"\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"YMW8mGrekjfxKJUe\",\n          \"name\": \"Wordpress account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e2cd720b-03e6-4cee-8901-a6a06e4bd1ec\",\n      \"name\": \"Set image ID for the post\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2780,\n        1080\n      ],\n      \"parameters\": {\n        \"url\": \"=https://wp-demo.mondo.surf/wp-json/wp/v2/posts/{{ $('Post on Wordpress').first().json.id }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"featured_media\",\n              \"value\": \"={{ $json.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"daddda39-db6a-4266-b823-8ae9080ca1a8\",\n      \"name\": \"Form1\",\n      \"type\": \"n8n-nodes-base.form\",\n      \"position\": [\n        3020,\n        1080\n      ],\n      \"webhookId\": \"a9bf2986-4c9d-4d89-b5bf-ef6e93130b60\",\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"completion\",\n        \"completionTitle\": \"Created Successfully!\",\n        \"completionMessage\": \"=The article {{ $json.title.rendered }} was correctly created as a draft on WordPress!\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"OpenAI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge chapters title and text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create post title and structure\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenAI\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge chapters title and text\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Wikipedia\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Create post title and structure\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload media\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set image ID for the post\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Post on Wordpress\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate featured image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Final article text\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post on Wordpress\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On form submission\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check data consistency\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Form\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate featured image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload media\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set image ID for the post\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Form1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge chapters title and text\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Final article text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create post title and structure\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check data consistency\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}