{
  "url": "https://n8n.io/workflows/2068-dubco-url-shortener/",
  "title": "dub.co URL Shortener",
  "author": "Murtaja Ziad",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"id\":\"ReXF4z8ZKcEd6Kea\",\"meta\":{\"instanceId\":\"10e1a946d44026e16f5f1b336bb25f918a0e45738f9dee8024757614581d7d73\"},\"name\":\"dub.co URL Shortener\",\"tags\":[],\"nodes\":[{\"id\":\"63170148-b769-43b6-9a7a-02baa9f76b02\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1480,1100],\"parameters\":{\"color\":4,\"width\":346.4519761795601,\"height\":227.3959699655325,\"content\":\"## Dub.co API Limits:\\nDub’s API is capped at 10 requests per second per user.\"},\"typeVersion\":1},{\"id\":\"defd82ef-25a0-4aa4-8681-d352e5fe8275\",\"name\":\"When clicking \\\"Test Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[1231,560],\"parameters\":{},\"typeVersion\":1},{\"id\":\"fec7fb8a-3f88-4de9-8392-5c7929a712e7\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"disabled\":true,\"position\":[1480,460],\"parameters\":{\"color\":4,\"width\":826.4578951225271,\"height\":605.7992490141105,\"content\":\"## Dub.co API\\n**Create** Link. [Based on their API docs](https://dub.co/docs/api-reference/endpoint/create-a-new-link)\"},\"typeVersion\":1},{\"id\":\"8c87aad8-519c-491b-b272-f21dfd5b069f\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1171,460],\"parameters\":{\"height\":870.5323777622334,\"content\":\"## Control Stack\"},\"typeVersion\":1},{\"id\":\"a6cfe224-95d9-47d6-a900-667eed065264\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[486,460],\"parameters\":{\"width\":655.6800599837106,\"height\":462.29577922809585,\"content\":\"# README\\n\\n## Dub.co API Workflow Configuration\\n| Required | Input Field           | Description                                      |\\n|----------|-----------------------|--------------------------------------------------|\\n|✓| **`Dub API Key`**     | _API Key for Dub.co integration._                 |\\n|✓| **`Long URL`**               | _The long URL to be shortened._                    |\\n| | **`Custom Slug`**           | _Slug is the path of shortened URL - default is random 7 characters._               |\\n|✓| **`Project Slug`**                  | _Enter Your Dub project slug, The slug for the project to create links for. E.g. for app.dub.co/acme, the project slug is 'acme'._                   |\\n| | **`Custom Domain`** | _Custom domain linked to Dub.co._                 |\\n\\n\\n\\n\\n\\n\\n\\nYou'll need to add the details listed above in the \\\"API Auth\\\" node by clicking on it and filling the fields ==>\"},\"typeVersion\":1},{\"id\":\"f3164150-9730-4d20-9aef-9ae7f84e73fc\",\"name\":\"API Auth\",\"type\":\"n8n-nodes-base.set\",\"position\":[1240,820],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"Dub API Key\",\"stringValue\":\"=<Required: Get your Dub API Key from https://app.dub.co/settings/tokens>\"},{\"name\":\"Long URL\",\"stringValue\":\"https://n8n.io\"},{\"name\":\"Custom Slug\",\"stringValue\":\"=<Optional: Slug is the path of shortened URL - default is random 7 characters>\"},{\"name\":\"Project Slug\",\"stringValue\":\"=<Required: Enter Your Dub project slug, The slug for the project to create links for. E.g. for app.dub.co/acme, the project slug is 'acme'.>\"},{\"name\":\"Custom Domain\",\"stringValue\":\"=<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\"}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"a2279ab1-6550-43ef-a41d-c24c669bb2b6\",\"name\":\"CREATE\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Create Link\",\"position\":[1540,560],\"parameters\":{\"url\":\"https://api.dub.co/links\",\"method\":\"POST\",\"options\":{\"batching\":{\"batch\":{\"batchSize\":10,\"batchInterval\":60000}},\"redirect\":{\"redirect\":{}},\"response\":{\"response\":{\"neverError\":true,\"fullResponse\":true}},\"allowUnauthorizedCerts\":true},\"jsonBody\":\"={\\n{{ $ifEmpty(`\\\"domain\\\": \\\"${$json[\\\"Custom Domain\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"domain\\\": \\\"<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\\\",', \\\"\\\").replace('\\\"domain\\\": \\\"undefined\\\",', \\\"\\\") }}\\n{{ $ifEmpty(`\\\"key\\\": \\\"${$json[\\\"Custom Slug\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"key\\\": \\\"<Optional: Slug is the path of shortened URL - default is random 7 characters>\\\",', \\\"\\\").replace('\\\"key\\\": \\\"undefined\\\",', \\\"\\\") }}\\n  \\\"url\\\": \\\"{{ $json[\\\"Long URL\\\"] }}\\\",\\n  \\\"comments\\\": \\\"Updated using N8N.io workflow: {{$workflow.name}}\\\"\\n}\",\"sendBody\":true,\"sendQuery\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"queryParameters\":{\"parameters\":[{\"name\":\"projectSlug\",\"value\":\"={{ $json[\\\"Project Slug\\\"] }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $json['Dub API Key'] }}\"}]}},\"notesInFlow\":true,\"typeVersion\":4.1,\"alwaysOutputData\":true},{\"id\":\"970d062f-9206-4ec6-acdd-3fc1cc87db69\",\"name\":\"IF Slug available\",\"type\":\"n8n-nodes-base.if\",\"position\":[1760,560],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.statusCode }}\",\"value2\":\"200\",\"operation\":\"regex\"}]}},\"typeVersion\":1},{\"id\":\"d25eedfd-95a7-4c17-8a76-1cdfae6670d1\",\"name\":\"RETRIEVE\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Retrieve the link id\",\"position\":[1540,840],\"parameters\":{\"url\":\"=https://api.dub.co/links/info\",\"options\":{\"batching\":{\"batch\":{\"batchSize\":10,\"batchInterval\":60000}},\"redirect\":{\"redirect\":{}},\"response\":{\"response\":{\"neverError\":true,\"fullResponse\":true}},\"allowUnauthorizedCerts\":true},\"sendQuery\":true,\"sendHeaders\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"projectSlug\",\"value\":\"={{ $('API Auth').item.json[\\\"Project Slug\\\"] }}\"},{\"name\":\"key\",\"value\":\"={{ $('API Auth').item.json[\\\"Custom Slug\\\"] }}\"},{\"name\":\"domain\",\"value\":\"={{ $('API Auth').item.json[\\\"Custom Domain\\\"] }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('API Auth').item.json[\\\"Dub API Key\\\"] }}\"}]}},\"notesInFlow\":true,\"typeVersion\":4.1,\"alwaysOutputData\":true},{\"id\":\"18bf5187-422c-486e-84c4-c2f79855ba25\",\"name\":\"UPDATE\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Update Link\",\"position\":[1780,840],\"parameters\":{\"url\":\"=https://api.dub.co/links/{{ $json.body.id }}\",\"method\":\"PUT\",\"options\":{\"batching\":{\"batch\":{\"batchSize\":10,\"batchInterval\":60000}},\"redirect\":{\"redirect\":{}},\"response\":{\"response\":{\"neverError\":true,\"fullResponse\":true}},\"allowUnauthorizedCerts\":true},\"jsonBody\":\"={\\n    {{ $ifEmpty(`\\\"domain\\\": \\\"${$('API Auth').item.json[\\\"Custom Domain\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"domain\\\": \\\"<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\\\",', \\\"\\\").replace('\\\"domain\\\": \\\"undefined\\\",', \\\"\\\") }}\\n{{ $ifEmpty(`\\\"key\\\": \\\"${$('API Auth').item.json[\\\"Custom Slug\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"key\\\": \\\"<Optional: Slug is the path of shortened URL - default is random 7 characters>\\\",', \\\"\\\").replace('\\\"key\\\": \\\"undefined\\\",', \\\"\\\") }}\\n\\n  \\\"url\\\": \\\"{{ $('API Auth').item.json[\\\"Long URL\\\"] }}\\\",\\n  \\\"comments\\\": \\\"Updated using N8N.io workflow: {{$workflow.name}}\\\"\\n}\",\"sendBody\":true,\"sendQuery\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"queryParameters\":{\"parameters\":[{\"name\":\"projectSlug\",\"value\":\"={{ $('API Auth').item.json[\\\"Project Slug\\\"] }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('API Auth').item.json[\\\"Dub API Key\\\"] }}\"}]}},\"notesInFlow\":true,\"typeVersion\":4.1,\"alwaysOutputData\":true},{\"id\":\"c16dc19b-f807-4784-a323-5d790cebe718\",\"name\":\"Shortened URL\",\"type\":\"n8n-nodes-base.set\",\"position\":[2120,840],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Shortened URL\",\"value\":\"={{ $json.body.shortLink }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":2},{\"id\":\"44d31a47-dd84-4b07-a606-2da99a73cad1\",\"name\":\"Done\",\"type\":\"n8n-nodes-base.set\",\"position\":[1240,1060],\"parameters\":{\"options\":{}},\"typeVersion\":3.2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"3b5edd9c-e373-4dc1-95d0-b320beb47020\",\"connections\":{\"CREATE\":{\"main\":[[{\"node\":\"IF Slug available\",\"type\":\"main\",\"index\":0}]]},\"UPDATE\":{\"main\":[[{\"node\":\"Shortened URL\",\"type\":\"main\",\"index\":0}]]},\"API Auth\":{\"main\":[[{\"node\":\"CREATE\",\"type\":\"main\",\"index\":0}]]},\"RETRIEVE\":{\"main\":[[{\"node\":\"UPDATE\",\"type\":\"main\",\"index\":0}]]},\"Shortened URL\":{\"main\":[[{\"node\":\"Done\",\"type\":\"main\",\"index\":0}]]},\"IF Slug available\":{\"main\":[[{\"node\":\"Shortened URL\",\"type\":\"main\",\"index\":0}],[{\"node\":\"RETRIEVE\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Test Workflow\\\"\":{\"main\":[[{\"node\":\"API Auth\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**A n8n workflow designed to shorten URLs using[Dub.co](http://Dub.co) API.**\n\n**How it works:**  \nIt shortens a url using [Dub.co](http://Dub.co) API, with the ability to use custom domains and projects. It updates the current shortened url if the slug has been already used.\n\n**Estimated Time:** Around 15 minutes.  \n**Requirements:** A [Dub.co](http://Dub.co) account.  \n**Configuration:**  \nConfigure the \"API Auth\" node to add your [Dub.co](http://Dub.co) API key, project slug, and the long URL. There some extras that you're able to configure too. You will be able to do that by clicking the \"API Auth\" node and filling the fields.  \n**Detailed Instructions:** Sticky notes within the workflow provide extensive setup information and guidance.\n\nKeywords: n8n workflow, [dub.co](http://dub.co), [dub.sh](http://dub.sh), url shortener, short urls, short links\n",
  "crawled_at": "2025-05-25T20:46:43.741110",
  "readme_zh": "**一个利用[Dub.co](http://Dub.co) API缩短URL的n8n工作流**\n\n**运作原理：**  \n该工作流通过[Dub.co](http://Dub.co) API缩短长链接，支持自定义域名和项目配置。若短链后缀已被占用，会自动更新现有短链接。\n\n**预计耗时：** 约15分钟  \n**前置要求：** 需拥有[Dub.co](http://Dub.co)账号  \n**配置说明：**  \n在\"API Auth\"节点中配置您的[Dub.co](http://Dub.co) API密钥、项目标识及原始长链接。点击该节点还可设置更多高级选项。  \n**详细指引：** 工作流内的便签注释提供了完整的配置说明和操作指导。\n\n关键词：n8n工作流, [dub.co](http://dub.co), [dub.sh](http://dub.sh), 短链接生成器, 短网址, 短链服务",
  "title_zh": "dub.co 短链接生成器",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\n  \"id\": \"ReXF4z8ZKcEd6Kea\",\n  \"meta\": {\n    \"instanceId\": \"10e1a946d44026e16f5f1b336bb25f918a0e45738f9dee8024757614581d7d73\"\n  },\n  \"name\": \"dub.co URL Shortener\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"63170148-b769-43b6-9a7a-02baa9f76b02\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1480,\n        1100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 346.4519761795601,\n        \"height\": 227.3959699655325,\n        \"content\": \"## Dub.co API限制：\\n每位用户的Dub API请求速率上限为每秒10次。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"defd82ef-25a0-4aa4-8681-d352e5fe8275\",\n      \"name\": \"When clicking \\\"Test Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        1231,\n        560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fec7fb8a-3f88-4de9-8392-5c7929a712e7\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"disabled\": true,\n      \"position\": [\n        1480,\n        460\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 826.4578951225271,\n        \"height\": 605.7992490141105,\n        \"content\": \"## Dub.co API\\n**创建** 链接。[基于其API文档](https://dub.co/docs/api-reference/endpoint/create-a-new-link)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8c87aad8-519c-491b-b272-f21dfd5b069f\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1171,\n        460\n      ],\n      \"parameters\": {\n        \"height\": 870.5323777622334,\n        \"content\": \"## 控制栈\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a6cfe224-95d9-47d6-a900-667eed065264\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        486,\n        460\n      ],\n      \"parameters\": {\n        \"width\": 655.6800599837106,\n        \"height\": 462.29577922809585,\n        \"content\": \"# 自述文件\\n\\n## Dub.co API 工作流配置\\n| 必填 | 输入字段           | 描述                                      |\\n|----------|-----------------------|--------------------------------------------------|\\n|✓| **`Dub API 密钥`**     | _用于 Dub.co 集成的 API 密钥。_                 |\\n|✓| **`长链接`**               | _需要被缩短的长网址。_                    |\\n| | **`自定义短链后缀`**           | _短链后缀是缩短网址的路径部分 - 默认为7位随机字符。_               |\\n|✓| **`项目短链标识`**                  | _输入您的 Dub 项目短链标识，即创建链接所属项目的标识。例如 app.dub.co/acme 的项目标识是 'acme'。_                   |\\n| | **`自定义域名`** | _与 Dub.co 关联的自定义域名。_                 |\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f3164150-9730-4d20-9aef-9ae7f84e73fc\",\n      \"name\": \"API Auth\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1240,\n        820\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"Dub API Key\",\n              \"stringValue\": \"=<Required: Get your Dub API Key from https://app.dub.co/settings/tokens>\"\n            },\n            {\n              \"name\": \"Long URL\",\n              \"stringValue\": \"https://n8n.io\"\n            },\n            {\n              \"name\": \"Custom Slug\",\n              \"stringValue\": \"=<Optional: Slug is the path of shortened URL - default is random 7 characters>\"\n            },\n            {\n              \"name\": \"Project Slug\",\n              \"stringValue\": \"=<Required: Enter Your Dub project slug, The slug for the project to create links for. E.g. for app.dub.co/acme, the project slug is 'acme'.>\"\n            },\n            {\n              \"name\": \"Custom Domain\",\n              \"stringValue\": \"=<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"a2279ab1-6550-43ef-a41d-c24c669bb2b6\",\n      \"name\": \"CREATE\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Create Link\",\n      \"position\": [\n        1540,\n        560\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.dub.co/links\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"batching\": {\n            \"batch\": {\n              \"batchSize\": 10,\n              \"batchInterval\": 60000\n            }\n          },\n          \"redirect\": {\n            \"redirect\": {}\n          },\n          \"response\": {\n            \"response\": {\n              \"neverError\": true,\n              \"fullResponse\": true\n            }\n          },\n          \"allowUnauthorizedCerts\": true\n        },\n        \"jsonBody\": \"={\\n{{ $ifEmpty(`\\\"domain\\\": \\\"${$json[\\\"Custom Domain\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"domain\\\": \\\"<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\\\",', \\\"\\\").replace('\\\"domain\\\": \\\"undefined\\\",', \\\"\\\") }}\\n{{ $ifEmpty(`\\\"key\\\": \\\"${$json[\\\"Custom Slug\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"key\\\": \\\"<Optional: Slug is the path of shortened URL - default is random 7 characters>\\\",', \\\"\\\").replace('\\\"key\\\": \\\"undefined\\\",', \\\"\\\") }}\\n  \\\"url\\\": \\\"{{ $json[\\\"Long URL\\\"] }}\\\",\\n  \\\"comments\\\": \\\"Updated using N8N.io workflow: {{$workflow.name}}\\\"\\n}\",\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"projectSlug\",\n              \"value\": \"={{ $json[\\\"Project Slug\\\"] }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $json['Dub API Key'] }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"970d062f-9206-4ec6-acdd-3fc1cc87db69\",\n      \"name\": \"IF Slug available\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1760,\n        560\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.statusCode }}\",\n              \"value2\": \"200\",\n              \"operation\": \"regex\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d25eedfd-95a7-4c17-8a76-1cdfae6670d1\",\n      \"name\": \"RETRIEVE\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Retrieve the link id\",\n      \"position\": [\n        1540,\n        840\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.dub.co/links/info\",\n        \"options\": {\n          \"batching\": {\n            \"batch\": {\n              \"batchSize\": 10,\n              \"batchInterval\": 60000\n            }\n          },\n          \"redirect\": {\n            \"redirect\": {}\n          },\n          \"response\": {\n            \"response\": {\n              \"neverError\": true,\n              \"fullResponse\": true\n            }\n          },\n          \"allowUnauthorizedCerts\": true\n        },\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"projectSlug\",\n              \"value\": \"={{ $('API Auth').item.json[\\\"Project Slug\\\"] }}\"\n            },\n            {\n              \"name\": \"key\",\n              \"value\": \"={{ $('API Auth').item.json[\\\"Custom Slug\\\"] }}\"\n            },\n            {\n              \"name\": \"domain\",\n              \"value\": \"={{ $('API Auth').item.json[\\\"Custom Domain\\\"] }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('API Auth').item.json[\\\"Dub API Key\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"18bf5187-422c-486e-84c4-c2f79855ba25\",\n      \"name\": \"UPDATE\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Update Link\",\n      \"position\": [\n        1780,\n        840\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.dub.co/links/{{ $json.body.id }}\",\n        \"method\": \"PUT\",\n        \"options\": {\n          \"batching\": {\n            \"batch\": {\n              \"batchSize\": 10,\n              \"batchInterval\": 60000\n            }\n          },\n          \"redirect\": {\n            \"redirect\": {}\n          },\n          \"response\": {\n            \"response\": {\n              \"neverError\": true,\n              \"fullResponse\": true\n            }\n          },\n          \"allowUnauthorizedCerts\": true\n        },\n        \"jsonBody\": \"={\\n    {{ $ifEmpty(`\\\"domain\\\": \\\"${$('API Auth').item.json[\\\"Custom Domain\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"domain\\\": \\\"<Optional: The domain of the short link. If not provided, the primary domain for the project will be used (or dub.sh if the project has no domains)>\\\",', \\\"\\\").replace('\\\"domain\\\": \\\"undefined\\\",', \\\"\\\") }}\\n{{ $ifEmpty(`\\\"key\\\": \\\"${$('API Auth').item.json[\\\"Custom Slug\\\"] || \\\"undefined\\\"}\\\",`, \\\"\\\").replace('\\\"key\\\": \\\"<Optional: Slug is the path of shortened URL - default is random 7 characters>\\\",', \\\"\\\").replace('\\\"key\\\": \\\"undefined\\\",', \\\"\\\") }}\\n\\n  \\\"url\\\": \\\"{{ $('API Auth').item.json[\\\"Long URL\\\"] }}\\\",\\n  \\\"comments\\\": \\\"Updated using N8N.io workflow: {{$workflow.name}}\\\"\\n}\",\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"projectSlug\",\n              \"value\": \"={{ $('API Auth').item.json[\\\"Project Slug\\\"] }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('API Auth').item.json[\\\"Dub API Key\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"c16dc19b-f807-4784-a323-5d790cebe718\",\n      \"name\": \"Shortened URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2120,\n        840\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"Shortened URL\",\n              \"value\": \"={{ $json.body.shortLink }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"44d31a47-dd84-4b07-a606-2da99a73cad1\",\n      \"name\": \"Done\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1240,\n        1060\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"3b5edd9c-e373-4dc1-95d0-b320beb47020\",\n  \"connections\": {\n    \"CREATE\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF Slug available\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"UPDATE\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Shortened URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"API Auth\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CREATE\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"RETRIEVE\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"UPDATE\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Shortened URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Done\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF Slug available\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Shortened URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"RETRIEVE\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"API Auth\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}