{
  "url": "https://n8n.io/workflows/4242-enrich-pipedrive-crm-contact-data-with-linkedin-profiles-using-gpt-and-multi-crm-support/",
  "title": "Enrich Pipedrive CRM Contact Data with LinkedIn Profiles using GPT & Multi-CRM Support",
  "author": "Andrey",
  "publish_date": "Last update 4 days ago",
  "publish_date_absolute": "2025-05-22",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"reF98YdsmqqRYRfs\",\"meta\":{\"instanceId\":\"9bce59fa408e249dab636faffc5a13e5aa1a2e4af3383a551051e8bd22b2a1b9\",\"templateCredsSetupCompleted\":true},\"name\":\"HDW CRM Enrichment\",\"tags\":[],\"nodes\":[{\"id\":\"3c5a9019-48f6-4ec8-a375-65b312a5ca8b\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[20,300],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"DzKhX3E7SSLddnv4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"67d2d4a7-cf92-40b0-8f9d-5a9001f5a9d4\",\"name\":\"Get Company from CRM\",\"type\":\"n8n-nodes-base.pipedriveTool\",\"onError\":\"continueRegularOutput\",\"position\":[200,300],\"parameters\":{\"resource\":\"organization\",\"operation\":\"get\",\"organizationId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Organization_ID', `org_id`, 'number') }}\",\"descriptionType\":\"manual\",\"toolDescription\":\"Get information about company from CRM (name)\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1,\"alwaysOutputData\":false},{\"id\":\"517cb827-8581-417e-ad66-62ce48958d3c\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[40,960],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"DzKhX3E7SSLddnv4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"ccb4f7f2-15f7-41ae-a0c5-6f836956e32a\",\"name\":\"Get Company from CRM1\",\"type\":\"n8n-nodes-base.pipedriveTool\",\"onError\":\"continueRegularOutput\",\"position\":[220,960],\"parameters\":{\"resource\":\"organization\",\"operation\":\"get\",\"organizationId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Organization_ID', `org_id`, 'number') }}\",\"descriptionType\":\"manual\",\"toolDescription\":\"Get information about company from CRM (name)\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1,\"alwaysOutputData\":false},{\"id\":\"97df8c33-3cbd-4739-add2-07550ddd3d59\",\"name\":\"OpenAI Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[340,1720],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"DzKhX3E7SSLddnv4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"9ba0bf56-cefb-48a0-8133-111dd4199ddb\",\"name\":\"HubSpot Trigger\",\"type\":\"n8n-nodes-base.hubspotTrigger\",\"position\":[-400,1380],\"webhookId\":\"f23339ab-755f-4730-b941-440a3aabd531\",\"parameters\":{\"eventsUi\":{\"eventValues\":[{},{\"name\":\"contact.propertyChange\",\"property\":\"need_enrichment\"}]},\"additionalFields\":{}},\"credentials\":{\"hubspotDeveloperApi\":{\"id\":\"YoTxoBbdZ9jgzVZI\",\"name\":\"HubSpot Developer account\"}},\"typeVersion\":1},{\"id\":\"1601abfa-2d1f-4cf0-8e8b-272544adf088\",\"name\":\"If1\",\"type\":\"n8n-nodes-base.if\",\"position\":[40,1380],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"07631805-59b3-4985-9bb1-e9d8bed4ba6c\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('HubSpot Trigger').item.json.subscriptionType }}\",\"rightValue\":\"contact.creation\"}]}},\"typeVersion\":2.2},{\"id\":\"3782caf0-a426-40dd-b822-af718c00a143\",\"name\":\"If2\",\"type\":\"n8n-nodes-base.if\",\"position\":[200,1520],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8a2e7666-3353-426a-a52f-b25fcce4b6b1\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('HubSpot Trigger').item.json.subscriptionType }}\",\"rightValue\":\"contact.propertyChange\"},{\"id\":\"98e06926-e30b-4ee5-b723-6acada900e43\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.properties.need_enrichment.value }}\",\"rightValue\":\"true\"}]}},\"typeVersion\":2.2},{\"id\":\"65865367-746a-4e58-ad21-4b728bf1f22c\",\"name\":\"Pipedrive Trigger New Contact\",\"type\":\"n8n-nodes-base.pipedriveTrigger\",\"position\":[-220,40],\"webhookId\":\"57f88f55-eaac-4545-8798-5c85b74de8aa\",\"parameters\":{\"action\":\"create\",\"entity\":\"person\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1.1},{\"id\":\"94a1a81e-8023-42ec-a607-9ad639dab6b1\",\"name\":\"Data Enrichment AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[180,40],\"parameters\":{\"text\":\"=User data:\\nemail - {{ $json.data.emails[0].value }}\\nname - {{ $json.data.name }}\\norganization id - {{ $json.data.org_id }}\",\"options\":{\"systemMessage\":\"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_organisation_info` - Get information about company from CRM\\n3. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n4. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n5. `update_pipedrive_data` - Update CRM data with LinkedIn insights\\n6. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email, Get company details from CRM  to get a company name and use available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas.\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"1416e6a9-07b3-4ae0-89d9-a02d2210b263\",\"name\":\"HDW Get LinkedIn profile by Email\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[360,300],\"parameters\":{\"count\":1,\"email\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\"resource\":\"email\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"0497e923-2172-460e-be39-a892f86bdc44\",\"name\":\"Update data in Pipedrive\",\"type\":\"n8n-nodes-base.pipedriveTool\",\"position\":[520,300],\"parameters\":{\"personId\":\"={{ $('Pipedrive Trigger New Contact').item.json.data.id }}\",\"resource\":\"person\",\"operation\":\"update\",\"updateFields\":{\"customProperties\":{\"property\":[{\"name\":\"aaff6b5725bba77a29b560b3e9755c37795c8b02\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property0_Property_Value', `User post summary`, 'string') }}\"},{\"name\":\"9e32b0cdeabbcb1cc9c60e0691b6a3c68c9ecbf3\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property1_Property_Value', `linkedin profile url`, 'string') }}\"},{\"name\":\"16b938b8c25aff3ee2a0bcab7382ddf8785f9fc3\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property2_Property_Value', `profile summary`, 'string') }}\"}]}},\"descriptionType\":\"manual\",\"toolDescription\":\"Update data in Pipedrive\\nUse this tool for update customer data from linkedin profile:\\nPost summary\\nProfile URL\\nProfile summary\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"a0a8ad5d-ee64-48d0-88f5-12393138e07a\",\"name\":\"HDW Search LinkedIn Profile\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[660,300],\"parameters\":{\"keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\"additionalFields\":{\"location\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\"last_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\"first_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\"company_keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"}},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"679e5c8c-4597-4286-a356-2e7746644d65\",\"name\":\"HDW Get LinkedIn Profile Details\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[820,300],\"parameters\":{\"user\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\"operation\":\"getProfile\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"76231a56-fa8e-44f2-9e02-3407cc776098\",\"name\":\"HDW Get LinkedIn Profile Posts\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[980,300],\"parameters\":{\"urn\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\"operation\":\"getPosts\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"ef79759b-283d-4a03-8c3a-2cc2f67c1183\",\"name\":\"Pipedrive Trigger Update Data for Existing Client\",\"type\":\"n8n-nodes-base.pipedriveTrigger\",\"position\":[-180,700],\"webhookId\":\"57f88f55-eaac-4545-8798-5c85b74de8aa\",\"parameters\":{\"action\":\"change\",\"entity\":\"person\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1.1},{\"id\":\"86b8c79b-5d0f-40f5-b6fb-6a675a6d5165\",\"name\":\"Enrich Flag is True\",\"type\":\"n8n-nodes-base.if\",\"position\":[20,700],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"c4337b59-91a5-4f3b-b384-0790e1494595\",\"operator\":{\"type\":\"number\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.data.custom_fields['84e4db043440773b8550825d3112e4a0292ef0f2'].id }}\",\"rightValue\":29}]}},\"typeVersion\":2.2},{\"id\":\"e8878f73-5d53-4e5c-a974-f3fe99481585\",\"name\":\"HDW Get LinkedIn profile by Email1\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[400,960],\"parameters\":{\"count\":1,\"email\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\"resource\":\"email\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"f8fa0c6a-b598-40dd-8ddb-e6606aa78ace\",\"name\":\"HDW Get LinkedIn profile by Email2\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[640,1720],\"parameters\":{\"count\":1,\"email\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\"resource\":\"email\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"e3457e56-7a83-46e7-8926-5a3152d2d863\",\"name\":\"Data Enrichment AI Agent1\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[540,1400],\"parameters\":{\"text\":\"=User data:\\nemail - {{ $json['identity-profiles'][0].identities[0].value }}\\nname - {{ $json.properties.hs_full_name_or_email.value }}\\nCompany name - {{ $json.properties.company.value }}\",\"options\":{\"systemMessage\":\"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n3. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n4. `update_hubspot_data` - Update CRM data with LinkedIn insights\\n5. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email,  available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas. If profile has no posts - update \\\"no post\\\"\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"be290e43-8d1c-47b9-8768-5b28c1fec310\",\"name\":\"Data Enrichment AI Agent2\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[240,640],\"parameters\":{\"text\":\"=User data:\\nemail - {{ $json.data.emails[0].value }}\\nname - {{ $json.data.name }}\\norganization id - {{ $json.data.org_id }}\",\"options\":{\"systemMessage\":\"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_organisation_info` - Get information about company from CRM\\n3. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n4. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n5. `update_pipedrive_data` - Update CRM data with LinkedIn insights\\n6. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email, Get company details from CRM  to get a company name and use available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas.\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"db2ff73b-eab1-4334-91e7-e79d49c3dc75\",\"name\":\"Update data in Pipedrive1\",\"type\":\"n8n-nodes-base.pipedriveTool\",\"position\":[580,960],\"parameters\":{\"personId\":\"={{ $('Pipedrive Trigger Update Data for Existing Client').item.json.data.id }}\",\"resource\":\"person\",\"operation\":\"update\",\"updateFields\":{\"customProperties\":{\"property\":[{\"name\":\"aaff6b5725bba77a29b560b3e9755c37795c8b02\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property0_Property_Value', `User post summary`, 'string') }}\"},{\"name\":\"9e32b0cdeabbcb1cc9c60e0691b6a3c68c9ecbf3\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property1_Property_Value', `linkedin profile url`, 'string') }}\"},{\"name\":\"16b938b8c25aff3ee2a0bcab7382ddf8785f9fc3\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property2_Property_Value', `profile summary`, 'string') }}\"},{\"name\":\"84e4db043440773b8550825d3112e4a0292ef0f2\"}]}},\"descriptionType\":\"manual\",\"toolDescription\":\"Update data in Pipedrive\\nUse this tool for update customer data from linkedin profile:\\nPost summary\\nProfile URL\\nProfile summary\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"Np1lpjHWyDnuQBzh\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"603575e8-6177-4a15-ba26-c4c050ebbc8d\",\"name\":\"Update data in HubSpot\",\"type\":\"n8n-nodes-base.hubspotTool\",\"position\":[500,1720],\"parameters\":{\"email\":\"={{ $json.properties.email.value }}\",\"options\":{},\"authentication\":\"appToken\",\"descriptionType\":\"manual\",\"toolDescription\":\"Update HubSpot CRM Data\",\"additionalFields\":{\"customPropertiesUi\":{\"customPropertiesValues\":[{\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues0_Value', `LinkedIn Post Summary`, 'string') }}\",\"property\":\"linkedin_posts_summary\"},{\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues1_Value', `LinkedIn Profile Summary`, 'string') }}\",\"property\":\"profile_summary\"},{\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues3_Value', `Linkedin URL`, 'string') }}\",\"property\":\"linkedin_url\"}]}}},\"credentials\":{\"hubspotAppToken\":{\"id\":\"SMSkOh9sYnPkB155\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1},{\"id\":\"02935731-b9b1-490c-9416-f297106bb148\",\"name\":\"HDW Search LinkedIn Profile1\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[720,960],\"parameters\":{\"keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\"additionalFields\":{\"location\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\"last_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\"first_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\"company_keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"}},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"9354223f-88de-4a79-9ac8-19fa711ca341\",\"name\":\"HDW Search LinkedIn Profile2\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[800,1720],\"parameters\":{\"keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\"additionalFields\":{\"location\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\"last_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\"first_name\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\"company_keywords\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"}},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"373b2006-b5f2-4903-add3-0ed48a17ab97\",\"name\":\"HDW Get LinkedIn Profile Details1\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[880,960],\"parameters\":{\"user\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\"operation\":\"getProfile\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"53f71433-2806-4c66-8a46-44ed9f5d688d\",\"name\":\"HDW Get LinkedIn Profile Details2\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[960,1720],\"parameters\":{\"user\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\"operation\":\"getProfile\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"00c64271-b0c7-4eee-b412-74eec1c390c5\",\"name\":\"HDW Get LinkedIn Profile Posts1\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[1040,960],\"parameters\":{\"urn\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\"operation\":\"getPosts\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"21727229-4e20-48ad-939d-4f620829cb62\",\"name\":\"HDW Get LinkedIn Profile Posts2\",\"type\":\"n8n-nodes-hdw.hdwLinkedinTool\",\"position\":[1120,1720],\"parameters\":{\"urn\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\"operation\":\"getPosts\"},\"credentials\":{\"hdwLinkedinApi\":{\"id\":\"ZT0V5HkxTZIlAkvE\",\"name\":\"HDW LinkedIn account\"}},\"typeVersion\":1},{\"id\":\"6fd5f3e8-4a2c-4ef3-a9c3-b10e5420f20e\",\"name\":\"HubSpot Get Contact Data\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[-180,1380],\"parameters\":{\"contactId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.contactId }}\"},\"operation\":\"get\",\"authentication\":\"appToken\",\"additionalFields\":{\"propertiesCollection\":{\"propertiesValues\":{\"properties\":[\"firstname\",\"lastname\",\"email\",\"company\"],\"propertyMode\":\"valueOnly\"}}}},\"credentials\":{\"hubspotAppToken\":{\"id\":\"SMSkOh9sYnPkB155\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":2.1},{\"id\":\"cbda84b3-6b42-400e-9926-428d5759714a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,-20],\"parameters\":{\"width\":2100,\"height\":1180,\"content\":\"## PipeDrive Agent\"},\"typeVersion\":1},{\"id\":\"5824df79-605d-4fd4-aa86-a50f0425d0cc\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,1240],\"parameters\":{\"width\":2100,\"height\":660,\"content\":\"## HubSpot Agent\"},\"typeVersion\":1},{\"id\":\"50321ab6-d818-4160-ada5-4b5bd5ab432f\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-440,1280],\"parameters\":{\"color\":3,\"width\":400,\"height\":280,\"content\":\"1. Create custom fields in your CRM\\n2. Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"c9adb7de-0a6f-4800-807c-d67b2ffb4814\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,1280],\"parameters\":{\"color\":3,\"width\":400,\"height\":280,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"022986b3-26e9-4ecc-b700-7cb61fca3ca2\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,1660],\"parameters\":{\"color\":3,\"width\":150,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"7cb9b84a-ef8e-40db-9c9a-03513a2c778a\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,600],\"parameters\":{\"color\":3,\"width\":320,\"height\":260,\"content\":\"1. Create custom fields in your CRM\\n2. Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"4f0f1330-5a20-485a-be61-3e19fe8ae7cb\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,-20],\"parameters\":{\"color\":3,\"width\":320,\"height\":220,\"content\":\"1. Create custom fields in your CRM\\n2. Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"9cb66045-3364-473d-94a9-a07e014997c6\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[200,580],\"parameters\":{\"color\":3,\"width\":400,\"height\":280,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"eeccfac0-afa0-4990-b74f-c6fd06364d9b\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[140,-20],\"parameters\":{\"color\":3,\"width\":400,\"height\":280,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"e734b8c3-4df3-4c53-87f7-80a093b4177d\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[560,900],\"parameters\":{\"color\":3,\"width\":150,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"a9a31bf4-f1e4-4980-9ff8-f84310e8a6ee\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,240],\"parameters\":{\"color\":3,\"width\":150,\"content\":\"Check the fields mapping in the node\"},\"typeVersion\":1},{\"id\":\"492448e0-cc3c-4a5c-94fd-5eb5cf7c135f\",\"name\":\"Sticky Note11\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1780,-440],\"parameters\":{\"width\":960,\"height\":2700,\"content\":\"# CRM Data Enrichment Workflow\\nhorizondatawave.ai\\n\\n## Overview\\nThis n8n workflow automates the enrichment of CRM contact data with professional insights from LinkedIn profiles. The workflow integrates with both Pipedrive and HubSpot CRMs, finding LinkedIn profiles that match your contacts and updating your CRM with valuable information about their professional background and recent activities.\\n\\n## Key Features\\n- **Multi-CRM Support**: Works with both Pipedrive and HubSpot\\n- **AI-Powered Data Enrichment**: Uses an advanced AI agent to analyze and summarize professional information\\n- **Automated Triggers**: Activates when new contacts are added or when enrichment is requested\\n- **Comprehensive Profile Analysis**: Captures LinkedIn profile summaries and post activity\\n\\n## How It Works\\n\\n### Triggers\\nThe workflow activates in three scenarios:\\n1. When a new contact is created in CRM\\n2. When a contact is updated in CRM with an enrichment flag\\n\\n### LinkedIn Data Collection Process\\n1. **Email Lookup**: First tries to find the LinkedIn profile using the contact's email\\n2. **Advanced Search**: If email lookup fails, uses name and company details to find potential matches\\n3. **Profile Analysis**: Collects comprehensive profile information\\n4. **Post Analysis**: Gathers and analyzes the contact's recent LinkedIn activity\\n\\n### CRM Updates\\nThe workflow updates your CRM with:\\n- LinkedIn profile URL\\n- Professional summary (skills, experience, background)\\n- Analysis of recent LinkedIn posts and activity\\n\\n## Setup Instructions\\n\\n### Requirements\\n1. Self-hosted n8n instance with the HDW LinkedIn community node installed\\n2. API access to OpenAI (for GPT-4o)\\n3. Pipedrive and/or HubSpot account\\n4. HDW API key [https://app.horizondatawave.ai](https://app.horizondatawave.ai)\\n\\n\\n### Installation Steps\\n1. **Install the HDW LinkedIn Node**:\\n   ```\\n   npm install n8n-nodes-hdw\\n   ```\\n   - Follow the detailed instructions at: [https://www.npmjs.com/package/n8n-nodes-hdw](https://www.npmjs.com/package/n8n-nodes-hdw)\\n\\n2. **Configure Credentials**:\\n   - **OpenAI**: Add your OpenAI API key\\n   - **Pipedrive**: Connect your Pipedrive account (if using)\\n   - **HubSpot**: Connect your HubSpot account (if using)\\n   - **HDW LinkedIn**: Add your API key from [https://app.horizondatawave.ai](https://app.horizondatawave.ai)\\n\\n3. **CRM Custom Fields Setup**:\\n   \\n   **For Pipedrive:**\\n   - Go to Settings → Data Fields → Contact Fields → + Add Field\\n   - Create the following custom fields:\\n     - **LinkedIn Profile**: Field type - Large text\\n     - **Profile Summary**: Field type - Large text  \\n     - **LinkedIn Posts Summary**: Field type - Large text\\n     - **Need Enrichment**: Field type - Single option (Yes/No)\\n   \\n   Detailed instructions for creating custom fields in Pipedrive: \\n   [https://support.pipedrive.com/en/article/custom-fields](https://support.pipedrive.com/en/article/custom-fields)\\n   \\n   **For HubSpot:**\\n   - Go to Settings → Properties → Create property\\n   - Create the following properties for Contact object:\\n     - **linkedin_url**: Field type - Single-line text\\n     - **profile_summary**: Field type - Multi-line text\\n     - **linkedin_posts_summary**: Field type - Multi-line text\\n     - **need_enrichment**: Field type - Checkbox (Boolean)\\n   \\n   Detailed instructions for creating properties in HubSpot:\\n   [https://knowledge.hubspot.com/properties/create-and-edit-properties](https://knowledge.hubspot.com/properties/create-and-edit-properties)\\n\\n4. **Import the Workflow**:\\n   - Import the \\\"HDW_CRM_Enrichment.json\\\" file into your n8n instance\\n\\n5. **Activate Webhooks**:\\n   - Enable the webhook triggers for your CRM to ensure the workflow activates correctly\\n\\n## Customization Options\\n\\n### AI Agent Prompts\\nYou can modify the system prompts in the \\\"Data Enrichment AI Agent\\\" nodes to:\\n- Change the focus of profile analysis\\n- Adjust the tone and detail level of summaries\\n- Customize what information is extracted from posts\\n\\n### CRM Field Mapping\\nThe workflow is pre-configured to update specific custom fields in Pipedrive and HubSpot. Update the field/property mappings in:\\n- \\\"Update data in Pipedrive\\\" nodes\\n- \\\"Update data in HubSpot\\\" node\\n\\n## Troubleshooting\\n\\n### Common Issues\\n- **LinkedIn Profile Not Found**: Check if the contact's email is their work email; consider adjusting the search parameters\\n- **Webhook Not Triggering**: Verify webhook configuration in your CRM\\n- **Missing Custom Fields**: Ensure all required custom fields are created in your CRM with correct names\\n\\n### Rate Limits\\n- Be aware of LinkedIn API rate limits (managed by HDW LinkedIn node)\\n- Consider implementing delays if processing large batches of contacts\\n\\n## Best Practices\\n- Use enrichment flags to selectively update contacts rather than enriching all contacts\\n- Review and clean contact data in your CRM before enrichment\\n- Periodically review the AI-generated summaries to ensure quality and relevance\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"590fdecb-0bdb-4019-8602-ead5ada0e6c1\",\"connections\":{\"If1\":{\"main\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"If2\",\"type\":\"main\",\"index\":0}]]},\"If2\":{\"main\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"main\",\"index\":0}]]},\"HubSpot Trigger\":{\"main\":[[{\"node\":\"HubSpot Get Contact Data\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Enrich Flag is True\":{\"main\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"main\",\"index\":0}]]},\"Get Company from CRM\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Get Company from CRM1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"Update data in HubSpot\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_tool\",\"index\":0}]]},\"Data Enrichment AI Agent\":{\"main\":[[]]},\"HubSpot Get Contact Data\":{\"main\":[[{\"node\":\"If1\",\"type\":\"main\",\"index\":0}]]},\"Update data in Pipedrive\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Update data in Pipedrive1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Search LinkedIn Profile\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Search LinkedIn Profile1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Search LinkedIn Profile2\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_tool\",\"index\":0}]]},\"Pipedrive Trigger New Contact\":{\"main\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"main\",\"index\":0}]]},\"HDW Get LinkedIn Profile Posts\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn Profile Posts1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn Profile Posts2\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn Profile Details\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn Profile Details1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn Profile Details2\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn profile by Email\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn profile by Email1\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent2\",\"type\":\"ai_tool\",\"index\":0}]]},\"HDW Get LinkedIn profile by Email2\":{\"ai_tool\":[[{\"node\":\"Data Enrichment AI Agent1\",\"type\":\"ai_tool\",\"index\":0}]]},\"Pipedrive Trigger Update Data for Existing Client\":{\"main\":[[{\"node\":\"Enrich Flag is True\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "![crm_enricment_n8n.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/crm_enricment_n8n_4713d1ccfa.png)\n\n**⚠️ DISCLAIMER:** This workflow uses the HDW LinkedIn community node, which is only available on self-hosted n8n instances. It will not work on n8n.cloud.\n\n## Overview\n\nThis n8n workflow automates the enrichment of CRM contact data with professional insights from LinkedIn profiles. The workflow integrates with both Pipedrive and HubSpot CRMs, finding LinkedIn profiles that match your contacts and updating your CRM with valuable information about their professional background and recent activities.\n\n## Key Features\n\n  * **Multi-CRM Support** : Works with both Pipedrive and HubSpot\n  * **AI-Powered Data Enrichment** : Uses an advanced AI agent to analyze and summarize professional information\n  * **Automated Triggers** : Activates when new contacts are added or when enrichment is requested\n  * **Comprehensive Profile Analysis** : Captures LinkedIn profile summaries and post activity\n\n\n\n## How It Works\n\n### Triggers\n\nThe workflow activates in three scenarios:\n\n  1. When a new contact is created in CRM\n  2. When a contact is updated in CRM with an enrichment flag\n\n\n\n### LinkedIn Data Collection Process\n\n  1. **Email Lookup** : First tries to find the LinkedIn profile using the contact's email\n  2. **Advanced Search** : If email lookup fails, uses name and company details to find potential matches\n  3. **Profile Analysis** : Collects comprehensive profile information\n  4. **Post Analysis** : Gathers and analyzes the contact's recent LinkedIn activity\n\n\n\n### CRM Updates\n\nThe workflow updates your CRM with:\n\n  * LinkedIn profile URL\n  * Professional summary (skills, experience, background)\n  * Analysis of recent LinkedIn posts and activity\n\n\n\n## Setup Instructions\n\n### Requirements\n\n  1. Self-hosted n8n instance with the HDW LinkedIn community node installed\n  2. API access to OpenAI (for GPT-4o)\n  3. Pipedrive and/or HubSpot account\n  4. HDW API key <https://app.horizondatawave.ai>\n\n\n\n### Installation Steps\n\n  1. **Install the HDW LinkedIn Node** :\n         \n         npm install n8n-nodes-hdw\n         \n\n     * Follow the detailed instructions at: <https://www.npmjs.com/package/n8n-nodes-hdw>\n  2. **Configure Credentials** :\n\n     * **OpenAI** : Add your OpenAI API key\n     * **Pipedrive** : Connect your Pipedrive account (if using)\n     * **HubSpot** : Connect your HubSpot account (if using)\n     * **HDW LinkedIn** : Add your API key from <https://app.horizondatawave.ai>\n  3. **CRM Custom Fields Setup** :\n\n**For Pipedrive:**\n\n     * Go to Settings → Data Fields → Contact Fields → + Add Field\n     * Create the following custom fields: \n       * **LinkedIn Profile** : Field type - Large text\n       * **Profile Summary** : Field type - Large text\n       * **LinkedIn Posts Summary** : Field type - Large text\n       * **Need Enrichment** : Field type - Single option (Yes/No)\n\nDetailed instructions for creating custom fields in Pipedrive:  \n<https://support.pipedrive.com/en/article/custom-fields>\n\n**For HubSpot:**\n\n     * Go to Settings → Properties → Create property\n     * Create the following properties for Contact object: \n       * **linkedin_url** : Field type - Single-line text\n       * **profile_summary** : Field type - Multi-line text\n       * **linkedin_posts_summary** : Field type - Multi-line text\n       * **need_enrichment** : Field type - Checkbox (Boolean)\n\nDetailed instructions for creating properties in HubSpot:  \n<https://knowledge.hubspot.com/properties/create-and-edit-properties>\n\n  4. **Import the Workflow** :\n\n     * Import the \"HDW_CRM_Enrichment.json\" file into your n8n instance\n  5. **Activate Webhooks** :\n\n     * Enable the webhook triggers for your CRM to ensure the workflow activates correctly\n\n\n\n## Customization Options\n\n### AI Agent Prompts\n\nYou can modify the system prompts in the \"Data Enrichment AI Agent\" nodes to:\n\n  * Change the focus of profile analysis\n  * Adjust the tone and detail level of summaries\n  * Customize what information is extracted from posts\n\n\n\n### CRM Field Mapping\n\nThe workflow is pre-configured to update specific custom fields in Pipedrive and HubSpot. Update the field/property mappings in:\n\n  * \"Update data in Pipedrive\" nodes\n  * \"Update data in HubSpot\" node\n\n\n\n## Troubleshooting\n\n### Common Issues\n\n  * **LinkedIn Profile Not Found** : Check if the contact's email is their work email; consider adjusting the search parameters\n  * **Webhook Not Triggering** : Verify webhook configuration in your CRM\n  * **Missing Custom Fields** : Ensure all required custom fields are created in your CRM with correct names\n\n\n\n### Rate Limits\n\n  * Be aware of LinkedIn API rate limits (managed by HDW LinkedIn node)\n  * Consider implementing delays if processing large batches of contacts\n\n\n\n## Best Practices\n\n  * Use enrichment flags to selectively update contacts rather than enriching all contacts\n  * Review and clean contact data in your CRM before enrichment\n  * Periodically review the AI-generated summaries to ensure quality and relevance\n\n\n",
  "crawled_at": "2025-05-26T07:24:50.593458",
  "readme_zh": "![crm_enricment_n8n.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/crm_enricment_n8n_4713d1ccfa.png)\n\n**⚠️ 免责声明：** 此工作流使用了HDW LinkedIn社区节点，该节点仅适用于自托管的n8n实例，无法在n8n.cloud上运行。\n\n## 概述\n\n此n8n工作流可自动从LinkedIn个人资料中获取专业信息，用于丰富CRM联系人数据。工作流集成了Pipedrive和HubSpot CRM，查找与联系人匹配的LinkedIn个人资料，并用有关其专业背景和近期活动的宝贵信息更新您的CRM。\n\n## 主要功能\n\n* **多CRM支持**：适用于Pipedrive和HubSpot  \n* **AI驱动的数据丰富**：使用先进的AI代理分析和总结专业信息  \n* **自动触发**：在添加新联系人或请求丰富数据时激活  \n* **全面的个人资料分析**：捕获LinkedIn个人资料摘要和发帖活动  \n\n## 工作原理\n\n### 触发条件\n\n工作流在以下三种情况下激活：  \n1. CRM中创建新联系人时  \n2. CRM中联系人更新了丰富数据标志时  \n\n### LinkedIn数据收集流程\n\n1. **邮箱查找**：首先尝试使用联系人的邮箱查找LinkedIn个人资料  \n2. **高级搜索**：如果邮箱查找失败，则使用姓名和公司详细信息查找可能的匹配项  \n3. **个人资料分析**：收集全面的个人资料信息  \n4. **发帖分析**：收集并分析联系人近期的LinkedIn活动  \n\n### CRM更新\n\n工作流会更新您的CRM，包括：  \n* LinkedIn个人资料URL  \n* 专业摘要（技能、经验、背景）  \n* 近期LinkedIn发帖和活动分析  \n\n## 设置说明\n\n### 要求\n\n1. 安装了HDW LinkedIn社区节点的自托管n8n实例  \n2. OpenAI的API访问权限（用于GPT-4o）  \n3. Pipedrive和/或HubSpot账户  \n4. HDW API密钥 <https://app.horizondatawave.ai>  \n\n### 安装步骤\n\n1. **安装HDW LinkedIn节点**：  \n   ```  \n   npm install n8n-nodes-hdw  \n   ```  \n   * 详细说明请见：<https://www.npmjs.com/package/n8n-nodes-hdw>  \n\n2. **配置凭据**：  \n   * **OpenAI**：添加您的OpenAI API密钥  \n   * **Pipedrive**：连接您的Pipedrive账户（如使用）  \n   * **HubSpot**：连接您的HubSpot账户（如使用）  \n   * **HDW LinkedIn**：从<https://app.horizondatawave.ai>添加您的API密钥  \n\n3. **CRM自定义字段设置**：  \n\n**对于Pipedrive：**  \n   * 进入设置 → 数据字段 → 联系人字段 → + 添加字段  \n   * 创建以下自定义字段：  \n     * **LinkedIn个人资料**：字段类型 - 大文本  \n     * **个人资料摘要**：字段类型 - 大文本  \n     * **LinkedIn发帖摘要**：字段类型 - 大文本  \n     * **需要丰富数据**：字段类型 - 单选选项（是/否）  \n\n详细说明请见：  \n<https://support.pipedrive.com/en/article/custom-fields>  \n\n**对于HubSpot：**  \n   * 进入设置 → 属性 → 创建属性  \n   * 为联系人对象创建以下属性：  \n     * **linkedin_url**：字段类型 - 单行文本  \n     * **profile_summary**：字段类型 - 多行文本  \n     * **linkedin_posts_summary**：字段类型 - 多行文本  \n     * **need_enrichment**：字段类型 - 复选框（布尔值）  \n\n详细说明请见：  \n<https://knowledge.hubspot.com/properties/create-and-edit-properties>  \n\n4. **导入工作流**：  \n   * 将“HDW_CRM_Enrichment.json”文件导入您的n8n实例  \n\n5. **激活Webhook**：  \n   * 为您的CRM启用Webhook触发器，以确保工作流正确激活  \n\n## 自定义选项\n\n### AI代理提示\n\n您可以修改“数据丰富AI代理”节点中的系统提示，以：  \n* 调整个人资料分析的重点  \n* 更改摘要的语气和详细程度  \n* 自定义从发帖中提取的信息  \n\n### CRM字段映射\n\n工作流已预配置为更新Pipedrive和HubSpot中的特定自定义字段。可在以下节点中更新字段/属性映射：  \n* “更新Pipedrive数据”节点  \n* “更新HubSpot数据”节点  \n\n## 故障排除\n\n### 常见问题\n\n* **未找到LinkedIn个人资料**：检查联系人的邮箱是否为工作邮箱；考虑调整搜索参数  \n* **Webhook未触发**：验证CRM中的Webhook配置  \n* **缺少自定义字段**：确保所有必需的自定义字段已在CRM中创建且名称正确  \n\n### 速率限制\n\n* 注意LinkedIn API的速率限制（由HDW LinkedIn节点管理）  \n* 处理大批量联系人时，考虑实施延迟  \n\n## 最佳实践\n\n* 使用丰富数据标志选择性更新联系人，而非丰富所有联系人  \n* 在丰富数据前，检查和清理CRM中的联系人数据  \n* 定期审查AI生成的摘要，确保质量和相关性",
  "title_zh": "利用GPT与多CRM支持，通过LinkedIn资料丰富Pipedrive CRM联系人数据",
  "publish_date_zh": "最后更新于4天前",
  "workflow_json_zh": "{\n  \"id\": \"reF98YdsmqqRYRfs\",\n  \"meta\": {\n    \"instanceId\": \"9bce59fa408e249dab636faffc5a13e5aa1a2e4af3383a551051e8bd22b2a1b9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"HDW CRM Enrichment\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"3c5a9019-48f6-4ec8-a375-65b312a5ca8b\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        20,\n        300\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"gpt-4o\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"DzKhX3E7SSLddnv4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"67d2d4a7-cf92-40b0-8f9d-5a9001f5a9d4\",\n      \"name\": \"Get Company from CRM\",\n      \"type\": \"n8n-nodes-base.pipedriveTool\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        200,\n        300\n      ],\n      \"parameters\": {\n        \"resource\": \"organization\",\n        \"operation\": \"get\",\n        \"organizationId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Organization_ID', `org_id`, 'number') }}\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Get information about company from CRM (name)\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"517cb827-8581-417e-ad66-62ce48958d3c\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        40,\n        960\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"gpt-4o\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"DzKhX3E7SSLddnv4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"ccb4f7f2-15f7-41ae-a0c5-6f836956e32a\",\n      \"name\": \"Get Company from CRM1\",\n      \"type\": \"n8n-nodes-base.pipedriveTool\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        220,\n        960\n      ],\n      \"parameters\": {\n        \"resource\": \"organization\",\n        \"operation\": \"get\",\n        \"organizationId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Organization_ID', `org_id`, 'number') }}\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Get information about company from CRM (name)\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"97df8c33-3cbd-4739-add2-07550ddd3d59\",\n      \"name\": \"OpenAI Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        340,\n        1720\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"gpt-4o\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"DzKhX3E7SSLddnv4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"9ba0bf56-cefb-48a0-8133-111dd4199ddb\",\n      \"name\": \"HubSpot Trigger\",\n      \"type\": \"n8n-nodes-base.hubspotTrigger\",\n      \"position\": [\n        -400,\n        1380\n      ],\n      \"webhookId\": \"f23339ab-755f-4730-b941-440a3aabd531\",\n      \"parameters\": {\n        \"eventsUi\": {\n          \"eventValues\": [\n            {},\n            {\n              \"name\": \"contact.propertyChange\",\n              \"property\": \"need_enrichment\"\n            }\n          ]\n        },\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"hubspotDeveloperApi\": {\n          \"id\": \"YoTxoBbdZ9jgzVZI\",\n          \"name\": \"HubSpot Developer account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1601abfa-2d1f-4cf0-8e8b-272544adf088\",\n      \"name\": \"If1\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        40,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"07631805-59b3-4985-9bb1-e9d8bed4ba6c\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('HubSpot Trigger').item.json.subscriptionType }}\",\n              \"rightValue\": \"contact.creation\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"3782caf0-a426-40dd-b822-af718c00a143\",\n      \"name\": \"If2\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        200,\n        1520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"8a2e7666-3353-426a-a52f-b25fcce4b6b1\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('HubSpot Trigger').item.json.subscriptionType }}\",\n              \"rightValue\": \"contact.propertyChange\"\n            },\n            {\n              \"id\": \"98e06926-e30b-4ee5-b723-6acada900e43\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.properties.need_enrichment.value }}\",\n              \"rightValue\": \"true\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"65865367-746a-4e58-ad21-4b728bf1f22c\",\n      \"name\": \"Pipedrive Trigger New Contact\",\n      \"type\": \"n8n-nodes-base.pipedriveTrigger\",\n      \"position\": [\n        -220,\n        40\n      ],\n      \"webhookId\": \"57f88f55-eaac-4545-8798-5c85b74de8aa\",\n      \"parameters\": {\n        \"action\": \"create\",\n        \"entity\": \"person\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"94a1a81e-8023-42ec-a607-9ad639dab6b1\",\n      \"name\": \"Data Enrichment AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        180,\n        40\n      ],\n      \"parameters\": {\n        \"text\": \"=User data:\\nemail - {{ $json.data.emails[0].value }}\\nname - {{ $json.data.name }}\\norganization id - {{ $json.data.org_id }}\",\n        \"options\": {\n          \"systemMessage\": \"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_organisation_info` - Get information about company from CRM\\n3. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n4. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n5. `update_pipedrive_data` - Update CRM data with LinkedIn insights\\n6. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email, Get company details from CRM  to get a company name and use available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas.\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"1416e6a9-07b3-4ae0-89d9-a02d2210b263\",\n      \"name\": \"HDW Get LinkedIn profile by Email\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        360,\n        300\n      ],\n      \"parameters\": {\n        \"count\": 1,\n        \"email\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\n        \"resource\": \"email\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0497e923-2172-460e-be39-a892f86bdc44\",\n      \"name\": \"Update data in Pipedrive\",\n      \"type\": \"n8n-nodes-base.pipedriveTool\",\n      \"position\": [\n        520,\n        300\n      ],\n      \"parameters\": {\n        \"personId\": \"={{ $('Pipedrive Trigger New Contact').item.json.data.id }}\",\n        \"resource\": \"person\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"customProperties\": {\n            \"property\": [\n              {\n                \"name\": \"aaff6b5725bba77a29b560b3e9755c37795c8b02\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property0_Property_Value', `User post summary`, 'string') }}\"\n              },\n              {\n                \"name\": \"9e32b0cdeabbcb1cc9c60e0691b6a3c68c9ecbf3\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property1_Property_Value', `linkedin profile url`, 'string') }}\"\n              },\n              {\n                \"name\": \"16b938b8c25aff3ee2a0bcab7382ddf8785f9fc3\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property2_Property_Value', `profile summary`, 'string') }}\"\n              }\n            ]\n          }\n        },\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Update data in Pipedrive\\nUse this tool for update customer data from linkedin profile:\\nPost summary\\nProfile URL\\nProfile summary\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a0a8ad5d-ee64-48d0-88f5-12393138e07a\",\n      \"name\": \"HDW Search LinkedIn Profile\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        660,\n        300\n      ],\n      \"parameters\": {\n        \"keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\n        \"additionalFields\": {\n          \"location\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\n          \"last_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\n          \"first_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\n          \"company_keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"\n        }\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"679e5c8c-4597-4286-a356-2e7746644d65\",\n      \"name\": \"HDW Get LinkedIn Profile Details\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        820,\n        300\n      ],\n      \"parameters\": {\n        \"user\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\n        \"operation\": \"getProfile\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"76231a56-fa8e-44f2-9e02-3407cc776098\",\n      \"name\": \"HDW Get LinkedIn Profile Posts\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        980,\n        300\n      ],\n      \"parameters\": {\n        \"urn\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\n        \"operation\": \"getPosts\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ef79759b-283d-4a03-8c3a-2cc2f67c1183\",\n      \"name\": \"Pipedrive Trigger Update Data for Existing Client\",\n      \"type\": \"n8n-nodes-base.pipedriveTrigger\",\n      \"position\": [\n        -180,\n        700\n      ],\n      \"webhookId\": \"57f88f55-eaac-4545-8798-5c85b74de8aa\",\n      \"parameters\": {\n        \"action\": \"change\",\n        \"entity\": \"person\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"86b8c79b-5d0f-40f5-b6fb-6a675a6d5165\",\n      \"name\": \"Enrich Flag is True\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        20,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c4337b59-91a5-4f3b-b384-0790e1494595\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.data.custom_fields['84e4db043440773b8550825d3112e4a0292ef0f2'].id }}\",\n              \"rightValue\": 29\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"e8878f73-5d53-4e5c-a974-f3fe99481585\",\n      \"name\": \"HDW Get LinkedIn profile by Email1\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        400,\n        960\n      ],\n      \"parameters\": {\n        \"count\": 1,\n        \"email\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\n        \"resource\": \"email\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8fa0c6a-b598-40dd-8ddb-e6606aa78ace\",\n      \"name\": \"HDW Get LinkedIn profile by Email2\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        640,\n        1720\n      ],\n      \"parameters\": {\n        \"count\": 1,\n        \"email\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', `user email`, 'string') }}\",\n        \"resource\": \"email\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e3457e56-7a83-46e7-8926-5a3152d2d863\",\n      \"name\": \"Data Enrichment AI Agent1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        540,\n        1400\n      ],\n      \"parameters\": {\n        \"text\": \"=User data:\\nemail - {{ $json['identity-profiles'][0].identities[0].value }}\\nname - {{ $json.properties.hs_full_name_or_email.value }}\\nCompany name - {{ $json.properties.company.value }}\",\n        \"options\": {\n          \"systemMessage\": \"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n3. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n4. `update_hubspot_data` - Update CRM data with LinkedIn insights\\n5. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email,  available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas. If profile has no posts - update \\\"no post\\\"\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"be290e43-8d1c-47b9-8768-5b28c1fec310\",\n      \"name\": \"Data Enrichment AI Agent2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        240,\n        640\n      ],\n      \"parameters\": {\n        \"text\": \"=User data:\\nemail - {{ $json.data.emails[0].value }}\\nname - {{ $json.data.name }}\\norganization id - {{ $json.data.org_id }}\",\n        \"options\": {\n          \"systemMessage\": \"# LinkedIn Data Enrichment Agent\\n\\nYou are an advanced data enrichment agent specialized in augmenting CRM records with LinkedIn profile data. Your purpose is to analyze incoming Pipedrive CRM person data, find matching LinkedIn profiles, extract valuable information, and update the CRM with enhanced professional insights.\\n\\n## Input Data Structure\\nYou will receive a JSON array containing Pipedrive person data with the following structure:\\n- Person's name, email, and other contact information\\n- Custom fields and metadata\\n- Timestamp and system information\\n\\n## Available Tools\\n1. `get_linkedin_email_user` - Search for LinkedIn profiles by email address\\n2. `get_organisation_info` - Get information about company from CRM\\n3. `get_linkedin_user_posts` - Retrieve recent posts from a LinkedIn profile\\n4. `get_linkedin_profile` - Get detailed information about a LinkedIn profile\\n5. `update_pipedrive_data` - Update CRM data with LinkedIn insights\\n6. `search_linkedin_users` - Search for profiles using parameters like name, title, location, company\\n\\n## Processing Algorithm\\n1. SEARCH BY EMAIL: First, attempt to find the LinkedIn profile using the person's email address.\\n2. ALTERNATIVE SEARCH: If no profile is found via email, Get company details from CRM  to get a company name and use available parameters (name, company, location) to search for potential matches. \\n3. PROFILE DETAILS: Once a profile is found, retrieve comprehensive profile details.\\n4. PROFILE SUMMARY: Create a concise, informative summary of the profile highlighting key professional information.\\n5. POST RETRIEVAL: Obtain the person's recent LinkedIn posts.\\n6. POST SUMMARY: Analyze posts to identify patterns, interests, and professional focus areas.\\n7. CRM UPDATE: Update the Pipedrive record with:\\n   - LinkedIn profile URL\\n   - Profile summary\\n   - Post activity summary\\n\\n## Output Requirements\\nFor each profile processed, you must:\\n1. Use structured, consistent data format for CRM updates\\n2. Include relevant professional insights that could aid in business relationship development\\n3. Format all summaries in clear, concise language\\n4. Handle errors gracefully, documenting any profiles that could not be enriched\\n\\nAlways respect privacy and data protection standards throughout this process. Process each record thoroughly before moving to the next one.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"db2ff73b-eab1-4334-91e7-e79d49c3dc75\",\n      \"name\": \"Update data in Pipedrive1\",\n      \"type\": \"n8n-nodes-base.pipedriveTool\",\n      \"position\": [\n        580,\n        960\n      ],\n      \"parameters\": {\n        \"personId\": \"={{ $('Pipedrive Trigger Update Data for Existing Client').item.json.data.id }}\",\n        \"resource\": \"person\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"customProperties\": {\n            \"property\": [\n              {\n                \"name\": \"aaff6b5725bba77a29b560b3e9755c37795c8b02\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property0_Property_Value', `User post summary`, 'string') }}\"\n              },\n              {\n                \"name\": \"9e32b0cdeabbcb1cc9c60e0691b6a3c68c9ecbf3\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property1_Property_Value', `linkedin profile url`, 'string') }}\"\n              },\n              {\n                \"name\": \"16b938b8c25aff3ee2a0bcab7382ddf8785f9fc3\",\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('property2_Property_Value', `profile summary`, 'string') }}\"\n              },\n              {\n                \"name\": \"84e4db043440773b8550825d3112e4a0292ef0f2\"\n              }\n            ]\n          }\n        },\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Update data in Pipedrive\\nUse this tool for update customer data from linkedin profile:\\nPost summary\\nProfile URL\\nProfile summary\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"Np1lpjHWyDnuQBzh\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"603575e8-6177-4a15-ba26-c4c050ebbc8d\",\n      \"name\": \"Update data in HubSpot\",\n      \"type\": \"n8n-nodes-base.hubspotTool\",\n      \"position\": [\n        500,\n        1720\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $json.properties.email.value }}\",\n        \"options\": {},\n        \"authentication\": \"appToken\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Update HubSpot CRM Data\",\n        \"additionalFields\": {\n          \"customPropertiesUi\": {\n            \"customPropertiesValues\": [\n              {\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues0_Value', `LinkedIn Post Summary`, 'string') }}\",\n                \"property\": \"linkedin_posts_summary\"\n              },\n              {\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues1_Value', `LinkedIn Profile Summary`, 'string') }}\",\n                \"property\": \"profile_summary\"\n              },\n              {\n                \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('customPropertiesValues3_Value', `Linkedin URL`, 'string') }}\",\n                \"property\": \"linkedin_url\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"hubspotAppToken\": {\n          \"id\": \"SMSkOh9sYnPkB155\",\n          \"name\": \"HubSpot App Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"02935731-b9b1-490c-9416-f297106bb148\",\n      \"name\": \"HDW Search LinkedIn Profile1\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        720,\n        960\n      ],\n      \"parameters\": {\n        \"keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\n        \"additionalFields\": {\n          \"location\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\n          \"last_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\n          \"first_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\n          \"company_keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"\n        }\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9354223f-88de-4a79-9ac8-19fa711ca341\",\n      \"name\": \"HDW Search LinkedIn Profile2\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        800,\n        1720\n      ],\n      \"parameters\": {\n        \"keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}\",\n        \"additionalFields\": {\n          \"location\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', `location`, 'string') }}\",\n          \"last_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', `last name`, 'string') }}\",\n          \"first_name\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', `first name`, 'string') }}\",\n          \"company_keywords\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Keywords', `company`, 'string') }}\"\n        }\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"373b2006-b5f2-4903-add3-0ed48a17ab97\",\n      \"name\": \"HDW Get LinkedIn Profile Details1\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        880,\n        960\n      ],\n      \"parameters\": {\n        \"user\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\n        \"operation\": \"getProfile\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"53f71433-2806-4c66-8a46-44ed9f5d688d\",\n      \"name\": \"HDW Get LinkedIn Profile Details2\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        960,\n        1720\n      ],\n      \"parameters\": {\n        \"user\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User', `user alias`, 'string') }}\",\n        \"operation\": \"getProfile\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"00c64271-b0c7-4eee-b412-74eec1c390c5\",\n      \"name\": \"HDW Get LinkedIn Profile Posts1\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        1040,\n        960\n      ],\n      \"parameters\": {\n        \"urn\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\n        \"operation\": \"getPosts\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"21727229-4e20-48ad-939d-4f620829cb62\",\n      \"name\": \"HDW Get LinkedIn Profile Posts2\",\n      \"type\": \"n8n-nodes-hdw.hdwLinkedinTool\",\n      \"position\": [\n        1120,\n        1720\n      ],\n      \"parameters\": {\n        \"urn\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('User_URN', `user URN with prefix:  fsd_profile:ACoAA..`, 'string') }}\",\n        \"operation\": \"getPosts\"\n      },\n      \"credentials\": {\n        \"hdwLinkedinApi\": {\n          \"id\": \"ZT0V5HkxTZIlAkvE\",\n          \"name\": \"HDW LinkedIn account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6fd5f3e8-4a2c-4ef3-a9c3-b10e5420f20e\",\n      \"name\": \"HubSpot Get Contact Data\",\n      \"type\": \"n8n-nodes-base.hubspot\",\n      \"position\": [\n        -180,\n        1380\n      ],\n      \"parameters\": {\n        \"contactId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.contactId }}\"\n        },\n        \"operation\": \"get\",\n        \"authentication\": \"appToken\",\n        \"additionalFields\": {\n          \"propertiesCollection\": {\n            \"propertiesValues\": {\n              \"properties\": [\n                \"firstname\",\n                \"lastname\",\n                \"email\",\n                \"company\"\n              ],\n              \"propertyMode\": \"valueOnly\"\n            }\n          }\n        }\n      },\n      \"credentials\": {\n        \"hubspotAppToken\": {\n          \"id\": \"SMSkOh9sYnPkB155\",\n          \"name\": \"HubSpot App Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"cbda84b3-6b42-400e-9926-428d5759714a\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -500,\n        -20\n      ],\n      \"parameters\": {\n        \"width\": 2100,\n        \"height\": 1180,\n        \"content\": \"## PipeDrive 代理\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5824df79-605d-4fd4-aa86-a50f0425d0cc\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -500,\n        1240\n      ],\n      \"parameters\": {\n        \"width\": 2100,\n        \"height\": 660,\n        \"content\": \"## HubSpot 代理\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"50321ab6-d818-4160-ada5-4b5bd5ab432f\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        1280\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 400,\n        \"height\": 280,\n        \"content\": \"1. 在您的CRM系统中创建自定义字段  \\n2. 检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c9adb7de-0a6f-4800-807c-d67b2ffb4814\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        1280\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 400,\n        \"height\": 280,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"022986b3-26e9-4ecc-b700-7cb61fca3ca2\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        1660\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 150,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7cb9b84a-ef8e-40db-9c9a-03513a2c778a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        600\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 320,\n        \"height\": 260,\n        \"content\": \"1. 在您的CRM中创建自定义字段  \\n2. 检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4f0f1330-5a20-485a-be61-3e19fe8ae7cb\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 320,\n        \"height\": 220,\n        \"content\": \"1. 在您的CRM中创建自定义字段  \\n2. 检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9cb66045-3364-473d-94a9-a07e014997c6\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        580\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 400,\n        \"height\": 280,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eeccfac0-afa0-4990-b74f-c6fd06364d9b\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 400,\n        \"height\": 280,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e734b8c3-4df3-4c53-87f7-80a093b4177d\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        560,\n        900\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 150,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a9a31bf4-f1e4-4980-9ff8-f84310e8a6ee\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 150,\n        \"content\": \"检查节点中的字段映射\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"492448e0-cc3c-4a5c-94fd-5eb5cf7c135f\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1780,\n        -440\n      ],\n      \"parameters\": {\n        \"width\": 960,\n        \"height\": 2700,\n        \"content\": \"# CRM数据增强工作流\\nhorizondatawave.ai\\n\\n## 概述\\n本n8n工作流可自动通过LinkedIn资料中的专业洞察增强CRM联系人数据。该工作流同时支持Pipedrive和HubSpot CRM，能自动匹配联系人对应的LinkedIn资料，并用有价值的职业背景和近期活动信息更新您的CRM系统。\\n\\n## 核心功能\\n- **多CRM支持**：兼容Pipedrive和HubSpot\\n- **AI驱动的数据增强**：采用先进AI代理分析并总结职业信息\\n- **自动触发机制**：新增联系人或有增强请求时自动激活\\n- **全面资料分析**：捕获LinkedIn个人简介及动态内容\\n\\n## 工作原理\\n\\n### 触发条件\\n工作流在以下三种场景激活：\\n1. CRM中创建新联系人时\\n2. 联系人被标记需要数据增强时\\n\\n### LinkedIn数据收集流程\\n1. **邮箱查找**：优先通过联系人邮箱匹配LinkedIn资料\\n2. **高级搜索**：邮箱匹配失败时，使用姓名和公司信息进行模糊匹配\\n3. **资料分析**：收集完整个人资料信息\\n4. **动态分析**：汇总并分析联系人近期LinkedIn活动\\n\\n### CRM更新内容\\n工作流将为CRM更新：\\n- LinkedIn个人资料链接\\n- 职业概要（技能/经验/背景）\\n- 近期LinkedIn动态分析报告\\n\\n## 配置指南\\n\\n### 环境要求\\n1. 已安装HDW LinkedIn社区节点的自托管n8n实例\\n2. OpenAI API访问权限（需GPT-4o）\\n3. Pipedrive或HubSpot账户\\n4. HDW API密钥 [https://app.horizondatawave.ai](https://app.horizondatawave.ai)\\n\\n### 安装步骤\\n1. **安装HDW LinkedIn节点**：\\n   ```\\n   npm install n8n-nodes-hdw\\n   ```\\n   - 详见：[https://www.npmjs.com/package/n8n-nodes-hdw](https://www.npmjs.com/package/n8n-nodes-hdw)\\n\\n2. **凭证配置**：\\n   - **OpenAI**：添加API密钥\\n   - **Pipedrive**：连接账户（如使用）\\n   - **HubSpot**：连接账户（如使用）\\n   - **HDW LinkedIn**：添加API密钥\\n\\n3. **CRM字段配置**：\\n   \\n   **Pipedrive设置**：\\n   - 进入设置→数据字段→联系人字段→添加字段\\n   - 创建以下自定义字段：\\n     - **LinkedIn资料**：大文本类型\\n     - **资料摘要**：大文本类型\\n     - **LinkedIn动态摘要**：大文本类型\\n     - **需增强标记**：单选类型（是/否）\\n   \\n   字段创建指南：\\n   [https://support.pipedrive.com/en/article/custom-fields](https://support.pipedrive.com/en/article/custom-fields)\\n   \\n   **HubSpot设置**：\\n   - 进入设置→属性→创建属性\\n   - 为联系人对象创建：\\n     - **linkedin_url**：单行文本\\n     - **profile_summary**：多行文本\\n     - **linkedin_posts_summary**：多行文本\\n     - **need_enrichment**：复选框类型\\n   \\n   属性创建指南：\\n   [https://knowledge.hubspot.com/properties/create-and-edit-properties](https://knowledge.hubspot.com/properties/create-and-edit-properties)\\n\\n4. **导入工作流**：\\n   - 将\\\"HDW_CRM_Enrichment.json\\\"导入n8n实例\\n\\n5. **激活Webhook**：\\n   - 在CRM中启用webhook以确保正确触发\\n\\n## 定制选项\\n\\n### AI代理提示词\\n可修改\\\"数据增强AI代理\\\"节点中的系统提示词：\\n- 调整资料分析侧重点\\n- 更改摘要详略程度\\n- 自定义动态信息提取规则\\n\\n### CRM字段映射\\n工作流预设了Pipedrive和HubSpot的字段映射关系，可修改以下节点配置：\\n- \\\"更新Pipedrive数据\\\"节点\\n- \\\"更新HubSpot数据\\\"节点\\n\\n## 故障排查\\n\\n### 常见问题\\n- **LinkedIn资料未找到**：检查是否使用工作邮箱，可调整搜索参数\\n- **Webhook未触发**：验证CRM中的webhook配置\\n- **缺少自定义字段**：确保CRM中创建了正确命名的必备字段\\n\\n### 速率限制\\n- 注意LinkedIn API调用频次限制（由HDW节点管理）\\n- 大批量处理时可考虑增加延迟\\n\\n## 最佳实践\\n- 使用增强标记选择性更新联系人\\n- 增强前先清理CRM中的联系人数据\\n- 定期检查AI生成摘要的质量和相关性\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"590fdecb-0bdb-4019-8602-ead5ada0e6c1\",\n  \"connections\": {\n    \"If1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"If2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HubSpot Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HubSpot Get Contact Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Enrich Flag is True\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Company from CRM\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Company from CRM1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update data in HubSpot\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Data Enrichment AI Agent\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"HubSpot Get Contact Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update data in Pipedrive\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update data in Pipedrive1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Search LinkedIn Profile\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Search LinkedIn Profile1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Search LinkedIn Profile2\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Pipedrive Trigger New Contact\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Posts\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Posts1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Posts2\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Details\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Details1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn Profile Details2\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn profile by Email\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn profile by Email1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent2\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HDW Get LinkedIn profile by Email2\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Data Enrichment AI Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Pipedrive Trigger Update Data for Existing Client\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Enrich Flag is True\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}