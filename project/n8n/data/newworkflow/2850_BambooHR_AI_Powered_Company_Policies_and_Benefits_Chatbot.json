{
  "url": "https://n8n.io/workflows/2850-bamboohr-ai-powered-company-policies-and-benefits-chatbot/",
  "title": "BambooHR AI-Powered Company Policies and Benefits Chatbot",
  "author": "Ludwig",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "2025-01-26",
  "categories": [
    {
      "name": "HR"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"dYjQS1bJmVSAxNnj\",\"meta\":{\"instanceId\":\"a9f3b18652ddc96459b459de4fa8fa33252fb820a9e5a1593074f3580352864a\",\"templateCredsSetupCompleted\":true},\"name\":\"BambooHR AI-Powered Company Policies and Benefits Chatbot\",\"tags\":[],\"nodes\":[{\"id\":\"832e4a1d-320f-4793-be3c-8829776a3ce6\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[760,560],\"parameters\":{},\"typeVersion\":1},{\"id\":\"63be0638-d7df-4af8-ba56-555593a6de0c\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[2080,740],\"parameters\":{\"options\":{},\"dataType\":\"binary\"},\"typeVersion\":1},{\"id\":\"ffe33bb2-efd0-4b6e-a146-aaded7c28304\",\"name\":\"Embeddings OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[1860,740],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"32de5318-ea5d-4951-b81c-3c96167bc320\",\"name\":\"Recursive Character Text Splitter\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\"position\":[2060,880],\"parameters\":{\"options\":{},\"chunkOverlap\":100},\"typeVersion\":1},{\"id\":\"6306d263-16c1-4a68-9318-c58fea1e3e62\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[1000,1340],\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"364cf0ce-524c-4b61-89f3-40b2801bc7e3\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[840,1340],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"901163a1-1e66-42ee-bfd0-9ed815a7c83d\",\"name\":\"Vector Store Tool\",\"type\":\"@n8n/n8n-nodes-langchain.toolVectorStore\",\"position\":[1120,1380],\"parameters\":{\"name\":\"company_files\",\"topK\":5,\"description\":\"Retrieves information from the company handbook, 401k policies, benefits overview, and expense policies available to all employees.\"},\"typeVersion\":1},{\"id\":\"b87fa113-6a32-48fc-8e06-049345c66f38\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1220,1600],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"9dc1a896-c8a5-4d22-b029-14eae0717bd8\",\"name\":\"Embeddings OpenAI1\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[940,1700],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"20cda474-ef6f-48af-b299-04f1fe980d3d\",\"name\":\"Employee Lookup Tool\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[1440,1360],\"parameters\":{\"name\":\"employee_lookup_tool\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Call this tool with the full name of an employee to retrieve their details from our HRIS, including their job title, department, and supervisor. If an employee name is not provided, you may call this tool with a department name to retrieve the most senior person in that department. This tool requires an exact match on employee names but can infer the senior-most person for a department query.\",\"jsonSchemaExample\":\"{\\n\\t\\\"name\\\": \\\"The name of an employee or department\\\"\\n}\",\"specifyInputSchema\":true},\"typeVersion\":1.2},{\"id\":\"55718295-459b-4a4b-8c57-fd6b31e3d963\",\"name\":\"OpenAI Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1960,1500],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"e574d63d-7e38-4d90-9533-64a4ddbe2e36\",\"name\":\"OpenAI Chat Model3\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[2980,1600],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"04d53430-b8d9-43ff-b2c4-ef0da2d799c0\",\"name\":\"OpenAI Chat Model4\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[3700,1620],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"9759fe08-3c81-4472-8d62-2c5d26156984\",\"name\":\"Auto-fixing Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserAutofixing\",\"position\":[3880,1600],\"parameters\":{},\"typeVersion\":1},{\"id\":\"d8830fd8-f238-4e5d-8c5f-bf83c9450dbe\",\"name\":\"OpenAI Chat Model5\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[3780,1700],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XXXXXX\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"da580308-e4ed-400b-99e2-31baf27b039d\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[4080,1700],\"parameters\":{\"jsonSchemaExample\":\"{\\n\\t\\\"name\\\": \\\"The name of an employee\\\"\\n}\"},\"typeVersion\":1.2},{\"id\":\"e81dbe81-5f6b-4b2c-a4bc-afa0136e33ac\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[680,460],\"parameters\":{\"color\":7,\"width\":1695.17727595829,\"height\":582.7965199011514,\"content\":\"## STEP #1: Retrieve company policies and load them into a vector store\"},\"typeVersion\":1},{\"id\":\"629872ed-2f99-424d-96da-feee6df96d3d\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[680,1080],\"parameters\":{\"color\":4,\"width\":873.5637402697844,\"height\":780.6181567295652,\"content\":\"## BambooHR AI-Powered HR Benefits and Company Policies Chatbot\"},\"typeVersion\":1},{\"id\":\"8888281b-5701-4c62-b76b-a0b6a80d8463\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1580,1075.4375994898523],\"parameters\":{\"color\":7,\"width\":2783.3549952823255,\"height\":781.525845027296,\"content\":\"## (Optional) STEP #2: Set up employee lookup tool\"},\"typeVersion\":1},{\"id\":\"17044553-d081-4c17-8108-d0327709f352\",\"name\":\"GET all files\",\"type\":\"n8n-nodes-base.bambooHr\",\"position\":[960,560],\"parameters\":{\"resource\":\"file\",\"operation\":\"getAll\",\"returnAll\":true,\"simplifyOutput\":false},\"credentials\":{\"bambooHrApi\":{\"id\":\"XXXXXX\",\"name\":\"BambooHR account\"}},\"typeVersion\":1},{\"id\":\"939881b1-eb18-4ab7-ac4a-9edcc218356f\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[920,720],\"parameters\":{\"color\":5,\"width\":177.89252000024067,\"height\":99.24268260893132,\"content\":\"Toggle **off** the _simplify_ option to ensure categories are retrieved as well\"},\"typeVersion\":1},{\"id\":\"0907a1d3-97e2-4219-bfbc-524186f6d889\",\"name\":\"Filter out files from undesired categories\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1160,560],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"b85b86cd-0b54-4348-a538-8ff4ae625b9a\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.name }}\",\"rightValue\":\"=Company Files\"}]}},\"typeVersion\":2.2},{\"id\":\"43069219-7cd9-4515-846d-ed6a0f9bbb61\",\"name\":\"Split out individual files\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1360,560],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"files\"},\"typeVersion\":1},{\"id\":\"8412af5f-f07f-4a98-a174-e363ba04f902\",\"name\":\"Filter out non-pdf files\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1560,560],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"73cc2cb9-04fa-43e7-a459-de0bf26ffb18\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.originalFileName.endsWith(\\\".pdf\\\") }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"7e007a29-c902-41d3-ab22-f6a93bc43f7d\",\"name\":\"Download file from BambooHR\",\"type\":\"n8n-nodes-base.bambooHr\",\"position\":[1760,560],\"parameters\":{\"fileId\":\"={{ $json.id }}\",\"resource\":\"file\",\"operation\":\"download\"},\"credentials\":{\"bambooHrApi\":{\"id\":\"XXXXXX\",\"name\":\"BambooHR account\"}},\"typeVersion\":1},{\"id\":\"cec7ce3a-77df-4400-8683-fb5cf87004b6\",\"name\":\"Supabase Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreSupabase\",\"position\":[1960,560],\"parameters\":{\"mode\":\"insert\",\"options\":{\"queryName\":\"match_files\"},\"tableName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"company_files\",\"cachedResultName\":\"company_files\"}},\"credentials\":{\"supabaseApi\":{\"id\":\"XXXXXX\",\"name\":\"Supabase account\"}},\"typeVersion\":1},{\"id\":\"5e070dc3-5f6d-44bb-a655-b769aac14890\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1600,1140],\"parameters\":{\"color\":5,\"width\":530.9221622705562,\"height\":91.00370621080086,\"content\":\"This employee lookup tool gives the AI Benefits and Company Policies chatbot additional superpowers by allowing it to **search for an individual or a department to retrieve contact information from BambooHR**.\"},\"typeVersion\":1},{\"id\":\"8f3cd44e-d1e5-4806-9d89-78c8728ea0e4\",\"name\":\"Employee initiates a conversation\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[760,1140],\"webhookId\":\"27ec9df7-5007-4642-81c7-7fcf7e834c43\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"3d56dc6a-13e2-404b-ad38-6370b9610f61\",\"name\":\"Supabase Vector Store Retrieval\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreSupabase\",\"position\":[940,1540],\"parameters\":{\"options\":{\"queryName\":\"match_files\"},\"tableName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"company_files\",\"cachedResultName\":\"company_files\"}},\"credentials\":{\"supabaseApi\":{\"id\":\"XXXXXX\",\"name\":\"Supabase account\"}},\"typeVersion\":1},{\"id\":\"1e6f5d4a-5897-42b7-bfcf-e69b7880b6c4\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[680,1880],\"parameters\":{\"width\":865.771928038017,\"height\":281.07009330339326,\"content\":\"### AI Chatbot Operating Guidelines \\n- When an employee asks for a contact person, first attempt to find the relevant contact in company_files.  \\n- If a contact person is found but their details (e.g., email or phone number) are missing, use the `employee_lookup_tool` to retrieve their contact details.  \\n- If no contact person is found:  \\n  1. Use the `employee_lookup_tool` with \\\"HR\\\" (or another relevant department) to retrieve the most senior person in that department.  \\n  2. If no senior contact is found, ask the employee for their name.  \\n  3. Use the `employee_lookup_tool` to retrieve their supervisor’s name.  \\n  4. Use the `employee_lookup_tool` to retrieve their supervisor’s details.  \\n  5. Provide the supervisor's contact information and recommend them as the best next point of contact.  \"},\"typeVersion\":1},{\"id\":\"ba8c82cb-4972-46cc-8594-dfe71149a41c\",\"name\":\"AI-Powered HR Benefits and Company Policies Chatbot\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[1640,1340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"aaf611fd-1779-4826-8f9c-4e9a7a538af0\",\"name\":\"Text Classifier\",\"type\":\"@n8n/n8n-nodes-langchain.textClassifier\",\"position\":[1840,1340],\"parameters\":{\"options\":{},\"inputText\":\"={{ $json.query.name }}\",\"categories\":{\"categories\":[{\"category\":\"person\",\"description\":\"This is the name of a person.\"},{\"category\":\"department\",\"description\":\"This is the name of a department within the company.\"}]}},\"typeVersion\":1},{\"id\":\"4a1e0d47-87f8-4301-9aee-2227003a40e6\",\"name\":\"GET all employees\",\"type\":\"n8n-nodes-base.bambooHr\",\"position\":[2260,1240],\"parameters\":{\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"bambooHrApi\":{\"id\":\"XXXXXX\",\"name\":\"BambooHR account\"}},\"typeVersion\":1},{\"id\":\"93e1017a-07c6-4b97-be90-659a91fdc065\",\"name\":\"Filter out other employees\",\"type\":\"n8n-nodes-base.filter\",\"position\":[2460,1240],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"e80c892e-21dc-4d6e-8ef6-c2ffaea6d43e\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.displayName }}\",\"rightValue\":\"={{ $('AI-Powered HR Benefits and Company Policies Chatbot').item.json.query.name }}\"}]}},\"typeVersion\":2.2},{\"id\":\"c45eec9a-05ca-4b35-b595-42f2251a01ec\",\"name\":\"Stringify employee record for response\",\"type\":\"n8n-nodes-base.set\",\"position\":[2660,1240],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"73ae7ef0-339a-4e32-bbc9-c40cefd37757\",\"name\":\"response\",\"type\":\"string\",\"value\":\"={{ $json.toJsonString() }}\"}]}},\"typeVersion\":3.4},{\"id\":\"aa30062a-2476-4fc2-8380-6d2106885ae2\",\"name\":\"GET all employees (second path)\",\"type\":\"n8n-nodes-base.bambooHr\",\"position\":[2260,1440],\"parameters\":{\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"bambooHrApi\":{\"id\":\"XXXXXX\",\"name\":\"BambooHR account\"}},\"typeVersion\":1},{\"id\":\"f44cb9ab-00aa-4ebc-bb1a-6ba1da2e2aaa\",\"name\":\"Extract departments\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[2460,1440],\"parameters\":{\"options\":{},\"fieldsToAggregate\":{\"fieldToAggregate\":[{\"renameField\":true,\"outputFieldName\":\"departments\",\"fieldToAggregate\":\"department\"}]}},\"typeVersion\":1},{\"id\":\"855a6968-d919-4071-96d8-04cbc4b6ec39\",\"name\":\"Ensure uniqueness in department list\",\"type\":\"n8n-nodes-base.set\",\"position\":[2660,1440],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"34f456ff-d2c5-431f-ade3-ace48abd0c6a\",\"name\":\"departments\",\"type\":\"array\",\"value\":\"={{ $json.departments.unique() }}\"},{\"id\":\"cf31288a-65fc-45c6-8b6f-6680020dce09\",\"name\":\"query\",\"type\":\"string\",\"value\":\"={{ $('Text Classifier').item.json.query.name }}\"}]}},\"typeVersion\":3.4},{\"id\":\"0dca5763-33c6-4444-b4e0-f26127bb91d5\",\"name\":\"Extract department\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[2860,1440],\"parameters\":{\"text\":\"={{ $json.query }}\",\"options\":{},\"attributes\":{\"attributes\":[{\"name\":\"department\",\"description\":\"=The department from the following list that would be most applicable:\\n{{ $json.departments }}\"}]}},\"typeVersion\":1},{\"id\":\"833b43e8-7ed5-4431-b362-b5d11bb9f787\",\"name\":\"Retrieve all employees\",\"type\":\"n8n-nodes-base.bambooHr\",\"position\":[3220,1440],\"parameters\":{\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"bambooHrApi\":{\"id\":\"XXXXXX\",\"name\":\"BambooHR account\"}},\"typeVersion\":1},{\"id\":\"adcaafb5-700f-4e93-a7f4-c393967fb4f0\",\"name\":\"Filter out other departments\",\"type\":\"n8n-nodes-base.filter\",\"position\":[3420,1440],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"a88bf53c-ecfd-49a7-8180-1e8b8eaeb6fd\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.department }}\",\"rightValue\":\"={{ $('Extract department').item.json.output.department }}\"}]}},\"typeVersion\":2.2},{\"id\":\"fe928eb9-2b70-4ab9-a5a6-a4c141467ad7\",\"name\":\"Extract relevant employee fields\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[3620,1440],\"parameters\":{\"include\":\"specifiedFields\",\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"fieldsToInclude\":\"id, displayName, jobTitle, workEmail\",\"destinationFieldName\":\"department_employees\"},\"typeVersion\":1},{\"id\":\"0632ae1b-280e-486e-9cdd-c6c9fd2a1b6e\",\"name\":\"Identify most senior employee\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[3800,1440],\"parameters\":{\"text\":\"=Who is the most senior employee from this list:\\n{{ $json.department_employees.toJsonString() }}\",\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.4},{\"id\":\"0e6c8d0a-d84f-468b-993b-c5a14d7d458f\",\"name\":\"Format name for response\",\"type\":\"n8n-nodes-base.set\",\"position\":[4160,1440],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"2b4412bf-142b-4ba0-a6b2-654e97c263e5\",\"name\":\"response\",\"type\":\"string\",\"value\":\"={{ $json.output.name }}\"}]}},\"typeVersion\":3.4},{\"id\":\"e865d8bf-ab6d-4d23-9d7c-a76f96ba75a1\",\"name\":\"HR AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1040,1140],\"parameters\":{\"options\":{\"systemMessage\":\"You are a helpful HR assistant accessible by employees at our company.\\n\\nObjective:  \\nAssist employees with questions regarding company policies, documents, and escalation procedures.\\n\\nTools:  \\n1. A vector store database (company_files) containing the company handbook, 401k policy, expense policy, and employee benefits.  \\n2. An employee lookup tool (employee_lookup_tool) that retrieves details about an employee when provided with their name. It can also retrieve the most senior person in a department if given a department name.  \\n\\nGuidelines:  \\n- When an employee asks for a contact person, first attempt to find the relevant contact in company_files.  \\n- If a contact person is found but their details (e.g., email or phone number) are missing, use the `employee_lookup_tool` to retrieve their contact details.  \\n- If no contact person is found:  \\n  1. Use the `employee_lookup_tool` with \\\"HR\\\" (or another relevant department) to retrieve the most senior person in that department.  \\n  2. If no senior contact is found, ask the employee for their name.  \\n  3. Use the `employee_lookup_tool` to retrieve their supervisor’s name.  \\n  4. Use the `employee_lookup_tool` to retrieve their supervisor’s details.  \\n  5. Provide the supervisor's contact information and recommend them as the best next point of contact.  \\n\"}},\"typeVersion\":1.7},{\"id\":\"3aa42dcf-a411-4bd8-87b3-9ab9d0043303\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1600,1660],\"parameters\":{\"color\":3,\"width\":340.93489445096634,\"height\":180.79319430657273,\"content\":\"### GetAll employees from BambooHR\\nBambooHR does not offer search by {field} functionality for its `/employees` endpoint, so filtering must be done after data retrieval. This can be inefficient for very large organizations where there may be multiple employees with the same name or simply a large number of employees.\"},\"typeVersion\":1},{\"id\":\"3b3b400c-9c7e-4fd0-91f3-1c6bcf05617f\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2240,1140],\"parameters\":{\"color\":5,\"width\":542.9452105095002,\"height\":89.69037140899545,\"content\":\"### GET singular employee by name path\\nThis path may be used multiple times by the HR AI Agent to look up the employee's details, and then to look up their supervisor's details.\"},\"typeVersion\":1},{\"id\":\"6ad78a36-e68d-4b0d-b532-ca67bcd0738d\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2240,1620],\"parameters\":{\"color\":5,\"width\":542.9452105095002,\"height\":121.0648445295759,\"content\":\"### GET senior leader of department path\\nThis path would normally only be used when no other contacts can be identified from the company_files. The employee can retrieve the contact details for the most senior leader of a department should they request it.\"},\"typeVersion\":1},{\"id\":\"25d1e603-cce0-4cd1-9293-810880c65584\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[4020,1320],\"parameters\":{\"color\":5,\"width\":300.8019702746294,\"height\":97.8161667645835,\"content\":\"### Final node returns employee name\\nThe AI Agent can then call the employee lookup path to retrieve details, if requested.\"},\"typeVersion\":1},{\"id\":\"e7076eaa-a67e-4b02-9aec-553c405f3bb9\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[700,940],\"parameters\":{\"color\":4,\"width\":244.3952545193282,\"height\":87.34661077350344,\"content\":\"## About the maker\\n**[Find Ludwig Gerdes on LinkedIn](https://www.linkedin.com/in/ludwiggerdes)**\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{\"AI-Powered HR Benefits and Company Policies Chatbot\":[{\"json\":{\"query\":{\"name\":\"HR\"}}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"b4306b84-994f-4cd0-b40c-33a234f75ef9\",\"connections\":{\"GET all files\":{\"main\":[[{\"node\":\"Filter out files from undesired categories\",\"type\":\"main\",\"index\":0}]]},\"Text Classifier\":{\"main\":[[{\"node\":\"GET all employees\",\"type\":\"main\",\"index\":0}],[{\"node\":\"GET all employees (second path)\",\"type\":\"main\",\"index\":0}]]},\"Embeddings OpenAI\":{\"ai_embedding\":[[{\"node\":\"Supabase Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"GET all employees\":{\"main\":[[{\"node\":\"Filter out other employees\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"HR AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Vector Store Tool\":{\"ai_tool\":[[{\"node\":\"HR AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Embeddings OpenAI1\":{\"ai_embedding\":[[{\"node\":\"Supabase Vector Store Retrieval\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Extract department\":{\"main\":[[{\"node\":\"Retrieve all employees\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Vector Store Tool\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Text Classifier\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model3\":{\"ai_languageModel\":[[{\"node\":\"Extract department\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model4\":{\"ai_languageModel\":[[{\"node\":\"Identify most senior employee\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model5\":{\"ai_languageModel\":[[{\"node\":\"Auto-fixing Output Parser\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Supabase Vector Store\",\"type\":\"ai_document\",\"index\":0}]]},\"Extract departments\":{\"main\":[[{\"node\":\"Ensure uniqueness in department list\",\"type\":\"main\",\"index\":0}]]},\"Employee Lookup Tool\":{\"ai_tool\":[[{\"node\":\"HR AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"HR AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Retrieve all employees\":{\"main\":[[{\"node\":\"Filter out other departments\",\"type\":\"main\",\"index\":0}]]},\"Filter out non-pdf files\":{\"main\":[[{\"node\":\"Download file from BambooHR\",\"type\":\"main\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Auto-fixing Output Parser\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Auto-fixing Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Identify most senior employee\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Filter out other employees\":{\"main\":[[{\"node\":\"Stringify employee record for response\",\"type\":\"main\",\"index\":0}]]},\"Split out individual files\":{\"main\":[[{\"node\":\"Filter out non-pdf files\",\"type\":\"main\",\"index\":0}]]},\"Download file from BambooHR\":{\"main\":[[{\"node\":\"Supabase Vector Store\",\"type\":\"main\",\"index\":0}]]},\"Filter out other departments\":{\"main\":[[{\"node\":\"Extract relevant employee fields\",\"type\":\"main\",\"index\":0}]]},\"Identify most senior employee\":{\"main\":[[{\"node\":\"Format name for response\",\"type\":\"main\",\"index\":0}]]},\"GET all employees (second path)\":{\"main\":[[{\"node\":\"Extract departments\",\"type\":\"main\",\"index\":0}]]},\"Supabase Vector Store Retrieval\":{\"ai_vectorStore\":[[{\"node\":\"Vector Store Tool\",\"type\":\"ai_vectorStore\",\"index\":0}]]},\"Extract relevant employee fields\":{\"main\":[[{\"node\":\"Identify most senior employee\",\"type\":\"main\",\"index\":0}]]},\"Employee initiates a conversation\":{\"main\":[[{\"node\":\"HR AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Recursive Character Text Splitter\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"GET all files\",\"type\":\"main\",\"index\":0}]]},\"Ensure uniqueness in department list\":{\"main\":[[{\"node\":\"Extract department\",\"type\":\"main\",\"index\":0}]]},\"Filter out files from undesired categories\":{\"main\":[[{\"node\":\"Split out individual files\",\"type\":\"main\",\"index\":0}]]},\"AI-Powered HR Benefits and Company Policies Chatbot\":{\"main\":[[{\"node\":\"Text Classifier\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## How it works\n\nThis workflow enables companies to provide instant HR support by automating responses to employee queries about policies and benefits:\n\n  1. Retrieves company policies, benefits, and HR documents from BambooHR.\n  2. Uses AI to analyze and answer employee questions based on company records.\n  3. Identifies the most relevant contact person for escalations.\n  4. Seamlessly integrates with company systems to provide real-time HR assistance.\n\n\n\n## Set up steps:\n\n_Estimated time: ~20 minutes_\n\n  1. Connect your BambooHR account to allow policy retrieval.\n  2. Configure AI parameters and access control settings.\n  3. (Optional) Set up the employee lookup tool for personalized responses.\n  4. Test the chatbot to ensure accurate responses and seamless integration.\n\n\n\n## Benefits\n\nThis workflow is perfect for HR teams looking to enhance employee support while reducing manual inquiries.\n\n### Outperform BambooHR's \"Ask BambooHR\" Chatbot\n\n**#1. Superior specificity of replies to general inquiries**\n\n![BambooHR AI Chatbot.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Bamboo_HR_AI_Chatbot_905f2cb2ea.png)  \n![BambooHR General benefits question.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Bamboo_HR_General_benefits_question_55cc592cc3.png)\n\n**#2. More appropriate escalations when responding to sensitive employee concerns**\n\n![AI Agent harassment concerns escalation.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/AI_Agent_harassment_concerns_escalation_93bedf606a.png)  \n![BambooHR failure to escalate harassment concerns.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Bamboo_HR_failure_to_escalate_harassment_concerns_79c01703f9.png)\n",
  "crawled_at": "2025-05-26T02:11:09.636831",
  "readme_zh": "## 运作原理\n\n该工作流通过自动化响应员工关于政策和福利的咨询，帮助企业实现即时人力资源支持：\n\n1. 从BambooHR系统自动调取公司政策、福利制度及人力资源文档  \n2. 运用AI技术基于公司档案分析并解答员工问题  \n3. 智能识别需升级处理事项的最相关对接人  \n4. 与企业系统无缝集成，提供实时HR协助\n\n## 配置步骤\n\n_预计耗时：约20分钟_\n\n1. 连接您的BambooHR账户启用政策调取功能  \n2. 配置AI参数与访问权限设置  \n3. （可选）设置员工查询工具以实现个性化回复  \n4. 测试聊天机器人确保应答准确性与系统融合度\n\n## 核心优势\n\n本工作流是希望提升员工支持效率、减少人工咨询的HR团队理想之选\n\n### 超越BambooHR原生智能客服\n\n**优势1. 通用咨询的答复精准度显著提升**  \n![BambooHR智能客服对比图.png]  \n![BambooHR通用福利问题应答对比.png]\n\n**优势2. 敏感问题升级机制更合理**  \n![AI代理处理骚扰投诉的升级流程.png]  \n![BambooHR未能升级骚扰投诉的案例.png]",
  "title_zh": "BambooHR AI驱动的公司政策与福利问答助手",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\n  \"id\": \"dYjQS1bJmVSAxNnj\",\n  \"meta\": {\n    \"instanceId\": \"a9f3b18652ddc96459b459de4fa8fa33252fb820a9e5a1593074f3580352864a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"BambooHR AI-Powered Company Policies and Benefits Chatbot\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"832e4a1d-320f-4793-be3c-8829776a3ce6\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        760,\n        560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63be0638-d7df-4af8-ba56-555593a6de0c\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        2080,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataType\": \"binary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ffe33bb2-efd0-4b6e-a146-aaded7c28304\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        1860,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"32de5318-ea5d-4951-b81c-3c96167bc320\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        2060,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkOverlap\": 100\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6306d263-16c1-4a68-9318-c58fea1e3e62\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        1000,\n        1340\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"364cf0ce-524c-4b61-89f3-40b2801bc7e3\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        840,\n        1340\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"901163a1-1e66-42ee-bfd0-9ed815a7c83d\",\n      \"name\": \"Vector Store Tool\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolVectorStore\",\n      \"position\": [\n        1120,\n        1380\n      ],\n      \"parameters\": {\n        \"name\": \"company_files\",\n        \"topK\": 5,\n        \"description\": \"Retrieves information from the company handbook, 401k policies, benefits overview, and expense policies available to all employees.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b87fa113-6a32-48fc-8e06-049345c66f38\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1220,\n        1600\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9dc1a896-c8a5-4d22-b029-14eae0717bd8\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        940,\n        1700\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"20cda474-ef6f-48af-b299-04f1fe980d3d\",\n      \"name\": \"Employee Lookup Tool\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        1440,\n        1360\n      ],\n      \"parameters\": {\n        \"name\": \"employee_lookup_tool\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Call this tool with the full name of an employee to retrieve their details from our HRIS, including their job title, department, and supervisor. If an employee name is not provided, you may call this tool with a department name to retrieve the most senior person in that department. This tool requires an exact match on employee names but can infer the senior-most person for a department query.\",\n        \"jsonSchemaExample\": \"{\\n\\t\\\"name\\\": \\\"The name of an employee or department\\\"\\n}\",\n        \"specifyInputSchema\": true\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"55718295-459b-4a4b-8c57-fd6b31e3d963\",\n      \"name\": \"OpenAI Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1960,\n        1500\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e574d63d-7e38-4d90-9533-64a4ddbe2e36\",\n      \"name\": \"OpenAI Chat Model3\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        2980,\n        1600\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"04d53430-b8d9-43ff-b2c4-ef0da2d799c0\",\n      \"name\": \"OpenAI Chat Model4\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        3700,\n        1620\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9759fe08-3c81-4472-8d62-2c5d26156984\",\n      \"name\": \"Auto-fixing Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserAutofixing\",\n      \"position\": [\n        3880,\n        1600\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d8830fd8-f238-4e5d-8c5f-bf83c9450dbe\",\n      \"name\": \"OpenAI Chat Model5\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        3780,\n        1700\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"da580308-e4ed-400b-99e2-31baf27b039d\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        4080,\n        1700\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"name\\\": \\\"The name of an employee\\\"\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e81dbe81-5f6b-4b2c-a4bc-afa0136e33ac\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        460\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1695.17727595829,\n        \"height\": 582.7965199011514,\n        \"content\": \"## 步骤一：检索公司政策并将其加载到向量存储中\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"629872ed-2f99-424d-96da-feee6df96d3d\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        1080\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 873.5637402697844,\n        \"height\": 780.6181567295652,\n        \"content\": \"## BambooHR AI驱动的人力资源福利与公司政策聊天机器人\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8888281b-5701-4c62-b76b-a0b6a80d8463\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1580,\n        1075.4375994898523\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 2783.3549952823255,\n        \"height\": 781.525845027296,\n        \"content\": \"## （可选）步骤二：设置员工查询工具\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17044553-d081-4c17-8108-d0327709f352\",\n      \"name\": \"GET all files\",\n      \"type\": \"n8n-nodes-base.bambooHr\",\n      \"position\": [\n        960,\n        560\n      ],\n      \"parameters\": {\n        \"resource\": \"file\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"simplifyOutput\": false\n      },\n      \"credentials\": {\n        \"bambooHrApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"BambooHR account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"939881b1-eb18-4ab7-ac4a-9edcc218356f\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        920,\n        720\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 177.89252000024067,\n        \"height\": 99.24268260893132,\n        \"content\": \"关闭**简化**选项以确保也能获取类别信息\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0907a1d3-97e2-4219-bfbc-524186f6d889\",\n      \"name\": \"Filter out files from undesired categories\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1160,\n        560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"b85b86cd-0b54-4348-a538-8ff4ae625b9a\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.name }}\",\n              \"rightValue\": \"=Company Files\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"43069219-7cd9-4515-846d-ed6a0f9bbb61\",\n      \"name\": \"Split out individual files\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1360,\n        560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"files\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8412af5f-f07f-4a98-a174-e363ba04f902\",\n      \"name\": \"Filter out non-pdf files\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1560,\n        560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"73cc2cb9-04fa-43e7-a459-de0bf26ffb18\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.originalFileName.endsWith(\\\".pdf\\\") }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"7e007a29-c902-41d3-ab22-f6a93bc43f7d\",\n      \"name\": \"Download file from BambooHR\",\n      \"type\": \"n8n-nodes-base.bambooHr\",\n      \"position\": [\n        1760,\n        560\n      ],\n      \"parameters\": {\n        \"fileId\": \"={{ $json.id }}\",\n        \"resource\": \"file\",\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"bambooHrApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"BambooHR account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cec7ce3a-77df-4400-8683-fb5cf87004b6\",\n      \"name\": \"Supabase Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreSupabase\",\n      \"position\": [\n        1960,\n        560\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {\n          \"queryName\": \"match_files\"\n        },\n        \"tableName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"company_files\",\n          \"cachedResultName\": \"company_files\"\n        }\n      },\n      \"credentials\": {\n        \"supabaseApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"Supabase account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5e070dc3-5f6d-44bb-a655-b769aac14890\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1600,\n        1140\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 530.9221622705562,\n        \"height\": 91.00370621080086,\n        \"content\": \"该员工查询工具为AI福利与公司政策聊天机器人增添了额外强大功能，使其能够**通过BambooHR系统搜索个人或部门并获取联系信息**。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8f3cd44e-d1e5-4806-9d89-78c8728ea0e4\",\n      \"name\": \"Employee initiates a conversation\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        760,\n        1140\n      ],\n      \"webhookId\": \"27ec9df7-5007-4642-81c7-7fcf7e834c43\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"3d56dc6a-13e2-404b-ad38-6370b9610f61\",\n      \"name\": \"Supabase Vector Store Retrieval\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreSupabase\",\n      \"position\": [\n        940,\n        1540\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"queryName\": \"match_files\"\n        },\n        \"tableName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"company_files\",\n          \"cachedResultName\": \"company_files\"\n        }\n      },\n      \"credentials\": {\n        \"supabaseApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"Supabase account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1e6f5d4a-5897-42b7-bfcf-e69b7880b6c4\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        1880\n      ],\n      \"parameters\": {\n        \"width\": 865.771928038017,\n        \"height\": 281.07009330339326,\n        \"content\": \"### AI聊天机器人操作指南  \\n- 当员工询问联系人时，首先尝试在company_files中查找相关联系人。  \\n- 如果找到联系人但缺少详细信息（如邮箱或电话号码），使用`employee_lookup_tool`获取其联系方式。  \\n- 若未找到联系人：  \\n  1. 使用`employee_lookup_tool`搜索\\\"HR\\\"（或其他相关部门），获取该部门最高级别人员的联系方式。  \\n  2. 若未找到高层联系人，请询问员工姓名。  \\n  3. 使用`employee_lookup_tool`获取其直属上级姓名。  \\n  4. 使用`employee_lookup_tool`获取该上级的详细联系方式。  \\n  5. 提供上级联系人信息，并推荐其作为最佳对接人。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ba8c82cb-4972-46cc-8594-dfe71149a41c\",\n      \"name\": \"AI-Powered HR Benefits and Company Policies Chatbot\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        1640,\n        1340\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aaf611fd-1779-4826-8f9c-4e9a7a538af0\",\n      \"name\": \"Text Classifier\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textClassifier\",\n      \"position\": [\n        1840,\n        1340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"inputText\": \"={{ $json.query.name }}\",\n        \"categories\": {\n          \"categories\": [\n            {\n              \"category\": \"person\",\n              \"description\": \"This is the name of a person.\"\n            },\n            {\n              \"category\": \"department\",\n              \"description\": \"This is the name of a department within the company.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4a1e0d47-87f8-4301-9aee-2227003a40e6\",\n      \"name\": \"GET all employees\",\n      \"type\": \"n8n-nodes-base.bambooHr\",\n      \"position\": [\n        2260,\n        1240\n      ],\n      \"parameters\": {\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"bambooHrApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"BambooHR account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"93e1017a-07c6-4b97-be90-659a91fdc065\",\n      \"name\": \"Filter out other employees\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        2460,\n        1240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"e80c892e-21dc-4d6e-8ef6-c2ffaea6d43e\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.displayName }}\",\n              \"rightValue\": \"={{ $('AI-Powered HR Benefits and Company Policies Chatbot').item.json.query.name }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"c45eec9a-05ca-4b35-b595-42f2251a01ec\",\n      \"name\": \"Stringify employee record for response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2660,\n        1240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"73ae7ef0-339a-4e32-bbc9-c40cefd37757\",\n              \"name\": \"response\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.toJsonString() }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"aa30062a-2476-4fc2-8380-6d2106885ae2\",\n      \"name\": \"GET all employees (second path)\",\n      \"type\": \"n8n-nodes-base.bambooHr\",\n      \"position\": [\n        2260,\n        1440\n      ],\n      \"parameters\": {\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"bambooHrApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"BambooHR account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f44cb9ab-00aa-4ebc-bb1a-6ba1da2e2aaa\",\n      \"name\": \"Extract departments\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        2460,\n        1440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToAggregate\": {\n          \"fieldToAggregate\": [\n            {\n              \"renameField\": true,\n              \"outputFieldName\": \"departments\",\n              \"fieldToAggregate\": \"department\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"855a6968-d919-4071-96d8-04cbc4b6ec39\",\n      \"name\": \"Ensure uniqueness in department list\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2660,\n        1440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"34f456ff-d2c5-431f-ade3-ace48abd0c6a\",\n              \"name\": \"departments\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.departments.unique() }}\"\n            },\n            {\n              \"id\": \"cf31288a-65fc-45c6-8b6f-6680020dce09\",\n              \"name\": \"query\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Text Classifier').item.json.query.name }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0dca5763-33c6-4444-b4e0-f26127bb91d5\",\n      \"name\": \"Extract department\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        2860,\n        1440\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.query }}\",\n        \"options\": {},\n        \"attributes\": {\n          \"attributes\": [\n            {\n              \"name\": \"department\",\n              \"description\": \"=The department from the following list that would be most applicable:\\n{{ $json.departments }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"833b43e8-7ed5-4431-b362-b5d11bb9f787\",\n      \"name\": \"Retrieve all employees\",\n      \"type\": \"n8n-nodes-base.bambooHr\",\n      \"position\": [\n        3220,\n        1440\n      ],\n      \"parameters\": {\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"bambooHrApi\": {\n          \"id\": \"XXXXXX\",\n          \"name\": \"BambooHR account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"adcaafb5-700f-4e93-a7f4-c393967fb4f0\",\n      \"name\": \"Filter out other departments\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        3420,\n        1440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a88bf53c-ecfd-49a7-8180-1e8b8eaeb6fd\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.department }}\",\n              \"rightValue\": \"={{ $('Extract department').item.json.output.department }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"fe928eb9-2b70-4ab9-a5a6-a4c141467ad7\",\n      \"name\": \"Extract relevant employee fields\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        3620,\n        1440\n      ],\n      \"parameters\": {\n        \"include\": \"specifiedFields\",\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"fieldsToInclude\": \"id, displayName, jobTitle, workEmail\",\n        \"destinationFieldName\": \"department_employees\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0632ae1b-280e-486e-9cdd-c6c9fd2a1b6e\",\n      \"name\": \"Identify most senior employee\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        3800,\n        1440\n      ],\n      \"parameters\": {\n        \"text\": \"=Who is the most senior employee from this list:\\n{{ $json.department_employees.toJsonString() }}\",\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"0e6c8d0a-d84f-468b-993b-c5a14d7d458f\",\n      \"name\": \"Format name for response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        4160,\n        1440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2b4412bf-142b-4ba0-a6b2-654e97c263e5\",\n              \"name\": \"response\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output.name }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e865d8bf-ab6d-4d23-9d7c-a76f96ba75a1\",\n      \"name\": \"HR AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1040,\n        1140\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"systemMessage\": \"You are a helpful HR assistant accessible by employees at our company.\\n\\nObjective:  \\nAssist employees with questions regarding company policies, documents, and escalation procedures.\\n\\nTools:  \\n1. A vector store database (company_files) containing the company handbook, 401k policy, expense policy, and employee benefits.  \\n2. An employee lookup tool (employee_lookup_tool) that retrieves details about an employee when provided with their name. It can also retrieve the most senior person in a department if given a department name.  \\n\\nGuidelines:  \\n- When an employee asks for a contact person, first attempt to find the relevant contact in company_files.  \\n- If a contact person is found but their details (e.g., email or phone number) are missing, use the `employee_lookup_tool` to retrieve their contact details.  \\n- If no contact person is found:  \\n  1. Use the `employee_lookup_tool` with \\\"HR\\\" (or another relevant department) to retrieve the most senior person in that department.  \\n  2. If no senior contact is found, ask the employee for their name.  \\n  3. Use the `employee_lookup_tool` to retrieve their supervisor’s name.  \\n  4. Use the `employee_lookup_tool` to retrieve their supervisor’s details.  \\n  5. Provide the supervisor's contact information and recommend them as the best next point of contact.  \\n\"\n        }\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"3aa42dcf-a411-4bd8-87b3-9ab9d0043303\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1600,\n        1660\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 340.93489445096634,\n        \"height\": 180.79319430657273,\n        \"content\": \"### 从BambooHR获取所有员工信息\\nBambooHR的`/employees`接口不提供按{字段}搜索的功能，因此必须在数据获取后进行筛选。对于规模庞大的组织来说，这可能效率低下，尤其是当存在多名同姓名的员工或员工总数非常庞大时。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b3b400c-9c7e-4fd0-91f3-1c6bcf05617f\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2240,\n        1140\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 542.9452105095002,\n        \"height\": 89.69037140899545,\n        \"content\": \"### 通过姓名路径获取单个员工信息\\n该路径可能被人力资源AI代理多次使用，以查询员工的详细信息，随后再查询其主管的详细信息。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6ad78a36-e68d-4b0d-b532-ca67bcd0738d\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2240,\n        1620\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 542.9452105095002,\n        \"height\": 121.0648445295759,\n        \"content\": \"### 获取部门最高领导路径\\n此路径通常仅在公司文件中无法识别其他联系人时使用。员工可应要求获取某部门最高领导的联系方式。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"25d1e603-cce0-4cd1-9293-810880c65584\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        4020,\n        1320\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 300.8019702746294,\n        \"height\": 97.8161667645835,\n        \"content\": \"### 最终节点返回员工姓名\\n若需获取详细信息，AI代理可调用员工查询路径进行检索。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e7076eaa-a67e-4b02-9aec-553c405f3bb9\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        700,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 244.3952545193282,\n        \"height\": 87.34661077350344,\n        \"content\": \"## 关于创作者\\n**[在LinkedIn上找到Ludwig Gerdes](https://www.linkedin.com/in/ludwiggerdes)**\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"AI-Powered HR Benefits and Company Policies Chatbot\": [\n      {\n        \"json\": {\n          \"query\": {\n            \"name\": \"HR\"\n          }\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"b4306b84-994f-4cd0-b40c-33a234f75ef9\",\n  \"connections\": {\n    \"GET all files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter out files from undesired categories\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Text Classifier\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET all employees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"GET all employees (second path)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Supabase Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET all employees\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter out other employees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"HR AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Vector Store Tool\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"HR AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Supabase Vector Store Retrieval\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract department\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve all employees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Vector Store Tool\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Text Classifier\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model3\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Extract department\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model4\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Identify most senior employee\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model5\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Auto-fixing Output Parser\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Supabase Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract departments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Ensure uniqueness in department list\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Employee Lookup Tool\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"HR AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"HR AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve all employees\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter out other departments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter out non-pdf files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download file from BambooHR\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Auto-fixing Output Parser\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Auto-fixing Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Identify most senior employee\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter out other employees\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Stringify employee record for response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split out individual files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter out non-pdf files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download file from BambooHR\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Supabase Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter out other departments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract relevant employee fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Identify most senior employee\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format name for response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET all employees (second path)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract departments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Supabase Vector Store Retrieval\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"Vector Store Tool\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract relevant employee fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Identify most senior employee\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Employee initiates a conversation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HR AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET all files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Ensure uniqueness in department list\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract department\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter out files from undesired categories\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split out individual files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI-Powered HR Benefits and Company Policies Chatbot\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Text Classifier\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}