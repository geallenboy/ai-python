{
  "url": "https://n8n.io/workflows/3892-postgresql-conversational-agent-with-claude-and-deepseek-multi-kpi-secure/",
  "title": "PostgreSQL Conversational Agent with Claude & DeepSeek (Multi-KPI, Secure)",
  "author": "hippolyte-hu",
  "publish_date": "Last update 19 days ago",
  "publish_date_absolute": "2025-05-07",
  "categories": [
    {
      "name": "Support"
    },
    {
      "name": "AI"
    },
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"id\":\"Wsw6HdSAFk8y7jxh\",\"meta\":{\"instanceId\":\"1fc85153dfc4ea22a8172f0d7347fa9f591f71e2064dc331f7bdc1d7ee422e7a\",\"templateId\":\"3631\",\"templateCredsSetupCompleted\":true},\"name\":\"Build your own PostgreSQL MCP server(No visuals)\",\"tags\":[],\"nodes\":[{\"id\":\"735a96e6-a254-4c0c-8268-88c33db886e8\",\"name\":\"GetTableSchema\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[-40,920],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"aba773b1-8fd0-4b5a-953f-c2de44029b68\",\"name\":\"ListTables\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[60,1020],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"217bac36-8448-4f91-b53f-2ffb8dcb13c1\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[760,880],\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"8752c39a-5bb6-4696-a591-cb7a4f649586\",\"name\":\"CreateTableRecords\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[180,1020],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"448c74a8-8051-4aeb-be50-98f61b4c1476\",\"name\":\"ReadTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,720],\"parameters\":{},\"typeVersion\":2.6,\"alwaysOutputData\":true},{\"id\":\"a51c89a7-3c6e-4c71-83f7-c17dea2fac6a\",\"name\":\"Operation\",\"type\":\"n8n-nodes-base.switch\",\"position\":[920,880],\"parameters\":{},\"typeVersion\":3.2},{\"id\":\"0ee5c0cf-cb53-41a7-a81e-1eca93648eee\",\"name\":\"UpdateTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,1040],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"2f0fafb5-e369-4550-99df-04983c4f0080\",\"name\":\"UpdateTableRecords\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[300,1040],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"40deab57-d6f3-4f40-8368-ae0b5c0830e7\",\"name\":\"CreateTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,880],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"e6d70398-2fda-4ad4-9fa9-9277b0e8037f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-120,500],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"13154e61-77a4-40bb-b2a1-49c43af5e8c8\",\"name\":\"PostgreSQL MCP Server\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[120,580],\"webhookId\":\"9007e426-56a9-489f-a131-28b63d76ddfa\",\"parameters\":{},\"typeVersion\":1},{\"id\":\"62e57740-0e1c-46ce-8a12-d963dfe47d65\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[720,500],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"87fba2e8-96d1-48e1-bd2e-fefbf6d1ba74\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[300,1440],\"webhookId\":\"5c88c23d-5544-46f9-867c-4ea03b41ed62\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"19d4bfb8-ab2f-447f-8d58-4bfe2b7d182c\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[540,1400],\"parameters\":{},\"typeVersion\":1.8},{\"id\":\"87781b4a-1c07-4447-b28f-bc9010dfe672\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[540,1760],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"3ff30556-c402-47d7-b0d4-200c61006cb9\",\"name\":\"MCP Client\",\"type\":\"@n8n/n8n-nodes-langchain.mcpClientTool\",\"position\":[700,1760],\"parameters\":{},\"typeVersion\":1},{\"id\":\"a43e3dc5-adbf-4ae5-b46a-d04654cebbf0\",\"name\":\"Anthropic Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatAnthropic\",\"position\":[360,1740],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"b683d331-989f-4b09-8158-df302fe12cab\",\"name\":\"Think\",\"type\":\"@n8n/n8n-nodes-langchain.toolThink\",\"position\":[1000,1720],\"parameters\":{},\"typeVersion\":1},{\"id\":\"cf864de0-57a5-4537-b42c-5ad12da49d01\",\"name\":\"get table details\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[540,860],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"01300da8-259d-43ca-9185-2f16cf7e2913\",\"name\":\"ReadTableRows\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[480,1020],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"9bdb7802-23ad-45d2-a35e-1de546aa8903\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-80,1320],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{},\"versionId\":\"ab18f1aa-d451-4aa8-b682-e8d3ab6697b7\",\"connections\":{\"Think\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"AI Agent\":{\"main\":[[]]},\"Operation\":{\"main\":[[{\"node\":\"ReadTableRecord\",\"type\":\"main\",\"index\":0}],[{\"node\":\"CreateTableRecord\",\"type\":\"main\",\"index\":0}],[{\"node\":\"UpdateTableRecord\",\"type\":\"main\",\"index\":0}]]},\"ListTables\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"MCP Client\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"ReadTableRows\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"GetTableSchema\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"ReadTableRecord\":{\"main\":[[]]},\"get table details\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"CreateTableRecords\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"UpdateTableRecords\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"Anthropic Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Operation\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# ğŸ§  Conversational PostgreSQL Agent\n\nEnable AI-driven conversations with your PostgreSQL database using a secure and visual-free agent powered by n8nâ€™s Model Context Protocol (MCP). This template allows users to ask multiple KPIs in a single message, returning consolidated insights â€” more efficient than the original Conversing with Data template.\n\n* * *\n\n## ğŸš€ Why This Template\n\nUnlike the Conversing with Data workflow, which handles one KPI per message, this version:\n\n  * âœ… Supports multi-KPI questions\n  * âœ… Returns structured, human-readable reports\n  * âœ… Uses fewer AI calls, making it faster and cheaper\n  * âœ… Avoids raw SQL execution for enhanced security\n\n\n\nğŸ’² **Estimated cost per full multi-request run: ~$0.01**\n\nThis template is optimized for efficiency. Each message can return 2â€“4 KPIs (You can change the MaxIteration of the Agent to make it more, it is currently set up at 30 iterations) using a single Claude 3.5 Haiku session and DeepSeek-based SQL generation â€” balancing speed, reasoning, and affordability.\n\n* * *\n\n## ğŸ’¬ Sample Use Case\n\n**User:**  \nâ€œCan you show product performance, revenue trends, and top 5 customers?â€\n\n**Agent:**\n\n  * Uses `ListTables` and `GetTableSchema`\n  * Generates three SQL queries using `get_query_and_data`\n  * Returns:\n\n\n\nğŸ“Š **Product Performance**\n\n  1. High-Waist Jeans â€” 10 units, $1,027 revenue\n  2. Denim Jacket â€” 10 units, $783 revenue\n\n\n\nğŸ“ˆ **Sales Trends**\n\n  * Peak Month: January 2024 â€” 32 units, $2,378\n  * Average Monthly Units: 10â€“16\n\n\n\nğŸ§ **Customer Insights**\n\n  1. Bob Brown â€” $1,520 spent\n  2. Diana Wilson â€” $925 spent\n\n\n\nAll from one natural prompt.\n\n* * *\n\n## ğŸ–¼ï¸ Real-World Interaction Screenshot\n\n![novisual_sql.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/novisual_sql_cff3d9a8b4.png)\n\n* * *\n\n## ğŸ§° Whatâ€™s Inside\n\nNode | Purpose  \n---|---  \nMCP Server Trigger | Receives user queries via `/mcp/...`  \nAI Agent + Memory | Understands and plans multi-step queries  \nThink Tool | Breaks down the userâ€™s question into structured goals  \nget_query_and_data | Generates SQL securely from natural language  \nListTables, GetSchema | AI tools to explore DB safely  \nRead/Insert/Update Tools | Execute structured operations (never raw SQL)  \ncheckdatabase Subflow | Validates SQL, formats response as clean text  \n  \n* * *\n\n## ğŸ¤– Model Selection Recommendations\n\nThis template uses two types of models, selected for cost-performance balance and role alignment:\n\n**1\\. Claude 3.5 Haiku (Anthropic) â€“ for the MCP Agent**  \nThe main conversational agent uses Claude 3.5 Haiku, ideal for MCP because it was built by Anthropic â€” the creators of the MCP standard. Itâ€™s fast, affordable, and performs excellently in tool-calling and reasoning tasks.\n\n**2\\. DeepSeek â€“ for the SQL subworkflow**  \nThe subworkflow that turns natural language into SQL uses DeepSeek. Itâ€™s one of the most affordable and performant models available today for structured outputs like SQL, making it a perfect fit for utility logic.\n\nâœ… This setup provides top-tier reasoning + low-cost execution.\n\n* * *\n\n## ğŸ” Security Benefits\n\n  * No raw SQL accepted from the user or LLM\n  * All queries are parameterized\n  * Schema is dynamically retrieved\n  * Final output is clean, safe, and human-readable\n\n\n\n* * *\n\n## ğŸ§ª Try a Prompt\n\n> â€œShow me the top 5 products by units sold and revenue, total monthly sales trend, and top 5 customers by spending.â€\n\nIn one message, the agent will:\n\n  * Generate and run multiple queries\n  * Use the schema to validate logic\n  * Return a single, comprehensive answer\n\n\n\n* * *\n\n## ğŸ›  How to Use\n\n  1. ğŸ“¥ Upload both workflow files into your n8n instance: \n     * `Build_your_own_PostgreSQL_MCP_server_No_visuals_.json`\n     * `checkdatabase.json`\n  2. ğŸ” Set up PostgreSQL credentials (e.g. â€œPostgres account 3â€)\n  3. ğŸ§  Confirm model setup: \n     * Claude 3.5 Haiku for the main agent\n     * DeepSeek for the subflow\n  4. ğŸŒ Use the `/mcp/...` URL from the MCP Server Trigger to connect your frontend or chatbot\n  5. ğŸ—£ Ask questions naturally â€” the agent takes care of planning, querying, and formatting\n\n\n\n* * *\n\n## ğŸ”„ Customization Ideas\n\n  * Swap Claude or DeepSeek for OpenAI, Mistral, Gemini, etc.\n  * Export insights to Slack, Notion, or Google Sheets\n  * Add Switch nodes to control access to specific tables\n  * Integrate with any front-end app, internal dashboard, or bot\n\n\n\n* * *\n\n## ğŸ“¦ What's Included\n\n  * `Build_your_own_PostgreSQL_MCP_server_No_visuals_.json` â€“ MCP agent logic\n  * `checkdatabase.json` â€“ SQL generation and formatting utility workflow\n\n\n\nğŸ“ These must be uploaded into your n8n workspace for the template to function.\n\n* * *\n\n## ğŸ“Š Comparison: Conversing with Data vs This Workflow\n\nFeature | Conversing with Data | This Workflow  \n---|---|---  \nHandles multi-KPI questions | âŒ No | âœ… Yes  \nSecure query execution | âœ… Yes | âœ… Yes  \nStructured response | âš ï¸ JSON / raw | âœ… Clean natural language  \nCost-efficiency | âš ï¸ More calls | âœ… Optimized with fewer calls  \nEndpoint support | âŒ Manual interaction | âœ… MCP-ready (`/mcp/...`)  \n  \nğŸ”— Prefer something more lightweight and cost-sensitive?  \nTry the original Conversing with Data template (single KPI + chart support):  \n[Conversing with Data: Transforming Text into SQL Queries and Visual Curves](https://n8n.io/workflows/3497-conversing-with-data-transforming-text-into-sql-queries-and-visual-curves)\n\n> I used this version for over 3 months and only spent **$0.80 total** , making it a great entry point if you're just getting started or on a limited budget.\n\n* * *\n\n## ğŸ“š More from the Same Creator\n\nLooking for a different kind of AI reporting workflow?\n\nExplore:  \n**Customer Feedback Analysis with AI, QuickChart & HTML Report Generator**  \nâ†’ Automatically analyze customer input and generate full reports with insights and charts.  \n[Customer Feedback Analysis with AI, QuickChart & HTML Report Generator](https://n8n.io/workflows/3642-customer-feedback-analysis-with-ai-quickchart-and-html-report-generator)\n",
  "crawled_at": "2025-05-26T05:54:38.111885",
  "readme_zh": "# ğŸ§  å¯¹è¯å¼PostgreSQLæ™ºèƒ½ä»£ç†\n\né€šè¿‡n8nçš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®®(MCP)é©±åŠ¨ï¼Œå¯ç”¨ä¸PostgreSQLæ•°æ®åº“çš„AIå¯¹è¯äº¤äº’ã€‚è¯¥æ¨¡æ¿æ”¯æŒå•æ¡æ¶ˆæ¯æŸ¥è¯¢å¤šä¸ªå…³é”®æŒ‡æ ‡ï¼Œè¿”å›æ•´åˆåˆ†æç»“æœâ€”â€”æ¯”åŸç‰ˆ\"æ•°æ®å¯¹è¯\"æ¨¡æ¿æ›´é«˜æ•ˆã€‚\n\n* * *\n\n## ğŸš€ æ¨¡æ¿ä¼˜åŠ¿\n\nä¸å•æ¬¡ä»…å¤„ç†ä¸€ä¸ªKPIçš„åŸç‰ˆå·¥ä½œæµä¸åŒï¼Œæœ¬ç‰ˆæœ¬ï¼š\n  * âœ… æ”¯æŒå¤šKPIå¤åˆé—®é¢˜\n  * âœ… è¿”å›ç»“æ„åŒ–å¯è¯»æŠ¥å‘Š\n  * âœ… å‡å°‘AIè°ƒç”¨æ¬¡æ•°ï¼Œæ›´å¿«æ›´ç»æµ\n  * âœ… ç¦æ­¢åŸå§‹SQLæ‰§è¡Œï¼Œå®‰å…¨æ€§æ›´å¼º\n\nğŸ’² **æ¯æ¬¡å®Œæ•´å¤šè¯·æ±‚è¿è¡Œæˆæœ¬çº¦ï¼š0.01ç¾å…ƒ**\n\næœ¬æ¨¡æ¿ç»è¿‡é«˜æ•ˆä¼˜åŒ–ã€‚å•æ¡æ¶ˆæ¯å¯è¿”å›2-4ä¸ªKPIï¼ˆå¯é€šè¿‡ä¿®æ”¹Agentçš„MaxIterationå‚æ•°æå‡ï¼Œå½“å‰è®¾ç½®ä¸º30æ¬¡è¿­ä»£ï¼‰ï¼Œä»…éœ€è°ƒç”¨ä¸€æ¬¡Claude 3.5 Haikuä¼šè¯å’ŒåŸºäºDeepSeekçš„SQLç”Ÿæˆâ€”â€”å®Œç¾å¹³è¡¡é€Ÿåº¦ã€æ¨ç†èƒ½åŠ›å’Œæˆæœ¬ã€‚\n\n* * *\n\n## ğŸ’¬ ä½¿ç”¨æ¡ˆä¾‹æ¼”ç¤º\n\n**ç”¨æˆ·æé—®ï¼š**  \n\"è¯·å±•ç¤ºäº§å“è¡¨ç°ã€æ”¶å…¥è¶‹åŠ¿å’ŒTop5å®¢æˆ·\"\n\n**ä»£ç†å“åº”ï¼š**\n  * è°ƒç”¨`ListTables`å’Œ`GetTableSchema`\n  * é€šè¿‡`get_query_and_data`ç”Ÿæˆä¸‰æ¡SQLæŸ¥è¯¢\n  * è¿”å›ï¼š\n\nğŸ“Š **äº§å“è¡¨ç°**\n  1. é«˜è…°ç‰›ä»”è£¤ â€” 10ä»¶ï¼Œ1027ç¾å…ƒé”€å”®é¢\n  2. ç‰›ä»”å¤¹å…‹ â€” 10ä»¶ï¼Œ783ç¾å…ƒé”€å”®é¢\n\nğŸ“ˆ **é”€å”®è¶‹åŠ¿**\n  * å³°å€¼æœˆä»½ï¼š2024å¹´1æœˆ â€” 32ä»¶ï¼Œ2378ç¾å…ƒ\n  * æœˆå‡é”€é‡ï¼š10-16ä»¶\n\nğŸ§ **å®¢æˆ·æ´å¯Ÿ**\n  1. é²å‹ƒÂ·å¸ƒæœ— â€” æ¶ˆè´¹1520ç¾å…ƒ\n  2. æˆ´å®‰å¨œÂ·å¨å°”é€Š â€” æ¶ˆè´¹925ç¾å…ƒ\n\nå…¨éƒ¨æ¥è‡ªä¸€æ¬¡è‡ªç„¶è¯­è¨€æé—®ã€‚\n\n* * *\n\n## ğŸ–¼ï¸ å®é™…äº¤äº’æˆªå›¾\n\n![novisual_sql.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/novisual_sql_cff3d9a8b4.png)\n\n* * *\n\n## ğŸ§° æ ¸å¿ƒç»„ä»¶\n\nèŠ‚ç‚¹ | åŠŸèƒ½  \n---|---  \nMCPæœåŠ¡è§¦å‘å™¨ | é€šè¿‡`/mcp/...`æ¥æ”¶ç”¨æˆ·æŸ¥è¯¢  \nAIä»£ç†+è®°å¿†æ¨¡å— | ç†è§£å¹¶è§„åˆ’å¤šæ­¥éª¤æŸ¥è¯¢  \næ€ç»´å·¥å…· | å°†ç”¨æˆ·é—®é¢˜åˆ†è§£ä¸ºç»“æ„åŒ–ç›®æ ‡  \nget_query_and_data | ä»è‡ªç„¶è¯­è¨€å®‰å…¨ç”ŸæˆSQL  \nListTables/GetSchema | å®‰å…¨æ¢ç´¢æ•°æ®åº“çš„AIå·¥å…·  \nè¯»/å†™/æ”¹å·¥å…· | æ‰§è¡Œç»“æ„åŒ–æ“ä½œ(éåŸå§‹SQL)  \ncheckdatabaseå­æµç¨‹ | éªŒè¯SQLï¼Œè¿”å›æ•´æ´æ–‡æœ¬  \n\n* * *\n\n## ğŸ¤– æ¨¡å‹é€‰å‹å»ºè®®\n\næœ¬æ¨¡æ¿é‡‡ç”¨ä¸¤ç§æ¨¡å‹ï¼Œå…¼é¡¾æˆæœ¬æ•ˆç›Šä¸è§’è‰²åŒ¹é…ï¼š\n\n**1. Claude 3.5 Haiku(Anthropic) â€” MCPä¸»ä»£ç†**  \nä½œä¸ºæ ¸å¿ƒå¯¹è¯ä»£ç†ï¼Œé‡‡ç”¨MCPæ ‡å‡†åˆ¶å®šè€…Anthropicå¼€å‘çš„Claude 3.5 Haikuï¼Œåœ¨å·¥å…·è°ƒç”¨å’Œæ¨ç†ä»»åŠ¡ä¸­è¡¨ç°å“è¶Šï¼Œå…¼å…·é€Ÿåº¦ä¸ç»æµæ€§ã€‚\n\n**2. DeepSeek â€” SQLç”Ÿæˆå­æµç¨‹**  \nè‡ªç„¶è¯­è¨€è½¬SQLçš„å­æµç¨‹é‡‡ç”¨å½“å‰æ€§ä»·æ¯”æœ€ä¼˜çš„DeepSeekæ¨¡å‹ï¼Œç‰¹åˆ«é€‚åˆSQLç­‰ç»“æ„åŒ–è¾“å‡ºåœºæ™¯ã€‚\n\nâœ… è¯¥ç»„åˆæä¾›é¡¶çº§æ¨ç†èƒ½åŠ›+ä½æˆæœ¬æ‰§è¡Œæ–¹æ¡ˆã€‚\n\n* * *\n\n## ğŸ” å®‰å…¨ç‰¹æ€§\n  * æ‹’ç»ç”¨æˆ·æˆ–LLMè¾“å…¥çš„åŸå§‹SQL\n  * å…¨é‡å‚æ•°åŒ–æŸ¥è¯¢\n  * åŠ¨æ€è·å–æ•°æ®æ¶æ„\n  * æœ€ç»ˆè¾“å‡ºç»è¿‡å‡€åŒ–å¤„ç†\n\n* * *\n\n## ï¿½ æµ‹è¯•æé—®ç¤ºä¾‹\n\n> \"æ˜¾ç¤ºé”€é‡å‰5çš„äº§å“åŠå…¶æ”¶å…¥ã€æœˆåº¦é”€å”®æ€»é¢è¶‹åŠ¿ã€æ¶ˆè´¹é¢å‰5çš„å®¢æˆ·\"\n\nå•æ¬¡äº¤äº’ä¸­ï¼Œä»£ç†å°†ï¼š\n  * ç”Ÿæˆå¹¶æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢\n  * åˆ©ç”¨æ¶æ„éªŒè¯é€»è¾‘\n  * è¿”å›æ•´åˆåˆ†ææŠ¥å‘Š\n\n* * *\n\n## ğŸ›  ä½¿ç”¨æŒ‡å—\n\n1. ğŸ“¥ ä¸Šä¼ å·¥ä½œæµæ–‡ä»¶è‡³n8nå®ä¾‹ï¼š\n   * `Build_your_own_PostgreSQL_MCP_server_No_visuals_.json`\n   * `checkdatabase.json`\n2. ğŸ” é…ç½®PostgreSQLå‡­è¯(å¦‚\"Postgres account 3\")\n3. ğŸ§  ç¡®è®¤æ¨¡å‹é…ç½®ï¼š\n   * ä¸»ä»£ç†ä½¿ç”¨Claude 3.5 Haiku\n   * å­æµç¨‹ä½¿ç”¨DeepSeek\n4. ğŸŒ é€šè¿‡MCPè§¦å‘å™¨è·å–`/mcp/...`å¯¹æ¥å‰ç«¯/èŠå¤©æœºå™¨äºº\n5. ğŸ—£ è‡ªç„¶æé—®â€”â€”ä»£ç†è‡ªåŠ¨å¤„ç†æŸ¥è¯¢è§„åˆ’ä¸ç»“æœæ ¼å¼åŒ–\n\n* * *\n\n## ğŸ”„ å®šåˆ¶å»ºè®®\n\n  * å¯æ›¿æ¢ä¸ºOpenAI/Mistral/Geminiç­‰æ¨¡å‹\n  * å¯¼å‡ºåˆ†æè‡³Slack/Notion/Google Sheets\n  * æ·»åŠ SwitchèŠ‚ç‚¹æ§åˆ¶è¡¨è®¿é—®æƒé™\n  * å¯¹æ¥ä»»æ„å‰ç«¯åº”ç”¨/å†…éƒ¨çœ‹æ¿/æœºå™¨äºº\n\n* * *\n\n## ğŸ“¦ åŒ…å«æ–‡ä»¶\n\n  * `Build_your_own_PostgreSQL_MCP_server_No_visuals_.json` â€” MCPä»£ç†é€»è¾‘\n  * `checkdatabase.json` â€” SQLç”Ÿæˆä¸æ ¼å¼åŒ–å·¥å…·æµ\n\nğŸ“ éœ€åŒæ—¶ä¸Šä¼ è‡³n8nå·¥ä½œåŒºä½¿ç”¨ã€‚\n\n* * *\n\n## ğŸ“Š åŠŸèƒ½å¯¹æ¯”ï¼šæ•°æ®å¯¹è¯ vs æœ¬å·¥ä½œæµ\n\nåŠŸèƒ½ | æ•°æ®å¯¹è¯ | æœ¬å·¥ä½œæµ  \n---|---|---  \nå¤šKPIæ”¯æŒ | âŒ å¦ | âœ… æ˜¯  \nå®‰å…¨æŸ¥è¯¢ | âœ… æ˜¯ | âœ… æ˜¯  \nå“åº”æ ¼å¼ | âš ï¸ JSON/åŸå§‹æ•°æ® | âœ… è‡ªç„¶è¯­è¨€  \næˆæœ¬æ•ˆç›Š | âš ï¸ é«˜é¢‘è°ƒç”¨ | âœ… ä¼˜åŒ–è°ƒç”¨  \nç«¯ç‚¹æ”¯æŒ | âŒ æ‰‹åŠ¨äº¤äº’ | âœ… æ”¯æŒMCP(`/mcp/...`)  \n\nğŸ”— éœ€è¦æ›´è½»é‡çº§æ–¹æ¡ˆï¼Ÿ  \nå°è¯•åŸç‰ˆå•KPI+å›¾è¡¨æ”¯æŒæ¨¡æ¿ï¼š  \n[æ•°æ®å¯¹è¯ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºSQLæŸ¥è¯¢ä¸å¯è§†åŒ–æ›²çº¿](https://n8n.io/workflows/3497-conversing-with-data-transforming-text-into-sql-queries-and-visual-curves)\n\n> å®æµ‹ä½¿ç”¨ä¸‰ä¸ªæœˆæ€»æˆæœ¬ä»…0.80ç¾å…ƒï¼Œæ˜¯é¢„ç®—æœ‰é™åœºæ™¯çš„ç†æƒ³é€‰æ‹©ã€‚\n\n* * *\n\n## ğŸ“š åŒä½œè€…æ¨è\n\néœ€è¦å…¶ä»–AIåˆ†æå·¥ä½œæµï¼Ÿ\n\næ¢ç´¢ï¼š  \n**å®¢æˆ·åé¦ˆAIåˆ†æ+QuickChart&HTMLæŠ¥å‘Šç”Ÿæˆå™¨**  \nâ†’ è‡ªåŠ¨åˆ†æå®¢æˆ·æ„è§å¹¶ç”Ÿæˆå«å›¾è¡¨æ´è§çš„å®Œæ•´æŠ¥å‘Š  \n[å®¢æˆ·åé¦ˆAIåˆ†æ+QuickChart&HTMLæŠ¥å‘Šç”Ÿæˆå™¨](https://n8n.io/workflows/3642-customer-feedback-analysis-with-ai-quickchart-and-html-report-generator)",
  "title_zh": "PostgreSQL å¯¹è¯ä»£ç†é›†æˆ Claude ä¸ DeepSeekï¼ˆå¤šæŒ‡æ ‡å®‰å…¨ç‰ˆï¼‰",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äº12å¤©å‰",
  "workflow_json_zh": "{\"id\":\"Wsw6HdSAFk8y7jxh\",\"meta\":{\"instanceId\":\"1fc85153dfc4ea22a8172f0d7347fa9f591f71e2064dc331f7bdc1d7ee422e7a\",\"templateId\":\"3631\",\"templateCredsSetupCompleted\":true},\"name\":\"Build your own PostgreSQL MCP server(No visuals)\",\"tags\":[],\"nodes\":[{\"id\":\"735a96e6-a254-4c0c-8268-88c33db886e8\",\"name\":\"GetTableSchema\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[-40,920],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"aba773b1-8fd0-4b5a-953f-c2de44029b68\",\"name\":\"ListTables\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[60,1020],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"217bac36-8448-4f91-b53f-2ffb8dcb13c1\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[760,880],\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"8752c39a-5bb6-4696-a591-cb7a4f649586\",\"name\":\"CreateTableRecords\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[180,1020],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"448c74a8-8051-4aeb-be50-98f61b4c1476\",\"name\":\"ReadTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,720],\"parameters\":{},\"typeVersion\":2.6,\"alwaysOutputData\":true},{\"id\":\"a51c89a7-3c6e-4c71-83f7-c17dea2fac6a\",\"name\":\"Operation\",\"type\":\"n8n-nodes-base.switch\",\"position\":[920,880],\"parameters\":{},\"typeVersion\":3.2},{\"id\":\"0ee5c0cf-cb53-41a7-a81e-1eca93648eee\",\"name\":\"UpdateTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,1040],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"2f0fafb5-e369-4550-99df-04983c4f0080\",\"name\":\"UpdateTableRecords\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[300,1040],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"40deab57-d6f3-4f40-8368-ae0b5c0830e7\",\"name\":\"CreateTableRecord\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1260,880],\"parameters\":{},\"typeVersion\":2.6},{\"id\":\"e6d70398-2fda-4ad4-9fa9-9277b0e8037f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-120,500],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"13154e61-77a4-40bb-b2a1-49c43af5e8c8\",\"name\":\"PostgreSQL MCP Server\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[120,580],\"webhookId\":\"9007e426-56a9-489f-a131-28b63d76ddfa\",\"parameters\":{},\"typeVersion\":1},{\"id\":\"62e57740-0e1c-46ce-8a12-d963dfe47d65\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[720,500],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"87fba2e8-96d1-48e1-bd2e-fefbf6d1ba74\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[300,1440],\"webhookId\":\"5c88c23d-5544-46f9-867c-4ea03b41ed62\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"19d4bfb8-ab2f-447f-8d58-4bfe2b7d182c\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[540,1400],\"parameters\":{},\"typeVersion\":1.8},{\"id\":\"87781b4a-1c07-4447-b28f-bc9010dfe672\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[540,1760],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"3ff30556-c402-47d7-b0d4-200c61006cb9\",\"name\":\"MCP Client\",\"type\":\"@n8n/n8n-nodes-langchain.mcpClientTool\",\"position\":[700,1760],\"parameters\":{},\"typeVersion\":1},{\"id\":\"a43e3dc5-adbf-4ae5-b46a-d04654cebbf0\",\"name\":\"Anthropic Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatAnthropic\",\"position\":[360,1740],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"b683d331-989f-4b09-8158-df302fe12cab\",\"name\":\"Think\",\"type\":\"@n8n/n8n-nodes-langchain.toolThink\",\"position\":[1000,1720],\"parameters\":{},\"typeVersion\":1},{\"id\":\"cf864de0-57a5-4537-b42c-5ad12da49d01\",\"name\":\"get table details\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[540,860],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"01300da8-259d-43ca-9185-2f16cf7e2913\",\"name\":\"ReadTableRows\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[480,1020],\"parameters\":{},\"typeVersion\":2.1},{\"id\":\"9bdb7802-23ad-45d2-a35e-1de546aa8903\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-80,1320],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{},\"versionId\":\"ab18f1aa-d451-4aa8-b682-e8d3ab6697b7\",\"connections\":{\"Think\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"AI Agent\":{\"main\":[[]]},\"Operation\":{\"main\":[[{\"node\":\"ReadTableRecord\",\"type\":\"main\",\"index\":0}],[{\"node\":\"CreateTableRecord\",\"type\":\"main\",\"index\":0}],[{\"node\":\"UpdateTableRecord\",\"type\":\"main\",\"index\":0}]]},\"ListTables\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"MCP Client\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"ReadTableRows\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"GetTableSchema\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"ReadTableRecord\":{\"main\":[[]]},\"get table details\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"CreateTableRecords\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"UpdateTableRecords\":{\"ai_tool\":[[{\"node\":\"PostgreSQL MCP Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"Anthropic Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Operation\",\"type\":\"main\",\"index\":0}]]}}}"
}