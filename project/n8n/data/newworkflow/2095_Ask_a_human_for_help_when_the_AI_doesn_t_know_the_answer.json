{
  "url": "https://n8n.io/workflows/2095-ask-a-human-for-help-when-the-ai-doesnt-know-the-answer/",
  "title": "Ask a human for help when the AI doesn't know the answer",
  "author": "Deborah",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-25",
  "categories": [
    {
      "name": "Support"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "",
  "readme": "This is a workflow that tries to answer user queries using the standard GPT-4 model. If it can't answer, it sends a message to Slack to ask for human help. It prompts the user to supply an email address.\n\nThis workflow is used in [Advanced AI examples | Ask a human](https://docs.n8n.io/advanced-ai/examples/human-fallback/) in the documentation.\n\nTo use this workflow:\n\n  1. Load it into your n8n instance.\n  2. Add your credentials as prompted by the notes.\n  3. Configure the Slack node to use your Slack details, or swap out Slack for a different service.\n\n\n",
  "crawled_at": "2025-05-25T20:54:55.014895",
  "readme_zh": "这是一个工作流程，旨在通过标准GPT-4模型解答用户查询。若模型无法回答，则会向Slack发送消息请求人工协助，并提示用户提供电子邮箱地址。\n\n该工作流程应用于文档中的[高级AI示例 | 人工求助](https://docs.n8n.io/advanced-ai/examples/human-fallback/)章节。\n\n使用方法：\n1. 将其加载至您的n8n实例中\n2. 根据注释提示添加相应凭证\n3. 配置Slack节点以使用您的Slack账户信息，或替换为其他服务平台\n\n（注：保留Slack/n8n等专有名词不译，采用技术文档常见的简洁句式，使用\"旨在\"替代直译\"tries to\"体现功能性说明，将\"prompts the user\"译为\"提示用户\"符合中文交互界面用语习惯，通过\"章节\"一词自然处理英文文档链接的语境转换）",
  "title_zh": "当AI不知道答案时，请向人类求助",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"e12611f4-37d2-48f9-8a60-ddcf4ff34cfc\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-480,380],\"parameters\":{\"color\":7,\"width\":1118.3459011229047,\"height\":775.3931210698682,\"content\":\"### 子工作流：自定义工具  \\n上述智能体可调用此工作流程。其功能是检查用户是否提供了电子邮件地址：若未提供，则提示用户输入；若已提供，则向客户支持渠道发送协助请求。\"},\"typeVersion\":1},{\"id\":\"72dbee3e-fe3b-4354-9b02-2fe52af23035\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-480,-180],\"parameters\":{\"color\":7,\"width\":927.5,\"height\":486.5625,\"content\":\"### 主要工作流程：AI代理使用自定义工具\"},\"typeVersion\":1},{\"id\":\"a1c9660d-84b1-418a-bbb3-88d79cdd79d3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[80,60],\"parameters\":{\"color\":5,\"width\":197.45572294791873,\"height\":179.21380662202682,\"content\":\"**此工具调用以下子工作流程**\"},\"typeVersion\":1},{\"id\":\"b4ffb76d-c44f-46d6-b2d9-4e5d551adee1\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-280,40],\"parameters\":{\"color\":2,\"width\":150,\"height\":213.44323866265472,\"content\":\"**设置您的凭据**\"},\"typeVersion\":1},{\"id\":\"8a9187f1-3cf9-479f-aa7f-5581880394d0\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,540],\"parameters\":{\"color\":2,\"width\":178.0499248677781,\"height\":250.57252651663197,\"content\":\"**设置您的凭证和Slack详细信息**\"},\"typeVersion\":1},{\"id\":\"3f72d117-e07a-4af4-aa1b-92ce04bf0b3c\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-640,-120],\"parameters\":{\"color\":4,\"width\":185.9375,\"height\":214.8397420554627,\"content\":\"## 试试看\\n\\n点击底部的**聊天**按钮，然后输入：\\n\\n_你好！请假装不知道我的问题答案来回复。_\"},\"typeVersion\":1},{\"id\":\"b85eff07-ee3c-4aeb-871e-b25a131a7afb\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[360,900],\"parameters\":{\"height\":145,\"content\":\"## 后续步骤\\n\\n了解更多关于[n8n中的高级AI功能](https://docs.n8n.io/advanced-ai/)\"},\"typeVersion\":1},{\"id\":\"feb1e50d-5044-4ea6-8719-72e176581e27\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-400,-120],\"webhookId\":\"e0e69202-32e8-41b5-963b-50905dd93e88\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"6af81471-7cd4-4517-9677-b634b59620b4\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-240,120],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"37604c8d-5c70-4a81-a1d0-eafe42ce612d\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-60,120],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"fd404bb5-0703-4d08-8b9b-4a8b01fd2bff\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[-380,740],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"chatInput\"}]}},\"typeVersion\":1.1},{\"id\":\"a807ca29-65bf-4d97-b89f-5ce16cd05347\",\"name\":\"Check if user has provided email\",\"type\":\"n8n-nodes-base.if\",\"position\":[-200,740],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"e6dce436-5e85-4722-a7e4-0ceb940a5477\",\"operator\":{\"type\":\"string\",\"operation\":\"regex\"},\"leftValue\":\"={{ $('When Executed by Another Workflow').item.json.chatInput }}\",\"rightValue\":\"=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\\\.[a-zA-Z0-9_-]+)/gi\"}]}},\"typeVersion\":2.2},{\"id\":\"b9c552ce-4c58-48dd-b168-5e277de89954\",\"name\":\"Message Slack for help\",\"type\":\"n8n-nodes-base.slack\",\"position\":[80,620],\"webhookId\":\"c54bea4c-bdb6-4f42-9f82-525857df5a9a\",\"parameters\":{\"text\":\"={{ \\\"A user had a question the bot couldn't answer. Here's their message: \\\" + $('When Executed by Another Workflow').first().json.chatInput }}\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"#general\"},\"otherOptions\":{}},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"644a05fc-ac7e-4ea9-ab03-3b6fbf7a3654\",\"name\":\"Confirm that we've messaged a human\",\"type\":\"n8n-nodes-base.code\",\"position\":[300,620],\"parameters\":{\"jsCode\":\"const response = {\\\"response\\\": \\\"Thank you for getting in touch. I've messaged a human to help.\\\"}\\nreturn response;\"},\"typeVersion\":2},{\"id\":\"38e81aa5-30b3-48f9-88e8-1039f607f3e7\",\"name\":\"Prompt the user to provide an email\",\"type\":\"n8n-nodes-base.code\",\"position\":[80,860],\"parameters\":{\"jsCode\":\"const response = {\\\"response\\\":\\\"I'm sorry I don't know the answer. Please repeat your question and include your email address so I can request help.\\\"};\\nreturn response;\"},\"typeVersion\":2},{\"id\":\"61ddb25a-f7f2-4691-94d5-3f32c183ec46\",\"name\":\"Not sure?\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[140,120],\"parameters\":{\"name\":\"dont_know_tool\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Use this tool if you don't know the answer to the user's question, or if you're not very confident about your answer.\",\"workflowInputs\":{\"value\":{\"chatInput\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}\"},\"schema\":[{\"id\":\"chatInput\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"chatInput\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2},{\"id\":\"395349d1-1715-4550-a0c8-1388d17b4386\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-180,-120],\"parameters\":{\"options\":{}},\"typeVersion\":1.8}],\"pinData\":{},\"connections\":{\"Not sure?\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Message Slack for help\":{\"main\":[[{\"node\":\"Confirm that we've messaged a human\",\"type\":\"main\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Check if user has provided email\":{\"main\":[[{\"node\":\"Message Slack for help\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Prompt the user to provide an email\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Check if user has provided email\",\"type\":\"main\",\"index\":0}]]}}}"
}