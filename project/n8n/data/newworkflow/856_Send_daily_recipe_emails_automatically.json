{
  "url": "https://n8n.io/workflows/856-send-daily-recipe-emails-automatically/",
  "title": "Send daily recipe emails automatically",
  "author": "jason",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"11\",\"name\":\"What To Eat\",\"nodes\":[{\"name\":\"Cron\",\"type\":\"n8n-nodes-base.cron\",\"position\":[100,400],\"parameters\":{\"triggerTimes\":{\"item\":[{\"hour\":10}]}},\"typeVersion\":1},{\"name\":\"Search Criteria\",\"type\":\"n8n-nodes-base.set\",\"position\":[300,400],\"parameters\":{\"values\":{\"number\":[{\"name\":\"RecipeCount\",\"value\":3},{\"name\":\"IngredientCount\",\"value\":5},{\"name\":\"CaloriesMin\"},{\"name\":\"CaloriesMax\",\"value\":1500},{\"name\":\"TimeMin\"},{\"name\":\"TimeMax\",\"value\":30}],\"string\":[{\"name\":\"Diet\",\"value\":\"balanced\"},{\"name\":\"Health\",\"value\":\"random\"},{\"name\":\"SearchItem\",\"value\":\"chicken\"},{\"name\":\"AppID\",\"value\":\"Enter Your Edamam AppID Here\"},{\"name\":\"AppKey\",\"value\":\"Enter Your Edamam AppKey Here\"}]},\"options\":{}},\"typeVersion\":1},{\"name\":\"Set Query Values\",\"type\":\"n8n-nodes-base.function\",\"position\":[500,400],\"parameters\":{\"functionCode\":\"items[0].json.calories = items[0].json.CaloriesMin + \\\"-\\\" + items[0].json.CaloriesMax;\\nitems[0].json.time = items[0].json.TimeMin + \\\"-\\\" + items[0].json.TimeMax;\\n\\nif (items[0].json.Diet.toUpperCase() == \\\"RANDOM\\\") {\\n  arrDiet = [\\\"balanced\\\",\\\"high-fiber\\\",\\\"high-protein\\\",\\\"low-carb\\\",\\\"low-fat\\\",\\\"low-sodium\\\"];\\n  intRandomNumber = Math.floor(Math.random() * 6);\\n  items[0].json.Diet = arrDiet[intRandomNumber];\\n}\\n\\nif (items[0].json.Health.toUpperCase() == \\\"RANDOM\\\") {\\n  arrHealth = [\\\"alcohol-free\\\",\\\"immuno-supportive\\\",\\\"celery-free\\\",\\\"crustacean-free\\\",\\\"dairy-free\\\",\\\"egg-free\\\",\\\"fish-free\\\",\\\"fodmap-free\\\",\\\"gluten-free\\\",\\\"keto-friendly\\\",\\\"kidney-friendly\\\",\\\"kosher\\\",\\\"low-potassium\\\",\\\"lupine-free\\\",\\\"mustard-free\\\",\\\"low-fat-abs\\\",\\\"no-oil-added\\\",\\\"low-sugar\\\",\\\"paleo\\\",\\\"peanut-free\\\",\\\"pecatarian\\\",\\\"pork-free\\\",\\\"red-meat-free\\\",\\\"sesame-free\\\",\\\"shellfish-free\\\",\\\"soy-free\\\",\\\"sugar-conscious\\\",\\\"tree-nut-free\\\",\\\"vegan\\\",\\\"vegetarian\\\",\\\"wheat-free\\\"];\\n  intRandomNumber = Math.floor(Math.random() * 31);\\n  items[0].json.Health = arrHealth[intRandomNumber];\\n}\\n\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Set Recipe ID Values\",\"type\":\"n8n-nodes-base.function\",\"position\":[1080,400],\"parameters\":{\"functionCode\":\"items[0].json.from = Math.floor(Math.random() * items[0].json.RecipeCount) + 1;\\nitems[0].json.to = items[0].json.from + items[0].json.ReturnCount;\\n\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Retrieve Recipe Counts\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,400],\"parameters\":{\"url\":\"https://api.edamam.com/search\",\"options\":{},\"queryParametersUi\":{\"parameter\":[{\"name\":\"q\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"SearchItem\\\"]}}\"},{\"name\":\"app_id\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"AppID\\\"]}}\"},{\"name\":\"app_key\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"AppKey\\\"]}}\"},{\"name\":\"ingr\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"IngredientCount\\\"]}}\"},{\"name\":\"diet\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"Diet\\\"]}}\"},{\"name\":\"calories\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"calories\\\"]}}\"},{\"name\":\"time\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"time\\\"]}}\"},{\"name\":\"from\",\"value\":\"1\"},{\"name\":\"to\",\"value\":\"2\"}]}},\"typeVersion\":1},{\"name\":\"Retrieve Recipes\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,400],\"parameters\":{\"url\":\"https://api.edamam.com/search\",\"options\":{},\"queryParametersUi\":{\"parameter\":[{\"name\":\"q\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"SearchItem\\\"]}}\"},{\"name\":\"app_id\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"AppID\\\"]}}\"},{\"name\":\"app_key\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"AppKey\\\"]}}\"},{\"name\":\"from\",\"value\":\"={{$node[\\\"Set Recipe ID Values\\\"].json[\\\"from\\\"]}}\"},{\"name\":\"to\",\"value\":\"={{$node[\\\"Set Recipe ID Values\\\"].json[\\\"to\\\"]}}\"},{\"name\":\"ingr\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"IngredientCount\\\"]}}\"},{\"name\":\"diet\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"Diet\\\"]}}\"},{\"name\":\"calories\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"calories\\\"]}}\"},{\"name\":\"time\",\"value\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"time\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Set Counts\",\"type\":\"n8n-nodes-base.set\",\"position\":[880,400],\"parameters\":{\"values\":{\"number\":[{\"name\":\"RecipeCount\",\"value\":\"={{$node[\\\"Retrieve Recipe Counts\\\"].json[\\\"count\\\"]}}\"},{\"name\":\"ReturnCount\",\"value\":\"={{$node[\\\"Search Criteria\\\"].json[\\\"RecipeCount\\\"]}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Send Recipes\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[1660,400],\"parameters\":{\"html\":\"={{$node[\\\"Create Email Body in HTML\\\"].json[\\\"emailBody\\\"]}}\",\"options\":{},\"subject\":\"={{$node[\\\"Set Query Values\\\"].json[\\\"RecipeCount\\\"]}} {{$node[\\\"Set Query Values\\\"].json[\\\"Diet\\\"]}}, {{$node[\\\"Set Query Values\\\"].json[\\\"Health\\\"]}} {{$node[\\\"Set Query Values\\\"].json[\\\"SearchItem\\\"]}} recipes under {{$node[\\\"Set Query Values\\\"].json[\\\"CaloriesMax\\\"]}} calories ready in under {{$node[\\\"Set Query Values\\\"].json[\\\"TimeMax\\\"]}} minutes\",\"toEmail\":\"Enter Your Email Address Here\",\"fromEmail\":\"Enter Your Email Address Here\"},\"credentials\":{\"smtp\":\"Gmail Creds\"},\"typeVersion\":1},{\"name\":\"Create Email Body in HTML\",\"type\":\"n8n-nodes-base.function\",\"position\":[1460,400],\"parameters\":{\"functionCode\":\"arrRecipes = items[0].json.hits;\\nitems[0].json = {};\\n\\nstrEmailBody = \\\"Here are your recipes for today:<br><ul>\\\";\\n\\narrRecipes.forEach(createHTML);\\n\\nfunction createHTML(value, index, array) {\\n  strEmailBody = strEmailBody + \\\"<li><a href=\\\\\\\"\\\"+ value.recipe.shareAs + \\\"\\\\\\\">\\\" + value.recipe.label + \\\"</a></li>\\\";\\n}\\n\\nstrEmailBody = strEmailBody + \\\"</ul>\\\";\\n\\nitems[0].json.emailBody = strEmailBody\\n\\nreturn items;\"},\"typeVersion\":1}],\"active\":true,\"settings\":{},\"connections\":{\"Cron\":{\"main\":[[{\"node\":\"Search Criteria\",\"type\":\"main\",\"index\":0}]]},\"Set Counts\":{\"main\":[[{\"node\":\"Set Recipe ID Values\",\"type\":\"main\",\"index\":0}]]},\"Search Criteria\":{\"main\":[[{\"node\":\"Set Query Values\",\"type\":\"main\",\"index\":0}]]},\"Retrieve Recipes\":{\"main\":[[{\"node\":\"Create Email Body in HTML\",\"type\":\"main\",\"index\":0}]]},\"Set Query Values\":{\"main\":[[{\"node\":\"Retrieve Recipe Counts\",\"type\":\"main\",\"index\":0}]]},\"Set Recipe ID Values\":{\"main\":[[{\"node\":\"Retrieve Recipes\",\"type\":\"main\",\"index\":0}]]},\"Retrieve Recipe Counts\":{\"main\":[[{\"node\":\"Set Counts\",\"type\":\"main\",\"index\":0}]]},\"Create Email Body in HTML\":{\"main\":[[{\"node\":\"Send Recipes\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Not sure what to eat tonight? Have recipes emailed to you daily based on your criterial.\n\nTo run this workflow, you will need to have:\n\n  1. A Recipe Search API key from [Edamam](https://developer.edamam.com/edamam-recipe-api)\n  2. An active email account with configured credentials\n\n\n\nTo set up your credentials:\n\n  1. Set your Edamam _AppID_ and _AppKey_ in the _Search Criteria_ node\n  2. Select (or create) your email credentials in the _Send Recipes_ node (and set up the _to:_ and _from:_ email addresses while you are at it)\n\n\n\nTo customize the recipes that you receive, open up the _Search Criteria_ node and modify one or more of the following:\n\n  * **RecipeCount** \\- the numner of recipes you would like to receive\n  * **IngredientCount** \\- the maximum number of ingredients you would like each recipe to have\n  * **CaloriesMin** \\- the minimum number of calories the recipe will have\n  * **CaloriesMax** \\- the maximum number of calories the recipe will have\n  * **TimeMin** \\- the minimum amount of time (in minutes) the recipe will take to prepare\n  * **TimeMax** \\- the maximum amount of time (in minutes) the recipe will take to prepare\n  * **Diet** \\- Select one of the following options: \n    * _balanced_ \\- Protein/Fat/Carb values in 15/35/50 ratio\n    * _high-fiber_ \\- More than 5g fiber per serving\n    * _high-protein_ \\- More than 50% of total calories from proteins\n    * _low-carb_ \\- Less than 20% of total calories from carbs\n    * _low-fat_ \\- Less than 15% of total calories from fat\n    * _low-sodium_ \\- Less than 140mg Na per serving\n    * _random_ \\- selects a different random diet each day\n  * **Health** \\- Select one of the following options: \n    * _alcohol-free_ \\- No alcohol used or contained\n    * _immuno-supportive_ \\- Recipes which fit a science-based approach to eating to strengthen the immune system\n    * _celery-free_ \\- does not contain celery or derivatives\n    * _crustacean-free_ \\- does not contain crustaceans (shrimp, lobster etc.) or derivatives\n    * _dairy-free_ \\- No dairy; no lactose\n    * _egg-free_ \\- No eggs or products containing eggs\n    * _fish-free_ \\- No fish or fish derivatives\n    * _fodmap-free_ \\- Does not contain FODMAP foods\n    * _gluten-free_ \\- No ingredients containing gluten\n    * _keto-friendly_ \\- Maximum 7 grams of net carbs per serving\n    * _kidney-friendly_ \\- per serving – phosphorus less than 250 mg AND potassium less than 500 mg AND sodium: less than 500 mg\n    * _kosher_ \\- contains only ingredients allowed by the kosher diet. However it does not guarantee kosher preparation of the ingredients themselves\n    * _low-potassium_ \\- Less than 150mg per serving\n    * _lupine-free_ \\- does not contain lupine or derivatives\n    * _mustard-free_ \\- does not contain mustard or derivatives\n    * _low-fat-abs_ \\- Less than 3g of fat per serving\n    * _no-oil-added_ \\- No oil added except to what is contained in the basic ingredients\n    * _low-sugar_ \\- No simple sugars – glucose, dextrose, galactose, fructose, sucrose, lactose, maltose\n    * _paleo_ \\- Excludes what are perceived to be agricultural products; grains, legumes, dairy products, potatoes, refined salt, refined sugar, and processed oils\n    * _peanut-free_ \\- No peanuts or products containing peanuts\n    * _pecatarian_ \\- Does not contain meat or meat based products, can contain dairy and fish\n    * _pork-free_ \\- does not contain pork or derivatives\n    * _red-meat-free_ \\- does not contain beef, lamb, pork, duck, goose, game, horse, and other types of red meat or products containing red meat.\n    * _sesame-free_ \\- does not contain sesame seed or derivatives\n    * _shellfish-free_ \\- No shellfish or shellfish derivatives\n    * _soy-free_ \\- No soy or products containing soy\n    * _sugar-conscious_ \\- Less than 4g of sugar per serving\n    * _tree-nut-free_ \\- No tree nuts or products containing tree nuts\n    * _vegan_ \\- No meat, poultry, fish, dairy, eggs or honey\n    * _vegetarian_ \\- No meat, poultry, or fish\n    * _wheat-free_ \\- No wheat, can have gluten though\n    * _random_ \\- selects a different random health option each day\n  * **SearchItem** \\- the general term that you are looking for e.g. _chicken_\n\n\n",
  "crawled_at": "2025-05-25T18:58:50.238689",
  "readme_zh": "不知道今晚吃什么？根据您的需求，每日将食谱发送至邮箱。\n\n运行此工作流需准备：\n1. 从[Edamam](https://developer.edamam.com/edamam-recipe-api)获取食谱搜索API密钥\n2. 已配置登录信息的有效邮箱账户\n\n凭证设置步骤：\n1. 在「搜索条件」节点填写Edamam的_AppID_和_AppKey_\n2. 在「发送食谱」节点选择（或创建）邮箱凭证（同时设置发件人_to:_和收件人_from:_地址）\n\n定制个性化食谱：\n打开「搜索条件」节点修改以下参数：\n* **食谱数量** \\- 期望接收的食谱数量\n* **配料数量上限** \\- 单食谱最大配料数\n* **最低卡路里** \\- 食谱热量下限\n* **最高卡路里** \\- 食谱热量上限\n* **最短耗时** \\- 准备时间下限（分钟）\n* **最长耗时** \\- 准备时间上限（分钟）\n* **饮食类型** \\- 可选：\n  * 均衡型 - 蛋白质/脂肪/碳水比为15/35/50\n  * 高纤维 - 每份>5g膳食纤维\n  * 高蛋白 - 蛋白质占比>50%\n  * 低碳水 - 碳水占比<20%\n  * 低脂肪 - 脂肪占比<15%\n  * 低钠 - 每份<140mg钠\n  * 随机 - 每日自动切换\n* **健康需求** \\- 可选：\n  * 无酒精/增强免疫/无芹菜/无甲壳类/无乳制品/无蛋类/无鱼类/低FODMAP/无麸质/生酮友好/护肾配方/符合犹太教规/低钾/无羽扇豆/无芥末/超低脂（<3g/份）/不额外添加油/无添加糖/原始人饮食/无花生/鱼素主义/无猪肉/无红肉/无芝麻/无贝类/无大豆/控糖（<4g/份）/无坚果/纯素/蛋奶素/无小麦（可含麸质）/随机每日切换\n* **搜索关键词** \\- 如「鸡肉」等食材名称",
  "title_zh": "自动发送每日食谱邮件",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"11\",\n  \"name\": \"What To Eat\",\n  \"nodes\": [\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        100,\n        400\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 10\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Search Criteria\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        300,\n        400\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"RecipeCount\",\n              \"value\": 3\n            },\n            {\n              \"name\": \"IngredientCount\",\n              \"value\": 5\n            },\n            {\n              \"name\": \"CaloriesMin\"\n            },\n            {\n              \"name\": \"CaloriesMax\",\n              \"value\": 1500\n            },\n            {\n              \"name\": \"TimeMin\"\n            },\n            {\n              \"name\": \"TimeMax\",\n              \"value\": 30\n            }\n          ],\n          \"string\": [\n            {\n              \"name\": \"Diet\",\n              \"value\": \"balanced\"\n            },\n            {\n              \"name\": \"Health\",\n              \"value\": \"random\"\n            },\n            {\n              \"name\": \"SearchItem\",\n              \"value\": \"chicken\"\n            },\n            {\n              \"name\": \"AppID\",\n              \"value\": \"Enter Your Edamam AppID Here\"\n            },\n            {\n              \"name\": \"AppKey\",\n              \"value\": \"Enter Your Edamam AppKey Here\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set Query Values\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        500,\n        400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"items[0].json.calories = items[0].json.CaloriesMin + \\\"-\\\" + items[0].json.CaloriesMax;\\nitems[0].json.time = items[0].json.TimeMin + \\\"-\\\" + items[0].json.TimeMax;\\n\\nif (items[0].json.Diet.toUpperCase() == \\\"RANDOM\\\") {\\n  arrDiet = [\\\"balanced\\\",\\\"high-fiber\\\",\\\"high-protein\\\",\\\"low-carb\\\",\\\"low-fat\\\",\\\"low-sodium\\\"];\\n  intRandomNumber = Math.floor(Math.random() * 6);\\n  items[0].json.Diet = arrDiet[intRandomNumber];\\n}\\n\\nif (items[0].json.Health.toUpperCase() == \\\"RANDOM\\\") {\\n  arrHealth = [\\\"alcohol-free\\\",\\\"immuno-supportive\\\",\\\"celery-free\\\",\\\"crustacean-free\\\",\\\"dairy-free\\\",\\\"egg-free\\\",\\\"fish-free\\\",\\\"fodmap-free\\\",\\\"gluten-free\\\",\\\"keto-friendly\\\",\\\"kidney-friendly\\\",\\\"kosher\\\",\\\"low-potassium\\\",\\\"lupine-free\\\",\\\"mustard-free\\\",\\\"low-fat-abs\\\",\\\"no-oil-added\\\",\\\"low-sugar\\\",\\\"paleo\\\",\\\"peanut-free\\\",\\\"pecatarian\\\",\\\"pork-free\\\",\\\"red-meat-free\\\",\\\"sesame-free\\\",\\\"shellfish-free\\\",\\\"soy-free\\\",\\\"sugar-conscious\\\",\\\"tree-nut-free\\\",\\\"vegan\\\",\\\"vegetarian\\\",\\\"wheat-free\\\"];\\n  intRandomNumber = Math.floor(Math.random() * 31);\\n  items[0].json.Health = arrHealth[intRandomNumber];\\n}\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set Recipe ID Values\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1080,\n        400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"items[0].json.from = Math.floor(Math.random() * items[0].json.RecipeCount) + 1;\\nitems[0].json.to = items[0].json.from + items[0].json.ReturnCount;\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Retrieve Recipe Counts\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.edamam.com/search\",\n        \"options\": {},\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"q\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"SearchItem\\\"]}}\"\n            },\n            {\n              \"name\": \"app_id\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"AppID\\\"]}}\"\n            },\n            {\n              \"name\": \"app_key\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"AppKey\\\"]}}\"\n            },\n            {\n              \"name\": \"ingr\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"IngredientCount\\\"]}}\"\n            },\n            {\n              \"name\": \"diet\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"Diet\\\"]}}\"\n            },\n            {\n              \"name\": \"calories\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"calories\\\"]}}\"\n            },\n            {\n              \"name\": \"time\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"time\\\"]}}\"\n            },\n            {\n              \"name\": \"from\",\n              \"value\": \"1\"\n            },\n            {\n              \"name\": \"to\",\n              \"value\": \"2\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Retrieve Recipes\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1260,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.edamam.com/search\",\n        \"options\": {},\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"q\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"SearchItem\\\"]}}\"\n            },\n            {\n              \"name\": \"app_id\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"AppID\\\"]}}\"\n            },\n            {\n              \"name\": \"app_key\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"AppKey\\\"]}}\"\n            },\n            {\n              \"name\": \"from\",\n              \"value\": \"={{$node[\\\"Set Recipe ID Values\\\"].json[\\\"from\\\"]}}\"\n            },\n            {\n              \"name\": \"to\",\n              \"value\": \"={{$node[\\\"Set Recipe ID Values\\\"].json[\\\"to\\\"]}}\"\n            },\n            {\n              \"name\": \"ingr\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"IngredientCount\\\"]}}\"\n            },\n            {\n              \"name\": \"diet\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"Diet\\\"]}}\"\n            },\n            {\n              \"name\": \"calories\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"calories\\\"]}}\"\n            },\n            {\n              \"name\": \"time\",\n              \"value\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"time\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set Counts\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        880,\n        400\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"RecipeCount\",\n              \"value\": \"={{$node[\\\"Retrieve Recipe Counts\\\"].json[\\\"count\\\"]}}\"\n            },\n            {\n              \"name\": \"ReturnCount\",\n              \"value\": \"={{$node[\\\"Search Criteria\\\"].json[\\\"RecipeCount\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Send Recipes\",\n      \"type\": \"n8n-nodes-base.emailSend\",\n      \"position\": [\n        1660,\n        400\n      ],\n      \"parameters\": {\n        \"html\": \"={{$node[\\\"Create Email Body in HTML\\\"].json[\\\"emailBody\\\"]}}\",\n        \"options\": {},\n        \"subject\": \"={{$node[\\\"Set Query Values\\\"].json[\\\"RecipeCount\\\"]}} {{$node[\\\"Set Query Values\\\"].json[\\\"Diet\\\"]}}, {{$node[\\\"Set Query Values\\\"].json[\\\"Health\\\"]}} {{$node[\\\"Set Query Values\\\"].json[\\\"SearchItem\\\"]}} recipes under {{$node[\\\"Set Query Values\\\"].json[\\\"CaloriesMax\\\"]}} calories ready in under {{$node[\\\"Set Query Values\\\"].json[\\\"TimeMax\\\"]}} minutes\",\n        \"toEmail\": \"Enter Your Email Address Here\",\n        \"fromEmail\": \"Enter Your Email Address Here\"\n      },\n      \"credentials\": {\n        \"smtp\": \"Gmail Creds\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create Email Body in HTML\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1460,\n        400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"arrRecipes = items[0].json.hits;\\nitems[0].json = {};\\n\\nstrEmailBody = \\\"Here are your recipes for today:<br><ul>\\\";\\n\\narrRecipes.forEach(createHTML);\\n\\nfunction createHTML(value, index, array) {\\n  strEmailBody = strEmailBody + \\\"<li><a href=\\\\\\\"\\\"+ value.recipe.shareAs + \\\"\\\\\\\">\\\" + value.recipe.label + \\\"</a></li>\\\";\\n}\\n\\nstrEmailBody = strEmailBody + \\\"</ul>\\\";\\n\\nitems[0].json.emailBody = strEmailBody\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"settings\": {},\n  \"connections\": {\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search Criteria\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Counts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Recipe ID Values\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search Criteria\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Query Values\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve Recipes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Email Body in HTML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Query Values\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve Recipe Counts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Recipe ID Values\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve Recipes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve Recipe Counts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Counts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Email Body in HTML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Recipes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}