{
  "url": "https://n8n.io/workflows/2135-enrich-new-leads-in-pipedrive-and-send-an-alert-to-slack-for-high-quality-ones/",
  "title": "Enrich new leads in Pipedrive and send an alert to Slack for high-quality ones",
  "author": "Niklas Hatje",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "",
  "readme": "## Use Case\n\nThis workflow is beneficial when you're automatically adding new leads to your Pipedrive CRM. Usually, you'd have to manually review each lead to determine if they're a good fit. This process is time-consuming and increases the chances of missing important leads. This workflow ensures every new lead is promptly evaluated upon addition.\n\n## What this workflow does\n\nThe workflow runs every 5 minutes. On every run, it checks your new Pipedrive leads and enriches them with Clearbit. It then marks items as enriched and checks if the company of the new lead matches certain criteria (in this case if they are B2B and have more than 100 employees) and sends a Slack alert to a channel for every match.\n\n## Pre Conditions\n\nYou must have Pipedrive, Clearbit, and Slack accounts. You also need to set up the custom fields `Domain` and `Enriched at` in Pipedrive.\n\n## Setup\n\n  1. Go to Company Settings -> Data fields -> Organization and add `Domain` as a custom field\n  2. Go to Company Settings -> Data fields -> Leads and add `Enriched at` as a custom date field\n  3. Add your `Pipedrive`, `Clearbit` and `Slack` credentials.\n  4. Fill the `setup` node below. To get the ID of your custom domain fields, simply run the `Show only custom organization fields` and `Show only custom lead fields` nodes below and copy the keys of your `domain`, and `enriched at` fields.\n\n\n\n## How to adjust this workflow to your needs\n\n  * Modify the criteria to suit your definition of an interesting lead.\n  * If you only want to focus on interesting leads in Pipedrive, add a node that archives all others.\n\n\n\nThis workflow was built using n8n version 1.29.1\n",
  "crawled_at": "2025-05-25T21:21:02.547833",
  "readme_zh": "## ä½¿ç”¨åœºæ™¯\n\nå½“æ‚¨éœ€è¦å°†æ–°çº¿ç´¢è‡ªåŠ¨æ·»åŠ è‡³Pipedrive CRMç³»ç»Ÿæ—¶ï¼Œæ­¤å·¥ä½œæµå°¤ä¸ºå®ç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‚¨éœ€æ‰‹åŠ¨å®¡æ ¸æ¯æ¡çº¿ç´¢ä»¥åˆ¤æ–­å…¶åŒ¹é…åº¦ã€‚è¿™ä¸€è¿‡ç¨‹ä¸ä»…è€—æ—¶ï¼Œè¿˜å®¹æ˜“é—æ¼é‡è¦çº¿ç´¢ã€‚æœ¬å·¥ä½œæµç¡®ä¿æ¯æ¡æ–°å¢çº¿ç´¢éƒ½èƒ½åœ¨å½•å…¥æ—¶å³åˆ»è·å¾—è¯„ä¼°ã€‚\n\n## å·¥ä½œæµåŠŸèƒ½\n\nè¯¥å·¥ä½œæµæ¯5åˆ†é’Ÿè‡ªåŠ¨è¿è¡Œä¸€æ¬¡ã€‚æ¯æ¬¡æ‰§è¡Œæ—¶ä¼šæ£€æŸ¥Pipedriveä¸­çš„æ–°å¢çº¿ç´¢ï¼Œå¹¶é€šè¿‡Clearbitè¿›è¡Œæ•°æ®å¢å¼ºã€‚éšåæ ‡è®°å·²å¢å¼ºæ¡ç›®ï¼Œå¹¶éªŒè¯æ–°çº¿ç´¢æ‰€å±ä¼ä¸šæ˜¯å¦ç¬¦åˆé¢„è®¾æ ‡å‡†ï¼ˆæœ¬ä¾‹ä¸­è®¾å®šä¸ºB2Bç±»å‹ä¸”å‘˜å·¥æ•°è¶…è¿‡100äººï¼‰ï¼Œæ‰€æœ‰åŒ¹é…é¡¹éƒ½ä¼šè§¦å‘Slacké¢‘é“é€šçŸ¥ã€‚\n\n## å‰ç½®æ¡ä»¶\n\néœ€å·²æ³¨å†ŒPipedriveã€Clearbitå’ŒSlackè´¦æˆ·ã€‚åŒæ—¶éœ€åœ¨Pipedriveä¸­è®¾ç½®`Domain`ï¼ˆåŸŸåï¼‰å’Œ`Enriched at`ï¼ˆå¢å¼ºæ—¶é—´ï¼‰ä¸¤ä¸ªè‡ªå®šä¹‰å­—æ®µã€‚\n\n## é…ç½®æ­¥éª¤\n\n1. è¿›å…¥å…¬å¸è®¾ç½® -> æ•°æ®å­—æ®µ -> ç»„ç»‡æ¨¡å—ï¼Œæ·»åŠ `Domain`è‡ªå®šä¹‰å­—æ®µ  \n2. è¿›å…¥å…¬å¸è®¾ç½® -> æ•°æ®å­—æ®µ -> çº¿ç´¢æ¨¡å—ï¼Œæ·»åŠ `Enriched at`è‡ªå®šä¹‰æ—¥æœŸå­—æ®µ  \n3. é…ç½®`Pipedrive`ã€`Clearbit`å’Œ`Slack`çš„è®¿é—®å‡­è¯  \n4. å¡«å†™ä¸‹æ–¹`setup`èŠ‚ç‚¹ã€‚è·å–è‡ªå®šä¹‰å­—æ®µIDï¼šè¿è¡Œä¸‹æ–¹`ä»…æ˜¾ç¤ºç»„ç»‡è‡ªå®šä¹‰å­—æ®µ`å’Œ`ä»…æ˜¾ç¤ºçº¿ç´¢è‡ªå®šä¹‰å­—æ®µ`èŠ‚ç‚¹ï¼Œå¤åˆ¶`domain`å’Œ`enriched at`å­—æ®µçš„é”®å€¼  \n\n## è‡ªå®šä¹‰è°ƒæ•´å»ºè®®\n\n* æ ¹æ®æ‚¨å¯¹ä¼˜è´¨çº¿ç´¢çš„å®šä¹‰ä¿®æ”¹ç­›é€‰æ ‡å‡†  \n* è‹¥åªéœ€å…³æ³¨Pipedriveä¸­çš„ä¼˜è´¨çº¿ç´¢ï¼Œå¯æ·»åŠ èŠ‚ç‚¹å½’æ¡£å…¶ä½™æ¡ç›®  \n\næœ¬å·¥ä½œæµåŸºäºn8n 1.29.1ç‰ˆæœ¬æ„å»º",
  "title_zh": "åœ¨Pipedriveä¸­ä¸°å¯Œæ–°çº¿ç´¢ï¼Œå¹¶ä¸ºé«˜è´¨é‡çº¿ç´¢å‘Slackå‘é€æé†’",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äºä¸€å¹´å‰",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"257476b1ef58bf3cb6a46e65fac7ee34a53a5e1a8492d5c6e4da5f87c9b82833\",\"templateId\":\"2131\"},\"nodes\":[{\"id\":\"2b12fb75-ec81-4d2c-a8bb-12ff2bb7e935\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[680,2.662790697674268],\"parameters\":{\"color\":5,\"width\":410.6749642132356,\"height\":428.2515771212859,\"content\":\"## è®¾ç½®æ­¥éª¤\\n1. å‰å¾€å…¬å¸è®¾ç½® -> æ•°æ®å­—æ®µ -> ç»„ç»‡ï¼Œæ·»åŠ \\\"åŸŸå\\\"ä½œä¸ºè‡ªå®šä¹‰å­—æ®µ\\n2. å‰å¾€å…¬å¸è®¾ç½® -> æ•°æ®å­—æ®µ -> çº¿ç´¢ï¼Œæ·»åŠ \\\"æ•°æ®è·å–æ—¶é—´\\\"ä½œä¸ºè‡ªå®šä¹‰æ—¥æœŸå­—æ®µ\\n3. æ·»åŠ æ‚¨çš„`Pipedrive`ã€`Clearbit`å’Œ`Slack`è´¦å·å‡­è¯\\n4. å¡«å†™ä¸‹æ–¹çš„`setup`èŠ‚ç‚¹ã€‚è¦è·å–è‡ªå®šä¹‰åŸŸåå­—æ®µçš„IDï¼Œåªéœ€è¿è¡Œä¸‹æ–¹`ä»…æ˜¾ç¤ºè‡ªå®šä¹‰ç»„ç»‡å­—æ®µ`å’Œ`ä»…æ˜¾ç¤ºè‡ªå®šä¹‰çº¿ç´¢å­—æ®µ`èŠ‚ç‚¹ï¼Œç„¶åå¤åˆ¶æ‚¨çš„åŸŸåå­—æ®µå’Œ\\\"æ•°æ®è·å–æ—¶é—´\\\"å­—æ®µå¯¹åº”çš„é”®å€¼\"},\"typeVersion\":1},{\"id\":\"123ad2e5-f4f2-4411-bf03-5668124b8757\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1800,160],\"parameters\":{\"color\":7,\"width\":223.7628185364029,\"height\":276.3308728978709,\"content\":\"æ ¹æ®æ‚¨è®¾å®šçš„æ¡ä»¶è°ƒæ•´ç­›é€‰æ½œåœ¨å®¢æˆ·çš„æ ‡å‡†ï¼Œä¾‹å¦‚ï¼šæ”¶å…¥ã€å‘˜å·¥äººæ•°ç­‰ã€‚\"},\"typeVersion\":1},{\"id\":\"7725dc9e-5c93-475d-9522-f99b4fd1c81f\",\"name\":\"Enrich company\",\"type\":\"n8n-nodes-base.clearbit\",\"position\":[1460,140],\"parameters\":{\"domain\":\"={{ $json[$('Setup').first().json.domainCustomFieldId2]}}\",\"additionalFields\":{}},\"credentials\":{\"clearbitApi\":{\"id\":\"cKDImrinp9tg0ZHW\",\"name\":\"Clearbit account\"}},\"typeVersion\":1},{\"id\":\"f65855c3-d3d2-415b-bda2-e452d4d7e154\",\"name\":\"Get all leads\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1120,280],\"parameters\":{\"filters\":{\"archived_status\":\"not_archived\"},\"resource\":\"lead\",\"operation\":\"getAll\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"M3l7gIG8DdOex6wX\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"39767a37-bd6d-422e-bc38-bfdfcbbf05af\",\"name\":\"Add Organization ID to data\",\"type\":\"n8n-nodes-base.set\",\"position\":[1640,140],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"71b4c743-fd69-4f5d-8c29-66b3672f7a2a\",\"name\":\"organization_id\",\"type\":\"number\",\"value\":\"={{ $('Get organization details').item.json.id }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.3},{\"id\":\"4263cd25-dcf3-4521-b716-0ce48d3b2c26\",\"name\":\"Keep leads that match the criteria\",\"type\":\"n8n-nodes-base.filter\",\"position\":[2320,260],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"1b31b826-e87d-425f-a65d-370b4b20f7e1\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.tags.includes(\\\"B2B\\\") }}\",\"rightValue\":5000000},{\"id\":\"90ef79a7-807a-4894-ae8c-92f9d46e7177\",\"operator\":{\"type\":\"number\",\"operation\":\"gt\"},\"leftValue\":\"={{ $json.metrics.employees }}\",\"rightValue\":100}]}},\"typeVersion\":2},{\"id\":\"98578544-b03d-44aa-a64f-285f8a7cc371\",\"name\":\"Trigger every 5 minutes\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[540,280],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"minutes\"}]}},\"typeVersion\":1.1},{\"id\":\"69ace950-7f1e-469b-bfca-6c0c81f356b9\",\"name\":\"Setup\",\"type\":\"n8n-nodes-base.set\",\"position\":[820,280],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"dba31775-dce0-4f4c-ad61-790359197bb3\",\"name\":\"slackChannel\",\"type\":\"string\",\"value\":\"#yourChannel\"},{\"id\":\"f8206758-7a4f-414d-921c-6cfecd936335\",\"name\":\"domainCustomFieldId\",\"type\":\"string\",\"value\":\"<Run \\\"Show only custom organization fields\\\" and copy the key>\"},{\"id\":\"59c71724-f774-4d41-80e7-5fc76dd27c7d\",\"name\":\"enrichedAtCustomFieldId\",\"type\":\"string\",\"value\":\"<Run \\\"Show only custom lead fields\\\" and copy the key>\"},{\"id\":\"da4ec51e-cc5c-4512-b675-0888d6a0213e\",\"name\":\"enrichedAtCustomFieldId2\",\"type\":\"string\",\"value\":\"68a15ecb2e1255250617c1fd1c06385893334e3c\"},{\"id\":\"43544b80-88d3-44ad-9e36-634e9eeaf013\",\"name\":\"domainCustomFieldId2\",\"type\":\"string\",\"value\":\"ab26f671c92146268edacd244181e76579286e71\"}]}},\"typeVersion\":3.3},{\"id\":\"63db576a-6bb7-4215-88f3-98e304081b3e\",\"name\":\"Send alert to Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[2520,260],\"parameters\":{\"text\":\"=New high-quality lead ğŸ¤‘\\n*Company Name*: {{ $json.name }} \\n*Website*: {{ \\\"https://\\\" + $json.domain }}\\n*Revenue*: {{ $json.metrics.estimatedAnnualRevenue}}\\n*Number of employees*: {{ $json.metrics.employees }}\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Setup').item.json.slackChannel }}\"},\"otherOptions\":{}},\"credentials\":{\"slackApi\":{\"id\":\"6\",\"name\":\"Idea Bot\"}},\"typeVersion\":2.1},{\"id\":\"9bef53b4-3732-4ce5-a72c-81c65a533196\",\"name\":\"Merge data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1880,260],\"parameters\":{\"mode\":\"combine\",\"options\":{\"clashHandling\":{\"values\":{\"resolveClash\":\"preferInput2\"}}},\"joinMode\":\"enrichInput2\",\"mergeByFields\":{\"values\":[{\"field1\":\"organization_id\",\"field2\":\"organization_id\"}]}},\"typeVersion\":2.1},{\"id\":\"9c8d106a-ffc6-4295-bc22-8ceddeb0061f\",\"name\":\"Get organization details\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1280,140],\"parameters\":{\"resource\":\"organization\",\"operation\":\"get\",\"organizationId\":\"={{ $json.organization_id }}\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"M3l7gIG8DdOex6wX\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"632477f4-77d1-4c87-a819-2f7022fa6f23\",\"name\":\"Get all organization keys\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[680,620],\"parameters\":{\"url\":\"https://api.pipedrive.com/v1/organizationFields\",\"options\":{},\"sendQuery\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{}]},\"nodeCredentialType\":\"pipedriveApi\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"M3l7gIG8DdOex6wX\",\"name\":\"Pipedrive account\"}},\"typeVersion\":4.1},{\"id\":\"f12c4e56-895d-4f34-8924-c99f5e5fefec\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[997,520],\"parameters\":{\"width\":187.68142318756514,\"height\":276.3308728978709,\"content\":\"è¿è¡Œæˆ‘æ¥æŸ¥æ‰¾æ‚¨çš„è‡ªå®šä¹‰åŸŸå­—æ®µçš„Id\"},\"typeVersion\":1},{\"id\":\"229db444-ac48-4557-b393-4dcdc69130fd\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1597,520],\"parameters\":{\"width\":187.68142318756514,\"height\":276.3308728978709,\"content\":\"è¿è¡Œæˆ‘æ¥æŸ¥æ‰¾æ‚¨å¯Œé›†åœ¨åŸŸå­—æ®µä¸­çš„Id\"},\"typeVersion\":1},{\"id\":\"ea4b0c82-e52b-4a45-9d3f-7b28b8959574\",\"name\":\"Get all lead keys\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,620],\"parameters\":{\"url\":\"https://api.pipedrive.com/v1/leadFields\",\"options\":{},\"sendQuery\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{}]},\"nodeCredentialType\":\"pipedriveApi\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"M3l7gIG8DdOex6wX\",\"name\":\"Pipedrive account\"}},\"typeVersion\":4.1},{\"id\":\"a74a2122-ddd5-4239-baa3-ebbc3de15e03\",\"name\":\"Split out lead field data\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1440,620],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"84fded6b-bdeb-4863-b54c-01faf6cb64cc\",\"name\":\"Split out organization field\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[860,620],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"9d9c502e-ccf2-40f9-ae91-7008532e5528\",\"name\":\"Show only custom lead fields\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1640,620],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"b21201d0-7f9c-417c-ab02-fbaea23a8d24\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.edit_flag }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"a53f58ee-9649-42bc-bee4-b70eea6a0c63\",\"name\":\"Show only custom organization fields\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1040,620],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"b21201d0-7f9c-417c-ab02-fbaea23a8d24\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.edit_flag }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"f9fa198a-860c-460f-ae82-172c71b5a838\",\"name\":\"Mark lead as enriched in Pipedrive\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2100,260],\"parameters\":{\"url\":\"=https://api.pipedrive.com/v1/leads/{{ $json.id }}\",\"method\":\"PATCH\",\"options\":{},\"sendBody\":true,\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"={{ $('Setup').first().json.enrichedAtCustomFieldId2 }}\",\"value\":\"={{ $now.format('yyyy-MM-dd') }}\"}]},\"nodeCredentialType\":\"pipedriveApi\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"M3l7gIG8DdOex6wX\",\"name\":\"Pipedrive account\"}},\"typeVersion\":4.1}],\"pinData\":{},\"connections\":{\"Setup\":{\"main\":[[{\"node\":\"Get all leads\",\"type\":\"main\",\"index\":0}]]},\"Merge data\":{\"main\":[[{\"node\":\"Mark lead as enriched in Pipedrive\",\"type\":\"main\",\"index\":0}]]},\"Get all leads\":{\"main\":[[{\"node\":\"Get organization details\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge data\",\"type\":\"main\",\"index\":1}]]},\"Enrich company\":{\"main\":[[{\"node\":\"Add Organization ID to data\",\"type\":\"main\",\"index\":0}]]},\"Get all lead keys\":{\"main\":[[{\"node\":\"Split out lead field data\",\"type\":\"main\",\"index\":0}]]},\"Trigger every 5 minutes\":{\"main\":[[{\"node\":\"Setup\",\"type\":\"main\",\"index\":0}]]},\"Get organization details\":{\"main\":[[{\"node\":\"Enrich company\",\"type\":\"main\",\"index\":0}]]},\"Get all organization keys\":{\"main\":[[{\"node\":\"Split out organization field\",\"type\":\"main\",\"index\":0}]]},\"Split out lead field data\":{\"main\":[[{\"node\":\"Show only custom lead fields\",\"type\":\"main\",\"index\":0}]]},\"Add Organization ID to data\":{\"main\":[[{\"node\":\"Merge data\",\"type\":\"main\",\"index\":0}]]},\"Split out organization field\":{\"main\":[[{\"node\":\"Show only custom organization fields\",\"type\":\"main\",\"index\":0}]]},\"Keep leads that match the criteria\":{\"main\":[[{\"node\":\"Send alert to Slack\",\"type\":\"main\",\"index\":0}]]},\"Mark lead as enriched in Pipedrive\":{\"main\":[[{\"node\":\"Keep leads that match the criteria\",\"type\":\"main\",\"index\":0}]]}}}"
}