{
  "url": "https://n8n.io/workflows/2169-watchdog-update-all-workflows-with-default-error-workflow/",
  "title": "Watchdog: Update All Workflows With Default Error Workflow",
  "author": "Darien Kindlund",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"f4b99447bb6b56ad425b30ab755dc982ee1c258e7ce783958190eabedd1bcbb0\"},\"nodes\":[{\"id\":\"d496660c-88be-4130-ad6c-32e55f820af0\",\"name\":\"Set Default Error Workflow\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1700,500],\"parameters\":{\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"workflow_entity\",\"cachedResultName\":\"workflow_entity\"},\"schema\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"public\"},\"columns\":{\"value\":{\"id\":\"={{ $json.id }}\",\"settings\":\"={{ JSON.stringify({ ...$json.settings, errorWorkflow: $('Set Vars').item.json.default_error_workflow_id }, null, null) }}\"},\"schema\":[{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"active\",\"type\":\"boolean\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"active\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"nodes\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"nodes\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"connections\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"connections\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"createdAt\",\"type\":\"dateTime\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"createdAt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"updatedAt\",\"type\":\"dateTime\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"updatedAt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"settings\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"settings\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"staticData\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"staticData\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"pinData\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"pinData\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"versionId\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"versionId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"triggerCount\",\"type\":\"number\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"triggerCount\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":true,\"displayName\":\"id\",\"defaultMatch\":true,\"canBeUsedToMatch\":true},{\"id\":\"meta\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"meta\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"]},\"options\":{},\"operation\":\"update\"},\"credentials\":{\"postgres\":{\"id\":\"rFLN9F42378ayUmI\",\"name\":\"GCS:threat-intel-context/dev-n8n-conf\"}},\"retryOnFail\":true,\"typeVersion\":2.3},{\"id\":\"334c557c-bc6c-44f8-85ac-3cacc145cf2f\",\"name\":\"Set Vars\",\"type\":\"n8n-nodes-base.set\",\"position\":[1040,500],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"b2302801-f93e-4134-a785-47454dfe31d4\",\"name\":\"default_error_workflow_id\",\"type\":\"string\",\"value\":\"2fgSBCqYJyEZWtTO\"},{\"id\":\"efe2c80d-2b98-4a6b-8f76-7e2d5866c4ea\",\"name\":\"default_error_exclusion_tag\",\"type\":\"string\",\"value\":\"default_error:false\"}]}},\"retryOnFail\":true,\"typeVersion\":3.3},{\"id\":\"858d36f2-1024-43dd-89e9-00402fb1bae2\",\"name\":\"Exclude default_error:false Tagged Workflows\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1480,500],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"911501c7-18cc-4292-a4e8-fe8f8c3cb8aa\",\"operator\":{\"type\":\"boolean\",\"operation\":\"false\",\"singleValue\":true},\"leftValue\":\"={{ $json.tags.some(item => item.name === $('Set Vars').item.json.default_error_exclusion_tag) }}\",\"rightValue\":\"\"},{\"id\":\"e22db4f5-ec03-4000-a996-d3150db17a73\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.settings.errorWorkflow ? $json.settings.errorWorkflow : \\\"\\\" }}\",\"rightValue\":\"={{ $('Set Vars').item.json.default_error_workflow_id }}\"}]}},\"retryOnFail\":true,\"typeVersion\":2},{\"id\":\"f0ac7515-8175-458c-9357-b5246019a22c\",\"name\":\"When clicking \\\"Test workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[780,580],\"parameters\":{},\"typeVersion\":1},{\"id\":\"2545b766-a0a0-4e31-9941-d51d5594aff6\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[780,400],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\",\"hoursInterval\":4}]}},\"notesInFlow\":false,\"typeVersion\":1.1},{\"id\":\"901e4df3-4dd3-4b92-ac09-555d51d2d7e9\",\"name\":\"Get All Workflows\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1260,500],\"parameters\":{\"filters\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"r2RZq6ObikiqFu1y\",\"name\":\"n8n account\"}},\"retryOnFail\":true,\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Set Vars\":{\"main\":[[{\"node\":\"Get All Workflows\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Set Vars\",\"type\":\"main\",\"index\":0}]]},\"Get All Workflows\":{\"main\":[[{\"node\":\"Exclude default_error:false Tagged Workflows\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Test workflow\\\"\":{\"main\":[[{\"node\":\"Set Vars\",\"type\":\"main\",\"index\":0}]]},\"Exclude default_error:false Tagged Workflows\":{\"main\":[[{\"node\":\"Set Default Error Workflow\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Do you consistently _forget_ to set a Default Error Workflow when creating new workflows? Then this helper workflow is for you!\n\nWhen activated, this helper workflow will:\n\n  * Scan ALL other workflows every 4 hours\n  * Make sure ALL workflows have a default error workflow set (based on what Workflow ID you provide)\n  * This helper will SKIP OVER any workflows that have the `default_error:false` tag set (make sure your default error workflow has the `default_error:false` tag set, so that you don't end up with recursive loops during errors)\n\n\n\nSetup Nodes:\n\n  * Once imported, edit the `Set Vars` node with your `default_error_workflow_id` value.\n  * If you want to change the `default_error:false` tag to some other tag name, you can do so here as well.\n  * You need to update the `Set Default Error Workflow` node with your PostgreSQL credentials to access the `n8n` database.\n\n\n",
  "crawled_at": "2025-05-25T21:29:52.330901",
  "readme_zh": "你是否总在创建新工作流时_忘记_设置默认错误工作流？那么这个辅助工作流就是为你准备的！\n\n启用后，该辅助工作流将：\n\n  * 每4小时扫描所有其他工作流\n  * 确保所有工作流都设置了默认错误工作流（基于你提供的目标工作流ID）\n  * 自动跳过所有带有`default_error:false`标签的工作流（请确保你的默认错误工作流已设置此标签，以避免错误时出现递归循环）\n\n配置节点说明：\n\n  * 导入后，在`Set Vars`节点中填写你的`default_error_workflow_id`值\n  * 如需将`default_error:false`标签更改为其他名称，也可在此节点修改\n  * 需在`Set Default Error Workflow`节点更新你的PostgreSQL凭证以访问`n8n`数据库",
  "title_zh": "监管机构：将所有工作流程更新为默认错误处理流程",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"f4b99447bb6b56ad425b30ab755dc982ee1c258e7ce783958190eabedd1bcbb0\"},\"nodes\":[{\"id\":\"d496660c-88be-4130-ad6c-32e55f820af0\",\"name\":\"Set Default Error Workflow\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1700,500],\"parameters\":{\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"workflow_entity\",\"cachedResultName\":\"workflow_entity\"},\"schema\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"public\"},\"columns\":{\"value\":{\"id\":\"={{ $json.id }}\",\"settings\":\"={{ JSON.stringify({ ...$json.settings, errorWorkflow: $('Set Vars').item.json.default_error_workflow_id }, null, null) }}\"},\"schema\":[{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"active\",\"type\":\"boolean\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"active\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"nodes\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"nodes\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"connections\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":true,\"displayName\":\"connections\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"createdAt\",\"type\":\"dateTime\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"createdAt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"updatedAt\",\"type\":\"dateTime\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"updatedAt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"settings\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"settings\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"staticData\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"staticData\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"pinData\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"pinData\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"versionId\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"versionId\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"triggerCount\",\"type\":\"number\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"triggerCount\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":true,\"displayName\":\"id\",\"defaultMatch\":true,\"canBeUsedToMatch\":true},{\"id\":\"meta\",\"type\":\"object\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"meta\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"]},\"options\":{},\"operation\":\"update\"},\"credentials\":{\"postgres\":{\"id\":\"rFLN9F42378ayUmI\",\"name\":\"GCS:threat-intel-context/dev-n8n-conf\"}},\"retryOnFail\":true,\"typeVersion\":2.3},{\"id\":\"334c557c-bc6c-44f8-85ac-3cacc145cf2f\",\"name\":\"Set Vars\",\"type\":\"n8n-nodes-base.set\",\"position\":[1040,500],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"b2302801-f93e-4134-a785-47454dfe31d4\",\"name\":\"default_error_workflow_id\",\"type\":\"string\",\"value\":\"2fgSBCqYJyEZWtTO\"},{\"id\":\"efe2c80d-2b98-4a6b-8f76-7e2d5866c4ea\",\"name\":\"default_error_exclusion_tag\",\"type\":\"string\",\"value\":\"default_error:false\"}]}},\"retryOnFail\":true,\"typeVersion\":3.3},{\"id\":\"858d36f2-1024-43dd-89e9-00402fb1bae2\",\"name\":\"Exclude default_error:false Tagged Workflows\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1480,500],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"911501c7-18cc-4292-a4e8-fe8f8c3cb8aa\",\"operator\":{\"type\":\"boolean\",\"operation\":\"false\",\"singleValue\":true},\"leftValue\":\"={{ $json.tags.some(item => item.name === $('Set Vars').item.json.default_error_exclusion_tag) }}\",\"rightValue\":\"\"},{\"id\":\"e22db4f5-ec03-4000-a996-d3150db17a73\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.settings.errorWorkflow ? $json.settings.errorWorkflow : \\\"\\\" }}\",\"rightValue\":\"={{ $('Set Vars').item.json.default_error_workflow_id }}\"}]}},\"retryOnFail\":true,\"typeVersion\":2},{\"id\":\"f0ac7515-8175-458c-9357-b5246019a22c\",\"name\":\"When clicking \\\"Test workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[780,580],\"parameters\":{},\"typeVersion\":1},{\"id\":\"2545b766-a0a0-4e31-9941-d51d5594aff6\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[780,400],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\",\"hoursInterval\":4}]}},\"notesInFlow\":false,\"typeVersion\":1.1},{\"id\":\"901e4df3-4dd3-4b92-ac09-555d51d2d7e9\",\"name\":\"Get All Workflows\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1260,500],\"parameters\":{\"filters\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"r2RZq6ObikiqFu1y\",\"name\":\"n8n account\"}},\"retryOnFail\":true,\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Set Vars\":{\"main\":[[{\"node\":\"Get All Workflows\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Set Vars\",\"type\":\"main\",\"index\":0}]]},\"Get All Workflows\":{\"main\":[[{\"node\":\"Exclude default_error:false Tagged Workflows\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Test workflow\\\"\":{\"main\":[[{\"node\":\"Set Vars\",\"type\":\"main\",\"index\":0}]]},\"Exclude default_error:false Tagged Workflows\":{\"main\":[[{\"node\":\"Set Default Error Workflow\",\"type\":\"main\",\"index\":0}]]}}}"
}