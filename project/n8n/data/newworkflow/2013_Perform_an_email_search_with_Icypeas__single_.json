{
  "url": "https://n8n.io/workflows/2013-perform-an-email-search-with-icypeas-single/",
  "title": "Perform an email search with Icypeas (single)",
  "author": "Corentin Ribeyre",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"zAkPoRdcG5M5x4KT\",\"meta\":{\"instanceId\":\"a897062ac3223eacd9c7736276b653c446bc776a63cde2a42a2949ad984f7092\"},\"name\":\"Perform an email search with Icypeas (single)\",\"tags\":[],\"nodes\":[{\"id\":\"7bd55522-62dd-40da-939d-e10c185dd44d\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[1220,480],\"parameters\":{},\"typeVersion\":1},{\"id\":\"422bb377-afe7-4332-a134-15af150e8006\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1060,220],\"parameters\":{\"height\":243.6494382022472,\"content\":\"## Perform an email search with Icypeas (single)\\n\\nThis workflow demonstrates how to perform an email search using Icypeas. Visit https://icypeas.com to create your account.\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"a95bd610-e5e3-4343-afcc-4af22dca1f8f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1367,296],\"parameters\":{\"width\":506,\"height\":1042.9602832148855,\"content\":\"## Authenticates to your Icypeas account\\n\\nThis code node utilizes your API key, API secret, and User ID to establish a connection with your Icypeas account.\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nOpen this node and insert your API Key, API secret, and User ID within the quotation marks. You can locate these credentials on your Icypeas profile at https://app.icypeas.com/bo/profile. Here is the extract of what you have to change :\\n\\nconst API_KEY = \\\"**PUT_API_KEY_HERE**\\\";\\nconst API_SECRET = \\\"**PUT_API_SECRET_HERE**\\\";\\nconst USER_ID = \\\"**PUT_USER_ID_HERE**\\\";\\n\\nDo not change any other line of the code.\\n\\nIf you are a self-hosted user, follow these steps to activate the crypto module :\\n\\n1.Access your n8n instance:\\nLog in to your n8n instance using your web browser by navigating to the URL of your instance, for example: http://your-n8n-instance.com.\\n\\n2.Go to Settings:\\nIn the top-right corner, click on your username, then select \\\"Settings.\\\"\\n\\n3.Select General Settings:\\nIn the left menu, click on \\\"General.\\\"\\n\\n4.Enable the Crypto module:\\nScroll down to the \\\"Additional Node Packages\\\" section. You will see an option called \\\"crypto\\\" with a checkbox next to it. Check this box to enable the Crypto module.\\n\\n5.Save the changes:\\nAt the bottom of the page, click \\\"Save\\\" to apply the changes.\\n\\nOnce you've followed these steps, the Crypto module should be activated for your self-hosted n8n instance. Make sure to save your changes and optionally restart your n8n instance for the changes to take effect.\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"f0951515-48cf-4c1b-82fd-960959a51bb7\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1873,300],\"parameters\":{\"width\":492,\"height\":961.061974298911,\"content\":\"## Performs an email search on your Icypeas account\\n\\n\\nThis node executes an HTTP request (POST) to search for an email address using Icypeas.\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n### You need to create credentials in the HTTP Request node :\\n\\n➔ In the Credential for Header Auth, click on - Create new Credential -.\\n➔ In the Name section, write “Authorization”\\n➔ In the Value section, select expression (located just above the field on the right when you hover on top of it) and write {{ $json.api.key + ':' + $json.api.signature }} .\\n➔ Then click on “Save” to save the changes.\\n\\n### To search for the email address :\\n\\n➔ go to the Body Parameters section,\\n➔ create a new parameter,\\n➔ enter \\\"lastname\\\" in the Name field.\\n➔ put the lastname of the person whose email you want.\\n\\n➔ go to the Body Parameters section,\\n➔ create a new parameter,\\n➔ enter \\\"firstname\\\" in the Name field.\\n➔ put the firstname of the person whose email you want.\\n\\n➔ go to the Body Parameters section,\\n➔ create a new parameter,\\n➔ enter \\\"domainOrCompany\\\" in the Name field.\\n➔ put the domain/company name of the person whose email you want.\\n\\n\\n\\nYou will find the result here : https://app.icypeas.com/bo/singlesearch?task=email-search\\n\"},\"typeVersion\":1},{\"id\":\"6d12e09f-143a-46f1-9790-512d4f10f51f\",\"name\":\"Authenticates to your Icypeas account\",\"type\":\"n8n-nodes-base.code\",\"position\":[1560,480],\"parameters\":{\"jsCode\":\"const BASE_URL = \\\"https://app.icypeas.com\\\";\\nconst PATH = \\\"/api/domain-search\\\";\\nconst METHOD = \\\"POST\\\";\\n\\n// Change here\\nconst API_KEY = \\\"PUT_API_KEY_HERE\\\";\\nconst API_SECRET = \\\"PUT_API_SECRET_HERE\\\";\\nconst USER_ID = \\\"PUT_USER_ID_HERE\\\";\\n////////////////\\n\\nconst genSignature = (\\n    path,\\n    method,\\n    secret,\\n    timestamp = new Date().toISOString()\\n) => {\\n    const Crypto = require('crypto');\\n    const payload = `${method}${path}${timestamp}`.toLowerCase();\\n    const sign = Crypto.createHmac(\\\"sha1\\\", secret).update(payload).digest(\\\"hex\\\");\\n\\n    return sign;\\n};\\n\\nconst fullPath = `${BASE_URL}${PATH}`;\\n$input.first().json.api = {\\n  timestamp: new Date().toISOString(),\\n  secret: API_SECRET,\\n  key: API_KEY,\\n  userId: USER_ID,\\n  url: fullPath,\\n};\\n$input.first().json.api.signature = genSignature(PATH, METHOD, API_SECRET, $input.first().json.api.timestamp);\\nreturn $input.first();\"},\"typeVersion\":1},{\"id\":\"5f62f87f-7a25-4030-bcd4-d87b24269504\",\"name\":\"Run email search (single)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1940,480],\"parameters\":{\"url\":\"={{ $json.api.url }}\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"lastname\",\"value\":\"=Landoin\"},{\"name\":\"firstname\",\"value\":\"Pierre\"},{\"name\":\"domainOrCompany\",\"value\":\"icypeas\"}]},\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-ROCK-TIMESTAMP\",\"value\":\"={{ $json.api.timestamp }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"KGXtUrqC6lNLwW2w\",\"name\":\"Header Auth account\"}},\"typeVersion\":4.1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"34ee6b2d-673e-4d5d-a0b2-7c7a4af14d3c\",\"connections\":{\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Authenticates to your Icypeas account\",\"type\":\"main\",\"index\":0}]]},\"Authenticates to your Icypeas account\":{\"main\":[[{\"node\":\"Run email search (single)\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This template can be used to search for an email address with [Icypeas](https://www.icypeas.com/). Be sure to have an active account to use this template.\n\n**How it works**  \nThis workflow can be divided into three steps :\n\n  1. The workflow initiates with a manual trigger (On clicking 'execute').\n  2. It connects to your Icypeas account.\n  3. It performs an HTTP request to search for an email address.\n\n\n\n**Set up steps**\n\n  1. You will need a working icypeas account to run the workflow and get your API Key, API Secret and User ID.\n  2. You will need a personn firstname, lastname and domain/company name to perform the search.\n\n\n",
  "crawled_at": "2025-05-25T20:35:34.558199",
  "readme_zh": "此模板可用于通过[Icypeas](https://www.icypeas.com/)搜索电子邮件地址。使用前请确保拥有有效账户。\n\n**工作原理**  \n该工作流程可分为三个步骤：\n\n1. 工作流通过手动触发启动（点击\"执行\"按钮时）；\n2. 连接至您的Icypeas账户；\n3. 执行HTTP请求进行邮箱地址搜索。\n\n**配置步骤**\n\n1. 需要有效的Icypeas账户以运行工作流，并获取API密钥、API密钥密码和用户ID；\n2. 需提供被查询人的姓氏、名字及域名/公司名称才能执行搜索。",
  "title_zh": "使用Icypeas（单次）进行邮件搜索",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\n  \"id\": \"zAkPoRdcG5M5x4KT\",\n  \"meta\": {\n    \"instanceId\": \"a897062ac3223eacd9c7736276b653c446bc776a63cde2a42a2949ad984f7092\"\n  },\n  \"name\": \"Perform an email search with Icypeas (single)\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"7bd55522-62dd-40da-939d-e10c185dd44d\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        1220,\n        480\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"422bb377-afe7-4332-a134-15af150e8006\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1060,\n        220\n      ],\n      \"parameters\": {\n        \"height\": 243.6494382022472,\n        \"content\": \"## 使用Icypeas进行邮箱搜索（单次）\\n\\n本工作流程演示了如何利用Icypeas进行邮箱搜索。访问https://icypeas.com 创建您的账户。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a95bd610-e5e3-4343-afcc-4af22dca1f8f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1367,\n        296\n      ],\n      \"parameters\": {\n        \"width\": 506,\n        \"height\": 1042.9602832148855,\n        \"content\": \"## 验证您的Icypeas账户\\n\\n此代码节点通过您的API密钥、API密钥密文及用户ID与您的Icypeas账户建立连接。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f0951515-48cf-4c1b-82fd-960959a51bb7\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1873,\n        300\n      ],\n      \"parameters\": {\n        \"width\": 492,\n        \"height\": 961.061974298911,\n        \"content\": \"## 在您的Icypeas账户上执行电子邮件搜索\\n\\n\\n此节点通过HTTP请求（POST方式）利用Icypeas搜索电子邮件地址。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6d12e09f-143a-46f1-9790-512d4f10f51f\",\n      \"name\": \"Authenticates to your Icypeas account\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1560,\n        480\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const BASE_URL = \\\"https://app.icypeas.com\\\";\\nconst PATH = \\\"/api/domain-search\\\";\\nconst METHOD = \\\"POST\\\";\\n\\n// Change here\\nconst API_KEY = \\\"PUT_API_KEY_HERE\\\";\\nconst API_SECRET = \\\"PUT_API_SECRET_HERE\\\";\\nconst USER_ID = \\\"PUT_USER_ID_HERE\\\";\\n////////////////\\n\\nconst genSignature = (\\n    path,\\n    method,\\n    secret,\\n    timestamp = new Date().toISOString()\\n) => {\\n    const Crypto = require('crypto');\\n    const payload = `${method}${path}${timestamp}`.toLowerCase();\\n    const sign = Crypto.createHmac(\\\"sha1\\\", secret).update(payload).digest(\\\"hex\\\");\\n\\n    return sign;\\n};\\n\\nconst fullPath = `${BASE_URL}${PATH}`;\\n$input.first().json.api = {\\n  timestamp: new Date().toISOString(),\\n  secret: API_SECRET,\\n  key: API_KEY,\\n  userId: USER_ID,\\n  url: fullPath,\\n};\\n$input.first().json.api.signature = genSignature(PATH, METHOD, API_SECRET, $input.first().json.api.timestamp);\\nreturn $input.first();\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5f62f87f-7a25-4030-bcd4-d87b24269504\",\n      \"name\": \"Run email search (single)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1940,\n        480\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.api.url }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"lastname\",\n              \"value\": \"=Landoin\"\n            },\n            {\n              \"name\": \"firstname\",\n              \"value\": \"Pierre\"\n            },\n            {\n              \"name\": \"domainOrCompany\",\n              \"value\": \"icypeas\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-ROCK-TIMESTAMP\",\n              \"value\": \"={{ $json.api.timestamp }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"KGXtUrqC6lNLwW2w\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"34ee6b2d-673e-4d5d-a0b2-7c7a4af14d3c\",\n  \"connections\": {\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Authenticates to your Icypeas account\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Authenticates to your Icypeas account\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Run email search (single)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}