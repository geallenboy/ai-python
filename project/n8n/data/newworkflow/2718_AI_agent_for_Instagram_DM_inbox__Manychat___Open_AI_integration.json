{
  "url": "https://n8n.io/workflows/2718-ai-agent-for-instagram-dminbox-manychat-open-ai-integration/",
  "title": "AI agent for Instagram DM/inbox. Manychat + Open AI integration",
  "author": "Alex Hi no code",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "2025-01-26",
  "categories": [
    {
      "name": "AI"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"qww129cm4TM9N8Ru\",\"meta\":{\"instanceId\":\"038da3428bba4563b42be267feeca21b4922693db254331ac640a5c56ee7cadf\",\"templateCredsSetupCompleted\":true},\"name\":\"InstaTest\",\"tags\":[{\"id\":\"8PlqXsDyqVlHJ7RC\",\"name\":\"AI\",\"createdAt\":\"2024-07-10T14:12:10.657Z\",\"updatedAt\":\"2024-07-10T14:12:10.657Z\"}],\"nodes\":[{\"id\":\"51dcaa84-d1f9-4abc-aebc-24a06801e42d\",\"name\":\"Set your system promt for AI\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"In this node in \\\"prompt\\\" variable you can set your system prompt\",\"position\":[1120,620],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0b3c3d71-5627-4b8c-91f0-ac44eaedf196\",\"name\":\"prompt\",\"type\":\"string\",\"value\":\"=Persona: You are a instagram influencer.\\nContext: You receive a messages from your subscribers\\nTask: Answer questions in your writing style and patterns according to your previous posts text. Use your post only for style and patterns reference.\\nStyle rules:\\nsimple answers\"},{\"id\":\"c2a9e272-5c0d-4685-ad0e-ce6995f92a1c\",\"name\":\"sessionId\",\"type\":\"string\",\"value\":\"={{ $json.body.session_id }}\"},{\"id\":\"b3c20ee3-07a1-4584-b0d9-7310a2c6b723\",\"name\":\"chatInput\",\"type\":\"string\",\"value\":\"={{ $json.body.text }}\"}]}},\"typeVersion\":3.3},{\"id\":\"0fb36573-d632-4403-8809-3973f9caa32a\",\"name\":\"Local n8n memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[1500,780],\"parameters\":{\"sessionKey\":\"={{ $('Set your system promt for AI').last().json.sessionId }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":20},\"typeVersion\":1.3},{\"id\":\"2f0471a7-2a84-41ce-aab1-896d5ea95ac3\",\"name\":\"ChatGPT model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1360,780],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"HxWZhtJcnqTXVHAA\",\"name\":\"General\"}},\"typeVersion\":1},{\"id\":\"49abc3a3-faf9-4249-b874-908138a84aea\",\"name\":\"Send respond \",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1720,620],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"49382508-9307-4ffa-8b31-78fac3a7db10\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[320,360],\"parameters\":{\"color\":5,\"width\":458.4028599661066,\"height\":447.98321744507007,\"content\":\"## Easy Instagram(via ManyChat) bot\\n---\\n### Description:\\nThis template is a main part of Entire solution. It's getting new message from Instagram via ManyChat(Extra No-Code tool for getting and sending message in Instagram). Generating message using ChatGPT and send back to ManyChat that sends it to Instagrtam.\\n\\n### Logic:\\n1. Getting message from Instagram(from ManyChat)\\n2. Set you system prompt for AI\\n3. Create simple answer for message in AI block\\n4. Send answer to Instagram(to ManyChat)\\n\\n---\\n*Helpful links:*\\n- [Guide in Notion how to create full bot](https://shadowed-pound-d6e.notion.site/Instagram-GPT-light-version-Manychat-X-N8N-176293bddff880899a9ac255585d29f7?pvs=4)\\n- [ManyChat](https://manychat.partnerlinks.io/vm4wkw8j81tc)\"},\"typeVersion\":1},{\"id\":\"5d14544c-7039-435f-a53c-615b5722bb99\",\"name\":\"Getting message from Instagram\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[900,620],\"webhookId\":\"68d3fbc9-6e49-4bdc-851c-2a532be911ab\",\"parameters\":{\"path\":\"instagram_chat\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"3770f558-341b-4d67-a7f0-0bb2fecf51a3\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,300],\"parameters\":{\"width\":313.9634922216307,\"height\":614.7475040550845,\"content\":\"## 3) AI block\\n---\\nThere is 3 nodes:\\n- AI Agent\\n- Chat GPT model\\n- Memory for history messages\\n\\n### To do:\\n- in ChatGPT node you can choose the best model for you\\n- in Memory Block you can change number of messages in history\\n\\n\"},\"typeVersion\":1},{\"id\":\"cbb6c5a2-9b96-4305-afce-5ac560ae2dec\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1340,620],\"parameters\":{\"text\":\"={{ $json.chatInput }}\",\"options\":{\"systemMessage\":\"={{ $json.prompt }}\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"4e28119f-b1aa-4b20-a8ed-28bd137f9627\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,360],\"parameters\":{\"height\":440,\"content\":\"## 1) HTTP Post webhook\\n\\n**To do:**\\nJust copy production link from this node and insert to custom action in ManyChat\\n\\nNo edits needed\"},\"typeVersion\":1},{\"id\":\"b18a8890-b420-4086-91c8-8edbc845c8af\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,480],\"parameters\":{\"width\":220,\"height\":320,\"content\":\"## 2) Edit prompt\\n\\n**To do:**\\nGo inside and change input\\n\"},\"typeVersion\":1},{\"id\":\"74d4e6f5-069e-4b37-8005-8c03226b05df\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1660,480],\"parameters\":{\"height\":300,\"content\":\"## 4) Respond webhook\\n\\nNo edits needed\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"2f36fc7a-0a69-4af3-a958-25e9d278f058\",\"connections\":{\"AI Agent\":{\"main\":[[{\"node\":\"Send respond \",\"type\":\"main\",\"index\":0}]]},\"ChatGPT model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Local n8n memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Set your system promt for AI\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Getting message from Instagram\":{\"main\":[[{\"node\":\"Set your system promt for AI\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Automate Instagram DMs with OpenAI GPT and ManyChat\n\n### How It Works:\n\nOnce connected, GPT will automatically initiate conversations with messages from new recipients in Intagram.\n\n## Who Is This For?\n\nThis workflow is ideal for\n\n  * marketers,\n  * business owners\n  * content creators\n\n\n\nwho want to automatically respond to Instagram direct messages using OpenAI GPT.\n\nBy integrating ManyChat, you can manage conversations, nurture leads, and provide instant replies at scale.\n\n## What This Workflow Does\n\n  * **Captures** incoming Instagram DMs through ManyChat’s integration.\n  * **Processes** messages with GPT to generate a relevant response.\n  * **Delivers** instant replies back to Instagram users, creating efficient, AI-driven communication.\n\n\n\n## Setup\n\n  1. **Import the Template** : Copy the n8n workflow into your workspace.\n  2. **OpenAI Credentials** : Add your OpenAI API key in n8n so GPT can generate responses.\n  3. **ManyChat Account** : Create (or log in to) your ManyChat account.\n  4. **Connect Instagram** : Link your Instagram profile as a channel in ManyChat.\n  5. **ManyChat Custom Field** : Create a custom field for storing user input or conversation context.\n  6. **Configure Default Reply** : In ManyChat, set up the default Instagram reply flow to point to your n8n webhook.\n  7. **Add External Request** : Create an external request step in ManyChat to send messages to n8n.\n  8. **Test the Flow** : Send yourself a DM on Instagram to confirm the workflow triggers and GPT responds correctly.\n\n\n\n## Instructions and links:\n\n[Notion instruction](https://shadowed-pound-d6e.notion.site/Instagram-GPT-light-version-Manychat-X-N8N-176293bddff880899a9ac255585d29f7?pvs=4)\n\n[Register in ManyChat](https://manychat.partnerlinks.io/vm4wkw8j81tc)\n",
  "crawled_at": "2025-05-26T01:48:12.047377",
  "readme_zh": "## 利用OpenAI GPT与ManyChat实现Instagram私信自动化\n\n### 运作原理：\n\n连接完成后，GPT将自动通过Instagram新消息发起对话。\n\n## 适用对象：\n\n本工作流特别适合以下人群：\n  * 市场营销人员\n  * 企业主\n  * 内容创作者\n\n这些用户希望通过OpenAI GPT自动回复Instagram直接消息。通过集成ManyChat，您可以规模化地管理对话、培育潜在客户并提供即时回复。\n\n## 工作流功能：\n\n  * **捕获**：通过ManyChat集成接收Instagram私信\n  * **处理**：使用GPT生成相关回复内容\n  * **传递**：将即时回复返回给Instagram用户，建立高效的AI驱动沟通\n\n## 设置步骤：\n\n  1. **导入模板**：将n8n工作流复制到您的工作区\n  2. **OpenAI凭证**：在n8n中添加您的OpenAI API密钥\n  3. **ManyChat账户**：创建（或登录）您的ManyChat账户\n  4. **连接Instagram**：在ManyChat中将Instagram个人资料关联为渠道\n  5. **ManyChat自定义字段**：创建用于存储用户输入或对话上下文的字段\n  6. **配置默认回复**：在ManyChat中设置默认Instagram回复流程指向您的n8n webhook\n  7. **添加外部请求**：在ManyChat创建外部请求步骤以发送消息至n8n\n  8. **测试流程**：给自己发送Instagram私信以确认工作流触发及GPT响应正常\n\n## 操作指南与链接：\n\n[Notion操作手册](https://shadowed-pound-d6e.notion.site/Instagram-GPT-light-version-Manychat-X-N8N-176293bddff880899a9ac255585d29f7?pvs=4)\n\n[ManyChat注册](https://manychat.partnerlinks.io/vm4wkw8j81tc)",
  "title_zh": "Instagram私信/收件箱的AI代理。Manychat与Open AI的集成",
  "publish_date_zh": "最后更新于4个月前",
  "workflow_json_zh": "{\"id\":\"qww129cm4TM9N8Ru\",\"meta\":{\"instanceId\":\"038da3428bba4563b42be267feeca21b4922693db254331ac640a5c56ee7cadf\",\"templateCredsSetupCompleted\":true},\"name\":\"InstaTest\",\"tags\":[{\"id\":\"8PlqXsDyqVlHJ7RC\",\"name\":\"AI\",\"createdAt\":\"2024-07-10T14:12:10.657Z\",\"updatedAt\":\"2024-07-10T14:12:10.657Z\"}],\"nodes\":[{\"id\":\"51dcaa84-d1f9-4abc-aebc-24a06801e42d\",\"name\":\"Set your system promt for AI\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"In this node in \\\"prompt\\\" variable you can set your system prompt\",\"position\":[1120,620],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0b3c3d71-5627-4b8c-91f0-ac44eaedf196\",\"name\":\"prompt\",\"type\":\"string\",\"value\":\"=Persona: You are a instagram influencer.\\nContext: You receive a messages from your subscribers\\nTask: Answer questions in your writing style and patterns according to your previous posts text. Use your post only for style and patterns reference.\\nStyle rules:\\nsimple answers\"},{\"id\":\"c2a9e272-5c0d-4685-ad0e-ce6995f92a1c\",\"name\":\"sessionId\",\"type\":\"string\",\"value\":\"={{ $json.body.session_id }}\"},{\"id\":\"b3c20ee3-07a1-4584-b0d9-7310a2c6b723\",\"name\":\"chatInput\",\"type\":\"string\",\"value\":\"={{ $json.body.text }}\"}]}},\"typeVersion\":3.3},{\"id\":\"0fb36573-d632-4403-8809-3973f9caa32a\",\"name\":\"Local n8n memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[1500,780],\"parameters\":{\"sessionKey\":\"={{ $('Set your system promt for AI').last().json.sessionId }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":20},\"typeVersion\":1.3},{\"id\":\"2f0471a7-2a84-41ce-aab1-896d5ea95ac3\",\"name\":\"ChatGPT model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1360,780],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"HxWZhtJcnqTXVHAA\",\"name\":\"General\"}},\"typeVersion\":1},{\"id\":\"49abc3a3-faf9-4249-b874-908138a84aea\",\"name\":\"Send respond \",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1720,620],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"49382508-9307-4ffa-8b31-78fac3a7db10\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[320,360],\"parameters\":{\"color\":5,\"width\":458.4028599661066,\"height\":447.98321744507007,\"content\":\"## 简易Instagram（通过ManyChat）机器人\\n---\\n### 描述：\\n该模板是整套解决方案的核心部分。它通过ManyChat（一个无需代码即可收发Instagram消息的额外工具）获取来自Instagram的新消息，利用ChatGPT生成回复内容，并返回给ManyChat由其发送至Instagram。\\n\\n### 运行逻辑：\\n1. 从Instagram（经ManyChat）获取消息\\n2. 为AI设置系统提示词\\n3. 在AI模块中生成简易回复\\n4. 将回复发送至Instagram（通过ManyChat）\\n\\n---\\n*实用链接：*\\n- [Notion平台完整搭建指南](https://shadowed-pound-d6e.notion.site/Instagram-GPT-light-version-Manychat-X-N8N-176293bddff880899a9ac255585d29f7?pvs=4)\\n- [ManyChat官网](https://manychat.partnerlinks.io/vm4wkw8j81tc)\"},\"typeVersion\":1},{\"id\":\"5d14544c-7039-435f-a53c-615b5722bb99\",\"name\":\"Getting message from Instagram\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[900,620],\"webhookId\":\"68d3fbc9-6e49-4bdc-851c-2a532be911ab\",\"parameters\":{\"path\":\"instagram_chat\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"3770f558-341b-4d67-a7f0-0bb2fecf51a3\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,300],\"parameters\":{\"width\":313.9634922216307,\"height\":614.7475040550845,\"content\":\"## 3) AI模块\\n---\\n包含三个节点：\\n- AI智能体\\n- 聊天GPT模型\\n- 历史消息存储器\\n\\n### 功能说明：\\n- 在ChatGPT节点可选择最适合的模型\\n- 在记忆存储模块可调整历史消息的存储数量\"},\"typeVersion\":1},{\"id\":\"cbb6c5a2-9b96-4305-afce-5ac560ae2dec\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1340,620],\"parameters\":{\"text\":\"={{ $json.chatInput }}\",\"options\":{\"systemMessage\":\"={{ $json.prompt }}\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"4e28119f-b1aa-4b20-a8ed-28bd137f9627\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,360],\"parameters\":{\"height\":440,\"content\":\"## 1) HTTP Post 网络钩子\\n\\n**操作步骤：**\\n只需从该节点复制生产环境链接，并粘贴到ManyChat的自定义动作中\\n\\n无需任何修改\"},\"typeVersion\":1},{\"id\":\"b18a8890-b420-4086-91c8-8edbc845c8af\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,480],\"parameters\":{\"width\":220,\"height\":320,\"content\":\"## 2) 编辑提示\\n\\n**待办事项：**\\n进入并修改输入内容\"},\"typeVersion\":1},{\"id\":\"74d4e6f5-069e-4b37-8005-8c03226b05df\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1660,480],\"parameters\":{\"height\":300,\"content\":\"## 4) 响应webhook\\n\\n无需修改\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"2f36fc7a-0a69-4af3-a958-25e9d278f058\",\"connections\":{\"AI Agent\":{\"main\":[[{\"node\":\"Send respond \",\"type\":\"main\",\"index\":0}]]},\"ChatGPT model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Local n8n memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Set your system promt for AI\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Getting message from Instagram\":{\"main\":[[{\"node\":\"Set your system promt for AI\",\"type\":\"main\",\"index\":0}]]}}}"
}