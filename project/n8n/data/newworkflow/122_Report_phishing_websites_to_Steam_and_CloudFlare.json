{
  "url": "https://n8n.io/workflows/122-report-phishing-websites-to-steam-and-cloudflare/",
  "title": "Report phishing websites to Steam and CloudFlare",
  "author": "chaufnet",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "SecOps"
    }
  ],
  "workflow_json": "{\"name\":\"Steam + CF Report\",\"nodes\":[{\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[110,200],\"parameters\":{\"path\":\"steam\",\"responseData\":\"allEntries\",\"responseMode\":\"lastNode\",\"authentication\":\"basicAuth\"},\"credentials\":{\"httpBasicAuth\":\"credentials\"},\"retryOnFail\":false,\"typeVersion\":1},{\"name\":\"Add bind-tools\",\"type\":\"n8n-nodes-base.executeCommand\",\"color\":\"#FF8000\",\"notes\":\"Install bind-tools\",\"position\":[480,180],\"parameters\":{\"command\":\"=which dig || apk add bind-tools\"},\"retryOnFail\":true,\"typeVersion\":1,\"continueOnFail\":true,\"waitBetweenTries\":1000},{\"name\":\"dig check CF\",\"type\":\"n8n-nodes-base.executeCommand\",\"color\":\"#FF8000\",\"notes\":\"Install bind-tools\",\"position\":[1300,-50],\"parameters\":{\"command\":\"=dig NS  {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} +short | grep cloudflare.com.$ | wc -l\"},\"retryOnFail\":true,\"typeVersion\":1,\"continueOnFail\":true,\"waitBetweenTries\":1000},{\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1550,-50],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"= {{$node[\\\"dig check CF\\\"].data[\\\"stdout\\\"]}}\",\"operation\":\"larger\"}]}},\"typeVersion\":1},{\"name\":\"Mail CloudFlare\",\"type\":\"n8n-nodes-base.mailgun\",\"position\":[1830,160],\"parameters\":{\"text\":\"=Hello,\\n\\nI am emailing you to let you know about a Steam phishing website on your network: {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}.\\n\\nThank you,\\nYour Name Here\",\"ccEmail\":\"yourCCemail\",\"subject\":\"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} - Steam Phishing Website on your network\",\"toEmail\":\"security@cloudflare.com\",\"fromEmail\":\"yourFROMemail\"},\"credentials\":{\"mailgunApi\":\"Mailgun\"},\"typeVersion\":1},{\"name\":\"Mail Steam\",\"type\":\"n8n-nodes-base.mailgun\",\"position\":[1830,340],\"parameters\":{\"text\":\"=Hello,\\n\\nI am emailing you to let you know about a Steam phishing website: {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}.\\n\\nThank you,\\nYour Name Here\",\"ccEmail\":\"yourCCemail\",\"subject\":\"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} - Steam Phishing Website\",\"toEmail\":\"security@valvesoftware.com\",\"fromEmail\":\"yourFROMemail\"},\"credentials\":{\"mailgunApi\":\"Mailgun\"},\"typeVersion\":1},{\"name\":\"dig check if domain is valid\",\"type\":\"n8n-nodes-base.executeCommand\",\"color\":\"#FF8000\",\"notes\":\"Install bind-tools\",\"position\":[720,180],\"parameters\":{\"command\":\"=dig NS  {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} +short | wc -l\"},\"retryOnFail\":true,\"typeVersion\":1,\"continueOnFail\":true,\"waitBetweenTries\":1000},{\"name\":\"If it has nameservers\",\"type\":\"n8n-nodes-base.if\",\"position\":[970,180],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"= {{$node[\\\"dig check if domain is valid\\\"].data[\\\"stdout\\\"]}}\",\"operation\":\"larger\"}]}},\"typeVersion\":1},{\"name\":\"IF1\",\"type\":\"n8n-nodes-base.if\",\"position\":[270,200],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}\",\"value2\":\"/^[a-zA-Z0-9-_.]+$/\",\"operation\":\"regex\"}]}},\"typeVersion\":1}],\"active\":false,\"settings\":{},\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Mail CloudFlare\",\"type\":\"main\",\"index\":0}]]},\"IF1\":{\"main\":[[{\"node\":\"Add bind-tools\",\"type\":\"main\",\"index\":0}]]},\"Webhook\":{\"main\":[[{\"node\":\"IF1\",\"type\":\"main\",\"index\":0}]]},\"dig check CF\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Add bind-tools\":{\"main\":[[{\"node\":\"dig check if domain is valid\",\"type\":\"main\",\"index\":0}]]},\"If it has nameservers\":{\"main\":[[{\"node\":\"dig check CF\",\"type\":\"main\",\"index\":0},{\"node\":\"Mail Steam\",\"type\":\"main\",\"index\":0}]]},\"dig check if domain is valid\":{\"main\":[[{\"node\":\"If it has nameservers\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Webhook to report through Mailgun phishing websites to Steam and CloudFlare (if the domain is on CloudFlare)\n\nYou have to set the Credentials for webhook and Mailgun.\n\nYou have to set the email from for Mailgun.\n\nThis assumes it is running in n8n's Docker image where bind-tools is not readily available but installable.\n",
  "crawled_at": "2025-05-25T17:58:00.870708",
  "readme_zh": "通过Mailgun向Steam和CloudFlare（若域名托管于CloudFlare）上报钓鱼网站的Webhook\n\n需配置Webhook凭证及Mailgun密钥\n\n需设置Mailgun的发件邮箱\n\n本功能默认运行于n8n的Docker镜像环境（该环境默认未安装bind-tools但支持手动安装）",
  "title_zh": "向Steam和CloudFlare举报钓鱼网站",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"name\": \"Steam + CF Report\",\n  \"nodes\": [\n    {\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        110,\n        200\n      ],\n      \"parameters\": {\n        \"path\": \"steam\",\n        \"responseData\": \"allEntries\",\n        \"responseMode\": \"lastNode\",\n        \"authentication\": \"basicAuth\"\n      },\n      \"credentials\": {\n        \"httpBasicAuth\": \"credentials\"\n      },\n      \"retryOnFail\": false,\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Add bind-tools\",\n      \"type\": \"n8n-nodes-base.executeCommand\",\n      \"color\": \"#FF8000\",\n      \"notes\": \"Install bind-tools\",\n      \"position\": [\n        480,\n        180\n      ],\n      \"parameters\": {\n        \"command\": \"=which dig || apk add bind-tools\"\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"continueOnFail\": true,\n      \"waitBetweenTries\": 1000\n    },\n    {\n      \"name\": \"dig check CF\",\n      \"type\": \"n8n-nodes-base.executeCommand\",\n      \"color\": \"#FF8000\",\n      \"notes\": \"Install bind-tools\",\n      \"position\": [\n        1300,\n        -50\n      ],\n      \"parameters\": {\n        \"command\": \"=dig NS  {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} +short | grep cloudflare.com.$ | wc -l\"\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"continueOnFail\": true,\n      \"waitBetweenTries\": 1000\n    },\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1550,\n        -50\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"= {{$node[\\\"dig check CF\\\"].data[\\\"stdout\\\"]}}\",\n              \"operation\": \"larger\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Mail CloudFlare\",\n      \"type\": \"n8n-nodes-base.mailgun\",\n      \"position\": [\n        1830,\n        160\n      ],\n      \"parameters\": {\n        \"text\": \"=Hello,\\n\\nI am emailing you to let you know about a Steam phishing website on your network: {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}.\\n\\nThank you,\\nYour Name Here\",\n        \"ccEmail\": \"yourCCemail\",\n        \"subject\": \"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} - Steam Phishing Website on your network\",\n        \"toEmail\": \"security@cloudflare.com\",\n        \"fromEmail\": \"yourFROMemail\"\n      },\n      \"credentials\": {\n        \"mailgunApi\": \"Mailgun\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Mail Steam\",\n      \"type\": \"n8n-nodes-base.mailgun\",\n      \"position\": [\n        1830,\n        340\n      ],\n      \"parameters\": {\n        \"text\": \"=Hello,\\n\\nI am emailing you to let you know about a Steam phishing website: {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}.\\n\\nThank you,\\nYour Name Here\",\n        \"ccEmail\": \"yourCCemail\",\n        \"subject\": \"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} - Steam Phishing Website\",\n        \"toEmail\": \"security@valvesoftware.com\",\n        \"fromEmail\": \"yourFROMemail\"\n      },\n      \"credentials\": {\n        \"mailgunApi\": \"Mailgun\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"dig check if domain is valid\",\n      \"type\": \"n8n-nodes-base.executeCommand\",\n      \"color\": \"#FF8000\",\n      \"notes\": \"Install bind-tools\",\n      \"position\": [\n        720,\n        180\n      ],\n      \"parameters\": {\n        \"command\": \"=dig NS  {{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}} +short | wc -l\"\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"continueOnFail\": true,\n      \"waitBetweenTries\": 1000\n    },\n    {\n      \"name\": \"If it has nameservers\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        970,\n        180\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"= {{$node[\\\"dig check if domain is valid\\\"].data[\\\"stdout\\\"]}}\",\n              \"operation\": \"larger\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"IF1\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        270,\n        200\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Webhook\\\"].data[\\\"query\\\"][\\\"q\\\"]}}\",\n              \"value2\": \"/^[a-zA-Z0-9-_.]+$/\",\n              \"operation\": \"regex\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mail CloudFlare\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add bind-tools\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"dig check CF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add bind-tools\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"dig check if domain is valid\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If it has nameservers\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"dig check CF\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Mail Steam\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"dig check if domain is valid\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If it has nameservers\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}