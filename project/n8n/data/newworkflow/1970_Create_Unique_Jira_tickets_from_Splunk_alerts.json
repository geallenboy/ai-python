{
  "url": "https://n8n.io/workflows/1970-create-unique-jira-tickets-from-splunk-alerts/",
  "title": "Create Unique Jira tickets from Splunk alerts",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "SecOps"
    }
  ],
  "workflow_json": "{\"id\":\"uD31xU0VYjogxWoY\",\"meta\":{\"instanceId\":\"03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8\"},\"name\":\"Create_Unique_Jira_tickets_from_Splunk_alerts\",\"tags\":[{\"id\":\"GCHVocImoXoEVnzP\",\"name\":\"🛠️ In progress\",\"createdAt\":\"2023-10-31T02:17:21.618Z\",\"updatedAt\":\"2023-10-31T02:17:21.618Z\"},{\"id\":\"QPJKatvLSxxtrE8U\",\"name\":\"Secops\",\"createdAt\":\"2023-10-31T02:15:11.396Z\",\"updatedAt\":\"2023-10-31T02:15:11.396Z\"}],\"nodes\":[{\"id\":\"3f9fa220-1966-4478-b7db-c39056564c9d\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-640,320],\"webhookId\":\"f2a52578-2fef-40a6-a7ff-e03f6b751a02\",\"parameters\":{\"path\":\"f2a52578-2fef-40a6-a7ff-e03f6b751a02\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1},{\"id\":\"375ac47e-7975-45cb-b7c1-cef1c7fca701\",\"name\":\"Add Ticket Comment\",\"type\":\"n8n-nodes-base.jira\",\"position\":[240,520],\"parameters\":{\"comment\":\"=Timestamp: {{ $('Set Host Name').item.json.body.timestamp }}\\nDescription: {{ $('Set Host Name').item.json.body.description }}\",\"options\":{},\"issueKey\":\"={{ $json.key }}\",\"resource\":\"issueComment\"},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"OYvpDV2Q42eY6iyA\",\"name\":\"Alex Jira Cloud\"}},\"typeVersion\":1},{\"id\":\"a5dea875-6adf-4d18-aeb9-5fe31a0ebfae\",\"name\":\"Search Ticket\",\"type\":\"n8n-nodes-base.jira\",\"position\":[-200,320],\"parameters\":{\"options\":{\"jql\":\"=splunkhostname ~ \\\"{{ $json['splunk-host-name'] }}\\\" \"},\"operation\":\"getAll\"},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"OYvpDV2Q42eY6iyA\",\"name\":\"Alex Jira Cloud\"}},\"typeVersion\":1,\"alwaysOutputData\":true},{\"id\":\"3dac410e-1e37-463d-9aba-bc6abf3889f7\",\"name\":\"Set Host Name\",\"type\":\"n8n-nodes-base.set\",\"position\":[-420,320],\"parameters\":{\"values\":{\"string\":[{\"name\":\"splunk-host-name\",\"value\":\"={{ $json.body.inputs.A.key['host.name'].replace(/[^a-zA-Z0-9 ]/g, '') }}\"}]},\"options\":{}},\"typeVersion\":2},{\"id\":\"465ec3b0-dd16-482e-b4b6-f8ed91fbb11b\",\"name\":\"IF Ticket Not Exists\",\"type\":\"n8n-nodes-base.if\",\"position\":[20,320],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.key }}\",\"operation\":\"isEmpty\"}]}},\"typeVersion\":1},{\"id\":\"1315b76b-39fc-4fd3-9a45-a91e5e873874\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1120,-26.960531840248223],\"parameters\":{\"width\":643.8620281403546,\"height\":537.944771288002,\"content\":\"![VirusTotal](https://i.imgur.com/spMd6AQ.png)\\n## Webhook Node \\nTo setup your webhook integration for Splunk, first ensure that splunk is setup to send alerts to a webhook by visiting the [Setup Guide here](https://docs.splunk.com/observability/en/admin/notif-services/webhook.html). You will copy the n8n webhook url opening the webhook node below. \\n- **Form Access URLs**:\\n  - **Execute Mode**: `https://n8n.domain.com/webhook/test/webhookpath` - Use this to execute the workflow interactively within the n8n canvas. Hit the 'Execute Workflow' button to see real-time execution results. We have pinned data in the webhook node to make testing easier. \\n  - **Silent Mode**: `https://n8n.domain.com/webhook/webhookpath` - Use this for background execution without canvas updates. Results will be logged silently and can be reviewed in the 'Executions' tab.\"},\"typeVersion\":1},{\"id\":\"636425b9-a11f-4891-aa00-2f3c42956c01\",\"name\":\"Create Ticket\",\"type\":\"n8n-nodes-base.jira\",\"position\":[240,160],\"parameters\":{\"project\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"10001\",\"cachedResultName\":\"Service Desk\"},\"summary\":\"=Splunk Alert for host {{ $('Set Host Name').item.json.body.inputs.A.key[\\\"host.name\\\"] }}:  {{ $('Set Host Name').item.json.body.description }}\",\"issueType\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"10004\",\"cachedResultName\":\"[System] Incident\"},\"additionalFields\":{\"description\":\"={{ $('Set Host Name').item.json.body.description }}\\n\\n{{ $('Set Host Name').item.json.body.messageBody }}\",\"customFieldsUi\":{\"customFieldsValues\":[{\"fieldId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"customfield_10063\"},\"fieldValue\":\"={{ $('Webhook').item.json[\\\"body\\\"][\\\"inputs\\\"][\\\"A\\\"][\\\"key\\\"][\\\"host.name\\\"].replace(/[^a-zA-Z0-9 ]/g, '') }}\"}]}}},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"OYvpDV2Q42eY6iyA\",\"name\":\"Alex Jira Cloud\"}},\"typeVersion\":1},{\"id\":\"47af8bdb-e0da-4923-8f0a-05deb86ac1b3\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,98.72468966845895],\"parameters\":{\"width\":401.99970102055784,\"height\":413.43480804607805,\"content\":\"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## Normalize Hostname \\nTo ensure no special characters are passed into jira and create issues, this set node removes special characters from the `splunk-host-name` and uses that to search and create tickets. This host name is saved as a custom field. \"},\"typeVersion\":1},{\"id\":\"c0bf09e6-ca08-4db6-aff0-a6528a8fb03b\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[180,-21.934709587377256],\"parameters\":{\"width\":401.99970102055784,\"height\":348.38243930996134,\"content\":\"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## Create a new ticket\\nThis creates a new ticket in your Prjoect and issue type. Ensure to update these values to ensure it works correctly. \"},\"typeVersion\":1},{\"id\":\"a175e343-83ed-4442-94df-7e7027b8c687\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[180,340],\"parameters\":{\"width\":401.99970102055784,\"height\":341.08777742613927,\"content\":\"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## Add Ticket Comment\\nThis adds the alert as a comment in the existing ticket, to ensure the data is not duplicated. \"},\"typeVersion\":1},{\"id\":\"09143b8c-a4ce-4791-8937-3333d24b6e01\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,100.50445897107033],\"parameters\":{\"width\":193.6032856277124,\"height\":415.27445353029793,\"content\":\"## Check if ticket found\\nThis checks `$json.key` to see if the value was found, and route accordingly.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{\"Webhook\":[{\"json\":{\"body\":{\"tip\":null,\"rule\":\"n8n-test\",\"inputs\":{\"A\":{\"key\":{\"os.type\":\"linux\",\"host.name\":\"n8n-enterprise-demo\",\"sf_metric\":\"cpu.utilization\"},\"value\":\"0.1670342357065173\",\"fragment\":\"data('cpu.utilization').publish(label='A')\"},\"_S2\":{\"value\":\"0.2\",\"fragment\":\"threshold(0.2)\"}},\"status\":\"ok\",\"detector\":\"n8n-test\",\"imageUrl\":\"https://static.eu0.signalfx.com/signed/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJjb20uc2lnbmFsZnguYXBwIiwiZXhwIjoxNjk0NjE0NjI2LCJpSWQiOiJGNVZBcTEwQUVBQSIsIm9JZCI6IkY1V0JKZ2lBSUFBIiwiYlQiOiJlbmQifQ.udzyF5-HqKyV_EMRmT51EtgECK9g-wanl8nx_MH0i9Q/async\",\"severity\":\"Critical\",\"eventType\":\"F5Vx1EuAAKc__F5V-TcTAEJ8__n8n-test\",\"sf_schema\":2,\"timestamp\":\"2023-09-06T14:17:00Z\",\"detectorId\":\"F5V-TcTAEJ8\",\"incidentId\":\"F5VAq10AEAA\",\"runbookUrl\":null,\"description\":\"The value of cpu.utilization is above 0.2.\",\"detectorUrl\":\"https://app.eu0.signalfx.com/#/detector/F5V-TcTAEJ8/edit?incidentId=F5VAq10AEAA&is=ok\",\"messageBody\":\"Rule \\\"n8n-test\\\" in detector \\\"n8n-test\\\" cleared at Wed, 6 Sep 2023 14:17:00 GMT.\\n\\nCurrent signal value for n8n.test: 0.1670342357065173\\n\\nSignal details:\\n{sf_metric=cpu.utilization, host.name=n8n-enterprise-demo, os.type=linux}\",\"messageTitle\":\"Back to normal: n8n-test (n8n-test)\",\"statusExtended\":\"ok\",\"detectOnCondition\":\"when(A > threshold(0.2))\",\"originatingMetric\":\"cpu.utilization\",\"triggeredWhileMuted\":false},\"query\":{},\"params\":{},\"headers\":{\"host\":\"internal.users.n8n.cloud\",\"x-real-ip\":\"10.255.0.2\",\"user-agent\":\"Apache-HttpClient/4.5.14 (Java/1.8.0_372)\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"1366\",\"accept-encoding\":\"gzip,deflate\",\"x-forwarded-for\":\"10.255.0.2\",\"x-forwarded-host\":\"internal.users.n8n.cloud\",\"x-forwarded-port\":\"443\",\"x-forwarded-proto\":\"https\",\"x-forwarded-server\":\"e591fa1c2d01\"}}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"3985cac2-7f23-4d27-b826-0edfb0544b58\",\"connections\":{\"Webhook\":{\"main\":[[{\"node\":\"Set Host Name\",\"type\":\"main\",\"index\":0}]]},\"Search Ticket\":{\"main\":[[{\"node\":\"IF Ticket Not Exists\",\"type\":\"main\",\"index\":0}]]},\"Set Host Name\":{\"main\":[[{\"node\":\"Search Ticket\",\"type\":\"main\",\"index\":0}]]},\"IF Ticket Not Exists\":{\"main\":[[{\"node\":\"Create Ticket\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Add Ticket Comment\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "The workflow is an automated process designed for incident management and tracking, specifically by integrating Splunk alerts with a Jira ticketing system using n8n. The initial step in the workflow is a Webhook Trigger, which is set up to receive POST requests with data from Splunk to initiate the workflow. Once the workflow is triggered, the \"Set Host Name\" node cleans up the hostname received from Splunk, ensuring that it is alphanumeric for consistency and security purposes.\n\nSubsequently, the \"Search Ticket\" node interacts with Jira through a Jira Query Language (JQL) request to locate any existing issues that match the sanitized hostname. The workflow splits at the \"IF Ticket Not Exists\" node, which checks for the presence of a key indicating a matching issue.\n\nIf an issue exists, the workflow proceeds to add a comment to the identified issue, and if not, it creates a new Jira issue. At the false path, the \"Add Ticket Comment\" node appends a new comment to the existing Jira issue, encapsulating details from the Splunk alert, such as the timestamp and the alert description.\n",
  "crawled_at": "2025-05-25T20:27:56.731402",
  "readme_zh": "该工作流是一个专为事件管理与追踪设计的自动化流程，通过n8n平台将Splunk告警系统与Jira工单系统集成实现。流程起始于Webhook触发器节点，该节点配置用于接收来自Splunk的POST请求数据以启动工作流。触发后，\"设置主机名\"节点会对Splunk传来的主机名进行标准化处理，确保其仅包含字母数字字符以保持格式统一与安全性。\n\n随后\"搜索工单\"节点通过Jira查询语言(JQL)向Jira发起请求，查询是否存在与处理后的主机名匹配的既有问题条目。工作流在\"IF工单不存在\"判断节点分叉，该节点通过检测返回结果中的关键字段判断匹配工单是否存在。\n\n若存在对应工单，流程将向该工单追加评论；若不存在则创建新Jira问题。在判断为假的分支路径中，\"添加工单评论\"节点会在现有Jira工单中添加包含Splunk告警详情（如时间戳和告警描述）的新评论。",
  "title_zh": "从Splunk警报创建独特的Jira工单",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"uD31xU0VYjogxWoY\",\n  \"meta\": {\n    \"instanceId\": \"03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8\"\n  },\n  \"name\": \"Create_Unique_Jira_tickets_from_Splunk_alerts\",\n  \"tags\": [\n    {\n      \"id\": \"GCHVocImoXoEVnzP\",\n      \"name\": \"🛠️ In progress\",\n      \"createdAt\": \"2023-10-31T02:17:21.618Z\",\n      \"updatedAt\": \"2023-10-31T02:17:21.618Z\"\n    },\n    {\n      \"id\": \"QPJKatvLSxxtrE8U\",\n      \"name\": \"Secops\",\n      \"createdAt\": \"2023-10-31T02:15:11.396Z\",\n      \"updatedAt\": \"2023-10-31T02:15:11.396Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"3f9fa220-1966-4478-b7db-c39056564c9d\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -640,\n        320\n      ],\n      \"webhookId\": \"f2a52578-2fef-40a6-a7ff-e03f6b751a02\",\n      \"parameters\": {\n        \"path\": \"f2a52578-2fef-40a6-a7ff-e03f6b751a02\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"375ac47e-7975-45cb-b7c1-cef1c7fca701\",\n      \"name\": \"Add Ticket Comment\",\n      \"type\": \"n8n-nodes-base.jira\",\n      \"position\": [\n        240,\n        520\n      ],\n      \"parameters\": {\n        \"comment\": \"=Timestamp: {{ $('Set Host Name').item.json.body.timestamp }}\\nDescription: {{ $('Set Host Name').item.json.body.description }}\",\n        \"options\": {},\n        \"issueKey\": \"={{ $json.key }}\",\n        \"resource\": \"issueComment\"\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"OYvpDV2Q42eY6iyA\",\n          \"name\": \"Alex Jira Cloud\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a5dea875-6adf-4d18-aeb9-5fe31a0ebfae\",\n      \"name\": \"Search Ticket\",\n      \"type\": \"n8n-nodes-base.jira\",\n      \"position\": [\n        -200,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"jql\": \"=splunkhostname ~ \\\"{{ $json['splunk-host-name'] }}\\\" \"\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"OYvpDV2Q42eY6iyA\",\n          \"name\": \"Alex Jira Cloud\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"3dac410e-1e37-463d-9aba-bc6abf3889f7\",\n      \"name\": \"Set Host Name\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -420,\n        320\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"splunk-host-name\",\n              \"value\": \"={{ $json.body.inputs.A.key['host.name'].replace(/[^a-zA-Z0-9 ]/g, '') }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"465ec3b0-dd16-482e-b4b6-f8ed91fbb11b\",\n      \"name\": \"IF Ticket Not Exists\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        20,\n        320\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.key }}\",\n              \"operation\": \"isEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1315b76b-39fc-4fd3-9a45-a91e5e873874\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1120,\n        -26.960531840248223\n      ],\n      \"parameters\": {\n        \"width\": 643.8620281403546,\n        \"height\": 537.944771288002,\n        \"content\": \"![VirusTotal](https://i.imgur.com/spMd6AQ.png)\\n## Webhook节点配置指南  \\n要为Splunk配置webhook集成，请首先确保Splunk已设置为向webhook发送警报，具体操作可查阅[此处的设置指南](https://docs.splunk.com/observability/en/admin/notif-services/webhook.html)。您需要复制下方webhook节点中显示的n8n webhook网址。  \\n- **访问URL说明**：  \\n  - **交互模式**：`https://n8n.domain.com/webhook/test/webhookpath` - 用于在n8n画布中交互式执行工作流。点击\\\"执行工作流\\\"按钮可查看实时执行结果。我们已在webhook节点中预置数据以便测试。  \\n  - **静默模式**：`https://n8n.domain.com/webhook/webhookpath` - 用于后台静默执行（不更新画布界面）。执行结果将自动记录，可在\\\"执行记录\\\"标签页中查看。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"636425b9-a11f-4891-aa00-2f3c42956c01\",\n      \"name\": \"Create Ticket\",\n      \"type\": \"n8n-nodes-base.jira\",\n      \"position\": [\n        240,\n        160\n      ],\n      \"parameters\": {\n        \"project\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"10001\",\n          \"cachedResultName\": \"Service Desk\"\n        },\n        \"summary\": \"=Splunk Alert for host {{ $('Set Host Name').item.json.body.inputs.A.key[\\\"host.name\\\"] }}:  {{ $('Set Host Name').item.json.body.description }}\",\n        \"issueType\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"10004\",\n          \"cachedResultName\": \"[System] Incident\"\n        },\n        \"additionalFields\": {\n          \"description\": \"={{ $('Set Host Name').item.json.body.description }}\\n\\n{{ $('Set Host Name').item.json.body.messageBody }}\",\n          \"customFieldsUi\": {\n            \"customFieldsValues\": [\n              {\n                \"fieldId\": {\n                  \"__rl\": true,\n                  \"mode\": \"id\",\n                  \"value\": \"customfield_10063\"\n                },\n                \"fieldValue\": \"={{ $('Webhook').item.json[\\\"body\\\"][\\\"inputs\\\"][\\\"A\\\"][\\\"key\\\"][\\\"host.name\\\"].replace(/[^a-zA-Z0-9 ]/g, '') }}\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"OYvpDV2Q42eY6iyA\",\n          \"name\": \"Alex Jira Cloud\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"47af8bdb-e0da-4923-8f0a-05deb86ac1b3\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        98.72468966845895\n      ],\n      \"parameters\": {\n        \"width\": 401.99970102055784,\n        \"height\": 413.43480804607805,\n        \"content\": \"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## 标准化主机名  \\n为确保传递至Jira系统的字符不含特殊符号从而避免问题生成，此设置节点会从`splunk-host-name`中移除特殊字符，并基于处理后的名称进行工单搜索与创建。该主机名将作为自定义字段保存。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0bf09e6-ca08-4db6-aff0-a6528a8fb03b\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        180,\n        -21.934709587377256\n      ],\n      \"parameters\": {\n        \"width\": 401.99970102055784,\n        \"height\": 348.38243930996134,\n        \"content\": \"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## 创建新工单\\n此操作将在您的项目和问题类型中创建新工单。请确保更新这些值以保证其正确运作。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a175e343-83ed-4442-94df-7e7027b8c687\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        180,\n        340\n      ],\n      \"parameters\": {\n        \"width\": 401.99970102055784,\n        \"height\": 341.08777742613927,\n        \"content\": \"![VirusTotal](https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Jira_%28Software%29_logo.svg/320px-Jira_%28Software%29_logo.svg.png)\\n## 添加工单评论\\n此操作将警报作为评论添加到现有工单中，以确保数据不会重复。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"09143b8c-a4ce-4791-8937-3333d24b6e01\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        100.50445897107033\n      ],\n      \"parameters\": {\n        \"width\": 193.6032856277124,\n        \"height\": 415.27445353029793,\n        \"content\": \"## 检查是否找到票证\\n此操作检查`$json.key`以确认是否找到对应值，并据此进行路由跳转。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"Webhook\": [\n      {\n        \"json\": {\n          \"body\": {\n            \"tip\": null,\n            \"rule\": \"n8n-test\",\n            \"inputs\": {\n              \"A\": {\n                \"key\": {\n                  \"os.type\": \"linux\",\n                  \"host.name\": \"n8n-enterprise-demo\",\n                  \"sf_metric\": \"cpu.utilization\"\n                },\n                \"value\": \"0.1670342357065173\",\n                \"fragment\": \"data('cpu.utilization').publish(label='A')\"\n              },\n              \"_S2\": {\n                \"value\": \"0.2\",\n                \"fragment\": \"threshold(0.2)\"\n              }\n            },\n            \"status\": \"ok\",\n            \"detector\": \"n8n-test\",\n            \"imageUrl\": \"https://static.eu0.signalfx.com/signed/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJjb20uc2lnbmFsZnguYXBwIiwiZXhwIjoxNjk0NjE0NjI2LCJpSWQiOiJGNVZBcTEwQUVBQSIsIm9JZCI6IkY1V0JKZ2lBSUFBIiwiYlQiOiJlbmQifQ.udzyF5-HqKyV_EMRmT51EtgECK9g-wanl8nx_MH0i9Q/async\",\n            \"severity\": \"Critical\",\n            \"eventType\": \"F5Vx1EuAAKc__F5V-TcTAEJ8__n8n-test\",\n            \"sf_schema\": 2,\n            \"timestamp\": \"2023-09-06T14:17:00Z\",\n            \"detectorId\": \"F5V-TcTAEJ8\",\n            \"incidentId\": \"F5VAq10AEAA\",\n            \"runbookUrl\": null,\n            \"description\": \"The value of cpu.utilization is above 0.2.\",\n            \"detectorUrl\": \"https://app.eu0.signalfx.com/#/detector/F5V-TcTAEJ8/edit?incidentId=F5VAq10AEAA&is=ok\",\n            \"messageBody\": \"Rule \\\"n8n-test\\\" in detector \\\"n8n-test\\\" cleared at Wed, 6 Sep 2023 14:17:00 GMT.\\n\\nCurrent signal value for n8n.test: 0.1670342357065173\\n\\nSignal details:\\n{sf_metric=cpu.utilization, host.name=n8n-enterprise-demo, os.type=linux}\",\n            \"messageTitle\": \"Back to normal: n8n-test (n8n-test)\",\n            \"statusExtended\": \"ok\",\n            \"detectOnCondition\": \"when(A > threshold(0.2))\",\n            \"originatingMetric\": \"cpu.utilization\",\n            \"triggeredWhileMuted\": false\n          },\n          \"query\": {},\n          \"params\": {},\n          \"headers\": {\n            \"host\": \"internal.users.n8n.cloud\",\n            \"x-real-ip\": \"10.255.0.2\",\n            \"user-agent\": \"Apache-HttpClient/4.5.14 (Java/1.8.0_372)\",\n            \"content-type\": \"application/json; charset=utf-8\",\n            \"content-length\": \"1366\",\n            \"accept-encoding\": \"gzip,deflate\",\n            \"x-forwarded-for\": \"10.255.0.2\",\n            \"x-forwarded-host\": \"internal.users.n8n.cloud\",\n            \"x-forwarded-port\": \"443\",\n            \"x-forwarded-proto\": \"https\",\n            \"x-forwarded-server\": \"e591fa1c2d01\"\n          }\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"3985cac2-7f23-4d27-b826-0edfb0544b58\",\n  \"connections\": {\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Host Name\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search Ticket\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF Ticket Not Exists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Host Name\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search Ticket\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF Ticket Not Exists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Ticket\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add Ticket Comment\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}