{
  "url": "https://n8n.io/workflows/2972-turn-bbc-news-articles-into-podcasts-using-hugging-face-and-google-gemini/",
  "title": "Turn BBC News Articles into Podcasts using Hugging Face and Google Gemini",
  "author": "Onur",
  "publish_date": "Last update 3 months ago",
  "publish_date_absolute": "2025-02-26",
  "categories": [
    {
      "name": "AI"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"5287ddd2fa569cf8e4c5a724666246a45305c032a19bb677c9e4b963d365f84b\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"95c798a4-bc34-4219-b7c3-6b4a4070886b\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-320,1080],\"parameters\":{},\"typeVersion\":1},{\"id\":\"09987590-1ec2-48d4-aa04-32b85addd9e6\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[420,1080],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"newsTitle\"},\"typeVersion\":1},{\"id\":\"758e3f60-01dc-46c7-bb53-7460eaed92e3\",\"name\":\"Extract News Block\",\"type\":\"n8n-nodes-base.html\",\"position\":[220,1080],\"parameters\":{\"options\":{},\"operation\":\"extractHtmlContent\",\"extractionValues\":{\"values\":[{\"key\":\"newsTitle\",\"cssSelector\":\".eGcloy\",\"returnArray\":true,\"returnValue\":\"html\"}]}},\"typeVersion\":1.2},{\"id\":\"20440f9a-a40c-4419-af6d-383de041d078\",\"name\":\"Extract News Content\",\"type\":\"n8n-nodes-base.html\",\"position\":[600,1080],\"parameters\":{\"options\":{},\"operation\":\"extractHtmlContent\",\"dataPropertyName\":\"newsTitle\",\"extractionValues\":{\"values\":[{\"key\":\"title\",\"cssSelector\":\"h2\"},{\"key\":\"link\",\"attribute\":\"href\",\"cssSelector\":\"a\",\"returnValue\":\"attribute\"},{\"key\":\"description\",\"cssSelector\":\".kYtujW\"}]}},\"typeVersion\":1.2},{\"id\":\"47a50ada-127a-4037-8fe7-41c0caebb3de\",\"name\":\"Aggregate\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[2000,1060],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"33050a43-842d-464d-b227-a6c2c870c0af\",\"name\":\"Fetch BBC News Detail\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1400,1060],\"parameters\":{\"url\":\"=https://www.bbc.com{{ $json.link }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"646bfe6b-cac6-4177-9b59-dc205b44b7eb\",\"name\":\"Extract Detail\",\"type\":\"n8n-nodes-base.html\",\"position\":[1600,1060],\"parameters\":{\"options\":{},\"operation\":\"extractHtmlContent\",\"extractionValues\":{\"values\":[{\"key\":\"newsDetail\",\"cssSelector\":\".dlWCEZ .fYAfXe\",\"returnArray\":true}]}},\"typeVersion\":1.2},{\"id\":\"6e14f528-1e94-411f-8601-3c713d492aa9\",\"name\":\"Filter Empty Detail\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1800,1060],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"7066e88c-03da-4196-b1c5-80bc16fa3fc6\",\"operator\":{\"type\":\"array\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.newsDetail }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"5863e420-2392-468a-8e03-5d4c273168e0\",\"name\":\"If script exists\",\"type\":\"n8n-nodes-base.if\",\"position\":[2620,1060],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":1,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"2e968b41-88f7-4b28-9837-af50ae130979\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"=voice_id {{ $json.output.podcast_script }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"90b370d3-5712-401d-b769-490014e2b17c\",\"name\":\"Basic Podcast LLM Chain\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[2200,1060],\"parameters\":{\"text\":\"=News Articles:{{ $json.data.map(item => item.newsDetail) }}\",\"messages\":{\"messageValues\":[{\"message\":\"= \\n*Convert the following one or multiple news articles into a podcast script formatted for direct use in ElevenLabs. If there is only one news piece, transform it into a compelling and engaging narrative. If multiple news stories are provided, structure them like a news bulletin, presenting each piece sequentially with smooth transitions. Avoid a formal or dry tone; instead, use a natural, conversational, and warm style. The podcast should feel dynamic, engaging, and informative while maintaining a storytelling approach.*  \\n\\n- *Ensure the script is formatted as a single, continuous text block suitable for direct speech synthesis.*  \\n- *Start with an engaging introduction that sets the tone for the podcast.*  \\n- *Narrate each news story smoothly, with natural transitions between segments.*  \\n- *End with a closing statement that leaves the listener informed and engaged.*  \\n- *Output must be in JSON format, with the full script as a single string under the key `\\\"podcast_script\\\"`.*  \\n\\n---\\n\\n### **Input Format:**  \\n```json\\n{\\n  \\\"news_articles\\\": [\\n    {\\n      \\\"title\\\": \\\"First News Title\\\",\\n      \\\"content\\\": \\\"First news article content...\\\"\\n    },\\n    {\\n      \\\"title\\\": \\\"Second News Title\\\",\\n      \\\"content\\\": \\\"Second news article content...\\\"\\n    }\\n  ]\\n}\\n```\\n\\n---\\n\\nExpected JSON Output Format:\\n \\n{\\n  \\\"podcast_script\\\": \\\"Welcome to today's news podcast! We have some exciting stories lined up for you. Let's start with our first story. [First news article content rewritten in a conversational, engaging style]... Moving on to our next topic... [Second news article content rewritten dynamically]... That’s all for today’s news bulletin! Stay informed and see you next time.\\\"\\n}\\n\\n\\n \"}]},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.5},{\"id\":\"24c212c2-6d06-4fe1-841b-bc52a21060b1\",\"name\":\"Gemini\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1600,1600],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-pro-exp-02-05\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"5x46RlCURyTUmbGW\",\"name\":\"Google Gemini(PaLM) Api account 2\"}},\"typeVersion\":1},{\"id\":\"02e9f1ee-dc80-403c-8c19-0e6f918cf8ed\",\"name\":\"Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[2360,1280],\"parameters\":{\"jsonSchemaExample\":\"{\\n\\t\\\"podcast_script\\\": \\\"California\\\"\\n}\"},\"typeVersion\":1.2},{\"id\":\"395ddac7-b2a4-48c5-b2d3-d21078d29c54\",\"name\":\"News Classifier\",\"type\":\"@n8n/n8n-nodes-langchain.textClassifier\",\"position\":[980,1080],\"parameters\":{\"options\":{},\"inputText\":\"=I will only send the headline as input:\\n{{ $json.title }} {{ $json.description }}\",\"categories\":{\"categories\":[{\"category\":\"Suitable\",\"description\":\"=Role: News Content Suitability Assessor (Positive)\\n\\nTask: Determine if the given news headline is highly likely to be suitable for storytelling, focusing on positive and engaging aspects.\\n\\nCriteria (Focus on what makes it suitable):\\n\\nCuriosity and Interest: Does the headline present an event, discovery, or information that is likely to pique the curiosity of a broad audience? Does it have a \\\"wow\\\" factor or relate to a significant trend?\\n\\nStorytelling Potential: Does the headline lend itself well to narrative expansion? Could it be the start of an engaging story, a key point in a developing situation, or a surprising conclusion?\\n\\nPositive or Neutral Tone: Is the headline generally positive, neutral, or focused on solutions/progress? (Avoid headlines that primarily focus on conflict, negativity, or routine events).\\n\\nRelevance: Does the headline touch upon topics that are relevant to a wide audience, such as health, science, technology, interesting discoveries, or positive global events?\\n\\nOutput Format:\\n\\nHeadline: [Original news headline]\\n\\nSuitable: [Yes / No] (Only say \\\"Yes\\\" if strongly confident)\\n\\nReason (Brief): [Briefly explain why it's likely suitable, focusing on the positive aspects.]\\n\\nExample (for the LLM to learn from):\\n\\nHeadline: \\\"Scientists Discover New Species of Butterfly in Amazon Rainforest\\\"\\n\\nSuitable: Yes\\n\\nReason: Discovery, biodiversity, positive natural event, intriguing.\\n\\nHeadline: \\\"Stock Market Experiences Minor Fluctuations\\\"\\n\\nSuitable: No\\n\\nReason: Routine economic event, lacks general interest.\"},{\"category\":\"Not Suitable\",\"description\":\"=Role: News Content Filter (Negative)\\n\\nTask: Identify news headlines that are clearly unsuitable for storytelling due to negative content, lack of general interest, or ethical concerns.\\n\\nCriteria (Focus on what makes it unsuitable):\\n\\nNegative Content: Does the headline contain violence, crime, accidents, death, suffering, or other traumatic events?\\n\\nPolitical/Economic Routine: Does the headline focus on routine political announcements, standard economic reports (like minor market changes), or internal political disputes?\\n\\nDivisive or Harmful Content: Does the headline contain hate speech, discrimination, strong political bias, or potentially harmful misinformation?\\n\\nLack of General Interest: Is the headline highly niche, specific to a very small group, or about a topic unlikely to interest a broad audience?\\n\\nOutput Format:\\n\\nHeadline: [Original news headline]\\n\\nNot Suitable: [Yes / No] (Only say \\\"Yes\\\" if strongly confident)\\n\\nReason (Brief): [Briefly explain why it's clearly unsuitable.]\\n\\nExample (for the LLM to learn from):\\n\\nHeadline: \\\"Local Politician Announces Campaign Platform\\\"\\n\\nNot Suitable: Yes\\n\\nReason: Routine political event, lacks broad appeal.\\n\\nHeadline: \\\"Car Crash Results in Minor Injuries\\\"\\n\\nNot Suitable: Yes\\n\\nReason: Negative event (accident), though thankfully not severe.\"}]}},\"typeVersion\":1},{\"id\":\"13fac9ed-688c-4af9-a810-d49a74b98c22\",\"name\":\"Fetch BBC News Page\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-60,1080],\"parameters\":{\"url\":\"https://www.bbc.com/\",\"options\":{},\"responseFormat\":\"string\"},\"typeVersion\":1},{\"id\":\"e2aa33f3-aa7c-4a9d-ac3c-32f9f5872606\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-120,920],\"parameters\":{\"width\":500,\"height\":340,\"content\":\"## This node fetches the main BBC News page, which contains links to various news articles.\"},\"typeVersion\":1},{\"id\":\"0821b944-44cb-41ed-b5ff-70f99018c5dc\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[960,840],\"parameters\":{\"color\":2,\"width\":340,\"height\":360,\"content\":\"## This node uses a Gemini LLM to classify news articles based on their titles and descriptions. It determines if the content is suitable for a podcast.\\n\\n\"},\"typeVersion\":1},{\"id\":\"d32b2ebb-0a4d-4d27-9262-894ab7a65cce\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1360,820],\"parameters\":{\"color\":3,\"width\":400,\"height\":420,\"content\":\"## This node fetches the detailed content of the news articles that were classified as suitable for a podcast.\"},\"typeVersion\":1},{\"id\":\"e6e1d180-b2c2-4b62-a611-7c039037ed69\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2180,880],\"parameters\":{\"color\":4,\"width\":340,\"height\":320,\"content\":\"## This node uses a Gemini LLM to convert the news articles into a podcast script.\\n\"},\"typeVersion\":1},{\"id\":\"d8776355-967d-4875-b948-25792f6f38ec\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2840,920],\"parameters\":{\"color\":5,\"width\":360,\"height\":300,\"content\":\"##  It structures the script for direct use with the Hugging Face text-to-speech model.\"},\"typeVersion\":1},{\"id\":\"631a2caf-c640-41df-9215-2b542de51ccb\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-660,740],\"parameters\":{\"width\":460,\"height\":280,\"content\":\"## 3rd Party Application Requirements:\\n\\n### Gemini \\nYou've already set up a Gemini LLM. No access token is needed for this.\\n### Hugging Face\\n You'll need an access token for the Hugging Face text-to-speech model \\n\"},\"typeVersion\":1},{\"id\":\"655e6799-5b7c-4747-b3a9-d01b47f5cba8\",\"name\":\"Limit 10 Items\",\"type\":\"n8n-nodes-base.limit\",\"position\":[800,1080],\"parameters\":{\"maxItems\":10},\"typeVersion\":1},{\"id\":\"64d011d2-9c51-4f1f-a3b8-edf3fcbc6710\",\"name\":\"Hugging Face Text-to-Speech.\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2900,1060],\"parameters\":{\"url\":\"https://router.huggingface.co/hf-inference/models/facebook/mms-tts-eng\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"inputs\",\"value\":\"={{ $json.output.podcast_script }}\"}]},\"nodeCredentialType\":\"huggingFaceApi\"},\"credentials\":{\"huggingFaceApi\":{\"id\":\"FF4PO5RYOJqZ0vhQ\",\"name\":\"HuggingFaceApi account\"}},\"typeVersion\":4.2}],\"pinData\":{},\"connections\":{\"Gemini\":{\"ai_languageModel\":[[{\"node\":\"News Classifier\",\"type\":\"ai_languageModel\",\"index\":0},{\"node\":\"Basic Podcast LLM Chain\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Aggregate\":{\"main\":[[{\"node\":\"Basic Podcast LLM Chain\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Extract News Content\",\"type\":\"main\",\"index\":0}]]},\"Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Basic Podcast LLM Chain\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Extract Detail\":{\"main\":[[{\"node\":\"Filter Empty Detail\",\"type\":\"main\",\"index\":0}]]},\"Limit 10 Items\":{\"main\":[[{\"node\":\"News Classifier\",\"type\":\"main\",\"index\":0}]]},\"News Classifier\":{\"main\":[[{\"node\":\"Fetch BBC News Detail\",\"type\":\"main\",\"index\":0}]]},\"If script exists\":{\"main\":[[{\"node\":\"Hugging Face Text-to-Speech.\",\"type\":\"main\",\"index\":0}],[]]},\"Extract News Block\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"Fetch BBC News Page\":{\"main\":[[{\"node\":\"Extract News Block\",\"type\":\"main\",\"index\":0}]]},\"Filter Empty Detail\":{\"main\":[[{\"node\":\"Aggregate\",\"type\":\"main\",\"index\":0}]]},\"Extract News Content\":{\"main\":[[{\"node\":\"Limit 10 Items\",\"type\":\"main\",\"index\":0}]]},\"Fetch BBC News Detail\":{\"main\":[[{\"node\":\"Extract Detail\",\"type\":\"main\",\"index\":0}]]},\"Basic Podcast LLM Chain\":{\"main\":[[{\"node\":\"If script exists\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Fetch BBC News Page\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Turn BBC News Articles into Podcasts using Hugging Face and Google Gemini\n\nEffortlessly transform BBC news articles into engaging podcasts with this automated n8n workflow.\n\n## Who is this for?\n\nThis template is perfect for:\n\n  * **Content creators** who want to quickly produce podcasts from current events.\n  * **Students** looking for an efficient way to create audio content for projects or assignments.\n  * **Individuals** interested in generating their own podcasts without technical expertise.\n\n\n\n## Setup Information\n\n  1. **Install n8n:** If you haven't already, download and install n8n from [n8n.io](https://n8n.io/).\n  2. **Import the Workflow:** Copy the JSON code for this workflow and import it into your n8n instance.\n  3. **Configure Credentials:**\n     * **Gemini API:** Set up your Gemini API credentials in the workflow's LLM nodes.\n     * **Hugging Face Token:** Obtain an access token from Hugging Face and add it to the HTTP Request node for the text-to-speech model.\n  4. **Customize (Optional):**\n     * **Filtering Criteria:** Adjust the News Classifier node to fine-tune the selection of news articles based on your preferences.\n     * **Output Options:** Modify the workflow to save the generated audio file to a cloud storage service or publish it to a podcast hosting platform.\n\n\n\n## Prerequisites\n\n  * An active n8n instance.\n  * Basic understanding of n8n workflows (no coding required).\n  * API credentials for Gemini and a Hugging Face account with an access token.\n\n\n\n## What problem does it solve?\n\nThis workflow eliminates the manual effort involved in creating podcasts from news articles. It automates the entire process, from fetching and filtering news to generating the final audio file.\n\n## What are the benefits?\n\n  * **Time-saving:** Create podcasts in minutes, not hours.\n  * **Easy to use:** No coding or technical skills required.\n  * **Customizable:** Adapt the workflow to your specific needs and preferences.\n  * **Cost-effective:** Leverage free or low-cost services like Gemini and Hugging Face.\n\n\n\n## How does it work?\n\n  1. The workflow fetches news articles from the BBC website.\n  2. It filters articles based on their suitability for a podcast.\n  3. It extracts the full content of the selected articles.\n  4. It uses Gemini LLM to create a podcast script.\n  5. It converts the script to speech using Hugging Face's text-to-speech model.\n  6. The final podcast audio is ready for use.\n\n\n\n## Nodes in the Workflow\n\n  1. **Fetch BBC News Page:** Retrieves the main BBC News page.\n  2. **News Classifier:** Categorizes news articles using Gemini LLM.\n  3. **Fetch BBC News Detail:** Extracts detailed content from suitable articles.\n  4. **Basic Podcast LLM Chain:** Generates a podcast script using Gemini LLM.\n  5. **HTTP Request:** Converts the script to speech using Hugging Face.\n\n\n\n## Add Story\n\nI'm excited to share this workflow with the n8n community and help content creators and students easily produce engaging podcasts!\n\n## Additional Tips\n\n  * Explore the n8n documentation and community resources for more advanced customization options.\n  * Experiment with different filtering criteria and LLM prompts to achieve your desired podcast style.\n\n\n",
  "crawled_at": "2025-05-26T02:32:10.818976",
  "readme_zh": "# 利用Hugging Face与Google Gemini将BBC新闻转为播客\n\n通过这个自动化n8n工作流，轻松将BBC新闻文章转化为引人入胜的播客内容。\n\n## 适用人群\n\n本模板非常适合：\n* **内容创作者**：希望快速将时事新闻制作成播客\n* **学生群体**：需要为课题作业高效创建音频内容\n* **个人用户**：无需专业技术即可生成个性化播客\n\n## 配置指南\n\n1. **安装n8n**：从[n8n.io](https://n8n.io/)下载安装\n2. **导入工作流**：复制JSON代码到n8n实例\n3. **凭证配置**：\n   * **Gemini API**：在LLM节点设置API凭证\n   * **Hugging Face令牌**：获取访问令牌并添加到文本转语音的HTTP请求节点\n4. **自定义设置（可选）**：\n   * **筛选条件**：调整新闻分类节点参数\n   * **输出选项**：可修改为保存至云存储或发布到播客平台\n\n## 先决条件\n\n* 运行中的n8n实例\n* 基础n8n工作流知识（无需编程）\n* Gemini API凭证及Hugging Face访问令牌\n\n## 解决方案\n\n本工作流彻底解决了人工转化新闻为播客的繁琐过程，实现从新闻抓取、筛选到最终音频生成的全流程自动化。\n\n## 核心优势\n\n* **高效省时**：分钟级生成播客内容\n* **操作简便**：零技术门槛\n* **高度灵活**：可根据需求自由定制\n* **成本可控**：基于Gemini和Hugging Face的免费/低成本服务\n\n## 运作原理\n\n1. 从BBC官网抓取新闻\n2. 通过智能分类筛选适宜内容\n3. 提取选定文章的完整文本\n4. 使用Gemini生成播客脚本\n5. 通过Hugging Face实现文本转语音\n6. 输出成品播客音频\n\n## 工作流节点\n\n1. **BBC新闻抓取**：获取主页内容\n2. **新闻分类器**：通过Gemini智能分类\n3. **新闻详情提取**：获取完整文章\n4. **播客脚本生成**：Gemini创作脚本\n5. **HTTP请求**：调用Hugging Face语音合成\n\n## 创作故事\n\n很高兴能与n8n社区分享这个工作流，助力内容创作者和学生轻松制作专业播客！\n\n## 进阶建议\n\n* 参考n8n文档探索更多定制可能\n* 尝试不同筛选条件和LLM提示词来打造独特播客风格",
  "title_zh": "利用Hugging Face与Google Gemini将BBC新闻文章转化为播客",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"5287ddd2fa569cf8e4c5a724666246a45305c032a19bb677c9e4b963d365f84b\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"95c798a4-bc34-4219-b7c3-6b4a4070886b\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -320,\n        1080\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"09987590-1ec2-48d4-aa04-32b85addd9e6\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        420,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"newsTitle\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"758e3f60-01dc-46c7-bb53-7460eaed92e3\",\n      \"name\": \"Extract News Block\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        220,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"newsTitle\",\n              \"cssSelector\": \".eGcloy\",\n              \"returnArray\": true,\n              \"returnValue\": \"html\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"20440f9a-a40c-4419-af6d-383de041d078\",\n      \"name\": \"Extract News Content\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        600,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"dataPropertyName\": \"newsTitle\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"title\",\n              \"cssSelector\": \"h2\"\n            },\n            {\n              \"key\": \"link\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"a\",\n              \"returnValue\": \"attribute\"\n            },\n            {\n              \"key\": \"description\",\n              \"cssSelector\": \".kYtujW\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"47a50ada-127a-4037-8fe7-41c0caebb3de\",\n      \"name\": \"Aggregate\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        2000,\n        1060\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"33050a43-842d-464d-b227-a6c2c870c0af\",\n      \"name\": \"Fetch BBC News Detail\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1400,\n        1060\n      ],\n      \"parameters\": {\n        \"url\": \"=https://www.bbc.com{{ $json.link }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"646bfe6b-cac6-4177-9b59-dc205b44b7eb\",\n      \"name\": \"Extract Detail\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        1600,\n        1060\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"newsDetail\",\n              \"cssSelector\": \".dlWCEZ .fYAfXe\",\n              \"returnArray\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"6e14f528-1e94-411f-8601-3c713d492aa9\",\n      \"name\": \"Filter Empty Detail\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1800,\n        1060\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"7066e88c-03da-4196-b1c5-80bc16fa3fc6\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.newsDetail }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"5863e420-2392-468a-8e03-5d4c273168e0\",\n      \"name\": \"If script exists\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2620,\n        1060\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 1,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"2e968b41-88f7-4b28-9837-af50ae130979\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"=voice_id {{ $json.output.podcast_script }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"90b370d3-5712-401d-b769-490014e2b17c\",\n      \"name\": \"Basic Podcast LLM Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        2200,\n        1060\n      ],\n      \"parameters\": {\n        \"text\": \"=News Articles:{{ $json.data.map(item => item.newsDetail) }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"= \\n*Convert the following one or multiple news articles into a podcast script formatted for direct use in ElevenLabs. If there is only one news piece, transform it into a compelling and engaging narrative. If multiple news stories are provided, structure them like a news bulletin, presenting each piece sequentially with smooth transitions. Avoid a formal or dry tone; instead, use a natural, conversational, and warm style. The podcast should feel dynamic, engaging, and informative while maintaining a storytelling approach.*  \\n\\n- *Ensure the script is formatted as a single, continuous text block suitable for direct speech synthesis.*  \\n- *Start with an engaging introduction that sets the tone for the podcast.*  \\n- *Narrate each news story smoothly, with natural transitions between segments.*  \\n- *End with a closing statement that leaves the listener informed and engaged.*  \\n- *Output must be in JSON format, with the full script as a single string under the key `\\\"podcast_script\\\"`.*  \\n\\n---\\n\\n### **Input Format:**  \\n```json\\n{\\n  \\\"news_articles\\\": [\\n    {\\n      \\\"title\\\": \\\"First News Title\\\",\\n      \\\"content\\\": \\\"First news article content...\\\"\\n    },\\n    {\\n      \\\"title\\\": \\\"Second News Title\\\",\\n      \\\"content\\\": \\\"Second news article content...\\\"\\n    }\\n  ]\\n}\\n```\\n\\n---\\n\\nExpected JSON Output Format:\\n \\n{\\n  \\\"podcast_script\\\": \\\"Welcome to today's news podcast! We have some exciting stories lined up for you. Let's start with our first story. [First news article content rewritten in a conversational, engaging style]... Moving on to our next topic... [Second news article content rewritten dynamically]... That’s all for today’s news bulletin! Stay informed and see you next time.\\\"\\n}\\n\\n\\n \"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"24c212c2-6d06-4fe1-841b-bc52a21060b1\",\n      \"name\": \"Gemini\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1600,\n        1600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-pro-exp-02-05\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"5x46RlCURyTUmbGW\",\n          \"name\": \"Google Gemini(PaLM) Api account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"02e9f1ee-dc80-403c-8c19-0e6f918cf8ed\",\n      \"name\": \"Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        2360,\n        1280\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"podcast_script\\\": \\\"California\\\"\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"395ddac7-b2a4-48c5-b2d3-d21078d29c54\",\n      \"name\": \"News Classifier\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textClassifier\",\n      \"position\": [\n        980,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"inputText\": \"=I will only send the headline as input:\\n{{ $json.title }} {{ $json.description }}\",\n        \"categories\": {\n          \"categories\": [\n            {\n              \"category\": \"Suitable\",\n              \"description\": \"=Role: News Content Suitability Assessor (Positive)\\n\\nTask: Determine if the given news headline is highly likely to be suitable for storytelling, focusing on positive and engaging aspects.\\n\\nCriteria (Focus on what makes it suitable):\\n\\nCuriosity and Interest: Does the headline present an event, discovery, or information that is likely to pique the curiosity of a broad audience? Does it have a \\\"wow\\\" factor or relate to a significant trend?\\n\\nStorytelling Potential: Does the headline lend itself well to narrative expansion? Could it be the start of an engaging story, a key point in a developing situation, or a surprising conclusion?\\n\\nPositive or Neutral Tone: Is the headline generally positive, neutral, or focused on solutions/progress? (Avoid headlines that primarily focus on conflict, negativity, or routine events).\\n\\nRelevance: Does the headline touch upon topics that are relevant to a wide audience, such as health, science, technology, interesting discoveries, or positive global events?\\n\\nOutput Format:\\n\\nHeadline: [Original news headline]\\n\\nSuitable: [Yes / No] (Only say \\\"Yes\\\" if strongly confident)\\n\\nReason (Brief): [Briefly explain why it's likely suitable, focusing on the positive aspects.]\\n\\nExample (for the LLM to learn from):\\n\\nHeadline: \\\"Scientists Discover New Species of Butterfly in Amazon Rainforest\\\"\\n\\nSuitable: Yes\\n\\nReason: Discovery, biodiversity, positive natural event, intriguing.\\n\\nHeadline: \\\"Stock Market Experiences Minor Fluctuations\\\"\\n\\nSuitable: No\\n\\nReason: Routine economic event, lacks general interest.\"\n            },\n            {\n              \"category\": \"Not Suitable\",\n              \"description\": \"=Role: News Content Filter (Negative)\\n\\nTask: Identify news headlines that are clearly unsuitable for storytelling due to negative content, lack of general interest, or ethical concerns.\\n\\nCriteria (Focus on what makes it unsuitable):\\n\\nNegative Content: Does the headline contain violence, crime, accidents, death, suffering, or other traumatic events?\\n\\nPolitical/Economic Routine: Does the headline focus on routine political announcements, standard economic reports (like minor market changes), or internal political disputes?\\n\\nDivisive or Harmful Content: Does the headline contain hate speech, discrimination, strong political bias, or potentially harmful misinformation?\\n\\nLack of General Interest: Is the headline highly niche, specific to a very small group, or about a topic unlikely to interest a broad audience?\\n\\nOutput Format:\\n\\nHeadline: [Original news headline]\\n\\nNot Suitable: [Yes / No] (Only say \\\"Yes\\\" if strongly confident)\\n\\nReason (Brief): [Briefly explain why it's clearly unsuitable.]\\n\\nExample (for the LLM to learn from):\\n\\nHeadline: \\\"Local Politician Announces Campaign Platform\\\"\\n\\nNot Suitable: Yes\\n\\nReason: Routine political event, lacks broad appeal.\\n\\nHeadline: \\\"Car Crash Results in Minor Injuries\\\"\\n\\nNot Suitable: Yes\\n\\nReason: Negative event (accident), though thankfully not severe.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"13fac9ed-688c-4af9-a810-d49a74b98c22\",\n      \"name\": \"Fetch BBC News Page\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -60,\n        1080\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.bbc.com/\",\n        \"options\": {},\n        \"responseFormat\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2aa33f3-aa7c-4a9d-ac3c-32f9f5872606\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -120,\n        920\n      ],\n      \"parameters\": {\n        \"width\": 500,\n        \"height\": 340,\n        \"content\": \"## 该节点获取BBC新闻主页，其中包含各类新闻文章的链接。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0821b944-44cb-41ed-b5ff-70f99018c5dc\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        960,\n        840\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 340,\n        \"height\": 360,\n        \"content\": \"## 该节点采用Gemini大语言模型，根据新闻标题和描述对文章进行分类，判断内容是否适合制作播客节目。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d32b2ebb-0a4d-4d27-9262-894ab7a65cce\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1360,\n        820\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 400,\n        \"height\": 420,\n        \"content\": \"## 该节点获取被归类为适合播客的新闻文章的详细内容。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e6e1d180-b2c2-4b62-a611-7c039037ed69\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2180,\n        880\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 340,\n        \"height\": 320,\n        \"content\": \"## 该节点使用Gemini大语言模型将新闻文章转换为播客脚本。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d8776355-967d-4875-b948-25792f6f38ec\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2840,\n        920\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 360,\n        \"height\": 300,\n        \"content\": \"##  它为直接使用Hugging Face文本转语音模型构建了脚本结构。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"631a2caf-c640-41df-9215-2b542de51ccb\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -660,\n        740\n      ],\n      \"parameters\": {\n        \"width\": 460,\n        \"height\": 280,\n        \"content\": \"## 第三方应用要求：\\n\\n### Gemini  \\n您已设置好Gemini大语言模型，无需访问令牌。  \\n### Hugging Face  \\n使用Hugging Face文本转语音模型需提供访问令牌。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"655e6799-5b7c-4747-b3a9-d01b47f5cba8\",\n      \"name\": \"Limit 10 Items\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        800,\n        1080\n      ],\n      \"parameters\": {\n        \"maxItems\": 10\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"64d011d2-9c51-4f1f-a3b8-edf3fcbc6710\",\n      \"name\": \"Hugging Face Text-to-Speech.\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2900,\n        1060\n      ],\n      \"parameters\": {\n        \"url\": \"https://router.huggingface.co/hf-inference/models/facebook/mms-tts-eng\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"inputs\",\n              \"value\": \"={{ $json.output.podcast_script }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"huggingFaceApi\"\n      },\n      \"credentials\": {\n        \"huggingFaceApi\": {\n          \"id\": \"FF4PO5RYOJqZ0vhQ\",\n          \"name\": \"HuggingFaceApi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Gemini\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"News Classifier\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Basic Podcast LLM Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Basic Podcast LLM Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract News Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Basic Podcast LLM Chain\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Detail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Empty Detail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit 10 Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"News Classifier\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"News Classifier\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch BBC News Detail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If script exists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Hugging Face Text-to-Speech.\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        []\n      ]\n    },\n    \"Extract News Block\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch BBC News Page\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract News Block\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Empty Detail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract News Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit 10 Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch BBC News Detail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Detail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Basic Podcast LLM Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If script exists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch BBC News Page\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}