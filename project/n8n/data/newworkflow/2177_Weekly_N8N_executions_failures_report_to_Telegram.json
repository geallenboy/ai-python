{
  "url": "https://n8n.io/workflows/2177-weekly-n8n-executions-failures-report-to-telegram/",
  "title": "Weekly N8N executions failures report to Telegram",
  "author": "Manu",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"},\"nodes\":[{\"id\":\"06fee9d0-e11e-44f1-949f-94abb476e493\",\"name\":\"Telegram\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2100,1020],\"parameters\":{\"text\":\"={{  $json.message.join(\\\"\\\\n\\\") }}\",\"additionalFields\":{}},\"typeVersion\":1.1},{\"id\":\"cd51fa93-700e-4d86-a95b-6e65e7eaf616\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[1080,1020],\"parameters\":{\"rule\":{\"interval\":[{\"daysInterval\":7}]}},\"typeVersion\":1.1},{\"id\":\"720ca9d2-456f-49a0-85df-d38d1ebdf8e1\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[700,560],\"parameters\":{\"color\":5,\"width\":453.88352097764886,\"height\":160.98843357558172,\"content\":\"### 👨‍🎤 Setup\\nYou will need:\\n1. API token to your n8n instance (settings)\\n2. Paste the API token in new n8n credentials\\n3. Add telegram credentials as well\"},\"typeVersion\":1},{\"id\":\"c168ca04-cd47-4d68-b719-7c9bb4e98920\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,400],\"parameters\":{\"color\":7,\"width\":721.389633253837,\"height\":432.41702029585565,\"content\":\"# Weekly failures report\\n\\nThis workflow will check for past executions of a given workflow and will compile and send you a list of failures which happened in the last 7 days.\\n\"},\"typeVersion\":1},{\"id\":\"e06a3f4f-db0c-429b-aeee-c6db84a260c7\",\"name\":\"Filter for executions of the week\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1480,1018],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"31745f1d-793a-4674-80ab-77afede449d6\",\"operator\":{\"type\":\"dateTime\",\"operation\":\"after\"},\"leftValue\":\"={{ $json.startedAt }}\",\"rightValue\":\"={{ DateTime.fromMillis(DateTime.now() -  1000 * 60 * 60 * 24 * 7) }}\"},{\"id\":\"0f3e54a2-2bed-4769-8443-c2b0b6e762a9\",\"operator\":{\"type\":\"boolean\",\"operation\":\"false\",\"singleValue\":true},\"leftValue\":\"={{ $json.finished }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2,\"alwaysOutputData\":false},{\"id\":\"93a65d99-f3c7-45c8-acec-8fc30444f363\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1300,1238],\"parameters\":{\"width\":241,\"height\":80,\"content\":\"### 👆🏽 Set credentials to n8n here and select workflow\"},\"typeVersion\":1},{\"id\":\"768980da-6dcc-4f77-bc36-78ee37b4c5f8\",\"name\":\"Get all previous executions\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1280,1018],\"parameters\":{\"filters\":{\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\"}},\"options\":{\"activeWorkflows\":false},\"resource\":\"execution\",\"returnAll\":true},\"typeVersion\":1},{\"id\":\"a13d93cc-75ae-4d94-a649-3bece3ad5c34\",\"name\":\"Set a message for each failed execution\",\"type\":\"n8n-nodes-base.set\",\"position\":[1680,1018],\"parameters\":{\"include\":\"selected\",\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"f7698326-2df6-4fea-b129-e56b108bdc20\",\"name\":\"message\",\"type\":\"string\",\"value\":\"=⚠️ Workflow `{{ $json.workflowData.name }}` failed to run! [execution]({{ $json.id }}) [date]({{ $json.startedAt }})\"}]},\"includeOtherFields\":true},\"typeVersion\":3.3},{\"id\":\"0e86db26-099b-421d-b90d-3a51d3c5aae3\",\"name\":\"Aggregate all messages\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[1880,1018],\"parameters\":{\"options\":{},\"fieldsToAggregate\":{\"fieldToAggregate\":[{\"fieldToAggregate\":\"message\"}]}},\"typeVersion\":1},{\"id\":\"3b794e81-4b9b-460e-820f-d615c816b0fe\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2120,1240],\"parameters\":{\"width\":241,\"height\":80,\"content\":\"### 👆🏽 Set credentials to Telegram here as well as chat-id\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Schedule Trigger\":{\"main\":[[{\"node\":\"Get all previous executions\",\"type\":\"main\",\"index\":0}]]},\"Aggregate all messages\":{\"main\":[[{\"node\":\"Telegram\",\"type\":\"main\",\"index\":0}]]},\"Get all previous executions\":{\"main\":[[{\"node\":\"Filter for executions of the week\",\"type\":\"main\",\"index\":0}]]},\"Filter for executions of the week\":{\"main\":[[{\"node\":\"Set a message for each failed execution\",\"type\":\"main\",\"index\":0}]]},\"Set a message for each failed execution\":{\"main\":[[{\"node\":\"Aggregate all messages\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# How it works\n\n  * Weekly triggered\n  * Fetches all previous executions of a given workflow\n  * Filter for failures and aggregate them into a single report\n  * Sends them to a given Telegram chat.\n\n\n\n# Set up steps\n\n  * Create a new N8N api token in the settings panel.\n  * Add new N8N credentials in the credentials panel.\n  * Add new Telegram credentials in the credentials panel.\n  * Select N8N credentials and select the workflow ID in the \"Get all previous executions\" node.\n  * Select Telegram credentials and enter the chat-id in the \"Telegram\" node.\n\n\n",
  "crawled_at": "2025-05-25T21:31:39.528406",
  "readme_zh": "# 运作机制\n\n  * 每周自动触发\n  * 获取指定工作流的所有历史执行记录\n  * 筛选失败记录并汇总生成单一报告\n  * 将报告发送至指定Telegram聊天室\n\n# 配置步骤\n\n  * 在设置面板创建新的N8N API密钥\n  * 在凭证面板添加N8N新凭证\n  * 在凭证面板添加Telegram新凭证\n  * 在\"获取所有历史执行记录\"节点选择N8N凭证并指定工作流ID\n  * 在\"Telegram\"节点选择Telegram凭证并输入聊天室ID\n\n（注：根据技术文档翻译规范，保留\"N8N\"、\"Telegram\"等专有名词不译；\"chat-id\"译为\"聊天室ID\"符合中文IT领域表述习惯；将被动语态\"are aggregated\"转换为中文主动态\"汇总生成\"；\"settings panel/credentials panel\"统一译为\"面板\"保持界面术语一致性）",
  "title_zh": "每周N8N执行失败报告发送至Telegram",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"06fee9d0-e11e-44f1-949f-94abb476e493\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2100,\n        1020\n      ],\n      \"parameters\": {\n        \"text\": \"={{  $json.message.join(\\\"\\\\n\\\") }}\",\n        \"additionalFields\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"cd51fa93-700e-4d86-a95b-6e65e7eaf616\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        1080,\n        1020\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"daysInterval\": 7\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"720ca9d2-456f-49a0-85df-d38d1ebdf8e1\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        700,\n        560\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 453.88352097764886,\n        \"height\": 160.98843357558172,\n        \"content\": \"### 👨‍🎤 准备工作\\n你需要准备：\\n1. 获取n8n实例的API密钥（在设置中）\\n2. 将API密钥粘贴到新的n8n凭证中\\n3. 同时添加Telegram的凭证\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c168ca04-cd47-4d68-b719-7c9bb4e98920\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        400\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 721.389633253837,\n        \"height\": 432.41702029585565,\n        \"content\": \"# 每周失败报告\\n\\n此工作流将检查指定工作流的历史执行情况，并汇总发送过去7天内发生的故障列表给您。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e06a3f4f-db0c-429b-aeee-c6db84a260c7\",\n      \"name\": \"Filter for executions of the week\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1480,\n        1018\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"31745f1d-793a-4674-80ab-77afede449d6\",\n              \"operator\": {\n                \"type\": \"dateTime\",\n                \"operation\": \"after\"\n              },\n              \"leftValue\": \"={{ $json.startedAt }}\",\n              \"rightValue\": \"={{ DateTime.fromMillis(DateTime.now() -  1000 * 60 * 60 * 24 * 7) }}\"\n            },\n            {\n              \"id\": \"0f3e54a2-2bed-4769-8443-c2b0b6e762a9\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"false\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.finished }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"93a65d99-f3c7-45c8-acec-8fc30444f363\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1300,\n        1238\n      ],\n      \"parameters\": {\n        \"width\": 241,\n        \"height\": 80,\n        \"content\": \"### 👆🏽 在此处设置n8n的凭据并选择工作流程\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"768980da-6dcc-4f77-bc36-78ee37b4c5f8\",\n      \"name\": \"Get all previous executions\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        1280,\n        1018\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"workflowId\": {\n            \"__rl\": true,\n            \"mode\": \"list\",\n            \"value\": \"\"\n          }\n        },\n        \"options\": {\n          \"activeWorkflows\": false\n        },\n        \"resource\": \"execution\",\n        \"returnAll\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a13d93cc-75ae-4d94-a649-3bece3ad5c34\",\n      \"name\": \"Set a message for each failed execution\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1680,\n        1018\n      ],\n      \"parameters\": {\n        \"include\": \"selected\",\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"f7698326-2df6-4fea-b129-e56b108bdc20\",\n              \"name\": \"message\",\n              \"type\": \"string\",\n              \"value\": \"=⚠️ Workflow `{{ $json.workflowData.name }}` failed to run! [execution]({{ $json.id }}) [date]({{ $json.startedAt }})\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"0e86db26-099b-421d-b90d-3a51d3c5aae3\",\n      \"name\": \"Aggregate all messages\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        1880,\n        1018\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToAggregate\": {\n          \"fieldToAggregate\": [\n            {\n              \"fieldToAggregate\": \"message\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b794e81-4b9b-460e-820f-d615c816b0fe\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2120,\n        1240\n      ],\n      \"parameters\": {\n        \"width\": 241,\n        \"height\": 80,\n        \"content\": \"### 👆🏽 在此处设置Telegram的凭据以及聊天ID\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all previous executions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate all messages\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all previous executions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter for executions of the week\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter for executions of the week\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set a message for each failed execution\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set a message for each failed execution\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate all messages\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}