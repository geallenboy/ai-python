{
  "url": "https://n8n.io/workflows/2469-nightly-n8n-backup-to-google-drive/",
  "title": "Nightly n8n backup to Google Drive",
  "author": "Jeyson Orozco",
  "publish_date": "Last update 5 months ago",
  "publish_date_absolute": "2024-12-26",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"id\":\"1e89a8ad-90cf-4040-b59e-1b4933ea4e69\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1740,-80],\"parameters\":{\"color\":4,\"width\":982.895112064014,\"height\":248.06218763804304,\"content\":\"MOVE CURRENT BACKUPS TO OLD FOLDER\"},\"typeVersion\":1},{\"id\":\"f998e295-eafd-420a-9ba9-69571b4ab005\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1740,500],\"parameters\":{\"width\":980.8812626356395,\"height\":188.38611225559103,\"content\":\"PURGE BACKUPS OLDER THEN 30 DAYS\\n\"},\"typeVersion\":1},{\"id\":\"a94facb5-c0df-4ba4-8620-3427aca24333\",\"name\":\"Move Binary Data\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[2000,280],\"parameters\":{\"mode\":\"jsonToBinary\",\"options\":{\"fileName\":\"={{ $json.name }}-{{ $json.active === false ? 'inactive' : $json.active === true ? 'active' : 'unknown' }}\",\"useRawData\":true}},\"typeVersion\":1},{\"id\":\"049ac29e-36f2-4a14-9d3a-6fd9c9d8a744\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[260,-80],\"parameters\":{\"color\":2,\"width\":1003.460056384994,\"height\":755.833854865218,\"content\":\"## get Google Drive folders\"},\"typeVersion\":1},{\"id\":\"e830c989-815d-4c79-806e-136a82a18d72\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1300,-80],\"parameters\":{\"color\":6,\"width\":427.1093081837156,\"height\":753.2799109651138,\"content\":\"## Ignore any other folders other than: n8n_backups\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    (it is important that you created this folder)\"},\"typeVersion\":1},{\"id\":\"4197519c-0cf7-49dc-be45-a5c0ab7598c2\",\"name\":\"IGNORE FILES\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1440,40],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"98415e9e-5354-4223-9107-ef3ade30c2f0\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $node[\\\"GET CURRENT FOLDER\\\"].json.name }}\",\"rightValue\":\"n8n_backups\"}]}},\"typeVersion\":2.2},{\"id\":\"d3f6191a-80c6-43dd-923f-e98f9ade02f4\",\"name\":\"Create n8n_backups\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1000,340],\"parameters\":{\"name\":\"n8n_backups\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"root\",\"cachedResultName\":\"/ (Root folder)\"},\"resource\":\"folder\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3},{\"id\":\"b0ff6563-4ad5-4615-844a-aea766cf0d40\",\"name\":\"Create n8n_old\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1000,500],\"parameters\":{\"name\":\"n8n_old\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"root\",\"cachedResultName\":\"/ (Root folder)\"},\"resource\":\"folder\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3},{\"id\":\"d22a25ea-e1fd-4434-b050-480760f6ba11\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[300,540],\"parameters\":{\"color\":6,\"width\":355.73762189847923,\"height\":105.6805438265643,\"content\":\"## Contact me \\n**By Mail**. [Send Mail](mailto:nuntius.creative.hub@gmail.com)\"},\"typeVersion\":1},{\"id\":\"b34e1e76-a8b8-4e0d-921b-1a773192e027\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[900,220],\"parameters\":{\"color\":5,\"width\":327.6965514381564,\"height\":451.756147757587,\"content\":\"## Since the folder does not exist, it creates a new one.\\nn8n_backups\\nn8n_old\"},\"typeVersion\":1},{\"id\":\"f0796631-ecb8-4603-838f-0ac1d1bf0a7b\",\"name\":\"GET CURRENT FOLDER\",\"type\":\"n8n-nodes-base.googleDrive\",\"onError\":\"continueRegularOutput\",\"position\":[320,240],\"parameters\":{\"filter\":{\"whatToSearch\":\"folders\"},\"options\":{},\"resource\":\"fileFolder\",\"returnAll\":true},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"executeOnce\":true,\"notesInFlow\":true,\"retryOnFail\":true,\"typeVersion\":3,\"alwaysOutputData\":true},{\"id\":\"8afbde8d-ae70-427c-8883-ffd49aea7ba7\",\"name\":\"Code\",\"type\":\"n8n-nodes-base.code\",\"position\":[500,240],\"parameters\":{\"jsCode\":\"const items = $input.all();\\nconst requiredNames = [\\\"n8n_old\\\", \\\"n8n_backups\\\"];\\n\\n// Filtrar los nombres de la entrada\\nconst folderNames = items.map(item => item.json.name);\\n\\n// Encontrar los nombres que faltan\\nconst missingNames = requiredNames.filter(name => !folderNames.includes(name));\\n\\nif (missingNames.length === 0) {\\n  return [{ json: { message: \\\"ok\\\" } }];\\n} else {\\n  return [{ json: { message: `Faltan los siguientes: ${missingNames.join(', ')}` } }];\\n}\\n\"},\"typeVersion\":2},{\"id\":\"2130d3d8-23e4-48d6-b3a0-7eab5971a71d\",\"name\":\"If n8n_old\",\"type\":\"n8n-nodes-base.if\",\"position\":[680,360],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"43bd468e-1018-4b45-9448-c51835ed65bc\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.message }}\",\"rightValue\":\"n8n_old\"}]}},\"typeVersion\":2.2},{\"id\":\"76a4ab52-b260-4a1e-be77-a7246a06b963\",\"name\":\"If1 n8n_backups\",\"type\":\"n8n-nodes-base.if\",\"position\":[680,120],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"43bd468e-1018-4b45-9448-c51835ed65bc\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.message }}\",\"rightValue\":\"n8n_backups\"}]}},\"typeVersion\":2.2},{\"id\":\"0a215059-a7bf-4892-b584-1f037b42a59c\",\"name\":\"GET CURRENT FOLDER CREATES\",\"type\":\"n8n-nodes-base.googleDrive\",\"onError\":\"continueRegularOutput\",\"position\":[1100,40],\"parameters\":{\"filter\":{\"whatToSearch\":\"folders\"},\"options\":{},\"resource\":\"fileFolder\",\"returnAll\":true},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"executeOnce\":true,\"notesInFlow\":true,\"retryOnFail\":true,\"typeVersion\":3,\"alwaysOutputData\":true},{\"id\":\"653d641c-b56f-4a02-b3bf-990b4f6b99f3\",\"name\":\"Merge mensage\",\"type\":\"n8n-nodes-base.merge\",\"position\":[920,40],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combinationMode\":\"mergeByPosition\"},\"typeVersion\":2.1},{\"id\":\"ae940b77-107a-4e6f-a635-a69876b342ea\",\"name\":\"GET CURRENT BACKUPS1\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1800,0],\"parameters\":{\"filter\":{\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"}},\"options\":{\"fields\":[\"name\",\"id\"]},\"resource\":\"fileFolder\",\"returnAll\":true,\"queryString\":\".json\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3},{\"id\":\"7caa0190-9bd5-4572-80e3-e3f3b34885a6\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[640,-40],\"parameters\":{\"color\":7,\"width\":203.08765089203305,\"height\":542.95115693689,\"content\":\"## Does a folder exist?, if it does not exist it creates it\"},\"typeVersion\":1},{\"id\":\"1a77a0fd-dfdd-456d-adfc-6da34a4ccbab\",\"name\":\"MOVE INTO OLD FOLDER\",\"type\":\"n8n-nodes-base.googleDrive\",\"onError\":\"continueRegularOutput\",\"position\":[2480,-20],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('GET CURRENT FOLDER').item.json.id }}\"},\"operation\":\"move\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3,\"alwaysOutputData\":true},{\"id\":\"f9fad351-8e82-49a3-a7da-7a43b0735c34\",\"name\":\"UPLOAD WORKFLOWS\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2480,260],\"parameters\":{\"name\":\"={{ $('Split In Batches').item.binary.data.fileName }}-{{ $node[\\\"n8n\\\"].json[\\\"updatedAt\\\"] }}.json\\n\\n\",\"options\":{},\"parents\":[\"={{ $('IGNORE FILES').item.json.id }}\"],\"binaryData\":true,\"authentication\":\"oAuth2\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":1},{\"id\":\"c8496ac4-b767-4fc3-bda3-12c0550763c4\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-180,-80],\"parameters\":{\"color\":3,\"width\":397.07512898799075,\"height\":759.2757638563562,\"content\":\"## Description\\nThis template creates a nightly backup of all n8n workflows and saves them to a GitHub folder. Each night, the previous night's backups are moved to an “n8n_old” folder and renamed with the corresponding date.\\n\\nBackups older than a specified age are automatically deleted (this feature is active for 30 days, you can remove it if you don't want the backups to be deleted).\\n\\n## Prerequisites\\n\\n- Google Drive account and credentials **Get** from the following link. [Link](https://console.cloud.google.com/apis/credentials/oauthclient/)\\n- n8n version 1.67.1 or higher\\n- N8n api key **Guide** from the following link. [Link](https://witmovil.com/where-to-create-the-api-key-in-n8n/)\\n- A destination folder for backups:\\n“n8n_old”\\n“n8n_backups”\\n(if it doesn't exist, create it)\\n\\n## Configuration\\nUpdate all Google Drive nodes with your credentials.\\nEdit the Schedule Trigger node with the desired time to run the backup.\\nIf you want to automatically purge old backups.\\n\\nEdit the “PURGE DAYS” node to specify the age of the backups you want to delete.\\nEnable the “PURGE DAYS” node and the 3 subsequent nodes.\\nEnable the workflow to run on the specified schedule.\"},\"typeVersion\":1},{\"id\":\"4654d857-8436-4922-aa9a-9f00d357e581\",\"name\":\"Item Lists\",\"type\":\"n8n-nodes-base.itemLists\",\"position\":[2000,0],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"id\"},\"typeVersion\":3},{\"id\":\"9e9cc97d-1eff-40ea-9a1d-896681330b5e\",\"name\":\"Split In Batches2\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[2220,0],\"parameters\":{\"options\":{\"reset\":false},\"batchSize\":1},\"typeVersion\":2},{\"id\":\"1bd963e2-6533-4d71-8790-fa840af822ab\",\"name\":\"Split In Batches\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[2220,280],\"parameters\":{\"options\":{\"reset\":false},\"batchSize\":1},\"typeVersion\":2},{\"id\":\"aa9a5b1c-2c6b-4aff-af66-f15271eed643\",\"name\":\"n8n\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1800,280],\"parameters\":{\"filters\":{},\"returnAll\":false,\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"vPlm2YAtWv47eJLp\",\"name\":\"n8n witmovil\"}},\"typeVersion\":1},{\"id\":\"d6455261-c3af-4f5a-8f7e-0dd57c5306e5\",\"name\":\"LIST OLD BACKUPS\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1960,520],\"parameters\":{\"filter\":{\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1UcusrWKnbFl3cJYIjaDdp1VCgreg2oeV\",\"cachedResultUrl\":\"https://drive.google.com/drive/folders/1UcusrWKnbFl3cJYIjaDdp1VCgreg2oeV\",\"cachedResultName\":\"n8n_old\"}},\"options\":{\"fields\":[\"name\",\"id\"]},\"resource\":\"fileFolder\",\"returnAll\":true,\"queryString\":\".json\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3},{\"id\":\"aa1878bd-b90e-4f37-bf2e-bb4fd72b4571\",\"name\":\"DELETE OLD BACKUP\",\"type\":\"n8n-nodes-base.googleDrive\",\"onError\":\"continueRegularOutput\",\"position\":[2560,500],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{\"deletePermanently\":true},\"operation\":\"deleteFile\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"o1CgNemxQmc5Fyzd\",\"name\":\"Google Drive Alejandro Lobato\"}},\"typeVersion\":3,\"alwaysOutputData\":true},{\"id\":\"bde79076-3fb4-4f03-a907-fc492f88a17e\",\"name\":\"Item Lists old\",\"type\":\"n8n-nodes-base.itemLists\",\"position\":[2160,520],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"id\"},\"typeVersion\":3},{\"id\":\"0bd6da8c-99ed-47ea-bb26-11e08e2f76e1\",\"name\":\"Split In Batches old\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[2360,520],\"parameters\":{\"options\":{\"reset\":false},\"batchSize\":1},\"typeVersion\":2},{\"id\":\"fa6fb3be-baba-4bbe-9900-b0949507d164\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,380],\"parameters\":{\"color\":3,\"width\":344.2988945561964,\"height\":232.84367238845454,\"content\":\"## Bug fixes v3:\\n* Fixed move section now detects more than 13 files and moves them to n8n_old folder\\n* Changed file filtering\\n* In the next version \\\"Split In Batches\\\" will be changed to \\\"Loop Over Items\\\"\"},\"typeVersion\":1},{\"id\":\"cf2d27b7-8601-466a-8331-c767b9c0c25a\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1740,220],\"parameters\":{\"color\":5,\"width\":984.8018228465335,\"height\":267.23574473121596,\"content\":\"BACKUP ALL CURRENT WORKFLOWS limit 100 (Change)\"},\"typeVersion\":1},{\"id\":\"484b37a9-8b21-4887-9443-bcb8ca34b57d\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[320,20],\"parameters\":{\"rule\":{\"interval\":[{}]}},\"typeVersion\":1.1},{\"id\":\"40a6f21f-f044-4bb5-8d01-1fbdc4185eae\",\"name\":\"Schedule Trigger1\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[1760,560],\"parameters\":{\"rule\":{\"interval\":[{\"daysInterval\":30}]}},\"typeVersion\":1.1}],\"pinData\":{},\"connections\":{\"n8n\":{\"main\":[[{\"node\":\"Move Binary Data\",\"type\":\"main\",\"index\":0}]]},\"Code\":{\"main\":[[{\"node\":\"If n8n_old\",\"type\":\"main\",\"index\":0},{\"node\":\"If1 n8n_backups\",\"type\":\"main\",\"index\":0}]]},\"If n8n_old\":{\"main\":[[{\"node\":\"Create n8n_old\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Merge mensage\",\"type\":\"main\",\"index\":1}]]},\"Item Lists\":{\"main\":[[{\"node\":\"Split In Batches2\",\"type\":\"main\",\"index\":0}]]},\"IGNORE FILES\":{\"main\":[[{\"node\":\"GET CURRENT BACKUPS1\",\"type\":\"main\",\"index\":0},{\"node\":\"n8n\",\"type\":\"main\",\"index\":0}]]},\"Merge mensage\":{\"main\":[[{\"node\":\"GET CURRENT FOLDER CREATES\",\"type\":\"main\",\"index\":0}]]},\"Create n8n_old\":{\"main\":[[{\"node\":\"GET CURRENT FOLDER\",\"type\":\"main\",\"index\":0}]]},\"Item Lists old\":{\"main\":[[{\"node\":\"Split In Batches old\",\"type\":\"main\",\"index\":0}]]},\"If1 n8n_backups\":{\"main\":[[{\"node\":\"Create n8n_backups\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Merge mensage\",\"type\":\"main\",\"index\":0}]]},\"LIST OLD BACKUPS\":{\"main\":[[{\"node\":\"Item Lists old\",\"type\":\"main\",\"index\":0}]]},\"Move Binary Data\":{\"main\":[[{\"node\":\"Split In Batches\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"GET CURRENT FOLDER\",\"type\":\"main\",\"index\":0}]]},\"Split In Batches\":{\"main\":[[{\"node\":\"UPLOAD WORKFLOWS\",\"type\":\"main\",\"index\":0}]]},\"UPLOAD WORKFLOWS\":{\"main\":[[{\"node\":\"Split In Batches\",\"type\":\"main\",\"index\":0}]]},\"DELETE OLD BACKUP\":{\"main\":[[{\"node\":\"Split In Batches old\",\"type\":\"main\",\"index\":0}]]},\"Split In Batches2\":{\"main\":[[{\"node\":\"MOVE INTO OLD FOLDER\",\"type\":\"main\",\"index\":0}]]},\"Create n8n_backups\":{\"main\":[[{\"node\":\"GET CURRENT FOLDER\",\"type\":\"main\",\"index\":0}]]},\"GET CURRENT FOLDER\":{\"main\":[[{\"node\":\"Code\",\"type\":\"main\",\"index\":0}]]},\"GET CURRENT BACKUPS1\":{\"main\":[[{\"node\":\"Item Lists\",\"type\":\"main\",\"index\":0}]]},\"MOVE INTO OLD FOLDER\":{\"main\":[[{\"node\":\"Split In Batches2\",\"type\":\"main\",\"index\":0}]]},\"Split In Batches old\":{\"main\":[[{\"node\":\"DELETE OLD BACKUP\",\"type\":\"main\",\"index\":0}]]},\"GET CURRENT FOLDER CREATES\":{\"main\":[[{\"node\":\"IGNORE FILES\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Description\n\nThis template creates a nightly backup of all n8n workflows and saves them to a Google Drive folder. Each night, the previous night's backups are moved to an “n8n_old” folder and renamed with the corresponding date.\n\nBackups older than a specified age are automatically deleted (this feature is active for 30 days, you can remove it if you don't want the backups to be deleted).\n\n## Prerequisites\n\n  * Google Drive account and credentials **Get** from the following link. [Link](https://console.cloud.google.com/apis/credentials/oauthclient/)\n  * n8n version from v 1.63.4 to 1.70.1 or higher\n  * N8n api key **Guide** from the following link. [Link](https://witmovil.com/where-to-create-the-api-key-in-n8n/)\n  * A destination folder for backups:  \n“n8n_old”  \n“n8n_backups”  \n(if it doesn't exist, create it)\n\n\n\n## Configuration\n\n  1. Update all Google Drive nodes with your credentials.\n  2. Edit the Schedule Trigger node with the desired time to run the backup.\n\n\n\nIf you want to automatically purge old backups.\n\n  1. Edit the “PURGE DAYS” node to specify the age of the backups you want to delete.\n  2. Enable the “PURGE DAYS” node and the 3 subsequent nodes.\n  3. Enable the workflow to run on the specified schedule.\n\n\n\n## Last updated\n\nJanuary 2025\n",
  "crawled_at": "2025-05-25T23:59:55.513860",
  "readme_zh": "## 功能说明\n\n该模板会每晚自动备份所有n8n工作流，并将备份文件保存至Google Drive文件夹。每日备份时，前一天的备份文件会被移至\"n8n_old\"文件夹，并按日期重命名。\n\n系统会自动删除超过指定保存期限的旧备份（默认设置为30天自动清理，如不需要此功能可手动关闭）。\n\n## 使用前提\n\n* 需准备Google Drive账号及访问凭证 **获取方式** [链接](https://console.cloud.google.com/apis/credentials/oauthclient/)\n* n8n版本需v1.63.4至1.70.1或更高\n* 需配置n8n API密钥 **配置指南** [链接](https://witmovil.com/where-to-create-the-api-key-in-n8n/)\n* 需在Google Drive创建以下备份目录：  \n\"n8n_old\"  \n\"n8n_backups\"  \n（若目录不存在请手动创建）\n\n## 配置步骤\n\n1. 为所有Google Drive节点配置您的访问凭证\n2. 在\"Schedule Trigger\"节点设置您希望的备份执行时间\n\n如需启用自动清理旧备份功能：\n\n1. 在\"PURGE DAYS\"节点设置备份文件保留天数\n2. 启用\"PURGE DAYS\"节点及其后3个关联节点\n3. 激活工作流使其按计划运行\n\n## 最后更新\n\n2025年1月",
  "title_zh": "每晚n8n备份至Google云端硬盘",
  "publish_date_zh": "最后更新于4个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"1e89a8ad-90cf-4040-b59e-1b4933ea4e69\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1740,\n        -80\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 982.895112064014,\n        \"height\": 248.06218763804304,\n        \"content\": \"将当前备份移至旧文件夹\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f998e295-eafd-420a-9ba9-69571b4ab005\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1740,\n        500\n      ],\n      \"parameters\": {\n        \"width\": 980.8812626356395,\n        \"height\": 188.38611225559103,\n        \"content\": \"删除超过30天的备份\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a94facb5-c0df-4ba4-8620-3427aca24333\",\n      \"name\": \"Move Binary Data\",\n      \"type\": \"n8n-nodes-base.moveBinaryData\",\n      \"position\": [\n        2000,\n        280\n      ],\n      \"parameters\": {\n        \"mode\": \"jsonToBinary\",\n        \"options\": {\n          \"fileName\": \"={{ $json.name }}-{{ $json.active === false ? 'inactive' : $json.active === true ? 'active' : 'unknown' }}\",\n          \"useRawData\": true\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"049ac29e-36f2-4a14-9d3a-6fd9c9d8a744\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        260,\n        -80\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 1003.460056384994,\n        \"height\": 755.833854865218,\n        \"content\": \"## 获取Google Drive文件夹\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e830c989-815d-4c79-806e-136a82a18d72\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1300,\n        -80\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 427.1093081837156,\n        \"height\": 753.2799109651138,\n        \"content\": \"## 忽略除以下文件夹外的所有其他文件夹：n8n_backups\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4197519c-0cf7-49dc-be45-a5c0ab7598c2\",\n      \"name\": \"IGNORE FILES\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1440,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"98415e9e-5354-4223-9107-ef3ade30c2f0\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $node[\\\"GET CURRENT FOLDER\\\"].json.name }}\",\n              \"rightValue\": \"n8n_backups\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"d3f6191a-80c6-43dd-923f-e98f9ade02f4\",\n      \"name\": \"Create n8n_backups\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1000,\n        340\n      ],\n      \"parameters\": {\n        \"name\": \"n8n_backups\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"root\",\n          \"cachedResultName\": \"/ (Root folder)\"\n        },\n        \"resource\": \"folder\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"b0ff6563-4ad5-4615-844a-aea766cf0d40\",\n      \"name\": \"Create n8n_old\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1000,\n        500\n      ],\n      \"parameters\": {\n        \"name\": \"n8n_old\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"root\",\n          \"cachedResultName\": \"/ (Root folder)\"\n        },\n        \"resource\": \"folder\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"d22a25ea-e1fd-4434-b050-480760f6ba11\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        300,\n        540\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 355.73762189847923,\n        \"height\": 105.6805438265643,\n        \"content\": \"## 联系我  \\n**通过邮件**：[发送邮件](mailto:nuntius.creative.hub@gmail.com)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b34e1e76-a8b8-4e0d-921b-1a773192e027\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        900,\n        220\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 327.6965514381564,\n        \"height\": 451.756147757587,\n        \"content\": \"## 由于文件夹不存在，将创建一个新的。\\nn8n_backups\\nn8n_old\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f0796631-ecb8-4603-838f-0ac1d1bf0a7b\",\n      \"name\": \"GET CURRENT FOLDER\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        320,\n        240\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"whatToSearch\": \"folders\"\n        },\n        \"options\": {},\n        \"resource\": \"fileFolder\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"executeOnce\": true,\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"8afbde8d-ae70-427c-8883-ffd49aea7ba7\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        500,\n        240\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const items = $input.all();\\nconst requiredNames = [\\\"n8n_old\\\", \\\"n8n_backups\\\"];\\n\\n// Filtrar los nombres de la entrada\\nconst folderNames = items.map(item => item.json.name);\\n\\n// Encontrar los nombres que faltan\\nconst missingNames = requiredNames.filter(name => !folderNames.includes(name));\\n\\nif (missingNames.length === 0) {\\n  return [{ json: { message: \\\"ok\\\" } }];\\n} else {\\n  return [{ json: { message: `Faltan los siguientes: ${missingNames.join(', ')}` } }];\\n}\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"2130d3d8-23e4-48d6-b3a0-7eab5971a71d\",\n      \"name\": \"If n8n_old\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        680,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"43bd468e-1018-4b45-9448-c51835ed65bc\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"contains\"\n              },\n              \"leftValue\": \"={{ $json.message }}\",\n              \"rightValue\": \"n8n_old\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"76a4ab52-b260-4a1e-be77-a7246a06b963\",\n      \"name\": \"If1 n8n_backups\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        680,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"43bd468e-1018-4b45-9448-c51835ed65bc\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"contains\"\n              },\n              \"leftValue\": \"={{ $json.message }}\",\n              \"rightValue\": \"n8n_backups\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0a215059-a7bf-4892-b584-1f037b42a59c\",\n      \"name\": \"GET CURRENT FOLDER CREATES\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        1100,\n        40\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"whatToSearch\": \"folders\"\n        },\n        \"options\": {},\n        \"resource\": \"fileFolder\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"executeOnce\": true,\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"653d641c-b56f-4a02-b3bf-990b4f6b99f3\",\n      \"name\": \"Merge mensage\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        920,\n        40\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"mergeByPosition\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"ae940b77-107a-4e6f-a635-a69876b342ea\",\n      \"name\": \"GET CURRENT BACKUPS1\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1800,\n        0\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"id\",\n            \"value\": \"={{ $json.id }}\"\n          }\n        },\n        \"options\": {\n          \"fields\": [\n            \"name\",\n            \"id\"\n          ]\n        },\n        \"resource\": \"fileFolder\",\n        \"returnAll\": true,\n        \"queryString\": \".json\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"7caa0190-9bd5-4572-80e3-e3f3b34885a6\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        -40\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 203.08765089203305,\n        \"height\": 542.95115693689,\n        \"content\": \"## 文件夹是否存在？如果不存在则创建它\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1a77a0fd-dfdd-456d-adfc-6da34a4ccbab\",\n      \"name\": \"MOVE INTO OLD FOLDER\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        2480,\n        -20\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n          \"cachedResultName\": \"My Drive\"\n        },\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $('GET CURRENT FOLDER').item.json.id }}\"\n        },\n        \"operation\": \"move\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"f9fad351-8e82-49a3-a7da-7a43b0735c34\",\n      \"name\": \"UPLOAD WORKFLOWS\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2480,\n        260\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $('Split In Batches').item.binary.data.fileName }}-{{ $node[\\\"n8n\\\"].json[\\\"updatedAt\\\"] }}.json\\n\\n\",\n        \"options\": {},\n        \"parents\": [\n          \"={{ $('IGNORE FILES').item.json.id }}\"\n        ],\n        \"binaryData\": true,\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c8496ac4-b767-4fc3-bda3-12c0550763c4\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -180,\n        -80\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 397.07512898799075,\n        \"height\": 759.2757638563562,\n        \"content\": \"## 说明  \\n此模板用于每晚备份所有n8n工作流，并将备份保存至GitHub文件夹。每日夜间，前一天的备份会被移至“n8n_old”文件夹，并按对应日期重命名。  \\n\\n超过指定保存期限的备份将自动删除（默认启用30天自动清理功能，若不需要可关闭该功能）。  \\n\\n## 前提条件  \\n\\n- **Google Drive账户及凭证**  \\n  通过以下链接获取：[链接](https://console.cloud.google.com/apis/credentials/oauthclient/)  \\n- **n8n版本1.67.1或更高**  \\n- **n8n API密钥**  \\n  获取指南：[链接](https://witmovil.com/where-to-create-the-api-key-in-n8n/)  \\n- **备份目标文件夹**  \\n  需预先创建：  \\n  `n8n_old`  \\n  `n8n_backups`  \\n  （若不存在请手动创建）  \\n\\n## 配置步骤  \\n\\n1. **更新Google Drive节点**  \\n   将所有Google Drive节点替换为您的账户凭证。  \\n2. **设置备份时间**  \\n   编辑\\\"Schedule Trigger\\\"节点，设定备份任务的执行时间。  \\n3. **（可选）自动清理旧备份**  \\n   - 编辑\\\"PURGE DAYS\\\"节点，指定需要删除的备份保存天数。  \\n   - 启用\\\"PURGE DAYS\\\"节点及其后3个关联节点。  \\n4. **启用工作流**  \\n   确保工作流已开启，将按设定计划自动运行。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4654d857-8436-4922-aa9a-9f00d357e581\",\n      \"name\": \"Item Lists\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        2000,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"id\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"9e9cc97d-1eff-40ea-9a1d-896681330b5e\",\n      \"name\": \"Split In Batches2\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        2220,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        },\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"1bd963e2-6533-4d71-8790-fa840af822ab\",\n      \"name\": \"Split In Batches\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        2220,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        },\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"aa9a5b1c-2c6b-4aff-af66-f15271eed643\",\n      \"name\": \"n8n\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        1800,\n        280\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"returnAll\": false,\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"vPlm2YAtWv47eJLp\",\n          \"name\": \"n8n witmovil\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d6455261-c3af-4f5a-8f7e-0dd57c5306e5\",\n      \"name\": \"LIST OLD BACKUPS\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1960,\n        520\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"list\",\n            \"value\": \"1UcusrWKnbFl3cJYIjaDdp1VCgreg2oeV\",\n            \"cachedResultUrl\": \"https://drive.google.com/drive/folders/1UcusrWKnbFl3cJYIjaDdp1VCgreg2oeV\",\n            \"cachedResultName\": \"n8n_old\"\n          }\n        },\n        \"options\": {\n          \"fields\": [\n            \"name\",\n            \"id\"\n          ]\n        },\n        \"resource\": \"fileFolder\",\n        \"returnAll\": true,\n        \"queryString\": \".json\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"aa1878bd-b90e-4f37-bf2e-bb4fd72b4571\",\n      \"name\": \"DELETE OLD BACKUP\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        2560,\n        500\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {\n          \"deletePermanently\": true\n        },\n        \"operation\": \"deleteFile\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"o1CgNemxQmc5Fyzd\",\n          \"name\": \"Google Drive Alejandro Lobato\"\n        }\n      },\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"bde79076-3fb4-4f03-a907-fc492f88a17e\",\n      \"name\": \"Item Lists old\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        2160,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"id\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"0bd6da8c-99ed-47ea-bb26-11e08e2f76e1\",\n      \"name\": \"Split In Batches old\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        2360,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        },\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fa6fb3be-baba-4bbe-9900-b0949507d164\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        380\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 344.2988945561964,\n        \"height\": 232.84367238845454,\n        \"content\": \"## 漏洞修复 v3：\\n* 修复了移动模块现可检测超过13个文件并将其移至n8n_old文件夹的功能\\n* 更改了文件筛选逻辑\\n* 下一版本中\\\"分批处理\\\"将更名为\\\"遍历条目\\\"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cf2d27b7-8601-466a-8331-c767b9c0c25a\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1740,\n        220\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 984.8018228465335,\n        \"height\": 267.23574473121596,\n        \"content\": \"备份所有当前工作流程 限制100条（更改）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"484b37a9-8b21-4887-9443-bcb8ca34b57d\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        320,\n        20\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"40a6f21f-f044-4bb5-8d01-1fbdc4185eae\",\n      \"name\": \"Schedule Trigger1\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        1760,\n        560\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"daysInterval\": 30\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"n8n\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Move Binary Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If n8n_old\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"If1 n8n_backups\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If n8n_old\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create n8n_old\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Merge mensage\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Item Lists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IGNORE FILES\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET CURRENT BACKUPS1\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"n8n\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge mensage\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET CURRENT FOLDER CREATES\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create n8n_old\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET CURRENT FOLDER\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Item Lists old\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches old\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If1 n8n_backups\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create n8n_backups\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Merge mensage\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"LIST OLD BACKUPS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Item Lists old\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Move Binary Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET CURRENT FOLDER\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split In Batches\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"UPLOAD WORKFLOWS\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"UPLOAD WORKFLOWS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"DELETE OLD BACKUP\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches old\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split In Batches2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"MOVE INTO OLD FOLDER\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create n8n_backups\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET CURRENT FOLDER\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET CURRENT FOLDER\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET CURRENT BACKUPS1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Item Lists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"MOVE INTO OLD FOLDER\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split In Batches old\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"DELETE OLD BACKUP\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET CURRENT FOLDER CREATES\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IGNORE FILES\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}