{
  "url": "https://n8n.io/workflows/2620-calendly-to-klicktipp-integration/",
  "title": "Calendly to KlickTipp Integration",
  "author": "KlickTipp",
  "publish_date": "Last update 12 days ago",
  "publish_date_absolute": "2025-05-14",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"95b3ab5a70ab1c8c1906357a367f1b236ef12a1409406fd992f60255f0f95f85\"},\"nodes\":[{\"id\":\"819491a0-14f8-4e46-a6a3-0bc84255ab68\",\"name\":\"Subscribe invitee booking in KlickTipp\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Adds the invitee to the KlickTipp subscriber list, associating them with the relevant booking details. In this step an array of the guests email addresses is saved in the record to navigate guest cancellations. In case of cancellations Calendly does not provide an array of guests and therefore this information needs to be read from the invitee record.\",\"position\":[1700,300],\"parameters\":{\"email\":\"={{ $('New Calendly event').item.json.payload.email }}\",\"tagId\":\"12375153\",\"fields\":{\"dataFields\":[{\"fieldId\":\"fieldFirstName\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_first_name }}\"},{\"fieldId\":\"fieldLastName\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_last_name }}\"},{\"fieldId\":\"field213329\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.name }}\"},{\"fieldId\":\"field213330\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"},{\"fieldId\":\"field213331\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.reschedule_url }}\"},{\"fieldId\":\"field213332\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.cancel_url }}\"},{\"fieldId\":\"field213333\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"},{\"fieldId\":\"field213334\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"},{\"fieldId\":\"field213335\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"},{\"fieldId\":\"field213336\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"},{\"fieldId\":\"field213337\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_start_time_seconds }}\"},{\"fieldId\":\"field213338\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_end_time_seconds }}\"},{\"fieldId\":\"field213339\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.timezone }}\"},{\"fieldId\":\"field214142\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.guest_addresses }}\"}]},\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\",\"smsNumber\":\"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2},{\"id\":\"5bc59f89-b89f-4fa0-b481-b66bcc8698d6\",\"name\":\"Subscribe guest booking in KlickTipp\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Adds guests to the KlickTipp subscriber list for the associated booking.\",\"position\":[2500,200],\"parameters\":{\"email\":\"={{ $json.guests.email }}\",\"tagId\":\"12375153\",\"fields\":{\"dataFields\":[{\"fieldId\":\"field213329\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.name }}\"},{\"fieldId\":\"field213330\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"},{\"fieldId\":\"field213331\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"},{\"fieldId\":\"field213332\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.cancel_url }}\"},{\"fieldId\":\"field213333\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"},{\"fieldId\":\"field213334\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"},{\"fieldId\":\"field213335\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_start_date }}\"},{\"fieldId\":\"field213336\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_end_date }}\"},{\"fieldId\":\"field213337\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_start_time_seconds }}\"},{\"fieldId\":\"field213338\",\"fieldValue\":\"={{ $('Convert data for KlickTipp').item.json.invitee_end_time_seconds }}\"},{\"fieldId\":\"field213339\",\"fieldValue\":\"={{ $('New Calendly event').item.json.payload.timezone }}\"}]},\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2},{\"id\":\"aac23ac2-38de-42bf-b7d8-dfcffbd9f474\",\"name\":\"Subscribe guest cancellation in KlickTipp\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Handles cancellations by removing guests from the subscriber list in KlickTipp.\",\"position\":[2500,580],\"parameters\":{\"email\":\"={{ $json.invitee_guests_addresses }}\",\"tagId\":\"12506304\",\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2},{\"id\":\"4f38122a-7cf0-427d-bd68-9e2fb4674bc3\",\"name\":\"Subscribe invitee cancellation in KlickTipp\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Handles cancellations by removing the invitee from the subscriber list in KlickTipp.\",\"position\":[1700,660],\"parameters\":{\"email\":\"={{ $('New Calendly event').item.json.payload.email }}\",\"tagId\":\"12506304\",\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\",\"smsNumber\":\"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2},{\"id\":\"63f9e951-d1e0-46ea-b189-1386be3dc9a4\",\"name\":\"Split Out guest bookings\",\"type\":\"n8n-nodes-base.splitOut\",\"notes\":\"Splits the guests into individual items for processing their bookings.\",\"position\":[2300,200],\"parameters\":{\"include\":\"allOtherFields\",\"options\":{},\"fieldToSplitOut\":\"guests\"},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"f411bc16-2478-4122-b0f5-e0a67c6cfa61\",\"name\":\"Split Out guest cancellations\",\"type\":\"n8n-nodes-base.splitOut\",\"notes\":\"Splits the guests into individual items for processing their cancellations.\",\"position\":[2300,580],\"parameters\":{\"include\":\"allOtherFields\",\"options\":{},\"fieldToSplitOut\":\"invitee_guests_addresses\"},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"52c157f4-4f7c-479b-9051-10a9557f4c02\",\"name\":\"Guests booking check\",\"type\":\"n8n-nodes-base.if\",\"notes\":\"Validates if there are any guests associated with the booking to process them separately.\",\"position\":[1880,300],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"0c2ae412-74af-4e9f-99b6-bda9ce59f27e\",\"operator\":{\"type\":\"array\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.event_guests }}\",\"rightValue\":\"\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"dec38fda-52a1-45ef-9ad6-c3ba90c35683\",\"name\":\"Subscribe invitee to empty guest addresses field\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Writes \\\"null\\\" into the field which saves the array of the guests email addresses to prevent errors when rebooking.\",\"position\":[2940,660],\"parameters\":{\"email\":\"={{ $('New Calendly event').item.json.payload.email }}\",\"tagId\":\"12506304\",\"fields\":{\"dataFields\":[{\"fieldId\":\"field214142\",\"fieldValue\":\"={{\\n//Writes null into the field where the guests e-mail addresses are saved within the invitee contact/record.\\nnull}}\"}]},\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\",\"smsNumber\":\"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2},{\"id\":\"c9eb8503-ab46-43b6-b8c0-c04e3bfad2c7\",\"name\":\"New Calendly event\",\"type\":\"n8n-nodes-base.calendlyTrigger\",\"notes\":\"This node triggers the workflow whenever an event is booked or canceled in Calendly.\",\"position\":[980,360],\"webhookId\":\"f5440e40-1e7f-4ef1-b639-b8b65832a1a6\",\"parameters\":{\"events\":[\"invitee.created\",\"invitee.canceled\"]},\"credentials\":{\"calendlyApi\":{\"id\":\"xDtep5NpxCyWRmzW\",\"name\":\"Ricardo Calendly account\"}},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"495adbe6-dc4b-4fdd-93da-da4cff573e8f\",\"name\":\"Convert data for KlickTipp\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"Formats the timestamps provided by Calendly so they are within the format that KlickTipp expects. UNIX Timestamps for date and date&time values and the time fields expects to receive the time in amounts of seconds since midnight.\",\"position\":[1200,360],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"93769f47-287f-4e4c-8e8d-86b557baa9ac\",\"name\":\"event_start_date_time\",\"type\":\"string\",\"value\":\"={{ \\n//Converts the date and time value to a Unix timestamp since this is the expected format for date&time values in KlickTipp.\\nnew Date($('New Calendly event').item.json.payload.scheduled_event.start_time).getTime() / 1000 }}\"},{\"id\":\"47f1638b-2c43-42c6-945c-e444bdd648bc\",\"name\":\"event_end_date_time\",\"type\":\"string\",\"value\":\"={{ \\n//Converts the date and time value to a Unix timestamp since this is the expected format for date&time values in KlickTipp.\\nnew Date($('New Calendly event').item.json.payload.scheduled_event.end_time).getTime() / 1000 }}\"},{\"id\":\"ceeed6fa-3715-4bf0-9929-a93e465d291e\",\"name\":\"invitee_start_date\",\"type\":\"string\",\"value\":\"={{      \\n// Converts the date into an UNIX timestamp since this is the expected format for date values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getTime() / 1000  }}\"},{\"id\":\"86165bd2-6e2f-4995-872b-14768c28ee9b\",\"name\":\"invitee_end_date\",\"type\":\"string\",\"value\":\"={{      \\n// Converts the date into an UNIX timestamp since this is the expected format for date values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getTime() / 1000  }}\"},{\"id\":\"88535bfa-2fc1-4559-8e7c-a2391fcecac7\",\"name\":\"invitee_start_time_seconds\",\"type\":\"string\",\"value\":\"={{      \\n// Converts the time to seconds since midnight since this is the expected format for time values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getHours() * 3600      + new Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getMinutes() * 60      + new Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getSeconds()  }}\"},{\"id\":\"240171bf-c174-4922-aba2-a1014f4fd350\",\"name\":\"invitee_end_time_seconds\",\"type\":\"string\",\"value\":\"={{  \\n// Converts the time to seconds since midnight since this is the expected format for time values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getHours() * 3600      + new Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getMinutes() * 60      + new Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getSeconds()  }}\"},{\"id\":\"fbc2ce8b-ffc8-4b03-b869-7abceafee323\",\"name\":\"invitee_first_name\",\"type\":\"string\",\"value\":\"={{ \\n  //Extracts first_name. If not available, extracts from name by taking all but the last word(s).\\n\\n  $json.payload.first_name // Use first_name directly if available\\n    ? $json.payload.first_name \\n    : $json.payload.name \\n      ? $json.payload.name.split(' ').slice(0, -1).join(' ') // Extract all words except the last as first names\\n      : '' // Default to empty string if both are missing\\n}}\\n\"},{\"id\":\"e269a0dc-4c05-49f6-8595-e8ceb3701259\",\"name\":\"invitee_last_name\",\"type\":\"string\",\"value\":\"={{ \\n  //Extracts last_name. If not available, extracts from name by taking the last word(s).\\n  $json.payload.last_name // Use last_name directly if available\\n    ? $json.payload.last_name \\n    : $json.payload.name \\n      ? $json.payload.name.split(' ').slice(-1).join('') // Extract the last word(s) as the last name\\n      : '' // Default to empty string if both are missing\\n}}\"},{\"id\":\"3b69338b-1f62-4148-a640-25b2110da1d6\",\"name\":\"invitee_mobile\",\"type\":\"string\",\"value\":\"={{ \\n  // Converts the phone number by replacing '+' with '00' and removing all spaces for standardization.\\n  $('New Calendly event').item.json.payload.text_reminder_number\\n    .replace('+', '00') // Replace '+' with '00'\\n    .replace(/\\\\s+/g, '') // Remove all spaces\\n}}\\n\"},{\"id\":\"57be44f3-fc01-4ab7-9917-ecd9a1d7a584\",\"name\":\"guest_addresses\",\"type\":\"string\",\"value\":\"={{ \\n//Extracts the email addresses of the guests and creates a list of them.\\n$('New Calendly event').item.json.payload.scheduled_event.event_guests.map(guest => guest.email) }}\"}]}},\"notesInFlow\":true,\"typeVersion\":3.4},{\"id\":\"fb8e7feb-f8c3-4177-b8dd-c0ca5ff15626\",\"name\":\"Check event - booking or cancellation?\",\"type\":\"n8n-nodes-base.if\",\"notes\":\"Validates if an event booking or cancellation is being processed.\",\"position\":[1440,360],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"61a4200d-9660-488a-ad0a-ea03d37f69d3\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.status }}\",\"rightValue\":\"=active\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"cb5665a9-8973-4a9c-b9df-f0cbbd5aaf45\",\"name\":\"List guests for booking\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"Prepares the guest data for subscription into KlickTipp during booking.\",\"position\":[2100,200],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"67b36bb6-d82e-4631-9103-fde87217e556\",\"name\":\"guests\",\"type\":\"array\",\"value\":\"={{ $('New Calendly event').item.json.payload.scheduled_event.event_guests.map(guest => ({ email: guest.email })) }}\"}]}},\"notesInFlow\":true,\"typeVersion\":3.4},{\"id\":\"f9b2d284-fcc1-4746-90eb-e1ecf004e3c0\",\"name\":\"List guests for cancellation\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"Prepares the guest data for subscription removal in KlickTipp during cancellations.\",\"position\":[2100,580],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"a06f26f5-3246-425e-901a-22370133ce64\",\"name\":\"invitee_guests_addresses\",\"type\":\"array\",\"value\":\"={{ JSON.parse($json.field214142.replace(/&quot;/g, '\\\"')) }}\"}]}},\"notesInFlow\":true,\"typeVersion\":3.4},{\"id\":\"b5cac1bc-f20a-4c66-a1e7-df0d5187e28d\",\"name\":\"Guests cancellation check\",\"type\":\"n8n-nodes-base.if\",\"notes\":\"Validates if there are guest email addresses within the result of the subscription process of the invitee cancellation so that the cancellations can be transmitted as well. Since Calendly does not provide a list of guests upon cancellation we store this information inside the invitee contact in KlickTipp and read it out.\",\"position\":[1880,660],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"a41b92de-b135-43f6-9fd9-fb5fe5f596ae\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.field214142 }}\",\"rightValue\":\"@\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"aa0fa3e7-72aa-49fe-b568-280b8686e71b\",\"name\":\"Rescheduling check\",\"type\":\"n8n-nodes-base.if\",\"notes\":\"This node checks whether the cancellation is due to a rescheduling of the original booking or not. In case it is a rescheduling, we are not overwriting the string of guest email addresses within the invitee record.\",\"position\":[2720,580],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"51e6485f-ea0a-42f7-b772-bb6513eb8615\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $('New Calendly event').item.json.payload.rescheduled }}\",\"rightValue\":\"\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"b3db3b20-f579-42a7-ac09-c856725791ec\",\"name\":\"Invitee did not add guests to the booking\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[2100,400],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5ee8be1b-b4a1-4229-b191-b6034218527d\",\"name\":\"Event was rescheduled\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[2940,500],\"parameters\":{},\"typeVersion\":1},{\"id\":\"fe8ed37b-cb1f-4ee0-99ac-7dfefdc0a670\",\"name\":\"No guest email addresses found\",\"type\":\"n8n-nodes-base.noOp\",\"notes\":\"If no guest E-Mail Addresses were found inside the invitee record there are no guest cancellations that must be processed as there were no guests involved in the original event booking.\",\"position\":[2100,760],\"parameters\":{},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"90515b4f-8c56-4dd9-8935-9aa0913a234b\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1840,960],\"parameters\":{\"width\":1133.0384930384926,\"height\":1689.5659295659311,\"content\":\"### Introduction\\nThis workflow streamlines the integration between Calendly and KlickTipp, managing bookings and cancellations dynamically while ensuring accurate data transformation and seamless synchronization. Input data is validated and formatted to meet KlickTipp’s API requirements, including handling guests, rescheduling, and cancellations.\\n\\n### Benefits\\n- **Improved scheduling management**: Automatically processes bookings and cancellations in Calendly, saving time and reducing errors. Contacts are automatically imported into KlickTipp and can be used immediately, saving time and increasing the conversion rate.\\n- **Automated processes**: Experts can start workflows directly, such as welcome emails or course admissions, reducing administrative effort.\\n- **Error-free data management**: The template ensures precise data mapping, avoids manual corrections, and reinforces a professional appearance.\\n\\n### Key Features\\n- **Calendly Trigger**: Captures booking and cancellation events, including invitee and guest details.\\n- **Data Processing**: Validates and standardizes input fields:\\n  - Converts dates to UNIX timestamps for API compatibility.\\n  - Processes guests dynamically, splitting guest emails into individual records.\\n  - Validates invitee email addresses to ensure accuracy.\\n- **Subscriber Management in KlickTipp**: Adds or updates invitees and guests as subscribers in KlickTipp. Supports custom field mappings such as:\\n  - Invitee information: Name, email, booking details.\\n  - Event details: Start/end times, timezone, and guest emails.\\n- **Error Handling**: Differentiates between cancellations and rescheduling, preventing redundant or incorrect updates.\\n\\n#### Setup Instructions\\n1. Install the required nodes:\\n   - Ensure the KlickTipp community node and its dependencies are installed.\\n2. Authenticate your Calendly and KlickTipp accounts.\\n3. Pre-create the following custom fields in KlickTipp to align with workflow requirements.\\n4. Open each KlickTipp node and map the fields to align with your setup.\\n\\n![Screenshot Description](https://mail.cdndata.io/user/images/kt1073234/share_link_calendly_fields_v2.png)\\n\\n### Testing and Deployment\\n1. Test the workflow by triggering a Calendly event.\\n2. Verify that the invitee and guest data is updated accurately in KlickTipp.\\n\\n- **Customization**: Adjust field mappings within KlickTipp nodes to match your specific account setup.\\n\\n\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"New Calendly event\":{\"main\":[[{\"node\":\"Convert data for KlickTipp\",\"type\":\"main\",\"index\":0}]]},\"Rescheduling check\":{\"main\":[[{\"node\":\"Event was rescheduled\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Subscribe invitee to empty guest addresses field\",\"type\":\"main\",\"index\":0}]]},\"Guests booking check\":{\"main\":[[{\"node\":\"List guests for booking\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Invitee did not add guests to the booking\",\"type\":\"main\",\"index\":0}]]},\"List guests for booking\":{\"main\":[[{\"node\":\"Split Out guest bookings\",\"type\":\"main\",\"index\":0}]]},\"Split Out guest bookings\":{\"main\":[[{\"node\":\"Subscribe guest booking in KlickTipp\",\"type\":\"main\",\"index\":0}]]},\"Guests cancellation check\":{\"main\":[[{\"node\":\"List guests for cancellation\",\"type\":\"main\",\"index\":0}],[{\"node\":\"No guest email addresses found\",\"type\":\"main\",\"index\":0}]]},\"Convert data for KlickTipp\":{\"main\":[[{\"node\":\"Check event - booking or cancellation?\",\"type\":\"main\",\"index\":0}]]},\"List guests for cancellation\":{\"main\":[[{\"node\":\"Split Out guest cancellations\",\"type\":\"main\",\"index\":0}]]},\"Split Out guest cancellations\":{\"main\":[[{\"node\":\"Subscribe guest cancellation in KlickTipp\",\"type\":\"main\",\"index\":0}]]},\"Check event - booking or cancellation?\":{\"main\":[[{\"node\":\"Subscribe invitee booking in KlickTipp\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Subscribe invitee cancellation in KlickTipp\",\"type\":\"main\",\"index\":0}]]},\"Subscribe invitee booking in KlickTipp\":{\"main\":[[{\"node\":\"Guests booking check\",\"type\":\"main\",\"index\":0}]]},\"Subscribe guest cancellation in KlickTipp\":{\"main\":[[{\"node\":\"Rescheduling check\",\"type\":\"main\",\"index\":0}]]},\"Subscribe invitee cancellation in KlickTipp\":{\"main\":[[{\"node\":\"Guests cancellation check\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Community Node Disclaimer** : This workflow uses community nodes and is compatible only with self-hosted n8n environments.\n\n**How It Works**\n\nEnhanced Calendly Integration: This workflow processes bookings and cancellations in Calendly, dynamically managing invitee and guest data with KlickTipp.\n\nData Transformation: Dates and times are converted into formats (UNIX timestamps) compatible with KlickTipp’s API, ensuring seamless data integration.\n\n**Key Features**\n\n**Calendly Trigger:**\n\n  * Captures new bookings or cancellations of events, including participant details.\n\n\n\n**Invitee and Guest Subscription in KlickTipp:**\n\n  * Adds or updates invitees and guests in KlickTipp based on booking details (event name, time, join link, reschedule link, cancel link, etc.).\n  * Tracks and processes cancellations for both invitees and guests.\n  * Handles rescheduling intelligently to avoid redundant operations.\n\n\n\n**Guest-Specific Operations:**\n\n  * Processes guests individually for bookings and cancellations using dynamic arrays of email addresses.\n  * Recovers guest data from invitee records for cancellations since Calendly does not provide guest data upon cancellation.\n\n\n\n**Data Processing:**\n\n  * Standardizes and validates input fields\n  * Converts phone numbers to numeric-only format with international prefixes.\n  * Transforms dates into UNIX timestamps.\n  * Reads out the name of the invitee based on both possible input fields for name (name vs. firstname and lastname field setup).\n\n\n\n**Error Handling:**\n\n  * Validates critical fields like phone numbers, URLs, and dates to prevent incorrect data submissions.\n\n\n\n**Setup Instructions**\n\n**Authentication:**\n\n  * Set up the Calendly and KlickTipp nodes in your n8n instance.\n  * Configure authentication for both Calendly and KlickTipp nodes.\n\n\n\n**Custom Field Preparation in KlickTipp:**  \nCreate the following custom fields in KlickTipp to align with workflow requirements:\n\n**Feld-Name** | **Feld-Typ**  \n---|---  \nCalendly_event_name | Zeile  \nCalendly_join_url | URL  \nCalendly_reschedule_url | URL  \nCalendly_cancel_url | URL  \nCalendly_event_start_datetime | Datum & Zeit  \nCalendly_event_end_datetime | Datum & Zeit  \nCalendly_invitee_start_date | Datum  \nCalendly_invitee_end_date | Datum  \nCalendly_invitee_start_time | Zeit  \nCalendly_invitee_end_time | Zeit  \nCalendly_invitee_timezone | Zeile  \nCalendly_invitee_guests_adresses | Zeile  \n  \nAfter creating fields, allow 10-15 minutes for them to sync. If fields don’t appear, reconnect your KlickTipp credentials.\n\n**Field Mapping and Adjustments:**  \nOpen each KlickTipp node and map fields to match your setup. The workflow includes placeholders for:\n\n  * Invitee details (first name, last name, email, and phone).\n  * Event details (start/end times, timezone, etc.).\n\n\n\n**Workflow Logic**\n\n  1. **Trigger via Calendly event Booking:**  \nA new form event booking or cancellation from Calendly initiates the workflow\n\n  2. **Data Transformation:**  \nProcesses raw Calendly event data to ensure compatibility with KlickTipp’s API.\n\n  3. **Add to KlickTipp Subscriber List:**  \nAdds invitees and guests to the designated KlickTipp list, including event-specific details.\n\n\n\n\n**Benefits**\n\n**Efficient lead generation:** Contacts from event bookings are automatically imported into KlickTipp and can be used immediately, saving time and increasing the conversion rate.  \n**Automated processes:** Experts can start workflows directly, such as reminder emails or course admissions, reducing administrative effort.  \n**Error-free data management:** The template ensures precise data mapping, avoids manual corrections and reinforces a professional appearance.\n\n**Testing and Deployment**\n\nTest the workflow by triggering a Calendly event and verifying data updates in KlickTipp.\n\n**Notes:**\n\n**Customization:**  \nUpdate field mappings within the KlickTipp nodes to align with your account setup. This ensures accurate data syncing.\n\n**Other resources:**  \n[Calendly KlickTipp Knowledge Base help article](https://www.klicktipp.com/de/support/wissensdatenbank/calendly-integration/)\n",
  "crawled_at": "2025-05-26T01:15:50.303342",
  "readme_zh": "**社区节点免责声明**：本工作流使用社区节点，仅适用于自托管n8n环境。\n\n**运作原理**\n\n增强型Calendly集成：该工作流处理Calendly中的预约和取消操作，动态管理KlickTipp中的受邀者及嘉宾数据。\n\n数据转换：将日期和时间转换为KlickTipp API兼容格式（UNIX时间戳），确保无缝数据集成。\n\n**核心功能**\n\n**Calendly触发器：**\n  * 捕获包含参与者详情的新预约或取消事件。\n\n**KlickTipp受邀者及嘉宾订阅：**\n  * 根据预约详情（事件名称、时间、加入链接、改期链接、取消链接等）添加或更新KlickTipp中的受邀者和嘉宾。\n  * 追踪并处理受邀者及嘉宾的取消操作。\n  * 智能处理改期以避免冗余操作。\n\n**嘉宾专属操作：**\n  * 使用动态邮箱地址数组单独处理嘉宾的预约和取消。\n  * 从受邀者记录中恢复嘉宾数据（因Calendly取消时不提供嘉宾数据）。\n\n**数据处理：**\n  * 标准化并验证输入字段。\n  * 将电话号码转换为带国际前缀的纯数字格式。\n  * 将日期转换为UNIX时间戳。\n  * 根据两种可能的姓名输入字段（全名字段或分开的名/姓字段）读取受邀者姓名。\n\n**错误处理：**\n  * 验证关键字段（如电话号码、URL和日期）以防止错误数据提交。\n\n**设置指南**\n\n**认证：**\n  * 在n8n实例中配置Calendly和KlickTipp节点。\n  * 为两个节点设置认证。\n\n**KlickTipp自定义字段准备：**  \n创建以下自定义字段以匹配工作流需求：\n\n| **字段名称**               | **字段类型**   |\n|---------------------------|--------------|\n| Calendly_event_name       | 文本行       |\n| Calendly_join_url         | URL          |\n| Calendly_reschedule_url   | URL          |\n| Calendly_cancel_url       | URL          |\n| Calendly_event_start_datetime | 日期与时间 |\n| Calendly_event_end_datetime  | 日期与时间 |\n| Calendly_invitee_start_date | 日期        |\n| Calendly_invitee_end_date  | 日期        |\n| Calendly_invitee_start_time | 时间        |\n| Calendly_invitee_end_time  | 时间        |\n| Calendly_invitee_timezone | 文本行       |\n| Calendly_invitee_guests_adresses | 文本行 |\n\n创建字段后，等待10-15分钟同步。若字段未显示，请重新连接KlickTipp凭证。\n\n**字段映射与调整：**  \n打开每个KlickTipp节点并映射字段以匹配您的设置。工作流包含以下占位符：\n  * 受邀者详情（名、姓、邮箱、电话）。\n  * 事件详情（开始/结束时间、时区等）。\n\n**工作流逻辑**\n\n1. **通过Calendly事件预约触发：**  \n   来自Calendly的新表单预约或取消事件将启动工作流。\n\n2. **数据转换：**  \n   处理原始Calendly事件数据以确保与KlickTipp API兼容。\n\n3. **添加至KlickTipp订阅列表：**  \n   将受邀者和嘉宾添加至指定KlickTipp列表，包含事件专属详情。\n\n**优势**\n\n**高效潜在客户生成：** 活动预约联系人自动导入KlickTipp并可立即使用，节省时间并提高转化率。  \n**自动化流程：** 专家可直接启动后续流程（如提醒邮件或课程录取），减少行政负担。  \n**无差错数据管理：** 模板确保精准数据映射，避免人工修正，强化专业形象。\n\n**测试与部署**\n\n通过触发Calendly事件并验证KlickTipp中的数据更新来测试工作流。\n\n**注意事项：**\n\n**自定义：**  \n根据账户设置更新KlickTipp节点中的字段映射，以确保数据同步准确。",
  "title_zh": "Calendly与KlickTipp集成",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"95b3ab5a70ab1c8c1906357a367f1b236ef12a1409406fd992f60255f0f95f85\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"819491a0-14f8-4e46-a6a3-0bc84255ab68\",\n      \"name\": \"Subscribe invitee booking in KlickTipp\",\n      \"type\": \"n8n-nodes-klicktipp.klicktipp\",\n      \"notes\": \"Adds the invitee to the KlickTipp subscriber list, associating them with the relevant booking details. In this step an array of the guests email addresses is saved in the record to navigate guest cancellations. In case of cancellations Calendly does not provide an array of guests and therefore this information needs to be read from the invitee record.\",\n      \"position\": [\n        1700,\n        300\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $('New Calendly event').item.json.payload.email }}\",\n        \"tagId\": \"12375153\",\n        \"fields\": {\n          \"dataFields\": [\n            {\n              \"fieldId\": \"fieldFirstName\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_first_name }}\"\n            },\n            {\n              \"fieldId\": \"fieldLastName\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_last_name }}\"\n            },\n            {\n              \"fieldId\": \"field213329\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.name }}\"\n            },\n            {\n              \"fieldId\": \"field213330\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"\n            },\n            {\n              \"fieldId\": \"field213331\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.reschedule_url }}\"\n            },\n            {\n              \"fieldId\": \"field213332\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.cancel_url }}\"\n            },\n            {\n              \"fieldId\": \"field213333\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213334\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213335\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213336\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213337\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_start_time_seconds }}\"\n            },\n            {\n              \"fieldId\": \"field213338\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_end_time_seconds }}\"\n            },\n            {\n              \"fieldId\": \"field213339\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.timezone }}\"\n            },\n            {\n              \"fieldId\": \"field214142\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.guest_addresses }}\"\n            }\n          ]\n        },\n        \"listId\": \"358895\",\n        \"resource\": \"subscriber\",\n        \"operation\": \"subscribe\",\n        \"smsNumber\": \"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"\n      },\n      \"credentials\": {\n        \"klickTippApi\": {\n          \"id\": \"K9JyBdCM4SZc1cXl\",\n          \"name\": \"DEMO KlickTipp account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"5bc59f89-b89f-4fa0-b481-b66bcc8698d6\",\n      \"name\": \"Subscribe guest booking in KlickTipp\",\n      \"type\": \"n8n-nodes-klicktipp.klicktipp\",\n      \"notes\": \"Adds guests to the KlickTipp subscriber list for the associated booking.\",\n      \"position\": [\n        2500,\n        200\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $json.guests.email }}\",\n        \"tagId\": \"12375153\",\n        \"fields\": {\n          \"dataFields\": [\n            {\n              \"fieldId\": \"field213329\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.name }}\"\n            },\n            {\n              \"fieldId\": \"field213330\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"\n            },\n            {\n              \"fieldId\": \"field213331\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.location.join_url }}\"\n            },\n            {\n              \"fieldId\": \"field213332\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.cancel_url }}\"\n            },\n            {\n              \"fieldId\": \"field213333\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_start_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213334\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.event_end_date_time }}\"\n            },\n            {\n              \"fieldId\": \"field213335\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_start_date }}\"\n            },\n            {\n              \"fieldId\": \"field213336\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_end_date }}\"\n            },\n            {\n              \"fieldId\": \"field213337\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_start_time_seconds }}\"\n            },\n            {\n              \"fieldId\": \"field213338\",\n              \"fieldValue\": \"={{ $('Convert data for KlickTipp').item.json.invitee_end_time_seconds }}\"\n            },\n            {\n              \"fieldId\": \"field213339\",\n              \"fieldValue\": \"={{ $('New Calendly event').item.json.payload.timezone }}\"\n            }\n          ]\n        },\n        \"listId\": \"358895\",\n        \"resource\": \"subscriber\",\n        \"operation\": \"subscribe\"\n      },\n      \"credentials\": {\n        \"klickTippApi\": {\n          \"id\": \"K9JyBdCM4SZc1cXl\",\n          \"name\": \"DEMO KlickTipp account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"aac23ac2-38de-42bf-b7d8-dfcffbd9f474\",\n      \"name\": \"Subscribe guest cancellation in KlickTipp\",\n      \"type\": \"n8n-nodes-klicktipp.klicktipp\",\n      \"notes\": \"Handles cancellations by removing guests from the subscriber list in KlickTipp.\",\n      \"position\": [\n        2500,\n        580\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $json.invitee_guests_addresses }}\",\n        \"tagId\": \"12506304\",\n        \"listId\": \"358895\",\n        \"resource\": \"subscriber\",\n        \"operation\": \"subscribe\"\n      },\n      \"credentials\": {\n        \"klickTippApi\": {\n          \"id\": \"K9JyBdCM4SZc1cXl\",\n          \"name\": \"DEMO KlickTipp account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4f38122a-7cf0-427d-bd68-9e2fb4674bc3\",\n      \"name\": \"Subscribe invitee cancellation in KlickTipp\",\n      \"type\": \"n8n-nodes-klicktipp.klicktipp\",\n      \"notes\": \"Handles cancellations by removing the invitee from the subscriber list in KlickTipp.\",\n      \"position\": [\n        1700,\n        660\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $('New Calendly event').item.json.payload.email }}\",\n        \"tagId\": \"12506304\",\n        \"listId\": \"358895\",\n        \"resource\": \"subscriber\",\n        \"operation\": \"subscribe\",\n        \"smsNumber\": \"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"\n      },\n      \"credentials\": {\n        \"klickTippApi\": {\n          \"id\": \"K9JyBdCM4SZc1cXl\",\n          \"name\": \"DEMO KlickTipp account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"63f9e951-d1e0-46ea-b189-1386be3dc9a4\",\n      \"name\": \"Split Out guest bookings\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"notes\": \"Splits the guests into individual items for processing their bookings.\",\n      \"position\": [\n        2300,\n        200\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"guests\"\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f411bc16-2478-4122-b0f5-e0a67c6cfa61\",\n      \"name\": \"Split Out guest cancellations\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"notes\": \"Splits the guests into individual items for processing their cancellations.\",\n      \"position\": [\n        2300,\n        580\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"invitee_guests_addresses\"\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"52c157f4-4f7c-479b-9051-10a9557f4c02\",\n      \"name\": \"Guests booking check\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"notes\": \"Validates if there are any guests associated with the booking to process them separately.\",\n      \"position\": [\n        1880,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0c2ae412-74af-4e9f-99b6-bda9ce59f27e\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.event_guests }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"dec38fda-52a1-45ef-9ad6-c3ba90c35683\",\n      \"name\": \"Subscribe invitee to empty guest addresses field\",\n      \"type\": \"n8n-nodes-klicktipp.klicktipp\",\n      \"notes\": \"Writes \\\"null\\\" into the field which saves the array of the guests email addresses to prevent errors when rebooking.\",\n      \"position\": [\n        2940,\n        660\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $('New Calendly event').item.json.payload.email }}\",\n        \"tagId\": \"12506304\",\n        \"fields\": {\n          \"dataFields\": [\n            {\n              \"fieldId\": \"field214142\",\n              \"fieldValue\": \"={{\\n//Writes null into the field where the guests e-mail addresses are saved within the invitee contact/record.\\nnull}}\"\n            }\n          ]\n        },\n        \"listId\": \"358895\",\n        \"resource\": \"subscriber\",\n        \"operation\": \"subscribe\",\n        \"smsNumber\": \"={{ $('Convert data for KlickTipp').item.json.invitee_mobile }}\"\n      },\n      \"credentials\": {\n        \"klickTippApi\": {\n          \"id\": \"K9JyBdCM4SZc1cXl\",\n          \"name\": \"DEMO KlickTipp account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c9eb8503-ab46-43b6-b8c0-c04e3bfad2c7\",\n      \"name\": \"New Calendly event\",\n      \"type\": \"n8n-nodes-base.calendlyTrigger\",\n      \"notes\": \"This node triggers the workflow whenever an event is booked or canceled in Calendly.\",\n      \"position\": [\n        980,\n        360\n      ],\n      \"webhookId\": \"f5440e40-1e7f-4ef1-b639-b8b65832a1a6\",\n      \"parameters\": {\n        \"events\": [\n          \"invitee.created\",\n          \"invitee.canceled\"\n        ]\n      },\n      \"credentials\": {\n        \"calendlyApi\": {\n          \"id\": \"xDtep5NpxCyWRmzW\",\n          \"name\": \"Ricardo Calendly account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"495adbe6-dc4b-4fdd-93da-da4cff573e8f\",\n      \"name\": \"Convert data for KlickTipp\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Formats the timestamps provided by Calendly so they are within the format that KlickTipp expects. UNIX Timestamps for date and date&time values and the time fields expects to receive the time in amounts of seconds since midnight.\",\n      \"position\": [\n        1200,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"93769f47-287f-4e4c-8e8d-86b557baa9ac\",\n              \"name\": \"event_start_date_time\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n//Converts the date and time value to a Unix timestamp since this is the expected format for date&time values in KlickTipp.\\nnew Date($('New Calendly event').item.json.payload.scheduled_event.start_time).getTime() / 1000 }}\"\n            },\n            {\n              \"id\": \"47f1638b-2c43-42c6-945c-e444bdd648bc\",\n              \"name\": \"event_end_date_time\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n//Converts the date and time value to a Unix timestamp since this is the expected format for date&time values in KlickTipp.\\nnew Date($('New Calendly event').item.json.payload.scheduled_event.end_time).getTime() / 1000 }}\"\n            },\n            {\n              \"id\": \"ceeed6fa-3715-4bf0-9929-a93e465d291e\",\n              \"name\": \"invitee_start_date\",\n              \"type\": \"string\",\n              \"value\": \"={{      \\n// Converts the date into an UNIX timestamp since this is the expected format for date values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getTime() / 1000  }}\"\n            },\n            {\n              \"id\": \"86165bd2-6e2f-4995-872b-14768c28ee9b\",\n              \"name\": \"invitee_end_date\",\n              \"type\": \"string\",\n              \"value\": \"={{      \\n// Converts the date into an UNIX timestamp since this is the expected format for date values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getTime() / 1000  }}\"\n            },\n            {\n              \"id\": \"88535bfa-2fc1-4559-8e7c-a2391fcecac7\",\n              \"name\": \"invitee_start_time_seconds\",\n              \"type\": \"string\",\n              \"value\": \"={{      \\n// Converts the time to seconds since midnight since this is the expected format for time values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getHours() * 3600      + new Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getMinutes() * 60      + new Date(new Date($json.payload.scheduled_event.start_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getSeconds()  }}\"\n            },\n            {\n              \"id\": \"240171bf-c174-4922-aba2-a1014f4fd350\",\n              \"name\": \"invitee_end_time_seconds\",\n              \"type\": \"string\",\n              \"value\": \"={{  \\n// Converts the time to seconds since midnight since this is the expected format for time values in KlickTipp.\\nnew Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getHours() * 3600      + new Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getMinutes() * 60      + new Date(new Date($json.payload.scheduled_event.end_time).toLocaleString('en-US', { timeZone: $json.payload.timezone })).getSeconds()  }}\"\n            },\n            {\n              \"id\": \"fbc2ce8b-ffc8-4b03-b869-7abceafee323\",\n              \"name\": \"invitee_first_name\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n  //Extracts first_name. If not available, extracts from name by taking all but the last word(s).\\n\\n  $json.payload.first_name // Use first_name directly if available\\n    ? $json.payload.first_name \\n    : $json.payload.name \\n      ? $json.payload.name.split(' ').slice(0, -1).join(' ') // Extract all words except the last as first names\\n      : '' // Default to empty string if both are missing\\n}}\\n\"\n            },\n            {\n              \"id\": \"e269a0dc-4c05-49f6-8595-e8ceb3701259\",\n              \"name\": \"invitee_last_name\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n  //Extracts last_name. If not available, extracts from name by taking the last word(s).\\n  $json.payload.last_name // Use last_name directly if available\\n    ? $json.payload.last_name \\n    : $json.payload.name \\n      ? $json.payload.name.split(' ').slice(-1).join('') // Extract the last word(s) as the last name\\n      : '' // Default to empty string if both are missing\\n}}\"\n            },\n            {\n              \"id\": \"3b69338b-1f62-4148-a640-25b2110da1d6\",\n              \"name\": \"invitee_mobile\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n  // Converts the phone number by replacing '+' with '00' and removing all spaces for standardization.\\n  $('New Calendly event').item.json.payload.text_reminder_number\\n    .replace('+', '00') // Replace '+' with '00'\\n    .replace(/\\\\s+/g, '') // Remove all spaces\\n}}\\n\"\n            },\n            {\n              \"id\": \"57be44f3-fc01-4ab7-9917-ecd9a1d7a584\",\n              \"name\": \"guest_addresses\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n//Extracts the email addresses of the guests and creates a list of them.\\n$('New Calendly event').item.json.payload.scheduled_event.event_guests.map(guest => guest.email) }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"fb8e7feb-f8c3-4177-b8dd-c0ca5ff15626\",\n      \"name\": \"Check event - booking or cancellation?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"notes\": \"Validates if an event booking or cancellation is being processed.\",\n      \"position\": [\n        1440,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"61a4200d-9660-488a-ad0a-ea03d37f69d3\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.status }}\",\n              \"rightValue\": \"=active\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"cb5665a9-8973-4a9c-b9df-f0cbbd5aaf45\",\n      \"name\": \"List guests for booking\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Prepares the guest data for subscription into KlickTipp during booking.\",\n      \"position\": [\n        2100,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"67b36bb6-d82e-4631-9103-fde87217e556\",\n              \"name\": \"guests\",\n              \"type\": \"array\",\n              \"value\": \"={{ $('New Calendly event').item.json.payload.scheduled_event.event_guests.map(guest => ({ email: guest.email })) }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"f9b2d284-fcc1-4746-90eb-e1ecf004e3c0\",\n      \"name\": \"List guests for cancellation\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Prepares the guest data for subscription removal in KlickTipp during cancellations.\",\n      \"position\": [\n        2100,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"a06f26f5-3246-425e-901a-22370133ce64\",\n              \"name\": \"invitee_guests_addresses\",\n              \"type\": \"array\",\n              \"value\": \"={{ JSON.parse($json.field214142.replace(/&quot;/g, '\\\"')) }}\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"b5cac1bc-f20a-4c66-a1e7-df0d5187e28d\",\n      \"name\": \"Guests cancellation check\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"notes\": \"Validates if there are guest email addresses within the result of the subscription process of the invitee cancellation so that the cancellations can be transmitted as well. Since Calendly does not provide a list of guests upon cancellation we store this information inside the invitee contact in KlickTipp and read it out.\",\n      \"position\": [\n        1880,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a41b92de-b135-43f6-9fd9-fb5fe5f596ae\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"contains\"\n              },\n              \"leftValue\": \"={{ $json.field214142 }}\",\n              \"rightValue\": \"@\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"aa0fa3e7-72aa-49fe-b568-280b8686e71b\",\n      \"name\": \"Rescheduling check\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"notes\": \"This node checks whether the cancellation is due to a rescheduling of the original booking or not. In case it is a rescheduling, we are not overwriting the string of guest email addresses within the invitee record.\",\n      \"position\": [\n        2720,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"51e6485f-ea0a-42f7-b772-bb6513eb8615\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('New Calendly event').item.json.payload.rescheduled }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"b3db3b20-f579-42a7-ac09-c856725791ec\",\n      \"name\": \"Invitee did not add guests to the booking\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        2100,\n        400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5ee8be1b-b4a1-4229-b191-b6034218527d\",\n      \"name\": \"Event was rescheduled\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        2940,\n        500\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fe8ed37b-cb1f-4ee0-99ac-7dfefdc0a670\",\n      \"name\": \"No guest email addresses found\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"notes\": \"If no guest E-Mail Addresses were found inside the invitee record there are no guest cancellations that must be processed as there were no guests involved in the original event booking.\",\n      \"position\": [\n        2100,\n        760\n      ],\n      \"parameters\": {},\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"90515b4f-8c56-4dd9-8935-9aa0913a234b\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1840,\n        960\n      ],\n      \"parameters\": {\n        \"width\": 1133.0384930384926,\n        \"height\": 1689.5659295659311,\n        \"content\": \"### 简介  \\n本工作流实现了Calendly与KlickTipp的高效集成，动态管理预约与取消操作，确保数据精准转换和无缝同步。输入数据经过验证与格式化处理，完全符合KlickTipp的API要求，涵盖参与者处理、改期及取消等场景。\\n\\n### 优势  \\n- **优化日程管理**：自动处理Calendly预约与取消，节省时间并降低错误率。联系人自动导入KlickTipp后可立即使用，提升转化效率。  \\n- **流程自动化**：专家可直接触发欢迎邮件或课程录取等工作流，减少行政负担。  \\n- **零差错数据管理**：模板确保精准数据映射，避免人工纠错，强化专业形象。  \\n\\n### 核心功能  \\n- **Calendly触发器**：捕获预约/取消事件，包含受邀者及参与者详情。  \\n- **数据处理**：验证并标准化输入字段：  \\n  - 将日期转换为UNIX时间戳以适配API  \\n  - 动态处理参与者邮箱，拆分为独立记录  \\n  - 验证受邀者邮箱确保准确性  \\n- **KlickTipp用户管理**：将受邀者及参与者添加或更新为订阅用户，支持自定义字段映射：  \\n  - 受邀者信息：姓名、邮箱、预约详情  \\n  - 事件详情：开始/结束时间、时区、参与者邮箱  \\n- **错误处理**：区分取消与改期操作，避免冗余或错误更新  \\n\\n#### 配置指南  \\n1. 安装必要节点：  \\n   - 确保已安装KlickTipp社区节点及其依赖项  \\n2. 验证Calendly与KlickTipp账户权限  \\n3. 在KlickTipp中预先创建与工作流匹配的自定义字段  \\n4. 打开各KlickTipp节点进行字段映射配置  \\n\\n![配置截图](https://mail.cdndata.io/user/images/kt1073234/share_link_calendly_fields_v2.png)  \\n\\n### 测试与部署  \\n1. 通过触发Calendly事件测试工作流  \\n2. 验证受邀者及参与者数据是否准确更新至KlickTipp  \\n\\n- **个性化设置**：根据账户配置调整KlickTipp节点中的字段映射  \\n\\n（注：图片链接保留原格式未翻译，因技术链接通常无需本地化处理）\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"New Calendly event\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert data for KlickTipp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Rescheduling check\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Event was rescheduled\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Subscribe invitee to empty guest addresses field\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Guests booking check\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"List guests for booking\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Invitee did not add guests to the booking\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"List guests for booking\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out guest bookings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out guest bookings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Subscribe guest booking in KlickTipp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Guests cancellation check\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"List guests for cancellation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"No guest email addresses found\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert data for KlickTipp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check event - booking or cancellation?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"List guests for cancellation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out guest cancellations\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out guest cancellations\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Subscribe guest cancellation in KlickTipp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check event - booking or cancellation?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Subscribe invitee booking in KlickTipp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Subscribe invitee cancellation in KlickTipp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Subscribe invitee booking in KlickTipp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Guests booking check\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Subscribe guest cancellation in KlickTipp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Rescheduling check\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Subscribe invitee cancellation in KlickTipp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Guests cancellation check\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}