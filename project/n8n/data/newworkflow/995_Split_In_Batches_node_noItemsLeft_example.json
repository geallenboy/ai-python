{
  "url": "https://n8n.io/workflows/995-split-in-batches-node-noitemsleft-example/",
  "title": "Split In Batches node noItemsLeft example",
  "author": "Harshil Agrawal",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[430,310],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Function\",\"type\":\"n8n-nodes-base.function\",\"position\":[630,310],\"parameters\":{\"functionCode\":\"const newItems = [];\\n\\nfor (let i=0;i<10;i++) {\\n  newItems.push({json:{i}});\\n}\\n\\nreturn newItems;\"},\"typeVersion\":1},{\"name\":\"SplitInBatches\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[830,310],\"parameters\":{\"options\":{},\"batchSize\":1},\"typeVersion\":1},{\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1030,460],\"parameters\":{\"conditions\":{\"boolean\":[{\"value1\":true,\"value2\":\"={{$node[\\\"SplitInBatches\\\"].context[\\\"noItemsLeft\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[1230,360],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Message\",\"value\":\"No Items Left\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}],[{\"node\":\"SplitInBatches\",\"type\":\"main\",\"index\":0}]]},\"Function\":{\"main\":[[{\"node\":\"SplitInBatches\",\"type\":\"main\",\"index\":0}]]},\"SplitInBatches\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Function\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow demonstrates how to use `noItemsLeft` to check if there are items left to be processed by the SplitInBatches node.\n\n**Function node:** This node generates mock data for the workflow. Replace it with the node whose data you want to split into batches.\n\n**SplitInBatches node:** This node splits the data with the batch size equal to `1`. Based on your use-case, set the value of the _**Batch Size**_.\n\n**IF node:** This node check if all the data by the SplitInBatches are not processed or not. It uses the expression `{{$node[\"SplitInBatches\"].context[\"noItemsLeft\"]}}` which returns a boolean value.  \nIf there is data yet to be processed, the expression will return `false`, otherwise `true`.\n\n**Set node:** This node prints a message `No Items Left`. Based on your use-case, connect the false output of the _IF_ node to the input of the node you want to execute, after the data is processed by the _SplitInBatches_ node.\n",
  "crawled_at": "2025-05-25T19:12:46.263662",
  "readme_zh": "本工作流演示了如何利用`noItemsLeft`来检查SplitInBatches节点是否还有待处理的批次数据。\n\n**Function节点**：该节点生成模拟数据供工作流使用。实际应用中可替换为需要分批次处理的源数据节点。\n\n**SplitInBatches节点**：以`1`为批次大小分割数据。请根据实际需求调整_**Batch Size**_参数值。\n\n**IF节点**：通过表达式`{{$node[\"SplitInBatches\"].context[\"noItemsLeft\"]}}`检测SplitInBatches节点是否完成全部数据处理，该表达式返回布尔值。  \n若存在未处理数据则返回`false`，全部处理完毕则返回`true`。\n\n**Set节点**：输出`无剩余数据`提示信息。实际应用中，可将_IF_节点的false输出端口连接至目标节点，以便在_SplitInBatches_节点完成数据处理后执行后续操作。",
  "title_zh": "分批处理节点 无剩余项示例",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        430,\n        310\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        630,\n        310\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const newItems = [];\\n\\nfor (let i=0;i<10;i++) {\\n  newItems.push({json:{i}});\\n}\\n\\nreturn newItems;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"SplitInBatches\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        830,\n        310\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1030,\n        460\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": true,\n              \"value2\": \"={{$node[\\\"SplitInBatches\\\"].context[\\\"noItemsLeft\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1230,\n        360\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"Message\",\n              \"value\": \"No Items Left\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"SplitInBatches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SplitInBatches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SplitInBatches\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}