{
  "url": "https://n8n.io/workflows/2512-qualys-scan-slack-report-subworkflow/",
  "title": "Qualys Scan Slack Report Subworkflow",
  "author": "Angel Menendez",
  "publish_date": "Last update 7 months ago",
  "publish_date_absolute": "2024-10-26",
  "categories": [
    {
      "name": "SecOps"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8\"},\"nodes\":[{\"id\":\"1de0b08b-585a-43a9-bf32-34cdd763fbb0\",\"name\":\"Global Variables\",\"type\":\"n8n-nodes-base.set\",\"position\":[1180,500],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"6a8a0cbf-bf3e-4702-956e-a35966d8b9c5\",\"name\":\"base_url\",\"type\":\"string\",\"value\":\"https://qualysapi.qg3.apps.qualys.com\"}]},\"includeOtherFields\":true},\"typeVersion\":3.3},{\"id\":\"cc10e116-1a16-4bd9-bdbb-27baa680dc91\",\"name\":\"Fetch Report IDs\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1400,500],\"parameters\":{\"\":\"\",\"url\":\"={{ $json.base_url }}/msp/report_template_list.php\",\"method\":\"GET\",\"options\":{},\"sendBody\":false,\"sendQuery\":false,\"curlImport\":\"\",\"infoMessage\":\"\",\"sendHeaders\":false,\"authentication\":\"predefinedCredentialType\",\"httpVariantWarning\":\"\",\"nodeCredentialType\":\"qualysApi\",\"provideSslCertificates\":false},\"credentials\":{\"qualysApi\":{\"id\":\"KdkmNjVYkDUzHAvw\",\"name\":\"Qualys account\"}},\"typeVersion\":4.2,\"extendsCredential\":\"qualysApi\"},{\"id\":\"69e097c2-ba05-4964-af82-ce07fb2a6535\",\"name\":\"Convert XML To JSON\",\"type\":\"n8n-nodes-base.xml\",\"position\":[1580,500],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"d2a2001a-4df8-4482-9ecf-62a7aed90a9c\",\"name\":\"Launch Report\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1760,500],\"parameters\":{\"\":\"\",\"url\":\"={{ $('Global Variables').item.json[\\\"base_url\\\"] }}/api/2.0/fo/report/\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"sendQuery\":true,\"curlImport\":\"\",\"contentType\":\"multipart-form-data\",\"infoMessage\":\"\",\"sendHeaders\":true,\"specifyQuery\":\"keypair\",\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"template_id\",\"value\":\"={{ $jmespath($json[\\\"REPORT_TEMPLATE_LIST\\\"][\\\"REPORT_TEMPLATE\\\"], \\\"[?TITLE == '\\\"+$('Global Variables').item.json.template_name+\\\"'].ID\\\") | [0] }}\",\"parameterType\":\"formData\"},{\"name\":\"=output_format\",\"value\":\"={{ $('Global Variables').item.json.output_format }}\",\"parameterType\":\"formData\"},{\"name\":\"report_title\",\"value\":\"={{ $('Global Variables').item.json.report_title }}\",\"parameterType\":\"formData\"}]},\"specifyHeaders\":\"keypair\",\"queryParameters\":{\"parameters\":[{\"name\":\"action\",\"value\":\"launch\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"X-Requested-With\",\"value\":\"n8n\"}]},\"httpVariantWarning\":\"\",\"nodeCredentialType\":\"qualysApi\",\"provideSslCertificates\":false},\"credentials\":{\"qualysApi\":{\"id\":\"KdkmNjVYkDUzHAvw\",\"name\":\"Qualys account\"}},\"typeVersion\":4.2,\"extendsCredential\":\"qualysApi\"},{\"id\":\"3f525e48-2866-42ba-a09d-05b8f5aa092d\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[2200,480],\"parameters\":{\"options\":{\"reset\":true}},\"typeVersion\":3},{\"id\":\"e202aab9-f9fe-4f6e-ac50-4d4b3b30c1f4\",\"name\":\"Wait 1 Minute\",\"type\":\"n8n-nodes-base.wait\",\"position\":[2400,500],\"webhookId\":\"b99241f2-8b9b-4699-a006-9a3e8457c42c\",\"parameters\":{\"unit\":\"minutes\",\"amount\":1},\"typeVersion\":1.1},{\"id\":\"eb8db4f0-eacb-4d3d-ae8c-77c096bbb289\",\"name\":\"Check Status of Report\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2560,500],\"parameters\":{\"\":\"\",\"url\":\"={{ $('Global Variables').item.json.base_url }}/api/2.0/fo/report\",\"method\":\"GET\",\"options\":{},\"sendBody\":false,\"sendQuery\":true,\"curlImport\":\"\",\"infoMessage\":\"\",\"sendHeaders\":false,\"specifyQuery\":\"keypair\",\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"action\",\"value\":\"list\"},{\"name\":\"id\",\"value\":\"={{ $('Convert Report Launch XML to JSON').item.json[\\\"SIMPLE_RETURN\\\"][\\\"RESPONSE\\\"][\\\"ITEM_LIST\\\"][\\\"ITEM\\\"][\\\"VALUE\\\"] }}\"}]},\"httpVariantWarning\":\"\",\"nodeCredentialType\":\"qualysApi\",\"provideSslCertificates\":false},\"credentials\":{\"qualysApi\":{\"id\":\"KdkmNjVYkDUzHAvw\",\"name\":\"Qualys account\"}},\"typeVersion\":4.2,\"extendsCredential\":\"qualysApi\"},{\"id\":\"7cfcaa0c-7b0e-4704-8268-d5869677a58e\",\"name\":\"Is Report Finished?\",\"type\":\"n8n-nodes-base.if\",\"position\":[2900,500],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"97935da6-84fa-4756-83e1-4fbf5861baec\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.REPORT_LIST_OUTPUT.RESPONSE.REPORT_LIST.REPORT.STATUS.STATE }}\",\"rightValue\":\"Finished\"}]}},\"typeVersion\":2},{\"id\":\"b1a1f2bf-ddb1-4343-be2e-929128ed502c\",\"name\":\"Download Report\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[3080,500],\"parameters\":{\"\":\"\",\"url\":\"={{ $('Global Variables').item.json.base_url }}/api/2.0/fo/report/\",\"method\":\"GET\",\"options\":{},\"sendBody\":false,\"sendQuery\":true,\"curlImport\":\"\",\"infoMessage\":\"\",\"sendHeaders\":false,\"specifyQuery\":\"keypair\",\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"action\",\"value\":\"fetch\"},{\"name\":\"id\",\"value\":\"={{ $('Convert Report Launch XML to JSON').item.json.SIMPLE_RETURN.RESPONSE.ITEM_LIST.ITEM.VALUE }}\"}]},\"httpVariantWarning\":\"\",\"nodeCredentialType\":\"qualysApi\",\"provideSslCertificates\":false},\"credentials\":{\"qualysApi\":{\"id\":\"KdkmNjVYkDUzHAvw\",\"name\":\"Qualys account\"}},\"typeVersion\":4.2,\"extendsCredential\":\"qualysApi\"},{\"id\":\"aa1bb6b0-12db-4624-a682-d719e7463bdb\",\"name\":\"Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[3400,540],\"parameters\":{\"options\":{\"channelId\":\"=C05LAN72WJK\",\"initialComment\":\"=📊 *Test Report* (Scan) by `aztec3am1` is ready!\\n\\n- *ID:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"ID\\\"] }}\\n- *Launch Time:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"LAUNCH_DATETIME\\\"] }}\\n- *Output Format:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"OUTPUT_FORMAT\\\"] }}\\n- *Size:* {{ $('Download Report').item.binary.data.fileSize }}\\n- *Status:* ✅ Finished\\n- *Expiration Time:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"EXPIRATION_DATETIME\\\"] }}\\n\"},\"resource\":\"file\"},\"credentials\":{\"slackApi\":{\"id\":\"hOkN2lZmH8XimxKh\",\"name\":\"TheHive Slack App\"}},\"typeVersion\":2.2},{\"id\":\"3ab2cc79-9634-4a8a-ac72-c8e32370572a\",\"name\":\"Convert Report Launch XML to JSON\",\"type\":\"n8n-nodes-base.xml\",\"position\":[1980,500],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"c24e8997-8594-4abc-8313-0198abfc7f5d\",\"name\":\"Convert Report List to JSON\",\"type\":\"n8n-nodes-base.xml\",\"position\":[2740,500],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"33fa7420-b65f-4af1-8dad-19840b43e8cc\",\"name\":\"Execute Workflow Trigger\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[860,500],\"parameters\":{},\"typeVersion\":1},{\"id\":\"2c8b286a-0e00-49e1-81c2-e94ef5b7725e\",\"name\":\"Sticky Note11\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820.9673276258711,38.56257011400896],\"parameters\":{\"color\":7,\"width\":489.3146851921929,\"height\":655.6477214487218,\"content\":\"![Slack](https://uploads.n8n.io/templates/slack.png)\\n## Triggered from Slack Parent Workflow\\n\\nThis section is triggered by the parent n8n workflow, `Qualys Slack Shortcut Bot`. It is triggered when a user fills out the slack modal popup with data and hits the submit button. \\n\\nThese modals can be customized to perform various actions and are designed to be mobile-friendly, ensuring flexibility and ease of use. \"},\"typeVersion\":1},{\"id\":\"96cd5a16-f12d-4373-be7b-9ebe1549ccb8\",\"name\":\"Sticky Note12\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1320,40],\"parameters\":{\"color\":7,\"width\":816.4288734746297,\"height\":662.0100319801938,\"content\":\"![Qualys](https://uploads.n8n.io/templates/qualys.png)\\n## Report ID are retrieved and the Scan report is requested from Qualys\\nIn this section, the process begins with the \\\"Fetch Report IDs\\\" node, which performs an HTTP GET request to retrieve a list of available report templates. \\n\\nThis request utilizes predefined API credentials and the output, in XML format, is then converted to JSON by the \\\"Convert XML to JSON\\\" node for easier manipulation. Following this, the \\\"Launch Report\\\" node sends an HTTP POST request to Qualys to initiate the generation of a report based on parameters like the template ID, output format, and report title, which are dynamically sourced from global variables. \\n\\nThis node also includes additional configurations such as query parameters and headers to tailor the request. Finally, the \\\"Convert Report Launch XML to JSON\\\" node processes the XML response from the report launch, converting it into JSON format. This sequence ensures a streamlined and automated handling of report generation tasks within Qualys, facilitating efficient data processing and integration within the workflow.\"},\"typeVersion\":1},{\"id\":\"ec51d524-4cef-4d78-a5d0-38dbe6c53825\",\"name\":\"Sticky Note15\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2140,33.01345938069812],\"parameters\":{\"color\":7,\"width\":391.7799748314626,\"height\":664.948136798539,\"content\":\"![n8n](https://uploads.n8n.io/templates/n8n.png)\\n\\n## n8n Loop Node\\n\\nThis node queries the report status at regular intervals (every minute) until the report is marked as finished. Once the report is complete, the loop ends, and the results are posted to Slack as a PDF attachment, ensuring the team is promptly informed. \\n\\nFor a SOC, continuous monitoring ensures timely updates, while automation of the waiting period frees up analysts' time for other tasks. Prompt notifications to Slack enable quick action on the completed reports, enhancing overall efficiency.\"},\"typeVersion\":1},{\"id\":\"894b9ea3-ab3b-4459-8576-49fd107d4c7f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2540,36.092592419318635],\"parameters\":{\"color\":7,\"width\":670.8185951020379,\"height\":655.5577875573053,\"content\":\"![Qualys](https://uploads.n8n.io/templates/qualys.png)\\n## Check Status of Report in Qualys API\\n\\nThis node checks the status of the report in the Qualys API. After parsing the XML response to ensure the report is complete, it submits the report details to Slack. \\n\\nThis step is crucial for maintaining an automated and efficient workflow. For SOCs, automated monitoring reduces the need for manual checking, ensuring that only completed reports are processed further, which maintains data integrity. \\n\\nAdditionally, integrating with Slack streamlines operations by seamlessly communicating report statuses.\"},\"typeVersion\":1},{\"id\":\"24a96b8a-1ed9-42ee-802b-952000f3cfab\",\"name\":\"Sticky Note13\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[3220,40],\"parameters\":{\"color\":7,\"width\":473.6487484083029,\"height\":650.1491670103001,\"content\":\"![Slack](https://uploads.n8n.io/templates/slack.png)\\n## Upload Report to Slack\\n\\nThis node automates the process of uploading the generated report to a designated Slack channel. \\n\\nBy ensuring that the report, whether in PDF or HTML format, is easily accessible to the team, it streamlines communication and enhances collaboration. \\n\\nFor a Security Operations Center (SOC), this feature significantly improves accessibility, as team members can quickly access the latest reports directly from Slack. \\n\\nIt also enhances collaboration by sharing reports in a common communication platform and provides real-time updates, allowing for timely review and action.\"},\"typeVersion\":1},{\"id\":\"c179e45b-37a8-423f-a542-74e6166b09f0\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,80],\"parameters\":{\"width\":646.7396383244529,\"height\":1327.6335333503064,\"content\":\"![n8n](https://uploads.n8n.io/templates/n8n.png)\\n# Create Qualys Scan Slack Report Subworkflow\\n\\n## Introducing the Qualys Create Report Workflow—a robust solution designed to automate the generation and retrieval of security reports from the Qualys API.\\n\\nThis workflow is a sub workflow of the `Qualys Slack Shortcut Bot` workflow. It is triggered when someone fills out the modal popup in slack generated by the `Qualys Slack Shortcut Bot`.\\n\\nWhen deploying this workflow, use the Demo Data node to simulate the data that is input via the Execute Workflow Trigger. That data flows into the Global Variables Node which is then referenced by the rest of the workflow. \\n\\nIt includes nodes to Fetch the Report IDs and then Launch a report, and then check the report status periodically and download the completed report, which is then posted to Slack for easy access. \\n\\nFor Security Operations Centers (SOCs), this workflow provides significant benefits by automating tedious tasks, ensuring timely updates, and facilitating efficient data handling.\\n\\n**How It Works:**\\n\\n- **Fetch Report Templates:** The \\\"Fetch Report IDs\\\" node retrieves a list of available report templates from Qualys. This automated retrieval saves time and ensures that the latest templates are used, enhancing the accuracy and relevance of reports.\\n  \\n- **Convert XML to JSON:** The response is converted to JSON format for easier manipulation. This step simplifies data handling, making it easier for SOC analysts to work with the data and integrate it into other tools or processes.\\n  \\n- **Launch Report:** A POST request is sent to Qualys to initiate report generation using specified parameters like template ID and report title. Automating this step ensures consistency and reduces the chance of human error, improving the reliability of the reports generated.\\n  \\n- **Loop and Check Status:** The workflow loops every minute to check if the report generation is complete. Continuous monitoring automates the waiting process, freeing up SOC analysts to focus on higher-priority tasks while ensuring they are promptly notified when reports are ready.\\n  \\n- **Download Report:** Once the report is ready, it is downloaded from Qualys. Automated downloading ensures that the latest data is always available without manual intervention, improving efficiency.\\n  \\n- **Post to Slack:** The final report is posted to a designated Slack channel for quick access. This integration with Slack ensures that the team can promptly access and review the reports, facilitating swift action and decision-making.\\n\\n\\n**Get Started:**\\n\\n- Ensure your [Slack](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.slack) and [Qualys](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-creds-base.qualysApi) integrations are properly set up.\\n- Customize the workflow to fit your specific reporting needs.\\n\\n\\n**Need Help?**\\n\\n- Join the discussion on our Forum or check out resources on Discord!\\n\\n\\nDeploy this workflow to streamline your security report generation process, improve response times, and enhance the efficiency of your security operations.\"},\"typeVersion\":1},{\"id\":\"32479679-791d-4c1d-b0c8-9102c3b879a5\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1420,700],\"parameters\":{\"color\":5,\"width\":532.5097590794944,\"height\":726.1144174692245,\"content\":\"![Qualys](https://uploads.n8n.io/templates/qualysscanreport.png)\\n### 🔄This workflow is triggered by this slack modal. The Report Template Dropdown is powered by another Sub Workflow\"},\"typeVersion\":1},{\"id\":\"0340d311-8b41-4c3e-a023-9ea50301247c\",\"name\":\"Demo Data\",\"type\":\"n8n-nodes-base.set\",\"position\":[1020,500],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"47cd1502-3039-4661-a6b1-e20a74056550\",\"name\":\"report_title\",\"type\":\"string\",\"value\":\"Test Report\"},{\"id\":\"9a15f4db-f006-4ad8-a2c0-4002dd3e2655\",\"name\":\"output_format\",\"type\":\"string\",\"value\":\"pdf\"},{\"id\":\"13978e05-7e7f-42e9-8645-d28803db8cc9\",\"name\":\"template_name\",\"type\":\"string\",\"value\":\"Technical Report\"}]}},\"typeVersion\":3.3},{\"id\":\"f007312a-ea15-4188-8461-2f69550d9214\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,700],\"parameters\":{\"color\":5,\"width\":596.6847639718076,\"height\":438.8903816479826,\"content\":\"![Qualys](https://uploads.n8n.io/templates/qualysscanshortcut.png)\\n### 🤖 Triggering this workflow is as easy as typing a backslash in Slack and filling out the modal on the right\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Demo Data\":{\"main\":[[{\"node\":\"Global Variables\",\"type\":\"main\",\"index\":0}]]},\"Launch Report\":{\"main\":[[{\"node\":\"Convert Report Launch XML to JSON\",\"type\":\"main\",\"index\":0}]]},\"Wait 1 Minute\":{\"main\":[[{\"node\":\"Check Status of Report\",\"type\":\"main\",\"index\":0}]]},\"Download Report\":{\"main\":[[{\"node\":\"Slack\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[null,[{\"node\":\"Wait 1 Minute\",\"type\":\"main\",\"index\":0}]]},\"Fetch Report IDs\":{\"main\":[[{\"node\":\"Convert XML To JSON\",\"type\":\"main\",\"index\":0}]]},\"Global Variables\":{\"main\":[[{\"node\":\"Fetch Report IDs\",\"type\":\"main\",\"index\":0}]]},\"Convert XML To JSON\":{\"main\":[[{\"node\":\"Launch Report\",\"type\":\"main\",\"index\":0}]]},\"Is Report Finished?\":{\"main\":[[{\"node\":\"Download Report\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Check Status of Report\":{\"main\":[[{\"node\":\"Convert Report List to JSON\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow Trigger\":{\"main\":[[{\"node\":\"Demo Data\",\"type\":\"main\",\"index\":0}]]},\"Convert Report List to JSON\":{\"main\":[[{\"node\":\"Is Report Finished?\",\"type\":\"main\",\"index\":0}]]},\"Convert Report Launch XML to JSON\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Introducing the Qualys Scan Slack Report Subworkflow—a robust solution designed to automate the generation and retrieval of security reports from the Qualys API.\n\nThis workflow is a sub workflow of the `Qualys Slack Shortcut Bot` workflow. It is triggered when someone fills out the modal popup in slack generated by the `Qualys Slack Shortcut Bot`.\n\nWhen deploying this workflow, use the Demo Data node to simulate the data that is input via the Execute Workflow Trigger. That data flows into the Global Variables Node which is then referenced by the rest of the workflow.\n\nIt includes nodes to Fetch the Report IDs and then Launch a report, and then check the report status periodically and download the completed report, which is then posted to Slack for easy access.\n\nFor Security Operations Centers (SOCs), this workflow provides significant benefits by automating tedious tasks, ensuring timely updates, and facilitating efficient data handling.\n\n## How It Works\n\n  * **Fetch Report Templates:** The \"Fetch Report IDs\" node retrieves a list of available report templates from Qualys. This automated retrieval saves time and ensures that the latest templates are used, enhancing the accuracy and relevance of reports.\n\n  * **Convert XML to JSON:** The response is converted to JSON format for easier manipulation. This step simplifies data handling, making it easier for SOC analysts to work with the data and integrate it into other tools or processes.\n\n  * **Launch Report:** A POST request is sent to Qualys to initiate report generation using specified parameters like template ID and report title. Automating this step ensures consistency and reduces the chance of human error, improving the reliability of the reports generated.\n\n  * **Loop and Check Status:** The workflow loops every minute to check if the report generation is complete. Continuous monitoring automates the waiting process, freeing up SOC analysts to focus on higher-priority tasks while ensuring they are promptly notified when reports are ready.\n\n  * **Download Report:** Once the report is ready, it is downloaded from Qualys. Automated downloading ensures that the latest data is always available without manual intervention, improving efficiency.\n\n  * **Post to Slack:** The final report is posted to a designated Slack channel for quick access. This integration with Slack ensures that the team can promptly access and review the reports, facilitating swift action and decision-making.\n\n\n\n\n## Get Started\n\n  * Ensure your [Slack](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.slack) and [Qualys](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-creds-base.qualysApi) integrations are properly set up.\n  * Customize the workflow to fit your specific reporting needs.\n  * [Link to parent workflow](https://n8n.io/workflows/2510-enhance-security-operations-with-the-qualys-slack-shortcut-bot/)\n  * [Link to Vulnerability Scan Trigger](https://n8n.io/workflows/2511-qualys-vulnerability-trigger-scan-subworkflow/)\n\n\n\n## Need Help?\n\n  * Join the discussion on our Forum or check out resources on Discord!\n\n\n\nDeploy this workflow to streamline your security report generation process, improve response times, and enhance the efficiency of your security operations.\n",
  "crawled_at": "2025-05-26T00:06:55.294908",
  "readme_zh": "## 介绍Qualys扫描Slack报告子工作流——一个专为自动化生成和获取Qualys API安全报告而设计的强大解决方案。\n\n该工作流是`Qualys Slack快捷机器人`工作流的子流程，当有人填写由`Qualys Slack快捷机器人`生成的Slack弹窗表单时触发。\n\n部署时，请使用\"演示数据节点\"模拟通过\"执行工作流触发器\"输入的数据。这些数据会流入\"全局变量节点\"，供后续工作流节点调用。\n\n本流程包含获取报告ID、发起报告生成、定时检查报告状态、下载已生成报告等节点，最终将报告推送至Slack便于查阅。\n\n对于安全运营中心(SOC)而言，此工作流通过自动化繁琐任务、确保及时更新和优化数据处理，能显著提升工作效率。\n\n## 运行机制\n\n* **获取报告模板**：通过\"获取报告ID\"节点从Qualys拉取可用模板列表。自动化获取既节省时间，又能保证使用最新模板，提升报告准确性和相关性。\n\n* **XML转JSON**：将响应数据转换为JSON格式以便处理。此步骤简化了数据分析，便于SOC分析师后续操作或与其他工具集成。\n\n* **生成报告**：向Qualys发送POST请求，根据模板ID、报告标题等参数启动报告生成。自动化此步骤可确保一致性，减少人为失误，提高报告可靠性。\n\n* **轮询检查状态**：工作流每分钟自动检查报告生成状态。持续监控解放了SOC分析师的时间，同时确保报告就绪时能立即获得通知。\n\n* **下载报告**：报告完成后自动从Qualys下载。无需人工干预即可获取最新数据，提升效率。\n\n* **推送至Slack**：最终报告自动发布到指定Slack频道。与Slack的集成确保团队能及时查阅报告，加速决策流程。\n\n## 开始使用\n\n* 确保已正确配置[Slack](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.slack)和[Qualys](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-creds-base.qualysApi)集成\n* 根据实际报告需求自定义工作流\n* [查看主工作流](https://n8n.io/workflows/2510-enhance-security-operations-with-the-qualys-slack-shortcut-bot/)\n* [查看漏洞扫描触发器](https://n8n.io/workflows/2511-qualys-vulnerability-trigger-scan-subworkflow/)\n\n## 获取帮助\n\n* 欢迎加入论坛讨论或访问Discord获取资源！\n\n部署此工作流可优化安全报告生成流程、缩短响应时间，全面提升安全运营效率。",
  "title_zh": "Qualys扫描Slack报告子工作流",
  "publish_date_zh": "最后更新于6个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"1de0b08b-585a-43a9-bf32-34cdd763fbb0\",\n      \"name\": \"Global Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1180,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6a8a0cbf-bf3e-4702-956e-a35966d8b9c5\",\n              \"name\": \"base_url\",\n              \"type\": \"string\",\n              \"value\": \"https://qualysapi.qg3.apps.qualys.com\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"cc10e116-1a16-4bd9-bdbb-27baa680dc91\",\n      \"name\": \"Fetch Report IDs\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1400,\n        500\n      ],\n      \"parameters\": {\n        \"\": \"\",\n        \"url\": \"={{ $json.base_url }}/msp/report_template_list.php\",\n        \"method\": \"GET\",\n        \"options\": {},\n        \"sendBody\": false,\n        \"sendQuery\": false,\n        \"curlImport\": \"\",\n        \"infoMessage\": \"\",\n        \"sendHeaders\": false,\n        \"authentication\": \"predefinedCredentialType\",\n        \"httpVariantWarning\": \"\",\n        \"nodeCredentialType\": \"qualysApi\",\n        \"provideSslCertificates\": false\n      },\n      \"credentials\": {\n        \"qualysApi\": {\n          \"id\": \"KdkmNjVYkDUzHAvw\",\n          \"name\": \"Qualys account\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"extendsCredential\": \"qualysApi\"\n    },\n    {\n      \"id\": \"69e097c2-ba05-4964-af82-ce07fb2a6535\",\n      \"name\": \"Convert XML To JSON\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        1580,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d2a2001a-4df8-4482-9ecf-62a7aed90a9c\",\n      \"name\": \"Launch Report\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1760,\n        500\n      ],\n      \"parameters\": {\n        \"\": \"\",\n        \"url\": \"={{ $('Global Variables').item.json[\\\"base_url\\\"] }}/api/2.0/fo/report/\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"curlImport\": \"\",\n        \"contentType\": \"multipart-form-data\",\n        \"infoMessage\": \"\",\n        \"sendHeaders\": true,\n        \"specifyQuery\": \"keypair\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"template_id\",\n              \"value\": \"={{ $jmespath($json[\\\"REPORT_TEMPLATE_LIST\\\"][\\\"REPORT_TEMPLATE\\\"], \\\"[?TITLE == '\\\"+$('Global Variables').item.json.template_name+\\\"'].ID\\\") | [0] }}\",\n              \"parameterType\": \"formData\"\n            },\n            {\n              \"name\": \"=output_format\",\n              \"value\": \"={{ $('Global Variables').item.json.output_format }}\",\n              \"parameterType\": \"formData\"\n            },\n            {\n              \"name\": \"report_title\",\n              \"value\": \"={{ $('Global Variables').item.json.report_title }}\",\n              \"parameterType\": \"formData\"\n            }\n          ]\n        },\n        \"specifyHeaders\": \"keypair\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"action\",\n              \"value\": \"launch\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Requested-With\",\n              \"value\": \"n8n\"\n            }\n          ]\n        },\n        \"httpVariantWarning\": \"\",\n        \"nodeCredentialType\": \"qualysApi\",\n        \"provideSslCertificates\": false\n      },\n      \"credentials\": {\n        \"qualysApi\": {\n          \"id\": \"KdkmNjVYkDUzHAvw\",\n          \"name\": \"Qualys account\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"extendsCredential\": \"qualysApi\"\n    },\n    {\n      \"id\": \"3f525e48-2866-42ba-a09d-05b8f5aa092d\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        2200,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": true\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"e202aab9-f9fe-4f6e-ac50-4d4b3b30c1f4\",\n      \"name\": \"Wait 1 Minute\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        2400,\n        500\n      ],\n      \"webhookId\": \"b99241f2-8b9b-4699-a006-9a3e8457c42c\",\n      \"parameters\": {\n        \"unit\": \"minutes\",\n        \"amount\": 1\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"eb8db4f0-eacb-4d3d-ae8c-77c096bbb289\",\n      \"name\": \"Check Status of Report\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2560,\n        500\n      ],\n      \"parameters\": {\n        \"\": \"\",\n        \"url\": \"={{ $('Global Variables').item.json.base_url }}/api/2.0/fo/report\",\n        \"method\": \"GET\",\n        \"options\": {},\n        \"sendBody\": false,\n        \"sendQuery\": true,\n        \"curlImport\": \"\",\n        \"infoMessage\": \"\",\n        \"sendHeaders\": false,\n        \"specifyQuery\": \"keypair\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"action\",\n              \"value\": \"list\"\n            },\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $('Convert Report Launch XML to JSON').item.json[\\\"SIMPLE_RETURN\\\"][\\\"RESPONSE\\\"][\\\"ITEM_LIST\\\"][\\\"ITEM\\\"][\\\"VALUE\\\"] }}\"\n            }\n          ]\n        },\n        \"httpVariantWarning\": \"\",\n        \"nodeCredentialType\": \"qualysApi\",\n        \"provideSslCertificates\": false\n      },\n      \"credentials\": {\n        \"qualysApi\": {\n          \"id\": \"KdkmNjVYkDUzHAvw\",\n          \"name\": \"Qualys account\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"extendsCredential\": \"qualysApi\"\n    },\n    {\n      \"id\": \"7cfcaa0c-7b0e-4704-8268-d5869677a58e\",\n      \"name\": \"Is Report Finished?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2900,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"97935da6-84fa-4756-83e1-4fbf5861baec\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.REPORT_LIST_OUTPUT.RESPONSE.REPORT_LIST.REPORT.STATUS.STATE }}\",\n              \"rightValue\": \"Finished\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b1a1f2bf-ddb1-4343-be2e-929128ed502c\",\n      \"name\": \"Download Report\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        3080,\n        500\n      ],\n      \"parameters\": {\n        \"\": \"\",\n        \"url\": \"={{ $('Global Variables').item.json.base_url }}/api/2.0/fo/report/\",\n        \"method\": \"GET\",\n        \"options\": {},\n        \"sendBody\": false,\n        \"sendQuery\": true,\n        \"curlImport\": \"\",\n        \"infoMessage\": \"\",\n        \"sendHeaders\": false,\n        \"specifyQuery\": \"keypair\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"action\",\n              \"value\": \"fetch\"\n            },\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $('Convert Report Launch XML to JSON').item.json.SIMPLE_RETURN.RESPONSE.ITEM_LIST.ITEM.VALUE }}\"\n            }\n          ]\n        },\n        \"httpVariantWarning\": \"\",\n        \"nodeCredentialType\": \"qualysApi\",\n        \"provideSslCertificates\": false\n      },\n      \"credentials\": {\n        \"qualysApi\": {\n          \"id\": \"KdkmNjVYkDUzHAvw\",\n          \"name\": \"Qualys account\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"extendsCredential\": \"qualysApi\"\n    },\n    {\n      \"id\": \"aa1bb6b0-12db-4624-a682-d719e7463bdb\",\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        3400,\n        540\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"channelId\": \"=C05LAN72WJK\",\n          \"initialComment\": \"=📊 *Test Report* (Scan) by `aztec3am1` is ready!\\n\\n- *ID:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"ID\\\"] }}\\n- *Launch Time:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"LAUNCH_DATETIME\\\"] }}\\n- *Output Format:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"OUTPUT_FORMAT\\\"] }}\\n- *Size:* {{ $('Download Report').item.binary.data.fileSize }}\\n- *Status:* ✅ Finished\\n- *Expiration Time:* {{ $('Download Report').item.json[\\\"REPORT_LIST_OUTPUT\\\"][\\\"RESPONSE\\\"][\\\"REPORT_LIST\\\"][\\\"REPORT\\\"][\\\"EXPIRATION_DATETIME\\\"] }}\\n\"\n        },\n        \"resource\": \"file\"\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"hOkN2lZmH8XimxKh\",\n          \"name\": \"TheHive Slack App\"\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"3ab2cc79-9634-4a8a-ac72-c8e32370572a\",\n      \"name\": \"Convert Report Launch XML to JSON\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        1980,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c24e8997-8594-4abc-8313-0198abfc7f5d\",\n      \"name\": \"Convert Report List to JSON\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        2740,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"33fa7420-b65f-4af1-8dad-19840b43e8cc\",\n      \"name\": \"Execute Workflow Trigger\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        860,\n        500\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2c8b286a-0e00-49e1-81c2-e94ef5b7725e\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820.9673276258711,\n        38.56257011400896\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 489.3146851921929,\n        \"height\": 655.6477214487218,\n        \"content\": \"![Slack](https://uploads.n8n.io/templates/slack.png)\\n## 由Slack父工作流触发\\n\\n本部分由父级n8n工作流`Qualys Slack快捷机器人`触发。当用户填写完Slack模态弹窗数据并点击提交按钮时，该流程即被激活。\\n\\n这些模态窗口可自定义以执行多种操作，其设计兼顾移动端适配性，确保使用灵活性与操作便捷性。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"96cd5a16-f12d-4373-be7b-9ebe1549ccb8\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        40\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 816.4288734746297,\n        \"height\": 662.0100319801938,\n        \"content\": \"![Qualys](https://uploads.n8n.io/templates/qualys.png)\\n## 获取报告ID并向Qualys请求扫描报告\\n本环节始于\\\"获取报告ID\\\"节点，该节点通过HTTP GET请求获取可用报告模板列表。  \\n\\n此请求使用预设的API凭证，随后\\\"XML转JSON\\\"节点将XML格式的输出转换为JSON以便后续处理。接着\\\"生成报告\\\"节点向Qualys发送HTTP POST请求，根据模板ID、输出格式和报告标题等参数（这些参数均从全局变量动态获取）启动报告生成流程。  \\n\\n该节点还包含查询参数和请求头等额外配置以定制请求。最后\\\"报告生成XML转JSON\\\"节点处理报告生成请求返回的XML响应，将其转换为JSON格式。这一系列操作实现了Qualys系统内报告生成任务的自动化流水线处理，有效提升了工作流中的数据加工与集成效率。  \\n\\n（注：根据技术文档翻译规范，保留专业术语\\\"Qualys\\\"、\\\"JSON\\\"、\\\"XML\\\"、\\\"API\\\"等原词不译；\\\"node\\\"统一译为\\\"节点\\\"；\\\"template\\\"在IT语境下译为\\\"模板\\\"；动态动词如\\\"fetch/retrieve\\\"译为\\\"获取\\\"，\\\"launch\\\"译为\\\"生成/启动\\\"；长句按中文习惯切分为短句，如将\\\"which are dynamically sourced from...\\\"处理为括号补充说明）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ec51d524-4cef-4d78-a5d0-38dbe6c53825\",\n      \"name\": \"Sticky Note15\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2140,\n        33.01345938069812\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 391.7799748314626,\n        \"height\": 664.948136798539,\n        \"content\": \"![n8n](https://uploads.n8n.io/templates/n8n.png)\\n\\n## n8n循环节点\\n\\n该节点会每分钟定期查询报告状态，直至报告标记为完成。一旦报告生成完毕，循环即终止，并将结果以PDF附件形式发送至Slack，确保团队能即时获知信息。\\n\\n对于安全运营中心（SOC）而言，持续监控保证了状态更新的及时性，而等待过程的自动化则解放了分析人员的时间，使其能专注于其他任务。通过Slack即时推送通知，团队可对已完成的报告迅速采取行动，从而全面提升工作效率。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"894b9ea3-ab3b-4459-8576-49fd107d4c7f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2540,\n        36.092592419318635\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 670.8185951020379,\n        \"height\": 655.5577875573053,\n        \"content\": \"![Qualys](https://uploads.n8n.io/templates/qualys.png)\\n## 检查Qualys API中的报告状态\\n\\n该节点用于检查Qualys API中的报告状态。在解析XML响应以确保报告完成后，它会将报告详情提交至Slack。\\n\\n这一步骤对于保持自动化且高效的工作流程至关重要。对于安全运营中心(SOC)而言，自动化监控减少人工检查需求，确保仅处理已完成的报告，从而维护数据完整性。\\n\\n此外，通过与Slack集成，能够无缝传递报告状态，从而优化操作流程。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"24a96b8a-1ed9-42ee-802b-952000f3cfab\",\n      \"name\": \"Sticky Note13\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        3220,\n        40\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 473.6487484083029,\n        \"height\": 650.1491670103001,\n        \"content\": \"![Slack](https://uploads.n8n.io/templates/slack.png)\\n## 上传报告至Slack\\n\\n该节点可自动将生成的报告上传至指定Slack频道。\\n\\n通过确保团队能便捷获取PDF或HTML格式的报告，有效优化沟通流程并加强协作。\\n\\n对于安全运营中心(SOC)而言，此功能显著提升了报告的可及性——团队成员可直接在Slack中快速查阅最新报告。\\n\\n通过在统一通讯平台共享报告，该功能不仅强化了团队协作能力，还能提供实时更新，确保及时查阅与响应。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c179e45b-37a8-423f-a542-74e6166b09f0\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 646.7396383244529,\n        \"height\": 1327.6335333503064,\n        \"content\": \"![n8n](https://uploads.n8n.io/templates/n8n.png)\\n# 创建Qualys扫描报告Slack通知子流程\\n\\n## Qualys报告生成工作流介绍——这套自动化解决方案专为从Qualys API生成并获取安全报告而设计。\\n\\n本流程是`Qualys Slack快捷机器人`主流程的子流程。当有人在Slack中填写完`Qualys Slack快捷机器人`生成的弹窗表单后，该子流程即被触发。\\n\\n部署时，请使用Demo Data节点模拟通过\\\"执行工作流触发器\\\"输入的数据。这些数据会流入全局变量节点，供后续流程调用。\\n\\n流程包含获取报告ID、发起报告生成、定期检查报告状态、下载完成后的报告等节点，最终将报告推送至Slack便于团队查阅。\\n\\n对于安全运营中心(SOC)而言，本工作流通过自动化繁琐任务、确保及时更新和优化数据处理，能显著提升工作效率。\\n\\n**运作原理:**\\n\\n- **获取报告模板:** \\\"获取报告ID\\\"节点从Qualys拉取可用模板列表。自动化获取既节省时间，又能确保使用最新模板，提升报告的准确性和时效性。\\n  \\n- **XML转JSON:** 将响应数据转换为JSON格式便于处理。这一步骤简化了数据分析，方便SOC团队后续使用或集成到其他工具中。\\n  \\n- **发起报告:** 向Qualys发送POST请求，根据模板ID、报告标题等参数启动报告生成。自动化操作确保格式统一，减少人为失误。\\n  \\n- **轮询检查状态:** 每分钟自动检查报告生成状态。持续监控机制解放了SOC人员，使其能专注优先级任务，同时确保报告就绪时立即获得通知。\\n  \\n- **下载报告:** 报告完成后自动从Qualys下载。无需人工干预即可获取最新数据，提升运营效率。\\n  \\n- **推送Slack:** 最终报告自动发布至指定Slack频道。与Slack的集成确保团队能及时查阅分析，加速响应与决策流程。\\n\\n\\n**快速开始:**\\n\\n- 确保已正确配置[Slack](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.slack)和[Qualys](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-creds-base.qualysApi)集成\\n- 根据实际报告需求自定义工作流\\n\\n\\n**需要帮助?**\\n\\n- 欢迎加入论坛讨论或访问Discord获取资源！\\n\\n\\n立即部署此工作流，实现安全报告生成自动化，缩短响应时间，全面提升安全运营效率。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"32479679-791d-4c1d-b0c8-9102c3b879a5\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1420,\n        700\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 532.5097590794944,\n        \"height\": 726.1144174692245,\n        \"content\": \"![Qualys](https://uploads.n8n.io/templates/qualysscanreport.png)\\n### 🔄This workflow is triggered by this slack modal. The Report Template Dropdown is powered by another Sub Workflow\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0340d311-8b41-4c3e-a023-9ea50301247c\",\n      \"name\": \"Demo Data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1020,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"47cd1502-3039-4661-a6b1-e20a74056550\",\n              \"name\": \"report_title\",\n              \"type\": \"string\",\n              \"value\": \"Test Report\"\n            },\n            {\n              \"id\": \"9a15f4db-f006-4ad8-a2c0-4002dd3e2655\",\n              \"name\": \"output_format\",\n              \"type\": \"string\",\n              \"value\": \"pdf\"\n            },\n            {\n              \"id\": \"13978e05-7e7f-42e9-8645-d28803db8cc9\",\n              \"name\": \"template_name\",\n              \"type\": \"string\",\n              \"value\": \"Technical Report\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"f007312a-ea15-4188-8461-2f69550d9214\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        700\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 596.6847639718076,\n        \"height\": 438.8903816479826,\n        \"content\": \"![Qualys](https://uploads.n8n.io/templates/qualysscanshortcut.png)\\n### 🤖 Triggering this workflow is as easy as typing a backslash in Slack and filling out the modal on the right\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Demo Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Global Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Launch Report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert Report Launch XML to JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait 1 Minute\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Status of Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        null,\n        [\n          {\n            \"node\": \"Wait 1 Minute\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Report IDs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert XML To JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Global Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Report IDs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert XML To JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Launch Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Report Finished?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Status of Report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert Report List to JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Demo Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert Report List to JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Report Finished?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert Report Launch XML to JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}