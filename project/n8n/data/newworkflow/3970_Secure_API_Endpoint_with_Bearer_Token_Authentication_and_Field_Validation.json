{
  "url": "https://n8n.io/workflows/3970-secure-api-endpoint-with-bearer-token-authentication-and-field-validation/",
  "title": "Secure API Endpoint with Bearer Token Authentication and Field Validation",
  "author": "Audun",
  "publish_date": "Last update 12 days ago",
  "publish_date_absolute": "2025-05-14",
  "categories": [
    {
      "name": "Engineering"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"dfb8aefc80b77b230bd90d6a6e5210eb7a28e6e1d2a8b1d27d54942b54eb9e7a\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"4f42007b-3813-410f-a608-5af89459b14f\",\"name\":\"Check Authorization Header\",\"type\":\"n8n-nodes-base.if\",\"position\":[-20,20],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $('Webhook').item.json.headers.authorization }}\",\"value2\":\"=Bearer {{ $json.config.bearerToken }}\"}]}},\"typeVersion\":1},{\"id\":\"86d6157e-593d-4370-a480-1a9417300555\",\"name\":\"401 Unauthorized\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[340,280],\"parameters\":{\"options\":{\"responseCode\":401},\"respondWith\":\"json\",\"responseBody\":\"{\\n  \\\"code\\\": 401,\\n  \\\"message\\\": \\\"Unauthorized: Missing or invalid authorization token.\\\",\\n  \\\"hint\\\": \\\"Ensure the request includes a valid 'Authorization' header (e.g., 'Bearer YOUR_SECRET_TOKEN').\\\"\\n}\"},\"typeVersion\":1},{\"id\":\"0831093a-adef-41dc-8ac0-2e1998fc22ad\",\"name\":\"200 OK\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1140,20],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"b4f42651-c7f6-43a3-a695-7d5197b45642\",\"name\":\"Configuration\",\"type\":\"n8n-nodes-base.set\",\"position\":[-300,20],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"4c35898d-5a70-41bc-9fb6-9d63bbbee222\",\"name\":\"config.bearerToken\",\"type\":\"string\",\"value\":\"123\"},{\"id\":\"822739a6-15da-48df-8f92-c4b1adce5fef\",\"name\":\"config.requiredFields.message\",\"type\":\"string\",\"value\":\"true\"}]}},\"typeVersion\":3.4},{\"id\":\"f1539109-8585-4cf2-9b9b-f3012544ac6c\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-580,20],\"webhookId\":\"2c5b9b70-1b08-44b1-a007-dc3d9f7e70db\",\"parameters\":{\"path\":\"secure-webhook\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":1},{\"id\":\"bcf1183c-9a3d-41eb-89f7-1666d3a6c5fc\",\"name\":\"Has required fields?\",\"type\":\"n8n-nodes-base.code\",\"position\":[220,20],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"if(! $json.config.requiredFields) {\\n  return { json: { valid: true } };\\n}\\n\\nconst body = $('Webhook').first().json.body;\\n\\nlet requiredFields = $json.config.requiredFields;\\n\\nfor (let [key, value] of Object.entries(requiredFields)) {\\n  console.log(`${key}: ${value}`);\\n  if (!(key in body)) {\\n    return { json: { valid: false } };\\n  }\\n}\\n\\nreturn { json: { valid: true } };\"},\"typeVersion\":2},{\"id\":\"81b125f1-faa0-4998-8624-431746052a84\",\"name\":\"Check Valid Request\",\"type\":\"n8n-nodes-base.if\",\"position\":[440,20],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8c7fe174-f284-4e41-b851-8939f0c2d19f\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.valid }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"906c671d-e2a6-4a9e-b7df-d7b9142ffeb4\",\"name\":\"400 Bad Request\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[780,280],\"parameters\":{\"options\":{\"responseCode\":401},\"respondWith\":\"json\",\"responseBody\":\"{\\n  \\\"code\\\": 400,\\n  \\\"message\\\": \\\"Bad Request: Missing required fields\\\",\\n  \\\"hint\\\": \\\"Make sure all required fields are included in the request body.\\\"\\n}\"},\"typeVersion\":1},{\"id\":\"ce657170-34e4-4b40-ba22-bb4638fa98c6\",\"name\":\"Create Response\",\"type\":\"n8n-nodes-base.set\",\"position\":[920,20],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"c6258b81-6f40-4dd5-8a60-89e2b0322490\",\"name\":\"message\",\"type\":\"string\",\"value\":\"Success! Workflow completed.\"}]}},\"typeVersion\":3.4},{\"id\":\"0a6b9f12-9b60-458e-85de-014a66063e50\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-440,-280],\"parameters\":{\"color\":6,\"width\":360,\"height\":460,\"content\":\"### ğŸ› ï¸ Config Node Setup\\n\\n*This node defines the configuration for the secure webhook.*\\n\\n- `config.bearerToken`: The expected Bearer token for authentication.\\n\\n- `config.requiredFields`: Set one key for each required field in the incoming request body (e.g., `config.requiredFields.message`.\\n*ğŸ‘‰ The value doesn't matter, only the keys are checked.*\"},\"typeVersion\":1},{\"id\":\"bba24ba5-3c8d-40f7-99e0-44115b1025e0\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-440,200],\"parameters\":{\"color\":3,\"width\":1740,\"height\":240,\"content\":\"### ğŸš« Error Handling Nodes\\n\\n*These nodes return standardized JSON error responses:*\\n\\n- ğŸ”’ `401 Unauthorized`:\\nTriggered when the request is missing a valid Bearer token.\\n\\n- ğŸ“­ `400 Bad Request`:\\nTriggered when required fields are missing from the request body.\"},\"typeVersion\":1},{\"id\":\"f451c9be-4cfb-4628-8aa7-66b66ad86bab\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[840,-280],\"parameters\":{\"color\":4,\"width\":460,\"height\":460,\"content\":\"### âœ… Set & 200 Response Nodes\\n\\n- ğŸ§± `Create Response`\\nBuilds the JSON response from the incoming request.\\nUse this to extract, transform, or forward specific values (e.g., message, sender, etc.).\\n\\n- ğŸ“¬ `200 OK`\\nReturns a successful response using values from the `Create Response` node.\"},\"typeVersion\":1},{\"id\":\"8d4e8406-c3fe-4e8a-bfa8-18407fe5e67a\",\"name\":\"Add workflow nodes here\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[680,20],\"parameters\":{},\"typeVersion\":1},{\"id\":\"f3f461a6-dc48-42cd-ac75-d045795006d0\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,-280],\"parameters\":{\"color\":7,\"width\":440,\"height\":460,\"content\":\"### ğŸ” Required Fields Validator\\n\\n*This Code node checks if all fields defined in config.requiredFields are present in the incoming request body.*\\n\\n- Reads the body from the Webhook node.\\n\\n- Loops through each key in config.requiredFields.\\n\\n- Returns `{ valid: true }` if all are present, otherwise `{ valid: false }`.\"},\"typeVersion\":1},{\"id\":\"2766dae8-8def-462f-a53c-0f51606eea0a\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1220,-340],\"parameters\":{\"color\":5,\"width\":760,\"height\":780,\"content\":\"## ğŸ” Secure Webhook â€“ Summary\\n\\n*This workflow protects a public webhook with **authentication** and **payload validation**.*\\n\\n\\n---\\n\\n#### ğŸ§© Why use it?\\n- âœ… Ensure only trusted clients can call your workflow (via Bearer token).\\n- âœ… Validate that all expected fields are present in the request body.\\n- âœ… Return helpful and consistent JSON responses (`200`, `400`, `401`).\\n\\n---\\n\\n#### âš™ï¸ How it works:\\n1. **`Webhook`** â€“ Entry point for external `POST` requests.\\n2. **`Configuration`** â€“ Defines `config.bearerToken` and `config.requiredFields`.\\n3. **`Check Authorization Header`** â€“ Compares incoming Bearer token with config.\\n4. **`401 Unauthorized`** â€“ Returned if the token is missing or incorrect.\\n5. **`Has required fields?`** â€“ JS code checks for required fields in the request body.\\n6. **`400 Bad Request`** â€“ Returned if any required field is missing.\\n7. **`Create Response` & `200 OK`** â€“ Returns a custom success message.\\n\\n---\\n\\n#### ğŸ›  Setup Instructions:\\n- Set your desired Bearer token in `config.bearerToken`.\\n- For each required field, set a key in `config.requiredFields`  \\n  *(e.g., `config.requiredFields.message)*.\\n*ğŸ‘‰ The value doesn't matter, only the keys are checked.*\\n- Replace the **`Add workflow nodes here`** node with your own workflow logic.\\n- Edit the `Create Response` node to build your response.\\n\\n---\\n\\nğŸ“Œ *Great for building secure, reusable webhook endpoints for APIs, forms, or 3rd-party services.*\"},\"typeVersion\":1},{\"id\":\"70c8f060-587a-4524-ab32-7362cc0c4cf9\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1220,-600],\"parameters\":{\"color\":6,\"width\":760,\"height\":240,\"content\":\"## Support My Work! â¤ï¸\\n\\n**ğŸ‘‹ Hello! I'm Audun / xqus** \\nğŸ”— My work: [xqus.com](https://xqus.com)\\n\\nIf my n8n workflows saved you time or sparked ideas, [consider sending a little support](https://donate.stripe.com/9AQ6ps6Kna3t8Vi28b) my way. It helps me keep building cool stuff â€” and maybe grab a coffee â˜• along the way!\\n\\n-Thanks a lot! ğŸ™Œ\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"200 OK\":{\"main\":[[]]},\"Webhook\":{\"main\":[[{\"node\":\"Configuration\",\"type\":\"main\",\"index\":0}]]},\"Configuration\":{\"main\":[[{\"node\":\"Check Authorization Header\",\"type\":\"main\",\"index\":0}]]},\"Create Response\":{\"main\":[[{\"node\":\"200 OK\",\"type\":\"main\",\"index\":0}]]},\"Check Valid Request\":{\"main\":[[{\"node\":\"Add workflow nodes here\",\"type\":\"main\",\"index\":0}],[{\"node\":\"400 Bad Request\",\"type\":\"main\",\"index\":0}]]},\"Has required fields?\":{\"main\":[[{\"node\":\"Check Valid Request\",\"type\":\"main\",\"index\":0}]]},\"Add workflow nodes here\":{\"main\":[[{\"node\":\"Create Response\",\"type\":\"main\",\"index\":0}]]},\"Check Authorization Header\":{\"main\":[[{\"node\":\"Has required fields?\",\"type\":\"main\",\"index\":0}],[{\"node\":\"401 Unauthorized\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "A reusable and production-ready n8n workflow that secures public webhooks using **Bearer Token authentication** and **dynamic request validation**.\n\n* * *\n\n## âœ¨ What It Does\n\n  * **Verifies Bearer Token**  \nCompares the `Authorization` header with a configured secret token.\n\n  * **Validates Required Fields**  \nChecks that all expected fields are present in the incoming request body.\n\n  * **Returns Standardized JSON Responses**\n\n    * `401 Unauthorized` if token is missing or invalid\n    * `400 Bad Request` if required fields are missing\n    * `200 OK` with a custom success payload\n\n\n\n* * *\n\n## ğŸ‘¤ Who Itâ€™s For\n\n  * Developers exposing n8n workflows as APIs\n  * No-code/low-code builders integrating with external forms or tools\n  * Anyone needing simple authentication and validation on incoming webhooks\n\n\n\n* * *\n\n## ğŸ’¡ Why Use It\n\n  * ğŸ”’ **Secure** : Prevents unauthorized access to your public workflows\n  * ğŸ§¼ **Clean** : Centralized configuration for token and required fields\n  * âš™ï¸ **Flexible** : Easy to extend and customize for any use case\n\n\n\n* * *\n\n## ğŸ›  Setup Instructions\n\n  1. **Configure Values in the`Configuration` Node**\n\n     * Set your secret token:  \n`config.bearerToken = YOUR_TOKEN`\n     * Define required request fields by key:  \nExample:\n           \n           config.requiredFields.message = true;\n           config.requiredFields.email = true;\n           \n\nâœ… Only the **keys** matter â€“ values can be anything.\n  2. **Plug in Your Business Logic**  \nReplace the `\"Add workflow nodes here\"` with your own logic.\n\n  3. **Customize the Success Response**  \nEdit the `Create Response` node to shape your success payload.\n\n\n\n\n* * *\n\n## ğŸ§ª Use Cases\n\n  * Securing public form submissions\n  * Creating internal API endpoints\n  * Validating data from external services\n\n\n\n* * *\n\nğŸ“Œ _Use this as a base for building secure, API-style workflows in n8n._\n\n* * *\n\n**ğŸ‘‹ Hello! I'm[Audun / xqus](https://xqus.com)**\n\nIf my n8n workflows saved you time or sparked ideas, [consider sending a little support](https://donate.stripe.com/9AQ6ps6Kna3t8Vi28b) my way. It helps me keep building cool stuff â€” and maybe grab a coffee â˜• along the way!\n",
  "crawled_at": "2025-05-26T06:09:17.171031",
  "readme_zh": "ä¸€ä¸ªå¯å¤ç”¨ä¸”å¯ç›´æ¥æŠ•å…¥ç”Ÿäº§çš„n8nå·¥ä½œæµï¼Œé€šè¿‡**Bearer Tokenè®¤è¯**å’Œ**åŠ¨æ€è¯·æ±‚éªŒè¯**ä¿æŠ¤å…¬å…±Webhookå®‰å…¨ã€‚\n\n* * *\n\n## âœ¨ åŠŸèƒ½äº®ç‚¹\n\n  * **éªŒè¯Bearer Token**  \næ¯”å¯¹`Authorization`è¯·æ±‚å¤´ä¸é…ç½®çš„å¯†é’¥ä»¤ç‰Œ\n\n  * **æ ¡éªŒå¿…å¡«å­—æ®µ**  \næ£€æŸ¥è¯·æ±‚ä½“ä¸­æ˜¯å¦åŒ…å«æ‰€æœ‰é¢„æœŸå­—æ®µ\n\n  * **è¿”å›æ ‡å‡†åŒ–JSONå“åº”**\n\n    * ä»¤ç‰Œç¼ºå¤±æˆ–æ— æ•ˆæ—¶è¿”å›`401 Unauthorized`\n    * å¿…å¡«å­—æ®µç¼ºå¤±æ—¶è¿”å›`400 Bad Request`\n    * æˆåŠŸæ—¶è¿”å›å«è‡ªå®šä¹‰å†…å®¹çš„`200 OK`å“åº”",
  "title_zh": "ä½¿ç”¨æ‰¿è½½ä»¤ç‰Œè®¤è¯å’Œå­—æ®µéªŒè¯ä¿æŠ¤APIç«¯ç‚¹",
  "publish_date_zh": "æœ€è¿‘æ›´æ–°äºä¸€å¤©å‰",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"dfb8aefc80b77b230bd90d6a6e5210eb7a28e6e1d2a8b1d27d54942b54eb9e7a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"4f42007b-3813-410f-a608-5af89459b14f\",\n      \"name\": \"Check Authorization Header\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -20,\n        20\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $('Webhook').item.json.headers.authorization }}\",\n              \"value2\": \"=Bearer {{ $json.config.bearerToken }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"86d6157e-593d-4370-a480-1a9417300555\",\n      \"name\": \"401 Unauthorized\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        340,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 401\n        },\n        \"respondWith\": \"json\",\n        \"responseBody\": \"{\\n  \\\"code\\\": 401,\\n  \\\"message\\\": \\\"Unauthorized: Missing or invalid authorization token.\\\",\\n  \\\"hint\\\": \\\"Ensure the request includes a valid 'Authorization' header (e.g., 'Bearer YOUR_SECRET_TOKEN').\\\"\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0831093a-adef-41dc-8ac0-2e1998fc22ad\",\n      \"name\": \"200 OK\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1140,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b4f42651-c7f6-43a3-a695-7d5197b45642\",\n      \"name\": \"Configuration\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -300,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4c35898d-5a70-41bc-9fb6-9d63bbbee222\",\n              \"name\": \"config.bearerToken\",\n              \"type\": \"string\",\n              \"value\": \"123\"\n            },\n            {\n              \"id\": \"822739a6-15da-48df-8f92-c4b1adce5fef\",\n              \"name\": \"config.requiredFields.message\",\n              \"type\": \"string\",\n              \"value\": \"true\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"f1539109-8585-4cf2-9b9b-f3012544ac6c\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -580,\n        20\n      ],\n      \"webhookId\": \"2c5b9b70-1b08-44b1-a007-dc3d9f7e70db\",\n      \"parameters\": {\n        \"path\": \"secure-webhook\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bcf1183c-9a3d-41eb-89f7-1666d3a6c5fc\",\n      \"name\": \"Has required fields?\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        220,\n        20\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"if(! $json.config.requiredFields) {\\n  return { json: { valid: true } };\\n}\\n\\nconst body = $('Webhook').first().json.body;\\n\\nlet requiredFields = $json.config.requiredFields;\\n\\nfor (let [key, value] of Object.entries(requiredFields)) {\\n  console.log(`${key}: ${value}`);\\n  if (!(key in body)) {\\n    return { json: { valid: false } };\\n  }\\n}\\n\\nreturn { json: { valid: true } };\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"81b125f1-faa0-4998-8624-431746052a84\",\n      \"name\": \"Check Valid Request\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        440,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"8c7fe174-f284-4e41-b851-8939f0c2d19f\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.valid }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"906c671d-e2a6-4a9e-b7df-d7b9142ffeb4\",\n      \"name\": \"400 Bad Request\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        780,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 401\n        },\n        \"respondWith\": \"json\",\n        \"responseBody\": \"{\\n  \\\"code\\\": 400,\\n  \\\"message\\\": \\\"Bad Request: Missing required fields\\\",\\n  \\\"hint\\\": \\\"Make sure all required fields are included in the request body.\\\"\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ce657170-34e4-4b40-ba22-bb4638fa98c6\",\n      \"name\": \"Create Response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        920,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c6258b81-6f40-4dd5-8a60-89e2b0322490\",\n              \"name\": \"message\",\n              \"type\": \"string\",\n              \"value\": \"Success! Workflow completed.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0a6b9f12-9b60-458e-85de-014a66063e50\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 360,\n        \"height\": 460,\n        \"content\": \"### ğŸ› ï¸ é…ç½®èŠ‚ç‚¹è®¾ç½®\\n\\n*æ­¤èŠ‚ç‚¹ç”¨äºå®šä¹‰å®‰å…¨ç½‘ç»œé’©å­çš„é…ç½®ã€‚*\\n\\n- `config.bearerToken`: ç”¨äºèº«ä»½éªŒè¯çš„é¢„æœŸBearerä»¤ç‰Œã€‚\\n\\n- `config.requiredFields`: ä¸ºè¯·æ±‚ä½“ä¸­æ¯ä¸ªå¿…å¡«å­—æ®µè®¾ç½®ä¸€ä¸ªé”®ï¼ˆä¾‹å¦‚`config.requiredFields.message`ï¼‰ã€‚\\n*ğŸ‘‰ å…·ä½“å€¼æ— å…³ç´§è¦ï¼Œä»…æ£€æŸ¥é”®åæ˜¯å¦å­˜åœ¨ã€‚*\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bba24ba5-3c8d-40f7-99e0-44115b1025e0\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 1740,\n        \"height\": 240,\n        \"content\": \"### ğŸš« é”™è¯¯å¤„ç†èŠ‚ç‚¹\\n\\n*ä»¥ä¸‹èŠ‚ç‚¹è¿”å›æ ‡å‡†åŒ–çš„JSONé”™è¯¯å“åº”ï¼š*\\n\\n- ğŸ”’ `401 æœªæˆæƒ`ï¼š\\nå½“è¯·æ±‚ç¼ºå°‘æœ‰æ•ˆçš„Bearerä»¤ç‰Œæ—¶è§¦å‘ã€‚\\n\\n- ğŸ“­ `400 é”™è¯¯è¯·æ±‚`ï¼š\\nå½“è¯·æ±‚ä½“ä¸­ç¼ºå°‘å¿…å¡«å­—æ®µæ—¶è§¦å‘ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f451c9be-4cfb-4628-8aa7-66b66ad86bab\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        840,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 460,\n        \"height\": 460,\n        \"content\": \"### âœ… è®¾ç½®ä¸200å“åº”èŠ‚ç‚¹\\n\\n- ğŸ§± `åˆ›å»ºå“åº”`\\nä»ä¼ å…¥è¯·æ±‚æ„å»ºJSONå“åº”ã€‚\\nç”¨äºæå–ã€è½¬æ¢æˆ–è½¬å‘ç‰¹å®šå€¼ï¼ˆå¦‚æ¶ˆæ¯ã€å‘é€è€…ç­‰ï¼‰ã€‚\\n\\n- ğŸ“¬ `200 æˆåŠŸå“åº”`\\nä½¿ç”¨`åˆ›å»ºå“åº”`èŠ‚ç‚¹ä¸­çš„å€¼è¿”å›æˆåŠŸå“åº”ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8d4e8406-c3fe-4e8a-bfa8-18407fe5e67a\",\n      \"name\": \"Add workflow nodes here\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        680,\n        20\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f3f461a6-dc48-42cd-ac75-d045795006d0\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 440,\n        \"height\": 460,\n        \"content\": \"### ğŸ” å¿…å¡«å­—æ®µéªŒè¯å™¨\\n\\n*æ­¤ä»£ç èŠ‚ç‚¹ç”¨äºæ£€æŸ¥ä¼ å…¥è¯·æ±‚ä½“ä¸­æ˜¯å¦åŒ…å«config.requiredFieldså®šä¹‰çš„æ‰€æœ‰å­—æ®µã€‚*\\n\\n- ä»WebhookèŠ‚ç‚¹è¯»å–è¯·æ±‚ä½“ã€‚\\n\\n- éå†config.requiredFieldsä¸­çš„æ¯ä¸ªé”®ã€‚\\n\\n- å¦‚æœæ‰€æœ‰å­—æ®µéƒ½å­˜åœ¨åˆ™è¿”å›`{ valid: true }`ï¼Œå¦åˆ™è¿”å›`{ valid: false }`ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2766dae8-8def-462f-a53c-0f51606eea0a\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1220,\n        -340\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 760,\n        \"height\": 780,\n        \"content\": \"## ğŸ” å®‰å…¨Webhook â€“ æ¦‚è¦\\n\\n*è¯¥å·¥ä½œæµé€šè¿‡**èº«ä»½éªŒè¯**å’Œ**è½½è·éªŒè¯**ä¿æŠ¤å…¬å¼€çš„Webhookæ¥å£ã€‚*\\n\\n---\\n\\n#### ğŸ§© ä½¿ç”¨åœºæ™¯\\n- âœ… ä»…å…è®¸å—ä¿¡å®¢æˆ·ç«¯è°ƒç”¨å·¥ä½œæµï¼ˆé€šè¿‡Bearerä»¤ç‰ŒéªŒè¯ï¼‰\\n- âœ… æ ¡éªŒè¯·æ±‚ä½“æ˜¯å¦åŒ…å«å…¨éƒ¨å¿…å¡«å­—æ®µ\\n- âœ… è¿”å›æ ‡å‡†åŒ–JSONå“åº”ï¼ˆ`200`ã€`400`ã€`401`çŠ¶æ€ç ï¼‰\\n\\n---\\n\\n#### âš™ï¸ å·¥ä½œåŸç†ï¼š\\n1. **`Webhook`** â€“ æ¥æ”¶å¤–éƒ¨`POST`è¯·æ±‚çš„å…¥å£èŠ‚ç‚¹\\n2. **`é…ç½®`** â€“ å®šä¹‰`config.bearerToken`å’Œ`config.requiredFields`\\n3. **`æ ¡éªŒæˆæƒå¤´`** â€“ æ¯”å¯¹è¯·æ±‚æºå¸¦çš„Bearerä»¤ç‰Œä¸é…ç½®å€¼\\n4. **`401æœªæˆæƒ`** â€“ ä»¤ç‰Œç¼ºå¤±æˆ–é”™è¯¯æ—¶è¿”å›\\n5. **`å¿…å¡«å­—æ®µæ ¡éªŒ`** â€“ é€šè¿‡JSä»£ç éªŒè¯è¯·æ±‚ä½“å­—æ®µå®Œæ•´æ€§\\n6. **`400é”™è¯¯è¯·æ±‚`** â€“ ç¼ºå¤±å¿…å¡«å­—æ®µæ—¶è¿”å›\\n7. **`æ„é€ å“åº”`ä¸`200æˆåŠŸ`** â€“ è¿”å›è‡ªå®šä¹‰æˆåŠŸæ¶ˆæ¯\\n\\n---\\n\\n#### ğŸ›  é…ç½®è¯´æ˜ï¼š\\n- åœ¨`config.bearerToken`ä¸­è®¾ç½®ä½ çš„Bearerä»¤ç‰Œ\\n- åœ¨`config.requiredFields`ä¸­è®¾ç½®å¿…å¡«å­—æ®µé”®å  \\n  *(ä¾‹å¦‚`config.requiredFields.message`)*\\n*ğŸ‘‰ å­—æ®µå€¼ä¸å½±å“æ ¡éªŒï¼Œä»…æ£€æŸ¥é”®åæ˜¯å¦å­˜åœ¨*\\n- å°†**`åœ¨æ­¤æ·»åŠ å·¥ä½œæµèŠ‚ç‚¹`**æ›¿æ¢ä¸ºä½ çš„ä¸šåŠ¡é€»è¾‘\\n- ä¿®æ”¹`æ„é€ å“åº”`èŠ‚ç‚¹å®šåˆ¶è¿”å›å†…å®¹\\n\\n---\\n\\nğŸ“Œ *ç‰¹åˆ«é€‚ç”¨äºä¸ºAPIã€è¡¨å•æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡æ„å»ºå®‰å…¨å¯å¤ç”¨çš„Webhookç«¯ç‚¹*\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"70c8f060-587a-4524-ab32-7362cc0c4cf9\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1220,\n        -600\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 760,\n        \"height\": 240,\n        \"content\": \"## æ”¯æŒæˆ‘çš„åˆ›ä½œï¼â¤ï¸  \\n\\n**ğŸ‘‹ ä½ å¥½ï¼æˆ‘æ˜¯ Audun / xqus**  \\nğŸ”— æˆ‘çš„ä½œå“ï¼š[xqus.com](https://xqus.com)  \\n\\nå¦‚æœæˆ‘çš„ n8n å·¥ä½œæµä¸ºä½ èŠ‚çœäº†æ—¶é—´æˆ–æ¿€å‘äº†çµæ„Ÿï¼Œ[ä¸å¦¨å°å°æ”¯æŒä¸€ä¸‹](https://donate.stripe.com/9AQ6ps6Kna3t8Vi28b)ã€‚ä½ çš„æ”¯æŒèƒ½è®©æˆ‘ç»§ç»­æ‰“é€ æœ‰è¶£çš„ä¸œè¥¿â€”â€”é¡ºä¾¿è¿˜èƒ½å–æ¯å’–å•¡æç¥ â˜•ï¼  \\n\\n-è¡·å¿ƒæ„Ÿè°¢ï¼ğŸ™Œ\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"200 OK\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Configuration\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Configuration\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Authorization Header\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"200 OK\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Valid Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add workflow nodes here\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"400 Bad Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Has required fields?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Valid Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add workflow nodes here\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Authorization Header\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Has required fields?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"401 Unauthorized\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}