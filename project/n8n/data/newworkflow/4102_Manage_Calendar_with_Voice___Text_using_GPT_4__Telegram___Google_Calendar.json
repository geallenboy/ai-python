{
  "url": "https://n8n.io/workflows/4102-manage-calendar-with-voice-and-text-using-gpt-4-telegram-and-google-calendar/",
  "title": "Manage Calendar with Voice & Text using GPT-4, Telegram & Google Calendar",
  "author": "Marian Tcaciuc",
  "publish_date": "Last update 6 days ago",
  "publish_date_absolute": "2025-05-20",
  "categories": [
    {
      "name": "Other"
    },
    {
      "name": "Building Blocks"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"X5xgTiDwTjqy8RqW\",\"meta\":{\"instanceId\":\"fc43dbbe2855b618f22a32e0af198c70dc1ce7b2c715dfe283e581dd4cc1c13a\",\"templateCredsSetupCompleted\":true},\"name\":\"Agent AI Calendar [n8n pro]\",\"tags\":[],\"nodes\":[{\"id\":\"01b29a4c-25cf-4c03-ab87-810f070d4be3\",\"name\":\"Create Event\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[640,340],\"parameters\":{\"end\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', `Cand se termina evenimentul`, 'string') }}\",\"start\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', `Cand incepe evenimentul`, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\"__regex\":\"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"},\"additionalFields\":{\"description\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}\"},\"useDefaultReminders\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', `Daca vrei sa folosesti reminderul defaul de la calendar sau vrei unul special`, 'boolean') }}\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"27JiaYgdKeyU1SZC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"1758e2e3-e25d-4b1b-b57d-c711ec8553ce\",\"name\":\"Get events\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[760,340],\"parameters\":{\"options\":{},\"timeMax\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}\",\"timeMin\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\"__regex\":\"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"},\"operation\":\"getAll\",\"returnAll\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"27JiaYgdKeyU1SZC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"9092f4dd-1982-4bb7-94f9-7f29e4fec6ef\",\"name\":\"Update Calendar\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[880,340],\"parameters\":{\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\"__regex\":\"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"},\"operation\":\"update\",\"updateFields\":{},\"useDefaultReminders\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', ``, 'boolean') }}\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"27JiaYgdKeyU1SZC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"738a78e0-6256-4827-aac9-9eaf7c6ae91c\",\"name\":\"Detele Event\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[1000,340],\"parameters\":{\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\"options\":{},\"calendar\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\"__regex\":\"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"},\"operation\":\"delete\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"27JiaYgdKeyU1SZC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"19674d23-67eb-46a1-a975-d64a64b6188a\",\"name\":\"Receive User Input (Telegram)\\t\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[-360,0],\"webhookId\":\"19e39057-373f-4ca7-b999-c747d5f71767\",\"parameters\":{\"updates\":[\"message\"],\"additionalFields\":{}},\"credentials\":{\"telegramApi\":{\"id\":\"NYxlz922izZOpLZg\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"0159ed56-542d-4fa1-867f-cba130466061\",\"name\":\"Is Voice Message?\\t\",\"type\":\"n8n-nodes-base.if\",\"position\":[-80,0],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"c64b00ea-20f1-4d44-aed6-1528d537fc84\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.message.voice.mime_type }}\",\"rightValue\":\"audio/ogg\"}]}},\"typeVersion\":2.2},{\"id\":\"008051e4-e006-4f18-a204-f64b322a4da6\",\"name\":\"Download Voice File\\t\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[140,-100],\"webhookId\":\"1e904d77-b0a3-41ac-8624-a729103c9a14\",\"parameters\":{\"fileId\":\"={{ $('Receive User Input (Telegram)\\t').item.json.message.voice.file_id }}\",\"resource\":\"file\"},\"credentials\":{\"telegramApi\":{\"id\":\"NYxlz922izZOpLZg\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"e738c52a-d6b4-4fde-8dd8-2095db8eaf88\",\"name\":\"Transcribe Voice to Text\\t\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[320,-100],\"parameters\":{\"options\":{\"language\":\"en\"},\"resource\":\"audio\",\"operation\":\"transcribe\"},\"credentials\":{\"openAiApi\":{\"id\":\"XYtY87CqnqwNVBos\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"5563f7c4-a87a-4728-a5ae-6e17ba59ff99\",\"name\":\"Extract Text Message\\t\",\"type\":\"n8n-nodes-base.set\",\"position\":[140,100],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"41b525e6-a59f-47c7-b6ee-2b88eaa386fe\",\"name\":\"Text\",\"type\":\"string\",\"value\":\"={{ $json.message.text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"7ee11667-7834-464d-92e8-07be97f7f18a\",\"name\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[520,100],\"parameters\":{\"text\":\"=You're my personal digital assistant. Your purpose is to help me manage my personal calendar efficiently, taking into account priorities, work-life balance, and recurring events.\\n\\nToday is {{ $now }}\\n\\nInstructions:\\n{{ $json.text }}\\n{{ $json.Text }}\",\"options\":{},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"8651b116-a5eb-4e21-b03f-5375efb0d8ed\",\"name\":\"GPT-4 Language Model\\t\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[360,340],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4.1\",\"cachedResultName\":\"gpt-4.1\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"XYtY87CqnqwNVBos\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"d014339d-7cb6-4bfe-bfbe-3f319a4fdf2c\",\"name\":\"Send Response to Telegram\\t\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[940,100],\"webhookId\":\"b85c201f-13bd-4990-83e9-62c5e38fa8a4\",\"parameters\":{\"text\":\"={{ $json.output }}\",\"chatId\":\"={{ $('Receive User Input (Telegram)\\t').item.json.message.chat.id }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"NYxlz922izZOpLZg\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"6c74e5a0-56dc-4fbf-8826-fb1b16d96504\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-420,-740],\"parameters\":{\"width\":1600,\"height\":140,\"content\":\"## Global Workflow Description\\n  \\n**\\\"AI-Powered Calendar Assistant: Voice & Text Input → GPT-4 → Google Calendar\\\"**  \\n\\n*Explains:* Built using Telegram, OpenAI (Whisper + GPT-4), and Google Calendar to help users manage events through natural language input.\"},\"typeVersion\":1},{\"id\":\"5728ff55-e8c3-4b3f-9c85-0b111c1e18ec\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-420,-480],\"parameters\":{\"height\":320,\"content\":\"## Start / Input\\n\\n**\\\"Start: Listen for Telegram input (text or voice message)\\\"**  \\n \\n*Explains:* This node triggers the workflow when a user sends a message via Telegram.\"},\"typeVersion\":1},{\"id\":\"a2d2cdbf-ad34-4931-a4c9-ba79c89e09ac\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-140,-480],\"parameters\":{\"width\":200,\"height\":320,\"content\":\"## Decision: Voice or Text\\n \\n**\\\"Check if the incoming message is a voice note (.ogg)\\\"**  \\n\\n*Explains:* If the message is a voice file, the workflow follows the transcription path. Otherwise, it processes the text directly.\"},\"typeVersion\":1},{\"id\":\"92b826ed-4189-4d0e-911a-48ae3b44c45e\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[120,-480],\"parameters\":{\"width\":300,\"height\":320,\"content\":\"## Voice Transcription\\n \\n**\\\"Download the voice file and transcribe it to text \\\"**  \\n\\n\\n*Explains:* Uses OpenAI Whisper to convert voice messages to plain text.\"},\"typeVersion\":1},{\"id\":\"fbdcd510-14b6-4d50-8fd7-352b421ac8a4\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[80,300],\"parameters\":{\"height\":240,\"content\":\"## Text Extraction\\n\\n**\\\"Extract plain text from user’s message (if no voice)\\\"**  \\n\\n*Explains:* Gets the written message text for further processing.\"},\"typeVersion\":1},{\"id\":\"76874498-00dc-499f-9930-8f02e143ad8d\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[440,500],\"parameters\":{\"width\":640,\"height\":360,\"content\":\"## AI Interpretation\\n\\n**\\\"Analyze user intent using GPT-4 and decide next calendar action\\\"**  \\n\\n*Explains:* AI determines whether the user wants to create, update, fetch, or delete a calendar event.\\n\\n## Google Calendar Actions\\n\\n**\\\"Perform the selected Google Calendar action (Create / Update / Fetch / Delete)\\\"**  \\n\\n*Explains:* Executes the action chosen by the AI assistant using dynamic values.\"},\"typeVersion\":1},{\"id\":\"7d55eed3-9715-4759-a806-e6d56e38f892\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,-220],\"parameters\":{\"width\":340,\"height\":240,\"content\":\"## Send Response\\n\\n**\\\"Send a confirmation or result message back to the user\\\"**  \\n\\n*Explains:* Closes the loop by replying with the output from the assistant.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"bca5c9d1-8464-47a8-aa76-0b864ef17a3f\",\"connections\":{\"Get events\":{\"ai_tool\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"ai_tool\",\"index\":0}]]},\"Create Event\":{\"ai_tool\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"ai_tool\",\"index\":0}]]},\"Detele Event\":{\"ai_tool\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"ai_tool\",\"index\":0}]]},\"Update Calendar\":{\"ai_tool\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"ai_tool\",\"index\":0}]]},\"Is Voice Message?\\t\":{\"main\":[[{\"node\":\"Download Voice File\\t\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Extract Text Message\\t\",\"type\":\"main\",\"index\":0}]]},\"Download Voice File\\t\":{\"main\":[[{\"node\":\"Transcribe Voice to Text\\t\",\"type\":\"main\",\"index\":0}]]},\"Extract Text Message\\t\":{\"main\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"main\",\"index\":0}]]},\"GPT-4 Language Model\\t\":{\"ai_languageModel\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Transcribe Voice to Text\\t\":{\"main\":[[{\"node\":\"AI Calendar Assistant (LangChain)\\t\",\"type\":\"main\",\"index\":0}]]},\"Send Response to Telegram\\t\":{\"main\":[[]]},\"Receive User Input (Telegram)\\t\":{\"main\":[[{\"node\":\"Is Voice Message?\\t\",\"type\":\"main\",\"index\":0}]]},\"AI Calendar Assistant (LangChain)\\t\":{\"main\":[[{\"node\":\"Send Response to Telegram\\t\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Manage Calendar with Voice & Text Commands using GPT-4, Telegram & Google Calendar\n\nThis n8n workflow transforms your Telegram bot into a **personal AI calendar assistant** , capable of understanding both **voice and text commands** in **Romanian** , and managing your Google Calendar using the **GPT-4 model** via LangChain.\n\nWhether you want to create, update, fetch, or delete events, you can simply speak or write your request to your Telegram bot — and the assistant takes care of the rest.\n\n## 🚀 Features\n\n  * Voice command support using **Telegram voice messages** (.ogg)\n  * Transcription using **OpenAI Whisper**\n  * Natural language understanding with **GPT-4 via LangChain**\n  * Google Calendar integration: \n    * ✅ Create Events\n    * 🔁 Update Events\n    * ❌ Delete Events\n    * 📅 Fetch Events\n  * Responses sent back via Telegram\n\n\n\n## 🛠️ Step-by-Step Setup Instructions\n\n### 1\\. Create a Telegram Bot\n\n  * Go to [@BotFather](https://t.me/BotFather) on Telegram.\n  * Send `/newbot` and follow the instructions.\n  * Save the **Bot Token**.\n\n\n\n### 2\\. Configure Telegram Trigger Node\n\n  * Paste the Telegram token into the **Telegram Trigger** and **Telegram nodes**.\n  * Set **updates** to `[\"message\"]`.\n\n\n\n### 3\\. Set up OpenAI Credentials\n\n  * Get an OpenAI API key from <https://platform.openai.com>\n  * Create a credential in n8n for **OpenAI**.\n  * This is used for both **transcription** and **AI reasoning**.\n\n\n\n### 4\\. Set up Google Calendar\n\n  * In Google Cloud Console: \n    * Enable **Google Calendar API**\n    * Set up OAuth2 credentials\n    * Add your n8n redirect URI (usually `https://yourdomain/rest/oauth2-credential/callback`)\n  * Create a credential in n8n using **Google Calendar OAuth2**\n  * Grant access to your calendar (e.g., \"Family\" calendar).\n\n\n\n## ⚙️ Customization Options\n\n### 🗣️ Change Language or Locale\n\n  * The transcription node uses `\"en\"` for English. Change to another locale if needed.\n\n\n\n### ✏️ Edit Prompt\n\n  * You can modify the prompt in the **AI Agent** node to include your name, work schedule, or specific behavior expectations.\n\n\n\n### 📆 Change Calendar Logic\n\n  * Adjust time ranges or filters in the `Get Events` node\n  * Add custom logic before `Create Event` (e.g., validation, conflict checks)\n\n\n\n## 📚 Helpful Tips\n\n  * Make sure n8n has HTTPS enabled to receive Telegram updates.\n  * You can test the flow first using only text, then voice.\n  * Use AI memory or vector stores (like Supabase) if you want context-aware planning in the future.\n\n\n",
  "crawled_at": "2025-05-26T06:42:19.543253",
  "readme_zh": "# 使用GPT-4、Telegram和Google日历实现语音与文本指令管理日历\n\n这个n8n工作流将您的Telegram机器人转变为**个人AI日历助手**，能够理解**罗马尼亚语**的**语音和文本指令**，并通过LangChain使用**GPT-4模型**管理您的Google日历。\n\n无论是创建、更新、查询还是删除日程事件，您只需向Telegram机器人说出或写下请求——助手会处理其余事项。\n\n## 🚀 功能亮点\n\n* 支持通过**Telegram语音消息**（.ogg格式）进行语音指令操作\n* 采用**OpenAI Whisper**实现语音转文字\n* 通过**LangChain接入GPT-4**实现自然语言理解\n* Google日历集成功能：\n  * ✅ 创建日程\n  * 🔁 更新日程\n  * ❌ 删除日程\n  * 📅 查询日程\n* 通过Telegram返回响应结果\n\n## 🛠️ 分步配置指南\n\n### 1. 创建Telegram机器人\n\n* 访问Telegram中的[@BotFather](https://t.me/BotFather)\n* 发送`/newbot`指令并按提示操作\n* 保存获取的**机器人令牌**\n\n### 2. 配置Telegram触发节点\n\n* 将令牌粘贴到**Telegram Trigger**和**Telegram节点**\n* 设置**updates**参数为`[\"message\"]`\n\n### 3. 设置OpenAI凭证\n\n* 从<https://platform.openai.com>获取OpenAI API密钥\n* 在n8n中创建**OpenAI**凭证\n* 该凭证将同时用于**语音转写**和**AI推理**\n\n### 4. 配置Google日历\n\n* 在Google云控制台：\n  * 启用**Google Calendar API**\n  * 设置OAuth2凭证\n  * 添加n8n回调地址（通常为`https://yourdomain/rest/oauth2-credential/callback`）\n* 在n8n中使用**Google Calendar OAuth2**创建凭证\n* 授予日历访问权限（如\"家庭\"日历）\n\n## ⚙️ 自定义选项\n\n### 🗣️ 修改语言设置\n\n* 语音转写节点默认使用`\"en\"`英语配置，可根据需要更改为其他语言代码\n\n### ✏️ 编辑提示词\n\n* 可在**AI Agent**节点中修改提示词，添加您的姓名、工作时间表或特定行为要求\n\n### 📆 调整日历逻辑\n\n* 在`获取日程`节点中修改时间范围或筛选条件\n* 在`创建日程`前添加自定义逻辑（如有效性验证、冲突检测）\n\n## 📚 实用建议\n\n* 确保n8n启用HTTPS以接收Telegram更新\n* 可先使用文本指令测试流程，再尝试语音功能\n* 如需实现上下文感知规划，未来可考虑使用AI记忆功能或向量数据库（如Supabase）",
  "title_zh": "利用GPT-4、Telegram和Google日历通过语音与文本管理日程",
  "publish_date_zh": "最后更新于6天前",
  "workflow_json_zh": "{\n  \"id\": \"X5xgTiDwTjqy8RqW\",\n  \"meta\": {\n    \"instanceId\": \"fc43dbbe2855b618f22a32e0af198c70dc1ce7b2c715dfe283e581dd4cc1c13a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Agent AI Calendar [n8n pro]\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"01b29a4c-25cf-4c03-ab87-810f070d4be3\",\n      \"name\": \"Create Event\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        640,\n        340\n      ],\n      \"parameters\": {\n        \"end\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', `Cand se termina evenimentul`, 'string') }}\",\n        \"start\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', `Cand incepe evenimentul`, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\n          \"__regex\": \"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"\n        },\n        \"additionalFields\": {\n          \"description\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}\"\n        },\n        \"useDefaultReminders\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', `Daca vrei sa folosesti reminderul defaul de la calendar sau vrei unul special`, 'boolean') }}\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"27JiaYgdKeyU1SZC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"1758e2e3-e25d-4b1b-b57d-c711ec8553ce\",\n      \"name\": \"Get events\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        760,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"timeMax\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}\",\n        \"timeMin\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\n          \"__regex\": \"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"\n        },\n        \"operation\": \"getAll\",\n        \"returnAll\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"27JiaYgdKeyU1SZC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"9092f4dd-1982-4bb7-94f9-7f29e4fec6ef\",\n      \"name\": \"Update Calendar\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        880,\n        340\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\n          \"__regex\": \"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"\n        },\n        \"operation\": \"update\",\n        \"updateFields\": {},\n        \"useDefaultReminders\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', ``, 'boolean') }}\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"27JiaYgdKeyU1SZC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"738a78e0-6256-4827-aac9-9eaf7c6ae91c\",\n      \"name\": \"Detele Event\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        1000,\n        340\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\n        \"options\": {},\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}\",\n          \"__regex\": \"(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*)\"\n        },\n        \"operation\": \"delete\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"27JiaYgdKeyU1SZC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"19674d23-67eb-46a1-a975-d64a64b6188a\",\n      \"name\": \"Receive User Input (Telegram)\\t\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        -360,\n        0\n      ],\n      \"webhookId\": \"19e39057-373f-4ca7-b999-c747d5f71767\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"NYxlz922izZOpLZg\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"0159ed56-542d-4fa1-867f-cba130466061\",\n      \"name\": \"Is Voice Message?\\t\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -80,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c64b00ea-20f1-4d44-aed6-1528d537fc84\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.message.voice.mime_type }}\",\n              \"rightValue\": \"audio/ogg\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"008051e4-e006-4f18-a204-f64b322a4da6\",\n      \"name\": \"Download Voice File\\t\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        140,\n        -100\n      ],\n      \"webhookId\": \"1e904d77-b0a3-41ac-8624-a729103c9a14\",\n      \"parameters\": {\n        \"fileId\": \"={{ $('Receive User Input (Telegram)\\t').item.json.message.voice.file_id }}\",\n        \"resource\": \"file\"\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"NYxlz922izZOpLZg\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e738c52a-d6b4-4fde-8dd8-2095db8eaf88\",\n      \"name\": \"Transcribe Voice to Text\\t\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        320,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"language\": \"en\"\n        },\n        \"resource\": \"audio\",\n        \"operation\": \"transcribe\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XYtY87CqnqwNVBos\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"5563f7c4-a87a-4728-a5ae-6e17ba59ff99\",\n      \"name\": \"Extract Text Message\\t\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        140,\n        100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"41b525e6-a59f-47c7-b6ee-2b88eaa386fe\",\n              \"name\": \"Text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.message.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"7ee11667-7834-464d-92e8-07be97f7f18a\",\n      \"name\": \"AI Calendar Assistant (LangChain)\\t\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        520,\n        100\n      ],\n      \"parameters\": {\n        \"text\": \"=You're my personal digital assistant. Your purpose is to help me manage my personal calendar efficiently, taking into account priorities, work-life balance, and recurring events.\\n\\nToday is {{ $now }}\\n\\nInstructions:\\n{{ $json.text }}\\n{{ $json.Text }}\",\n        \"options\": {},\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"8651b116-a5eb-4e21-b03f-5375efb0d8ed\",\n      \"name\": \"GPT-4 Language Model\\t\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        360,\n        340\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4.1\",\n          \"cachedResultName\": \"gpt-4.1\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XYtY87CqnqwNVBos\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d014339d-7cb6-4bfe-bfbe-3f319a4fdf2c\",\n      \"name\": \"Send Response to Telegram\\t\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        940,\n        100\n      ],\n      \"webhookId\": \"b85c201f-13bd-4990-83e9-62c5e38fa8a4\",\n      \"parameters\": {\n        \"text\": \"={{ $json.output }}\",\n        \"chatId\": \"={{ $('Receive User Input (Telegram)\\t').item.json.message.chat.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"NYxlz922izZOpLZg\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"6c74e5a0-56dc-4fbf-8826-fb1b16d96504\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -420,\n        -740\n      ],\n      \"parameters\": {\n        \"width\": 1600,\n        \"height\": 140,\n        \"content\": \"## 全球工作流程说明\\n\\n**\\\"AI智能日历助手：语音/文字输入→GPT-4→谷歌日历\\\"**  \\n\\n*功能说明:* 通过整合Telegram、OpenAI（Whisper语音识别+GPT-4）及谷歌日历，实现自然语言输入管理日程。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5728ff55-e8c3-4b3f-9c85-0b111c1e18ec\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -420,\n        -480\n      ],\n      \"parameters\": {\n        \"height\": 320,\n        \"content\": \"## 开始 / 输入\\n\\n**\\\"开始：监听Telegram输入（文本或语音消息）\\\"**  \\n\\n*说明：* 当用户通过Telegram发送消息时，此节点将触发工作流程。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a2d2cdbf-ad34-4931-a4c9-ba79c89e09ac\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        -480\n      ],\n      \"parameters\": {\n        \"width\": 200,\n        \"height\": 320,\n        \"content\": \"## 判定：语音或文字\\n\\n**\\\"检测接收的消息是否为语音便签（.ogg格式）\\\"**  \\n\\n*说明：* 若消息为语音文件，工作流将转入转录路径；否则直接处理文本内容。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"92b826ed-4189-4d0e-911a-48ae3b44c45e\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        120,\n        -480\n      ],\n      \"parameters\": {\n        \"width\": 300,\n        \"height\": 320,\n        \"content\": \"## 语音转录\\n\\n**\\\"下载语音文件并将其转录为文本\\\"**  \\n\\n*说明：* 使用OpenAI Whisper将语音信息转换为纯文本。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fbdcd510-14b6-4d50-8fd7-352b421ac8a4\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        300\n      ],\n      \"parameters\": {\n        \"height\": 240,\n        \"content\": \"## 文本提取\\n\\n**\\\"从用户消息中提取纯文本（若无语音）\\\"**  \\n\\n*说明：* 获取书面消息文本以供进一步处理。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"76874498-00dc-499f-9930-8f02e143ad8d\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        500\n      ],\n      \"parameters\": {\n        \"width\": 640,\n        \"height\": 360,\n        \"content\": \"## AI 意图解析\\n\\n**\\\"通过GPT-4分析用户意图并决定后续日历操作\\\"**  \\n\\n*说明:* 人工智能判断用户希望创建、更新、查询还是删除日历事项。\\n\\n## 谷歌日历操作\\n\\n**\\\"执行选定的谷歌日历操作（创建/更新/查询/删除）\\\"**  \\n\\n*说明:* 使用动态值执行AI助手选择的操作。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7d55eed3-9715-4759-a806-e6d56e38f892\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        -220\n      ],\n      \"parameters\": {\n        \"width\": 340,\n        \"height\": 240,\n        \"content\": \"## 发送响应\\n\\n**\\\"向用户发送确认或结果消息\\\"**  \\n\\n*说明：* 通过回复助手的输出完成交互闭环。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"bca5c9d1-8464-47a8-aa76-0b864ef17a3f\",\n  \"connections\": {\n    \"Get events\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Detele Event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Calendar\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Voice Message?\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Voice File\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Extract Text Message\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Voice File\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Transcribe Voice to Text\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Text Message\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GPT-4 Language Model\\t\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Transcribe Voice to Text\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Calendar Assistant (LangChain)\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send Response to Telegram\\t\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Receive User Input (Telegram)\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Voice Message?\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI Calendar Assistant (LangChain)\\t\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Response to Telegram\\t\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}