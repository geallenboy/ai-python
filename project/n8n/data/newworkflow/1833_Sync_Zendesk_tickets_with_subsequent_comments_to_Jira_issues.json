{
  "url": "https://n8n.io/workflows/1833-sync-zendesk-tickets-with-subsequent-comments-to-jira-issues/",
  "title": "Sync Zendesk tickets with subsequent comments to Jira issues",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Support"
    },
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"},\"nodes\":[{\"id\":\"b374f136-0050-40ea-b889-03c1e20a161e\",\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1000,300],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$node[\\\"Determine\\\"].json[\\\"Jira issue key\\\"]}}\",\"operation\":\"isNotEmpty\"}]}},\"typeVersion\":1},{\"id\":\"52e85300-9a2f-45e9-973e-0fda49a50bf1\",\"name\":\"Create issue\",\"type\":\"n8n-nodes-base.jira\",\"position\":[1180,400],\"parameters\":{\"project\":\"10000\",\"summary\":\"={{$node[\\\"Get ticket\\\"].json[\\\"subject\\\"]}}\",\"issueType\":\"10003\",\"additionalFields\":{\"description\":\"=See Zendesk issue at: https://n8n.zendesk.com/agent/tickets/{{$node[\\\"Get ticket\\\"].json[\\\"id\\\"]}}\"}},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"23\",\"name\":\"[UPDATE ME]\"}},\"typeVersion\":1},{\"id\":\"85c93002-95d3-434d-b9e9-10ef714432b1\",\"name\":\"Update ticket\",\"type\":\"n8n-nodes-base.zendesk\",\"notes\":\"Update the Zendesk ticket by adding the Jira issue key to the \\\"Jira Issue Key\\\" field.\",\"position\":[1360,400],\"parameters\":{\"id\":\"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"id\\\"]}}\",\"operation\":\"update\",\"updateFields\":{\"customFieldsUi\":{\"customFieldsValues\":[{\"id\":6689934837021,\"value\":\"={{$node[\\\"Create issue\\\"].json[\\\"key\\\"]}}\"}]}}},\"credentials\":{\"zendeskApi\":{\"id\":\"24\",\"name\":\"[UPDATE ME]\"}},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"3aa0dff6-f4a5-47c1-9843-271b78bfbf36\",\"name\":\"Get ticket\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[640,300],\"parameters\":{\"id\":\"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"id\\\"]}}\",\"operation\":\"get\"},\"credentials\":{\"zendeskApi\":{\"id\":\"24\",\"name\":\"[UPDATE ME]\"}},\"typeVersion\":1},{\"id\":\"efd1f838-226f-4869-83f8-086d31f8a9bc\",\"name\":\"Determine\",\"type\":\"n8n-nodes-base.function\",\"notes\":\"if issue was created already in Jira\",\"position\":[820,300],\"parameters\":{\"functionCode\":\"/* configure here =========================================================== */\\n/*  Zendesk field ID which represents the \\\"Jira Issue Key\\\" field.\\n*/\\nconst ISSUE_KEY_FIELD_ID = 6689934837021;\\n\\n/* ========================================================================== */\\nnew_items = [];\\n\\nfor (item of $items(\\\"Get ticket\\\")) {\\n    \\n    // instantiate a new variable for status\\n    var custom_fields = item.json[\\\"custom_fields\\\"];\\n    var jira_issue_key = \\\"\\\";\\n    for (var i = 0; i < custom_fields.length; i++) {\\n        if (custom_fields[i].id == ISSUE_KEY_FIELD_ID) {\\n            jira_issue_key = custom_fields[i].value;\\n            break;\\n        }\\n    }\\n\\n    // push the new item to the new_items array\\n    new_items.push({\\n        \\\"Jira issue key\\\": jira_issue_key\\n    });\\n}\\n\\nreturn new_items;\"},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"41a1c04b-561b-41e3-be6e-fc953319abc1\",\"name\":\"Create comment to existing issue\",\"type\":\"n8n-nodes-base.jira\",\"position\":[1180,200],\"parameters\":{\"comment\":\"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"comment\\\"]}}\",\"options\":{},\"issueKey\":\"={{$node[\\\"Determine\\\"].json[\\\"Jira issue key\\\"]}}\",\"resource\":\"issueComment\"},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"23\",\"name\":\"[UPDATE ME]\"}},\"typeVersion\":1},{\"id\":\"33e0121e-703d-4c60-b257-a89a99db771a\",\"name\":\"On new Zendesk ticket\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[460,300],\"webhookId\":\"d596c0c6-7377-4a17-9ed5-6ee953f072b9\",\"parameters\":{\"path\":\"d596c0c6-7377-4a17-9ed5-6ee953f072b9\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Create comment to existing issue\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Create issue\",\"type\":\"main\",\"index\":0}]]},\"Determine\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Get ticket\":{\"main\":[[{\"node\":\"Determine\",\"type\":\"main\",\"index\":0}]]},\"Create issue\":{\"main\":[[{\"node\":\"Update ticket\",\"type\":\"main\",\"index\":0}]]},\"On new Zendesk ticket\":{\"main\":[[{\"node\":\"Get ticket\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow creates a Jira issue when a new ticket is created in Zendesk. Subsequent comments on the ticket in Zendesk are added as comments to the issue in Jira.\n\n## Prerequisites\n\n  * Zendesk account and [Zendesk credentials](https://docs.n8n.io/integrations/builtin/credentials/zendesk/).\n  * Jira account and [Jira credentials](https://docs.n8n.io/integrations/builtin/credentials/jira/).\n  * [Jira project](https://confluence.atlassian.com/adminjiraserver/creating-a-project-938847000.html) to create issues in.\n\n\n\n## How it works\n\n  1. The workflow listens for new tickets in Zendesk.\n  2. When a new ticket is created, the workflow creates a new issue in Jira.\n  3. The Jira issue key is then saved in one of the ticket's fields (in [setup](notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&p=b38b48dae7e8433abaa66df07b55f4a1&pm=s#setup) we call this \"Jira Issue Key\").\n  4. The next time a comment is added to the ticket, the workflow retrieves the Jira issue key from the ticket's field and adds the comment to the issue in Jira.\n\n\n\n## Setup\n\nThis workflow requires that you set up a webhook in Zendesk. To do so, follow the steps below:\n\n  1. In the workflow, open the `On new Zendesk ticket` node and copy the webhook URL.\n\n  2. In Zendesk, navigate to Admin Center > Apps and integrations > Webhooks > Actions > Create Webhook.\n\n  3. Add all the required details which can be retrieved from the `On new Zendesk ticket` node. The webhook URL gets added to the “Endpoint URL” field, and the “Request method” should match what is shown in n8n.\n\n  4. Save the webhook.\n\n  5. In Zendesk, navigate to Admin Center > Objects and rules > Business rules > Triggers > Add trigger.\n\n  6. Give the trigger a name such as “New tickets”.\n\n  7. Under “Conditions” in “Meet ALL of the following conditions”, add “Status is New”.\n\n  8. Under “Actions”, select “Notify active webhook” and select the webhook you created previously.\n\n  9. In the JSON body, add the following:\n         \n         {\n         \t\"id\": \"{{ticket.id}}\",\n         \t\"comment\": \"{{ticket.latest_comment_html}}\"\n         }\n         \n\n  10. Save the Zendesk trigger.\n\n\n\n\nYou will also need to set up a field in Zendesk to store the Jira issue key. To do so, follow the steps below:\n\n  1. In Zendesk, navigate to Admin Center > Objects and rules > Tickets > Fields > Add field.\n  2. Use the text field option and give the field a name such as “Jira Issue Key\".\n  3. Save the field.\n  4. In n8n, open the `Update ticket` node and select the field you created in Zendesk.\n\n\n",
  "crawled_at": "2025-05-25T20:11:55.003201",
  "readme_zh": "该工作流程在Zendesk中创建新工单时，会同步在Jira中创建对应问题。后续在Zendesk工单中添加的评论，将作为评论同步至Jira对应问题中。\n\n## 前提条件\n\n* 拥有Zendesk账户及[Zendesk凭证](https://docs.n8n.io/integrations/builtin/credentials/zendesk/)\n* 拥有Jira账户及[Jira凭证](https://docs.n8n.io/integrations/builtin/credentials/jira/)\n* 已创建用于提交问题的[Jira项目](https://confluence.atlassian.com/adminjiraserver/creating-a-project-938847000.html)\n\n## 运行原理\n\n1. 工作流程实时监听Zendesk中的新工单\n2. 当新工单创建时，自动在Jira中生成对应问题\n3. 将Jira问题密钥保存至工单自定义字段（在[设置环节](#setup)中命名为\"Jira问题密钥\"）\n4. 当工单新增评论时，工作流程从该字段获取Jira问题密钥，并将评论同步至Jira对应问题\n\n## 配置说明\n\n本流程需在Zendesk中设置Webhook，具体步骤如下：\n\n1. 在工作流的「Zendesk新工单触发」节点中复制Webhook URL\n2. 登录Zendesk后台：管理中心 > 应用与集成 > Webhooks > 动作 > 创建Webhook\n3. 填写从「Zendesk新工单触发」节点获取的所有必填信息（Webhook URL填入\"终端URL\"字段，请求方法需与n8n显示一致）\n4. 保存Webhook配置\n5. 进入Zendesk后台：管理中心 > 对象与规则 > 业务规则 > 触发器 > 添加触发器\n6. 命名触发器（如\"新建工单\"）\n7. 在\"满足以下所有条件\"的\"条件\"区域添加\"状态为新建\"\n8. 在\"动作\"中选择\"通知活动Webhook\"，选择刚创建的Webhook\n9. 在JSON正文中添加：\n```json\n{\n    \"id\": \"{{ticket.id}}\",\n    \"comment\": \"{{ticket.latest_comment_html}}\"\n}\n```\n10. 保存Zendesk触发器\n\n同时需在Zendesk中设置存储Jira问题密钥的字段：\n\n1. 进入Zendesk后台：管理中心 > 对象与规则 > 工单 > 字段 > 添加字段\n2. 选择文本字段类型，命名为\"Jira问题密钥\"\n3. 保存字段配置\n4. 在n8n中打开「更新工单」节点，选择刚创建的Zendesk字段",
  "title_zh": "将Zendesk工单及后续评论同步至Jira问题",
  "publish_date_zh": "最后更新于9个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"b374f136-0050-40ea-b889-03c1e20a161e\",\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1000,\n        300\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Determine\\\"].json[\\\"Jira issue key\\\"]}}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"52e85300-9a2f-45e9-973e-0fda49a50bf1\",\n      \"name\": \"Create issue\",\n      \"type\": \"n8n-nodes-base.jira\",\n      \"position\": [\n        1180,\n        400\n      ],\n      \"parameters\": {\n        \"project\": \"10000\",\n        \"summary\": \"={{$node[\\\"Get ticket\\\"].json[\\\"subject\\\"]}}\",\n        \"issueType\": \"10003\",\n        \"additionalFields\": {\n          \"description\": \"=See Zendesk issue at: https://n8n.zendesk.com/agent/tickets/{{$node[\\\"Get ticket\\\"].json[\\\"id\\\"]}}\"\n        }\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"23\",\n          \"name\": \"[UPDATE ME]\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"85c93002-95d3-434d-b9e9-10ef714432b1\",\n      \"name\": \"Update ticket\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"notes\": \"Update the Zendesk ticket by adding the Jira issue key to the \\\"Jira Issue Key\\\" field.\",\n      \"position\": [\n        1360,\n        400\n      ],\n      \"parameters\": {\n        \"id\": \"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"id\\\"]}}\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"customFieldsUi\": {\n            \"customFieldsValues\": [\n              {\n                \"id\": 6689934837021,\n                \"value\": \"={{$node[\\\"Create issue\\\"].json[\\\"key\\\"]}}\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"24\",\n          \"name\": \"[UPDATE ME]\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3aa0dff6-f4a5-47c1-9843-271b78bfbf36\",\n      \"name\": \"Get ticket\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        640,\n        300\n      ],\n      \"parameters\": {\n        \"id\": \"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"id\\\"]}}\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"24\",\n          \"name\": \"[UPDATE ME]\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"efd1f838-226f-4869-83f8-086d31f8a9bc\",\n      \"name\": \"Determine\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"notes\": \"if issue was created already in Jira\",\n      \"position\": [\n        820,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"/* configure here =========================================================== */\\n/*  Zendesk field ID which represents the \\\"Jira Issue Key\\\" field.\\n*/\\nconst ISSUE_KEY_FIELD_ID = 6689934837021;\\n\\n/* ========================================================================== */\\nnew_items = [];\\n\\nfor (item of $items(\\\"Get ticket\\\")) {\\n    \\n    // instantiate a new variable for status\\n    var custom_fields = item.json[\\\"custom_fields\\\"];\\n    var jira_issue_key = \\\"\\\";\\n    for (var i = 0; i < custom_fields.length; i++) {\\n        if (custom_fields[i].id == ISSUE_KEY_FIELD_ID) {\\n            jira_issue_key = custom_fields[i].value;\\n            break;\\n        }\\n    }\\n\\n    // push the new item to the new_items array\\n    new_items.push({\\n        \\\"Jira issue key\\\": jira_issue_key\\n    });\\n}\\n\\nreturn new_items;\"\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"41a1c04b-561b-41e3-be6e-fc953319abc1\",\n      \"name\": \"Create comment to existing issue\",\n      \"type\": \"n8n-nodes-base.jira\",\n      \"position\": [\n        1180,\n        200\n      ],\n      \"parameters\": {\n        \"comment\": \"={{$node[\\\"On new Zendesk ticket\\\"].json[\\\"body\\\"][\\\"comment\\\"]}}\",\n        \"options\": {},\n        \"issueKey\": \"={{$node[\\\"Determine\\\"].json[\\\"Jira issue key\\\"]}}\",\n        \"resource\": \"issueComment\"\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"23\",\n          \"name\": \"[UPDATE ME]\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"33e0121e-703d-4c60-b257-a89a99db771a\",\n      \"name\": \"On new Zendesk ticket\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        460,\n        300\n      ],\n      \"webhookId\": \"d596c0c6-7377-4a17-9ed5-6ee953f072b9\",\n      \"parameters\": {\n        \"path\": \"d596c0c6-7377-4a17-9ed5-6ee953f072b9\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create comment to existing issue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create issue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Determine\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get ticket\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Determine\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create issue\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update ticket\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On new Zendesk ticket\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get ticket\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}