{
  "url": "https://n8n.io/workflows/4208-extract-and-structure-x-post-comments-with-airtop-browser-automation/",
  "title": "Extract and Structure X Post Comments with Airtop Browser Automation",
  "author": "Airtop",
  "publish_date": "Last update 6 days ago",
  "publish_date_absolute": "2025-05-20",
  "categories": [
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"H2dcncE2ycWUMZkR\",\"meta\":{\"instanceId\":\"28a947b92b197fc2524eaba16e57560338657b2b0b5796300b2f1cedc1d0d355\",\"templateCredsSetupCompleted\":true},\"name\":\"Extract X Post Comments\",\"tags\":[{\"id\":\"gNiDOCnjqCXR7phD\",\"name\":\"Marketing\",\"createdAt\":\"2025-04-15T01:08:25.516Z\",\"updatedAt\":\"2025-04-15T01:08:25.516Z\"}],\"nodes\":[{\"id\":\"505ad6cb-0c11-4272-a13d-01f64d2e82e5\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[420,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"45120659-ed42-40a3-9c6a-545db1028a7a\",\"name\":\"data.modelResponse\",\"type\":\"object\",\"value\":\"={{ $json.data.modelResponse }}\"}]}},\"typeVersion\":3.4},{\"id\":\"c3e20b9d-9d46-4c19-841c-667ac657c263\",\"name\":\"Extract X Post Comments\",\"type\":\"n8n-nodes-base.airtop\",\"position\":[220,0],\"parameters\":{\"url\":\"={{ $json.x_post_url }}\",\"prompt\":\"=This is an x post. Extract up to {{ $json.max_number_of_comments }} comments to the post. For each comment extract the name of the author, the x profile URL of the author, and the text of the comment.  \",\"resource\":\"extraction\",\"profileName\":\"={{ $json.airtop_profile }}\",\"sessionMode\":\"new\",\"additionalFields\":{\"outputSchema\":\"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"comments\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"author_name\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The name of the author of the comment\\\"\\n          },\\n          \\\"author_profile_url\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The X profile URL of the author\\\"\\n          },\\n          \\\"comment_text\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The text content of the comment\\\"\\n          }\\n        },\\n        \\\"required\\\": [\\n          \\\"author_name\\\",\\n          \\\"author_profile_url\\\",\\n          \\\"comment_text\\\"\\n        ],\\n        \\\"additionalProperties\\\": false\\n      },\\n      \\\"description\\\": \\\"A list of comments extracted from the X post, with each comment containing the author's name, profile URL, and text.\\\"\\n    }\\n  },\\n  \\\"required\\\": [\\n    \\\"comments\\\"\\n  ],\\n  \\\"additionalProperties\\\": false,\\n  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\"\\n}\",\"paginationMode\":\"infinite-scroll\"}},\"credentials\":{\"airtopApi\":{\"id\":\"Yi4YPNnovLVUjFn5\",\"name\":\"Airtop Official Org\"}},\"typeVersion\":1},{\"id\":\"59c05430-1bea-49c6-b320-ad58611e48e0\",\"name\":\"On form submission\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-280,-100],\"webhookId\":\"2d5e3676-5284-4da1-bdf5-34f92d8d435f\",\"parameters\":{\"options\":{},\"formTitle\":\"Extract comments from a specific post on X\",\"formFields\":{\"values\":[{\"fieldLabel\":\"X Post URL\",\"placeholder\":\"https://x.com/levikwelch/status/1923467917997334537\",\"requiredField\":true},{\"fieldLabel\":\"Airtop Profile (connected to X)\",\"requiredField\":true},{\"fieldType\":\"number\",\"fieldLabel\":\"Max number of comments\",\"placeholder\":\"10\"}]},\"formDescription\":\"=This automation takes X post URL and Airtop Profile (authenticated for X) and returns the list of comments made on the post\"},\"typeVersion\":2.2},{\"id\":\"0bd8e64e-8de4-492e-b7ba-beb4b2190f15\",\"name\":\"Unify params\",\"type\":\"n8n-nodes-base.set\",\"position\":[-60,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"f071e020-6701-4ef3-8f32-db59d68206c8\",\"name\":\"x_post_url\",\"type\":\"string\",\"value\":\"={{ $json[\\\"X Post URL\\\"] || $json.x_post_url }}\"},{\"id\":\"571ddf88-a16a-4a5a-ba4b-c5d06dd92334\",\"name\":\"airtop_profile\",\"type\":\"string\",\"value\":\"={{ $json[\\\"Airtop Profile (connected to X)\\\"] || $json.airtop_profile }}\"},{\"id\":\"fd9acf61-4a8d-4bcf-842b-0468c4df6c55\",\"name\":\"max_number_of_comments\",\"type\":\"number\",\"value\":\"={{ $json['Max number of comments'] || $json.max_number_of_comments }}\"}]}},\"typeVersion\":3.4},{\"id\":\"7837359e-7ee6-49d0-b292-948e4c4d0ba6\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[-280,100],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"x_post_url\"},{\"name\":\"airtop_profile\"},{\"name\":\"max_number_of_comments\",\"type\":\"number\"}]}},\"typeVersion\":1.1},{\"id\":\"1a6ce30d-04d4-4608-a2f9-00fc6ed0493d\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-320,-200],\"parameters\":{\"width\":400,\"height\":460,\"content\":\"## Input Parameters\\nRun this workflow using a form or from another workflow\"},\"typeVersion\":1},{\"id\":\"543a0f9e-55ae-42d4-b6f3-63052c675f56\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1080,-540],\"parameters\":{\"width\":700,\"height\":960,\"content\":\"README\\n# Extracting Comments from an X Post\\n\\n## Use Case\\nEngaging with conversations on X (formerly Twitter) is critical for brands and individuals monitoring sentiment, leads, or emerging trends. Manually collecting comments is time-consuming—this automation enables scalable extraction of comment data to inform your outreach or analysis.\\n\\n## What This Automation Does\\nThis automation extracts comments from a specified X post, with the following input parameters:\\n\\n- **`airtop_profile`**: The name of your [Airtop Profile](https://portal.airtop.ai/browser-profiles) connected to X.\\n- **`x_post_url`**: The URL of the X post to extract comments from.\\n- **`max_number_of_comments`**: The maximum number of comments to retrieve.\\n\\n## How It Works\\n1. Takes input via a form or another workflow.\\n2. Normalizes the input values.\\n3. Creates a new browser session using Airtop.\\n4. Navigates to the provided X post.\\n5. Uses a prompt to extract up to the specified number of comments, returning:\\n   - Author name\\n   - Author profile URL\\n   - Comment text\\n\\n## Setup Requirements\\n1. [Airtop API Key](https://portal.airtop.ai/api-keys) — free to generate.\\n2. An [Airtop Profile](https://portal.airtop.ai/browser-profiles) connected to X (requires one-time login).\\n\\n## Next Steps\\n- **Pair with X Monitoring**: Use this with the [X monitoring automation](https://www.airtop.ai/blog/automating-x-monitoring-with-airtop-and-make) to detect relevant posts and extract discussion context automatically.\\n- **Feed into Analytics**: Combine with summarization or sentiment analysis tools to understand audience response at scale.\\n- **Export for CRM/BI**: Pipe the structured comment data into your CRM or business intelligence stack for lead tracking or reporting.\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"1ac46447-4e57-40e0-b873-e969196bab1d\",\"connections\":{\"Unify params\":{\"main\":[[{\"node\":\"Extract X Post Comments\",\"type\":\"main\",\"index\":0}]]},\"On form submission\":{\"main\":[[{\"node\":\"Unify params\",\"type\":\"main\",\"index\":0}]]},\"Extract X Post Comments\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Unify params\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Extracting Comments from an X Post\n\n## Use Case\n\nEngaging with conversations on X (formerly Twitter) is critical for brands and individuals monitoring sentiment, leads, or emerging trends. Manually collecting comments is time-consuming—this automation enables scalable extraction of comment data to inform your outreach or analysis.\n\n## What This Automation Does\n\nThis automation extracts comments from a specified X post, with the following input parameters:\n\n  * **`airtop_profile`** : The name of your [Airtop Profile](https://portal.airtop.ai/browser-profiles) connected to X.\n  * **`x_post_url`** : The URL of the X post to extract comments from.\n  * **`max_number_of_comments`** : The maximum number of comments to retrieve.\n\n\n\n## How It Works\n\n  1. Takes input via a form or another workflow.\n  2. Normalizes the input values.\n  3. Creates a new browser session using Airtop.\n  4. Navigates to the provided X post.\n  5. Uses a prompt to extract up to the specified number of comments, returning: \n     * Author name\n     * Author profile URL\n     * Comment text\n\n\n\n## Setup Requirements\n\n  1. [Airtop API Key](https://portal.airtop.ai/api-keys) — free to generate.\n  2. An [Airtop Profile](https://portal.airtop.ai/browser-profiles) connected to X (requires one-time login).\n\n\n\n## Next Steps\n\n  * **Pair with X Monitoring** : Use this with the [X monitoring automation](https://www.airtop.ai/blog/automating-x-monitoring-with-airtop-and-make) to detect relevant posts and extract discussion context automatically.\n  * **Feed into Analytics** : Combine with summarization or sentiment analysis tools to understand audience response at scale.\n  * **Export for CRM/BI** : Pipe the structured comment data into your CRM or business intelligence stack for lead tracking or reporting.\n\n\n\nRead more about [Extracting Comments from X Posts](https://www.airtop.ai/automations/extract-x-post-comments-n8n)\n",
  "crawled_at": "2025-05-26T07:17:24.203046",
  "readme_zh": "# 从X平台帖子中提取评论\n\n## 使用场景\n\n参与X平台（原Twitter）的对话对于监测舆论风向、潜在客户或新兴趋势的品牌和个人至关重要。手动收集评论耗时费力——本自动化方案能实现评论数据的规模化提取，为您的客户触达或分析提供依据。\n\n## 功能说明\n\n该自动化工具可从指定X帖子提取评论，主要输入参数包括：\n\n* **`airtop_profile`**：关联X账号的[Airtop浏览器配置文件](https://portal.airtop.ai/browser-profiles)名称\n* **`x_post_url`**：目标帖子的URL链接\n* **`max_number_of_comments`**：需要获取的评论最大数量\n\n## 工作原理\n\n1. 通过表单或其他工作流接收输入参数\n2. 标准化输入参数值\n3. 使用Airtop创建新浏览器会话\n4. 跳转至目标X帖子页面\n5. 通过指令提取指定数量的评论，返回字段包含：\n   * 评论者姓名\n   * 评论者个人主页URL\n   * 评论文本内容\n\n## 配置要求\n\n1. [Airtop API密钥](https://portal.airtop.ai/api-keys)（可免费生成）\n2. 已关联X账号的[Airtop浏览器配置文件](https://portal.airtop.ai/browser-profiles)（需完成一次性登录验证）\n\n## 后续应用\n\n* **结合X平台监测**：与[X平台监测自动化方案](https://www.airtop.ai/blog/automating-x-monitoring-with-airtop-and-make)配合使用，自动识别相关帖子并提取讨论内容\n* **接入分析系统**：连接摘要生成或情感分析工具，实现大规模受众反馈分析\n* **导出至CRM/BI系统**：将结构化评论数据导入客户关系管理或商业智能系统，用于潜在客户追踪或报告生成\n\n了解更多关于[X帖子评论提取技术](https://www.airtop.ai/automations/extract-x-post-comments-n8n)",
  "title_zh": "提取并结构化X平台帖子评论——借助Airtop浏览器自动化工具",
  "publish_date_zh": "最后更新于6天前",
  "workflow_json_zh": "{\n  \"id\": \"H2dcncE2ycWUMZkR\",\n  \"meta\": {\n    \"instanceId\": \"28a947b92b197fc2524eaba16e57560338657b2b0b5796300b2f1cedc1d0d355\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Extract X Post Comments\",\n  \"tags\": [\n    {\n      \"id\": \"gNiDOCnjqCXR7phD\",\n      \"name\": \"Marketing\",\n      \"createdAt\": \"2025-04-15T01:08:25.516Z\",\n      \"updatedAt\": \"2025-04-15T01:08:25.516Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"505ad6cb-0c11-4272-a13d-01f64d2e82e5\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        420,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"45120659-ed42-40a3-9c6a-545db1028a7a\",\n              \"name\": \"data.modelResponse\",\n              \"type\": \"object\",\n              \"value\": \"={{ $json.data.modelResponse }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"c3e20b9d-9d46-4c19-841c-667ac657c263\",\n      \"name\": \"Extract X Post Comments\",\n      \"type\": \"n8n-nodes-base.airtop\",\n      \"position\": [\n        220,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.x_post_url }}\",\n        \"prompt\": \"=This is an x post. Extract up to {{ $json.max_number_of_comments }} comments to the post. For each comment extract the name of the author, the x profile URL of the author, and the text of the comment.  \",\n        \"resource\": \"extraction\",\n        \"profileName\": \"={{ $json.airtop_profile }}\",\n        \"sessionMode\": \"new\",\n        \"additionalFields\": {\n          \"outputSchema\": \"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"comments\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"author_name\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The name of the author of the comment\\\"\\n          },\\n          \\\"author_profile_url\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The X profile URL of the author\\\"\\n          },\\n          \\\"comment_text\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The text content of the comment\\\"\\n          }\\n        },\\n        \\\"required\\\": [\\n          \\\"author_name\\\",\\n          \\\"author_profile_url\\\",\\n          \\\"comment_text\\\"\\n        ],\\n        \\\"additionalProperties\\\": false\\n      },\\n      \\\"description\\\": \\\"A list of comments extracted from the X post, with each comment containing the author's name, profile URL, and text.\\\"\\n    }\\n  },\\n  \\\"required\\\": [\\n    \\\"comments\\\"\\n  ],\\n  \\\"additionalProperties\\\": false,\\n  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\"\\n}\",\n          \"paginationMode\": \"infinite-scroll\"\n        }\n      },\n      \"credentials\": {\n        \"airtopApi\": {\n          \"id\": \"Yi4YPNnovLVUjFn5\",\n          \"name\": \"Airtop Official Org\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"59c05430-1bea-49c6-b320-ad58611e48e0\",\n      \"name\": \"On form submission\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        -280,\n        -100\n      ],\n      \"webhookId\": \"2d5e3676-5284-4da1-bdf5-34f92d8d435f\",\n      \"parameters\": {\n        \"options\": {},\n        \"formTitle\": \"Extract comments from a specific post on X\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"X Post URL\",\n              \"placeholder\": \"https://x.com/levikwelch/status/1923467917997334537\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldLabel\": \"Airtop Profile (connected to X)\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"number\",\n              \"fieldLabel\": \"Max number of comments\",\n              \"placeholder\": \"10\"\n            }\n          ]\n        },\n        \"formDescription\": \"=This automation takes X post URL and Airtop Profile (authenticated for X) and returns the list of comments made on the post\"\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0bd8e64e-8de4-492e-b7ba-beb4b2190f15\",\n      \"name\": \"Unify params\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -60,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"f071e020-6701-4ef3-8f32-db59d68206c8\",\n              \"name\": \"x_post_url\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json[\\\"X Post URL\\\"] || $json.x_post_url }}\"\n            },\n            {\n              \"id\": \"571ddf88-a16a-4a5a-ba4b-c5d06dd92334\",\n              \"name\": \"airtop_profile\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json[\\\"Airtop Profile (connected to X)\\\"] || $json.airtop_profile }}\"\n            },\n            {\n              \"id\": \"fd9acf61-4a8d-4bcf-842b-0468c4df6c55\",\n              \"name\": \"max_number_of_comments\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json['Max number of comments'] || $json.max_number_of_comments }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"7837359e-7ee6-49d0-b292-948e4c4d0ba6\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        -280,\n        100\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"x_post_url\"\n            },\n            {\n              \"name\": \"airtop_profile\"\n            },\n            {\n              \"name\": \"max_number_of_comments\",\n              \"type\": \"number\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"1a6ce30d-04d4-4608-a2f9-00fc6ed0493d\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -320,\n        -200\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 460,\n        \"content\": \"## 输入参数\\n通过表单或从另一个工作流运行此工作流程\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"543a0f9e-55ae-42d4-b6f3-63052c675f56\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1080,\n        -540\n      ],\n      \"parameters\": {\n        \"width\": 700,\n        \"height\": 960,\n        \"content\": \"README  \\n# 从X平台帖子中提取评论  \\n\\n## 使用场景  \\n对于需要监测舆论风向、潜在客户或新兴趋势的品牌和个人而言，参与X平台（原Twitter）的对话至关重要。手动收集评论耗时费力——本自动化工具能规模化提取评论数据，为您的客户触达或分析提供支持。  \\n\\n## 功能说明  \\n本自动化工具可从指定X帖子中提取评论，需输入以下参数：  \\n\\n- **`airtop_profile`**：您已关联X账号的[Airtop浏览器配置文件](https://portal.airtop.ai/browser-profiles)名称  \\n- **`x_post_url`**：待提取评论的X帖子URL  \\n- **`max_number_of_comments`**：最大提取评论数  \\n\\n## 工作原理  \\n1. 通过表单或其他工作流接收输入  \\n2. 标准化输入参数  \\n3. 使用Airtop创建新浏览器会话  \\n4. 跳转至目标X帖子  \\n5. 通过指令提取指定数量的评论，返回：  \\n   - 评论者姓名  \\n   - 评论者个人主页URL  \\n   - 评论内容  \\n\\n## 配置要求  \\n1. [Airtop API密钥](https://portal.airtop.ai/api-keys)（可免费生成）  \\n2. 已关联X账号的[Airtop浏览器配置文件](https://portal.airtop.ai/browser-profiles)（需一次性登录授权）  \\n\\n## 后续应用  \\n- **结合X监测功能**：与[X监测自动化工具](https://www.airtop.ai/blog/automating-x-monitoring-with-airtop-and-make)配合使用，自动发现相关帖子并提取讨论内容  \\n- **接入分析系统**：结合摘要生成或情感分析工具，规模化解读受众反馈  \\n- **导出至CRM/BI系统**：将结构化评论数据导入客户关系管理或商业智能系统，用于潜在客户追踪或报告生成\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1ac46447-4e57-40e0-b873-e969196bab1d\",\n  \"connections\": {\n    \"Unify params\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract X Post Comments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On form submission\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Unify params\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract X Post Comments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Unify params\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}