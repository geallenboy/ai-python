{
  "url": "https://n8n.io/workflows/2409-weekly-reminder-on-your-notion-tasks-with-a-deadline/",
  "title": "Weekly reminder on your notion tasks with a deadline",
  "author": "David",
  "publish_date": "Last update 8 months ago",
  "publish_date_absolute": "2024-09-25",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"46264913bc099c31e7222b2cfd112772e1c7867192afd7716e58254079b3333f\"},\"nodes\":[{\"id\":\"dac02623-ee83-444b-b039-fd310dee3260\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[700,1000],\"parameters\":{},\"typeVersion\":1},{\"id\":\"7268d9c0-44ae-4226-9e5f-f3b19e3fbfa1\",\"name\":\"Notion\",\"type\":\"n8n-nodes-base.notion\",\"position\":[1360,980],\"parameters\":{\"options\":{},\"resource\":\"databasePage\",\"operation\":\"getAll\",\"databaseId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"b1e11f75-06df-42b4-8dd9-557ba937978d\",\"cachedResultUrl\":\"https://www.notion.so/b1e11f7506df42b48dd9557ba937978d\",\"cachedResultName\":\"Tasks\"},\"filterType\":\"manual\"},\"credentials\":{\"notionApi\":{\"id\":\"03mmrqQX1rffebZp\",\"name\":\"Notion David\"}},\"typeVersion\":2.2},{\"id\":\"607752ef-ac76-4a07-a3e7-39be7d5770e7\",\"name\":\"Sort by closest deadline\",\"type\":\"n8n-nodes-base.sort\",\"position\":[1760,880],\"parameters\":{\"options\":{},\"sortFieldsUi\":{\"sortField\":[{\"fieldName\":\"property_deadline.start\"}]}},\"typeVersion\":1},{\"id\":\"81c6ded2-7766-4351-b597-27794b595283\",\"name\":\"Filter for deadline\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1600,880],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"179eecfc-7eea-46b9-a971-78824e5774dc\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.property_deadline.start }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.1},{\"id\":\"21ecbd8d-7a2f-4a0a-8d99-3365c88a187b\",\"name\":\"Send Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[4100,900],\"parameters\":{\"html\":\"={{ $json.html }}\",\"options\":{},\"subject\":\"Weekly Update about Notion Tasks\",\"toEmail\":\"={{ $('Set Workflow vars').item.json.your_email }}\",\"fromEmail\":\"n8n@unitize.de\"},\"credentials\":{\"smtp\":{\"id\":\"cvpDbugXPc0TsdmZ\",\"name\":\"Unitize - SMTP Mailserver\"}},\"typeVersion\":2.1},{\"id\":\"8379f4e4-cab6-46cd-9ba0-e6bf78076de5\",\"name\":\"HTML\",\"type\":\"n8n-nodes-base.html\",\"position\":[3720,900],\"parameters\":{\"html\":\"<!DOCTYPE html>\\n\\n<html>\\n<head>\\n  <meta charset=\\\"UTF-8\\\" />\\n  <title>Weekly Update about Notion Tasks</title>\\n  <meta name=\\\"color-scheme\\\" content=\\\"only\\\">\\n  <style>\\n    body {font-family: 'Courier'; color: #15124a; background-color: #ffffff;padding:20px;}\\n    .button {background-color: #126bf3; padding: 10px 15px; border-radius: 5px; text-decoration: none; color: white}\\n    a {text-decoration: none; color: #126bf3}\\n    h3 {margin-top: 0px}\\n    .task {background-color: #f0f0f0; padding: 20px; border-radius: 5px;}\\n    p:last-child {margin-bottom: 0px;}\\n  </style>\\n</head>\\n<body>\\n  <div class=\\\"container\\\">\\n    <img width=\\\"40\\\" src=\\\"{{ $('Set Workflow vars').item.json.logo_path }}\\\" />\\n    <h1>Weekly Update about Notion Tasks</h1>\\n    <p><a class=\\\"button\\\" href=\\\"{{ $('Set Workflow vars').item.json.notion_database_url }}\\\">To the Task Board in Notion</a></p>\\n    <br>\\n    {{ $json.html_groups.pluck('html') }}\\n  </div>\\n</body>\\n</html>\"},\"typeVersion\":1.2},{\"id\":\"c86a8391-90ed-450a-b142-85ff62d84ab8\",\"name\":\"Aggregate due to tasks\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[2700,1040],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"destinationFieldName\":\"due_to\"},\"typeVersion\":1},{\"id\":\"07506629-4244-4270-aecc-87b0237c65e7\",\"name\":\"Aggregate overdue tasks\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[2700,760],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"destinationFieldName\":\"overdue\"},\"typeVersion\":1},{\"id\":\"93d4f3be-8081-41d9-bd59-5a7a0439c27b\",\"name\":\"Pushover\",\"type\":\"n8n-nodes-base.pushover\",\"position\":[4100,1100],\"parameters\":{\"message\":\"You received a weekly update about your Notion Tasks. Check your mails!\",\"userKey\":\"={{ $('Set Workflow vars').item.json.pushover_user_key }}\",\"priority\":1,\"additionalFields\":{}},\"credentials\":{\"pushoverApi\":{\"id\":\"Z002A4WQRAOy6XUT\",\"name\":\"Pushover - David\"}},\"typeVersion\":1},{\"id\":\"112aa538-1497-4a53-85ff-b04504896b81\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[700,780],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"weeks\",\"triggerAtDay\":[1],\"triggerAtHour\":9}]}},\"typeVersion\":1.2},{\"id\":\"1ec9608a-9a06-4140-a6e0-2e38b4a8c201\",\"name\":\"If deadline is overdue\",\"type\":\"n8n-nodes-base.if\",\"position\":[2460,900],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"e65c0597-d067-423a-8496-35e91a8ddf1b\",\"operator\":{\"type\":\"dateTime\",\"operation\":\"beforeOrEquals\"},\"leftValue\":\"={{ $json.property_deadline.start.toDateTime() }}\",\"rightValue\":\"={{ $now }}\"}]}},\"typeVersion\":2.1},{\"id\":\"2a25952d-7149-4b42-b520-497997d2838c\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2220,900],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combineBy\":\"combineByPosition\"},\"typeVersion\":3},{\"id\":\"a80b5658-b83d-45e7-ade3-6a828f26a356\",\"name\":\"HTML for Task\",\"type\":\"n8n-nodes-base.html\",\"position\":[2000,1060],\"parameters\":{\"html\":\"<div class=\\\"task\\\">\\n  <a href=\\\"{{ $json.url }}\\\">\\n    <h3>{{ $json.name }}\\\"</h3>\\n  </a>\\n  <p>\\n    <strong>Deadline: </strong>{{ $json.property_deadline.start.toDateTime().format('dd.MM.yyyy') }}\\n    <br>\\n    <strong>Prio: </strong>{{ $json.property_prio }}\\n    <br>\\n    <strong>Status: </strong>{{ $json.property_status }}\\n    <br>\\n    <strong>Tags: </strong>{{ $json.property_tags }}\\n  </p>\\n</div>\"},\"typeVersion\":1.2},{\"id\":\"8589e878-249d-43a0-b523-994108b3471b\",\"name\":\"HTML due to List\",\"type\":\"n8n-nodes-base.html\",\"position\":[2920,1040],\"parameters\":{\"html\":\"<h2>Tasks with an <u>upcoming</u> deadline</h2>\\n{{ $json.due_to.pluck('html') }}\"},\"typeVersion\":1.2},{\"id\":\"c3eccab0-56f8-4038-8526-f2f51a19fb59\",\"name\":\"HTML overdue List\",\"type\":\"n8n-nodes-base.html\",\"position\":[2920,760],\"parameters\":{\"html\":\"<h2>Tasks which are already <u>overdue</u></h2>\\n{{ $if($json.overdue.length > 0, $json.overdue.pluck('html'), 'No overdue tasks. Great!') }}\"},\"typeVersion\":1.2},{\"id\":\"054aa055-6f71-4ecb-80fe-69e5b95f6390\",\"name\":\"Aggregate\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[3440,900],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"destinationFieldName\":\"html_groups\"},\"typeVersion\":1},{\"id\":\"10a799fb-66f3-4fe3-b7b8-01d3a93047d2\",\"name\":\"Merge groups\",\"type\":\"n8n-nodes-base.merge\",\"position\":[3220,900],\"parameters\":{},\"typeVersion\":3},{\"id\":\"acde5a16-bdd1-4fb6-a986-14ae0b1b1240\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[620,640],\"parameters\":{\"color\":4,\"width\":265.6985239367243,\"height\":702.0052321200026,\"content\":\"## Triggers\\nCurrent schedule is every monday at 9 am.\"},\"typeVersion\":1},{\"id\":\"7766fa25-2486-4eb5-a3d6-23ec2472be94\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1240,640],\"parameters\":{\"width\":648.1928627806343,\"height\":710.0046767294216,\"content\":\"## Fetch, filter and sort notion tasks\\nCurrently tasks are filtered by having a deadline and sorted by this\"},\"typeVersion\":1},{\"id\":\"5a44f536-5af9-40dd-a9ae-9d56e4540971\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1920,640],\"parameters\":{\"width\":442.45022302855995,\"height\":707.700156943336,\"content\":\"## Generate HTML template per task\\nGenerate a template for each task. It displays the headline and some prperties.\\nYou can adjust the template here to show more or less information about each task.\"},\"typeVersion\":1},{\"id\":\"765f25ad-3dfa-4a48-9c07-07c7fc0049b6\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2400,640],\"parameters\":{\"width\":1185.3702378922917,\"height\":707.7001569433354,\"content\":\"## Create groups of tasks to \\\"overdue\\\" and \\\"due to\\\"\\nThis is used to group the tasks and display them accordingly in the final html email template.\"},\"typeVersion\":1},{\"id\":\"5fb2c5d9-fba9-463c-9574-38146d14e272\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[3620,640],\"parameters\":{\"width\":314.11124235866913,\"height\":705.8925656662948,\"content\":\"## Create html email template\\nHere the whole html email template is set up.\\nStyles are applied and some sugar around list of tasks are shown.\\nYou may change this to your design and even replace the logo.\"},\"typeVersion\":1},{\"id\":\"891e126b-1a34-489b-8a3d-fa3a56308153\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[3980,640],\"parameters\":{\"color\":4,\"width\":355.68584173060526,\"height\":704.0849743892543,\"content\":\"## Send email and push notification\\nIn the Pushover node you need to place you User Key to receive push notifications.\\nUse the Pushover docs to read more about how to setup this service.\"},\"typeVersion\":1},{\"id\":\"6cd611da-f3da-4da1-90ae-e5e04a91f915\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[620,400],\"parameters\":{\"color\":6,\"width\":539.3442720010472,\"height\":199.46339277184228,\"content\":\"## Dependencies\\n- You need to have access to your notion page/database\\n- You need to create a Pushover account in order to receive push notifications via this service\"},\"typeVersion\":1},{\"id\":\"8da5e4b3-ee1a-4c62-aeec-40d85fb9754e\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[920,640],\"parameters\":{\"width\":284.11715106246396,\"height\":706.9018085580076,\"content\":\"## Set workflow variables\\nAdjust this node to your needs!\"},\"typeVersion\":1},{\"id\":\"4759edd5-edae-4d4c-8cc7-55c8cd8336ca\",\"name\":\"Set Workflow vars\",\"type\":\"n8n-nodes-base.set\",\"position\":[1000,880],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"976aac71-63c6-48a4-a965-8112ae3480bf\",\"name\":\"logo_path\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"d9ec1fff-56ff-4c3e-befd-99520b78200e\",\"name\":\"pushover_user_key\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"8271abe0-b9c7-4102-b1a2-37181dcb4ea6\",\"name\":\"notion_database_url\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"ed7c4c03-f8e2-46fa-ac3b-ccabbeab24fa\",\"name\":\"your_email\",\"type\":\"string\",\"value\":\"\"}]}},\"typeVersion\":3.4},{\"id\":\"25f16b5e-7500-4b51-ac8e-e7d8b3b205be\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1260,740],\"parameters\":{\"color\":3,\"width\":296.4350404695249,\"height\":463.2108881217612,\"content\":\"## Adjustment needed\\nIn order to not receive \\\"Done\\\" or \\\"Closed\\\" items from your notion database you need to add some filters in this Notion node.\\n\\nE.g. you could add \\\"Status\\\" is not equal to \\\"Closed\\\", to not get closed items.\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"HTML\":{\"main\":[[{\"node\":\"Send Email\",\"type\":\"main\",\"index\":0},{\"node\":\"Pushover\",\"type\":\"main\",\"index\":0}]]},\"Merge\":{\"main\":[[{\"node\":\"If deadline is overdue\",\"type\":\"main\",\"index\":0}]]},\"Notion\":{\"main\":[[{\"node\":\"Filter for deadline\",\"type\":\"main\",\"index\":0}]]},\"Aggregate\":{\"main\":[[{\"node\":\"HTML\",\"type\":\"main\",\"index\":0}]]},\"Merge groups\":{\"main\":[[{\"node\":\"Aggregate\",\"type\":\"main\",\"index\":0}]]},\"HTML for Task\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"HTML due to List\":{\"main\":[[{\"node\":\"Merge groups\",\"type\":\"main\",\"index\":1}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Set Workflow vars\",\"type\":\"main\",\"index\":0}]]},\"HTML overdue List\":{\"main\":[[{\"node\":\"Merge groups\",\"type\":\"main\",\"index\":0}]]},\"Set Workflow vars\":{\"main\":[[{\"node\":\"Notion\",\"type\":\"main\",\"index\":0}]]},\"Filter for deadline\":{\"main\":[[{\"node\":\"Sort by closest deadline\",\"type\":\"main\",\"index\":0}]]},\"Aggregate due to tasks\":{\"main\":[[{\"node\":\"HTML due to List\",\"type\":\"main\",\"index\":0}]]},\"If deadline is overdue\":{\"main\":[[{\"node\":\"Aggregate overdue tasks\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Aggregate due to tasks\",\"type\":\"main\",\"index\":0}]]},\"Aggregate overdue tasks\":{\"main\":[[{\"node\":\"HTML overdue List\",\"type\":\"main\",\"index\":0}]]},\"Sort by closest deadline\":{\"main\":[[{\"node\":\"HTML for Task\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Set Workflow vars\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who might benfit from this workflow?\n\nEveryone organizing him/herself by using a notion database for tasks but losing track on some important tasks having a deadline. The weekly reminder helps you to not forget about your notion tasks.\n\n## How it works:\n\n  * The workflow fetches all your notion tasks from a desired database but the closed ones\n  * It generates a html template for each tasks containing a headline and a short list of key data (prio, status deadline, tags)\n  * It creates two groups based on the deadline date if a task is already overdue or not\n  * It generates a complete html email containing both groups and some sugar around them\n  * It sends the email to your desired email\n  * It uses Pushover to send you a push notification to your phone\n  * It is scheduled by the beginning of each week\n\n\n\n## How to set it up:\n\n  * Fill out the \"Set Workflow vars\" node with your data\n  * Connect your notion account and select the database your tasks are stored at\n  * define the status filters to the ones you are using for your tasks\n  * Setup your email server to enable the email node to deliver your html email\n  * Create a Pushover account and setup the authentication for the Pushover node\n  * Adjust the last html node to change email style for your desire\n\n\n\n## How to customize this workflow for your needs?\n\n  * You might adjust the filtering of the notion fetch node to filter for other statuses than provided in the example.\n  * You apply your custom design to the html email\n  * You could remove the filter which is filtering for tasks having a deadline and just send yourself a reminder for all tasks\n\n\n\n* * *\n\n### You need help implementing this or any other n8n workflow?\n\nFeel free to contact me via LinkedIn or [my business website](https://www.unitize.de).\n\n### You want to start using n8n?\n\nUse this link to [register for n8n](https://n8n.partnerlinks.io/edr9c63lw12z)  \n(This is an affiliate link)\n\n* * *\n",
  "crawled_at": "2025-05-25T23:46:05.133158",
  "readme_zh": "## 谁适合使用此工作流？\n\n任何使用Notion数据库管理任务，却因截止日期临近而遗漏重要事项的人。每周提醒功能助您避免遗忘Notion中的待办任务。\n\n## 运作原理：\n\n* 工作流会从指定数据库中提取所有未完成的任务\n* 为每项任务生成包含标题和关键数据简表（优先级、状态、截止日、标签）的HTML模板\n* 根据截止日期将任务划分为\"已逾期\"和\"未逾期\"两组\n* 生成包含两组任务及版式设计的完整HTML邮件\n* 将邮件发送至指定邮箱\n* 通过Pushover向手机发送推送通知\n* 每周初自动执行\n\n## 设置指南：\n\n* 在\"Set Workflow vars\"节点填写个人数据\n* 连接Notion账户并选择任务存储的数据库\n* 根据实际使用情况设置任务状态筛选条件\n* 配置邮件服务器参数确保HTML邮件正常发送\n* 注册Pushover账户并为对应节点设置认证信息\n* 调整最后一个HTML节点以定制邮件样式\n\n## 个性化定制建议：\n\n* 可修改Notion数据获取节点的筛选条件，支持示例外的其他状态\n* 自定义HTML邮件设计风格\n* 移除截止日期筛选器，接收所有任务的提醒通知\n\n* * *\n\n### 需要协助实施此工作流或其他n8n工作流？\n\n欢迎通过LinkedIn或[我的商业网站](https://www.unitize.de)联系我。\n\n### 准备开始使用n8n？\n\n点击此链接[注册n8n](https://n8n.partnerlinks.io/edr9c63lw12z)  \n（此为推广链接）\n\n* * *",
  "title_zh": "每周提醒：您Notion中带有截止日期的任务",
  "publish_date_zh": "最后更新于7个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"46264913bc099c31e7222b2cfd112772e1c7867192afd7716e58254079b3333f\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"dac02623-ee83-444b-b039-fd310dee3260\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        700,\n        1000\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7268d9c0-44ae-4226-9e5f-f3b19e3fbfa1\",\n      \"name\": \"Notion\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        1360,\n        980\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"operation\": \"getAll\",\n        \"databaseId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"b1e11f75-06df-42b4-8dd9-557ba937978d\",\n          \"cachedResultUrl\": \"https://www.notion.so/b1e11f7506df42b48dd9557ba937978d\",\n          \"cachedResultName\": \"Tasks\"\n        },\n        \"filterType\": \"manual\"\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"03mmrqQX1rffebZp\",\n          \"name\": \"Notion David\"\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"607752ef-ac76-4a07-a3e7-39be7d5770e7\",\n      \"name\": \"Sort by closest deadline\",\n      \"type\": \"n8n-nodes-base.sort\",\n      \"position\": [\n        1760,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sortFieldsUi\": {\n          \"sortField\": [\n            {\n              \"fieldName\": \"property_deadline.start\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"81c6ded2-7766-4351-b597-27794b595283\",\n      \"name\": \"Filter for deadline\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1600,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"179eecfc-7eea-46b9-a971-78824e5774dc\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.property_deadline.start }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"21ecbd8d-7a2f-4a0a-8d99-3365c88a187b\",\n      \"name\": \"Send Email\",\n      \"type\": \"n8n-nodes-base.emailSend\",\n      \"position\": [\n        4100,\n        900\n      ],\n      \"parameters\": {\n        \"html\": \"={{ $json.html }}\",\n        \"options\": {},\n        \"subject\": \"Weekly Update about Notion Tasks\",\n        \"toEmail\": \"={{ $('Set Workflow vars').item.json.your_email }}\",\n        \"fromEmail\": \"n8n@unitize.de\"\n      },\n      \"credentials\": {\n        \"smtp\": {\n          \"id\": \"cvpDbugXPc0TsdmZ\",\n          \"name\": \"Unitize - SMTP Mailserver\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"8379f4e4-cab6-46cd-9ba0-e6bf78076de5\",\n      \"name\": \"HTML\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        3720,\n        900\n      ],\n      \"parameters\": {\n        \"html\": \"<!DOCTYPE html>\\n\\n<html>\\n<head>\\n  <meta charset=\\\"UTF-8\\\" />\\n  <title>Weekly Update about Notion Tasks</title>\\n  <meta name=\\\"color-scheme\\\" content=\\\"only\\\">\\n  <style>\\n    body {font-family: 'Courier'; color: #15124a; background-color: #ffffff;padding:20px;}\\n    .button {background-color: #126bf3; padding: 10px 15px; border-radius: 5px; text-decoration: none; color: white}\\n    a {text-decoration: none; color: #126bf3}\\n    h3 {margin-top: 0px}\\n    .task {background-color: #f0f0f0; padding: 20px; border-radius: 5px;}\\n    p:last-child {margin-bottom: 0px;}\\n  </style>\\n</head>\\n<body>\\n  <div class=\\\"container\\\">\\n    <img width=\\\"40\\\" src=\\\"{{ $('Set Workflow vars').item.json.logo_path }}\\\" />\\n    <h1>Weekly Update about Notion Tasks</h1>\\n    <p><a class=\\\"button\\\" href=\\\"{{ $('Set Workflow vars').item.json.notion_database_url }}\\\">To the Task Board in Notion</a></p>\\n    <br>\\n    {{ $json.html_groups.pluck('html') }}\\n  </div>\\n</body>\\n</html>\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"c86a8391-90ed-450a-b142-85ff62d84ab8\",\n      \"name\": \"Aggregate due to tasks\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        2700,\n        1040\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"destinationFieldName\": \"due_to\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"07506629-4244-4270-aecc-87b0237c65e7\",\n      \"name\": \"Aggregate overdue tasks\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        2700,\n        760\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"destinationFieldName\": \"overdue\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"93d4f3be-8081-41d9-bd59-5a7a0439c27b\",\n      \"name\": \"Pushover\",\n      \"type\": \"n8n-nodes-base.pushover\",\n      \"position\": [\n        4100,\n        1100\n      ],\n      \"parameters\": {\n        \"message\": \"You received a weekly update about your Notion Tasks. Check your mails!\",\n        \"userKey\": \"={{ $('Set Workflow vars').item.json.pushover_user_key }}\",\n        \"priority\": 1,\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"pushoverApi\": {\n          \"id\": \"Z002A4WQRAOy6XUT\",\n          \"name\": \"Pushover - David\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"112aa538-1497-4a53-85ff-b04504896b81\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        700,\n        780\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\",\n              \"triggerAtDay\": [\n                1\n              ],\n              \"triggerAtHour\": 9\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"1ec9608a-9a06-4140-a6e0-2e38b4a8c201\",\n      \"name\": \"If deadline is overdue\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2460,\n        900\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"e65c0597-d067-423a-8496-35e91a8ddf1b\",\n              \"operator\": {\n                \"type\": \"dateTime\",\n                \"operation\": \"beforeOrEquals\"\n              },\n              \"leftValue\": \"={{ $json.property_deadline.start.toDateTime() }}\",\n              \"rightValue\": \"={{ $now }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"2a25952d-7149-4b42-b520-497997d2838c\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        2220,\n        900\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"a80b5658-b83d-45e7-ade3-6a828f26a356\",\n      \"name\": \"HTML for Task\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        2000,\n        1060\n      ],\n      \"parameters\": {\n        \"html\": \"<div class=\\\"task\\\">\\n  <a href=\\\"{{ $json.url }}\\\">\\n    <h3>{{ $json.name }}\\\"</h3>\\n  </a>\\n  <p>\\n    <strong>Deadline: </strong>{{ $json.property_deadline.start.toDateTime().format('dd.MM.yyyy') }}\\n    <br>\\n    <strong>Prio: </strong>{{ $json.property_prio }}\\n    <br>\\n    <strong>Status: </strong>{{ $json.property_status }}\\n    <br>\\n    <strong>Tags: </strong>{{ $json.property_tags }}\\n  </p>\\n</div>\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"8589e878-249d-43a0-b523-994108b3471b\",\n      \"name\": \"HTML due to List\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        2920,\n        1040\n      ],\n      \"parameters\": {\n        \"html\": \"<h2>Tasks with an <u>upcoming</u> deadline</h2>\\n{{ $json.due_to.pluck('html') }}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"c3eccab0-56f8-4038-8526-f2f51a19fb59\",\n      \"name\": \"HTML overdue List\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        2920,\n        760\n      ],\n      \"parameters\": {\n        \"html\": \"<h2>Tasks which are already <u>overdue</u></h2>\\n{{ $if($json.overdue.length > 0, $json.overdue.pluck('html'), 'No overdue tasks. Great!') }}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"054aa055-6f71-4ecb-80fe-69e5b95f6390\",\n      \"name\": \"Aggregate\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        3440,\n        900\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"destinationFieldName\": \"html_groups\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"10a799fb-66f3-4fe3-b7b8-01d3a93047d2\",\n      \"name\": \"Merge groups\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        3220,\n        900\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"acde5a16-bdd1-4fb6-a986-14ae0b1b1240\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        620,\n        640\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 265.6985239367243,\n        \"height\": 702.0052321200026,\n        \"content\": \"## 触发器\\n当前设置为每周一上午9点执行。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7766fa25-2486-4eb5-a3d6-23ec2472be94\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1240,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 648.1928627806343,\n        \"height\": 710.0046767294216,\n        \"content\": \"## 获取、筛选和排序Notion任务\\n目前任务通过设定截止日期进行筛选，并据此排序\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5a44f536-5af9-40dd-a9ae-9d56e4540971\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1920,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 442.45022302855995,\n        \"height\": 707.700156943336,\n        \"content\": \"## 为每项任务生成HTML模板\\n为每项任务生成一个模板。该模板显示标题和一些属性。\\n您可以在此调整模板，以显示关于每项任务的更多或更少信息。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"765f25ad-3dfa-4a48-9c07-07c7fc0049b6\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2400,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 1185.3702378922917,\n        \"height\": 707.7001569433354,\n        \"content\": \"## 创建任务分组为“已逾期”和“即将到期”\\n此功能用于对任务进行分组，并在最终的HTML电子邮件模板中相应显示。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5fb2c5d9-fba9-463c-9574-38146d14e272\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        3620,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 314.11124235866913,\n        \"height\": 705.8925656662948,\n        \"content\": \"## 创建HTML邮件模板\\n此处完成整个HTML邮件模板的搭建。\\n已应用样式并展示了任务列表的美化效果。\\n您可根据自身需求修改设计，甚至替换徽标。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"891e126b-1a34-489b-8a3d-fa3a56308153\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        3980,\n        640\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 355.68584173060526,\n        \"height\": 704.0849743892543,\n        \"content\": \"## 发送邮件与推送通知\\n在Pushover节点中需填写用户密钥以接收推送通知。\\n详见Pushover官方文档了解该服务的配置方法。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6cd611da-f3da-4da1-90ae-e5e04a91f915\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        620,\n        400\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 539.3442720010472,\n        \"height\": 199.46339277184228,\n        \"content\": \"## 依赖项\\n- 您需要拥有自己的Notion页面/数据库访问权限\\n- 您需要注册一个Pushover账户才能通过该服务接收推送通知\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8da5e4b3-ee1a-4c62-aeec-40d85fb9754e\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        920,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 284.11715106246396,\n        \"height\": 706.9018085580076,\n        \"content\": \"## 设置工作流变量\\n根据您的需求调整此节点！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4759edd5-edae-4d4c-8cc7-55c8cd8336ca\",\n      \"name\": \"Set Workflow vars\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1000,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"976aac71-63c6-48a4-a965-8112ae3480bf\",\n              \"name\": \"logo_path\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"d9ec1fff-56ff-4c3e-befd-99520b78200e\",\n              \"name\": \"pushover_user_key\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"8271abe0-b9c7-4102-b1a2-37181dcb4ea6\",\n              \"name\": \"notion_database_url\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"ed7c4c03-f8e2-46fa-ac3b-ccabbeab24fa\",\n              \"name\": \"your_email\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"25f16b5e-7500-4b51-ac8e-e7d8b3b205be\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1260,\n        740\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 296.4350404695249,\n        \"height\": 463.2108881217612,\n        \"content\": \"## 需要调整\\n为了避免从你的Notion数据库中获取到“已完成”或“已关闭”的项目，你需要在这个Notion节点中添加一些筛选条件。\\n\\n例如，你可以添加“状态”不等于“已关闭”的条件，这样就不会获取到已关闭的项目。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"HTML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Pushover\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If deadline is overdue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Notion\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter for deadline\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge groups\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTML for Task\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"HTML due to List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge groups\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Workflow vars\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTML overdue List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge groups\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Workflow vars\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Notion\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter for deadline\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sort by closest deadline\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate due to tasks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML due to List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If deadline is overdue\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate overdue tasks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Aggregate due to tasks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate overdue tasks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML overdue List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sort by closest deadline\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML for Task\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Workflow vars\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}