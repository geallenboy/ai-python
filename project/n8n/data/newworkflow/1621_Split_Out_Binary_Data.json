{
  "url": "https://n8n.io/workflows/1621-split-out-binary-data/",
  "title": "Split Out Binary Data",
  "author": "Tom",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "",
  "readme": "This workflows helps with processing binary data.\n\nYou'll often have binary objects with keys such as `attachment_0`, `attachment_1`, `attachment_2`, etc. attached to your items, for example when reading an incoming email.\n\nThis binary data is hard to process because it's not an array you can simply loop through.\n\nThis workflow solves this problem by providing a Function node that takes all incoming items and all their binary data and then returning a single item for each file with a `data` key containing your binary file.\n\nIncoming binary data:  \n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/0b811ea7340a47ed84e7d2d275aba4e0.png)\n\nProcessed binary data:  \n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/9fc0919391b04826a297ffc8e28ca17c.png)\n",
  "crawled_at": "2025-05-25T19:56:34.783183",
  "readme_zh": "该工作流专门用于处理二进制数据。\n\n当您处理带有`attachment_0`、`attachment_1`、`attachment_2`等键名的二进制对象时（例如读取接收的电子邮件时），这些分散的二进制数据难以直接处理，因为它们并非可遍历的数组结构。\n\n本工作流通过内置函数节点完美解决这一问题：它会抓取所有输入条目及其关联的二进制数据，最终为每个文件生成独立条目，并统一使用`data`键来承载二进制内容。\n\n原始二进制数据示例：  \n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/0b811ea7340a47ed84e7d2d275aba4e0.png)\n\n处理后的二进制数据示例：  \n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/9fc0919391b04826a297ffc8e28ca17c.png)",
  "title_zh": "分离出二进制数据",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Split Up Binary Data\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        900,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let results = [];\\n\\nfor (item of items) {\\n    for (key of Object.keys(item.binary)) {\\n        results.push({\\n            json: {\\n                fileName: item.binary[key].fileName\\n            },\\n            binary: {\\n                data: item.binary[key],\\n            }\\n        });\\n    }\\n}\\n\\nreturn results;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Download Example Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        460,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"https://static.thomasmartens.eu/n8n/three_more_files.zip\",\n        \"options\": {},\n        \"responseFormat\": \"file\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Decompress Example Data\",\n      \"type\": \"n8n-nodes-base.compression\",\n      \"position\": [\n        680,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        120\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 360,\n        \"content\": \"## 示例数据\\n前两个节点仅用于获取一些示例数据以供处理。\\n\\n在实际应用中，您可能会处理收到的电子邮件、上传的FTP文件或类似内容。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        860,\n        120\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 360,\n        \"content\": \"## 转换环节\\n此处正是奇迹发生之地。输入文件被拆分为独立条目，每个条目在`data`键下仅包含单一二进制数据对象。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Download Example Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Decompress Example Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Example Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Decompress Example Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Up Binary Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}