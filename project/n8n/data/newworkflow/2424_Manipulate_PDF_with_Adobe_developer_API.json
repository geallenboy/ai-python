{
  "url": "https://n8n.io/workflows/2424-manipulate-pdf-with-adobe-developer-api/",
  "title": "Manipulate PDF with Adobe developer API",
  "author": "digi-stud.io",
  "publish_date": "Last update 8 months ago",
  "publish_date_absolute": "2024-09-25",
  "categories": [
    {
      "name": "Building Blocks"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"cd478e616d2616186f4f92b70cfe0c2ed95b5b209f749f2b873b38bdc56c47c9\"},\"nodes\":[{\"id\":\"f4b1bdd8-654d-4643-a004-ff1b2f32b5ae\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[580,1100],\"parameters\":{},\"typeVersion\":1},{\"id\":\"d6b1c410-81c3-486d-bdcb-86a4c6f7bf9e\",\"name\":\"Create Asset\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1940,580],\"parameters\":{\"url\":\"https://pdf-services.adobe.io/assets\",\"method\":\"POST\",\"options\":{\"redirect\":{\"redirect\":{}}},\"sendBody\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"mediaType\",\"value\":\"application/pdf\"}]},\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $json.access_token }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"PU8GmSwXswwM1Fzq\",\"name\":\"Adobe API calls\"}},\"typeVersion\":4.1},{\"id\":\"9e900a45-d792-4dc5-938c-0d5cdfd2e647\",\"name\":\"Execute Workflow Trigger\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[1140,440],\"parameters\":{},\"typeVersion\":1},{\"id\":\"859f369d-f36f-4c3f-a50d-a17214fef2a3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,140],\"parameters\":{\"color\":5,\"width\":667.6107231291055,\"height\":715.2927406867177,\"content\":\"# Adobe API Wrapper\\n\\nSee Adobe documentation:\\n- https://developer.adobe.com/document-services/docs/overview/pdf-services-api/howtos/\\n- https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/gettingstarted/\\n\\nIn short, this workflow does the following steps :\\n\\n- Authentication\\n- Upload an asset (pdf) to adobe\\n- Wait for the asset to be processed by Adobe\\n- Download the result\\n\\n## Credential\\n\\nCredentials are not \\\"predefined\\\" and you'll have to create 2 custom credentials, detailed in the workflow.\\n\\n## Result\\n\\nThe result will depend on the transformation requested. It could be 1 of various files (json, zip...) accessible via download URL returned by the workflow.\\n\\nWorkflow can be tested with a PDF filed fetched with Dorpbox for example or any storage provider. \"},\"typeVersion\":1},{\"id\":\"450199c5-e588-486d-81cf-eb69cf729ab1\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[560,900],\"parameters\":{\"width\":857.2064431277577,\"height\":463.937514110429,\"content\":\"## Testing for development\"},\"typeVersion\":1},{\"id\":\"311a75d6-4fbe-4d8f-89b3-d4b0ee21f7ae\",\"name\":\"Adobe API Query\",\"type\":\"n8n-nodes-base.set\",\"position\":[900,1000],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"62bb6466-acf4-41e5-9444-c9ef608a6822\",\"name\":\"endpoint\",\"type\":\"string\",\"value\":\"extractpdf\"},{\"id\":\"0352f585-1434-4ab7-a704-a1e187fffa96\",\"name\":\"json_payload\",\"type\":\"object\",\"value\":\"={{ \\n{\\n      \\\"renditionsToExtract\\\": [\\n        \\\"tables\\\"\\n       ],\\n      \\\"elementsToExtract\\\": [\\n        \\\"text\\\",\\n        \\\"tables\\\"\\n     ]\\n   }\\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"abf20778-db50-4787-a5f4-7af5d5c76efe\",\"name\":\"Load a test pdf file\",\"type\":\"n8n-nodes-base.dropbox\",\"position\":[900,1180],\"parameters\":{\"path\":\"/valerian/w/prod/_freelance/ADEZIF/AI/Source data/Brochures pour GPT/Brochure 3M/3M_doc_emballage VERSION FINALE.pdf\",\"operation\":\"download\",\"authentication\":\"oAuth2\"},\"credentials\":{\"dropboxOAuth2Api\":{\"id\":\"9\",\"name\":\"Dropbox account\"}},\"typeVersion\":1},{\"id\":\"8bb2ae0c-df61-4110-af44-b1040b4340a2\",\"name\":\"Query + File\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1180,1080],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combinationMode\":\"mergeByPosition\"},\"typeVersion\":2.1},{\"id\":\"92afa6d6-daf8-4358-8c95-36473b810dc2\",\"name\":\"Query + File + Asset information\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2180,580],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combinationMode\":\"mergeByPosition\"},\"typeVersion\":2.1},{\"id\":\"5d88b8e4-0b0a-463a-88db-c45d5e87e823\",\"name\":\"Process Query\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2640,580],\"parameters\":{\"url\":\"=https://pdf-services.adobe.io/operation/{{ $('Query + File + Asset information').item.json.endpoint }}\",\"method\":\"POST\",\"options\":{\"redirect\":{\"redirect\":{}},\"response\":{\"response\":{\"fullResponse\":true}}},\"jsonBody\":\"={{ \\n{\\n...{ \\\"assetID\\\":$('Query + File + Asset information').first().json.assetID },\\n...$('Query + File + Asset information').first().json.json_payload\\n}\\n}}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('Authenticartion (get token)').first().json[\\\"access_token\\\"] }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"PU8GmSwXswwM1Fzq\",\"name\":\"Adobe API calls\"}},\"typeVersion\":4.1},{\"id\":\"47278b2f-dd04-4609-90ab-52f34b9a0e72\",\"name\":\"Wait 5 second\",\"type\":\"n8n-nodes-base.wait\",\"position\":[2860,580],\"webhookId\":\"ed00a9a8-d599-4a98-86f8-a15176352c0a\",\"parameters\":{\"unit\":\"seconds\",\"amount\":5},\"typeVersion\":1},{\"id\":\"691b52ae-132a-4105-b1e4-bb7d55d0e347\",\"name\":\"Try to download the result\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[3080,580],\"parameters\":{\"url\":\"={{ $('Process Query').item.json[\\\"headers\\\"][\\\"location\\\"] }}\",\"options\":{},\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('Authenticartion (get token)').first().json[\\\"access_token\\\"] }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"PU8GmSwXswwM1Fzq\",\"name\":\"Adobe API calls\"}},\"typeVersion\":4.1},{\"id\":\"277dea14-de8d-4719-aff1-f4008d6d5c67\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[3260,580],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"in progress\",\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.status }}\",\"rightValue\":\"in progress\"}]},\"renameOutput\":true},{\"outputKey\":\"failed\",\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"6d6917f6-abb9-4175-a070-a2f500d9f34f\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.status }}\",\"rightValue\":\"failed\"}]},\"renameOutput\":true}]},\"options\":{\"fallbackOutput\":\"extra\"}},\"typeVersion\":3},{\"id\":\"8f6f8273-43ed-4a44-bb27-6ce137000472\",\"name\":\"Forward response to origin workflow\",\"type\":\"n8n-nodes-base.set\",\"position\":[3820,600],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"00e2d7e3-94cd-49e5-a975-2fdc1a7a95fd\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2780,480],\"parameters\":{\"width\":741.3069226712129,\"height\":336.57433650102917,\"content\":\"## Wait for file do be processed\"},\"typeVersion\":1},{\"id\":\"3667b1ba-b9a6-4e1a-94b1-61b37f1e7adc\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1324.6733934850213,147.59707015795897],\"parameters\":{\"color\":5,\"width\":402.63171535688423,\"height\":700.9473619571734,\"content\":\"### 1- Credential for token request\\n\\nCreate a \\\"Custom Auth\\\" credential like this :\\n\\n```\\n{\\n  \\\"headers\\\": {\\n    \\\"Content-Type\\\":\\\"application/x-www-form-urlencoded\\\"\\n  }, \\n  \\\"body\\\" : {\\n      \\\"client_id\\\": \\\"****\\\", \\n      \\\"client_secret\\\":\\\"****\\\"\\n  }\\n}\\n```\"},\"typeVersion\":1},{\"id\":\"718bb738-8ce4-4b38-94e4-6ccac1adf9ec\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1800,152.6219700851708],\"parameters\":{\"color\":5,\"width\":1752.5923360342827,\"height\":692.0175575715904,\"content\":\"### 2- Credential for all other Queries\\n\\nCreate a \\\"Header Auth\\\" credential like this : \\n\\n```\\nX-API-Key: **** (same value as client_id)\\n```\"},\"typeVersion\":1},{\"id\":\"d6bc8011-699d-4388-82f5-e5f90ba8672a\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[740,140],\"parameters\":{\"color\":5,\"width\":529.7500231395039,\"height\":718.8735380890446,\"content\":\"## Workflow Input\\n\\n- endpoint: splitpdf, extractpdf, ...\\n- json_payload : all endpoint payload except assetID which is handled in current workflow\\n- **PDF Data as n8n Binary**\\n\\n\\n### Example for **split** : \\n\\n```\\n{\\n   \\\"endpoint\\\": \\\"splitpdf\\\",\\n   \\\"json_payload\\\": {\\n      \\\"splitoption\\\": \\n         { \\\"pageRanges\\\": [{\\\"start\\\": 1,\\\"end\\\": 2}]}\\n       }\\n    }\\n}\\n```\\n\\n### Example for **extractpdf**\\n\\n```\\n{\\n   \\\"endpoint\\\": \\\"splitpdf\\\",\\n   \\\"json_payload\\\": {\\n      \\\"renditionsToExtract\\\": [\\n        \\\"tables\\\"\\n       ],\\n      \\\"elementsToExtract\\\": [\\n        \\\"text\\\",\\n        \\\"tables\\\"\\n     ]\\n   }\\n}\\n```\"},\"typeVersion\":1},{\"id\":\"2bbf6d9d-8399-49ba-94ea-b90795ef44ba\",\"name\":\"Authenticartion (get token)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1500,580],\"parameters\":{\"url\":\"https://pdf-services.adobe.io/token\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"form-urlencoded\",\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{}]},\"genericAuthType\":\"httpCustomAuth\"},\"credentials\":{\"httpCustomAuth\":{\"id\":\"djeOoXpBafK4aiGX\",\"name\":\"Adobe API\"}},\"typeVersion\":4.1},{\"id\":\"be4e87e8-6e56-408f-b932-320023382f98\",\"name\":\"Upload PDF File (asset)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2440,580],\"parameters\":{\"url\":\"={{ $json.uploadUri }}\",\"method\":\"PUT\",\"options\":{\"redirect\":{\"redirect\":{}}},\"sendBody\":true,\"sendQuery\":true,\"contentType\":\"binaryData\",\"queryParameters\":{\"parameters\":[{}]},\"inputDataFieldName\":\"data\"},\"typeVersion\":4.1}],\"pinData\":{},\"connections\":{\"Switch\":{\"main\":[[{\"node\":\"Wait 5 second\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Forward response to origin workflow\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Forward response to origin workflow\",\"type\":\"main\",\"index\":0}]]},\"Create Asset\":{\"main\":[[{\"node\":\"Query + File + Asset information\",\"type\":\"main\",\"index\":1}]]},\"Query + File\":{\"main\":[[{\"node\":\"Authenticartion (get token)\",\"type\":\"main\",\"index\":0},{\"node\":\"Query + File + Asset information\",\"type\":\"main\",\"index\":0}]]},\"Process Query\":{\"main\":[[{\"node\":\"Wait 5 second\",\"type\":\"main\",\"index\":0}]]},\"Wait 5 second\":{\"main\":[[{\"node\":\"Try to download the result\",\"type\":\"main\",\"index\":0}]]},\"Adobe API Query\":{\"main\":[[{\"node\":\"Query + File\",\"type\":\"main\",\"index\":0}]]},\"Load a test pdf file\":{\"main\":[[{\"node\":\"Query + File\",\"type\":\"main\",\"index\":1}]]},\"Upload PDF File (asset)\":{\"main\":[[{\"node\":\"Process Query\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow Trigger\":{\"main\":[[{\"node\":\"Authenticartion (get token)\",\"type\":\"main\",\"index\":0},{\"node\":\"Query + File + Asset information\",\"type\":\"main\",\"index\":0}]]},\"Try to download the result\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"Authenticartion (get token)\":{\"main\":[[{\"node\":\"Create Asset\",\"type\":\"main\",\"index\":0}]]},\"Query + File + Asset information\":{\"main\":[[{\"node\":\"Upload PDF File (asset)\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Load a test pdf file\",\"type\":\"main\",\"index\":0},{\"node\":\"Adobe API Query\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Adobe developer API\n\nDid you know that Adobe provides an API to perform all sort of manipulation on PDF files :\n\n  * Split PDF, Combine PDF\n  * OCR\n  * Insert page, delete page, replace page, reorder page\n  * Content extraction (text content, tables, pictures)\n  * ...\n\n\n\nThe free tier allows up to 500 PDF operation / month. As it comes directly from Adobe, it works often better than other alternatives.\n\nAdobe documentation:\n\n  * <https://developer.adobe.com/document-services/docs/overview/pdf-services-api/howtos/>\n  * <https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/gettingstarted/>\n\n\n\n## What does this workflow do\n\nThe API is a bit painful to use. To perform a transformation on a PDF it requires to\n\n  * Authenticate and get a temporal token\n  * Register a new asset (file)\n  * Upload you PDF to the registered asset\n  * Perform a query according to the transformation requested\n  * Wait for the query to be proccessed by Adobe backend\n  * Download the result\n\n\n\nThis workflow is a generic wrapper to perform all these steps for any transformation endpoint. I usually use it from other workflow with an `Execute Workflow` node.\n\nExamples are given in the workflow.\n\n## Example use case\n\nThis service is useful for example to **clean PDF data for an AI / RAG system**.\n\nMy favorite use-case is to extract table as images and forward images to an AI for image recognition / description which is often more accuarate than feedind raw tabular data to a LLM.\n",
  "crawled_at": "2025-05-25T23:49:42.020486",
  "readme_zh": "## Adobe开发者API\n\n您是否知道Adobe提供了一套API，可对PDF文件执行各类操作：\n\n* 拆分PDF、合并PDF\n* 光学字符识别（OCR）\n* 插入页面、删除页面、替换页面、重新排序页面\n* 内容提取（文本内容、表格、图片）\n* ...\n\n免费套餐每月支持多达500次PDF操作。由于是Adobe官方出品，其表现通常优于其他替代方案。\n\nAdobe官方文档：\n* <https://developer.adobe.com/document-services/docs/overview/pdf-services-api/howtos/>\n* <https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/gettingstarted/>\n\n## 本工作流功能说明\n\n该API使用过程较为繁琐。要对PDF进行转换需要：\n* 认证并获取临时令牌\n* 注册新资产（文件）\n* 将PDF上传至注册资产\n* 根据请求的转换类型提交查询\n* 等待Adobe后端处理查询\n* 下载结果\n\n本工作流是一个通用封装器，可为任何转换端点自动执行上述所有步骤。我通常通过其他工作流中的`执行工作流`节点调用它。\n\n工作流内附有使用示例。\n\n## 典型应用场景\n\n该服务特别适用于**为AI/RAG系统清理PDF数据**。\n\n我最常用的场景是将表格提取为图片，然后将图片发送给AI进行图像识别/描述，这通常比直接将原始表格数据输入LLM更准确。",
  "title_zh": "使用Adobe开发者API操作PDF",
  "publish_date_zh": "最后更新于7个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"cd478e616d2616186f4f92b70cfe0c2ed95b5b209f749f2b873b38bdc56c47c9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"f4b1bdd8-654d-4643-a004-ff1b2f32b5ae\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        580,\n        1100\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d6b1c410-81c3-486d-bdcb-86a4c6f7bf9e\",\n      \"name\": \"Create Asset\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1940,\n        580\n      ],\n      \"parameters\": {\n        \"url\": \"https://pdf-services.adobe.io/assets\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"redirect\": {\n            \"redirect\": {}\n          }\n        },\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"mediaType\",\n              \"value\": \"application/pdf\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $json.access_token }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"PU8GmSwXswwM1Fzq\",\n          \"name\": \"Adobe API calls\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"9e900a45-d792-4dc5-938c-0d5cdfd2e647\",\n      \"name\": \"Execute Workflow Trigger\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        1140,\n        440\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"859f369d-f36f-4c3f-a50d-a17214fef2a3\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        20,\n        140\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 667.6107231291055,\n        \"height\": 715.2927406867177,\n        \"content\": \"# Adobe API封装工具\\n\\n参见Adobe官方文档：\\n- https://developer.adobe.com/document-services/docs/overview/pdf-services-api/howtos/\\n- https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/gettingstarted/\\n\\n简而言之，该工作流程执行以下步骤：\\n\\n- 身份认证\\n- 将资源（PDF）上传至Adobe平台\\n- 等待Adobe完成资源处理\\n- 下载处理结果\\n\\n## 凭证配置\\n\\n系统未预设凭证，您需要按照工作流程指引创建2个自定义凭证。\\n\\n## 输出结果\\n\\n处理结果取决于所请求的转换类型，可能返回多种文件格式（json、zip等），均可通过工作流程返回的下载链接获取。\\n\\n测试时可通过Dropbox等存储服务获取PDF文件，或使用任意存储供应商提供的文件。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"450199c5-e588-486d-81cf-eb69cf729ab1\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        560,\n        900\n      ],\n      \"parameters\": {\n        \"width\": 857.2064431277577,\n        \"height\": 463.937514110429,\n        \"content\": \"## 开发测试\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"311a75d6-4fbe-4d8f-89b3-d4b0ee21f7ae\",\n      \"name\": \"Adobe API Query\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        900,\n        1000\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"62bb6466-acf4-41e5-9444-c9ef608a6822\",\n              \"name\": \"endpoint\",\n              \"type\": \"string\",\n              \"value\": \"extractpdf\"\n            },\n            {\n              \"id\": \"0352f585-1434-4ab7-a704-a1e187fffa96\",\n              \"name\": \"json_payload\",\n              \"type\": \"object\",\n              \"value\": \"={{ \\n{\\n      \\\"renditionsToExtract\\\": [\\n        \\\"tables\\\"\\n       ],\\n      \\\"elementsToExtract\\\": [\\n        \\\"text\\\",\\n        \\\"tables\\\"\\n     ]\\n   }\\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"abf20778-db50-4787-a5f4-7af5d5c76efe\",\n      \"name\": \"Load a test pdf file\",\n      \"type\": \"n8n-nodes-base.dropbox\",\n      \"position\": [\n        900,\n        1180\n      ],\n      \"parameters\": {\n        \"path\": \"/valerian/w/prod/_freelance/ADEZIF/AI/Source data/Brochures pour GPT/Brochure 3M/3M_doc_emballage VERSION FINALE.pdf\",\n        \"operation\": \"download\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"dropboxOAuth2Api\": {\n          \"id\": \"9\",\n          \"name\": \"Dropbox account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8bb2ae0c-df61-4110-af44-b1040b4340a2\",\n      \"name\": \"Query + File\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1180,\n        1080\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"mergeByPosition\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"92afa6d6-daf8-4358-8c95-36473b810dc2\",\n      \"name\": \"Query + File + Asset information\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        2180,\n        580\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"mergeByPosition\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"5d88b8e4-0b0a-463a-88db-c45d5e87e823\",\n      \"name\": \"Process Query\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2640,\n        580\n      ],\n      \"parameters\": {\n        \"url\": \"=https://pdf-services.adobe.io/operation/{{ $('Query + File + Asset information').item.json.endpoint }}\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"redirect\": {\n            \"redirect\": {}\n          },\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"jsonBody\": \"={{ \\n{\\n...{ \\\"assetID\\\":$('Query + File + Asset information').first().json.assetID },\\n...$('Query + File + Asset information').first().json.json_payload\\n}\\n}}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('Authenticartion (get token)').first().json[\\\"access_token\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"PU8GmSwXswwM1Fzq\",\n          \"name\": \"Adobe API calls\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"47278b2f-dd04-4609-90ab-52f34b9a0e72\",\n      \"name\": \"Wait 5 second\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        2860,\n        580\n      ],\n      \"webhookId\": \"ed00a9a8-d599-4a98-86f8-a15176352c0a\",\n      \"parameters\": {\n        \"unit\": \"seconds\",\n        \"amount\": 5\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"691b52ae-132a-4105-b1e4-bb7d55d0e347\",\n      \"name\": \"Try to download the result\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        3080,\n        580\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $('Process Query').item.json[\\\"headers\\\"][\\\"location\\\"] }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('Authenticartion (get token)').first().json[\\\"access_token\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"PU8GmSwXswwM1Fzq\",\n          \"name\": \"Adobe API calls\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"277dea14-de8d-4719-aff1-f4008d6d5c67\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        3260,\n        580\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"in progress\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.status }}\",\n                    \"rightValue\": \"in progress\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"failed\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"6d6917f6-abb9-4175-a070-a2f500d9f34f\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.status }}\",\n                    \"rightValue\": \"failed\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"8f6f8273-43ed-4a44-bb27-6ce137000472\",\n      \"name\": \"Forward response to origin workflow\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        3820,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": []\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"00e2d7e3-94cd-49e5-a975-2fdc1a7a95fd\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2780,\n        480\n      ],\n      \"parameters\": {\n        \"width\": 741.3069226712129,\n        \"height\": 336.57433650102917,\n        \"content\": \"## 等待文件处理完成\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3667b1ba-b9a6-4e1a-94b1-61b37f1e7adc\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1324.6733934850213,\n        147.59707015795897\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 402.63171535688423,\n        \"height\": 700.9473619571734,\n        \"content\": \"### 1- 令牌请求凭证\\n\\n创建一个如下所示的“自定义认证”凭证：\\n\\n```\\n{\\n  \\\"headers\\\": {\\n    \\\"Content-Type\\\":\\\"application/x-www-form-urlencoded\\\"\\n  }, \\n  \\\"body\\\" : {\\n      \\\"client_id\\\": \\\"****\\\", \\n      \\\"client_secret\\\":\\\"****\\\"\\n  }\\n}\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"718bb738-8ce4-4b38-94e4-6ccac1adf9ec\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1800,\n        152.6219700851708\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1752.5923360342827,\n        \"height\": 692.0175575715904,\n        \"content\": \"### 2- 用于其他所有查询的凭证\\n\\n创建一个“Header Auth”凭证，格式如下：\\n\\n```\\nX-API-Key: ****（值与client_id相同）\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d6bc8011-699d-4388-82f5-e5f90ba8672a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        740,\n        140\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 529.7500231395039,\n        \"height\": 718.8735380890446,\n        \"content\": \"## 工作流输入\\n\\n- 端点: splitpdf（拆分PDF）, extractpdf（提取PDF）, ...\\n- json_payload: 除当前工作流已处理的assetID外，所有端点的有效载荷\\n- **PDF数据以n8n二进制格式传输**\\n\\n### **拆分**示例：\\n\\n```\\n{\\n   \\\"endpoint\\\": \\\"splitpdf\\\",\\n   \\\"json_payload\\\": {\\n      \\\"splitoption\\\": \\n         { \\\"pageRanges\\\": [{\\\"start\\\": 1,\\\"end\\\": 2}]}\\n       }\\n    }\\n}\\n```\\n\\n### **提取PDF**示例\\n\\n```\\n{\\n   \\\"endpoint\\\": \\\"splitpdf\\\",\\n   \\\"json_payload\\\": {\\n      \\\"renditionsToExtract\\\": [\\n        \\\"tables\\\"（表格）\\n       ],\\n      \\\"elementsToExtract\\\": [\\n        \\\"text\\\"（文本）,\\n        \\\"tables\\\"（表格）\\n     ]\\n   }\\n}\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2bbf6d9d-8399-49ba-94ea-b90795ef44ba\",\n      \"name\": \"Authenticartion (get token)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1500,\n        580\n      ],\n      \"parameters\": {\n        \"url\": \"https://pdf-services.adobe.io/token\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"form-urlencoded\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        },\n        \"genericAuthType\": \"httpCustomAuth\"\n      },\n      \"credentials\": {\n        \"httpCustomAuth\": {\n          \"id\": \"djeOoXpBafK4aiGX\",\n          \"name\": \"Adobe API\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"be4e87e8-6e56-408f-b932-320023382f98\",\n      \"name\": \"Upload PDF File (asset)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2440,\n        580\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.uploadUri }}\",\n        \"method\": \"PUT\",\n        \"options\": {\n          \"redirect\": {\n            \"redirect\": {}\n          }\n        },\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"contentType\": \"binaryData\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        },\n        \"inputDataFieldName\": \"data\"\n      },\n      \"typeVersion\": 4.1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait 5 second\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Forward response to origin workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Forward response to origin workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Asset\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Query + File + Asset information\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Query + File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Authenticartion (get token)\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Query + File + Asset information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Process Query\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait 5 second\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait 5 second\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Try to download the result\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Adobe API Query\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Query + File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Load a test pdf file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Query + File\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Upload PDF File (asset)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Process Query\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Authenticartion (get token)\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Query + File + Asset information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Try to download the result\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Authenticartion (get token)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Asset\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Query + File + Asset information\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload PDF File (asset)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Load a test pdf file\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Adobe API Query\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}