{
  "url": "https://n8n.io/workflows/2985-ai-powered-chatbot-workflow-with-mysql-database-integration/",
  "title": "AI-Powered Chatbot Workflow with MySQL Database Integration",
  "author": "Gegenfeld",
  "publish_date": "Last update 3 months ago",
  "publish_date_absolute": "2025-02-26",
  "categories": [
    {
      "name": "Engineering"
    },
    {
      "name": "DevOps"
    },
    {
      "name": "Product"
    },
    {
      "name": "AI"
    },
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "",
  "readme": "# AI-Powered Chatbot Workflow with MySQL Integration\n\nThis guide shows you how to deploy a chatbot that lets you query your database using natural language. You will build a system that accepts chat messages, retains conversation history, constructs dynamic SQL queries, and returns responses generated by an AI model. By following these instructions, you will have a working solution that integrates n8nâ€™s AI Agent capabilities with MySQL.\n\n* * *\n\n## Prerequisites\n\nBefore you begin, ensure that you have the following:\n\n  1. An active n8n instance (self-hosted or cloud) running version 1.50.0 or later.\n  2. Valid MySQL credentials configured in n8n.\n  3. API credentials for the Groq Chat Model (or your preferred AI language model).\n  4. Basic familiarity with SQL and n8n node concepts such as chat triggers and memory buffers.\n  5. Access to the [n8n Docs on AI Agents](https://docs.n8n.io/advanced-ai/) for further reference.\n\n\n\n* * *\n\n## Workflow Setup\n\n### 1\\. Chat Interface & Trigger\n\n  * **When Chat Message Received**  \nThis node listens for incoming chat messages via a webhook. When a message arrives, it triggers the workflow immediately.\n\n\n\n### 2\\. Conversation Memory\n\n  * **Chat History**  \nThis memory buffer node stores the last 10 interactions. It supplies conversation context to the AI Agent, ensuring that responses consider previous messages.\n\n\n\n### 3\\. AI Agent Core\n\n  * **AI Agent (Tools Agent)**  \nThe AI Agent node orchestrates the conversation by receiving the chat input and conversation history. It dynamically generates SQL queries based on your requests and coordinates calls to external tools (such as MySQL nodes).\n\n\n\n### 4\\. Database Interactions\n\n  * **MySQL Node**  \nThis node executes the SQL query generated by the AI Agent. You reference the query using an expression (e.g., `{{$node[\"AI Agent\"].json.sql_query}}`), allowing the agentâ€™s output to control data retrieval.\n\n  * **MySQL Schema Node**  \nThis node retrieves a list of base tables from your MySQL database (excluding system schemas). The agent uses this information to understand the available tables.\n\n  * **MySQL Definition Node**  \nThis node fetches detailed metadata (such as column names, data types, and relationships) for a specific table. The table and schema names are supplied dynamically by the AI Agent.\n\n\n\n\n### 5\\. Language Model Processing\n\n  * **Groq Chat Model**  \nThis node connects to the Groq Chat API to generate text completions. It processes the combined input (chat message, context, and data fetched from MySQL) and produces the final response.\n\n\n\n### 6\\. Guidance & Customization\n\n  * **Sticky Notes**  \nThese nodes provide guidance on: \n    * Switching the chat model if you wish to use another provider (e.g., OpenAI or Anthropic).\n    * Adjusting the maximum token count per interaction.\n    * Customizing the SQL queries and the context window size.\n\n\n\nThey help you modify the workflow to suit your environment and requirements.\n\n### Workflow Connections\n\n  * The **Chat Trigger** passes the incoming message to the **AI Agent**.\n  * The **Chat History** node supplies conversation context to the AI Agent.\n  * The **AI Agent** calls the MySQL nodes as external tools, generating and sending dynamic SQL queries.\n  * The **Groq Chat Model** processes the consolidated input from the agent and outputs the natural language response delivered to the user.\n\n\n\n### Testing the Workflow\n\n  1. Send a chat message using the chat interface.\n  2. Observe how the AI Agent processes the input and generates a corresponding SQL query.\n  3. Verify that the MySQL nodes execute the query and return data.\n  4. Confirm that the Groq Chat Model produces a coherent natural language response.\n  5. Refer to the sticky notes for guidance if you need to fine-tune any node settings.\n\n\n\n* * *\n\n## Next Steps and References\n\n  * **Customize Your AI Model**  \nReplace the Groq Chat Model with another language model (such as the OpenAI Chat Model) by updating the node credentials and configuration.\n\n  * **Enhance Memory Settings**  \nAdjust the Chat History nodeâ€™s context window to retain more or fewer messages based on your needs.\n\n  * **Modify SQL Queries**  \nUpdate the SQL queries in the MySQL nodes to match your specific database schema and desired data.\n\n  * **Further Reading**  \nConsult the [n8n Docs on AI Agents](https://docs.n8n.io/advanced-ai/) for additional details and examples to expand your workflowâ€™s capabilities.\n\n  * **Set Up a Website Chatbot**  \nCopy & Paste and replace the placeholders in the following code to embed the chatbot into your personal or company's website: [View in CodePen ğŸ¡¥](https://codepen.io/olemai/pen/RNwPdVp)\n\n\n\n\n* * *\n\nBy following these steps, you will deploy a robust AI chatbot workflow that integrates with your MySQL database, allowing you to query data using natural language.\n",
  "crawled_at": "2025-05-26T03:07:15.472665",
  "readme_zh": "# åŸºäºAIçš„MySQLé›†æˆèŠå¤©æœºå™¨äººå·¥ä½œæµ\n\næœ¬æŒ‡å—å°†å±•ç¤ºå¦‚ä½•éƒ¨ç½²ä¸€ä¸ªå…è®¸ä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åº“çš„èŠå¤©æœºå™¨äººã€‚æ‚¨å°†æ„å»ºä¸€ä¸ªèƒ½å¤Ÿæ¥æ”¶èŠå¤©æ¶ˆæ¯ã€ä¿ç•™å¯¹è¯å†å²ã€æ„å»ºåŠ¨æ€SQLæŸ¥è¯¢å¹¶è¿”å›AIæ¨¡å‹ç”Ÿæˆå“åº”çš„ç³»ç»Ÿã€‚æŒ‰ç…§ä»¥ä¸‹è¯´æ˜æ“ä½œï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªæ•´åˆn8n AIæ™ºèƒ½ä½“åŠŸèƒ½ä¸MySQLçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚\n\n* * *\n\n## å‰ææ¡ä»¶\n\nå¼€å§‹å‰è¯·ç¡®ä¿å…·å¤‡ï¼š\n1. è¿è¡Œ1.50.0æˆ–æ›´é«˜ç‰ˆæœ¬çš„n8nå®ä¾‹ï¼ˆè‡ªæ‰˜ç®¡æˆ–äº‘ç«¯ï¼‰\n2. åœ¨n8nä¸­é…ç½®æœ‰æ•ˆçš„MySQLå‡­è¯\n3. GroqèŠå¤©æ¨¡å‹ï¼ˆæˆ–æ‚¨åå¥½çš„AIè¯­è¨€æ¨¡å‹ï¼‰çš„APIå‡­è¯\n4. åŸºæœ¬æŒæ¡SQLå’Œn8nèŠ‚ç‚¹æ¦‚å¿µï¼ˆå¦‚èŠå¤©è§¦å‘å™¨å’Œè®°å¿†ç¼“å†²åŒºï¼‰\n5. å¯è®¿é—®[AIæ™ºèƒ½ä½“n8næ–‡æ¡£](https://docs.n8n.io/advanced-ai/)ä½œä¸ºå‚è€ƒ\n\n* * *\n\n## å·¥ä½œæµé…ç½®\n\n### 1. èŠå¤©ç•Œé¢ä¸è§¦å‘å™¨\n- **å½“æ”¶åˆ°èŠå¤©æ¶ˆæ¯æ—¶**  \nè¯¥èŠ‚ç‚¹é€šè¿‡webhookç›‘å¬ä¼ å…¥æ¶ˆæ¯ï¼Œç«‹å³è§¦å‘å·¥ä½œæµ\n\n### 2. å¯¹è¯è®°å¿†\n- **èŠå¤©å†å²**  \nè¿™ä¸ªè®°å¿†ç¼“å†²åŒºèŠ‚ç‚¹å­˜å‚¨æœ€è¿‘10æ¬¡äº¤äº’ï¼Œä¸ºAIæ™ºèƒ½ä½“æä¾›å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œç¡®ä¿å“åº”è€ƒè™‘å…ˆå‰æ¶ˆæ¯\n\n### 3. AIæ™ºèƒ½ä½“æ ¸å¿ƒ\n- **AIæ™ºèƒ½ä½“ï¼ˆå·¥å…·å‹ï¼‰**  \nè¯¥èŠ‚ç‚¹é€šè¿‡æ¥æ”¶èŠå¤©è¾“å…¥å’Œå†å²è®°å½•åè°ƒå¯¹è¯ï¼Œæ ¹æ®è¯·æ±‚åŠ¨æ€ç”ŸæˆSQLæŸ¥è¯¢ï¼Œå¹¶åè°ƒå¤–éƒ¨å·¥å…·ï¼ˆå¦‚MySQLèŠ‚ç‚¹ï¼‰è°ƒç”¨\n\n### 4. æ•°æ®åº“äº¤äº’\n- **MySQLèŠ‚ç‚¹**  \næ‰§è¡ŒAIæ™ºèƒ½ä½“ç”Ÿæˆçš„SQLæŸ¥è¯¢ï¼ˆé€šè¿‡è¡¨è¾¾å¼å¼•ç”¨å¦‚`{{$node[\"AI Agent\"].json.sql_query}}`ï¼‰\n- **MySQLæ¶æ„èŠ‚ç‚¹**  \nè·å–MySQLæ•°æ®åº“ä¸­çš„åŸºç¡€è¡¨åˆ—è¡¨ï¼ˆæ’é™¤ç³»ç»Ÿæ¶æ„ï¼‰\n- **MySQLå®šä¹‰èŠ‚ç‚¹**  \nè·å–ç‰¹å®šè¡¨çš„è¯¦ç»†å…ƒæ•°æ®ï¼ˆåˆ—å/æ•°æ®ç±»å‹/å…³ç³»ç­‰ï¼‰ï¼Œè¡¨åå’Œæ¶æ„åç”±AIæ™ºèƒ½ä½“åŠ¨æ€æä¾›\n\n### 5. è¯­è¨€æ¨¡å‹å¤„ç†\n- **GroqèŠå¤©æ¨¡å‹**  \nè¿æ¥Groq Chat APIç”Ÿæˆæ–‡æœ¬è¡¥å…¨ï¼Œå¤„ç†ç»¼åˆè¾“å…¥ï¼ˆèŠå¤©æ¶ˆæ¯/ä¸Šä¸‹æ–‡/MySQLæ•°æ®ï¼‰å¹¶ç”Ÿæˆæœ€ç»ˆå“åº”\n\n### 6. æŒ‡å¯¼ä¸å®šåˆ¶\n- **ä¾¿åˆ©è´´èŠ‚ç‚¹**  \næä¾›ä»¥ä¸‹æŒ‡å¯¼ï¼š\n  - åˆ‡æ¢èŠå¤©æ¨¡å‹ï¼ˆå¦‚æ”¹ç”¨OpenAIæˆ–Anthropicï¼‰\n  - è°ƒæ•´å•æ¬¡äº¤äº’çš„æœ€å¤§tokenæ•°\n  - è‡ªå®šä¹‰SQLæŸ¥è¯¢å’Œä¸Šä¸‹æ–‡çª—å£å¤§å°\nå¸®åŠ©æ ¹æ®ç¯å¢ƒå’Œéœ€æ±‚ä¿®æ”¹å·¥ä½œæµ\n\n### å·¥ä½œæµè¿æ¥\n- **èŠå¤©è§¦å‘å™¨**å°†æ¶ˆæ¯ä¼ é€’ç»™**AIæ™ºèƒ½ä½“**\n- **èŠå¤©å†å²**èŠ‚ç‚¹æä¾›å¯¹è¯ä¸Šä¸‹æ–‡\n- **AIæ™ºèƒ½ä½“**è°ƒç”¨MySQLèŠ‚ç‚¹ä½œä¸ºå¤–éƒ¨å·¥å…·ç”ŸæˆåŠ¨æ€SQL\n- **GroqèŠå¤©æ¨¡å‹**æ•´åˆæ™ºèƒ½ä½“è¾“å…¥åç”Ÿæˆè‡ªç„¶è¯­è¨€å“åº”\n\n### æµ‹è¯•å·¥ä½œæµ\n1. é€šè¿‡èŠå¤©ç•Œé¢å‘é€æ¶ˆæ¯\n2. è§‚å¯ŸAIæ™ºèƒ½ä½“å¦‚ä½•å¤„ç†è¾“å…¥å¹¶ç”ŸæˆSQLæŸ¥è¯¢\n3. éªŒè¯MySQLèŠ‚ç‚¹æ˜¯å¦æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›æ•°æ®\n4. ç¡®è®¤Groqæ¨¡å‹æ˜¯å¦ç”Ÿæˆè¿è´¯çš„è‡ªç„¶è¯­è¨€å“åº”\n5. éœ€è¦å¾®è°ƒæ—¶å¯å‚è€ƒä¾¿åˆ©è´´æŒ‡å¼•\n\n* * *\n\n## åç»­æ­¥éª¤ä¸å‚è€ƒ\n- **å®šåˆ¶AIæ¨¡å‹**ï¼šé€šè¿‡æ›´æ–°èŠ‚ç‚¹å‡­è¯æ›¿æ¢Groqæ¨¡å‹ï¼ˆå¦‚æ”¹ç”¨OpenAIï¼‰\n- **å¢å¼ºè®°å¿†è®¾ç½®**ï¼šè°ƒæ•´èŠå¤©å†å²èŠ‚ç‚¹çš„ä¸Šä¸‹æ–‡çª—å£å¤§å°\n- **ä¿®æ”¹SQLæŸ¥è¯¢**ï¼šæ›´æ–°MySQLèŠ‚ç‚¹æŸ¥è¯¢ä»¥åŒ¹é…æ‚¨çš„æ•°æ®åº“æ¶æ„\n- **å»¶ä¼¸é˜…è¯»**ï¼šå‚é˜…[AIæ™ºèƒ½ä½“n8næ–‡æ¡£](https://docs.n8n.io/advanced-ai/)è·å–æ›´å¤šç¤ºä¾‹\n- **éƒ¨ç½²ç½‘ç«™èŠå¤©æœºå™¨äºº**ï¼šå¤åˆ¶ä»¥ä¸‹ä»£ç æ›¿æ¢å ä½ç¬¦å³å¯åµŒå…¥ç½‘ç«™ï¼š[CodePenç¤ºä¾‹ ğŸ¡¥](https://codepen.io/olemai/pen/RNwPdVp)\n\n* * *\n\nå®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæ‚¨å°†éƒ¨ç½²ä¸€ä¸ªå¼ºå¤§çš„AIèŠå¤©æœºå™¨äººå·¥ä½œæµï¼Œå®ç°ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢MySQLæ•°æ®åº“ã€‚",
  "title_zh": "é›†æˆMySQLæ•°æ®åº“çš„AIé©±åŠ¨èŠå¤©æœºå™¨äººå·¥ä½œæµç¨‹",
  "publish_date_zh": "æœ€åæ›´æ–°äº2ä¸ªæœˆå‰",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"f0daacbbece4d36ce73ed214e506ba3899410c0e00a1b6cd1d93e012465d1082\"},\"nodes\":[{\"id\":\"e1055031-f1f1-44dd-8e3b-18b9f543aac2\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-60,-80],\"webhookId\":\"cf1de04f-3e38-426c-89f0-3bdb110a5dcf\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"88eaaf60-aed6-4e9d-9667-d2838a8e7f78\",\"name\":\"Chat History\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[280,120],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"a5b49dee-d5e4-4324-a7f8-1638e4e41abd\",\"name\":\"MySQL\",\"type\":\"n8n-nodes-base.mySqlTool\",\"position\":[460,120],\"parameters\":{},\"typeVersion\":2.4},{\"id\":\"7abfcdc7-dfc5-4627-a479-82dd38404c88\",\"name\":\"MySQL Schema\",\"type\":\"n8n-nodes-base.mySqlTool\",\"position\":[640,120],\"parameters\":{},\"typeVersion\":2.4},{\"id\":\"bc9dfb90-0696-4801-a5c2-741c2fd27855\",\"name\":\"MySQL Definition\",\"type\":\"n8n-nodes-base.mySqlTool\",\"position\":[820,120],\"parameters\":{},\"typeVersion\":2.4},{\"id\":\"fd8344a4-ee89-4365-ae36-cc39f26c47df\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[360,-80],\"parameters\":{},\"typeVersion\":1.7},{\"id\":\"4849ec08-2ab9-46f2-bc8c-f9dad3196246\",\"name\":\"Groq Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGroq\",\"position\":[100,120],\"parameters\":{},\"typeVersion\":1},{\"id\":\"400a5f98-60af-4acb-950a-085402f3502d\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[60,300],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"5859cd82-9d6c-4783-8ef9-44cd4d800148\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[240,300],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"599c02ac-7246-4cab-8bdd-1f6565ece04d\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[420,300],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"33cbfb73-10e5-428b-ba71-539be16e7bc7\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,-300],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"MySQL\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Chat History\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"MySQL Schema\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Groq Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"MySQL Definition\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]}}}"
}