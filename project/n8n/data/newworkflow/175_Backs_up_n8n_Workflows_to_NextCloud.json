{
  "url": "https://n8n.io/workflows/175-backs-up-n8n-workflows-to-nextcloud/",
  "title": "Backs up n8n Workflows to NextCloud",
  "author": "dave",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"id\":\"5dcd71e5db772d996680f0be\",\"name\":\"Example - Backup n8n to Nextcloud\",\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[240,310],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Cron\",\"type\":\"n8n-nodes-base.cron\",\"position\":[240,180],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"custom\",\"cronExpression\":\"* */6 * * *\"}]}},\"typeVersion\":1},{\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[770,180],\"parameters\":{\"mode\":\"mergeByIndex\"},\"typeVersion\":1},{\"name\":\"Move Binary Data\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[1070,180],\"parameters\":{\"mode\":\"jsonToBinary\",\"options\":{\"useRawData\":false}},\"typeVersion\":1},{\"name\":\"Map\",\"type\":\"n8n-nodes-base.function\",\"position\":[520,180],\"parameters\":{\"functionCode\":\"return items[0].json.data.map(item => {\\n  return {json: item}\\n});\"},\"typeVersion\":1},{\"name\":\"Get Workflow\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[640,320],\"parameters\":{\"url\":\"=http://localhost:5678/rest/workflows/{{$node[\\\"Map\\\"].data[\\\"id\\\"]}}\",\"options\":{}},\"typeVersion\":1},{\"name\":\"Get Workflow List\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[380,180],\"parameters\":{\"url\":\"http://localhost:5678/rest/workflows\",\"options\":{}},\"typeVersion\":1},{\"name\":\"FunctionItem\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[920,180],\"parameters\":{\"functionCode\":\"item = item.data;\\nreturn item;\"},\"typeVersion\":1},{\"name\":\"NextCloud1\",\"type\":\"n8n-nodes-base.nextCloud\",\"position\":[1210,180],\"parameters\":{\"path\":\"=/n8n/Backup/lacnet1/{{$node[\\\"Merge\\\"].data[\\\"name\\\"]}}.json\",\"binaryDataUpload\":true},\"typeVersion\":1}],\"active\":false,\"settings\":{},\"connections\":{\"Map\":{\"main\":[[{\"node\":\"Get Workflow\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Cron\":{\"main\":[[{\"node\":\"Get Workflow List\",\"type\":\"main\",\"index\":0}]]},\"Merge\":{\"main\":[[{\"node\":\"FunctionItem\",\"type\":\"main\",\"index\":0}]]},\"NextCloud1\":{\"main\":[[]]},\"FunctionItem\":{\"main\":[[{\"node\":\"Move Binary Data\",\"type\":\"main\",\"index\":0}]]},\"Get Workflow\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"Move Binary Data\":{\"main\":[[{\"node\":\"NextCloud1\",\"type\":\"main\",\"index\":0}]]},\"Get Workflow List\":{\"main\":[[{\"node\":\"Map\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Get Workflow List\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Temporary solution using the undocumented REST API for backups with file versioning (Nextcloud)\n",
  "crawled_at": "2025-05-25T17:59:50.871870",
  "readme_zh": "使用未公开的REST API实现带文件版本控制的临时备份方案（Nextcloud）",
  "title_zh": "将n8n工作流备份至NextCloud",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"5dcd71e5db772d996680f0be\",\n  \"name\": \"Example - Backup n8n to Nextcloud\",\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        310\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        240,\n        180\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"custom\",\n              \"cronExpression\": \"* */6 * * *\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        770,\n        180\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByIndex\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Move Binary Data\",\n      \"type\": \"n8n-nodes-base.moveBinaryData\",\n      \"position\": [\n        1070,\n        180\n      ],\n      \"parameters\": {\n        \"mode\": \"jsonToBinary\",\n        \"options\": {\n          \"useRawData\": false\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Map\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        520,\n        180\n      ],\n      \"parameters\": {\n        \"functionCode\": \"return items[0].json.data.map(item => {\\n  return {json: item}\\n});\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Workflow\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        640,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"=http://localhost:5678/rest/workflows/{{$node[\\\"Map\\\"].data[\\\"id\\\"]}}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Workflow List\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        380,\n        180\n      ],\n      \"parameters\": {\n        \"url\": \"http://localhost:5678/rest/workflows\",\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"FunctionItem\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        920,\n        180\n      ],\n      \"parameters\": {\n        \"functionCode\": \"item = item.data;\\nreturn item;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"NextCloud1\",\n      \"type\": \"n8n-nodes-base.nextCloud\",\n      \"position\": [\n        1210,\n        180\n      ],\n      \"parameters\": {\n        \"path\": \"=/n8n/Backup/lacnet1/{{$node[\\\"Merge\\\"].data[\\\"name\\\"]}}.json\",\n        \"binaryDataUpload\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Map\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Workflow List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"FunctionItem\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"NextCloud1\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"FunctionItem\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Move Binary Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Move Binary Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NextCloud1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Workflow List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Map\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Workflow List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}