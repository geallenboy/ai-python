{
  "url": "https://n8n.io/workflows/2605-generate-leads-with-google-maps/",
  "title": "Generate Leads with Google Maps",
  "author": "Alex Kim",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-26",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"cQAILffOajE9n2cf\",\"meta\":{\"instanceId\":\"a14364f050ddf078652622522c15b502c09f9ef0c34946b703b7489667faedef\",\"templateCredsSetupCompleted\":true},\"name\":\"Generate Leads with Google Maps - AlexK1919\",\"tags\":[{\"id\":\"yS42KACueZegnCTR\",\"name\":\"AlexK1919\",\"createdAt\":\"2024-06-04T02:58:48.480Z\",\"updatedAt\":\"2024-06-04T02:58:48.480Z\"}],\"nodes\":[{\"id\":\"edc9d8f5-e1f4-48e2-b7f7-36e53674d5b3\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-1080,540],\"parameters\":{},\"typeVersion\":1},{\"id\":\"b761e882-298f-454e-8c21-f77b336ce54e\",\"name\":\"Run workflow every hours\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"disabled\":true,\"position\":[-1080,360],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"minutes\",\"minutesInterval\":15}]}},\"typeVersion\":1.1},{\"id\":\"63d30ea8-1e31-47d2-8f3a-6757f438ab8a\",\"name\":\"Execute Workflow Trigger\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"disabled\":true,\"position\":[-1080,200],\"parameters\":{},\"typeVersion\":1},{\"id\":\"10f40f60-c29f-47db-a4d1-3d0b8e8363d7\",\"name\":\"Check Max Retries1\",\"type\":\"n8n-nodes-base.if\",\"position\":[1680,740],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"51e191cb-af20-423b-9303-8523caa4ae0d\",\"operator\":{\"type\":\"number\",\"operation\":\"gt\"},\"leftValue\":\"={{ $('Exponential Backoff').item.json[\\\"retryCount\\\"] }}\",\"rightValue\":10}]}},\"typeVersion\":2.2},{\"id\":\"6665de66-8e00-4a45-b26a-93be044e9b8d\",\"name\":\"Stop and Error1\",\"type\":\"n8n-nodes-base.stopAndError\",\"position\":[1880,740],\"parameters\":{\"errorMessage\":\"Google Sheets API Limit has been triggered and the workflow has stopped\"},\"typeVersion\":1},{\"id\":\"f0b15937-3734-4cdf-9256-ae36e39a2046\",\"name\":\"GMaps API\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[80,680],\"parameters\":{\"url\":\"https://places.googleapis.com/v1/places:searchText\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendBody\":true,\"sendHeaders\":true,\"authentication\":\"predefinedCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"textQuery\",\"value\":\"={{ $('Subcategory').item.json.Subcategory }} {{ $json.zip }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"X-Goog-FieldMask\",\"value\":\"places.id,places.displayName,places.addressComponents,places.formattedAddress,places.primaryType,places.primaryTypeDisplayName,places.types,places.location,places.nationalPhoneNumber,places.rating,places.userRatingCount,places.websiteUri,places.editorialSummary,places.reviews,places.attributions,places.userRatingCount\"}]},\"nodeCredentialType\":\"googleOAuth2Api\"},\"credentials\":{\"googleOAuth2Api\":{\"id\":\"mfmC5Vkz0fz2YJ77\",\"name\":\"KBB Google OAuth\"}},\"typeVersion\":4.2},{\"id\":\"539bb125-173a-45b8-a6fc-0b755a013525\",\"name\":\"Update Status to Success\",\"type\":\"n8n-nodes-base.googleSheets\",\"onError\":\"continueErrorOutput\",\"position\":[1520,1160],\"parameters\":{\"columns\":{\"value\":{\"zip\":\"={{ $('Set Zip').first().json.zip }}\",\"status\":\"scraped\",\"subcat\":\"={{ $('Subcategory').first().json.Subcategory }}\"},\"schema\":[{\"id\":\"zip\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"zip\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"status\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"subcat\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"subcat\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"zip\"]},\"options\":{},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').first().json.sheet }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').first().json.gs_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"OnIKN60kSWkHVPHx\",\"name\":\"Google Sheets - KBB\"}},\"executeOnce\":true,\"typeVersion\":4.2,\"alwaysOutputData\":true},{\"id\":\"848b71e5-7ff5-4fb5-aad3-33b630ee42c8\",\"name\":\"Add rows in Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"onError\":\"continueErrorOutput\",\"position\":[1080,740],\"parameters\":{\"columns\":{\"value\":{\"type\":\"={{ $('Subcategory').item.json.Subcategory }}\",\"phone\":\"={{ $json.place.nationalPhoneNumber }}\",\"title\":\"={{ $json.place.displayName.text }}\",\"types\":\"={{ $json.place.types }}\",\"rating\":\"={{ $json.place.rating }}\",\"address\":\"={{ $json.place.formattedAddress }}\",\"reviews\":\"={{ $json.place.reviews }}\",\"website\":\"={{ $json.place.websiteUri }}\",\"place_id\":\"={{ $json.place.id }}\",\"gps_coordinates\":\"={\\\"latitude\\\":{{ $json.place.location.latitude }},\\\"longitude\\\":{{ $json.place.location.longitude }}}\"},\"schema\":[{\"id\":\"ACTION\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"ACTION\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"STATUS\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"STATUS\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"title\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"email\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"email\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"firstname\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"firstname\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"lastname\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"lastname\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"phone\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"phone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"clean url\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"clean url\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"website\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"website\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"WP API\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"WP API\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"WP\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"WP\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"facebook\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"facebook\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"instagram\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"instagram\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"youtube\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"youtube\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"tiktok\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"tiktok\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"twitter\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"twitter\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"linkedin\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"linkedin\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"pinterest\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"pinterest\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"reddit\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"reddit\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"rating\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"rating\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"reviews\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"reviews\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"type\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"type\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"address\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"address\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"place_id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"place_id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"position\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"position\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"data_id\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"data_id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"data_cid\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"data_cid\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"reviews_link\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"reviews_link\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"photos_link\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"photos_link\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"gps_coordinates\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"gps_coordinates\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"place_id_search\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"place_id_search\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"provider_id\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"provider_id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"types\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"types\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"open_state\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"open_state\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"hours\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"hours\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"operating_hours\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"operating_hours\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"description\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"description\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"service_options\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"service_options\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"order_online\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"order_online\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"thumbnail\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"thumbnail\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"editorial_reviews\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"editorial_reviews\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"unclaimed_listing\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"unclaimed_listing\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"reserve_a_table\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"reserve_a_table\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"user_review\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"user_review\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"amenities\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"amenities\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"book_online\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"book_online\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"place_id\"]},\"options\":{},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"=Results\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.gs_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"OnIKN60kSWkHVPHx\",\"name\":\"Google Sheets - KBB\"}},\"typeVersion\":4.2,\"alwaysOutputData\":true},{\"id\":\"4e1e9438-8091-4cf6-8a99-179960a35eae\",\"name\":\"Set Row Number\",\"type\":\"n8n-nodes-base.set\",\"position\":[80,80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"4c5ad6be-28aa-455f-8ee2-edce1ab1bdbb\",\"name\":\"row_number\",\"type\":\"number\",\"value\":\"={{ $json.row_number }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"a1939e46-7a56-4e41-9f12-86e784acd044\",\"name\":\"Set Zip\",\"type\":\"n8n-nodes-base.set\",\"position\":[-120,680],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7b1629c5-cbfe-4769-8286-66b46c51cd7e\",\"name\":\"zip\",\"type\":\"number\",\"value\":\"={{ $('Loop Zips').first().json.zip }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"062d2c9f-f957-43ee-9fc2-2a8600828b58\",\"name\":\"Set Place ID\",\"type\":\"n8n-nodes-base.set\",\"position\":[680,740],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"758ff896-7cd8-4f72-bfbb-e64583c5937c\",\"name\":\"places.id\",\"type\":\"string\",\"value\":\"={{ $json.place.id }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"0e3f4e19-0067-4233-afa8-1b9dd0a6bf30\",\"name\":\"Exponential Backoff\",\"type\":\"n8n-nodes-base.code\",\"position\":[1280,740],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"},\"typeVersion\":2},{\"id\":\"68e13297-e299-4218-a02e-354c4bdd61db\",\"name\":\"Remove Duplicates\",\"type\":\"n8n-nodes-base.removeDuplicates\",\"position\":[880,740],\"parameters\":{\"compare\":\"selectedFields\",\"options\":{},\"fieldsToCompare\":\"place.id,places.id\"},\"typeVersion\":1.1},{\"id\":\"ee71fd03-8e15-4c38-b10a-8ff5853da476\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1480,740],\"webhookId\":\"e0cf8da3-e4ab-490e-abcd-0c0c55b90846\",\"parameters\":{\"amount\":\"={{ $json[\\\"waitTime\\\"] }}\"},\"typeVersion\":1.1},{\"id\":\"761d8d0e-c185-41a5-9a75-53e51ab67add\",\"name\":\"Check Max Retries\",\"type\":\"n8n-nodes-base.if\",\"position\":[2120,1160],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"51e191cb-af20-423b-9303-8523caa4ae0d\",\"operator\":{\"type\":\"number\",\"operation\":\"gt\"},\"leftValue\":\"={{ $('Exponential Backoff1').item.json[\\\"retryCount\\\"] }}\",\"rightValue\":10}]}},\"typeVersion\":2.2},{\"id\":\"d8fa857a-e195-405c-ae15-44fecd3fea3e\",\"name\":\"Stop and Error\",\"type\":\"n8n-nodes-base.stopAndError\",\"position\":[2320,1160],\"parameters\":{\"errorMessage\":\"Google Sheets API Limit has been triggered and the workflow has stopped\"},\"typeVersion\":1},{\"id\":\"127dc44e-dd79-4735-b818-b95ec00184f2\",\"name\":\"Exponential Backoff1\",\"type\":\"n8n-nodes-base.code\",\"position\":[1720,1160],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"},\"typeVersion\":2},{\"id\":\"fb7e37c4-f0b3-4a19-a4cc-29fd0c158f9d\",\"name\":\"Wait1\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1920,1160],\"webhookId\":\"670750d4-0c4d-4fff-b139-1d60be1eac68\",\"parameters\":{\"amount\":\"={{ $json[\\\"waitTime\\\"] }}\"},\"typeVersion\":1.1},{\"id\":\"520c9d50-bf23-402f-abf2-cb107341da4d\",\"name\":\"Settings\",\"type\":\"n8n-nodes-base.set\",\"position\":[-800,360],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"fa469a25-eb00-4011-a626-87fae7fb8bbd\",\"name\":\"gs_url\",\"type\":\"string\",\"value\":\"https://docs.google.com/spreadsheets/d/11bzNIQDE4GB2NWkyGv2IfEsTggSIBCKe2z39Ecp2Z4g/edit?gid=853393043#gid=853393043\"},{\"id\":\"df0a7a51-0ec6-47d2-9f73-bc8268385305\",\"name\":\"catSheet\",\"type\":\"string\",\"value\":\"Google Maps Categories\"},{\"id\":\"a1ff9a58-9ae6-4000-9fcd-6c11de23bd48\",\"name\":\"sheet\",\"type\":\"string\",\"value\":\"AZ Zips\"}]}},\"typeVersion\":3.4},{\"id\":\"1e9c68db-5ccd-4db7-a469-47aabb38dca1\",\"name\":\"GS - Get Subcategory\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-220,340],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.catSheet }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.gs_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"OnIKN60kSWkHVPHx\",\"name\":\"Google Sheets - KBB\"}},\"executeOnce\":true,\"typeVersion\":4.2},{\"id\":\"e822be8c-ac7e-472e-a6e6-8835a1001323\",\"name\":\"Subcategory\",\"type\":\"n8n-nodes-base.set\",\"position\":[180,340],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"d3470f6f-c66e-4223-bbf5-81e45201d45d\",\"name\":\"Subcategory\",\"type\":\"string\",\"value\":\"={{ $json.Subcategory }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"003af494-cb09-441b-87c7-43d7d98682e6\",\"name\":\"GS - Get Zip Codes\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-520,80],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheet }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.gs_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"OnIKN60kSWkHVPHx\",\"name\":\"Google Sheets - KBB\"}},\"executeOnce\":true,\"typeVersion\":4.2},{\"id\":\"cccc740e-55e5-4a64-b7f1-b1ca3fbb236e\",\"name\":\"Place Array\",\"type\":\"n8n-nodes-base.code\",\"position\":[480,740],\"parameters\":{\"jsCode\":\"// Get the places array from the input data\\nconst places = items[0]?.json?.body?.places || [];\\n\\n// Create an output array to hold each place as a separate item\\nlet output = [];\\n\\nif (places.length > 0) {\\n  for (let i = 0; i < places.length; i++) {\\n    // For each place, push a new item into the output array\\n    output.push({\\n      json: {\\n        place: places[i], // The individual place object\\n        otherData: items[0].json.otherData || null  // Include other data or default to null\\n      }\\n    });\\n  }\\n} else {\\n  // Log an error or handle the case where places array is empty or undefined\\n  console.log('Places array is empty or undefined.');\\n}\\n\\n// Return the output array, so each place becomes its own item\\nreturn output;\\n\"},\"typeVersion\":2},{\"id\":\"4cd6a14a-084f-4389-90c5-f4d5921fc80d\",\"name\":\"Loop Zips\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-420,280],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"33bbb601-86ad-40b2-94fc-ccb7753d690e\",\"name\":\"Loop Subcats\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-320,620],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"fc1f56d7-ac1c-4447-a897-5b48ab4be430\",\"name\":\"GS - Get Status\",\"type\":\"n8n-nodes-base.googleSheets\",\"onError\":\"continueErrorOutput\",\"position\":[1280,960],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').first().json.sheet }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').first().json.gs_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"OnIKN60kSWkHVPHx\",\"name\":\"Google Sheets - KBB\"}},\"executeOnce\":true,\"typeVersion\":4.2},{\"id\":\"04e698d9-2455-4884-8f95-e2a9dbc16d57\",\"name\":\"Check Max Retries2\",\"type\":\"n8n-nodes-base.if\",\"position\":[1880,960],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"51e191cb-af20-423b-9303-8523caa4ae0d\",\"operator\":{\"type\":\"number\",\"operation\":\"gt\"},\"leftValue\":\"={{ $('Exponential Backoff2').item.json[\\\"retryCount\\\"] }}\",\"rightValue\":10}]}},\"typeVersion\":2.2},{\"id\":\"be784eb9-1d18-4ddc-a91a-1a78355eabed\",\"name\":\"Stop and Error2\",\"type\":\"n8n-nodes-base.stopAndError\",\"position\":[2080,960],\"parameters\":{\"errorMessage\":\"Google Sheets API Limit has been triggered and the workflow has stopped\"},\"typeVersion\":1},{\"id\":\"3226891f-2e03-442e-9be3-7bc41d067d23\",\"name\":\"Exponential Backoff2\",\"type\":\"n8n-nodes-base.code\",\"position\":[1480,960],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"},\"typeVersion\":2},{\"id\":\"04435aaa-0ba7-45f9-80a7-248fbd47ff0e\",\"name\":\"Wait2\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1680,960],\"webhookId\":\"d9b32a26-861f-46d5-a8d7-0ede2ea37fe6\",\"parameters\":{\"amount\":\"={{ $json[\\\"waitTime\\\"] }}\"},\"typeVersion\":1.1},{\"id\":\"4c246eb7-5ec2-4c89-b0c0-c851cb318c34\",\"name\":\"Limit\",\"type\":\"n8n-nodes-base.limit\",\"position\":[500,80],\"parameters\":{\"maxItems\":3},\"typeVersion\":1},{\"id\":\"b141c344-c011-41b2-b87d-b5a067e37c0f\",\"name\":\"Sticky Note20\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1420,0],\"parameters\":{\"color\":6,\"width\":250,\"height\":1390,\"content\":\"# AlexK1919 \\n![Alex Kim](https://media.licdn.com/dms/image/v2/D5603AQFOYMkqCPl6Sw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1718309808352?e=1736985600&v=beta&t=pQKm7lQfUU1ytuC2Gq1PRxNY-XmROFWbo-BjzUPxWOs)\\n\\n#### I’m Alex Kim, an AI-Native Workflow Automation Architect Building Solutions to Optimize your Personal and Professional Life.\\n\\n\\n### About Me\\nhttps://beacons.ai/alexk1919\\n\\n\\n### Products Used \\n[Google Maps API via Google Cloud Account](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/?utm_source=n8n_app&utm_medium=credential_settings&utm_campaign=create_new_credentials_modal)\\n\"},\"typeVersion\":1},{\"id\":\"3fd43827-bc14-4337-89d3-2e48fc010e9f\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-860,0],\"parameters\":{\"color\":3,\"width\":247,\"height\":1391,\"content\":\"# Settings\"},\"typeVersion\":1},{\"id\":\"c4ddef39-75e4-4a04-808c-2057ed59eddf\",\"name\":\"Sticky Note15\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-860,80],\"parameters\":{\"color\":7,\"width\":219,\"height\":220,\"content\":\"In the Google Sheets document, set the subcategories you'd like to search for\\n\\nSet the URL of your Google Sheets document\\n\\nSet the Zip Code sheet name\"},\"typeVersion\":1},{\"id\":\"b02c6a3a-3939-469a-bb50-0417cf2bc3c5\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1140,0],\"parameters\":{\"color\":7,\"width\":247,\"height\":1391,\"content\":\"# Triggers\"},\"typeVersion\":1},{\"id\":\"0aeeaed1-e0dd-4837-ba69-31e0205ea824\",\"name\":\"Zips\",\"type\":\"n8n-nodes-base.set\",\"position\":[-320,80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3d16d922-0ed3-4a0f-9707-43797438970d\",\"name\":\"zip\",\"type\":\"number\",\"value\":\"={{ $json.zip }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"e186129c-202b-409a-8028-e7434ab70093\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-580,520],\"parameters\":{\"color\":5,\"width\":3060,\"height\":880,\"content\":\"# Google Maps API\"},\"typeVersion\":1},{\"id\":\"6e142b17-55e7-4a2f-ae2a-829edd330aad\",\"name\":\"Filter Zips\",\"type\":\"n8n-nodes-base.filter\",\"position\":[-120,80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9f5a5e37-faae-45db-8a22-ad7d5786ecfe\",\"operator\":{\"type\":\"string\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.status }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"077dc67e-eab4-413a-8f17-a17b298bf3f4\",\"name\":\"Filter Subcategories\",\"type\":\"n8n-nodes-base.filter\",\"position\":[-20,340],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"b64333b6-67ce-47c4-a2cc-07303278d178\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.STATUS }}\",\"rightValue\":\"Ignore\"}]}},\"typeVersion\":2.2},{\"id\":\"2d5f5e14-4958-4b60-9ae3-b66a7ad095e9\",\"name\":\"If Empty\",\"type\":\"n8n-nodes-base.if\",\"position\":[280,680],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"7424452f-e208-4e7e-8144-d0c6278bc0f0\",\"operator\":{\"type\":\"object\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.body }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"594eee9f-35d2-4b7f-8926-47010891298b\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[300,80],\"parameters\":{\"include\":\"allOtherFields\",\"options\":{},\"fieldToSplitOut\":\"row_number\"},\"typeVersion\":1},{\"id\":\"2402643d-605e-40d8-b4ed-1678a144960b\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-580,0],\"parameters\":{\"color\":4,\"width\":3060,\"height\":500,\"content\":\"# Data Prep\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"5b91dfd7-b915-46b5-a195-c6cfa0d90dc6\",\"connections\":{\"Wait\":{\"main\":[[{\"node\":\"Check Max Retries1\",\"type\":\"main\",\"index\":0}]]},\"Zips\":{\"main\":[[{\"node\":\"Filter Zips\",\"type\":\"main\",\"index\":0}]]},\"Limit\":{\"main\":[[{\"node\":\"Loop Zips\",\"type\":\"main\",\"index\":0}]]},\"Wait1\":{\"main\":[[{\"node\":\"Check Max Retries\",\"type\":\"main\",\"index\":0}]]},\"Wait2\":{\"main\":[[{\"node\":\"Check Max Retries2\",\"type\":\"main\",\"index\":0}]]},\"Set Zip\":{\"main\":[[{\"node\":\"GMaps API\",\"type\":\"main\",\"index\":0}]]},\"If Empty\":{\"main\":[[{\"node\":\"Loop Subcats\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Place Array\",\"type\":\"main\",\"index\":0}]]},\"Settings\":{\"main\":[[{\"node\":\"GS - Get Zip Codes\",\"type\":\"main\",\"index\":0}]]},\"GMaps API\":{\"main\":[[{\"node\":\"If Empty\",\"type\":\"main\",\"index\":0}]]},\"Loop Zips\":{\"main\":[[],[{\"node\":\"GS - Get Subcategory\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Limit\",\"type\":\"main\",\"index\":0}]]},\"Filter Zips\":{\"main\":[[{\"node\":\"Set Row Number\",\"type\":\"main\",\"index\":0}]]},\"Place Array\":{\"main\":[[{\"node\":\"Set Place ID\",\"type\":\"main\",\"index\":0}]]},\"Subcategory\":{\"main\":[[{\"node\":\"Loop Subcats\",\"type\":\"main\",\"index\":0}]]},\"Loop Subcats\":{\"main\":[[{\"node\":\"Loop Zips\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Set Zip\",\"type\":\"main\",\"index\":0}]]},\"Set Place ID\":{\"main\":[[{\"node\":\"Remove Duplicates\",\"type\":\"main\",\"index\":0}]]},\"Set Row Number\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"GS - Get Status\":{\"main\":[[{\"node\":\"Update Status to Success\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Exponential Backoff2\",\"type\":\"main\",\"index\":0}]]},\"Check Max Retries\":{\"main\":[[{\"node\":\"Stop and Error\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Update Status to Success\",\"type\":\"main\",\"index\":0}]]},\"Remove Duplicates\":{\"main\":[[{\"node\":\"Add rows in Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Check Max Retries1\":{\"main\":[[{\"node\":\"Stop and Error1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Add rows in Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Check Max Retries2\":{\"main\":[[{\"node\":\"Stop and Error2\",\"type\":\"main\",\"index\":0}]]},\"GS - Get Zip Codes\":{\"main\":[[{\"node\":\"Zips\",\"type\":\"main\",\"index\":0}]]},\"Exponential Backoff\":{\"main\":[[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"Exponential Backoff1\":{\"main\":[[{\"node\":\"Wait1\",\"type\":\"main\",\"index\":0}]]},\"Exponential Backoff2\":{\"main\":[[{\"node\":\"Wait2\",\"type\":\"main\",\"index\":0}]]},\"Filter Subcategories\":{\"main\":[[{\"node\":\"Subcategory\",\"type\":\"main\",\"index\":0}]]},\"GS - Get Subcategory\":{\"main\":[[{\"node\":\"Filter Subcategories\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow Trigger\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]},\"Run workflow every hours\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]},\"Update Status to Success\":{\"main\":[[{\"node\":\"Loop Subcats\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Exponential Backoff1\",\"type\":\"main\",\"index\":0}]]},\"Add rows in Google Sheets\":{\"main\":[[{\"node\":\"GS - Get Status\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Exponential Backoff\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow leverages **n8n** to perform automated Google Maps API queries and manage data efficiently in Google Sheets. It's designed to extract specific location data based on a given list of ZIP codes and categories.\n\n* * *\n\n## Features\n\n  * Queries the Google Maps API for location data using predefined ZIP codes and subcategories.\n  * Filters, de-duplicates, and organizes data into structured rows in Google Sheets.\n  * Implements **exponential backoff retries** to handle API rate limits.\n  * Logs and updates statuses directly in Google Sheets for easy tracking.\n\n\n\n* * *\n\n## Prerequisites\n\n  1. **Google OAuth Credentials** : A configured Google Cloud project for Google Maps API and Sheets API access.\n  2. **Google Sheets** : A sheet with ZIP codes and categories defined (e.g., \"AZ Zips\").\n  3. **n8n Setup** : A running instance of n8n with credentials configured for Google OAuth.\n\n\n\n* * *\n\n## Setup Instructions\n\n### 1\\. Prepare Google Sheets\n\n  * Add the ZIP codes to the \"AZ Zips\" sheet.\n  * Define subcategories in another sheet (e.g., \"Google Maps Categories\").\n  * Provide the sheet's URL in the `Settings` node of the workflow.\n\n\n\n### 2\\. Configure API Access\n\n  * Set up Google OAuth credentials for Maps and Sheets APIs in n8n.\n  * Ensure your API key has access to the `places.searchText` endpoint.\n\n\n\n### 3\\. Workflow Customization\n\n  * Modify `textQuery` parameters in the **GMaps API** node to match your query needs.\n  * Adjust trigger intervals as required (e.g., manual or scheduled execution).\n\n\n\n### 4\\. Run the Workflow\n\n  * Execute the workflow manually or schedule periodic runs to keep your data updated.\n\n\n\n* * *\n\n## Notes\n\n  * This workflow includes robust error handling to retry failed API calls with exponential backoff.\n  * All data is organized and logged directly in Google Sheets for easy reference and updates.\n\n\n\nFor more information or issues, feel free to reach out!\n",
  "crawled_at": "2025-05-26T00:27:41.566581",
  "readme_zh": "该工作流利用**n8n**实现自动化Google Maps API查询，并高效管理Google Sheets数据。其核心功能是根据给定的邮编列表和分类提取特定位置信息。\n\n* * *\n\n## 功能亮点\n\n  * 通过预设邮编和子分类查询Google Maps API获取位置数据\n  * 对数据进行去重筛选，并结构化存入Google Sheets\n  * 采用**指数退避重试机制**应对API速率限制\n  * 直接在Google Sheets中记录状态日志，便于追踪进度",
  "title_zh": "利用谷歌地图生成潜在客户",
  "publish_date_zh": "最后更新于5个月前",
  "workflow_json_zh": "{\n  \"id\": \"cQAILffOajE9n2cf\",\n  \"meta\": {\n    \"instanceId\": \"a14364f050ddf078652622522c15b502c09f9ef0c34946b703b7489667faedef\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Generate Leads with Google Maps - AlexK1919\",\n  \"tags\": [\n    {\n      \"id\": \"yS42KACueZegnCTR\",\n      \"name\": \"AlexK1919\",\n      \"createdAt\": \"2024-06-04T02:58:48.480Z\",\n      \"updatedAt\": \"2024-06-04T02:58:48.480Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"edc9d8f5-e1f4-48e2-b7f7-36e53674d5b3\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1080,\n        540\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b761e882-298f-454e-8c21-f77b336ce54e\",\n      \"name\": \"Run workflow every hours\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        -1080,\n        360\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"minutes\",\n              \"minutesInterval\": 15\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"63d30ea8-1e31-47d2-8f3a-6757f438ab8a\",\n      \"name\": \"Execute Workflow Trigger\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        -1080,\n        200\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"10f40f60-c29f-47db-a4d1-3d0b8e8363d7\",\n      \"name\": \"Check Max Retries1\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1680,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"51e191cb-af20-423b-9303-8523caa4ae0d\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              },\n              \"leftValue\": \"={{ $('Exponential Backoff').item.json[\\\"retryCount\\\"] }}\",\n              \"rightValue\": 10\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"6665de66-8e00-4a45-b26a-93be044e9b8d\",\n      \"name\": \"Stop and Error1\",\n      \"type\": \"n8n-nodes-base.stopAndError\",\n      \"position\": [\n        1880,\n        740\n      ],\n      \"parameters\": {\n        \"errorMessage\": \"Google Sheets API Limit has been triggered and the workflow has stopped\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f0b15937-3734-4cdf-9256-ae36e39a2046\",\n      \"name\": \"GMaps API\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        80,\n        680\n      ],\n      \"parameters\": {\n        \"url\": \"https://places.googleapis.com/v1/places:searchText\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"textQuery\",\n              \"value\": \"={{ $('Subcategory').item.json.Subcategory }} {{ $json.zip }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Goog-FieldMask\",\n              \"value\": \"places.id,places.displayName,places.addressComponents,places.formattedAddress,places.primaryType,places.primaryTypeDisplayName,places.types,places.location,places.nationalPhoneNumber,places.rating,places.userRatingCount,places.websiteUri,places.editorialSummary,places.reviews,places.attributions,places.userRatingCount\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"googleOAuth2Api\"\n      },\n      \"credentials\": {\n        \"googleOAuth2Api\": {\n          \"id\": \"mfmC5Vkz0fz2YJ77\",\n          \"name\": \"KBB Google OAuth\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"539bb125-173a-45b8-a6fc-0b755a013525\",\n      \"name\": \"Update Status to Success\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1520,\n        1160\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"zip\": \"={{ $('Set Zip').first().json.zip }}\",\n            \"status\": \"scraped\",\n            \"subcat\": \"={{ $('Subcategory').first().json.Subcategory }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"zip\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"zip\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"subcat\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"subcat\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"zip\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').first().json.sheet }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').first().json.gs_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OnIKN60kSWkHVPHx\",\n          \"name\": \"Google Sheets - KBB\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"848b71e5-7ff5-4fb5-aad3-33b630ee42c8\",\n      \"name\": \"Add rows in Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1080,\n        740\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"type\": \"={{ $('Subcategory').item.json.Subcategory }}\",\n            \"phone\": \"={{ $json.place.nationalPhoneNumber }}\",\n            \"title\": \"={{ $json.place.displayName.text }}\",\n            \"types\": \"={{ $json.place.types }}\",\n            \"rating\": \"={{ $json.place.rating }}\",\n            \"address\": \"={{ $json.place.formattedAddress }}\",\n            \"reviews\": \"={{ $json.place.reviews }}\",\n            \"website\": \"={{ $json.place.websiteUri }}\",\n            \"place_id\": \"={{ $json.place.id }}\",\n            \"gps_coordinates\": \"={\\\"latitude\\\":{{ $json.place.location.latitude }},\\\"longitude\\\":{{ $json.place.location.longitude }}}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"ACTION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"ACTION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"STATUS\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"STATUS\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"firstname\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"firstname\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"lastname\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"lastname\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"phone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"phone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"clean url\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"clean url\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"website\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"website\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"WP API\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"WP API\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"WP\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"WP\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"facebook\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"facebook\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"instagram\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"instagram\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"youtube\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"youtube\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"tiktok\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"tiktok\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"twitter\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"twitter\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"linkedin\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"linkedin\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"pinterest\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"pinterest\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reddit\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reddit\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"rating\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"rating\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reviews\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reviews\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"type\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"type\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"address\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"address\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"place_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"place_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"position\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"position\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"data_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data_cid\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"data_cid\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reviews_link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reviews_link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"photos_link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"photos_link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"gps_coordinates\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"gps_coordinates\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"place_id_search\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"place_id_search\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"provider_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"provider_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"types\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"types\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"open_state\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"open_state\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"hours\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"hours\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"operating_hours\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"operating_hours\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"description\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"description\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"service_options\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"service_options\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"order_online\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"order_online\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"thumbnail\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"thumbnail\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"editorial_reviews\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"editorial_reviews\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"unclaimed_listing\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"unclaimed_listing\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reserve_a_table\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reserve_a_table\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"user_review\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"user_review\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"amenities\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"amenities\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"book_online\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"book_online\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"place_id\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"=Results\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.gs_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OnIKN60kSWkHVPHx\",\n          \"name\": \"Google Sheets - KBB\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"4e1e9438-8091-4cf6-8a99-179960a35eae\",\n      \"name\": \"Set Row Number\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        80,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4c5ad6be-28aa-455f-8ee2-edce1ab1bdbb\",\n              \"name\": \"row_number\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.row_number }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a1939e46-7a56-4e41-9f12-86e784acd044\",\n      \"name\": \"Set Zip\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -120,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7b1629c5-cbfe-4769-8286-66b46c51cd7e\",\n              \"name\": \"zip\",\n              \"type\": \"number\",\n              \"value\": \"={{ $('Loop Zips').first().json.zip }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"062d2c9f-f957-43ee-9fc2-2a8600828b58\",\n      \"name\": \"Set Place ID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        680,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"758ff896-7cd8-4f72-bfbb-e64583c5937c\",\n              \"name\": \"places.id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.place.id }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0e3f4e19-0067-4233-afa8-1b9dd0a6bf30\",\n      \"name\": \"Exponential Backoff\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1280,\n        740\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"68e13297-e299-4218-a02e-354c4bdd61db\",\n      \"name\": \"Remove Duplicates\",\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"position\": [\n        880,\n        740\n      ],\n      \"parameters\": {\n        \"compare\": \"selectedFields\",\n        \"options\": {},\n        \"fieldsToCompare\": \"place.id,places.id\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"ee71fd03-8e15-4c38-b10a-8ff5853da476\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1480,\n        740\n      ],\n      \"webhookId\": \"e0cf8da3-e4ab-490e-abcd-0c0c55b90846\",\n      \"parameters\": {\n        \"amount\": \"={{ $json[\\\"waitTime\\\"] }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"761d8d0e-c185-41a5-9a75-53e51ab67add\",\n      \"name\": \"Check Max Retries\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2120,\n        1160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"51e191cb-af20-423b-9303-8523caa4ae0d\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              },\n              \"leftValue\": \"={{ $('Exponential Backoff1').item.json[\\\"retryCount\\\"] }}\",\n              \"rightValue\": 10\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"d8fa857a-e195-405c-ae15-44fecd3fea3e\",\n      \"name\": \"Stop and Error\",\n      \"type\": \"n8n-nodes-base.stopAndError\",\n      \"position\": [\n        2320,\n        1160\n      ],\n      \"parameters\": {\n        \"errorMessage\": \"Google Sheets API Limit has been triggered and the workflow has stopped\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"127dc44e-dd79-4735-b818-b95ec00184f2\",\n      \"name\": \"Exponential Backoff1\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1720,\n        1160\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fb7e37c4-f0b3-4a19-a4cc-29fd0c158f9d\",\n      \"name\": \"Wait1\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1920,\n        1160\n      ],\n      \"webhookId\": \"670750d4-0c4d-4fff-b139-1d60be1eac68\",\n      \"parameters\": {\n        \"amount\": \"={{ $json[\\\"waitTime\\\"] }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"520c9d50-bf23-402f-abf2-cb107341da4d\",\n      \"name\": \"Settings\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -800,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"fa469a25-eb00-4011-a626-87fae7fb8bbd\",\n              \"name\": \"gs_url\",\n              \"type\": \"string\",\n              \"value\": \"https://docs.google.com/spreadsheets/d/11bzNIQDE4GB2NWkyGv2IfEsTggSIBCKe2z39Ecp2Z4g/edit?gid=853393043#gid=853393043\"\n            },\n            {\n              \"id\": \"df0a7a51-0ec6-47d2-9f73-bc8268385305\",\n              \"name\": \"catSheet\",\n              \"type\": \"string\",\n              \"value\": \"Google Maps Categories\"\n            },\n            {\n              \"id\": \"a1ff9a58-9ae6-4000-9fcd-6c11de23bd48\",\n              \"name\": \"sheet\",\n              \"type\": \"string\",\n              \"value\": \"AZ Zips\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"1e9c68db-5ccd-4db7-a469-47aabb38dca1\",\n      \"name\": \"GS - Get Subcategory\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -220,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.catSheet }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.gs_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OnIKN60kSWkHVPHx\",\n          \"name\": \"Google Sheets - KBB\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e822be8c-ac7e-472e-a6e6-8835a1001323\",\n      \"name\": \"Subcategory\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        180,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"d3470f6f-c66e-4223-bbf5-81e45201d45d\",\n              \"name\": \"Subcategory\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.Subcategory }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"003af494-cb09-441b-87c7-43d7d98682e6\",\n      \"name\": \"GS - Get Zip Codes\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -520,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheet }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.gs_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OnIKN60kSWkHVPHx\",\n          \"name\": \"Google Sheets - KBB\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"cccc740e-55e5-4a64-b7f1-b1ca3fbb236e\",\n      \"name\": \"Place Array\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        480,\n        740\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Get the places array from the input data\\nconst places = items[0]?.json?.body?.places || [];\\n\\n// Create an output array to hold each place as a separate item\\nlet output = [];\\n\\nif (places.length > 0) {\\n  for (let i = 0; i < places.length; i++) {\\n    // For each place, push a new item into the output array\\n    output.push({\\n      json: {\\n        place: places[i], // The individual place object\\n        otherData: items[0].json.otherData || null  // Include other data or default to null\\n      }\\n    });\\n  }\\n} else {\\n  // Log an error or handle the case where places array is empty or undefined\\n  console.log('Places array is empty or undefined.');\\n}\\n\\n// Return the output array, so each place becomes its own item\\nreturn output;\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4cd6a14a-084f-4389-90c5-f4d5921fc80d\",\n      \"name\": \"Loop Zips\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -420,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"33bbb601-86ad-40b2-94fc-ccb7753d690e\",\n      \"name\": \"Loop Subcats\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -320,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"fc1f56d7-ac1c-4447-a897-5b48ab4be430\",\n      \"name\": \"GS - Get Status\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1280,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').first().json.sheet }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').first().json.gs_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OnIKN60kSWkHVPHx\",\n          \"name\": \"Google Sheets - KBB\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"04e698d9-2455-4884-8f95-e2a9dbc16d57\",\n      \"name\": \"Check Max Retries2\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1880,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"51e191cb-af20-423b-9303-8523caa4ae0d\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              },\n              \"leftValue\": \"={{ $('Exponential Backoff2').item.json[\\\"retryCount\\\"] }}\",\n              \"rightValue\": 10\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"be784eb9-1d18-4ddc-a91a-1a78355eabed\",\n      \"name\": \"Stop and Error2\",\n      \"type\": \"n8n-nodes-base.stopAndError\",\n      \"position\": [\n        2080,\n        960\n      ],\n      \"parameters\": {\n        \"errorMessage\": \"Google Sheets API Limit has been triggered and the workflow has stopped\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3226891f-2e03-442e-9be3-7bc41d067d23\",\n      \"name\": \"Exponential Backoff2\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1480,\n        960\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"// Define the retry count (coming from a previous node or set manually)\\nconst retryCount = $json[\\\"retryCount\\\"] || 0;  // If not present, default to 0\\nconst maxRetries = 5;  // Define the maximum number of retries\\nconst initialDelay = 1;  // Initial delay in seconds (1 second)\\n\\n// If the retry count is less than the max retries, calculate the delay\\nif (retryCount < maxRetries) {\\n    const currentDelayInSeconds = initialDelay * Math.pow(2, retryCount);  // Exponential backoff delay in seconds\\n    \\n    // Log the delay time for debugging\\n    console.log(`Waiting for ${currentDelayInSeconds} seconds before retry...`);\\n    \\n    return {\\n        json: {\\n            retryCount: retryCount + 1,  // Increment retry count\\n            waitTimeInSeconds: currentDelayInSeconds, // Pass the delay time in seconds\\n            status: 'retrying',\\n        }\\n    };\\n} else {\\n    // If max retries are exceeded, return a failure response\\n    return {\\n        json: {\\n            error: 'Max retries exceeded',\\n            retryCount: retryCount,\\n            status: 'failed'\\n        }\\n    };\\n}\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"04435aaa-0ba7-45f9-80a7-248fbd47ff0e\",\n      \"name\": \"Wait2\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1680,\n        960\n      ],\n      \"webhookId\": \"d9b32a26-861f-46d5-a8d7-0ede2ea37fe6\",\n      \"parameters\": {\n        \"amount\": \"={{ $json[\\\"waitTime\\\"] }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"4c246eb7-5ec2-4c89-b0c0-c851cb318c34\",\n      \"name\": \"Limit\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        500,\n        80\n      ],\n      \"parameters\": {\n        \"maxItems\": 3\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b141c344-c011-41b2-b87d-b5a067e37c0f\",\n      \"name\": \"Sticky Note20\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1420,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 250,\n        \"height\": 1390,\n        \"content\": \"# AlexK1919 \\n![Alex Kim](https://media.licdn.com/dms/image/v2/D5603AQFOYMkqCPl6Sw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1718309808352?e=1736985600&v=beta&t=pQKm7lQfUU1ytuC2Gq1PRxNY-XmROFWbo-BjzUPxWOs)\\n\\n#### 我是Alex Kim，一位AI原生工作流自动化架构师，致力于构建优化您个人与职业生活的解决方案。\\n\\n\\n### 关于我\\nhttps://beacons.ai/alexk1919\\n\\n\\n### 使用产品 \\n[通过Google云账户使用Google Maps API](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/?utm_source=n8n_app&utm_medium=credential_settings&utm_campaign=create_new_credentials_modal)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3fd43827-bc14-4337-89d3-2e48fc010e9f\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -860,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 247,\n        \"height\": 1391,\n        \"content\": \"# 设置\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c4ddef39-75e4-4a04-808c-2057ed59eddf\",\n      \"name\": \"Sticky Note15\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -860,\n        80\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 219,\n        \"height\": 220,\n        \"content\": \"在Google Sheets文档中，设置您想要搜索的子类别\\n\\n设置您的Google Sheets文档的URL\\n\\n设置邮政编码工作表名称\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b02c6a3a-3939-469a-bb50-0417cf2bc3c5\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1140,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 247,\n        \"height\": 1391,\n        \"content\": \"# 触发器\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0aeeaed1-e0dd-4837-ba69-31e0205ea824\",\n      \"name\": \"Zips\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -320,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"3d16d922-0ed3-4a0f-9707-43797438970d\",\n              \"name\": \"zip\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.zip }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e186129c-202b-409a-8028-e7434ab70093\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -580,\n        520\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 3060,\n        \"height\": 880,\n        \"content\": \"# 谷歌地图API\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e142b17-55e7-4a2f-ae2a-829edd330aad\",\n      \"name\": \"Filter Zips\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        -120,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9f5a5e37-faae-45db-8a22-ad7d5786ecfe\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.status }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"077dc67e-eab4-413a-8f17-a17b298bf3f4\",\n      \"name\": \"Filter Subcategories\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        -20,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"b64333b6-67ce-47c4-a2cc-07303278d178\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $json.STATUS }}\",\n              \"rightValue\": \"Ignore\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"2d5f5e14-4958-4b60-9ae3-b66a7ad095e9\",\n      \"name\": \"If Empty\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        280,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"7424452f-e208-4e7e-8144-d0c6278bc0f0\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.body }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"594eee9f-35d2-4b7f-8926-47010891298b\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        300,\n        80\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"row_number\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2402643d-605e-40d8-b4ed-1678a144960b\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -580,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 3060,\n        \"height\": 500,\n        \"content\": \"# 数据准备\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"5b91dfd7-b915-46b5-a195-c6cfa0d90dc6\",\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Max Retries1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Zips\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Zips\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Zips\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Max Retries\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Max Retries2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Zip\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GMaps API\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If Empty\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Subcats\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Place Array\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GS - Get Zip Codes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GMaps API\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If Empty\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Zips\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"GS - Get Subcategory\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Zips\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Row Number\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Place Array\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Place ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Subcategory\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Subcats\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Subcats\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Zips\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Set Zip\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Place ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Duplicates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Row Number\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GS - Get Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Status to Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Exponential Backoff2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Max Retries\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Stop and Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update Status to Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Duplicates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add rows in Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Max Retries1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Stop and Error1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add rows in Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Max Retries2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Stop and Error2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GS - Get Zip Codes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Zips\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Exponential Backoff\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Exponential Backoff1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Exponential Backoff2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Subcategories\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Subcategory\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GS - Get Subcategory\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Subcategories\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Run workflow every hours\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Status to Success\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Subcats\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Exponential Backoff1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add rows in Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GS - Get Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Exponential Backoff\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}