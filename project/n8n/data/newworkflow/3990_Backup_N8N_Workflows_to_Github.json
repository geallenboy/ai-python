{
  "url": "https://n8n.io/workflows/3990-backup-n8n-workflows-to-github/",
  "title": "Backup N8N Workflows to Github",
  "author": "Dat Proto",
  "publish_date": "Last update 5 days ago",
  "publish_date_absolute": "2025-05-21",
  "categories": [],
  "workflow_json": "{\"meta\":{\"instanceId\":\"7a94cd64cdcb53cb721e010cea9e90907c1dc5fd6766b2d732b573c42bb273f8\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"696255b0-7786-410c-927f-ffb4fa7784b9\",\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[400,-400],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5ffbd7ff-596c-4d69-a327-95ab9e31c144\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,140],\"parameters\":{\"color\":6,\"width\":2111,\"height\":752,\"content\":\"## Subworkflow\"},\"typeVersion\":1},{\"id\":\"d552bfbd-24cc-43ab-b008-ba837525e234\",\"name\":\"Execute Workflow Trigger\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[180,540],\"parameters\":{},\"typeVersion\":1},{\"id\":\"4cf656ea-b62c-4c9a-9a2c-f3cd4736af6f\",\"name\":\"n8n\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[800,-300],\"parameters\":{\"filters\":{},\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"n99peePbw8bFtE9X\",\"name\":\"N8N Key (Github Backup)\"}},\"typeVersion\":1},{\"id\":\"bc776b1e-de7a-4c5c-ab3e-fc6ede7f6d93\",\"name\":\"Return\",\"type\":\"n8n-nodes-base.set\",\"position\":[2140,340],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"8d513345-6484-431f-afb7-7cf045c90f4f\",\"name\":\"Done\",\"type\":\"boolean\",\"value\":true}]}},\"typeVersion\":3.3},{\"id\":\"cc1748c6-972e-4909-a0d9-2aada40e49b6\",\"name\":\"If file too large\",\"type\":\"n8n-nodes-base.if\",\"position\":[820,260],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":1,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"45ce825e-9fa6-430c-8931-9aaf22c42585\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.content }}\",\"rightValue\":\"\"},{\"id\":\"3ce332ca-3827-4c2d-becd-837da737d285\",\"operator\":{\"type\":\"string\",\"operation\":\"notExists\",\"singleValue\":true},\"leftValue\":\"={{ $json.error }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"68c529b3-8530-42c9-8efa-7c35ea6c24f0\",\"name\":\"Merge Items\",\"type\":\"n8n-nodes-base.merge\",\"position\":[820,520],\"parameters\":{},\"typeVersion\":2},{\"id\":\"627cc21c-1f7f-4266-a558-357289bb2746\",\"name\":\"Same file - Do nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1680,340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"6e77f25e-b58c-4e23-a5c7-1951c36e59b6\",\"name\":\"File is different\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1680,500],\"parameters\":{},\"typeVersion\":1},{\"id\":\"37d72317-7140-45eb-ac62-e88ec7b9fc97\",\"name\":\"File is new\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1680,700],\"parameters\":{},\"typeVersion\":1},{\"id\":\"770c9612-e6fb-4d6c-9a89-459e7d5acc31\",\"name\":\"Create new file\",\"type\":\"n8n-nodes-base.github\",\"position\":[1900,700],\"webhookId\":\"fc6b1cf0-6440-4fb0-94bf-fadabb6ea1fd\",\"parameters\":{\"owner\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').first().json.repo_owner }}\"},\"filePath\":\"={{ $('Create sub path').item.json.subPath }}/{{ $('Execute Workflow Trigger').first().json.id }}.json\",\"resource\":\"file\",\"repository\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').first().json.repo_name }}\"},\"fileContent\":\"={{ JSON.stringify($('Config').first().json.data) }}\",\"commitMessage\":\"={{$('Execute Workflow Trigger').first().json.name}} ({{$json.githubStatus}})\"},\"credentials\":{\"githubApi\":{\"id\":\"nEsQmNXwV6LPvaNE\",\"name\":\"GitHub account\"}},\"typeVersion\":1},{\"id\":\"121272d6-0535-494e-b14a-3cc00f87cb8d\",\"name\":\"Edit existing file\",\"type\":\"n8n-nodes-base.github\",\"position\":[1900,500],\"webhookId\":\"81fc5f33-06e3-4368-ba2e-0ef46dd8b021\",\"parameters\":{\"owner\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').first().json.repo_owner }}\"},\"filePath\":\"={{ $('Create sub path').item.json.subPath }}/{{ $('Execute Workflow Trigger').first().json.id }}.json\",\"resource\":\"file\",\"operation\":\"edit\",\"repository\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').first().json.repo_name }}\"},\"fileContent\":\"={{ JSON.stringify($('Config').first().json.data) }}\",\"commitMessage\":\"={{$('Execute Workflow Trigger').first().json.name}} ({{ $json.githubStatus }})\"},\"credentials\":{\"githubApi\":{\"id\":\"nEsQmNXwV6LPvaNE\",\"name\":\"GitHub account\"}},\"typeVersion\":1},{\"id\":\"2847116a-c862-4803-8079-a40e4edd22f7\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[1000,-300],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"ec0c92a3-73fa-480b-bdd3-e51648e8b0a0\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[400,-200],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"weeks\",\"triggerAtDay\":[6],\"triggerAtHour\":1}]}},\"typeVersion\":1.2},{\"id\":\"289ec775-7191-4710-85e8-ae33542f9fbd\",\"name\":\"Create sub path\",\"type\":\"n8n-nodes-base.set\",\"position\":[1260,520],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"dae43d3b-56e5-4098-b602-862ebf5cd073\",\"name\":\"subPath\",\"type\":\"string\",\"value\":\"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.3},{\"id\":\"b9bf504a-3acf-4706-992d-a522e9693df8\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,-500],\"parameters\":{\"color\":7,\"width\":2113,\"height\":616,\"content\":\"## Main workflow loop\"},\"typeVersion\":1},{\"id\":\"2470503e-cb6a-44a5-a4aa-b431874e2e09\",\"name\":\"Config\",\"type\":\"n8n-nodes-base.set\",\"position\":[440,540],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"8f6d1741-772f-462a-811f-4c334185e4f0\",\"name\":\"repo_owner\",\"type\":\"string\",\"value\":\"=datproto\"},{\"id\":\"8cac215c-4fd7-422f-9fd2-6b2d1e5e0383\",\"name\":\"repo_name\",\"type\":\"string\",\"value\":\"=datproto-backup-n8n\"},{\"id\":\"2b38f96a-a970-4d13-900e-f15e4cd65c51\",\"name\":\"data\",\"type\":\"object\",\"value\":\"={{\\n  {\\n    \\\"nodes\\\": $('Execute Workflow Trigger').item.json.nodes,\\n    \\\"connections\\\": $('Execute Workflow Trigger').item.json.connections,\\n    \\\"pinData\\\": $('Execute Workflow Trigger').item.json.pinData,\\n    \\\"meta\\\": $('Execute Workflow Trigger').item.json.meta\\n  }\\n}}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"a7d835f2-de5e-4121-acad-9041c126401c\",\"name\":\"Starting Message\",\"type\":\"n8n-nodes-base.discord\",\"position\":[600,-300],\"webhookId\":\"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\"parameters\":{\"content\":\"=The Git backup here. Below is my latest activity:\\n```\\n👉 Starting Workflow Backup [{{ $execution.id }}]\\n```\",\"guildId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944764851851344\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344\",\"cachedResultName\":\"Dat Proto's server\"},\"options\":{},\"resource\":\"message\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944973958873212\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344/1344944973958873212\",\"cachedResultName\":\"n8n\"}},\"credentials\":{\"discordBotApi\":{\"id\":\"i8z7R64uXW2cjYik\",\"name\":\"N8N Bot\"}},\"typeVersion\":2},{\"id\":\"c71ddc51-cbf9-4437-b2b4-9d60f2e1a039\",\"name\":\"Completed Notification\",\"type\":\"n8n-nodes-base.discord\",\"position\":[1640,-440],\"webhookId\":\"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\"parameters\":{\"content\":\"=The Git backup here. Below is my latest activity:\\n```\\n✅ Backup has completed - {{ $('n8n').all().length }} workflows have been processed.\\n```\",\"guildId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944764851851344\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344\",\"cachedResultName\":\"Dat Proto's server\"},\"options\":{},\"resource\":\"message\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944973958873212\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344/1344944973958873212\",\"cachedResultName\":\"n8n\"}},\"credentials\":{\"discordBotApi\":{\"id\":\"i8z7R64uXW2cjYik\",\"name\":\"N8N Bot\"}},\"executeOnce\":true,\"typeVersion\":2},{\"id\":\"110ba2cd-6a39-4663-81d5-6b2893d42e18\",\"name\":\"Get file data\",\"type\":\"n8n-nodes-base.github\",\"position\":[620,260],\"webhookId\":\"883c4829-4a9d-4320-ab49-226a5bc15863\",\"parameters\":{\"owner\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $json.repo_owner }}\"},\"filePath\":\"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}/{{ $('Execute Workflow Trigger').item.json.id }}.json\",\"resource\":\"file\",\"operation\":\"get\",\"repository\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $json.repo_name }}\"},\"asBinaryProperty\":false,\"additionalParameters\":{}},\"credentials\":{\"githubApi\":{\"id\":\"nEsQmNXwV6LPvaNE\",\"name\":\"GitHub account\"}},\"typeVersion\":1,\"continueOnFail\":true,\"alwaysOutputData\":true},{\"id\":\"2bdbcb80-2c2b-4fb8-bddb-eb9e6c6db0e0\",\"name\":\"Execute Workflow\",\"type\":\"n8n-nodes-base.executeWorkflow\",\"onError\":\"continueErrorOutput\",\"position\":[1420,-200],\"parameters\":{\"options\":{},\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"workflowInputs\":{\"value\":{},\"schema\":[],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":true}},\"typeVersion\":1.2},{\"id\":\"2366b904-8f2f-42ce-aa2f-fc941cb73ad4\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1640,-100],\"webhookId\":\"577d599b-e2eb-4e7c-92aa-b9ca787cc40a\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"e9ad632a-0506-4709-a485-67c45bf388f6\",\"name\":\"Get file\",\"type\":\"n8n-nodes-base.github\",\"position\":[1040,240],\"webhookId\":\"81fc5f33-06e3-4368-ba2e-0ef46dd8b021\",\"parameters\":{\"owner\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').item.json.repo_owner }}\"},\"filePath\":\"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}/{{ $('Execute Workflow Trigger').item.json.id }}.json\",\"resource\":\"file\",\"operation\":\"get\",\"repository\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Config').item.json.repo_name }}\"},\"additionalParameters\":{}},\"credentials\":{\"githubApi\":{\"id\":\"nEsQmNXwV6LPvaNE\",\"name\":\"GitHub account\"}},\"typeVersion\":1},{\"id\":\"656913c3-cb57-4129-ae12-42f70800a9ef\",\"name\":\"Wait1\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1420,-440],\"webhookId\":\"4a7448b4-930e-4110-b205-95c55cac5bba\",\"parameters\":{\"amount\":10},\"typeVersion\":1.1},{\"id\":\"09738ea8-1a61-4967-ac3d-2a9f64b39329\",\"name\":\"verifyTheDifference\",\"type\":\"n8n-nodes-base.code\",\"position\":[1040,520],\"parameters\":{\"jsCode\":\"const _ = require(\\\"underscore\\\")\\n\\nlet fileInput = null\\n\\nif (Object.keys($input.first().json).includes(\\\"content\\\")) {\\n  fileInput = JSON.parse(Buffer.from($input.all()[0].json.content, 'base64').toString())\\n}\\n\\nconst n8nInput = $input.last().json.data\\n\\nif (!fileInput) {\\n  return {\\n    \\\"githubStatus\\\": \\\"new\\\"\\n  }\\n}\\n\\nif (_.isMatch(fileInput, n8nInput)) {\\n  return {\\n    \\\"githubStatus\\\": \\\"same\\\"\\n  }\\n} else {\\n  return {\\n    \\\"githubStatus\\\": \\\"different\\\"\\n  }\\n}\"},\"typeVersion\":2},{\"id\":\"7cb7b34c-8742-44c3-9792-1084abf2783a\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[1460,520],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"same\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"1e6de6b4-3074-41bc-8a9d-465c0eb9a773\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('verifyTheDifference').first().json.githubStatus }}\",\"rightValue\":\"same\"}]},\"renameOutput\":true},{\"outputKey\":\"different\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"cf6e130e-c85d-4a24-b11a-abfd0ecfcb19\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('verifyTheDifference').first().json.githubStatus }}\",\"rightValue\":\"different\"}]},\"renameOutput\":true},{\"outputKey\":\"=new\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"f2fc6dda-85f5-4b81-b016-3e033b1dbcab\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('verifyTheDifference').first().json.githubStatus }}\",\"rightValue\":\"new\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"c6410f39-34d8-448f-9efd-d66da067637b\",\"name\":\"Wait2\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1640,-280],\"webhookId\":\"4a7448b4-930e-4110-b205-95c55cac5bba\",\"parameters\":{\"amount\":10},\"typeVersion\":1.1},{\"id\":\"a3c4ff40-9887-4e38-985a-f32536d9306f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,-500],\"parameters\":{\"color\":4,\"width\":680,\"height\":1400,\"content\":\"# Workflows backup to Github\\n======================================================================\\n\\n## Introduction\\nThis workflow will backup all of your existed workflows to a single Github repository.\\n\\nThe Backup folders' name are based on the current backup date and have default format: \\\"yyyy/MM/dd\\\" (setup at \\\"Create sub path\\\" node).\\n\\nThroughout the backup process, the N8N will inform user via discord with clear message about Start, Success and Failure backups.\\n\\n## Tech Stack\\nThe following nodes / services / libraries are used in this workflow:\\n\\n### Nodes:\\n1. **Discord:** To send message to configured setup channel.\\n2. **N8N:** To get all workflows' information.\\n3. **Github:** To store backup data.\\n4. **Code:** To run data comparison (Existed vs Latest workflow data).\\n5. **Wait:** To avoid discord message rate limit.\\n\\n### External libraries:\\n1. **Underscore.js:** JavaScript library that provides lots of common Javascript functions, to help user save time when using code node.\\n\\n## Guideline\\n1. Open \\\"Config\\\" node and setup the following information:\\n    - **repo_owner:** Your Github username.\\n    - **repo_name:** The repository that you want to store workflows backup data.\\n2. Open \\\"Create sub path\\\" node and change the naming and path format of backup folder(s).\\n3. Setup custom messages in 3 discord nodes:\\n    - **Starting Message:** N8N inform user at the time workflow start.\\n    - **Inform Success Flows:** After each success backup, N8N will notify user.\\n    - **Inform Failed Flows:** After each failure backup, N8N will notify user to have appropriate action.\\n    - **Completed Notifications:** Then at the final, the workflow will give user a summary.\"},\"typeVersion\":1},{\"id\":\"d511ce8a-1617-4a2a-96d8-6e71ddc372b7\",\"name\":\"Inform Success Flows\",\"type\":\"n8n-nodes-base.discord\",\"onError\":\"continueRegularOutput\",\"position\":[1840,-280],\"webhookId\":\"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\"parameters\":{\"content\":\"=The Git backup here. Below is my latest activity:\\n```\\n✅ Success to backup {{ $('Loop Over Items').item.json.id }}\\n```\",\"guildId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944764851851344\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344\",\"cachedResultName\":\"Dat Proto's server\"},\"options\":{},\"resource\":\"message\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944973958873212\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344/1344944973958873212\",\"cachedResultName\":\"n8n\"}},\"credentials\":{\"discordBotApi\":{\"id\":\"i8z7R64uXW2cjYik\",\"name\":\"N8N Bot\"}},\"typeVersion\":2},{\"id\":\"21052f64-d4b6-4b67-8cb4-dd022a0dab71\",\"name\":\"Inform Failed Flows\",\"type\":\"n8n-nodes-base.discord\",\"position\":[1840,-100],\"webhookId\":\"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\"parameters\":{\"content\":\"=The Git backup here. Below is my latest activity:\\n```\\n👉 Failed to backup {{ $('Loop Over Items').item.json.id }}\\n```\",\"guildId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944764851851344\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344\",\"cachedResultName\":\"Dat Proto's server\"},\"options\":{},\"resource\":\"message\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1344944973958873212\",\"cachedResultUrl\":\"https://discord.com/channels/1344944764851851344/1344944973958873212\",\"cachedResultName\":\"n8n\"}},\"credentials\":{\"discordBotApi\":{\"id\":\"i8z7R64uXW2cjYik\",\"name\":\"N8N Bot\"}},\"typeVersion\":2}],\"pinData\":{},\"connections\":{\"n8n\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Wait\":{\"main\":[[{\"node\":\"Inform Failed Flows\",\"type\":\"main\",\"index\":0}]]},\"Wait1\":{\"main\":[[{\"node\":\"Completed Notification\",\"type\":\"main\",\"index\":0}]]},\"Wait2\":{\"main\":[[{\"node\":\"Inform Success Flows\",\"type\":\"main\",\"index\":0}]]},\"Config\":{\"main\":[[{\"node\":\"Merge Items\",\"type\":\"main\",\"index\":1},{\"node\":\"Get file data\",\"type\":\"main\",\"index\":0}]]},\"Switch\":{\"main\":[[{\"node\":\"Same file - Do nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"File is different\",\"type\":\"main\",\"index\":0}],[{\"node\":\"File is new\",\"type\":\"main\",\"index\":0}]]},\"Get file\":{\"main\":[[{\"node\":\"Merge Items\",\"type\":\"main\",\"index\":0}]]},\"File is new\":{\"main\":[[{\"node\":\"Create new file\",\"type\":\"main\",\"index\":0}]]},\"Merge Items\":{\"main\":[[{\"node\":\"verifyTheDifference\",\"type\":\"main\",\"index\":0}]]},\"Get file data\":{\"main\":[[{\"node\":\"If file too large\",\"type\":\"main\",\"index\":0}]]},\"Create new file\":{\"main\":[[{\"node\":\"Return\",\"type\":\"main\",\"index\":0}]]},\"Create sub path\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[{\"node\":\"Wait1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Execute Workflow\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow\":{\"main\":[[{\"node\":\"Wait2\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Starting Message\",\"type\":\"main\",\"index\":0}]]},\"Starting Message\":{\"main\":[[{\"node\":\"n8n\",\"type\":\"main\",\"index\":0}]]},\"File is different\":{\"main\":[[{\"node\":\"Edit existing file\",\"type\":\"main\",\"index\":0}]]},\"If file too large\":{\"main\":[[{\"node\":\"Get file\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Merge Items\",\"type\":\"main\",\"index\":0}]]},\"Edit existing file\":{\"main\":[[{\"node\":\"Return\",\"type\":\"main\",\"index\":0}]]},\"Inform Failed Flows\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"verifyTheDifference\":{\"main\":[[{\"node\":\"Create sub path\",\"type\":\"main\",\"index\":0}]]},\"Inform Success Flows\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Starting Message\",\"type\":\"main\",\"index\":0}]]},\"Same file - Do nothing\":{\"main\":[[{\"node\":\"Return\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow Trigger\":{\"main\":[[{\"node\":\"Config\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Introduction\n\nThis workflow will backup all of your existed workflows to a single Github repository.\n\nThe Backup folders' name are based on the current backup date and have default format: \"yyyy/MM/dd\" (setup at \"Create sub path\" node).\n\nThroughout the backup process, the N8N will inform user via discord with clear message about Start, Success and Failure backups.\n\nThe workflow will be\n\n## Tech Stack\n\nThe following nodes / services / libraries are used in this workflow:\n\n### Nodes:\n\n  1. **Discord:** To send message to configured setup channel.\n  2. **N8N:** To get all workflows' information.\n  3. **Github:** To store backup data.\n  4. **Code:** To run data comparison (Existed vs Latest workflow data).\n  5. **Wait:** To avoid discord message rate limit.\n\n\n\n### External libraries:\n\n  1. **Underscore.js:** JavaScript library that provides lots of common Javascript functions, to help user save time when using code node.\n\n\n\n## Guideline\n\n  1. Open \"Config\" node and setup the following information: \n     * **repo_owner:** Your Github username.\n     * **repo_name:** The repository that you want to store workflows backup data.\n  2. Open \"Create sub path\" node and change the naming and path format of backup folder(s).\n  3. Setup custom messages in 3 discord nodes: \n     * **Starting Message:** N8N inform user at the time workflow start.\n     * **Inform Success Flows:** After each success backup, N8N will notify user.\n     * **Inform Failed Flows:** After each failure backup, N8N will notify user to have appropriate action.\n     * **Completed Notifications:** Then at the final, the workflow will give user a summary.\n  4. Setup \"Schedule Trigger\" node to change default automated backup time.\n\n\n\n# Screenshots\n\n## Discord output\n\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_a08c77ca07.png)\n",
  "crawled_at": "2025-05-26T06:12:31.019132",
  "readme_zh": "## 简介\n\n本工作流将您现有的所有工作流备份至单个GitHub仓库中。\n\n备份文件夹名称基于当前备份日期，默认格式为\"yyyy/MM/dd\"（可在\"创建子路径\"节点中设置）。\n\n在整个备份过程中，N8N会通过Discord向用户发送明确通知，包括备份开始、成功及失败状态。\n\n## 技术栈\n\n本工作流使用以下节点/服务/库：\n\n### 节点：\n1. **Discord：** 向配置好的频道发送消息  \n2. **N8N：** 获取所有工作流信息  \n3. **GitHub：** 存储备份数据  \n4. **代码：** 运行数据对比（现有工作流数据 vs 最新工作流数据）  \n5. **等待：** 避免Discord消息速率限制  \n\n### 外部库：\n1. **Underscore.js：** 提供常用JavaScript函数的工具库，帮助用户在代码节点中节省时间  \n\n## 使用指南\n1. 打开\"配置\"节点设置以下信息：  \n   - **repo_owner：** 您的GitHub用户名  \n   - **repo_name：** 用于存储工作流备份数据的仓库名  \n2. 打开\"创建子路径\"节点可修改备份文件夹的命名及路径格式  \n3. 在3个Discord节点中设置自定义消息：  \n   - **开始消息：** 工作流启动时通知用户  \n   - **成功通知：** 每次成功备份后发送通知  \n   - **失败通知：** 每次备份失败时提醒用户采取应对措施  \n   - **完成汇总：** 最终向用户发送备份总结报告  \n4. 配置\"计划触发器\"节点可修改默认自动备份时间  \n\n# 截图示例\n## Discord输出\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_a08c77ca07.png)",
  "title_zh": "备份N8N工作流至Github",
  "publish_date_zh": "上次更新于5天前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"7a94cd64cdcb53cb721e010cea9e90907c1dc5fd6766b2d732b573c42bb273f8\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"696255b0-7786-410c-927f-ffb4fa7784b9\",\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        400,\n        -400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5ffbd7ff-596c-4d69-a327-95ab9e31c144\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        140\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 2111,\n        \"height\": 752,\n        \"content\": \"## 子工作流\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d552bfbd-24cc-43ab-b008-ba837525e234\",\n      \"name\": \"Execute Workflow Trigger\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        180,\n        540\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4cf656ea-b62c-4c9a-9a2c-f3cd4736af6f\",\n      \"name\": \"n8n\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        800,\n        -300\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"n99peePbw8bFtE9X\",\n          \"name\": \"N8N Key (Github Backup)\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bc776b1e-de7a-4c5c-ab3e-fc6ede7f6d93\",\n      \"name\": \"Return\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2140,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8d513345-6484-431f-afb7-7cf045c90f4f\",\n              \"name\": \"Done\",\n              \"type\": \"boolean\",\n              \"value\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"cc1748c6-972e-4909-a0d9-2aada40e49b6\",\n      \"name\": \"If file too large\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        820,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 1,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"45ce825e-9fa6-430c-8931-9aaf22c42585\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.content }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"3ce332ca-3827-4c2d-becd-837da737d285\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notExists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.error }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"68c529b3-8530-42c9-8efa-7c35ea6c24f0\",\n      \"name\": \"Merge Items\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        820,\n        520\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"627cc21c-1f7f-4266-a558-357289bb2746\",\n      \"name\": \"Same file - Do nothing\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1680,\n        340\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e77f25e-b58c-4e23-a5c7-1951c36e59b6\",\n      \"name\": \"File is different\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1680,\n        500\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"37d72317-7140-45eb-ac62-e88ec7b9fc97\",\n      \"name\": \"File is new\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1680,\n        700\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"770c9612-e6fb-4d6c-9a89-459e7d5acc31\",\n      \"name\": \"Create new file\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        1900,\n        700\n      ],\n      \"webhookId\": \"fc6b1cf0-6440-4fb0-94bf-fadabb6ea1fd\",\n      \"parameters\": {\n        \"owner\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').first().json.repo_owner }}\"\n        },\n        \"filePath\": \"={{ $('Create sub path').item.json.subPath }}/{{ $('Execute Workflow Trigger').first().json.id }}.json\",\n        \"resource\": \"file\",\n        \"repository\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').first().json.repo_name }}\"\n        },\n        \"fileContent\": \"={{ JSON.stringify($('Config').first().json.data) }}\",\n        \"commitMessage\": \"={{$('Execute Workflow Trigger').first().json.name}} ({{$json.githubStatus}})\"\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"nEsQmNXwV6LPvaNE\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"121272d6-0535-494e-b14a-3cc00f87cb8d\",\n      \"name\": \"Edit existing file\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        1900,\n        500\n      ],\n      \"webhookId\": \"81fc5f33-06e3-4368-ba2e-0ef46dd8b021\",\n      \"parameters\": {\n        \"owner\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').first().json.repo_owner }}\"\n        },\n        \"filePath\": \"={{ $('Create sub path').item.json.subPath }}/{{ $('Execute Workflow Trigger').first().json.id }}.json\",\n        \"resource\": \"file\",\n        \"operation\": \"edit\",\n        \"repository\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').first().json.repo_name }}\"\n        },\n        \"fileContent\": \"={{ JSON.stringify($('Config').first().json.data) }}\",\n        \"commitMessage\": \"={{$('Execute Workflow Trigger').first().json.name}} ({{ $json.githubStatus }})\"\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"nEsQmNXwV6LPvaNE\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2847116a-c862-4803-8079-a40e4edd22f7\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1000,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"ec0c92a3-73fa-480b-bdd3-e51648e8b0a0\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        400,\n        -200\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\",\n              \"triggerAtDay\": [\n                6\n              ],\n              \"triggerAtHour\": 1\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"289ec775-7191-4710-85e8-ae33542f9fbd\",\n      \"name\": \"Create sub path\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1260,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"dae43d3b-56e5-4098-b602-862ebf5cd073\",\n              \"name\": \"subPath\",\n              \"type\": \"string\",\n              \"value\": \"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"b9bf504a-3acf-4706-992d-a522e9693df8\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        -500\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 2113,\n        \"height\": 616,\n        \"content\": \"## 主工作流程循环\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2470503e-cb6a-44a5-a4aa-b431874e2e09\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        440,\n        540\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8f6d1741-772f-462a-811f-4c334185e4f0\",\n              \"name\": \"repo_owner\",\n              \"type\": \"string\",\n              \"value\": \"=datproto\"\n            },\n            {\n              \"id\": \"8cac215c-4fd7-422f-9fd2-6b2d1e5e0383\",\n              \"name\": \"repo_name\",\n              \"type\": \"string\",\n              \"value\": \"=datproto-backup-n8n\"\n            },\n            {\n              \"id\": \"2b38f96a-a970-4d13-900e-f15e4cd65c51\",\n              \"name\": \"data\",\n              \"type\": \"object\",\n              \"value\": \"={{\\n  {\\n    \\\"nodes\\\": $('Execute Workflow Trigger').item.json.nodes,\\n    \\\"connections\\\": $('Execute Workflow Trigger').item.json.connections,\\n    \\\"pinData\\\": $('Execute Workflow Trigger').item.json.pinData,\\n    \\\"meta\\\": $('Execute Workflow Trigger').item.json.meta\\n  }\\n}}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a7d835f2-de5e-4121-acad-9041c126401c\",\n      \"name\": \"Starting Message\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"position\": [\n        600,\n        -300\n      ],\n      \"webhookId\": \"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\n      \"parameters\": {\n        \"content\": \"=The Git backup here. Below is my latest activity:\\n```\\n👉 Starting Workflow Backup [{{ $execution.id }}]\\n```\",\n        \"guildId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944764851851344\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344\",\n          \"cachedResultName\": \"Dat Proto's server\"\n        },\n        \"options\": {},\n        \"resource\": \"message\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944973958873212\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344/1344944973958873212\",\n          \"cachedResultName\": \"n8n\"\n        }\n      },\n      \"credentials\": {\n        \"discordBotApi\": {\n          \"id\": \"i8z7R64uXW2cjYik\",\n          \"name\": \"N8N Bot\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c71ddc51-cbf9-4437-b2b4-9d60f2e1a039\",\n      \"name\": \"Completed Notification\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"position\": [\n        1640,\n        -440\n      ],\n      \"webhookId\": \"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\n      \"parameters\": {\n        \"content\": \"=The Git backup here. Below is my latest activity:\\n```\\n✅ Backup has completed - {{ $('n8n').all().length }} workflows have been processed.\\n```\",\n        \"guildId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944764851851344\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344\",\n          \"cachedResultName\": \"Dat Proto's server\"\n        },\n        \"options\": {},\n        \"resource\": \"message\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944973958873212\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344/1344944973958873212\",\n          \"cachedResultName\": \"n8n\"\n        }\n      },\n      \"credentials\": {\n        \"discordBotApi\": {\n          \"id\": \"i8z7R64uXW2cjYik\",\n          \"name\": \"N8N Bot\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"110ba2cd-6a39-4663-81d5-6b2893d42e18\",\n      \"name\": \"Get file data\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        620,\n        260\n      ],\n      \"webhookId\": \"883c4829-4a9d-4320-ab49-226a5bc15863\",\n      \"parameters\": {\n        \"owner\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $json.repo_owner }}\"\n        },\n        \"filePath\": \"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}/{{ $('Execute Workflow Trigger').item.json.id }}.json\",\n        \"resource\": \"file\",\n        \"operation\": \"get\",\n        \"repository\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $json.repo_name }}\"\n        },\n        \"asBinaryProperty\": false,\n        \"additionalParameters\": {}\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"nEsQmNXwV6LPvaNE\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"continueOnFail\": true,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"2bdbcb80-2c2b-4fb8-bddb-eb9e6c6db0e0\",\n      \"name\": \"Execute Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflow\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1420,\n        -200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"workflowInputs\": {\n          \"value\": {},\n          \"schema\": [],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": true\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"2366b904-8f2f-42ce-aa2f-fc941cb73ad4\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1640,\n        -100\n      ],\n      \"webhookId\": \"577d599b-e2eb-4e7c-92aa-b9ca787cc40a\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e9ad632a-0506-4709-a485-67c45bf388f6\",\n      \"name\": \"Get file\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        1040,\n        240\n      ],\n      \"webhookId\": \"81fc5f33-06e3-4368-ba2e-0ef46dd8b021\",\n      \"parameters\": {\n        \"owner\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').item.json.repo_owner }}\"\n        },\n        \"filePath\": \"={{ $now.setZone('UTC').toFormat('yyyy') }}/{{ $now.setZone('UTC').toFormat('MM') }}/{{ $now.setZone('UTC').toFormat('dd') }}/{{ $('Execute Workflow Trigger').item.json.id }}.json\",\n        \"resource\": \"file\",\n        \"operation\": \"get\",\n        \"repository\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Config').item.json.repo_name }}\"\n        },\n        \"additionalParameters\": {}\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"nEsQmNXwV6LPvaNE\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"656913c3-cb57-4129-ae12-42f70800a9ef\",\n      \"name\": \"Wait1\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1420,\n        -440\n      ],\n      \"webhookId\": \"4a7448b4-930e-4110-b205-95c55cac5bba\",\n      \"parameters\": {\n        \"amount\": 10\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"09738ea8-1a61-4967-ac3d-2a9f64b39329\",\n      \"name\": \"verifyTheDifference\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1040,\n        520\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const _ = require(\\\"underscore\\\")\\n\\nlet fileInput = null\\n\\nif (Object.keys($input.first().json).includes(\\\"content\\\")) {\\n  fileInput = JSON.parse(Buffer.from($input.all()[0].json.content, 'base64').toString())\\n}\\n\\nconst n8nInput = $input.last().json.data\\n\\nif (!fileInput) {\\n  return {\\n    \\\"githubStatus\\\": \\\"new\\\"\\n  }\\n}\\n\\nif (_.isMatch(fileInput, n8nInput)) {\\n  return {\\n    \\\"githubStatus\\\": \\\"same\\\"\\n  }\\n} else {\\n  return {\\n    \\\"githubStatus\\\": \\\"different\\\"\\n  }\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"7cb7b34c-8742-44c3-9792-1084abf2783a\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1460,\n        520\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"same\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"1e6de6b4-3074-41bc-8a9d-465c0eb9a773\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('verifyTheDifference').first().json.githubStatus }}\",\n                    \"rightValue\": \"same\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"different\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"cf6e130e-c85d-4a24-b11a-abfd0ecfcb19\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('verifyTheDifference').first().json.githubStatus }}\",\n                    \"rightValue\": \"different\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"=new\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"f2fc6dda-85f5-4b81-b016-3e033b1dbcab\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('verifyTheDifference').first().json.githubStatus }}\",\n                    \"rightValue\": \"new\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"c6410f39-34d8-448f-9efd-d66da067637b\",\n      \"name\": \"Wait2\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1640,\n        -280\n      ],\n      \"webhookId\": \"4a7448b4-930e-4110-b205-95c55cac5bba\",\n      \"parameters\": {\n        \"amount\": 10\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"a3c4ff40-9887-4e38-985a-f32536d9306f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -540,\n        -500\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 680,\n        \"height\": 1400,\n        \"content\": \"# 工作流备份至Github\\n======================================================================\\n\\n## 简介\\n本工作流可将您现有的所有工作流备份至单个Github仓库。\\n\\n备份文件夹名称基于当前备份日期，默认格式为\\\"yyyy/MM/dd\\\"（在\\\"创建子路径\\\"节点中设置）。\\n\\n整个备份过程中，N8N将通过Discord向用户发送清晰的通知消息，包括备份开始、成功及失败状态。\\n\\n## 技术栈\\n本工作流使用以下节点/服务/库：\\n\\n### 节点：\\n1. **Discord:** 向配置好的频道发送消息\\n2. **N8N:** 获取所有工作流信息\\n3. **Github:** 存储备份数据\\n4. **代码:** 运行数据对比（现有工作流数据 vs 最新工作流数据）\\n5. **等待:** 避免Discord消息速率限制\\n\\n### 外部库：\\n1. **Underscore.js:** 提供大量常用JavaScript功能的库，帮助用户在代码节点中节省时间\\n\\n## 使用指南\\n1. 打开\\\"配置\\\"节点设置以下信息：\\n    - **repo_owner:** 您的Github用户名\\n    - **repo_name:** 用于存储工作流备份数据的仓库名称\\n2. 打开\\\"创建子路径\\\"节点修改备份文件夹的命名及路径格式\\n3. 在3个Discord节点中设置自定义消息：\\n    - **开始消息:** 工作流启动时通知用户\\n    - **成功流程通知:** 每次成功备份后通知用户\\n    - **失败流程通知:** 每次备份失败后通知用户采取相应措施\\n    - **完成通知:** 最后工作流将向用户发送汇总报告\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d511ce8a-1617-4a2a-96d8-6e71ddc372b7\",\n      \"name\": \"Inform Success Flows\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"onError\": \"continueRegularOutput\",\n      \"position\": [\n        1840,\n        -280\n      ],\n      \"webhookId\": \"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\n      \"parameters\": {\n        \"content\": \"=The Git backup here. Below is my latest activity:\\n```\\n✅ Success to backup {{ $('Loop Over Items').item.json.id }}\\n```\",\n        \"guildId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944764851851344\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344\",\n          \"cachedResultName\": \"Dat Proto's server\"\n        },\n        \"options\": {},\n        \"resource\": \"message\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944973958873212\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344/1344944973958873212\",\n          \"cachedResultName\": \"n8n\"\n        }\n      },\n      \"credentials\": {\n        \"discordBotApi\": {\n          \"id\": \"i8z7R64uXW2cjYik\",\n          \"name\": \"N8N Bot\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"21052f64-d4b6-4b67-8cb4-dd022a0dab71\",\n      \"name\": \"Inform Failed Flows\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"position\": [\n        1840,\n        -100\n      ],\n      \"webhookId\": \"53d9dd11-ca31-4eea-8dc8-bac95c8bcc04\",\n      \"parameters\": {\n        \"content\": \"=The Git backup here. Below is my latest activity:\\n```\\n👉 Failed to backup {{ $('Loop Over Items').item.json.id }}\\n```\",\n        \"guildId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944764851851344\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344\",\n          \"cachedResultName\": \"Dat Proto's server\"\n        },\n        \"options\": {},\n        \"resource\": \"message\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1344944973958873212\",\n          \"cachedResultUrl\": \"https://discord.com/channels/1344944764851851344/1344944973958873212\",\n          \"cachedResultName\": \"n8n\"\n        }\n      },\n      \"credentials\": {\n        \"discordBotApi\": {\n          \"id\": \"i8z7R64uXW2cjYik\",\n          \"name\": \"N8N Bot\"\n        }\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"n8n\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Inform Failed Flows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Completed Notification\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Inform Success Flows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Items\",\n            \"type\": \"main\",\n            \"index\": 1\n          },\n          {\n            \"node\": \"Get file data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Same file - Do nothing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"File is different\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"File is new\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"File is new\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create new file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"verifyTheDifference\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get file data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If file too large\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create new file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create sub path\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Execute Workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Starting Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Starting Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"n8n\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"File is different\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit existing file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If file too large\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Merge Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit existing file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Inform Failed Flows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"verifyTheDifference\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create sub path\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Inform Success Flows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Starting Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Same file - Do nothing\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}