{
  "url": "https://n8n.io/workflows/2684-check-if-a-twitch-stream-is-live/",
  "title": "Check if a Twitch Stream is Live",
  "author": "Roger Filomeno",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "2025-01-26",
  "categories": [
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"id\":\"fcd82fb8-4ba9-4379-96fd-4dca17a35fa3\",\"name\":\"Document\",\"type\":\"n8n-nodes-base.set\",\"position\":[-600,240],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"dba7b91b-17e3-4096-92aa-a6e5fe60eb55\",\"name\":\"twitch\",\"type\":\"string\",\"value\":\"YOUR-TWITCH-USERNAME\"}]}},\"typeVersion\":3.4},{\"id\":\"5c608f47-3d94-4c87-926f-36eb5564c778\",\"name\":\"Twitch GraphQL\",\"type\":\"n8n-nodes-base.graphql\",\"position\":[-380,240],\"parameters\":{\"query\":\"={\\n  user(login: \\\"{{ $('Document').item.json.twitch }}\\\") {\\n    stream {\\n      id\\n      viewersCount\\n      title\\n      type\\n      game {\\n        id\\n      }\\n    }\\n  }\\n}\",\"endpoint\":\"https://gql.twitch.tv/gql\",\"variables\":\"=\",\"requestFormat\":\"json\",\"headerParametersUi\":{\"parameter\":[{\"name\":\"client-id\",\"value\":\"kimne78kx3ncx6brgo4mv6wki5h1ko\"}]}},\"typeVersion\":1},{\"id\":\"fcc08d0d-33ea-427c-bdea-2e219baa7191\",\"name\":\"Is Online\",\"type\":\"n8n-nodes-base.if\",\"position\":[-160,240],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"311e3b31-03e7-4763-8b4a-ebc9a18b77fd\",\"operator\":{\"type\":\"object\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.data.user.stream }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"95dd5830-accb-41a6-9790-d43324da1156\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-860,240],\"parameters\":{},\"typeVersion\":1},{\"id\":\"fa6b56b3-4ed5-4a3d-a549-654e226b535e\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-680,40],\"parameters\":{\"content\":\"The document node serves as sample source for `twitch` username to check\\n\"},\"typeVersion\":1},{\"id\":\"3b151013-eebd-4f9e-99f1-71d4c1d25774\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,420],\"parameters\":{\"content\":\"the value of `client-id` parameter is a fixed known value used by twitch for anonymous call used in their website\\n\"},\"typeVersion\":1},{\"id\":\"39578fdc-f0b8-449f-9246-980dd181d058\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,40],\"parameters\":{\"content\":\"we need only to check the value of `stream` if `null` to know if the user offline. Any value will denote the user is online\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Document\":{\"main\":[[{\"node\":\"Twitch GraphQL\",\"type\":\"main\",\"index\":0}]]},\"Twitch GraphQL\":{\"main\":[[{\"node\":\"Is Online\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Document\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Introduction:\n\nThis workflow template helps you determine if a Twitch user's stream is currently live or offline.\n\n## Setup Instructions:\n\nThe Document node holds the sample Twitch username you wish to check, you may adapt it in your workflow by replacing this with a chain that contains the Twitch username you want to check. This value is passed to the GraphQL node query as `$('Document').item.json.twitch` so make sure to change this based on your workflow.\n\n## How it Works:\n\nThe important nodes here are the `GrapQL` and `IF` nodes. The GrapQL queries the Twitch API, and then the output returns a document with the `stream` property. The IF node then checks if this property has a value, if `null` means the user is offline, otherwise the user is online or live.\n\n## Common Use Cases:\n\nYou can use this with other workflow templates to post live stream alerts to Twitter/X, Bluesky, and Discord via webhooks, etc to notify your community to join youR stream. You may also use an `LLM` node to write a custom alert based on the value of property `title`\n\n## How to adjust this template\n\nIf you want to check a list of Twitch channels, you can simply exchange the `Document` set node in the beginning with your list of channels.\n\nFor more information on the GraphQL output please see the official Twitch API documentation: [Get Streams](https://dev.twitch.tv/docs/api/reference/#get-streams)\n",
  "crawled_at": "2025-05-26T01:41:47.191261",
  "readme_zh": "## Introduction:\n\nThis workflow template helps you determine if a Twitch user's stream is currently live or offline.\n\n## Setup Instructions:\n\nThe Document node holds the sample Twitch username you wish to check, you may adapt it in your workflow by replacing this with a chain that contains the Twitch username you want to check. This value is passed to the GraphQL node query as `$('Document').item.json.twitch` so make sure to change this based on your workflow.\n\n## How it Works:\n\nThe important nodes here are the `GrapQL` and `IF` nodes. The GrapQL queries the Twitch API, and then the output returns a document with the `stream` property. The IF node then checks if this property has a value, if `null` means the user is offline, otherwise the user is online or live.\n\n## Common Use Cases:\n\nYou can use this with other workflow templates to post live stream alerts to Twitter/X, Bluesky, and Discord via webhooks, etc to notify your community to join youR stream. You may also use an `LLM` node to write a custom alert based on the value of property `title`\n\n## How to adjust this template\n\nIf you want to check a list of Twitch channels, you can simply exchange the `Document` set node in the beginning with your list of channels.\n\nFor more information on the GraphQL output please see the official Twitch API documentation: [Get Streams](https://dev.twitch.tv/docs/api/reference/#get-streams)\n",
  "title_zh": "检查Twitch直播是否在线",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"fcd82fb8-4ba9-4379-96fd-4dca17a35fa3\",\n      \"name\": \"Document\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -600,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"dba7b91b-17e3-4096-92aa-a6e5fe60eb55\",\n              \"name\": \"twitch\",\n              \"type\": \"string\",\n              \"value\": \"YOUR-TWITCH-USERNAME\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5c608f47-3d94-4c87-926f-36eb5564c778\",\n      \"name\": \"Twitch GraphQL\",\n      \"type\": \"n8n-nodes-base.graphql\",\n      \"position\": [\n        -380,\n        240\n      ],\n      \"parameters\": {\n        \"query\": \"={\\n  user(login: \\\"{{ $('Document').item.json.twitch }}\\\") {\\n    stream {\\n      id\\n      viewersCount\\n      title\\n      type\\n      game {\\n        id\\n      }\\n    }\\n  }\\n}\",\n        \"endpoint\": \"https://gql.twitch.tv/gql\",\n        \"variables\": \"=\",\n        \"requestFormat\": \"json\",\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"client-id\",\n              \"value\": \"kimne78kx3ncx6brgo4mv6wki5h1ko\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fcc08d0d-33ea-427c-bdea-2e219baa7191\",\n      \"name\": \"Is Online\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -160,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"311e3b31-03e7-4763-8b4a-ebc9a18b77fd\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.data.user.stream }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"95dd5830-accb-41a6-9790-d43324da1156\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -860,\n        240\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fa6b56b3-4ed5-4a3d-a549-654e226b535e\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -680,\n        40\n      ],\n      \"parameters\": {\n        \"content\": \"文档节点作为样本源，用于检查`twitch`用户名\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b151013-eebd-4f9e-99f1-71d4c1d25774\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        420\n      ],\n      \"parameters\": {\n        \"content\": \"`client-id` 参数的值是 Twitch 在其网站上用于匿名调用的固定已知值。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"39578fdc-f0b8-449f-9246-980dd181d058\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        40\n      ],\n      \"parameters\": {\n        \"content\": \"我们只需检查`stream`的值是否为`null`即可判断用户是否离线。任何非空值都表示用户在线。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Document\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Twitch GraphQL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Twitch GraphQL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Online\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Document\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}