{
  "url": "https://n8n.io/workflows/1916-merge-binary-objects-on-multiple-items-into-a-single-item/",
  "title": "Merge binary objects on multiple items into a single item",
  "author": "Tom",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"id\":\"9d09405e-64a3-47ef-9d46-4942de51444b\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[400,460],\"parameters\":{},\"typeVersion\":1},{\"id\":\"4fdc396b-07bd-471e-9e62-136300804809\",\"name\":\"Set URLs\",\"type\":\"n8n-nodes-base.code\",\"position\":[620,460],\"parameters\":{\"jsCode\":\"return [{\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file01.jpg\\\"\\n  }\\n}, {\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file02.jpg\\\"\\n  }\\n}, {\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file03.jpg\\\"\\n  }\\n}]\"},\"typeVersion\":1},{\"id\":\"17482568-2117-4a8c-a307-ebf30dc9c560\",\"name\":\"HTTP Request\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[840,460],\"parameters\":{\"url\":\"={{ $json.url }}\",\"options\":{\"response\":{\"response\":{\"responseFormat\":\"file\"}}}},\"typeVersion\":4},{\"id\":\"de27f52b-8f7e-4b9c-a097-987db4cef5aa\",\"name\":\"Merge items\",\"type\":\"n8n-nodes-base.code\",\"position\":[1060,460],\"parameters\":{\"jsCode\":\"let binaries = {}, binary_keys = [];\\n\\nfor (const [index, inputItem] of Object.entries($input.all())) {\\n  binaries[`data_${index}`] = inputItem.binary.data;\\n  binary_keys.push(`data_${index}`);\\n}\\n\\nreturn [{\\n    json: {\\n        binary_keys: binary_keys.join(',')\\n    },\\n    binary: binaries\\n}];\\n\"},\"typeVersion\":1},{\"id\":\"539fe99d-c557-4e51-bc88-011fb604e1f3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[580,320],\"parameters\":{\"width\":394,\"height\":304,\"content\":\"## Example data\\nThese nodes simply download some example files to work with.\"},\"typeVersion\":1},{\"id\":\"710fd054-2360-447a-b503-049507c0a3b2\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1000,320],\"parameters\":{\"width\":304,\"height\":307,\"content\":\"## Transformation\\nThis is where the magic happens. Multiple items with one binary object each are being transformed into one item with multiple binary objects.\"},\"typeVersion\":1}],\"connections\":{\"Set URLs\":{\"main\":[[{\"node\":\"HTTP Request\",\"type\":\"main\",\"index\":0}]]},\"HTTP Request\":{\"main\":[[{\"node\":\"Merge items\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Set URLs\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow is the opposite of [this one](https://n8n.io/workflows/1621-split-out-binary-data/). It transforms multiple different items with one binary object named `data` into a single item with multiple binary objects:\n\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_2831934bd2.png)\n\nThis can be useful when creating a single .zip archive for example. It uses the updated Code node instead of the older Function node.\n",
  "crawled_at": "2025-05-25T20:17:27.604418",
  "readme_zh": "此工作流程与[此流程](https://n8n.io/workflows/1621-split-out-binary-data/)相反。它将多个含有名为`data`的二进制对象的不同项，转换为一个包含多个二进制对象的单一项目：\n\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_2831934bd2.png)\n\n这在需要创建单个.zip压缩包等场景中尤为实用。该流程采用了更新后的代码节点，而非旧版的功能节点。",
  "title_zh": "将多个项目上的二进制对象合并为单一项目",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"9d09405e-64a3-47ef-9d46-4942de51444b\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        400,\n        460\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4fdc396b-07bd-471e-9e62-136300804809\",\n      \"name\": \"Set URLs\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        620,\n        460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return [{\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file01.jpg\\\"\\n  }\\n}, {\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file02.jpg\\\"\\n  }\\n}, {\\n  json: {\\n    url: \\\"https://static.thomasmartens.eu/n8n/file03.jpg\\\"\\n  }\\n}]\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17482568-2117-4a8c-a307-ebf30dc9c560\",\n      \"name\": \"HTTP Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        840,\n        460\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"responseFormat\": \"file\"\n            }\n          }\n        }\n      },\n      \"typeVersion\": 4\n    },\n    {\n      \"id\": \"de27f52b-8f7e-4b9c-a097-987db4cef5aa\",\n      \"name\": \"Merge items\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1060,\n        460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let binaries = {}, binary_keys = [];\\n\\nfor (const [index, inputItem] of Object.entries($input.all())) {\\n  binaries[`data_${index}`] = inputItem.binary.data;\\n  binary_keys.push(`data_${index}`);\\n}\\n\\nreturn [{\\n    json: {\\n        binary_keys: binary_keys.join(',')\\n    },\\n    binary: binaries\\n}];\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"539fe99d-c557-4e51-bc88-011fb604e1f3\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        580,\n        320\n      ],\n      \"parameters\": {\n        \"width\": 394,\n        \"height\": 304,\n        \"content\": \"## 示例数据\\n这些节点仅下载一些示例文件以供使用。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"710fd054-2360-447a-b503-049507c0a3b2\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1000,\n        320\n      ],\n      \"parameters\": {\n        \"width\": 304,\n        \"height\": 307,\n        \"content\": \"## 转换\\n这里是奇迹发生的地方。多个各自拥有单一二进制对象的项目，将被转化为一个包含多个二进制对象的单一项目。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Set URLs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}