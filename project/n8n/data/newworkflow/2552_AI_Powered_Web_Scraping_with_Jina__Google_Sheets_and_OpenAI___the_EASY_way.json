{
  "url": "https://n8n.io/workflows/2552-ai-powered-web-scraping-with-jina-google-sheets-and-openai-the-easy-way/",
  "title": "AI Powered Web Scraping with Jina, Google Sheets and OpenAI : the EASY way",
  "author": "Derek Cheung",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"id\":\"c3ef40df-084e-435c-9a11-3aa0a2f94f36\",\"name\":\"When clicking \\\"Test workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[740,520],\"parameters\":{},\"typeVersion\":1},{\"id\":\"e0583472-a450-4582-83bc-84a014bea543\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1640,520],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"output.results\"},\"typeVersion\":1},{\"id\":\"b8aa573d-5b63-4669-900f-bcc915b6ad41\",\"name\":\"Save to Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1900,520],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"availability\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"availability\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"image\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"image\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"link\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"link\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[\"Book prices\"]},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":258629074,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit#gid=258629074\",\"cachedResultName\":\"Sheet2\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit?usp=drivesdk\",\"cachedResultName\":\"Book Prices\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"GHRceL2SKjXxz0Dx\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.2},{\"id\":\"a63c3ab3-6aab-43b2-8af6-8b00e24e0ee6\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1300,700],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"5oYe8Cxj7liOPAKk\",\"name\":\"Derek T\"}},\"typeVersion\":1},{\"id\":\"40326966-0c46-4df2-8d80-fa014e05b693\",\"name\":\"Information Extractor\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[1260,520],\"parameters\":{\"text\":\"={{ $json.data }}\",\"options\":{\"systemPromptTemplate\":\"You are an expert extraction algorithm.\\nOnly extract relevant information from the text.\\nIf you do not know the value of an attribute asked to extract, you may omit the attribute's value.\\nAlways output the data in a json array called results.  Each book should have a title, price, availability and product_url, image_url\"},\"schemaType\":\"manual\",\"inputSchema\":\"{\\n  \\\"results\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n          \\\"type\\\": \\\"object\\\",\\n          \\\"properties\\\": {\\n            \\\"price\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n              },\\n            \\\"title\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"image_url\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"product_url\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"availability\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            }            \\n           }\\n      }\\n  }\\n}\"},\"typeVersion\":1},{\"id\":\"8ddca560-8da7-4090-b865-0523f95ca463\",\"name\":\"Jina Fetch\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1020,520],\"parameters\":{\"url\":\"https://r.jina.ai/http://books.toscrape.com/catalogue/category/books/historical-fiction_4/index.html\",\"options\":{\"allowUnauthorizedCerts\":true},\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"ALBmOXmADcPmyHr1\",\"name\":\"jina\"}},\"typeVersion\":4.1},{\"id\":\"b1745cea-fdbe-4f14-b09c-884549beac7e\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[80,320],\"parameters\":{\"color\":5,\"width\":587,\"height\":570,\"content\":\"## Start here: Step-by Step Youtube Tutorial :star:\\n\\n[![AI Powered Web Scraping : the EASY way with n8n and Jina.ai (no-code!)](https://img.youtube.com/vi/f3AJYXHirr8/sddefault.jpg)](https://youtu.be/f3AJYXHirr8)\\n\\n[Google Sheet Example](https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit?usp=sharing)\\n\\n\\n\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Split Out\":{\"main\":[[{\"node\":\"Save to Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Jina Fetch\":{\"main\":[[{\"node\":\"Information Extractor\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Information Extractor\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Information Extractor\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"When clicking \\\"Test workflow\\\"\":{\"main\":[[{\"node\":\"Jina Fetch\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Purpose of workflow:**  \nThe purpose of this workflow is to automate scraping of a website, transforming it into a structured format, and loading it directly into a Google Sheets spreadsheet.\n\n**How it works:**\n\n  1. Web Scraping: Uses the Jina AI service to scrape website data and convert it into LLM-friendly text.\n  2. Information Extraction: Employs an AI node to extract specific book details (title, price, availability, image URL, product URL) from the scraped data.\n  3. Data Splitting: Splits the extracted information into individual book entries.\n  4. Google Sheets Integration: Automatically populates a Google Sheets spreadsheet with the structured book data.\n\n\n\n**Step by step setup:**\n\n  1. Set up Jina AI service:\n\n     * Sign up for a Jina AI account and obtain an API key.\n  2. Configure the HTTP Request node:\n\n     * Enter the Jina AI URL with the target website.\n     * Add the API key to the request headers for authentication.\n  3. Set up the Information Extractor node:\n\n     * Use Claude AI to generate a JSON schema for data extraction.\n     * Upload a screenshot of the target website to Claude AI.\n     * Ask Claude AI to suggest a JSON schema for extracting required information.\n     * Copy the generated schema into the Information Extractor node.\n  4. Configure the Split node:\n\n     * Set it up to separate the extracted data into individual book entries.\n  5. Set up the Google Sheets node:\n\n     * Create a Google Sheets spreadsheet with columns for title, price, availability, image URL, and product URL.\n     * Configure the node to map the extracted data to the appropriate columns.\n\n\n",
  "crawled_at": "2025-05-26T00:15:50.272998",
  "readme_zh": "**工作流目的：**  \n本工作流旨在实现网站数据的自动化抓取，将其转换为结构化格式，并直接加载至Google Sheets电子表格中。\n\n**运作流程：**\n\n1. **网页抓取**：调用Jina AI服务抓取网站数据，并转换为适合大语言模型处理的文本格式。  \n2. **信息提取**：通过AI节点从抓取数据中提取特定书籍信息（书名、价格、库存状态、图片链接、商品链接）。  \n3. **数据拆分**：将提取的信息按书籍条目进行分割。  \n4. **Google Sheets集成**：将结构化书籍数据自动填入Google Sheets表格。  \n\n**分步设置指南：**\n\n1. **配置Jina AI服务**  \n   * 注册Jina AI账号并获取API密钥。  \n\n2. **设置HTTP请求节点**  \n   * 在请求地址中输入含目标网站的Jina AI服务URL。  \n   * 在请求头中添加API密钥进行身份验证。  \n\n3. **配置信息提取节点**  \n   * 使用Claude AI生成数据提取的JSON模板。  \n   * 向Claude AI上传目标网站的页面截图。  \n   * 要求Claude AI根据截图生成所需信息的JSON提取模板。  \n   * 将生成的模板复制到信息提取节点中。  \n\n4. **配置拆分节点**  \n   * 设置为按独立书籍条目分割提取的数据。  \n\n5. **设置Google Sheets节点**  \n   * 创建包含书名、价格、库存状态、图片链接、商品链接列的电子表格。  \n   * 配置节点映射关系，将提取数据对应至相应列。",
  "title_zh": "AI驱动的网页抓取：使用Jina、Google Sheets和OpenAI的简易方法",
  "publish_date_zh": "最后更新于5个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"c3ef40df-084e-435c-9a11-3aa0a2f94f36\",\n      \"name\": \"When clicking \\\"Test workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        740,\n        520\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e0583472-a450-4582-83bc-84a014bea543\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1640,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"output.results\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b8aa573d-5b63-4669-900f-bcc915b6ad41\",\n      \"name\": \"Save to Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1900,\n        520\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"availability\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"availability\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"image\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"image\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": [\n            \"Book prices\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 258629074,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit#gid=258629074\",\n          \"cachedResultName\": \"Sheet2\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Book Prices\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"GHRceL2SKjXxz0Dx\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a63c3ab3-6aab-43b2-8af6-8b00e24e0ee6\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1300,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"5oYe8Cxj7liOPAKk\",\n          \"name\": \"Derek T\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"40326966-0c46-4df2-8d80-fa014e05b693\",\n      \"name\": \"Information Extractor\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        1260,\n        520\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.data }}\",\n        \"options\": {\n          \"systemPromptTemplate\": \"You are an expert extraction algorithm.\\nOnly extract relevant information from the text.\\nIf you do not know the value of an attribute asked to extract, you may omit the attribute's value.\\nAlways output the data in a json array called results.  Each book should have a title, price, availability and product_url, image_url\"\n        },\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"results\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n          \\\"type\\\": \\\"object\\\",\\n          \\\"properties\\\": {\\n            \\\"price\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n              },\\n            \\\"title\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"image_url\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"product_url\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            },\\n            \\\"availability\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            }            \\n           }\\n      }\\n  }\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8ddca560-8da7-4090-b865-0523f95ca463\",\n      \"name\": \"Jina Fetch\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1020,\n        520\n      ],\n      \"parameters\": {\n        \"url\": \"https://r.jina.ai/http://books.toscrape.com/catalogue/category/books/historical-fiction_4/index.html\",\n        \"options\": {\n          \"allowUnauthorizedCerts\": true\n        },\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"ALBmOXmADcPmyHr1\",\n          \"name\": \"jina\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"b1745cea-fdbe-4f14-b09c-884549beac7e\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 587,\n        \"height\": 570,\n        \"content\": \"## 从这里开始：一步步YouTube教程 :star:\\n\\n[![AI驱动的网页抓取：使用n8n和Jina.ai的简易方法（无需编程！）](https://img.youtube.com/vi/f3AJYXHirr8/sddefault.jpg)](https://youtu.be/f3AJYXHirr8)\\n\\n[Google表格示例](https://docs.google.com/spreadsheets/d/1VDbfi2PpeheD2ZlO6feX3RdMeSsm0XukQlNVW8uVcuo/edit?usp=sharing)\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save to Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Jina Fetch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Information Extractor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Jina Fetch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}