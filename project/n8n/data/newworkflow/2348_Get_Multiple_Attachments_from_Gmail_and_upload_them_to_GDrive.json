{
  "url": "https://n8n.io/workflows/2348-get-multiple-attachments-from-gmail-and-upload-them-to-gdrive/",
  "title": "Get Multiple Attachments from Gmail and upload them to GDrive",
  "author": "Ria",
  "publish_date": "Last update 9 months ago",
  "publish_date_absolute": "2024-08-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"1a23006df50de49624f69e85993be557d137b6efe723a867a7d68a84e0b32704\"},\"nodes\":[{\"id\":\"3c7ae816-6ce2-4b6b-893e-75c6b8756555\",\"name\":\"Trigger - New Email\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"notes\":\"has:attachment\",\"position\":[680,300],\"parameters\":{\"simple\":false,\"filters\":{\"q\":\"has:attachment\"},\"options\":{\"downloadAttachments\":true},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]}},\"notesInFlow\":true,\"typeVersion\":1.1},{\"id\":\"b87b2211-03d3-4742-98c9-977ae4a8d581\",\"name\":\"attach binary data outputs\",\"type\":\"n8n-nodes-base.function\",\"position\":[900,300],\"parameters\":{\"functionCode\":\"let results = [];\\n\\nfor (item of items) {\\n    for (key of Object.keys(item.binary)) {\\n        results.push({\\n            json: {\\n                fileName: item.binary[key].fileName\\n            },\\n            binary: {\\n                data: item.binary[key],\\n            }\\n        });\\n    }\\n}\\n\\nreturn results;\"},\"typeVersion\":1},{\"id\":\"f8e19c97-0983-4365-bc63-179605050ef2\",\"name\":\"upload files to google drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1140,300],\"parameters\":{\"name\":\"={{ $json.fileName.split(\\\".\\\")[0] + \\\"-\\\" + $('Trigger - New Email').item.json.from.value[0].address + \\\".\\\" + $json.fileName.split(\\\".\\\")[1]}}\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"root\",\"cachedResultUrl\":\"https://drive.google.com/drive\",\"cachedResultName\":\"/ (Root folder)\"}},\"typeVersion\":3}],\"pinData\":{},\"connections\":{\"Trigger - New Email\":{\"main\":[[{\"node\":\"attach binary data outputs\",\"type\":\"main\",\"index\":0}]]},\"attach binary data outputs\":{\"main\":[[{\"node\":\"upload files to google drive\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This is a simple template to show how to extract multiple email attachments and return them as an iterable output.\n\n## How it works:\n\nThe **Gmail Trigger** node detects any new email that has attachments. The **Code** node will then extract them as binary files and attaches them to the item. They can then be uploaded via the **Google Drive** node.\n\n## Setup steps:\n\n  * add your Gmail Credentials\n  * add your Google Drive Credentials\n  * Follow the official [n8n Documentation](https://docs.n8n.io/integrations/builtin/credentials/google/) for help\n\n\n\n## Feedback & Questions\n\nIf you have any questions or feedback about this workflow - Feel free to get in touch at [ria@n8n.io](mailto:ria@n8n.io)\n",
  "crawled_at": "2025-05-25T23:34:49.856876",
  "readme_zh": "这是一个简单模板，用于演示如何提取多个电子邮件附件并将其作为可迭代输出返回。\n\n## 工作原理：\n\n**Gmail触发器**节点会检测所有带有附件的新邮件。随后**代码**节点将这些附件以二进制文件形式提取并附加到数据项中，最终可通过**Google云端硬盘**节点进行上传。\n\n## 设置步骤：\n\n  * 添加您的Gmail账号凭证\n  * 添加您的Google Drive账号凭证\n  * 配置问题可参考官方[n8n文档](https://docs.n8n.io/integrations/builtin/credentials/google/)\n\n## 反馈与疑问\n\n若对该工作流有任何问题或建议，欢迎通过[ria@n8n.io](mailto:ria@n8n.io)联系我们",
  "title_zh": "从Gmail获取多个附件并上传至Google云端硬盘",
  "publish_date_zh": "最后更新于8个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"1a23006df50de49624f69e85993be557d137b6efe723a867a7d68a84e0b32704\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"3c7ae816-6ce2-4b6b-893e-75c6b8756555\",\n      \"name\": \"Trigger - New Email\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"notes\": \"has:attachment\",\n      \"position\": [\n        680,\n        300\n      ],\n      \"parameters\": {\n        \"simple\": false,\n        \"filters\": {\n          \"q\": \"has:attachment\"\n        },\n        \"options\": {\n          \"downloadAttachments\": true\n        },\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"b87b2211-03d3-4742-98c9-977ae4a8d581\",\n      \"name\": \"attach binary data outputs\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        900,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let results = [];\\n\\nfor (item of items) {\\n    for (key of Object.keys(item.binary)) {\\n        results.push({\\n            json: {\\n                fileName: item.binary[key].fileName\\n            },\\n            binary: {\\n                data: item.binary[key],\\n            }\\n        });\\n    }\\n}\\n\\nreturn results;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8e19c97-0983-4365-bc63-179605050ef2\",\n      \"name\": \"upload files to google drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1140,\n        300\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $json.fileName.split(\\\".\\\")[0] + \\\"-\\\" + $('Trigger - New Email').item.json.from.value[0].address + \\\".\\\" + $json.fileName.split(\\\".\\\")[1]}}\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n          \"cachedResultName\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"root\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive\",\n          \"cachedResultName\": \"/ (Root folder)\"\n        }\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Trigger - New Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"attach binary data outputs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"attach binary data outputs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"upload files to google drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}