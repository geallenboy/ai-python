{
  "url": "https://n8n.io/workflows/2463-enrich-company-data-from-google-sheet-with-openai-agent-and-scrapingbee/",
  "title": "Enrich Company Data from Google Sheet with OpenAI Agent and ScrapingBee",
  "author": "Dataki",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-25",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"TfwQRZkTBtykx1rM\",\"meta\":{\"instanceId\":\"\",\"templateCredsSetupCompleted\":true},\"name\":\"Enrich Company Data from Google Sheet with OpenAI Agent and Scraper Tool\",\"tags\":[],\"nodes\":[{\"id\":\"90c02c5e-228e-478b-b06d-424dc0c4f9b9\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[1500,240],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n  \\\"Business Area\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Summary of the company's core activities or industry focus.\\\"\\n  },\\n  \\\"Offers or Product\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Summary of the company's main products or services.\\\"\\n  },\\n  \\\"Value Proposition\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Catchphrase or tagline that represents the company’s value proposition.\\\"\\n  },\\n  \\\"Business Model\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Description of the company's business model, including revenue generation, key partnerships, or unique aspects.\\\"\\n  },\\n  \\\"Ideal Customer Profile\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Description of the ideal customer profile, based on available information.\\\"\\n  },\\n  \\\"Additional Information\\\": {\\n    \\\"type\\\": \\\"object\\\",\\n    \\\"description\\\": \\\"Additional insights or actions if there is insufficient information or if the content does not match a company page.\\\",\\n    \\\"properties\\\": {\\n      \\\"Information Sufficiency\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Indicate if the information was sufficient to provide a full analysis.\\\",\\n        \\\"enum\\\": [\\\"Sufficient\\\", \\\"Insufficient\\\"]\\n      },\\n      \\\"Insufficient Details\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"If 'Insufficient', specify what information was missing or would be needed to complete the analysis.\\\",\\n        \\\"optional\\\": true\\n      },\\n      \\\"Mismatched Content\\\": {\\n        \\\"type\\\": \\\"boolean\\\",\\n        \\\"description\\\": \\\"Indicate whether the page content aligns with that of a typical company page.\\\"\\n      },\\n      \\\"Suggested Actions\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Provide recommendations if the page content is insufficient or mismatched, such as verifying the URL or searching for alternative sources.\\\",\\n        \\\"optional\\\": true\\n      }\\n    }\\n  }\\n}\\n\"},\"typeVersion\":1.2},{\"id\":\"81392d70-3b36-4014-8239-97ea1d69e522\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1240,240],\"parameters\":{\"model\":\"gpt-4o-mini\",\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":1},{\"id\":\"62d84f70-43a2-43aa-815e-56842230c9b1\",\"name\":\"Get rows from Google Sheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[660,0],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"h\",\"cachedResultName\":\"Sheet1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1B4Xv2vhO_uXcPxvMWGFwiorFQnSdXlIgXvaTcLQkzPo\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Companies to enrich list\"},\"authentication\":\"serviceAccount\"},\"credentials\":{\"googleApi\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":4.5},{\"id\":\"3b1050a8-5992-4a5b-a6a4-b91472a12dd4\",\"name\":\"Call n8n workflow  : Scrape companies homepage content\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[1380,260],\"parameters\":{\"name\":\"scraper\",\"fields\":{\"values\":[{\"name\":\"website\",\"stringValue\":\"={{ $('Get rows from Google Sheet').item.json.Website }}\"}]},\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"TfwQRZkTBtykx1rM\"},\"description\":\"Call this tool to get scraped data about a website.\\nThe query should only contains the name of the company.\"},\"typeVersion\":1.2},{\"id\":\"e451cc56-0cef-4bd8-b13e-210d5ddf3001\",\"name\":\"Update Company's Row on Google Sheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1660,-200],\"parameters\":{\"columns\":{\"value\":{\"ICP\":\"={{ $json.output['Ideal Customer Profile'] }}\",\"Offer\":\"={{ $json.output['Offers or Product'] }}\",\"row_number\":\"={{ $('Get rows from Google Sheet').item.json.row_number }}\",\"Business area\":\"={{ $json.output['Business Area'] }}\",\"Business Model\":\"={{ $json.output['Business Model'] }}\",\"Value proposition\":\"={{ $json.output['Value Proposition'] }}\",\"Additionnal information\":\"={{ $json.output['Additional Information'] }}\"},\"schema\":[{\"id\":\"Company\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Company\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Domain\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Domain\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Business area\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Business area\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Offer\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Offer\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Value proposition\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Value proposition\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Business Model\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Business Model\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"ICP\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"ICP\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Additionnal information\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Additionnal information\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"row_number\"]},\"options\":{},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Companies list\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1B4Xv2vhO_uXcPxvMWGFwiorFQnSdXlIgXvaTcLQkzPo\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Companies to enrich list\"},\"authentication\":\"serviceAccount\"},\"credentials\":{\"googleApi\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":4.5},{\"id\":\"f2f31704-3e93-4c3f-bb70-9f41d1c625a9\",\"name\":\"ScrapingBee : Scrape company's homepage data \",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1020,400],\"parameters\":{\"url\":\"https://app.scrapingbee.com/api/v1\",\"options\":{\"response\":{\"response\":{}}},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"api_key\",\"value\":\"\"},{\"name\":\"url\",\"value\":\"={{$json.url}}\"}]}},\"typeVersion\":4.2},{\"id\":\"d0180b22-8938-4590-a58a-0455ac808c68\",\"name\":\"Tool called from Agent\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[440,400],\"parameters\":{},\"typeVersion\":1},{\"id\":\"2f65dece-0236-4d45-b965-7ca705fa4621\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[960,0],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"78ae2393-3744-445a-bf28-6dab1f4a8aec\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-840,-480],\"parameters\":{\"width\":1084.896634444991,\"height\":1812.538665002239,\"content\":\"# Enrich Company Data from Google Sheet with OpenAI Scraper Agent\\n\\nThis workflow demonstrates how to enrich data from a list of companies in a spreadsheet. While this workflow is production-ready if all steps are followed, adding error handling would enhance its robustness.\\n\\n## Impportant notes\\n\\n- **Check legal regulations**: This workflow involves scraping, so make sure to check the legal regulations around scraping in your country before getting started. Better safe than sorry!\\n- **Mind those tokens**: OpenAI tokens can add up fast, so keep an eye on usage unless you want a surprising bill that could knock your socks off! 💸\\n\\n## Main Workflow\\n\\n### Node 1 - `Webhook`\\nThis node triggers the workflow via a webhook call. You can replace it with any other trigger of your choice, such as form submission, a new row added in Google Sheets, or a manual trigger.\\n\\n### Node 2 - `Get Rows from Google Sheet`\\nThis node retrieves the list of companies from your spreadsheet. The columns in this Google Sheet are:\\n\\n- **Company**: The name of the company\\n- **Website**: The website URL of the company  \\n  *These two fields are required at this step.*\\n\\n- **Business Area**: The business area deduced by OpenAI from the scraped data\\n- **Offer**: The offer deduced by OpenAI from the scraped data\\n- **Value Proposition**: The value proposition deduced by OpenAI from the scraped data\\n- **Business Model**: The business model deduced by OpenAI from the scraped data\\n- **ICP**: The Ideal Customer Profile deduced by OpenAI from the scraped data\\n- **Additional Information**: Information related to the scraped data, including:\\n  - **Information Sufficiency**:\\n    - *Description*: Indicates if the information was sufficient to provide a full analysis.\\n    - *Options*: \\\"Sufficient\\\" or \\\"Insufficient\\\"\\n  - **Insufficient Details**:\\n    - *Description*: If labeled \\\"Insufficient,\\\" specifies what information was missing or needed to complete the analysis.\\n  - **Mismatched Content**:\\n    - *Description*: Indicates whether the page content aligns with that of a typical company page.\\n  - **Suggested Actions**:\\n    - *Description*: Provides recommendations if the page content is insufficient or mismatched, such as verifying the URL or searching for alternative sources.\\n\\n### Node 3 - `Loop Over Items`\\nThis node ensures that, in subsequent steps, the website in \\\"extra workflow input\\\" corresponds to the row being processed. You can delete this node, but you'll need to ensure that the \\\"query\\\" sent to the scraping workflow corresponds to the website of the specific company being scraped (rather than just the first row).\\n\\n### Node 4 - `AI Agent`\\nThis AI agent is configured with a prompt to extract data from the content it receives. The node has three sub-nodes:\\n  \\n  - **OpenAI Chat Model**: The model used is currently `gpt4-o-mini`.\\n  - **Call n8n Workflow**: This sub-node calls the workflow to use ScrapingBee and retrieves the scraped data.\\n  - **Structured Output Parser**: This parser structures the output for clarity and ease of use, and then adds rows to the Google Sheet.\\n\\n### Node 5 - `Update Company Row in Google Sheet`\\nThis node updates the specific company's row in Google Sheets with the enriched data.\\n\\n## Scraper Agent Workflow\\n\\n### Node 1 - `Tool Called from Agent`\\nThis is the trigger for when the AI Agent calls the Scraper. A query is sent with:\\n- Company name\\n- Website (the URL of the website)\\n\\n### Node 2 - `Set Company URL`\\nThis node renames a field, which may seem trivial but is useful for performing transformations on data received from the AI Agent.\\n\\n### Node 3 - `ScrapingBee: Scrape Company's Website`\\nThis node scrapes data from the URL provided using ScrapingBee. You can use any scraper of your choice, but ScrapingBee is recommended, as it allows you to configure scraper behavior directly. Once configured, copy the provided \\\"curl\\\" command and import it into n8n.\\n\\n### Node 4 - `HTML to Markdown`\\nThis node converts the scraped HTML data to Markdown, which is then sent to OpenAI. The Markdown format generally uses fewer tokens than HTML.\\n\\n## Improving the Workflow\\nIt's always a pleasure to share workflows, but creators sometimes want to keep some magic to themselves ✨. Here are some ways you can enhance this workflow:\\n\\n- Handle potential errors\\n- Configure the scraper tool to scrape other pages on the website. Although this will cost more tokens, it can be useful (e.g., scraping \\\"Pricing\\\" or \\\"About Us\\\" pages in addition to the homepage).\\n- Instead of Google Sheets, connect directly to your CRM to enrich company data.\\n- Trigger the workflow from form submissions on your website and send the scraped data about the lead to a Slack or Teams channel.\\n\"},\"typeVersion\":1},{\"id\":\"8440fbe4-a3b3-4801-95f9-55df90c862fe\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1600,20],\"parameters\":{\"text\":\"=You'll be provided with scraped data from the homepage of a company:\\nCompany Name: {{ $json.Company }}\\nURL: {{ $json.Domain }}\\n\\nYour Objectives:\\nExtract Relevant Information:\\n\\nIdentify and summarize the company's core activities, products or services, and its business model (how it generates revenue, key partners, etc.).\\nCapture the value proposition in the form of a catchphrase or tagline from the homepage content.\\nDeduce an Ideal Customer Profile (ICP) based on the information provided (consider industry, customer needs, company positioning, etc.).\\n\\nLanguage:\\nEven if the content received is in another language, provide all responses in English.\\n\\nHandling Edge Cases:\\nIf you encounter any of the following situations, please follow the instructions below:\\n\\nInsufficient Information:\\nIf the content doesn't provide enough information to address the objectives, indicate this and list any missing information or additional data sources that could help complete the analysis.\\nNon-Corporate Page or Mismatched Content:\\nIf the page doesn't appear to belong to a company or the content is irrelevant, provide an explanation of why it doesn’t align with expectations.\\nOffer potential actions, such as confirming the URL, suggesting alternative methods to verify the company’s homepage, or advising on additional keywords or content to refine the search.\\nAdditional Considerations:\\nIf multiple languages are detected in the content, please prioritize the English content, then proceed with any additional languages if they provide further insight.\\nIf the homepage features sections related to awards, partnerships, or certifications, include them as they can enrich the ICP and value proposition analysis.\\nIf the homepage mentions customer testimonials or case studies, summarize any key points, as these can also inform the ICP and business model.\",\"options\":{},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.6},{\"id\":\"bf1987fb-ce72-47c1-a020-6ec41e8731e3\",\"name\":\"Set company url\",\"type\":\"n8n-nodes-base.set\",\"position\":[760,400],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7ea9933b-5972-4623-9c97-eecf1ce0479d\",\"name\":\"url\",\"type\":\"string\",\"value\":\"={{$json.website}}\"}]}},\"typeVersion\":3.4},{\"id\":\"f0a86878-8db1-4761-a135-9d7a3caac288\",\"name\":\"HTML to Markdown\",\"type\":\"n8n-nodes-base.markdown\",\"position\":[1360,400],\"parameters\":{\"html\":\"={{ $json.data }}\",\"options\":{},\"destinationKey\":\"response\"},\"typeVersion\":1},{\"id\":\"f53b19c5-dcb9-4239-8be8-122a9e479a55\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[300,0],\"webhookId\":\"\",\"parameters\":{\"path\":\"53166f88-c88a-4429-b6b5-498f458686b0\",\"options\":{}},\"typeVersion\":2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"b65befae-2660-43f1-a425-26582a3a248f\",\"connections\":{\"Webhook\":{\"main\":[[{\"node\":\"Get rows from Google Sheet\",\"type\":\"main\",\"index\":0}]]},\"AI Agent\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[{\"node\":\"Update Company's Row on Google Sheet\",\"type\":\"main\",\"index\":0}],[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Set company url\":{\"main\":[[{\"node\":\"ScrapingBee : Scrape company's homepage data \",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Tool called from Agent\":{\"main\":[[{\"node\":\"Set company url\",\"type\":\"main\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"AI Agent\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Get rows from Google Sheet\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"ScrapingBee : Scrape company's homepage data \":{\"main\":[[{\"node\":\"HTML to Markdown\",\"type\":\"main\",\"index\":0}]]},\"Call n8n workflow  : Scrape companies homepage content\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]}}}",
  "readme": "This workflow demonstrates how to enrich data from a list of companies in a spreadsheet. While this workflow is production-ready if all steps are followed, adding error handling would enhance its robustness.\n\n## Important notes\n\n  * **Check legal regulations** : This workflow involves scraping, so make sure to check the legal regulations around scraping in your country before getting started. Better safe than sorry!\n  * **Mind those tokens** : OpenAI tokens can add up fast, so keep an eye on usage unless you want a surprising bill that could knock your socks off! 💸\n\n\n\n## Main Workflow\n\n### Node 1 - `Webhook`\n\nThis node triggers the workflow via a webhook call. You can replace it with any other trigger of your choice, such as form submission, a new row added in Google Sheets, or a manual trigger.\n\n### Node 2 - `Get Rows from Google Sheet`\n\nThis node retrieves the list of companies from your spreadsheet.  \nhere is the **[Google Sheet Template you can use](https://docs.google.com/spreadsheets/d/1AIzJGxdMmwMDuHyRqGyX-E0QYbyxWKlSMn-awlHH19s/)**.  \nThe columns in this Google Sheet are:\n\n  * **Company** : The name of the company\n\n  * **Website** : The website URL of the company  \n_These two fields are required at this step._\n\n  * **Business Area** : The business area deduced by OpenAI from the scraped data\n\n  * **Offer** : The offer deduced by OpenAI from the scraped data\n\n  * **Value Proposition** : The value proposition deduced by OpenAI from the scraped data\n\n  * **Business Model** : The business model deduced by OpenAI from the scraped data\n\n  * **ICP** : The Ideal Customer Profile deduced by OpenAI from the scraped data\n\n  * **Additional Information** : Information related to the scraped data, including:\n\n    * **Information Sufficiency** : \n      * _Description_ : Indicates if the information was sufficient to provide a full analysis.\n      * _Options_ : \"Sufficient\" or \"Insufficient\"\n    * **Insufficient Details** : \n      * _Description_ : If labeled \"Insufficient,\" specifies what information was missing or needed to complete the analysis.\n    * **Mismatched Content** : \n      * _Description_ : Indicates whether the page content aligns with that of a typical company page.\n    * **Suggested Actions** : \n      * _Description_ : Provides recommendations if the page content is insufficient or mismatched, such as verifying the URL or searching for alternative sources.\n\n\n\n### Node 3 - `Loop Over Items`\n\nThis node ensures that, in subsequent steps, the website in \"extra workflow input\" corresponds to the row being processed. You can delete this node, but you'll need to ensure that the \"query\" sent to the scraping workflow corresponds to the website of the specific company being scraped (rather than just the first row).\n\n### Node 4 - `AI Agent`\n\nThis AI agent is configured with a prompt to extract data from the content it receives. The node has three sub-nodes:\n\n  * **OpenAI Chat Model** : The model used is currently `gpt4-o-mini`.\n  * **Call n8n Workflow** : This sub-node calls the workflow to use ScrapingBee and retrieves the scraped data.\n  * **Structured Output Parser** : This parser structures the output for clarity and ease of use, and then adds rows to the Google Sheet.\n\n\n\n### Node 5 - `Update Company Row in Google Sheet`\n\nThis node updates the specific company's row in Google Sheets with the enriched data.\n\n## Scraper Agent Workflow\n\n### Node 1 - `Tool Called from Agent`\n\nThis is the trigger for when the AI Agent calls the Scraper. A query is sent with:\n\n  * Company name\n  * Website (the URL of the website)\n\n\n\n### Node 2 - `Set Company URL`\n\nThis node renames a field, which may seem trivial but is useful for performing transformations on data received from the AI Agent.\n\n### Node 3 - `ScrapingBee: Scrape Company's Website`\n\nThis node scrapes data from the URL provided using ScrapingBee. You can use any scraper of your choice, but ScrapingBee is recommended, as it allows you to configure scraper behavior directly. Once configured, copy the provided \"curl\" command and import it into n8n.\n\n### Node 4 - `HTML to Markdown`\n\nThis node converts the scraped HTML data to Markdown, which is then sent to OpenAI. The Markdown format generally uses fewer tokens than HTML.\n\n## Improving the Workflow\n\nIt's always a pleasure to share workflows, but creators sometimes want to keep some magic to themselves ✨. Here are some ways you can enhance this workflow:\n\n  * Handle potential errors\n  * Configure the scraper tool to scrape other pages on the website. Although this will cost more tokens, it can be useful (e.g., scraping \"Pricing\" or \"About Us\" pages in addition to the homepage).\n  * Instead of Google Sheets, connect directly to your CRM to enrich company data.\n  * Trigger the workflow from form submissions on your website and send the scraped data about the lead to a Slack or Teams channel.\n\n\n",
  "crawled_at": "2025-05-25T23:58:03.804233",
  "readme_zh": "该工作流演示了如何对电子表格中的公司列表数据进行丰富处理。虽然按照所有步骤操作即可投入生产使用，但添加错误处理功能将进一步提升其稳健性。\n\n## 重要注意事项\n\n* **遵守法律法规**：本工作流涉及网络爬取，开始前请务必确认所在国家/地区关于网络爬取的法律规定。谨慎行事总比事后追悔好！\n* **注意令牌消耗**：OpenAI令牌会快速累积，请密切监控使用量，除非你想收到一份惊掉下巴的账单！💸\n\n## 主工作流\n\n### 节点1 - `Webhook`\n通过webhook调用触发工作流。可替换为表单提交、Google Sheets新增行或手动触发等其他触发器。\n\n### 节点2 - `从Google表格获取行数据`\n从电子表格获取公司列表。  \n推荐使用**[此Google表格模板](https://docs.google.com/spreadsheets/d/1AIzJGxdMmwMDuHyRqGyX-E0QYbyxWKlSMn-awlHH19s/)**  \n表格包含以下列：\n\n* **公司名称**（必填）\n* **官网网址**（必填）  \n* **业务领域**：由OpenAI根据爬取数据推断\n* **产品服务**：由OpenAI根据爬取数据推断\n* **价值主张**：由OpenAI根据爬取数据推断\n* **商业模式**：由OpenAI根据爬取数据推断\n* **理想客户画像**：由OpenAI根据爬取数据推断\n* **附加信息**：\n  * **信息完整性**：\n    * _说明_：标注\"完整\"或\"不完整\"\n  * **缺失详情**：\n    * _说明_：标注\"不完整\"时需说明缺失内容\n  * **内容匹配度**：\n    * _说明_：页面内容是否符合典型公司页面特征\n  * **建议操作**：\n    * _说明_：针对内容不完整/不匹配的情况提供解决方案（如验证URL或寻找替代来源）\n\n### 节点3 - `循环处理条目`\n确保后续步骤中\"额外工作流输入\"的网址与当前处理行匹配。删除此节点需手动保证发送给爬取工作流的\"查询\"参数对应具体公司网址（而非首行数据）。\n\n### 节点4 - `AI智能体`\n配置了数据提取提示词的AI模块，包含三个子节点：\n* **OpenAI聊天模型**：当前使用`gpt4-o-mini`版本\n* **调用n8n工作流**：调用ScrapingBee爬取工作流\n* **结构化输出解析器**：将输出结构化后写入Google表格\n\n### 节点5 - `更新Google表格行数据`\n将丰富后的数据更新至对应公司的表格行。\n\n## 爬取智能体工作流\n\n### 节点1 - `智能体调用工具`\nAI智能体触发爬取工具时传入：\n* 公司名称\n* 官网网址\n\n### 节点2 - `设置公司URL`\n重命名字段（看似简单但便于对AI智能体接收数据进行转换）\n\n### 节点3 - `ScrapingBee: 爬取公司网站`\n使用ScrapingBee爬取指定URL数据。推荐使用该工具（可直接配置爬取行为），将生成的\"curl\"命令导入n8n即可。\n\n### 节点4 - `HTML转Markdown`\n将HTML数据转换为Markdown格式后发送给OpenAI（Markdown通常比HTML更节省令牌）。\n\n## 优化建议\n虽然创作者总会保留些独门技巧✨，但您可以通过以下方式增强本工作流：\n* 增加错误处理机制\n* 配置爬虫工具抓取网站其他页面（如\"定价\"或\"关于我们\"页，虽会增加令牌消耗但更有价值）\n* 改用CRM系统直接丰富公司数据（替代Google Sheets）\n* 通过网站表单提交触发工作流，并将潜在客户爬取数据发送至Slack/Teams频道",
  "title_zh": "利用OpenAI代理和ScrapingBee丰富来自Google表格的公司数据",
  "publish_date_zh": "最后更新于5个月前",
  "workflow_json_zh": "{\n  \"id\": \"TfwQRZkTBtykx1rM\",\n  \"meta\": {\n    \"instanceId\": \"\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Enrich Company Data from Google Sheet with OpenAI Agent and Scraper Tool\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"90c02c5e-228e-478b-b06d-424dc0c4f9b9\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1500,\n        240\n      ],\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"Business Area\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Summary of the company's core activities or industry focus.\\\"\\n  },\\n  \\\"Offers or Product\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Summary of the company's main products or services.\\\"\\n  },\\n  \\\"Value Proposition\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Catchphrase or tagline that represents the company’s value proposition.\\\"\\n  },\\n  \\\"Business Model\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Description of the company's business model, including revenue generation, key partnerships, or unique aspects.\\\"\\n  },\\n  \\\"Ideal Customer Profile\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n    \\\"description\\\": \\\"Description of the ideal customer profile, based on available information.\\\"\\n  },\\n  \\\"Additional Information\\\": {\\n    \\\"type\\\": \\\"object\\\",\\n    \\\"description\\\": \\\"Additional insights or actions if there is insufficient information or if the content does not match a company page.\\\",\\n    \\\"properties\\\": {\\n      \\\"Information Sufficiency\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Indicate if the information was sufficient to provide a full analysis.\\\",\\n        \\\"enum\\\": [\\\"Sufficient\\\", \\\"Insufficient\\\"]\\n      },\\n      \\\"Insufficient Details\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"If 'Insufficient', specify what information was missing or would be needed to complete the analysis.\\\",\\n        \\\"optional\\\": true\\n      },\\n      \\\"Mismatched Content\\\": {\\n        \\\"type\\\": \\\"boolean\\\",\\n        \\\"description\\\": \\\"Indicate whether the page content aligns with that of a typical company page.\\\"\\n      },\\n      \\\"Suggested Actions\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Provide recommendations if the page content is insufficient or mismatched, such as verifying the URL or searching for alternative sources.\\\",\\n        \\\"optional\\\": true\\n      }\\n    }\\n  }\\n}\\n\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"81392d70-3b36-4014-8239-97ea1d69e522\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1240,\n        240\n      ],\n      \"parameters\": {\n        \"model\": \"gpt-4o-mini\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"62d84f70-43a2-43aa-815e-56842230c9b1\",\n      \"name\": \"Get rows from Google Sheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        660,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"h\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1B4Xv2vhO_uXcPxvMWGFwiorFQnSdXlIgXvaTcLQkzPo\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Companies to enrich list\"\n        },\n        \"authentication\": \"serviceAccount\"\n      },\n      \"credentials\": {\n        \"googleApi\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"3b1050a8-5992-4a5b-a6a4-b91472a12dd4\",\n      \"name\": \"Call n8n workflow  : Scrape companies homepage content\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        1380,\n        260\n      ],\n      \"parameters\": {\n        \"name\": \"scraper\",\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"website\",\n              \"stringValue\": \"={{ $('Get rows from Google Sheet').item.json.Website }}\"\n            }\n          ]\n        },\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"TfwQRZkTBtykx1rM\"\n        },\n        \"description\": \"Call this tool to get scraped data about a website.\\nThe query should only contains the name of the company.\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e451cc56-0cef-4bd8-b13e-210d5ddf3001\",\n      \"name\": \"Update Company's Row on Google Sheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1660,\n        -200\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"ICP\": \"={{ $json.output['Ideal Customer Profile'] }}\",\n            \"Offer\": \"={{ $json.output['Offers or Product'] }}\",\n            \"row_number\": \"={{ $('Get rows from Google Sheet').item.json.row_number }}\",\n            \"Business area\": \"={{ $json.output['Business Area'] }}\",\n            \"Business Model\": \"={{ $json.output['Business Model'] }}\",\n            \"Value proposition\": \"={{ $json.output['Value Proposition'] }}\",\n            \"Additionnal information\": \"={{ $json.output['Additional Information'] }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Company\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Company\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Domain\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Domain\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Business area\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Business area\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Offer\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Offer\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Value proposition\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Value proposition\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Business Model\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Business Model\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"ICP\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"ICP\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Additionnal information\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Additionnal information\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"row_number\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Companies list\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1B4Xv2vhO_uXcPxvMWGFwiorFQnSdXlIgXvaTcLQkzPo\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Companies to enrich list\"\n        },\n        \"authentication\": \"serviceAccount\"\n      },\n      \"credentials\": {\n        \"googleApi\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"f2f31704-3e93-4c3f-bb70-9f41d1c625a9\",\n      \"name\": \"ScrapingBee : Scrape company's homepage data \",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1020,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://app.scrapingbee.com/api/v1\",\n        \"options\": {\n          \"response\": {\n            \"response\": {}\n          }\n        },\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"api_key\",\n              \"value\": \"\"\n            },\n            {\n              \"name\": \"url\",\n              \"value\": \"={{$json.url}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"d0180b22-8938-4590-a58a-0455ac808c68\",\n      \"name\": \"Tool called from Agent\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        440,\n        400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2f65dece-0236-4d45-b965-7ca705fa4621\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        960,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"78ae2393-3744-445a-bf28-6dab1f4a8aec\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -840,\n        -480\n      ],\n      \"parameters\": {\n        \"width\": 1084.896634444991,\n        \"height\": 1812.538665002239,\n        \"content\": \"# 使用OpenAI爬虫代理丰富谷歌表格中的公司数据\\n\\n本工作流演示了如何对电子表格中的公司列表进行数据丰富处理。虽然按照所有步骤操作即可投入生产使用，但添加错误处理功能将增强其稳健性。\\n\\n## 重要注意事项\\n\\n- **遵守法律法规**：本工作流涉及网络爬取，开始前请务必确认所在国家/地区关于网络爬取的法律规定。谨慎行事总比事后懊悔好！\\n- **注意令牌消耗**：OpenAI令牌可能快速累积，请密切监控使用量，除非您想收到令人震惊的账单！💸\\n\\n## 主工作流\\n\\n### 节点1 - `Webhook`\\n该节点通过webhook调用触发工作流。您可将其替换为任意其他触发器，如表单提交、谷歌表格新增行或手动触发。\\n\\n### 节点2 - `从谷歌表格获取行数据`\\n该节点从电子表格获取公司列表。谷歌表格包含以下列：\\n\\n- **公司**：公司名称\\n- **网站**：公司网址  \\n  *这两个字段是本步骤的必填项*\\n\\n- **业务领域**：由OpenAI从爬取数据推断得出\\n- **产品服务**：由OpenAI从爬取数据推断得出\\n- **价值主张**：由OpenAI从爬取数据推断得出\\n- **商业模式**：由OpenAI从爬取数据推断得出\\n- **理想客户画像**：由OpenAI从爬取数据推断得出\\n- **附加信息**：与爬取数据相关的信息，包括：\\n  - **信息充分性**：\\n    - *说明*：标识信息是否足以完成全面分析\\n    - *选项*：\\\"充足\\\"或\\\"不足\\\"\\n  - **缺失细节**：\\n    - *说明*：若标记为\\\"不足\\\"，则说明缺失哪些关键信息\\n  - **内容匹配度**：\\n    - *说明*：标识页面内容是否符合典型公司页面特征\\n  - **建议操作**：\\n    - *说明*：当内容不足或匹配度低时提供建议，如验证URL或寻找替代信息来源\\n\\n### 节点3 - `循环处理条目`\\n该节点确保后续步骤中\\\"额外工作流输入\\\"的网站与当前处理行对应。删除此节点时需确保发送给爬取工作流的\\\"查询\\\"参数与特定被爬取公司网站匹配（而非仅首行数据）。\\n\\n### 节点4 - `AI代理`\\n该AI代理配置了从接收内容提取数据的提示语。包含三个子节点：\\n  \\n  - **OpenAI聊天模型**：当前使用`gpt4-o-mini`模型\\n  - **调用n8n工作流**：该子节点调用ScrapingBee进行数据爬取\\n  - **结构化输出解析器**：将输出结构化以便清晰使用，并将结果写入谷歌表格\\n\\n### 节点5 - `更新谷歌表格中的公司行`\\n该节点将丰富后的数据更新至谷歌表格中对应公司行\\n\\n## 爬虫代理工作流\\n\\n### 节点1 - `代理调用工具`\\n当AI代理调用爬虫时的触发器。发送查询包含：\\n- 公司名称\\n- 网站URL\\n\\n### 节点2 - `设置公司URL`\\n该节点重命名字段，虽看似简单但对转换AI代理接收的数据很有用\\n\\n### 节点3 - `ScrapingBee：爬取公司网站`\\n该节点使用ScrapingBee爬取指定URL数据。您可选择任意爬虫工具，但推荐ScrapingBee因其支持直接配置爬取行为。配置完成后复制\\\"curl\\\"命令导入n8n即可\\n\\n### 节点4 - `HTML转Markdown`\\n将爬取的HTML数据转为Markdown格式后发送给OpenAI。Markdown格式通常比HTML消耗更少令牌\\n\\n## 工作流优化建议\\n分享工作流总是令人愉快，但创作者有时想保留些独门技巧 ✨。以下优化建议：\\n\\n- 增加错误处理机制\\n- 配置爬虫工具抓取网站其他页面（如\\\"定价\\\"或\\\"关于我们\\\"页），虽然会增加令牌消耗但能获取更全面信息\\n- 替代谷歌表格，直接连接CRM系统丰富公司数据\\n- 通过网站表单提交触发工作流，并将潜在客户爬取数据发送至Slack或Teams频道\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8440fbe4-a3b3-4801-95f9-55df90c862fe\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1600,\n        20\n      ],\n      \"parameters\": {\n        \"text\": \"=You'll be provided with scraped data from the homepage of a company:\\nCompany Name: {{ $json.Company }}\\nURL: {{ $json.Domain }}\\n\\nYour Objectives:\\nExtract Relevant Information:\\n\\nIdentify and summarize the company's core activities, products or services, and its business model (how it generates revenue, key partners, etc.).\\nCapture the value proposition in the form of a catchphrase or tagline from the homepage content.\\nDeduce an Ideal Customer Profile (ICP) based on the information provided (consider industry, customer needs, company positioning, etc.).\\n\\nLanguage:\\nEven if the content received is in another language, provide all responses in English.\\n\\nHandling Edge Cases:\\nIf you encounter any of the following situations, please follow the instructions below:\\n\\nInsufficient Information:\\nIf the content doesn't provide enough information to address the objectives, indicate this and list any missing information or additional data sources that could help complete the analysis.\\nNon-Corporate Page or Mismatched Content:\\nIf the page doesn't appear to belong to a company or the content is irrelevant, provide an explanation of why it doesn’t align with expectations.\\nOffer potential actions, such as confirming the URL, suggesting alternative methods to verify the company’s homepage, or advising on additional keywords or content to refine the search.\\nAdditional Considerations:\\nIf multiple languages are detected in the content, please prioritize the English content, then proceed with any additional languages if they provide further insight.\\nIf the homepage features sections related to awards, partnerships, or certifications, include them as they can enrich the ICP and value proposition analysis.\\nIf the homepage mentions customer testimonials or case studies, summarize any key points, as these can also inform the ICP and business model.\",\n        \"options\": {},\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"bf1987fb-ce72-47c1-a020-6ec41e8731e3\",\n      \"name\": \"Set company url\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        760,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7ea9933b-5972-4623-9c97-eecf1ce0479d\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.website}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"f0a86878-8db1-4761-a135-9d7a3caac288\",\n      \"name\": \"HTML to Markdown\",\n      \"type\": \"n8n-nodes-base.markdown\",\n      \"position\": [\n        1360,\n        400\n      ],\n      \"parameters\": {\n        \"html\": \"={{ $json.data }}\",\n        \"options\": {},\n        \"destinationKey\": \"response\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f53b19c5-dcb9-4239-8be8-122a9e479a55\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        300,\n        0\n      ],\n      \"webhookId\": \"\",\n      \"parameters\": {\n        \"path\": \"53166f88-c88a-4429-b6b5-498f458686b0\",\n        \"options\": {}\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"b65befae-2660-43f1-a425-26582a3a248f\",\n  \"connections\": {\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get rows from Google Sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Company's Row on Google Sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set company url\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ScrapingBee : Scrape company's homepage data \",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Tool called from Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set company url\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get rows from Google Sheet\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ScrapingBee : Scrape company's homepage data \": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML to Markdown\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Call n8n workflow  : Scrape companies homepage content\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}