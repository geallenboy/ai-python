{
  "url": "https://n8n.io/workflows/4091-automate-spam-filtering-with-gpt-4-and-gmail/",
  "title": "Automate Spam Filtering with GPT-4 & Gmail",
  "author": "LukaszB",
  "publish_date": "Last update 9 days ago",
  "publish_date_absolute": "2025-05-17",
  "categories": [
    {
      "name": "Other"
    },
    {
      "name": "Support"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"3QJW0AkGeIq3ofcC\",\"meta\":{\"instanceId\":\"740c1df6d3b1b6ea8a9d2223701f6904173f9e3cf7381cd181644b043420ba09\",\"templateCredsSetupCompleted\":true},\"name\":\"Auto Spam & Marketing Email Killer\",\"tags\":[],\"nodes\":[{\"id\":\"83cad1fb-1c94-4fa6-abc6-fc9084e84b8a\",\"name\":\"Gmail Trigger\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"position\":[-80,60],\"parameters\":{\"filters\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyHour\"}]}},\"credentials\":{\"gmailOAuth2\":{\"id\":\"ECavbdGSgi3lNgZG\",\"name\":\"Gmail account 2\"}},\"typeVersion\":1.2},{\"id\":\"38c3a768-5152-4377-9fa7-065e58233ef2\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[160,280],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4.1-nano\",\"cachedResultName\":\"gpt-4.1-nano\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"69YTGxdIPy79gAdh\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"4acc776b-0554-4a74-b10a-5307ee14fee2\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[520,60],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"3fa478cd-9476-4a10-b039-1e537b838b31\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.output }}\",\"rightValue\":\"SPAM\"},{\"id\":\"82bafdff-daed-4791-8dd0-dae981c0ee43\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.output }}\",\"rightValue\":\"OFERTA\"}]}},\"typeVersion\":2.2},{\"id\":\"a2440f83-73b8-4757-90cf-c0f4d269eb9b\",\"name\":\"Validator of Email\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[160,60],\"parameters\":{\"text\":\"=Your email too check:\\n {{ $json.snippet }}\",\"options\":{\"systemMessage\":\"=You are an intelligent assistant for analyzing and classifying email messages or contact forms.\\n\\nYour task is to carefully evaluate whether the message contains valuable information, or whether it is a standard marketing message with no real value to the recipient.\\n\\nWe distinguish three classes:\\n\\nSPAM – bulk messages, low-quality content, random text, scams, phishing, etc.\\n\\nOFFER – commercial or marketing messages that promote something but do not contain important information for the user, e.g.:\\n\\nDiscount coupons\\n\\nPromotion or sale notifications\\n\\nAbandoned cart reminders\\n\\nEncouragement to sign up, download, or buy\\n\\nCold emails and collaboration offers\\n\\nIMPORTANT – messages containing valuable or relevant information for the recipient, even if commercial in nature, e.g.:\\n\\nOrder or payment confirmation\\n\\nShipping or delivery status updates\\n\\nMessage from a specific person with a question or request\\n\\nPersonal matters, invitations, inquiries\\n\\nRules:\\n\\nIf you're unsure, better to classify as IMPORTANT.\\n\\nFocus on the message content, do not judge by the email address or headers.\\n\\nRespond with only one word: SPAM, OFFER, or IMPORTANT.\\n\\nExamples:\\n\\nMessage:\\n“Your order #14235 has been shipped. Estimated delivery: Thursday.”\\nAnswer: IMPORTANT\\n📌 This is relevant information for the user – do not remove.\\n\\nMessage:\\n“You left something in your cart! Only today –15% off your purchase!”\\nAnswer: OFFER\\n📌 Typical marketing reminder, no actual value.\\n\\nMessage:\\n“Hi, we noticed you didn’t download our free e-book. Download now to discover 10 ways to boost sales.”\\nAnswer: OFFER\\n📌 Marketing prompt, lacks valuable content.\\n\\nMessage:\\n“Attached is the invoice for the service completed last month. Please contact me with any questions.”\\nAnswer: IMPORTANT\\n📌 Invoice = important message.\\n\\nMessage:\\n“Today only! Free shipping and discounts up to 30% in our store!”\\nAnswer: OFFER\\n📌 Promotion, typical sales message.\\n\\nMessage:\\n“Hi, I saw your listing online and I’m interested in working with you. Can we talk by phone?”\\nAnswer: IMPORTANT\\n📌 Message from a real person = potential lead.\\n\\nMessage:\\n“Win a new iPhone! Click here to claim your prize!”\\nAnswer: SPAM\\n📌 No need to explain – scam/spam.\\n\\nMessage:\\n“I’d like to ask if you offer individual training sessions?”\\nAnswer: IMPORTANT\\n📌 A real inquiry from a potential customer.\\n\\nMessage:\\n“Register now for free 7-day access to XYZ tool.”\\nAnswer: OFFER\\n📌 Advertising offer, not inherently important.\"},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"77b25fbd-4093-48d1-9230-6a765d60b928\",\"name\":\"Delate Email\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[760,60],\"webhookId\":\"8c6da755-63e5-43e6-a22b-c189a72e7e7b\",\"parameters\":{\"messageId\":\"={{ $('Gmail Trigger').item.json.id }}\",\"operation\":\"delete\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"ECavbdGSgi3lNgZG\",\"name\":\"Gmail account 2\"}},\"typeVersion\":2.1},{\"id\":\"a994bc19-d3fd-43b0-8612-bb9dfdceff08\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,40],\"parameters\":{\"width\":560,\"height\":660,\"content\":\"## 🧹 Auto Spam & Marketing Email Killer\\n\\nTired of promotional clutter in your inbox?  \\nThis AI-powered n8n workflow automatically scans your Gmail inbox every hour, analyzes incoming messages using GPT-4, and deletes unwanted emails labeled as **SPAM** or **OFERR**.\\n\\n### 🔍 What it does\\n- Triggers on new Gmail messages\\n- Uses OpenAI to classify the message as: `IMPORTANT`, `OFFER`, or `SPAM`\\n- Deletes emails marked as `SPAM` or `OFFER`\\n- Keeps important messages like order confirmations, invoices, and personal inquiries\\n\\n### 🤖 Built-in Intelligence\\nThe AI agent is trained with 9 real examples to ensure precise classification of marketing emails, phishing, cold outreach, and more.\\n\\n### 📦 Ideal for:\\n- Solopreneurs\\n- Business inboxes\\n- Clean-inbox enthusiasts\\n\\nSet it once, and enjoy a distraction-free email experience.\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"0bbcd957-fdb2-4d3d-ac6b-f25903bbe301\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"Delate Email\",\"type\":\"main\",\"index\":0}]]},\"Gmail Trigger\":{\"main\":[[{\"node\":\"Validator of Email\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Validator of Email\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Validator of Email\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Auto Spam & Marketing Email Killer – Fully Automated Inbox Cleaner\n\nThis workflow is perfect for professionals, solopreneurs, and teams who want to keep their Gmail inbox clean and focused by automatically removing irrelevant marketing emails and spam. Its core goal is to identify and delete low-value content while preserving important messages — without any manual filtering.\n\nNo more digging through promo tabs, chasing shipping updates, or missing client messages. This intelligent, AI-powered flow handles your inbox clutter so you can focus on what matters.\n\n## Workflow Capabilities\n\n  * **AI Classification** – Uses GPT-4 to intelligently label each incoming email as `IMPORTANT`, `OFFER`, or `SPAM`.\n  * **Smart Filtering** – Instantly deletes messages marked as `OFFER` (e.g., discounts, cold outreach) or `SPAM` (e.g., scams, mass mailings).\n  * **Safety Logic** – Preserves emails with potential business value, order info, or direct inquiries by default.\n  * **Hourly Trigger** – Scans your inbox automatically every hour — no action required.\n  * **Polish-Language Prompt** – Designed with a native-level prompt and real examples for high classification accuracy.\n\n\n\n## How It Works\n\nEvery hour, the workflow checks your Gmail inbox for new messages.  \nIt sends the message snippet to a GPT-4 agent that evaluates the content.  \nBased on predefined logic, the message is marked as either `IMPORTANT`, `OFFER`, or `SPAM`.  \nIf it’s `OFFER` or `SPAM`, it gets deleted immediately.  \nIf it’s `IMPORTANT`, it stays in your inbox untouched.\n\n## Easy Setup Steps\n\n  * Connect your Gmail account using OAuth2 credentials.\n  * Add your OpenAI API Key for GPT-4 access.\n  * Activate the workflow and let it run automatically.\n  * _(Optional)_ Customize prompt rules or add logging via Google Sheets for backup.\n\n\n\n## Declutter your inbox. Automate email hygiene.\n\nKeep what matters — delete the rest.\n",
  "crawled_at": "2025-05-26T06:39:01.878647",
  "readme_zh": "# 自动垃圾邮件与营销邮件清理器——全自动收件箱净化工具\n\n本工作流专为职场人士、个体创业者和团队设计，通过自动清除无关营销邮件和垃圾信息，让Gmail收件箱保持清爽高效。其核心目标是智能识别并删除低价值内容，同时保留重要邮件——全程无需人工筛选。\n\n从此告别促销邮件堆、物流更新追踪和客户消息遗漏的烦恼。这套AI驱动的智能流程将为您打理收件箱杂务，助您专注核心事务。\n\n## 核心功能\n\n* **AI智能分类** - 采用GPT-4技术为每封邮件智能标注`重要邮件`、`促销信息`或`垃圾邮件`三类标签\n* **精准过滤** - 即时删除标记为`促销信息`（如折扣广告、陌生推销）或`垃圾邮件`（如诈骗邮件、群发内容）\n* **安全逻辑** - 默认保留含潜在商业价值、订单信息或直接询盘的邮件\n* **每小时自动运行** - 全天候自动扫描收件箱，零操作维护\n* **波兰语优化指令** - 采用母语级指令模板与真实案例库，确保分类准确率\n\n## 运作原理\n\n系统每小时自动扫描Gmail收件箱的新邮件  \n将邮件摘要发送至GPT-4智能代理进行内容评估  \n根据预设逻辑将邮件标记为`重要邮件`/`促销信息`/`垃圾邮件`  \n若为后两类则立即删除  \n重要邮件则原样保留在收件箱\n\n## 简易设置步骤\n\n* 使用OAuth2凭证连接您的Gmail账户\n* 添加OpenAI API密钥以调用GPT-4\n* 激活工作流即可自动运行\n* （可选）自定义指令规则或通过Google表格添加日志备份\n\n## 净化收件箱空间 自动化邮件管理\n\n保留真正重要的，其余一键清除",
  "title_zh": "利用GPT-4与Gmail实现垃圾邮件自动过滤",
  "publish_date_zh": "最后更新于2天前",
  "workflow_json_zh": "{\n  \"id\": \"3QJW0AkGeIq3ofcC\",\n  \"meta\": {\n    \"instanceId\": \"740c1df6d3b1b6ea8a9d2223701f6904173f9e3cf7381cd181644b043420ba09\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Auto Spam & Marketing Email Killer\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"83cad1fb-1c94-4fa6-abc6-fc9084e84b8a\",\n      \"name\": \"Gmail Trigger\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        -80,\n        60\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyHour\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"ECavbdGSgi3lNgZG\",\n          \"name\": \"Gmail account 2\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"38c3a768-5152-4377-9fa7-065e58233ef2\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        160,\n        280\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4.1-nano\",\n          \"cachedResultName\": \"gpt-4.1-nano\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"69YTGxdIPy79gAdh\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"4acc776b-0554-4a74-b10a-5307ee14fee2\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        520,\n        60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"3fa478cd-9476-4a10-b039-1e537b838b31\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.output }}\",\n              \"rightValue\": \"SPAM\"\n            },\n            {\n              \"id\": \"82bafdff-daed-4791-8dd0-dae981c0ee43\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.output }}\",\n              \"rightValue\": \"OFERTA\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a2440f83-73b8-4757-90cf-c0f4d269eb9b\",\n      \"name\": \"Validator of Email\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        160,\n        60\n      ],\n      \"parameters\": {\n        \"text\": \"=Your email too check:\\n {{ $json.snippet }}\",\n        \"options\": {\n          \"systemMessage\": \"=You are an intelligent assistant for analyzing and classifying email messages or contact forms.\\n\\nYour task is to carefully evaluate whether the message contains valuable information, or whether it is a standard marketing message with no real value to the recipient.\\n\\nWe distinguish three classes:\\n\\nSPAM – bulk messages, low-quality content, random text, scams, phishing, etc.\\n\\nOFFER – commercial or marketing messages that promote something but do not contain important information for the user, e.g.:\\n\\nDiscount coupons\\n\\nPromotion or sale notifications\\n\\nAbandoned cart reminders\\n\\nEncouragement to sign up, download, or buy\\n\\nCold emails and collaboration offers\\n\\nIMPORTANT – messages containing valuable or relevant information for the recipient, even if commercial in nature, e.g.:\\n\\nOrder or payment confirmation\\n\\nShipping or delivery status updates\\n\\nMessage from a specific person with a question or request\\n\\nPersonal matters, invitations, inquiries\\n\\nRules:\\n\\nIf you're unsure, better to classify as IMPORTANT.\\n\\nFocus on the message content, do not judge by the email address or headers.\\n\\nRespond with only one word: SPAM, OFFER, or IMPORTANT.\\n\\nExamples:\\n\\nMessage:\\n“Your order #14235 has been shipped. Estimated delivery: Thursday.”\\nAnswer: IMPORTANT\\n📌 This is relevant information for the user – do not remove.\\n\\nMessage:\\n“You left something in your cart! Only today –15% off your purchase!”\\nAnswer: OFFER\\n📌 Typical marketing reminder, no actual value.\\n\\nMessage:\\n“Hi, we noticed you didn’t download our free e-book. Download now to discover 10 ways to boost sales.”\\nAnswer: OFFER\\n📌 Marketing prompt, lacks valuable content.\\n\\nMessage:\\n“Attached is the invoice for the service completed last month. Please contact me with any questions.”\\nAnswer: IMPORTANT\\n📌 Invoice = important message.\\n\\nMessage:\\n“Today only! Free shipping and discounts up to 30% in our store!”\\nAnswer: OFFER\\n📌 Promotion, typical sales message.\\n\\nMessage:\\n“Hi, I saw your listing online and I’m interested in working with you. Can we talk by phone?”\\nAnswer: IMPORTANT\\n📌 Message from a real person = potential lead.\\n\\nMessage:\\n“Win a new iPhone! Click here to claim your prize!”\\nAnswer: SPAM\\n📌 No need to explain – scam/spam.\\n\\nMessage:\\n“I’d like to ask if you offer individual training sessions?”\\nAnswer: IMPORTANT\\n📌 A real inquiry from a potential customer.\\n\\nMessage:\\n“Register now for free 7-day access to XYZ tool.”\\nAnswer: OFFER\\n📌 Advertising offer, not inherently important.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"77b25fbd-4093-48d1-9230-6a765d60b928\",\n      \"name\": \"Delate Email\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        760,\n        60\n      ],\n      \"webhookId\": \"8c6da755-63e5-43e6-a22b-c189a72e7e7b\",\n      \"parameters\": {\n        \"messageId\": \"={{ $('Gmail Trigger').item.json.id }}\",\n        \"operation\": \"delete\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"ECavbdGSgi3lNgZG\",\n          \"name\": \"Gmail account 2\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"a994bc19-d3fd-43b0-8612-bb9dfdceff08\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        40\n      ],\n      \"parameters\": {\n        \"width\": 560,\n        \"height\": 660,\n        \"content\": \"## 🧹 全自动垃圾营销邮件清道夫  \\n\\n受够了收件箱里的促销轰炸？  \\n这款AI驱动的n8n工作流每小时自动扫描你的Gmail收件箱，通过GPT-4分析来信内容，并删除标记为**垃圾邮件**或**促销广告**的无效邮件。  \\n\\n### 🔍 核心功能  \\n- 实时响应新邮件到达  \\n- 调用OpenAI进行邮件分类：`重要邮件`、`促销广告`或`垃圾邮件`  \\n- 自动删除`垃圾邮件`和`促销广告`  \\n- 保留订单确认、发票和个人咨询等关键信息  \\n\\n### 🤖 内置智能  \\nAI代理经过9个真实案例训练，可精准识别营销邮件、钓鱼邮件、陌生推广等干扰信息。  \\n\\n### 📦 最适合：  \\n- 个人创业者  \\n- 企业公务邮箱  \\n- 邮箱极简主义者  \\n\\n一次设置，永久享受清爽无干扰的邮件体验。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"0bbcd957-fdb2-4d3d-ac6b-f25903bbe301\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Delate Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gmail Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Validator of Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Validator of Email\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Validator of Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}