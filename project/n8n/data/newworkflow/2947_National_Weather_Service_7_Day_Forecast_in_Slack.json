{
  "url": "https://n8n.io/workflows/2947-national-weather-service-7-day-forecast-in-slack/",
  "title": "National Weather Service 7-Day Forecast in Slack",
  "author": "Alex Kim",
  "publish_date": "Last update 3 months ago",
  "publish_date_absolute": "2025-02-26",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"id\":\"B6UHILmjPWa7ViQ4\",\"meta\":{\"instanceId\":\"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\"templateCredsSetupCompleted\":true},\"name\":\"Weather via Slack\",\"tags\":[{\"id\":\"2KlkHxhULPP42BS6\",\"name\":\"App 72\",\"createdAt\":\"2025-02-19T21:15:27.390Z\",\"updatedAt\":\"2025-02-19T21:15:27.390Z\"},{\"id\":\"aw8suPYTKfXDtMZl\",\"name\":\"Utility\",\"createdAt\":\"2025-02-10T14:41:49.045Z\",\"updatedAt\":\"2025-02-10T14:41:49.045Z\"}],\"nodes\":[{\"id\":\"9aea370b-7eb9-4742-9663-6628513e4de3\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,-300],\"webhookId\":\"41a60a4f-66d0-433b-aa43-b225dffa6761\",\"parameters\":{\"path\":\"slack1\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"c982487f-076a-48e8-9a35-78e8fbfb8936\",\"name\":\"Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[560,-300],\"webhookId\":\"4840f197-e116-4ef5-9372-0abd063e4aad\",\"parameters\":{\"text\":\"={{\\n  JSON.parse($node[\\\"NWS1\\\"].json.data).properties.periods\\n  .map(period => \\n    `*${period.name}*\\\\n` +\\n    `Temp: ${period.temperature}Â°${period.temperatureUnit}\\\\n` +\\n    `Wind: ${period.windSpeed} ${period.windDirection}\\\\n` +\\n    `Forecast: ${period.shortForecast}`\\n  )\\n  .join(\\\"\\\\n\\\\n\\\")\\n}}\\n\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C0889718P8S\",\"cachedResultName\":\"n8n\"},\"otherOptions\":{},\"authentication\":\"oAuth2\"},\"credentials\":{\"slackOAuth2Api\":{\"id\":\"GSiEiuKBz8GR5qiD\",\"name\":\"AlexK Slack account\"}},\"typeVersion\":2.3},{\"id\":\"7d42112a-0590-4a09-ba0e-dbdf1eddccf2\",\"name\":\"OpenStreetMap\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-100,-300],\"parameters\":{\"url\":\"https://nominatim.openstreetmap.org/search\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendQuery\":true,\"sendHeaders\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"q\",\"value\":\"={{ $('Webhook').item.json.body.text }}\"},{\"name\":\"format\",\"value\":\"json\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2},{\"id\":\"565a0123-9059-4e6e-be97-96e0875c1b84\",\"name\":\"NWS\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[120,-300],\"parameters\":{\"url\":\"=https://api.weather.gov/points/{{ $json.body[0].lat }},{{ $json.body[0].lon }}\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2},{\"id\":\"3505e6c2-6e66-4abd-a1bb-75a1d8fc9a08\",\"name\":\"NWS1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[340,-300],\"parameters\":{\"url\":\"=https://api.weather.gov/gridpoints/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridId : \\\"\\\"}}\\n/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridX : \\\"\\\"}}\\n,{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridY : \\\"\\\"}}\\n/forecast\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"4244c90f-02e9-42fc-9873-3f8074f6ecf4\",\"connections\":{\"NWS\":{\"main\":[[{\"node\":\"NWS1\",\"type\":\"main\",\"index\":0}]]},\"NWS1\":{\"main\":[[{\"node\":\"Slack\",\"type\":\"main\",\"index\":0}]]},\"Slack\":{\"main\":[[]]},\"Webhook\":{\"main\":[[{\"node\":\"OpenStreetMap\",\"type\":\"main\",\"index\":0}]]},\"OpenStreetMap\":{\"main\":[[{\"node\":\"NWS\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Weather via Slack ðŸŒ¦ï¸ðŸ’¬\n\n## Overview\n\nThis workflow provides real-time weather updates via Slack using a **custom Slack command** :  \n`/weather [cityname]`\n\nUsers can type this command in Slack (e.g., `/weather New York`), and the workflow will fetch and post the latest forecast, including temperature, wind conditions, and a short weather summary.\n\nWhile this workflow is designed for Slack, users can modify it to send weather updates via **email, Discord, Microsoft Teams, or any other communication platform**.\n\n## How It Works\n\n  1. **Webhook Trigger** â€“ The workflow is triggered when a user runs `/weather [cityname]` in Slack.\n  2. **Geocoding with OpenStreetMap** â€“ The city name is converted into latitude and longitude coordinates.\n  3. **Weather Data from NOAA** â€“ The coordinates are used to retrieve detailed weather data from the **National Weather Service (NWS)** API.\n  4. **Formatted Weather Report** â€“ The workflow extracts relevant weather details, such as: \n     * Temperature (Â°F/Â°C)\n     * Wind speed and direction\n     * Short forecast summary\n  5. **Slack Notification** â€“ The weather forecast is posted back to the Slack channel in a structured format.\n\n\n\n## Requirements\n\n  * A **custom Slack app** with: \n    * The ability to create a **Slash Command (`/weather`)**\n    * OAuth permissions to post messages in Slack\n  * An **n8n instance** to host and execute the workflow\n\n\n\n## Customization\n\n  * Replace Slack messaging with **email, Discord, Microsoft Teams, Telegram, or another service**.\n  * Modify the weather data format for different output preferences.\n  * Set up scheduled weather updates for specific locations.\n\n\n\n## Use Cases\n\n  * Instantly check the weather for any location directly in Slack.\n  * Automate weather reports for team members or projects.\n  * Useful for remote teams, outdoor event planning, or general weather tracking.\n\n\n\n## Setup Instructions\n\n  1. **Create a custom Slack app** : \n     * Go to [api.slack.com/apps](https://api.slack.com/apps) and create a new app.\n     * Add a **Slash Command** (`/weather`) with the webhook URL from n8n.\n     * Enable OAuth scopes for sending messages.\n  2. **Deploy the webhook** â€“ Ensure it can receive and process Slack commands.\n  3. **Run the workflow** â€“ Type `/weather [cityname]` in Slack and receive instant weather updates.\n\n\n",
  "crawled_at": "2025-05-26T02:28:44.610989",
  "readme_zh": "# é€šè¿‡SlackèŽ·å–å¤©æ°” ðŸŒ¦ï¸ðŸ’¬  \n\n## æ¦‚è¿°  \n\næœ¬å·¥ä½œæµé€šè¿‡**è‡ªå®šä¹‰SlackæŒ‡ä»¤**`/weather [åŸŽå¸‚å]`æä¾›å®žæ—¶å¤©æ°”æ›´æ–°ã€‚  \n\nç”¨æˆ·åœ¨Slackè¾“å…¥è¯¥æŒ‡ä»¤ï¼ˆå¦‚`/weather çº½çº¦`ï¼‰ï¼Œå·¥ä½œæµå°†èŽ·å–å¹¶å‘å¸ƒæœ€æ–°å¤©æ°”é¢„æŠ¥ï¼ŒåŒ…æ‹¬æ¸©åº¦ã€é£ŽåŠ›çŠ¶å†µå’Œç®€è¦å¤©æ°”æ‘˜è¦ã€‚  \n\nè™½ç„¶è¯¥å·¥ä½œæµä¸“ä¸ºSlackè®¾è®¡ï¼Œä½†ç”¨æˆ·å¯å°†å…¶ä¿®æ”¹ä¸ºé€šè¿‡**ç”µå­é‚®ä»¶ã€Discordã€Microsoft Teamsæˆ–å…¶ä»–é€šè®¯å¹³å°**å‘é€å¤©æ°”æ›´æ–°ã€‚  \n\n## å·¥ä½œåŽŸç†  \n\n1. **Webhookè§¦å‘** â€“ å½“ç”¨æˆ·åœ¨Slackæ‰§è¡Œ`/weather [åŸŽå¸‚å]`æ—¶è§¦å‘å·¥ä½œæµ  \n2. **OpenStreetMapåœ°ç†ç¼–ç ** â€“ å°†åŸŽå¸‚åè½¬æ¢ä¸ºç»çº¬åº¦åæ ‡  \n3. **NOAAå¤©æ°”æ•°æ®** â€“ é€šè¿‡**ç¾Žå›½å›½å®¶æ°”è±¡å±€(NWS)** APIèŽ·å–è¯¦ç»†å¤©æ°”æ•°æ®  \n4. **æ ¼å¼åŒ–å¤©æ°”æŠ¥å‘Š** â€“ æå–å…³é”®å¤©æ°”ä¿¡æ¯ï¼š  \n   * æ¸©åº¦ï¼ˆåŽæ°åº¦/æ‘„æ°åº¦ï¼‰  \n   * é£Žé€Ÿä¸Žé£Žå‘  \n   * ç®€çŸ­å¤©æ°”é¢„æŠ¥æ‘˜è¦  \n5. **Slacké€šçŸ¥** â€“ ä»¥ç»“æž„åŒ–æ ¼å¼å°†å¤©æ°”é¢„æŠ¥å›žä¼ è‡³Slacké¢‘é“  \n\n## éœ€æ±‚  \n\n* éœ€é…ç½®**è‡ªå®šä¹‰Slackåº”ç”¨**ï¼š  \n  * æ”¯æŒåˆ›å»º**æ–œæ æŒ‡ä»¤(`/weather`)**  \n  * å…·å¤‡åœ¨Slackå‘é€æ¶ˆæ¯çš„OAuthæƒé™  \n* éœ€**n8nå®žä¾‹**æ‰˜ç®¡å¹¶æ‰§è¡Œå·¥ä½œæµ  \n\n## è‡ªå®šä¹‰é€‰é¡¹  \n\n* å°†Slackæ¶ˆæ¯æ›¿æ¢ä¸º**ç”µå­é‚®ä»¶ã€Discordã€Microsoft Teamsã€Telegramç­‰å…¶ä»–æœåŠ¡**  \n* è°ƒæ•´å¤©æ°”æ•°æ®æ ¼å¼ä»¥æ»¡è¶³ä¸åŒè¾“å‡ºéœ€æ±‚  \n* ä¸ºç‰¹å®šä½ç½®è®¾ç½®å®šæ—¶å¤©æ°”æ›´æ–°  \n\n## åº”ç”¨åœºæ™¯  \n\n* åœ¨Slackå³æ—¶æŸ¥è¯¢ä»»æ„åœ°ç‚¹å¤©æ°”  \n* ä¸ºå›¢é˜Ÿæˆå‘˜æˆ–é¡¹ç›®è‡ªåŠ¨æŽ¨é€å¤©æ°”æŠ¥å‘Š  \n* é€‚ç”¨äºŽè¿œç¨‹å›¢é˜Ÿã€æˆ·å¤–æ´»åŠ¨ç­–åˆ’æˆ–æ—¥å¸¸å¤©æ°”è¿½è¸ª  \n\n## è®¾ç½®æŒ‡å—  \n\n1. **åˆ›å»ºè‡ªå®šä¹‰Slackåº”ç”¨**ï¼š  \n   * è®¿é—®[api.slack.com/apps](https://api.slack.com/apps)åˆ›å»ºæ–°åº”ç”¨  \n   * æ·»åŠ **æ–œæ æŒ‡ä»¤(`/weather`)**å¹¶é…ç½®n8næä¾›çš„webhook URL  \n   * å¯ç”¨å‘é€æ¶ˆæ¯çš„OAuthæƒé™  \n2. **éƒ¨ç½²webhook** â€“ ç¡®ä¿å¯æŽ¥æ”¶å¹¶å¤„ç†SlackæŒ‡ä»¤  \n3. **è¿è¡Œå·¥ä½œæµ** â€“ åœ¨Slackè¾“å…¥`/weather [åŸŽå¸‚å]`å³å¯èŽ·å–å®žæ—¶å¤©æ°”æ›´æ–°",
  "title_zh": "å›½å®¶æ°”è±¡å±€7å¤©å¤©æ°”é¢„æŠ¥ï¼ˆå‘å¸ƒäºŽSlackï¼‰",
  "publish_date_zh": "æœ€åŽæ›´æ–°äºŽ2ä¸ªæœˆå‰",
  "workflow_json_zh": "{\n  \"id\": \"B6UHILmjPWa7ViQ4\",\n  \"meta\": {\n    \"instanceId\": \"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Weather via Slack\",\n  \"tags\": [\n    {\n      \"id\": \"2KlkHxhULPP42BS6\",\n      \"name\": \"App 72\",\n      \"createdAt\": \"2025-02-19T21:15:27.390Z\",\n      \"updatedAt\": \"2025-02-19T21:15:27.390Z\"\n    },\n    {\n      \"id\": \"aw8suPYTKfXDtMZl\",\n      \"name\": \"Utility\",\n      \"createdAt\": \"2025-02-10T14:41:49.045Z\",\n      \"updatedAt\": \"2025-02-10T14:41:49.045Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"9aea370b-7eb9-4742-9663-6628513e4de3\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -340,\n        -300\n      ],\n      \"webhookId\": \"41a60a4f-66d0-433b-aa43-b225dffa6761\",\n      \"parameters\": {\n        \"path\": \"slack1\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c982487f-076a-48e8-9a35-78e8fbfb8936\",\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        560,\n        -300\n      ],\n      \"webhookId\": \"4840f197-e116-4ef5-9372-0abd063e4aad\",\n      \"parameters\": {\n        \"text\": \"={{\\n  JSON.parse($node[\\\"NWS1\\\"].json.data).properties.periods\\n  .map(period => \\n    `*${period.name}*\\\\n` +\\n    `Temp: ${period.temperature}Â°${period.temperatureUnit}\\\\n` +\\n    `Wind: ${period.windSpeed} ${period.windDirection}\\\\n` +\\n    `Forecast: ${period.shortForecast}`\\n  )\\n  .join(\\\"\\\\n\\\\n\\\")\\n}}\\n\",\n        \"select\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C0889718P8S\",\n          \"cachedResultName\": \"n8n\"\n        },\n        \"otherOptions\": {},\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"slackOAuth2Api\": {\n          \"id\": \"GSiEiuKBz8GR5qiD\",\n          \"name\": \"AlexK Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"7d42112a-0590-4a09-ba0e-dbdf1eddccf2\",\n      \"name\": \"OpenStreetMap\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -100,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"https://nominatim.openstreetmap.org/search\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"q\",\n              \"value\": \"={{ $('Webhook').item.json.body.text }}\"\n            },\n            {\n              \"name\": \"format\",\n              \"value\": \"json\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"565a0123-9059-4e6e-be97-96e0875c1b84\",\n      \"name\": \"NWS\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        120,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.weather.gov/points/{{ $json.body[0].lat }},{{ $json.body[0].lon }}\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3505e6c2-6e66-4abd-a1bb-75a1d8fc9a08\",\n      \"name\": \"NWS1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        340,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.weather.gov/gridpoints/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridId : \\\"\\\"}}\\n/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridX : \\\"\\\"}}\\n,{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridY : \\\"\\\"}}\\n/forecast\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"4244c90f-02e9-42fc-9873-3f8074f6ecf4\",\n  \"connections\": {\n    \"NWS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NWS1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"NWS1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Slack\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenStreetMap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenStreetMap\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NWS\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}