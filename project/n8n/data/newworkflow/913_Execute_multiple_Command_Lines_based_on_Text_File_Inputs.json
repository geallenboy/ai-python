{
  "url": "https://n8n.io/workflows/913-execute-multiple-command-lines-based-on-text-file-inputs/",
  "title": "Execute multiple Command Lines based on Text File Inputs",
  "author": "jason",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Building Blocks"
    }
  ],
  "workflow_json": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[250,300],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Read Binary File\",\"type\":\"n8n-nodes-base.readBinaryFile\",\"position\":[440,300],\"parameters\":{\"filePath\":\"/home/n8n/filelist.txt\"},\"typeVersion\":1},{\"name\":\"Move Binary Data\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[610,300],\"parameters\":{\"options\":{},\"setAllData\":false},\"typeVersion\":1},{\"name\":\"Function\",\"type\":\"n8n-nodes-base.function\",\"position\":[810,300],\"parameters\":{\"functionCode\":\"items[0].json.arrData = items[0].json.data.split(\\\"\\\\n\\\");\\nitems[0].json.data = {};\\nitems[0].json.dataSize = items[0].json.arrData.length-2;\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Execute Command\",\"type\":\"n8n-nodes-base.executeCommand\",\"position\":[1040,300],\"parameters\":{\"command\":\"=echo \\\"The file name is {{$node[\\\"Function\\\"].json[\\\"arrData\\\"][$runIndex]}}\\\" >> /home/n8n/n8n-output.txt\"},\"typeVersion\":1},{\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1250,520],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$node[\\\"Function\\\"].json[\\\"dataSize\\\"]}}\",\"value2\":\"={{$runIndex}}\",\"operation\":\"larger\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"NoOp\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1450,540],\"parameters\":{},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Execute Command\",\"type\":\"main\",\"index\":0}],[{\"node\":\"NoOp\",\"type\":\"main\",\"index\":0}]]},\"Function\":{\"main\":[[{\"node\":\"Execute Command\",\"type\":\"main\",\"index\":0}]]},\"Execute Command\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Move Binary Data\":{\"main\":[[{\"node\":\"Function\",\"type\":\"main\",\"index\":0}]]},\"Read Binary File\":{\"main\":[[{\"node\":\"Move Binary Data\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Read Binary File\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow takes a text file as input. It pulls the information from the text file and used it as a parameter to execute a command for each text line.\n\nThis workflow references a file _/home/n8n/filelist.txt_ in the _Read Binary File_ node which will need to be changed to work properly. You can also edit the _Execute Command_ node to modify what happens for each of these lines of text.\n\n**Note:** This workflow requires the Execute Command node which is only available on the on-premise version of n8n.\n",
  "crawled_at": "2025-05-25T19:04:49.177261",
  "readme_zh": "该工作流程以文本文件作为输入，从文件中提取信息并将其作为参数逐行执行命令。\n\n当前工作流程在_读取二进制文件_节点中引用了文件路径_/home/n8n/filelist.txt_，需根据实际情况修改此路径才能正常运行。您也可以编辑_执行命令_节点来调整针对每行文本的具体操作。\n\n**注意：** 本工作流程需要使用执行命令节点，该功能仅适用于n8n的本地部署版本。",
  "title_zh": "基于文本文件输入执行多条命令行",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[250,300],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Read Binary File\",\"type\":\"n8n-nodes-base.readBinaryFile\",\"position\":[440,300],\"parameters\":{\"filePath\":\"/home/n8n/filelist.txt\"},\"typeVersion\":1},{\"name\":\"Move Binary Data\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[610,300],\"parameters\":{\"options\":{},\"setAllData\":false},\"typeVersion\":1},{\"name\":\"Function\",\"type\":\"n8n-nodes-base.function\",\"position\":[810,300],\"parameters\":{\"functionCode\":\"items[0].json.arrData = items[0].json.data.split(\\\"\\\\n\\\");\\nitems[0].json.data = {};\\nitems[0].json.dataSize = items[0].json.arrData.length-2;\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Execute Command\",\"type\":\"n8n-nodes-base.executeCommand\",\"position\":[1040,300],\"parameters\":{\"command\":\"=echo \\\"The file name is {{$node[\\\"Function\\\"].json[\\\"arrData\\\"][$runIndex]}}\\\" >> /home/n8n/n8n-output.txt\"},\"typeVersion\":1},{\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1250,520],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$node[\\\"Function\\\"].json[\\\"dataSize\\\"]}}\",\"value2\":\"={{$runIndex}}\",\"operation\":\"larger\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"NoOp\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1450,540],\"parameters\":{},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Execute Command\",\"type\":\"main\",\"index\":0}],[{\"node\":\"NoOp\",\"type\":\"main\",\"index\":0}]]},\"Function\":{\"main\":[[{\"node\":\"Execute Command\",\"type\":\"main\",\"index\":0}]]},\"Execute Command\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Move Binary Data\":{\"main\":[[{\"node\":\"Function\",\"type\":\"main\",\"index\":0}]]},\"Read Binary File\":{\"main\":[[{\"node\":\"Move Binary Data\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Read Binary File\",\"type\":\"main\",\"index\":0}]]}}}"
}