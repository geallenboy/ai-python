{
  "url": "https://n8n.io/workflows/3207-chinese-translator-via-line-x-openrouter/",
  "title": "Chinese Translator via Line x OpenRouter",
  "author": "lin@davoy.tech",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"iFkGAiVn3yBlykIG\",\"meta\":{\"instanceId\":\"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\"},\"name\":\"Chinese Translator\",\"tags\":[{\"id\":\"IhTa6egt1w8uqn9Z\",\"name\":\"_ACTIVE\",\"createdAt\":\"2025-03-12T05:07:05.060Z\",\"updatedAt\":\"2025-03-12T05:07:05.060Z\"},{\"id\":\"0xpEHcJjNRRRMtEj\",\"name\":\"lin\",\"createdAt\":\"2025-03-12T05:06:24.112Z\",\"updatedAt\":\"2025-03-12T05:06:24.112Z\"}],\"nodes\":[{\"id\":\"3ebfb7f1-b655-405b-8bde-0219fa92d09c\",\"name\":\"Line Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-260,-20],\"webhookId\":\"b2b119e6-6de5-4684-9a51-4706a1c20caf\",\"parameters\":{\"path\":\"cn\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"b7fc7675-f8d7-4e7e-bec3-f9c626ba1728\",\"name\":\"Use OpenRouter\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[500,-20],\"parameters\":{\"url\":\"https://openrouter.ai/api/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"qwen/qwen-max\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english. if the input is in english, you will translate and also provide chinese character, pinyin and translation in english for each word\\\"\\n    },\\n     {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].message.text }}\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"7Y8q0dS2Y1fcvzTl\",\"name\":\"OpenRouter.ai\"}},\"typeVersion\":4.2},{\"id\":\"fed14d64-d3ea-4a17-98d5-28d889ac4ffa\",\"name\":\"Line Reply\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[880,-20],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/reply\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"63ae844f-dfc3-4e8f-97d0-c0ec4be7858f\",\"name\":\"Line Loading Animation\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[120,-20],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/chat/loading/start\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n    \\\"chatId\\\": \\\"{{ $json.body.events[0].source.userId }}\\\",\\n    \\\"loadingSeconds\\\": 60\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"7e4cc2a0-958c-4111-909c-fba75a428d5e\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":560,\"content\":\"**Webhook from Line**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nYou need to set-up this webhook at Line Manager or Line Developer Console\\n\\nYou'll need to copy Webhook URL from this node to put in Line Console\\n\\nAlso, don't forget to remove 'test' part when going for production\\n\\nhttps://developers.line.biz/en/docs/messaging-api/receiving-messages/\\n\"},\"typeVersion\":1},{\"id\":\"767827b2-fbca-4dbb-b392-749c25a56c93\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":560,\"content\":\"**Line Loading Animation**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis node is to only give ... loading animation back in Line.\\n\\nIt seems stupid but it actually tells user that the workflow is running and you are not left waiting without hope\\n\\nTo authorize, you can fill in the Line Token in the node here, or you can you header authorization (shown at the 'reply message' node)\\n\\nhttps://developers.line.biz/en/docs/messaging-api/use-loading-indicator/\"},\"typeVersion\":1},{\"id\":\"8cdafc15-3bf8-45e9-8081-901d5c5a7880\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,-100],\"parameters\":{\"color\":2,\"width\":360,\"height\":560,\"content\":\"**OpenRouter.ai**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis is to call LLMs model at Openrouter.ai \\n\\nYou can use it to call ChatGPT, Lllama, Qwen, Deepseek, and much more with just standardized API call and top-up only once\\n\\nhttps://openrouter.ai/docs/quickstart\"},\"typeVersion\":1},{\"id\":\"3e2f4acf-771c-4d55-a13e-b4c874136574\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[760,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":560,\"content\":\"**Line Reply**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis node is to send reply message via Line\\n\\nhttps://developers.line.biz/en/docs/messaging-api/sending-messages/\\n\"},\"typeVersion\":1},{\"id\":\"b17eddaf-da3e-4e21-ab33-9e71f385d734\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-200],\"parameters\":{\"color\":5,\"width\":780,\"height\":80,\"content\":\"## You can test this workflow by adding Line @405jtfqs\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"timezone\":\"Asia/Bangkok\",\"callerPolicy\":\"workflowsFromSameOwner\",\"errorWorkflow\":\"A8HoJ5iCrAMPbsLh\",\"executionOrder\":\"v1\"},\"versionId\":\"aba1f2dc-81ea-4144-b88e-5fd37ee6b247\",\"connections\":{\"Line Webhook\":{\"main\":[[{\"node\":\"Line Loading Animation\",\"type\":\"main\",\"index\":0}]]},\"Use OpenRouter\":{\"main\":[[{\"node\":\"Line Reply\",\"type\":\"main\",\"index\":0}]]},\"Line Loading Animation\":{\"main\":[[{\"node\":\"Use OpenRouter\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "The Chinese Translator workflow automates the translation of text into Chinese characters, pinyin, and English translations via Line Messaging API. This workflow leverages [OpenRouter.ai](http://OpenRouter.ai) to call advanced language models such as Qwen for accurate translations and ensures smooth user interaction by providing loading animations and timely replies.\n\n## Purpose\n\nThis workflow aims to\n\n  * Provide users with real-time translations of input text into Chinese characters, pinyin, and English\n  * Deliver seamless user experience through interactive features like loading animations and quick reply messages\n  * Enable easy integration with Line Messaging API for scalable deployment\n\n\n\n## Key Features\n\n  * Real-Time Translation : Translates user-inputted text instantly using [OpenRouter.ai](http://OpenRouter.ai)'s standardized API.\n  * Comprehensive Output : Delivers Chinese characters, pinyin, and English translations for each word or phrase.\n  * Interactive User Experience : Incorporates loading animations to inform users that the workflow is processing their request.\n  * Line Integration : Utilizes Line Webhooks and Reply APIs to facilitate communication between users and the translation service.\n\n\n\n## Data Flow\n\n  1. **Receiving Input**  \nNode: Line Webhook  \nCaptures incoming messages from Line users.  \nExtracts the text content and reply token from the webhook payload.\n  2. **Loading Animation**  \nNode: Line Loading Animation  \nSends a loading animation back to the user, indicating that the workflow is processing the request.  \nEnhances user experience by providing immediate feedback.\n  3. **Translation Processing**  \nNode: Use OpenRouter  \nSends the extracted text to [OpenRouter.ai](http://OpenRouter.ai)'s API, utilizing the Qwen model for translation.  \nRequests Chinese characters, pinyin, and English translations for the input text.\n  4. **Sending Response**  \nNode: Line Reply  \nFormats the translation results into a readable text message.  \nSends the translated text back to the user via Line's Reply API.\n\n\n\n## Setup Instructions\n\n**Prerequisites**\n\n  * Line Developer Account : Create a Line channel to obtain necessary credentials for webhooks and messaging.\n  * [OpenRouter.ai](http://OpenRouter.ai) Account : Set up an account and configure access to utilize their language models.\n\n\n\n**Steps to Configure**\n\n  * Set Up Line Webhook :  \nNavigate to the Line Developers Console and create a new webhook URL.  \nCopy the generated webhook URL and paste it into the Line Webhook node in n8n.\n  * Configure [OpenRouter.ai](http://OpenRouter.ai) :  \nObtain API credentials from [OpenRouter.ai](http://OpenRouter.ai) and integrate them into the Use OpenRouter node within the workflow.\n  * Adjust Workflow Settings :  \nEnsure the timezone is set to Asia/Bangkok .  \nVerify that all nodes are correctly connected and configured with appropriate credentials.\n\n\n\n## Intended Audience\n\nThis workflow is ideal for:\n\n  * Language Learners : Seeking quick translations and pronunciation guides for Chinese language studies.\n  * Travelers : Looking to communicate effectively while traveling in Chinese-speaking regions.\n  * Businesses : Aiming to provide multilingual support to customers and clients.\n\n\n\n## Benefits\n\n  * Enhanced Learning : Provides comprehensive translations, including pinyin, aiding in language acquisition.\n  * User-Friendly Interface : Real-time loading animations and prompt replies ensure a smooth user experience.\n  * Scalable Deployment : Easily integrates with Line's extensive user base for widespread accessibility.\n\n\n",
  "crawled_at": "2025-05-26T04:00:46.366592",
  "readme_zh": "中文翻译工作流通过Line Messaging API实现文本自动翻译为汉字、拼音及英文释义。该工作流调用[OpenRouter.ai](http://OpenRouter.ai)平台的高级语言模型（如Qwen）确保翻译准确性，并通过加载动画与即时回复功能优化交互体验。\n\n## 核心目标\n\n本工作流致力于：\n* 为用户提供汉字、拼音及英文的实时三语对照翻译\n* 通过加载动画与快速回复消息打造无缝交互体验\n* 实现与Line Messaging API的便捷集成，支持规模化部署\n\n## 核心功能\n\n* **实时翻译引擎**：通过[OpenRouter.ai](http://OpenRouter.ai)标准化API调用Qwen等先进模型实现即时翻译\n* **三位一体输出**：同步生成汉字、拼音注音及英文释义\n* **交互式体验设计**：加载动画实时反馈处理状态\n* **Line深度集成**：基于Line Webhook与Reply API构建双向通信通道\n\n## 数据流转\n\n1. **输入捕获**  \n节点：Line Webhook  \n实时抓取用户消息  \n解析webhook载荷中的文本内容与回复令牌\n\n2. **交互反馈**  \n节点：Line加载动画  \n推送处理状态动画  \n建立即时响应机制\n\n3. **智能翻译**  \n节点：OpenRouter调用  \n通过Qwen模型进行多维度翻译  \n同步请求汉字转换、拼音标注及英文释义\n\n4. **结果推送**  \n节点：Line回复  \n结构化排版翻译结果  \n通过Reply API返回三语对照文本\n\n## 部署指南\n\n**环境准备**\n* Line开发者账号：创建消息通道获取Webhook凭证\n* [OpenRouter.ai](http://OpenRouter.ai)账户：配置API密钥以调用语言模型\n\n**配置流程**\n* Line Webhook设置：  \n在开发者控制台创建Webhook URL  \n将生成地址配置至n8n的Line Webhook节点\n* OpenRouter集成：  \n在对应节点输入API认证信息\n* 工作流校准：  \n时区设置为Asia/Bangkok  \n检查各节点凭证与连接状态\n\n## 适用群体\n\n本方案特别适合：\n* 汉语学习者：获取带拼音标注的即时翻译\n* 旅行人士：中文地区的实时语言辅助\n* 商业客户：构建多语言客户支持系统\n\n## 核心价值\n\n* 学习强化：拼音标注助力语言习得\n* 友好交互：状态反馈与极速响应\n* 弹性扩展：依托Line生态实现快速推广",
  "title_zh": "Line x OpenRouter 的中文翻译助手",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\n  \"id\": \"iFkGAiVn3yBlykIG\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\"\n  },\n  \"name\": \"Chinese Translator\",\n  \"tags\": [\n    {\n      \"id\": \"IhTa6egt1w8uqn9Z\",\n      \"name\": \"_ACTIVE\",\n      \"createdAt\": \"2025-03-12T05:07:05.060Z\",\n      \"updatedAt\": \"2025-03-12T05:07:05.060Z\"\n    },\n    {\n      \"id\": \"0xpEHcJjNRRRMtEj\",\n      \"name\": \"lin\",\n      \"createdAt\": \"2025-03-12T05:06:24.112Z\",\n      \"updatedAt\": \"2025-03-12T05:06:24.112Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"3ebfb7f1-b655-405b-8bde-0219fa92d09c\",\n      \"name\": \"Line Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -260,\n        -20\n      ],\n      \"webhookId\": \"b2b119e6-6de5-4684-9a51-4706a1c20caf\",\n      \"parameters\": {\n        \"path\": \"cn\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b7fc7675-f8d7-4e7e-bec3-f9c626ba1728\",\n      \"name\": \"Use OpenRouter\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        500,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://openrouter.ai/api/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"qwen/qwen-max\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english. if the input is in english, you will translate and also provide chinese character, pinyin and translation in english for each word\\\"\\n    },\\n     {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].message.text }}\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"7Y8q0dS2Y1fcvzTl\",\n          \"name\": \"OpenRouter.ai\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"fed14d64-d3ea-4a17-98d5-28d889ac4ffa\",\n      \"name\": \"Line Reply\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        880,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/reply\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"63ae844f-dfc3-4e8f-97d0-c0ec4be7858f\",\n      \"name\": \"Line Loading Animation\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        120,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/chat/loading/start\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"chatId\\\": \\\"{{ $json.body.events[0].source.userId }}\\\",\\n    \\\"loadingSeconds\\\": 60\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7e4cc2a0-958c-4111-909c-fba75a428d5e\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**来自Line的Webhook**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"767827b2-fbca-4dbb-b392-749c25a56c93\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**Line加载动画**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8cdafc15-3bf8-45e9-8081-901d5c5a7880\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**OpenRouter.ai**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3e2f4acf-771c-4d55-a13e-b4c874136574\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        760,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**Line 回复**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b17eddaf-da3e-4e21-ab33-9e71f385d734\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -200\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 780,\n        \"height\": 80,\n        \"content\": \"## 你可以通过添加Line @405jtfqs来测试这个工作流程\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Bangkok\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"errorWorkflow\": \"A8HoJ5iCrAMPbsLh\",\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"aba1f2dc-81ea-4144-b88e-5fd37ee6b247\",\n  \"connections\": {\n    \"Line Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Loading Animation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Use OpenRouter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Reply\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Line Loading Animation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Use OpenRouter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}