{
  "url": "https://n8n.io/workflows/1319-create-nextcloud-deck-card-from-imap-email/",
  "title": "Create Nextcloud Deck Card from IMAP email",
  "author": "Masahiro Minami",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"id\":1,\"name\":\"Create Nextcloud Deck card from email\",\"nodes\":[{\"name\":\"IMAP Email\",\"type\":\"n8n-nodes-base.emailReadImap\",\"notes\":\"Check email\",\"position\":[480,140],\"parameters\":{\"options\":{}},\"credentials\":{\"imap\":{\"id\":\"2\",\"name\":\"todo@yourdomain.com\"}},\"notesInFlow\":true,\"typeVersion\":1},{\"name\":\"Function\",\"type\":\"n8n-nodes-base.function\",\"notes\":\"Strip HTML code\",\"position\":[730,140],\"parameters\":{\"functionCode\":\"// Code here will run only once, no matter how many input items there are.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.function\\n\\n// Loop over inputs and add a new field called 'myNewField' to the JSON of each one\\nfor (item of items) {\\n  if (item.json.textHtml) {\\n    // Remove HTML, double quotations, line breaks, carriage returns\\n    item.json.body = item.json.textHtml.replace(/<br(\\\\s*?\\\\/?)>/g, \\\"\\\\\\\\n\\\").replace(/(<([^>]+)>)/g, \\\"\\\").replace(/\\\\\\\"/g, \\\"\\\");\\n    //item.json.body = item.json.textHtml.eplace(/(<([^>]+)>)/g, \\\"\\\").replace(/\\\\\\\"/g, \\\"\\\").replace(/\\\\n/g, \\\"\\\").replace(/\\\\r/g, \\\"\\\");\\n  } else {\\n    // Remove double quotations, line breaks, carriage returns\\n    item.json.body = item.json.textPlain.replace(/\\\\\\\"/g, \\\"\\\").replace(/\\\\n/g, \\\"\\\\\\\\n\\\").replace(/\\\\r/g, \\\"\\\");\\n  }\\n}\\n\\n// You can write logs to the browser console\\nconsole.log('Done!');\\n\\nreturn items;\"},\"notesInFlow\":true,\"typeVersion\":1},{\"name\":\"HTTP Request\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Add card to Nextcloud Deck App. Configure board / stack id to your environment.\",\"position\":[970,140],\"parameters\":{\"url\":\"https://your.nextcloud.com/index.php/apps/deck/api/v1.0/boards/YOUR-BOARD-ID/stacks/YOUR-STACK-ID/cards\",\"options\":{},\"requestMethod\":\"POST\",\"authentication\":\"basicAuth\",\"jsonParameters\":true,\"bodyParametersJson\":\"={\\n\\\"title\\\": \\\"{{$json[\\\"subject\\\"]}}\\\",\\n\\\"type\\\": \\\"plain\\\",\\n\\\"order\\\": -1,\\n\\\"description\\\": \\\"{{$json[\\\"body\\\"]}}\\\"\\n}\",\"headerParametersJson\":\"{\\n\\\"OCS-APIRequest\\\": \\\"true\\\",\\n\\\"Content-Type\\\": \\\"application/json\\\"\\n}\"},\"credentials\":{\"httpBasicAuth\":{\"id\":\"3\",\"name\":\"Nextcloud credential\"}},\"notesInFlow\":true,\"typeVersion\":1}],\"active\":true,\"settings\":{},\"connections\":{\"Function\":{\"main\":[[{\"node\":\"HTTP Request\",\"type\":\"main\",\"index\":0}]]},\"IMAP Email\":{\"main\":[[{\"node\":\"Function\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Check email and create new Nextcloud Deck card from incoming email.\n\n  * Import workflow.\n  * Change Nextcloud URL with target board id and stack id.\n  * Configure IMAP credential and Nextcloud userid / password.\n  * The workflow starts with new IMAP email.\n  * This workflow creates new Nextcloud Deck Card with email subject and email body.\n  * (Note that all the emails will be marked as read.)\n\n\n",
  "crawled_at": "2025-05-25T19:32:17.037698",
  "readme_zh": "检查邮件并根据收到的邮件创建新的Nextcloud Deck卡片。\n\n* 导入工作流程。\n* 更改Nextcloud URL，填入目标看板ID和堆栈ID。\n* 配置IMAP凭据及Nextcloud的用户ID和密码。\n* 该工作流程由新收到的IMAP邮件触发。\n* 此工作流程会以邮件主题和正文内容创建新的Nextcloud Deck卡片。\n* （注意：所有邮件将被标记为已读。）",
  "title_zh": "从IMAP电子邮件创建Nextcloud Deck卡片",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": 1,\n  \"name\": \"Create Nextcloud Deck card from email\",\n  \"nodes\": [\n    {\n      \"name\": \"IMAP Email\",\n      \"type\": \"n8n-nodes-base.emailReadImap\",\n      \"notes\": \"Check email\",\n      \"position\": [\n        480,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"imap\": {\n          \"id\": \"2\",\n          \"name\": \"todo@yourdomain.com\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"notes\": \"Strip HTML code\",\n      \"position\": [\n        730,\n        140\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run only once, no matter how many input items there are.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.function\\n\\n// Loop over inputs and add a new field called 'myNewField' to the JSON of each one\\nfor (item of items) {\\n  if (item.json.textHtml) {\\n    // Remove HTML, double quotations, line breaks, carriage returns\\n    item.json.body = item.json.textHtml.replace(/<br(\\\\s*?\\\\/?)>/g, \\\"\\\\\\\\n\\\").replace(/(<([^>]+)>)/g, \\\"\\\").replace(/\\\\\\\"/g, \\\"\\\");\\n    //item.json.body = item.json.textHtml.eplace(/(<([^>]+)>)/g, \\\"\\\").replace(/\\\\\\\"/g, \\\"\\\").replace(/\\\\n/g, \\\"\\\").replace(/\\\\r/g, \\\"\\\");\\n  } else {\\n    // Remove double quotations, line breaks, carriage returns\\n    item.json.body = item.json.textPlain.replace(/\\\\\\\"/g, \\\"\\\").replace(/\\\\n/g, \\\"\\\\\\\\n\\\").replace(/\\\\r/g, \\\"\\\");\\n  }\\n}\\n\\n// You can write logs to the browser console\\nconsole.log('Done!');\\n\\nreturn items;\"\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTTP Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Add card to Nextcloud Deck App. Configure board / stack id to your environment.\",\n      \"position\": [\n        970,\n        140\n      ],\n      \"parameters\": {\n        \"url\": \"https://your.nextcloud.com/index.php/apps/deck/api/v1.0/boards/YOUR-BOARD-ID/stacks/YOUR-STACK-ID/cards\",\n        \"options\": {},\n        \"requestMethod\": \"POST\",\n        \"authentication\": \"basicAuth\",\n        \"jsonParameters\": true,\n        \"bodyParametersJson\": \"={\\n\\\"title\\\": \\\"{{$json[\\\"subject\\\"]}}\\\",\\n\\\"type\\\": \\\"plain\\\",\\n\\\"order\\\": -1,\\n\\\"description\\\": \\\"{{$json[\\\"body\\\"]}}\\\"\\n}\",\n        \"headerParametersJson\": \"{\\n\\\"OCS-APIRequest\\\": \\\"true\\\",\\n\\\"Content-Type\\\": \\\"application/json\\\"\\n}\"\n      },\n      \"credentials\": {\n        \"httpBasicAuth\": {\n          \"id\": \"3\",\n          \"name\": \"Nextcloud credential\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"settings\": {},\n  \"connections\": {\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IMAP Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}