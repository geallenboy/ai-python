{
  "url": "https://n8n.io/workflows/3101-monitor-competitors-websites-for-changes-with-openai-and-firecrawl/",
  "title": "Monitor competitors' websites for changes with OpenAI and Firecrawl",
  "author": "Sleak",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Product"
    },
    {
      "name": "AI"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"aOP0D1cAqzGv7Xa8\",\"meta\":{\"instanceId\":\"0a5638e14e0c728ef975d18d109cfb41edae575e3d911724f4f1eccde06a729f\"},\"name\":\"spy tool\",\"tags\":[],\"nodes\":[{\"id\":\"5690844d-5322-4c62-8c83-eb4d4dc9c481\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[1400,340],\"parameters\":{\"model\":\"gpt-4o\",\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"ZOKbogCxHnP2W0H5\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"3b1c034f-501b-423c-844f-9cb607fa91e6\",\"name\":\"Gmail\",\"type\":\"n8n-nodes-base.gmailTool\",\"position\":[1580,340],\"webhookId\":\"6a510528-22e0-4140-b987-770bb7a138de\",\"parameters\":{\"sendTo\":\"tom@sleak.chat\",\"message\":\"={{ $fromAI(\\\"change\\\", \\\"What relevant part has changed on the website?\\\") }}\",\"options\":{\"appendAttribution\":false},\"subject\":\"=Relevant changes on {{ $('parse results').item.json.website_url }}\",\"emailType\":\"text\",\"descriptionType\":\"manual\",\"toolDescription\":\"=Use this tool if you need to send an email, but only if the terms in the instructions mentioned explicitly state so\\n\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"jtANm6k92Kl6ent1\",\"name\":\"Gmail account\"}},\"typeVersion\":2.1},{\"id\":\"4d448a02-4569-451e-8be5-59bfc48f36d8\",\"name\":\"parse results\",\"type\":\"n8n-nodes-base.code\",\"position\":[1180,-160],\"parameters\":{\"jsCode\":\"const parsedObject = JSON.parse($('convert message to website url & instruction').first().json.choices[0].message.content);\\n\\nreturn parsedObject\"},\"typeVersion\":2},{\"id\":\"238298c4-5bba-4ac1-b3cc-ab5a28888560\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1420,-120],\"parameters\":{\"width\":260,\"height\":180,\"content\":\"## Note: almost never works right away\\nAdjust the prompts in the 'Tools agent' and 'Gmail' node as desired to steer the agent's behavior in the right direction\"},\"typeVersion\":1},{\"id\":\"0d519c06-aa30-4a33-895f-9185936d27cf\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,100],\"parameters\":{\"width\":150,\"height\":80,\"content\":\"Connect your Firecrawl account\"},\"typeVersion\":1},{\"id\":\"9e327bbe-0096-4a4d-aec2-2e4cae7d91bd\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1740,80],\"parameters\":{\"width\":150,\"height\":80,\"content\":\"Connect your own OpenAI account\\n\"},\"typeVersion\":1},{\"id\":\"30ce0e22-f536-462f-8f94-f3fd92ae036f\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1660,300],\"parameters\":{\"width\":150,\"height\":80,\"content\":\"Connect your own Gmail account\\n\"},\"typeVersion\":1},{\"id\":\"bc003781-3d91-49b6-b6bb-b2970b39256a\",\"name\":\"convert message to website url & instruction\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[940,-160],\"parameters\":{\"url\":\"https://api.openai.com/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"gpt-4o-2024-08-06\\\",\\n  \\\"messages\\\": [\\n              {\\n        \\\"role\\\": \\\"user\\\",\\n        \\\"content\\\": \\\"convert the following message to a website url (just the plain text url, NOT formatted or in markdown) and prompt to AI. Make the prompt as verbose as possible. Message: {{ $('New espionage assignment').first().json.assignment_instructions }}\\\"\\n    }\\n  ],\\n  \\\"response_format\\\": {\\n    \\\"type\\\": \\\"json_schema\\\",\\n    \\\"json_schema\\\": {\\n      \\\"name\\\": \\\"variable_extraction\\\",\\n      \\\"schema\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"website_url\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"prompt\\\": { \\\"type\\\": \\\"string\\\" }\\n        },\\n        \\\"required\\\": [\\\"website_url\\\", \\\"prompt\\\"],\\n        \\\"additionalProperties\\\": false\\n      },\\n      \\\"strict\\\": true\\n    }\\n  }\\n}\\n\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"openAiApi\"},\"credentials\":{\"openAiApi\":{\"id\":\"ZOKbogCxHnP2W0H5\",\"name\":\"OpenAi account\"}},\"typeVersion\":4.2},{\"id\":\"6a8c172d-ac39-4cb0-b601-39fc770695ed\",\"name\":\"New espionage assignment\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[700,-160],\"webhookId\":\"7470334f-93e1-47af-9521-d3a232c38b13\",\"parameters\":{\"options\":{},\"formTitle\":\"New espionage assignment\",\"formFields\":{\"values\":[{\"fieldLabel\":\"assignment_instructions\"}]}},\"notesInFlow\":false,\"typeVersion\":2.2},{\"id\":\"c5c64e5c-88de-45e3-bb9b-4096e74a6e83\",\"name\":\"wait 1 day\",\"type\":\"n8n-nodes-base.wait\",\"position\":[940,80],\"webhookId\":\"22e689e4-b93d-4c59-81e5-43c070833454\",\"parameters\":{\"unit\":\"days\",\"amount\":1},\"typeVersion\":1.1},{\"id\":\"62a278ff-ed00-4e54-a608-001237551113\",\"name\":\"scrape page - 1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,80],\"parameters\":{\"url\":\"https://api.firecrawl.dev/v1/scrape\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"url\\\": \\\"{{ $('parse results').item.json.website_url }}\\\",\\n  \\\"formats\\\": [\\n    \\\"markdown\\\"\\n  ],\\n  \\\"onlyMainContent\\\": true,\\n  \\\"waitFor\\\": 5000\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpBasicAuth\":{\"id\":\"h2XRcXzLcEfvDVKb\",\"name\":\"Unnamed credential\"},\"httpHeaderAuth\":{\"id\":\"FoyIka0WgFG4FPxA\",\"name\":\"Header Auth account 2\"}},\"retryOnFail\":true,\"typeVersion\":4.2},{\"id\":\"89c15d8f-7f8e-4391-b24a-07579964ca5c\",\"name\":\"scrape page - 2\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1180,80],\"parameters\":{\"url\":\"https://api.firecrawl.dev/v1/scrape\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"url\\\": \\\"{{ $('parse results').item.json.website_url }}\\\",\\n  \\\"formats\\\": [\\n    \\\"markdown\\\"\\n  ],\\n  \\\"onlyMainContent\\\": true,\\n  \\\"waitFor\\\": 5000\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"FoyIka0WgFG4FPxA\",\"name\":\"Header Auth account 2\"}},\"retryOnFail\":true,\"typeVersion\":4.2},{\"id\":\"7b148c5b-d4ae-498a-b7ef-2ed4ecc0a665\",\"name\":\"send e-mail?\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1420,80],\"parameters\":{\"text\":\"={{ $('parse results').item.json.prompt }}\\n\\nNOTE: ONLY send an email if the situation meets the above condition. Otherwise, do NOT use the tool\\n\\nNOTE: this concerns differences between the \\\"old version page\\\" (scrape from yesterday) and \\\"new version page\\\" (scrape from now)\",\"options\":{\"systemMessage\":\"=old version page: \\\\n\\\\n {{ JSON.stringify($('scrape page - 1').item.json[\\\"data\\\"][\\\"markdown\\\"]) }} \\\\n\\\\n /// \\\\n\\\\n new version page: \\\\n\\\\n {{ JSON.stringify($('scrape page - 1').item.json[\\\"data\\\"][\\\"markdown\\\"]) }}\"},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.7},{\"id\":\"7897d707-2c27-43bf-9ea0-90ab7996bf4a\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[920,-260],\"parameters\":{\"width\":150,\"height\":80,\"content\":\"Connect your own OpenAI account\\n\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"dec23eea-1590-4418-ab2b-1cb4a6ccfdc6\",\"connections\":{\"Gmail\":{\"ai_tool\":[[{\"node\":\"send e-mail?\",\"type\":\"ai_tool\",\"index\":0}]]},\"wait 1 day\":{\"main\":[[{\"node\":\"scrape page - 2\",\"type\":\"main\",\"index\":0}]]},\"send e-mail?\":{\"main\":[[{\"node\":\"scrape page - 1\",\"type\":\"main\",\"index\":0}]]},\"parse results\":{\"main\":[[{\"node\":\"scrape page - 1\",\"type\":\"main\",\"index\":0}]]},\"scrape page - 1\":{\"main\":[[{\"node\":\"wait 1 day\",\"type\":\"main\",\"index\":0}]]},\"scrape page - 2\":{\"main\":[[{\"node\":\"send e-mail?\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"send e-mail?\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"New espionage assignment\":{\"main\":[[{\"node\":\"convert message to website url & instruction\",\"type\":\"main\",\"index\":0}]]},\"convert message to website url & instruction\":{\"main\":[[{\"node\":\"parse results\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who is this template for?\n\nThis workflow template is designed for people seeking alerts when certain specific changes are made to any web page. Leveraging agentic AI, it analyzes the page every day and autonomously decides whether to send you an e-mail notification.\n\n## Example use cases\n\n  * Track price changes on [competitor's website]. Notify me when the price drops below €50.\n  * Monitor new blog posts on [industry leader's website] and summarize key insights.\n  * Check [competitor's job page] for new job postings related to software development.\n  * Watch for new product launches on [e-commerce site] and send me a summary.\n  * Detect any changes in the terms and conditions of [specific website].\n  * Track customer reviews for [specific product] on [review site] and extract key themes.\n\n\n\n## How it works\n\n  * When clicking 'test workflow' in the editor, a new browser tab will open where you can fill in the details of your espionage assignment\n  * Make sure you be as concise as possible when instructing AI. Instruct specific and to the point (see examples at the bottom).\n  * After submission, the flow will start off by extracting both the relevant website url and an optimized prompt. OpenAI's structured outputs is utilized, followed by a code node to parse the results for further use.\n  * From here on, the endless loop of daily checks will begin:\n\n\n  1. Initial scrape\n  2. 1 day delay\n  3. Second scrape\n  4. AI agent decides whether or not to notify you\n  5. Back to step 1\n\n\n  * You can cancel an espionage assignment at any time in the executions tab\n\n\n\n## Set up steps\n\n  * Insert your OpenAI API key in the structured outputs node (second one)\n  * Create a Firecrawl account and connect your Firecrawl API key in both 'Scrape page'-nodes\n  * Connect your OpenAI account in the AI agents' model node\n  * Connect your Gmail account in the AI agents' Gmail tool node\n\n\n",
  "crawled_at": "2025-05-26T03:44:24.017498",
  "readme_zh": "## 适用对象\n\n本工作流模板专为需要监控特定网页变更的人士设计。通过智能代理AI技术，每日自动分析目标页面，并自主判断是否向您发送邮件通知。\n\n## 典型应用场景\n\n* 追踪[竞品网站]价格变动，当价格跌破50欧元时提醒\n* 监控[行业领袖博客]的新文章并总结核心观点\n* 检查[竞争对手招聘页]是否发布软件开发相关新职位\n* 监测[电商平台]新品发布动态并发送简报\n* 侦测[特定网站]服务条款的任何修改\n* 跟踪[测评网站]上[某产品]的用户评价并提炼关键主题\n\n## 运行原理\n\n* 在编辑器中点击\"测试工作流\"时，将开启新浏览器标签页供填写监控任务详情\n* 给AI下达指令时务必简明扼要（参考底部示例）\n* 提交后，系统首先提取目标网址并优化指令，利用OpenAI结构化输出功能，再通过代码节点解析结果\n* 随后启动每日循环检测流程：\n\n1. 首次抓取\n2. 间隔24小时\n3. 二次抓取\n4. AI代理判断是否触发通知\n5. 返回步骤1循环\n\n* 您可随时在执行记录中终止监控任务\n\n## 配置步骤\n\n* 在第二个节点（结构化输出节点）填入OpenAI API密钥\n* 注册Firecrawl账户，在两个\"页面抓取\"节点配置Firecrawl API密钥\n* 在AI代理模型节点关联OpenAI账户\n* 在AI代理的Gmail工具节点绑定您的Gmail账户",
  "title_zh": "使用OpenAI和Firecrawl监控竞争对手网站的变动",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"id\": \"aOP0D1cAqzGv7Xa8\",\n  \"meta\": {\n    \"instanceId\": \"0a5638e14e0c728ef975d18d109cfb41edae575e3d911724f4f1eccde06a729f\"\n  },\n  \"name\": \"spy tool\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"5690844d-5322-4c62-8c83-eb4d4dc9c481\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1400,\n        340\n      ],\n      \"parameters\": {\n        \"model\": \"gpt-4o\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"ZOKbogCxHnP2W0H5\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b1c034f-501b-423c-844f-9cb607fa91e6\",\n      \"name\": \"Gmail\",\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"position\": [\n        1580,\n        340\n      ],\n      \"webhookId\": \"6a510528-22e0-4140-b987-770bb7a138de\",\n      \"parameters\": {\n        \"sendTo\": \"tom@sleak.chat\",\n        \"message\": \"={{ $fromAI(\\\"change\\\", \\\"What relevant part has changed on the website?\\\") }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"=Relevant changes on {{ $('parse results').item.json.website_url }}\",\n        \"emailType\": \"text\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"=Use this tool if you need to send an email, but only if the terms in the instructions mentioned explicitly state so\\n\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"jtANm6k92Kl6ent1\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"4d448a02-4569-451e-8be5-59bfc48f36d8\",\n      \"name\": \"parse results\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1180,\n        -160\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const parsedObject = JSON.parse($('convert message to website url & instruction').first().json.choices[0].message.content);\\n\\nreturn parsedObject\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"238298c4-5bba-4ac1-b3cc-ab5a28888560\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1420,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 260,\n        \"height\": 180,\n        \"content\": \"## 注意：几乎无法立即生效\\n根据需要调整“工具代理”和“Gmail”节点中的提示指令，以引导代理行为朝正确方向发展\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d519c06-aa30-4a33-895f-9185936d27cf\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        100\n      ],\n      \"parameters\": {\n        \"width\": 150,\n        \"height\": 80,\n        \"content\": \"连接您的Firecrawl账户\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9e327bbe-0096-4a4d-aec2-2e4cae7d91bd\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1740,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 150,\n        \"height\": 80,\n        \"content\": \"连接您自己的OpenAI账户\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"30ce0e22-f536-462f-8f94-f3fd92ae036f\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1660,\n        300\n      ],\n      \"parameters\": {\n        \"width\": 150,\n        \"height\": 80,\n        \"content\": \"连接您自己的Gmail账户\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bc003781-3d91-49b6-b6bb-b2970b39256a\",\n      \"name\": \"convert message to website url & instruction\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        940,\n        -160\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.openai.com/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"gpt-4o-2024-08-06\\\",\\n  \\\"messages\\\": [\\n              {\\n        \\\"role\\\": \\\"user\\\",\\n        \\\"content\\\": \\\"convert the following message to a website url (just the plain text url, NOT formatted or in markdown) and prompt to AI. Make the prompt as verbose as possible. Message: {{ $('New espionage assignment').first().json.assignment_instructions }}\\\"\\n    }\\n  ],\\n  \\\"response_format\\\": {\\n    \\\"type\\\": \\\"json_schema\\\",\\n    \\\"json_schema\\\": {\\n      \\\"name\\\": \\\"variable_extraction\\\",\\n      \\\"schema\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"website_url\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"prompt\\\": { \\\"type\\\": \\\"string\\\" }\\n        },\\n        \\\"required\\\": [\\\"website_url\\\", \\\"prompt\\\"],\\n        \\\"additionalProperties\\\": false\\n      },\\n      \\\"strict\\\": true\\n    }\\n  }\\n}\\n\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"openAiApi\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"ZOKbogCxHnP2W0H5\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6a8c172d-ac39-4cb0-b601-39fc770695ed\",\n      \"name\": \"New espionage assignment\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        700,\n        -160\n      ],\n      \"webhookId\": \"7470334f-93e1-47af-9521-d3a232c38b13\",\n      \"parameters\": {\n        \"options\": {},\n        \"formTitle\": \"New espionage assignment\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"assignment_instructions\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": false,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"c5c64e5c-88de-45e3-bb9b-4096e74a6e83\",\n      \"name\": \"wait 1 day\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        940,\n        80\n      ],\n      \"webhookId\": \"22e689e4-b93d-4c59-81e5-43c070833454\",\n      \"parameters\": {\n        \"unit\": \"days\",\n        \"amount\": 1\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"62a278ff-ed00-4e54-a608-001237551113\",\n      \"name\": \"scrape page - 1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        80\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.firecrawl.dev/v1/scrape\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"url\\\": \\\"{{ $('parse results').item.json.website_url }}\\\",\\n  \\\"formats\\\": [\\n    \\\"markdown\\\"\\n  ],\\n  \\\"onlyMainContent\\\": true,\\n  \\\"waitFor\\\": 5000\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpBasicAuth\": {\n          \"id\": \"h2XRcXzLcEfvDVKb\",\n          \"name\": \"Unnamed credential\"\n        },\n        \"httpHeaderAuth\": {\n          \"id\": \"FoyIka0WgFG4FPxA\",\n          \"name\": \"Header Auth account 2\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"89c15d8f-7f8e-4391-b24a-07579964ca5c\",\n      \"name\": \"scrape page - 2\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1180,\n        80\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.firecrawl.dev/v1/scrape\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"url\\\": \\\"{{ $('parse results').item.json.website_url }}\\\",\\n  \\\"formats\\\": [\\n    \\\"markdown\\\"\\n  ],\\n  \\\"onlyMainContent\\\": true,\\n  \\\"waitFor\\\": 5000\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"FoyIka0WgFG4FPxA\",\n          \"name\": \"Header Auth account 2\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7b148c5b-d4ae-498a-b7ef-2ed4ecc0a665\",\n      \"name\": \"send e-mail?\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1420,\n        80\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $('parse results').item.json.prompt }}\\n\\nNOTE: ONLY send an email if the situation meets the above condition. Otherwise, do NOT use the tool\\n\\nNOTE: this concerns differences between the \\\"old version page\\\" (scrape from yesterday) and \\\"new version page\\\" (scrape from now)\",\n        \"options\": {\n          \"systemMessage\": \"=old version page: \\\\n\\\\n {{ JSON.stringify($('scrape page - 1').item.json[\\\"data\\\"][\\\"markdown\\\"]) }} \\\\n\\\\n /// \\\\n\\\\n new version page: \\\\n\\\\n {{ JSON.stringify($('scrape page - 1').item.json[\\\"data\\\"][\\\"markdown\\\"]) }}\"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"7897d707-2c27-43bf-9ea0-90ab7996bf4a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        920,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 150,\n        \"height\": 80,\n        \"content\": \"连接您自己的OpenAI账户\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"dec23eea-1590-4418-ab2b-1cb4a6ccfdc6\",\n  \"connections\": {\n    \"Gmail\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"send e-mail?\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"wait 1 day\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"scrape page - 2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"send e-mail?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"scrape page - 1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"parse results\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"scrape page - 1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"scrape page - 1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"wait 1 day\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"scrape page - 2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"send e-mail?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"send e-mail?\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"New espionage assignment\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"convert message to website url & instruction\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"convert message to website url & instruction\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"parse results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}