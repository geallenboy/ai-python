{
  "url": "https://n8n.io/workflows/3330-monitor-usdt-erc-20-wallet-balance-with-etherscan-and-telegram-notifications/",
  "title": "Monitor USDT ERC-20 Wallet Balance with Etherscan and Telegram Notifications",
  "author": "FORK SOFTWARE TECHNOLOGIES INC.",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Finance"
    }
  ],
  "workflow_json": "{\"id\":\"AlEVIPHR3dMJkYWt\",\"meta\":{\"instanceId\":\"58e59e36ad4158b4534237c364ed053a36843e3394fa02af59feb8df38262a79\",\"templateCredsSetupCompleted\":true},\"name\":\"Monitor USDT ERC-20 Wallet Balance with Etherscan and Telegram Notifications\",\"tags\":[],\"nodes\":[{\"id\":\"35b62ca1-3603-4dcb-a3b5-77e1325c78f7\",\"name\":\"Balance Changed?\",\"type\":\"n8n-nodes-base.if\",\"position\":[-40,0],\"parameters\":{\"conditions\":{\"boolean\":[{\"value1\":\"={{$json.balanceChanged}}\",\"value2\":true}]}},\"typeVersion\":1},{\"id\":\"dfeef0d5-0bb2-40a1-ae75-51d7caeb9c3d\",\"name\":\"Balance Changed.\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[320,-140],\"webhookId\":\"a8fa72ce-638b-4245-bcbc-d59948ae1144\",\"parameters\":{\"text\":\"=🚨 *USDT Balance Change!*\\n\\nWallet Address: {{ $json.walletAddress }}\\n\\n🔴 Previous Balance: {{parseFloat($json.previousBalance)/1e6}} USDT\\n\\n🟢 New Balance: {{parseFloat($json.currentBalance)/1e6}} USDT\",\"chatId\":\"< Your Telegram Chat ID >\",\"additionalFields\":{\"parse_mode\":\"Markdown\"}},\"credentials\":{\"telegramApi\":{\"id\":\"Ge3vEXak2MymWtcp\",\"name\":\"Telegram account\"}},\"typeVersion\":1},{\"id\":\"ffebdb46-a6f0-4ed8-88ed-75ab427af969\",\"name\":\"Balance Not Changed.\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[320,20],\"webhookId\":\"a8fa72ce-638b-4245-bcbc-d59948ae1144\",\"parameters\":{\"text\":\"=Balance Unchanged. USDT balance remained stable.\",\"chatId\":\"< Your Telegram Chat ID >\",\"additionalFields\":{\"parse_mode\":\"Markdown\"}},\"typeVersion\":1},{\"id\":\"049ff717-ba10-4b7f-9f84-9eaaeee902ec\",\"name\":\"userData\",\"type\":\"n8n-nodes-base.set\",\"position\":[-780,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"4455d1e7-a489-4ab6-a526-4fc755db99d0\",\"name\":\"Your Wallet Address\",\"type\":\"string\",\"value\":\"< Wallet Address Paste Here >\"},{\"id\":\"3d84deba-8093-42cf-833f-6891db778de7\",\"name\":\"Your Etherscan Api Key\",\"type\":\"string\",\"value\":\"< Etherscan Api Key Paste Here>\"},{\"id\":\"971ea723-e3de-4cff-b4e7-5899f3d8fb00\",\"name\":\"USDT ERC-20 Token Address\",\"type\":\"string\",\"value\":\"0xdAC17F958D2ee523a2206206994597C13D831ec7\"}]}},\"typeVersion\":3.4},{\"id\":\"0488f2dd-6b71-4be5-9ce8-cf0763b82990\",\"name\":\"balanceChecker\",\"type\":\"n8n-nodes-base.code\",\"position\":[-280,0],\"parameters\":{\"jsCode\":\"const staticData = $getWorkflowStaticData('global');\\n\\nconst currentBalance = items[0].json.result;\\n\\nconst walletAddress = $('userData').first().json['Your Wallet Address']\\n\\nlet previousBalance = staticData.previousBalance;\\n\\nif (!previousBalance) {\\n  staticData.previousBalance = currentBalance;\\n  previousBalance = currentBalance;\\n}\\n\\nconst balanceChanged = previousBalance !== currentBalance;\\n\\nstaticData.previousBalance = currentBalance;\\n\\nreturn [{json: {balanceChanged, previousBalance, currentBalance, walletAddress}}];\"},\"typeVersion\":2},{\"id\":\"d7b23d5b-b4c5-4d9a-93f9-360ae0d539c7\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1040,-180],\"parameters\":{\"color\":4,\"width\":1540,\"height\":400,\"content\":\"## USDT ERC-20 Wallet Balance Tracker\\n**This workflow** Is a basic concept of integrating your ERC-20 wallet with n8n nodes.\"},\"typeVersion\":1},{\"id\":\"7c8f0d69-6c37-469c-b466-89a467db9bbd\",\"name\":\"Check Balance Every 5 Minutes\",\"type\":\"n8n-nodes-base.cron\",\"position\":[-1000,0],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyX\",\"unit\":\"minutes\",\"value\":5}]}},\"typeVersion\":1},{\"id\":\"ea603f03-25e0-4c80-90f2-eb5f09e71ad1\",\"name\":\"Fetch USDT Balance from Etherscan\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-480,0],\"parameters\":{\"url\":\"https://api.etherscan.io/api\",\"options\":{},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"module\",\"value\":\"account\"},{\"name\":\"action\",\"value\":\"tokenbalance\"},{\"name\":\"address\",\"value\":\"={{ $json['Your Wallet Address'] }}\"},{\"name\":\"tag\",\"value\":\"latest\"},{\"name\":\"apikey\",\"value\":\"={{ $json['Your Etherscan Api Key'] }}\"},{\"name\":\"contractaddress\",\"value\":\"={{ $json['USDT ERC-20 Token Address'] }}\"}]}},\"typeVersion\":3}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"7ebf18de-7adf-40dd-99b4-ff8dd1e37f08\",\"connections\":{\"userData\":{\"main\":[[{\"node\":\"Fetch USDT Balance from Etherscan\",\"type\":\"main\",\"index\":0}]]},\"balanceChecker\":{\"main\":[[{\"node\":\"Balance Changed?\",\"type\":\"main\",\"index\":0}]]},\"Balance Changed.\":{\"main\":[[]]},\"Balance Changed?\":{\"main\":[[{\"node\":\"Balance Changed.\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Balance Not Changed.\",\"type\":\"main\",\"index\":0}]]},\"Check Balance Every 5 Minutes\":{\"main\":[[{\"node\":\"userData\",\"type\":\"main\",\"index\":0}]]},\"Fetch USDT Balance from Etherscan\":{\"main\":[[{\"node\":\"balanceChecker\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "![Screenshot at Mar 26 113716.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_at_Mar_26_11_37_16_bf5c47a236.png)\n\n# Overview\n\nThis n8n workflow is specifically designed to monitor the USDT ERC-20 balance within a specific wallet. It uses Etherscan's public blockchain database, which does not require API authentication, to periodically check and process transaction data. This workflow is ideal for users who need an automated solution to track ERC-20 wallet transactions.\n\n# Features\n\n  * **Automatic Monitoring** : Executes every 5 minutes to capture new transactions.\n  * **Customizable Filters** : Customize tracking based on parameters like transaction duration and wallet addresses.\n  * **Data Aggregation** : Compiles transaction data into a single, structured list.\n  * **Formatted Outputs** : Presents processed data in an organized format.\n  * **Telegram Tracking** : Tracks wallet balances via Telegram notifications using the bot.\n\n\n\n# Requirements\n\n  * **n8n Setup** : Requires a self-hosted or cloud-based n8n instance.\n  * **Basic Understanding** : Basic knowledge of n8n workflows and nodes.\n\n\n\n# Installation and Configuration\n\n  1. **Import Workflow** : Load the provided JSON workflow into your n8n instance.\n\n  2. **Configure the User Data Node** :\n\n     * Enter your ERC-20 Wallet Address in the 'Your Wallet Address' field.\n     * Enter your Etherscan API Key in the “Your Etherscan API Key” field.\n     * Enter your USDT ERC-20 Contract Address in the \"Your ERC-20 USDT Contract Address\" field (0xdAC17F958D2ee523a2206206994597C13D831ec7). You can also monitor another token by entering a different contract address.\n  3. **Configure the Telegram Node** :\n\n     * Go to Telegram and search for \"BotFather\".  \n![botfather.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/botfather_11d5fcf296.png)\n     * Select `/newbot` from the BotFather menu to create your bot.\n     * Get the API key BotFather provides.\n     * Go to Telegram and search for \"Get My ChatID\".  \n![chatid.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/chatid_274447cd3c.png)\n     * Start the conversation and get your ChatID.\n     * Use this information to configure the Telegram Node.\n  4. **Schedule Trigger Node** : By default, the workflow is triggered every 5 minutes. Adjust this according to your needs.\n\n  5. **Test the Workflow** : Execute the workflow manually to ensure everything is working as expected.\n\n\n\n\n# How It Works\n\n  1. **Schedule Trigger** : Starts the workflow at predetermined intervals.\n  2. **Edit Fields** : Sets the wallet address, Etherscan API key, and USDT ERC-20 token address.\n  3. **Edit Telegram Settings** : Create a bot via BotFather. Configure the API key and Telegram Chat ID.\n  4. **Etherscan Data Import** : Collects transaction data from the ERC-20 wallet using Etherscan's public database.\n  5. **Final Results** : Organizes and formats the transaction data for review.\n  6. **Telegram Bot Message Sending** : If there is a balance change, it sends a formatted message about the balance change. If there is no balance change, it sends a message that your balance has not changed. You can configure it to avoid sending a message when there is no change.\n\n\n",
  "crawled_at": "2025-05-26T04:14:46.129194",
  "readme_zh": "# 概述\n\n该n8n工作流专为监控特定钱包内的USDT ERC-20余额设计。它利用无需API认证的Etherscan公共区块链数据库，定期检查并处理交易数据。本方案非常适合需要自动追踪ERC-20钱包交易的用户。\n\n# 功能特点\n\n* **自动监控**：每5分钟执行一次以捕获新交易\n* **可定制筛选**：支持根据交易时长、钱包地址等参数灵活配置\n* **数据聚合**：将交易数据编译为结构化列表\n* **格式化输出**：以清晰格式呈现处理后的数据\n* **Telegram追踪**：通过机器人推送钱包余额变动通知\n\n# 系统要求\n\n* **n8n环境**：需自建或云端n8n实例\n* **基础知识**：需了解n8n工作流和节点基本操作\n\n# 安装配置指南\n\n1. **导入工作流**：将提供的JSON工作流加载至n8n实例\n\n2. **配置用户数据节点**：\n   * 在\"您的钱包地址\"字段输入ERC-20钱包地址\n   * 在\"Etherscan API密钥\"字段输入您的密钥\n   * 在\"USDT ERC-20合约地址\"字段输入标准合约地址(0xdAC17F958D2ee523a2206206994597C13D831ec7)，如需监控其他代币可替换不同合约地址\n\n3. **配置Telegram节点**：\n   * 在Telegram搜索\"BotFather\"创建机器人\n   * 从BotFather菜单选择`/newbot`指令\n   * 获取BotFather提供的API密钥\n   * 在Telegram搜索\"Get My ChatID\"获取会话ID\n   * 将上述信息填入Telegram节点配置\n\n4. **计划触发器节点**：默认每5分钟触发，可根据需求调整间隔\n\n5. **测试工作流**：手动执行以验证功能正常\n\n# 运行原理\n\n1. **计划触发**：按预设时间间隔启动工作流\n2. **字段编辑**：设置钱包地址、API密钥和代币合约地址\n3. **Telegram配置**：通过BotFather创建机器人并配置通信参数\n4. **Etherscan数据导入**：从公共数据库获取ERC-20钱包交易记录\n5. **最终结果**：整理格式化后的交易数据\n6. **Telegram消息推送**：余额变动时发送格式化通知，无变动时可配置静默模式",
  "title_zh": "使用Etherscan和Telegram通知监控USDT ERC-20钱包余额",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"id\": \"AlEVIPHR3dMJkYWt\",\n  \"meta\": {\n    \"instanceId\": \"58e59e36ad4158b4534237c364ed053a36843e3394fa02af59feb8df38262a79\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Monitor USDT ERC-20 Wallet Balance with Etherscan and Telegram Notifications\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"35b62ca1-3603-4dcb-a3b5-77e1325c78f7\",\n      \"name\": \"Balance Changed?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -40,\n        0\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": \"={{$json.balanceChanged}}\",\n              \"value2\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dfeef0d5-0bb2-40a1-ae75-51d7caeb9c3d\",\n      \"name\": \"Balance Changed.\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        320,\n        -140\n      ],\n      \"webhookId\": \"a8fa72ce-638b-4245-bcbc-d59948ae1144\",\n      \"parameters\": {\n        \"text\": \"=🚨 *USDT Balance Change!*\\n\\nWallet Address: {{ $json.walletAddress }}\\n\\n🔴 Previous Balance: {{parseFloat($json.previousBalance)/1e6}} USDT\\n\\n🟢 New Balance: {{parseFloat($json.currentBalance)/1e6}} USDT\",\n        \"chatId\": \"< Your Telegram Chat ID >\",\n        \"additionalFields\": {\n          \"parse_mode\": \"Markdown\"\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"Ge3vEXak2MymWtcp\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ffebdb46-a6f0-4ed8-88ed-75ab427af969\",\n      \"name\": \"Balance Not Changed.\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        320,\n        20\n      ],\n      \"webhookId\": \"a8fa72ce-638b-4245-bcbc-d59948ae1144\",\n      \"parameters\": {\n        \"text\": \"=Balance Unchanged. USDT balance remained stable.\",\n        \"chatId\": \"< Your Telegram Chat ID >\",\n        \"additionalFields\": {\n          \"parse_mode\": \"Markdown\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"049ff717-ba10-4b7f-9f84-9eaaeee902ec\",\n      \"name\": \"userData\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -780,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4455d1e7-a489-4ab6-a526-4fc755db99d0\",\n              \"name\": \"Your Wallet Address\",\n              \"type\": \"string\",\n              \"value\": \"< Wallet Address Paste Here >\"\n            },\n            {\n              \"id\": \"3d84deba-8093-42cf-833f-6891db778de7\",\n              \"name\": \"Your Etherscan Api Key\",\n              \"type\": \"string\",\n              \"value\": \"< Etherscan Api Key Paste Here>\"\n            },\n            {\n              \"id\": \"971ea723-e3de-4cff-b4e7-5899f3d8fb00\",\n              \"name\": \"USDT ERC-20 Token Address\",\n              \"type\": \"string\",\n              \"value\": \"0xdAC17F958D2ee523a2206206994597C13D831ec7\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0488f2dd-6b71-4be5-9ce8-cf0763b82990\",\n      \"name\": \"balanceChecker\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -280,\n        0\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const staticData = $getWorkflowStaticData('global');\\n\\nconst currentBalance = items[0].json.result;\\n\\nconst walletAddress = $('userData').first().json['Your Wallet Address']\\n\\nlet previousBalance = staticData.previousBalance;\\n\\nif (!previousBalance) {\\n  staticData.previousBalance = currentBalance;\\n  previousBalance = currentBalance;\\n}\\n\\nconst balanceChanged = previousBalance !== currentBalance;\\n\\nstaticData.previousBalance = currentBalance;\\n\\nreturn [{json: {balanceChanged, previousBalance, currentBalance, walletAddress}}];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"d7b23d5b-b4c5-4d9a-93f9-360ae0d539c7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1040,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 1540,\n        \"height\": 400,\n        \"content\": \"## USDT ERC-20 钱包余额追踪器  \\n**此工作流** 是一个将您的ERC-20钱包与n8n节点集成的基础概念。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7c8f0d69-6c37-469c-b466-89a467db9bbd\",\n      \"name\": \"Check Balance Every 5 Minutes\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        -1000,\n        0\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ea603f03-25e0-4c80-90f2-eb5f09e71ad1\",\n      \"name\": \"Fetch USDT Balance from Etherscan\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -480,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.etherscan.io/api\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"module\",\n              \"value\": \"account\"\n            },\n            {\n              \"name\": \"action\",\n              \"value\": \"tokenbalance\"\n            },\n            {\n              \"name\": \"address\",\n              \"value\": \"={{ $json['Your Wallet Address'] }}\"\n            },\n            {\n              \"name\": \"tag\",\n              \"value\": \"latest\"\n            },\n            {\n              \"name\": \"apikey\",\n              \"value\": \"={{ $json['Your Etherscan Api Key'] }}\"\n            },\n            {\n              \"name\": \"contractaddress\",\n              \"value\": \"={{ $json['USDT ERC-20 Token Address'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"7ebf18de-7adf-40dd-99b4-ff8dd1e37f08\",\n  \"connections\": {\n    \"userData\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch USDT Balance from Etherscan\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"balanceChecker\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Balance Changed?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Balance Changed.\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Balance Changed?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Balance Changed.\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Balance Not Changed.\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Balance Every 5 Minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"userData\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch USDT Balance from Etherscan\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"balanceChecker\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}