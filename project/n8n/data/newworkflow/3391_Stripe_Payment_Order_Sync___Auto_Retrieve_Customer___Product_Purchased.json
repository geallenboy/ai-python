{
  "url": "https://n8n.io/workflows/3391-stripe-payment-order-sync-auto-retrieve-customer-and-product-purchased/",
  "title": "Stripe Payment Order Sync – Auto Retrieve Customer & Product Purchased",
  "author": "Mateo Fiorito Rocha",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "IT Ops"
    }
  ],
  "workflow_json": "{\"id\":\"YVNJOltj0jMQatGz\",\"meta\":{\"instanceId\":\"143d2ab55c8bffb06f8b9c7ad30335764fdc48bbbacecbe2218dadb998a32213\",\"templateCredsSetupCompleted\":true},\"name\":\"Stripe Payment Order Sync – Auto Retrieve Customer & Product Purchased\",\"tags\":[],\"nodes\":[{\"id\":\"90322fe5-5536-41c3-ac08-ea87a856781b\",\"name\":\"Stripe Trigger on Payment Event\",\"type\":\"n8n-nodes-base.stripeTrigger\",\"position\":[0,0],\"webhookId\":\"e85ac894-bb67-436c-ad39-308a00c8e922\",\"parameters\":{\"events\":[\"checkout.session.completed\"]},\"credentials\":{\"stripeApi\":{\"id\":\"ClCB0WooGxls3WGM\",\"name\":\"Stripe Test\"}},\"typeVersion\":1},{\"id\":\"3feb0b03-921e-4bfd-8a50-b2b6b47e9497\",\"name\":\"Extract Session Information\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[300,0],\"parameters\":{\"url\":\"=https://api.stripe.com/v1/checkout/sessions/{{ $json.data.object.id }}\",\"options\":{},\"sendQuery\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"expand[]\",\"value\":\"line_items\"}]},\"nodeCredentialType\":\"stripeApi\"},\"credentials\":{\"stripeApi\":{\"id\":\"ClCB0WooGxls3WGM\",\"name\":\"Stripe Test\"},\"httpHeaderAuth\":{\"id\":\"9UNc6IDuBlNCX6zd\",\"name\":\"PDF to Text\"}},\"typeVersion\":4.2},{\"id\":\"5a436d1c-88e9-492e-8fe0-33a5706de1b3\",\"name\":\"Filter Information\",\"type\":\"n8n-nodes-base.set\",\"position\":[560,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"95a68e0f-b74c-4ca2-8143-14b469aa6bfb\",\"name\":\"Customer Name\",\"type\":\"string\",\"value\":\"={{ $json.customer_details.name }}\"},{\"id\":\"7634efa6-04f3-4dac-8509-56aae29fcc79\",\"name\":\"Customer Email\",\"type\":\"string\",\"value\":\"={{ $json.customer_details.email }}\"},{\"id\":\"10e71e07-6dd3-410c-a774-1eeffe2be7a5\",\"name\":\"Product Purchased\",\"type\":\"string\",\"value\":\"={{ $json.line_items.data[0].description }}\"}]}},\"typeVersion\":3.4}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"e3f6ba06-36d9-4b41-9c5a-cec669ce507b\",\"connections\":{\"Extract Session Information\":{\"main\":[[{\"node\":\"Filter Information\",\"type\":\"main\",\"index\":0}]]},\"Stripe Trigger on Payment Event\":{\"main\":[[{\"node\":\"Extract Session Information\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Overview\n\nThis automation template is designed to streamline your payment processing by automatically triggering upon a successful Stripe payment. The workflow retrieves the complete payment session and filters the information to display only the customer name, customer email, and the purchased product details. This template is perfect for quickly integrating Stripe transactions into your inventory management, CRM, or notification systems.\n\n## Step-by-Step Setup Instructions\n\n  1. **Stripe Account Configuration:**\n\n     * Ensure you have an active Stripe account.\n     * Connect your Stripe Credentials.\n  2. **Retrieve Product and Customer Data:**\n\n     * Utilize Stripe’s API within the automation to fetch the purchased product details.\n     * Retrieve customer information such as: email and full name.\n  3. **Integration and Response:**\n\n     * Map the retrieved data to your desired format.\n     * Trigger subsequent nodes or actions such as sending a confirmation email, updating a CRM system, or logging the transaction.\n\n\n\n## Pre-Conditions and Requirements\n\n  * **Stripe Account:** A valid Stripe account with access to API keys and webhook configurations.\n  * **API Keys:** Ensure you have your Stripe secret and publishable keys ready.\n\n\n\n## Customization Guidance\n\n  * **Data Mapping:** Customize the filtering node to match your specific data schema or to include additional data fields if needed.\n  * **Additional Actions:** Integrate further nodes to handle post-payment actions like sending SMS notifications, updating order statuses, or generating invoices.\n\n\n\nEnjoy seamless integration and enhanced order management with this automation template!\n",
  "crawled_at": "2025-05-26T04:21:38.321966",
  "readme_zh": "## 概述  \n本自动化模板专为简化支付流程设计，当Stripe支付成功时将自动触发。工作流会获取完整的支付会话信息，并筛选仅显示客户姓名、客户邮箱及所购商品详情。该模板可快速将Stripe交易数据整合至库存管理系统、客户关系管理（CRM）系统或通知系统，是提升效率的理想选择。\n\n## 分步设置指南  \n1. **Stripe账户配置**  \n   * 确保拥有有效的Stripe账户  \n   * 关联您的Stripe凭证  \n\n2. **获取商品与客户数据**  \n   * 在自动化流程中使用Stripe API获取所购商品详情  \n   * 提取客户信息（如邮箱和全名）  \n\n3. **集成与响应**  \n   * 将获取的数据映射至目标格式  \n   * 触发后续节点或操作（如发送确认邮件、更新CRM系统或记录交易）  \n\n## 前提条件与要求  \n* **Stripe账户**：需具备有效的Stripe账户及API密钥和Webhook配置权限  \n* **API密钥**：提前准备好Stripe密钥（Secret Key与Publishable Key）  \n\n## 定制指引  \n* **数据映射**：根据需求调整筛选节点，匹配特定数据架构或添加额外字段  \n* **扩展操作**：集成更多节点以实现支付后操作（如发送短信通知、更新订单状态或生成发票）  \n\n通过此自动化模板，享受无缝集成与高效订单管理体验！",
  "title_zh": "Stripe支付订单同步 - 自动获取客户及购买商品信息",
  "publish_date_zh": "最后一次更新于一个月前",
  "workflow_json_zh": "{\"id\":\"YVNJOltj0jMQatGz\",\"meta\":{\"instanceId\":\"143d2ab55c8bffb06f8b9c7ad30335764fdc48bbbacecbe2218dadb998a32213\",\"templateCredsSetupCompleted\":true},\"name\":\"Stripe Payment Order Sync – Auto Retrieve Customer & Product Purchased\",\"tags\":[],\"nodes\":[{\"id\":\"90322fe5-5536-41c3-ac08-ea87a856781b\",\"name\":\"Stripe Trigger on Payment Event\",\"type\":\"n8n-nodes-base.stripeTrigger\",\"position\":[0,0],\"webhookId\":\"e85ac894-bb67-436c-ad39-308a00c8e922\",\"parameters\":{\"events\":[\"checkout.session.completed\"]},\"credentials\":{\"stripeApi\":{\"id\":\"ClCB0WooGxls3WGM\",\"name\":\"Stripe Test\"}},\"typeVersion\":1},{\"id\":\"3feb0b03-921e-4bfd-8a50-b2b6b47e9497\",\"name\":\"Extract Session Information\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[300,0],\"parameters\":{\"url\":\"=https://api.stripe.com/v1/checkout/sessions/{{ $json.data.object.id }}\",\"options\":{},\"sendQuery\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"expand[]\",\"value\":\"line_items\"}]},\"nodeCredentialType\":\"stripeApi\"},\"credentials\":{\"stripeApi\":{\"id\":\"ClCB0WooGxls3WGM\",\"name\":\"Stripe Test\"},\"httpHeaderAuth\":{\"id\":\"9UNc6IDuBlNCX6zd\",\"name\":\"PDF to Text\"}},\"typeVersion\":4.2},{\"id\":\"5a436d1c-88e9-492e-8fe0-33a5706de1b3\",\"name\":\"Filter Information\",\"type\":\"n8n-nodes-base.set\",\"position\":[560,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"95a68e0f-b74c-4ca2-8143-14b469aa6bfb\",\"name\":\"Customer Name\",\"type\":\"string\",\"value\":\"={{ $json.customer_details.name }}\"},{\"id\":\"7634efa6-04f3-4dac-8509-56aae29fcc79\",\"name\":\"Customer Email\",\"type\":\"string\",\"value\":\"={{ $json.customer_details.email }}\"},{\"id\":\"10e71e07-6dd3-410c-a774-1eeffe2be7a5\",\"name\":\"Product Purchased\",\"type\":\"string\",\"value\":\"={{ $json.line_items.data[0].description }}\"}]}},\"typeVersion\":3.4}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"e3f6ba06-36d9-4b41-9c5a-cec669ce507b\",\"connections\":{\"Extract Session Information\":{\"main\":[[{\"node\":\"Filter Information\",\"type\":\"main\",\"index\":0}]]},\"Stripe Trigger on Payment Event\":{\"main\":[[{\"node\":\"Extract Session Information\",\"type\":\"main\",\"index\":0}]]}}}"
}