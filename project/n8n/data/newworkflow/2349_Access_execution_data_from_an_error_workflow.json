{
  "url": "https://n8n.io/workflows/2349-access-execution-data-from-an-error-workflow/",
  "title": "Access execution data from an error workflow",
  "author": "David Roberts",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "DevOps"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"84ba6d895254e080ac2b4916d987aa66b000f88d4d919a6b9c76848f9b8a7616\",\"templateId\":\"2349\"},\"nodes\":[{\"id\":\"d9c81685-d16e-45c0-a1ab-3927ef619568\",\"name\":\"Error Trigger\",\"type\":\"n8n-nodes-base.errorTrigger\",\"position\":[380,240],\"parameters\":{},\"typeVersion\":1},{\"id\":\"22089e9b-73ae-4d03-a11b-5f67f9b47fb4\",\"name\":\"Extract webhook data\",\"type\":\"n8n-nodes-base.code\",\"position\":[820,240],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"const webhook_node_names = $json.workflowData.nodes.filter(x => x.type == 'n8n-nodes-base.webhook').map(x => x.name)\\n\\nconst webhook_data_array = webhook_node_names.map(n => $json.data.resultData.runData[n] ? $json.data.resultData.runData[n][0].data.main[0][0].json : null).filter(x => x != null)\\n\\nlet webhook_data = null;\\nif (webhook_data_array.length > 0) {\\n  webhook_data = webhook_data_array[0]\\n}\\n\\nreturn {\\n  'webhook_node_names': webhook_node_names,\\n  'webook_node_payload': webhook_data\\n}\"},\"typeVersion\":2},{\"id\":\"b7fb5443-3faf-4e59-b464-4d3ca131a84f\",\"name\":\"Get execution data\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[600,240],\"parameters\":{\"options\":{\"activeWorkflows\":true},\"resource\":\"execution\",\"operation\":\"get\",\"executionId\":\"={{ $json.execution.id }}\",\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"eGEre3g3El08ZItb\",\"name\":\"n8n account\"}},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Error Trigger\":{\"main\":[[{\"node\":\"Get execution data\",\"type\":\"main\",\"index\":0}]]},\"Get execution data\":{\"main\":[[{\"node\":\"Extract webhook data\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Sometimes you want to take a different action in your error workflow based on the data that was flowing through it.\n\nThis template illustrates how you can do that (more specifically, how you can retrieve the data of a webhook node).\n\n## How it works\n\n  1. Use the 'n8n' node to fetch the data of the failed execution\n  2. Parse that data to find webhook nodes and extract the data of the one that was executed\n\n\n",
  "crawled_at": "2025-05-25T23:35:06.030396",
  "readme_zh": "有时，您可能希望根据错误工作流中流经的数据采取不同的处理措施。\n\n本模板展示了如何实现这一操作（具体而言，是如何获取Webhook节点的数据）。\n\n## 运作原理\n\n  1. 使用'n8n'节点获取失败执行的数据  \n  2. 解析该数据以定位Webhook节点，并提取已执行节点的数据",
  "title_zh": "从错误工作流中获取执行数据",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"84ba6d895254e080ac2b4916d987aa66b000f88d4d919a6b9c76848f9b8a7616\",\n    \"templateId\": \"2349\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"d9c81685-d16e-45c0-a1ab-3927ef619568\",\n      \"name\": \"Error Trigger\",\n      \"type\": \"n8n-nodes-base.errorTrigger\",\n      \"position\": [\n        380,\n        240\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"22089e9b-73ae-4d03-a11b-5f67f9b47fb4\",\n      \"name\": \"Extract webhook data\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        820,\n        240\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"const webhook_node_names = $json.workflowData.nodes.filter(x => x.type == 'n8n-nodes-base.webhook').map(x => x.name)\\n\\nconst webhook_data_array = webhook_node_names.map(n => $json.data.resultData.runData[n] ? $json.data.resultData.runData[n][0].data.main[0][0].json : null).filter(x => x != null)\\n\\nlet webhook_data = null;\\nif (webhook_data_array.length > 0) {\\n  webhook_data = webhook_data_array[0]\\n}\\n\\nreturn {\\n  'webhook_node_names': webhook_node_names,\\n  'webook_node_payload': webhook_data\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b7fb5443-3faf-4e59-b464-4d3ca131a84f\",\n      \"name\": \"Get execution data\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        600,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"activeWorkflows\": true\n        },\n        \"resource\": \"execution\",\n        \"operation\": \"get\",\n        \"executionId\": \"={{ $json.execution.id }}\",\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"eGEre3g3El08ZItb\",\n          \"name\": \"n8n account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Error Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get execution data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get execution data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract webhook data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}