{
  "url": "https://n8n.io/workflows/3961-convert-llm-output-into-rich-telegram-messages-auto-media-and-smart-chunking/",
  "title": "Convert LLM Output into Rich Telegram Messages — Auto-Media & Smart Chunking",
  "author": "Dmitry Mikheev",
  "publish_date": "Last update 10 days ago",
  "publish_date_absolute": "2025-05-16",
  "categories": [
    {
      "name": "Other"
    },
    {
      "name": "Building Blocks"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"6bKCRgltEQMKck0S\",\"meta\":{\"instanceId\":\"90ee57f28a1370a05d29c652ea0aff6dc92be284367a87ea83ea3eac2120d7eb\"},\"name\":\"TelegramRichOutput\",\"tags\":[],\"nodes\":[{\"id\":\"a25428d1-d34c-42f4-9a1a-713bef6dc1e9\",\"name\":\"Send back an image\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[-480,720],\"webhookId\":\"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\"parameters\":{\"file\":\"={{ $json.url }}\",\"chatId\":\"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\"operation\":\"sendPhoto\",\"additionalFields\":{\"parse_mode\":\"HTML\"}},\"credentials\":{\"telegramApi\":{\"id\":\"FyjiLVRg007vuCnK\",\"name\":\"Telegram account (SCP)\"}},\"typeVersion\":1.1},{\"id\":\"052643fa-6319-43f3-a052-40ed0e255238\",\"name\":\"Send back an audio\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[-260,720],\"webhookId\":\"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\"parameters\":{\"file\":\"={{ $json.url }}\",\"chatId\":\"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\"operation\":\"sendAudio\",\"additionalFields\":{\"parse_mode\":\"HTML\"}},\"credentials\":{\"telegramApi\":{\"id\":\"FyjiLVRg007vuCnK\",\"name\":\"Telegram account (SCP)\"}},\"typeVersion\":1.1},{\"id\":\"73dfb105-5ffe-4f8a-b96e-b0b556d73956\",\"name\":\"Send back a video\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[-60,720],\"webhookId\":\"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\"parameters\":{\"file\":\"={{ $json.url }}\",\"chatId\":\"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\"operation\":\"sendVideo\",\"additionalFields\":{\"parse_mode\":\"HTML\"}},\"credentials\":{\"telegramApi\":{\"id\":\"FyjiLVRg007vuCnK\",\"name\":\"Telegram account (SCP)\"}},\"typeVersion\":1.1},{\"id\":\"e715f898-1bca-4e4e-a463-f30815664766\",\"name\":\"Send Text\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[140,220],\"webhookId\":\"c5c03eae-b148-4358-8792-d03d55bd0b48\",\"parameters\":{\"text\":\"={{ $('When Executed by Another Workflow').item.json.output }}\",\"chatId\":\"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"FyjiLVRg007vuCnK\",\"name\":\"Telegram account (SCP)\"}},\"typeVersion\":1.2},{\"id\":\"38f15fa8-f9a2-469b-9f30-fed46296bf1f\",\"name\":\"If text too long\",\"type\":\"n8n-nodes-base.if\",\"position\":[-140,60],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"a6365c72-9e4c-4b19-b725-9965fdb81e21\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $('When Executed by Another Workflow').item.json.output.length > 1000 }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"286d11cb-f94a-4143-8a27-34b5f4e14192\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[-960,-100],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"chatId\",\"type\":\"number\"},{\"name\":\"output\"}]}},\"typeVersion\":1.1},{\"id\":\"dab1fb0c-970e-43f7-a335-c48639edaabe\",\"name\":\"Loop Over Links\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-580,220],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"a1f73d92-b61e-41fa-a0c7-50e72078e096\",\"name\":\"If no links\",\"type\":\"n8n-nodes-base.if\",\"position\":[-520,-100],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"332d2f85-5f44-4d8b-a5c0-03bda9c3976d\",\"operator\":{\"type\":\"array\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.files }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"bd57fe5e-940b-46f9-a76f-ba4d6bae5c7c\",\"name\":\"Split Out the Links\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-800,220],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"files\"},\"typeVersion\":1},{\"id\":\"8e14c1e6-ece0-4310-97c2-829a37074706\",\"name\":\"Split large text by chunks\",\"type\":\"n8n-nodes-base.code\",\"position\":[140,-120],\"parameters\":{\"jsCode\":\"const inputText = $('When Executed by Another Workflow').first().json.output || \\\"\\\";\\nconst lines = inputText.split(\\\"\\\\n\\\");\\n\\nlet chunks = [];\\nlet currentChunk = \\\"\\\";\\n\\nfor (const line of lines) {\\n  // Check if adding the line would exceed the 1000 character limit\\n  if ((currentChunk + line + \\\"\\\\n\\\").length > 1000) {\\n    // Push current chunk if not empty\\n    if (currentChunk) chunks.push(currentChunk.trim());\\n    // Start new chunk with current line\\n    currentChunk = line + \\\"\\\\n\\\";\\n  } else {\\n    // Add line to current chunk\\n    currentChunk += line + \\\"\\\\n\\\";\\n  }\\n}\\n\\n// Push the final chunk if there’s remaining content\\nif (currentChunk) chunks.push(currentChunk.trim());\\n\\n// Return each chunk as a separate item\\nreturn { output:chunks.map(chunk => ({ chunk } ))};\"},\"typeVersion\":2},{\"id\":\"b08e8087-f155-4747-a5d8-8c9bb5511777\",\"name\":\"Split Out the Chunks\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[360,-120],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"output\"},\"typeVersion\":1},{\"id\":\"94b015d0-a1b7-4e13-973a-5a25fe88c209\",\"name\":\"Loop Over Text Chunks\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[560,-120],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"51f2598e-4958-4139-ab00-3836b7a52ed5\",\"name\":\"Send Text Chunk\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[800,-120],\"webhookId\":\"c5c03eae-b148-4358-8792-d03d55bd0b48\",\"parameters\":{\"text\":\"={{ $json.chunk }}\",\"chatId\":\"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"FyjiLVRg007vuCnK\",\"name\":\"Telegram account (SCP)\"}},\"typeVersion\":1.2},{\"id\":\"d7baaaff-a918-487d-970a-d2ef498504b3\",\"name\":\"Limit\",\"type\":\"n8n-nodes-base.limit\",\"position\":[-380,220],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5f724698-027f-4e88-8329-1abd00f8e6c7\",\"name\":\"Extract Links\",\"type\":\"n8n-nodes-base.code\",\"position\":[-740,-100],\"parameters\":{\"jsCode\":\"// free-text input\\nconst text = $input.first().json.output ?? \\\"\\\";\\n\\n/* media extensions grouped by type */\\nconst IMG = ['jpg','jpeg','png','gif','bmp','webp','tif','tiff'];\\nconst AUD = ['mp3','wav','m4a','flac','ogg','aac','opus'];\\nconst VID = ['mp4','mov','mkv','webm','avi','mpeg','mpg'];\\n\\n/* one regex that grabs any media URL (no lazy quantifier, so the whole link is kept) */\\nconst re = /(https?:\\\\/\\\\/[^\\\\s\\\"'<>]+\\\\.(?<ext>[A-Za-z0-9]{2,5}))(?:\\\\?[^\\\\s\\\"'<>]*)?/gi;\\n\\nconst seen  = new Set();\\nconst files = [];\\n\\nfor (const m of text.matchAll(re)) {\\n  const url = m[1];\\n  if (seen.has(url)) continue;          // de-dupe\\n  seen.add(url);\\n\\n  const ext = (m.groups.ext || '').toLowerCase();\\n\\n  let type = 'other';\\n  if (IMG.includes(ext))  type = 'image';\\n  else if (AUD.includes(ext)) type = 'audio';\\n  else if (VID.includes(ext)) type = 'video';\\n\\n  files.push({ url, type });\\n}\\n\\nreturn [{ json: { files } }];\"},\"typeVersion\":2},{\"id\":\"45e41a01-68a2-4b64-8830-e05916170a97\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-560,420],\"parameters\":{\"color\":5,\"width\":660,\"height\":480,\"content\":\"## Send links\\nSend links to chat as separate messages \\nwith appropriate type (image, audio, video)\"},\"typeVersion\":1},{\"id\":\"bbeb6619-4a48-40f5-be75-e99e0c53462e\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[80,-220],\"parameters\":{\"color\":6,\"width\":900,\"height\":300,\"content\":\"## Send a long message\\nSeparate long message by chunks and send them one by one\"},\"typeVersion\":1},{\"id\":\"4dbf96c8-fb30-4c22-8fc9-c551cb9893c6\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[80,120],\"parameters\":{\"width\":300,\"height\":260,\"content\":\"## Send a short message\\nDeliver a short message (default flow)\"},\"typeVersion\":1},{\"id\":\"e13e63e9-331e-458b-8933-4ec608eab00a\",\"name\":\"Check Link Type\",\"type\":\"n8n-nodes-base.switch\",\"position\":[-60,480],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"image\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"10ec4538-b5cc-4562-954a-fc4ada846d78\",\"operator\":{\"type\":\"string\",\"operation\":\"endsWith\"},\"leftValue\":\"={{ $json.type }}\",\"rightValue\":\"image\"}]},\"renameOutput\":true},{\"outputKey\":\"audio\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9e0cee56-b281-4d01-9196-eb6495be9641\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.type }}\",\"rightValue\":\"audio\"}]},\"renameOutput\":true},{\"outputKey\":\"video\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"007d1c92-0cd0-4dd6-ab9b-8c869e20797d\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.type }}\",\"rightValue\":\"video\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2}],\"active\":false,\"pinData\":{\"Split Out the Chunks\":[{\"json\":{\"chunk\":\"Here are the image prompts we have so far:\\n\\n1. A pile of ancient, golden and silver coins scattered on a worn wooden table. The coins have varied designs with ornate patterns and symbols, and reflect light with an unnatural shimmer. A dim light from an overhead lamp highlights their metallic surface against the dark surroundings of what appears to be an old study room with bookshelves in the background.\\n\\n2. Ancient golden and silver coins suspended in mid-air, forming a slowly rotating spiral pattern about 2 feet above a worn wooden table. Various coins spin on their edges while others twist and turn in different directions. A person's silhouette is visible in the background, approaching cautiously. The room appears colder with a slight blue tint, and tiny ice crystals have formed on the edges of the table near the floating coins.\"}},{\"json\":{\"chunk\":\"3. A researcher with a pained expression, looking pale and disoriented, stands beside a wooden table. Their hand is stretched out toward floating golden and silver coins, which are now partially transparent and fading at the edges. Some coins appear to be dissolving into tiny particles of light. Frost has formed on the researcher's outstretched fingers, and their breath is visible in the now freezing air of the study room.\\n\\n4. An empty wooden table where the coins once were, with only a few small patches of frost remaining as evidence. The researcher has stepped back, looking exhausted and confused. Their hand that reached for the coins appears slightly translucent, as if it partially disappeared with the coins. Scientific instruments scattered around the table show unusual readings with their displays glitching. The temperature in the room is returning to normal, shown by the frost slowly melting and the researcher's breath no longer visible.\"}},{\"json\":{\"chunk\":\"5. A secure containment chamber with reinforced glass walls displaying the SCP 45 coins back in their dormant state on a pedestal. Several monitoring devices surround the pedestal, including thermal cameras and motion sensors with digital readouts showing extremely low temperatures. A researcher in protective gear stands at a safe distance, taking notes on a tablet. Warning signs on the walls indicate \\\"NO PHYSICAL CONTACT\\\" and \\\"TEMPORAL ANOMALY.\\\" The lighting is clinical and stark, highlighting the controlled environment in contrast to the earlier study room.\"}},{\"json\":{\"chunk\":\"6. A classified SCP Foundation document page with aged photographs and handwritten notes about SCP 45's historical appearances. The document shows sketches of the coins from different time periods and locations, with red ink highlighting recurring witnesses who reported missing time. A black and white photograph from the 1920s shows identical coins in a museum display, with a blurred figure reaching toward them. The document is stamped \\\"LEVEL 4 CLEARANCE REQUIRED\\\" and includes marginalia noting correlation between coin appearances and local temporal anomalies. A coffee cup ring stains one corner of the document, giving it an authentic feel.\"}},{\"json\":{\"chunk\":\"7. An archaeological excavation site inside an ancient temple vault. Researchers in protective gear carefully work around a stone altar where the SCP 45 coins are embedded in a circular pattern. Specialized equipment with SCP Foundation logos monitors the area, with readings showing temporal distortions. One researcher points to strange hieroglyphs on the wall depicting people with missing limbs reaching for circular objects. Small temporal bubbles, visible as distortions in the air, surround parts of the coins. Light from headlamps creates dramatic shadows across the dusty chamber, highlighting the tense, cautious expressions of the recovery team members.\"}},{\"json\":{\"chunk\":\"8. A time-lapse montage showing a research subject affected by SCP 45. The image is split into four quadrants showing the same person at different stages: initially normal, then with a translucent arm, then with half their body faded, and finally just a ghost-like outline barely visible. Each quadrant shows a digital clock in the background with dramatically different times despite being taken minutes apart. The final quadrant shows researchers in hazmat suits responding to the emergency, their movements captured as motion blurs around the fading subject.\"}}],\"When Executed by Another Workflow\":[{\"json\":{\"chatId\":775716734,\"output\":\"I've generated a 15-second narration about SCP-096 and created the audio file. The narration is:\\n\\n\\\"There is a creature called SCP-096 that is very thin and pale. If someone sees its face, even by accident, it becomes extremely upset and will chase them anywhere to keep its face hidden.\\\"\\n\\nI've saved the narration text and audio to your project. The audio file has been generated and is available at:\\nhttps://tktuvgvuoreixlzuubfz.supabase.co/storage/v1/object/hht/2025-05-14_044617_voice.mp3\\n\\nThe actual audio length is 23 seconds.\\n\\nWould you like me to proceed with creating image prompts for this SCP-096 video?\"}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"1901c6ab-e8db-40ee-81a2-6dd7967d2dd8\",\"connections\":{\"Limit\":{\"main\":[[{\"node\":\"If text too long\",\"type\":\"main\",\"index\":0}]]},\"If no links\":{\"main\":[[{\"node\":\"If text too long\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Split Out the Links\",\"type\":\"main\",\"index\":0}]]},\"Extract Links\":{\"main\":[[{\"node\":\"If no links\",\"type\":\"main\",\"index\":0}]]},\"Check Link Type\":{\"main\":[[{\"node\":\"Send back an image\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send back an audio\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send back a video\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Links\":{\"main\":[[{\"node\":\"Limit\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Check Link Type\",\"type\":\"main\",\"index\":0}]]},\"Send Text Chunk\":{\"main\":[[{\"node\":\"Loop Over Text Chunks\",\"type\":\"main\",\"index\":0}]]},\"If text too long\":{\"main\":[[{\"node\":\"Split large text by chunks\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Text\",\"type\":\"main\",\"index\":0}]]},\"Send back a video\":{\"main\":[[{\"node\":\"Loop Over Links\",\"type\":\"main\",\"index\":0}]]},\"Send back an audio\":{\"main\":[[{\"node\":\"Loop Over Links\",\"type\":\"main\",\"index\":0}]]},\"Send back an image\":{\"main\":[[{\"node\":\"Loop Over Links\",\"type\":\"main\",\"index\":0}]]},\"Split Out the Links\":{\"main\":[[{\"node\":\"Loop Over Links\",\"type\":\"main\",\"index\":0}]]},\"Split Out the Chunks\":{\"main\":[[{\"node\":\"Loop Over Text Chunks\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Text Chunks\":{\"main\":[[],[{\"node\":\"Send Text Chunk\",\"type\":\"main\",\"index\":0}]]},\"Split large text by chunks\":{\"main\":[[{\"node\":\"Split Out the Chunks\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Extract Links\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Telegram Rich Output Helper Workflow\n\n**Who is this for?**  \nBuilders of Telegram chat‑bots, AI assistants, or notification services who already run **n8n** and need to convert long, mixed‑media answers from an LLM (or any upstream source) into Telegram‑friendly messages.\n\n**Prerequisites**\n\n  1. A Telegram bot created with **@BotFather**.\n\n  2. The bot’s HTTP API token saved as a _Telegram API_ credential in n8n.\n\n  3. n8n ≥ 1.0 with the built‑in **Telegram** node still installed.\n\n  4. A parent workflow that calls this one via **Execute  Workflow** and passes:\n\n     * `chatId` — the destination chat ID (integer).\n     * `output` — a string that can contain plain text _and_ HTTP links to images, audio, or video.\n\n\n\n* * *\n\n## What the workflow does\n\n  1. **Extract  Links** – A JavaScript Code node scans `output`, deduplicates URLs, and classifies each by file extension.\n  2. **Link Path**\n     * If no media links exist, the text path is used.\n     * Otherwise, each link is routed through a **Switch** node that triggers the correct Telegram call (`sendPhoto`, `sendAudio`, `sendVideo`) so users get inline previews or players.\n  3. **Text Path**\n     * An _IF_ node checks whether the remaining text exceeds Telegram’s 1 000‑character limit.\n     * When it does, a Code node slices the text at line boundaries; **SplitInBatches** then sends the chunks sequentially so nothing is lost.\n  4. All branches converge, keeping the whole exchange inside one execution.\n\n\n\n* * *\n\n## Customisation tips\n\n  * **Adjust the character limit** – edit the first expression in “If text too long”.\n  * **Filter/enrich links** – extend the regex or add MIME checks before dispatch.\n  * **Captions & keyboards** – populate `additionalFields` in the three “Send back” nodes.\n  * **Throughput vs. order** – tweak the batch size in both **SplitInBatches** nodes.\n\n\n\nWith this template in place, your users receive the complete message, playable media, and zero manual formatting – all within Telegram’s API limits.\n",
  "crawled_at": "2025-05-26T06:07:39.408589",
  "readme_zh": "# Telegram富媒体输出辅助工作流\n\n**适用对象**  \n面向已部署**n8n**平台的Telegram聊天机器人开发者、AI助手或通知服务构建者，需要将LLM（或任何上游数据源）生成的长篇混合媒体回复转换为Telegram友好格式的消息。\n\n**先决条件**\n\n1. 已通过**@BotFather**创建Telegram机器人\n2. 机器人HTTP API令牌已作为_Telegram API_凭证保存在n8n中\n3. n8n版本≥1.0且内置**Telegram**节点仍安装\n4. 父级工作流通过**执行工作流**调用本流程时需传递：\n   * `chatId` — 目标聊天ID（整型）\n   * `output` — 可包含纯文本及图片/音频/视频HTTP链接的字符串\n\n* * *\n\n## 工作流功能\n\n1. **链接提取** — JavaScript代码节点扫描`output`内容，去重URL并按文件扩展名分类\n2. **媒体路径**\n   * 若无媒体链接则走纯文本路径\n   * 否则通过**Switch**节点将每个链接路由至正确的Telegram API调用（`sendPhoto`/`sendAudio`/`sendVideo`），确保用户获得内联预览或播放器\n3. **文本路径**\n   * _IF_节点检测剩余文本是否超出Telegram 1000字符限制\n   * 超限时通过代码节点按行分割文本，由**SplitInBatches**节点顺序发送分段内容确保信息完整\n4. 所有分支最终汇合，保持整个交互过程在单次执行中完成\n\n* * *\n\n## 定制建议\n\n* **调整字符限制** — 修改\"If text too long\"中的首个表达式\n* **链接过滤/增强** — 在发送前扩展正则表达式或添加MIME类型检查\n* **标题与键盘** — 在三个\"Send back\"节点的`additionalFields`中配置附加参数\n* **吞吐量与顺序** — 调整两个**SplitInBatches**节点的批次大小\n\n应用此模板后，您的用户将在Telegram API限制范围内获得完整消息、可播放媒体内容，且无需任何手动格式化操作。",
  "title_zh": "将LLM输出转化为丰富的Telegram消息——自动多媒体与智能分块",
  "publish_date_zh": "上次更新于3天前",
  "workflow_json_zh": "{\n  \"id\": \"6bKCRgltEQMKck0S\",\n  \"meta\": {\n    \"instanceId\": \"90ee57f28a1370a05d29c652ea0aff6dc92be284367a87ea83ea3eac2120d7eb\"\n  },\n  \"name\": \"TelegramRichOutput\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"a25428d1-d34c-42f4-9a1a-713bef6dc1e9\",\n      \"name\": \"Send back an image\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        -480,\n        720\n      ],\n      \"webhookId\": \"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\n      \"parameters\": {\n        \"file\": \"={{ $json.url }}\",\n        \"chatId\": \"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\n        \"operation\": \"sendPhoto\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\"\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"FyjiLVRg007vuCnK\",\n          \"name\": \"Telegram account (SCP)\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"052643fa-6319-43f3-a052-40ed0e255238\",\n      \"name\": \"Send back an audio\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        -260,\n        720\n      ],\n      \"webhookId\": \"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\n      \"parameters\": {\n        \"file\": \"={{ $json.url }}\",\n        \"chatId\": \"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\n        \"operation\": \"sendAudio\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\"\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"FyjiLVRg007vuCnK\",\n          \"name\": \"Telegram account (SCP)\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"73dfb105-5ffe-4f8a-b96e-b0b556d73956\",\n      \"name\": \"Send back a video\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        -60,\n        720\n      ],\n      \"webhookId\": \"bc86ba8e-2a9b-4f48-acdb-0550c95494ef\",\n      \"parameters\": {\n        \"file\": \"={{ $json.url }}\",\n        \"chatId\": \"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\n        \"operation\": \"sendVideo\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\"\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"FyjiLVRg007vuCnK\",\n          \"name\": \"Telegram account (SCP)\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e715f898-1bca-4e4e-a463-f30815664766\",\n      \"name\": \"Send Text\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        140,\n        220\n      ],\n      \"webhookId\": \"c5c03eae-b148-4358-8792-d03d55bd0b48\",\n      \"parameters\": {\n        \"text\": \"={{ $('When Executed by Another Workflow').item.json.output }}\",\n        \"chatId\": \"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"FyjiLVRg007vuCnK\",\n          \"name\": \"Telegram account (SCP)\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"38f15fa8-f9a2-469b-9f30-fed46296bf1f\",\n      \"name\": \"If text too long\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -140,\n        60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a6365c72-9e4c-4b19-b725-9965fdb81e21\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('When Executed by Another Workflow').item.json.output.length > 1000 }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"286d11cb-f94a-4143-8a27-34b5f4e14192\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        -960,\n        -100\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"chatId\",\n              \"type\": \"number\"\n            },\n            {\n              \"name\": \"output\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"dab1fb0c-970e-43f7-a335-c48639edaabe\",\n      \"name\": \"Loop Over Links\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -580,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"a1f73d92-b61e-41fa-a0c7-50e72078e096\",\n      \"name\": \"If no links\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -520,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"332d2f85-5f44-4d8b-a5c0-03bda9c3976d\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.files }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"bd57fe5e-940b-46f9-a76f-ba4d6bae5c7c\",\n      \"name\": \"Split Out the Links\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -800,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"files\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8e14c1e6-ece0-4310-97c2-829a37074706\",\n      \"name\": \"Split large text by chunks\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        140,\n        -120\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const inputText = $('When Executed by Another Workflow').first().json.output || \\\"\\\";\\nconst lines = inputText.split(\\\"\\\\n\\\");\\n\\nlet chunks = [];\\nlet currentChunk = \\\"\\\";\\n\\nfor (const line of lines) {\\n  // Check if adding the line would exceed the 1000 character limit\\n  if ((currentChunk + line + \\\"\\\\n\\\").length > 1000) {\\n    // Push current chunk if not empty\\n    if (currentChunk) chunks.push(currentChunk.trim());\\n    // Start new chunk with current line\\n    currentChunk = line + \\\"\\\\n\\\";\\n  } else {\\n    // Add line to current chunk\\n    currentChunk += line + \\\"\\\\n\\\";\\n  }\\n}\\n\\n// Push the final chunk if there’s remaining content\\nif (currentChunk) chunks.push(currentChunk.trim());\\n\\n// Return each chunk as a separate item\\nreturn { output:chunks.map(chunk => ({ chunk } ))};\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b08e8087-f155-4747-a5d8-8c9bb5511777\",\n      \"name\": \"Split Out the Chunks\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        360,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"output\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"94b015d0-a1b7-4e13-973a-5a25fe88c209\",\n      \"name\": \"Loop Over Text Chunks\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        560,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"51f2598e-4958-4139-ab00-3836b7a52ed5\",\n      \"name\": \"Send Text Chunk\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        800,\n        -120\n      ],\n      \"webhookId\": \"c5c03eae-b148-4358-8792-d03d55bd0b48\",\n      \"parameters\": {\n        \"text\": \"={{ $json.chunk }}\",\n        \"chatId\": \"={{ $('When Executed by Another Workflow').item.json.chatId }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"FyjiLVRg007vuCnK\",\n          \"name\": \"Telegram account (SCP)\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d7baaaff-a918-487d-970a-d2ef498504b3\",\n      \"name\": \"Limit\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        -380,\n        220\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5f724698-027f-4e88-8329-1abd00f8e6c7\",\n      \"name\": \"Extract Links\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -740,\n        -100\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// free-text input\\nconst text = $input.first().json.output ?? \\\"\\\";\\n\\n/* media extensions grouped by type */\\nconst IMG = ['jpg','jpeg','png','gif','bmp','webp','tif','tiff'];\\nconst AUD = ['mp3','wav','m4a','flac','ogg','aac','opus'];\\nconst VID = ['mp4','mov','mkv','webm','avi','mpeg','mpg'];\\n\\n/* one regex that grabs any media URL (no lazy quantifier, so the whole link is kept) */\\nconst re = /(https?:\\\\/\\\\/[^\\\\s\\\"'<>]+\\\\.(?<ext>[A-Za-z0-9]{2,5}))(?:\\\\?[^\\\\s\\\"'<>]*)?/gi;\\n\\nconst seen  = new Set();\\nconst files = [];\\n\\nfor (const m of text.matchAll(re)) {\\n  const url = m[1];\\n  if (seen.has(url)) continue;          // de-dupe\\n  seen.add(url);\\n\\n  const ext = (m.groups.ext || '').toLowerCase();\\n\\n  let type = 'other';\\n  if (IMG.includes(ext))  type = 'image';\\n  else if (AUD.includes(ext)) type = 'audio';\\n  else if (VID.includes(ext)) type = 'video';\\n\\n  files.push({ url, type });\\n}\\n\\nreturn [{ json: { files } }];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"45e41a01-68a2-4b64-8830-e05916170a97\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        420\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 660,\n        \"height\": 480,\n        \"content\": \"## 发送链接\\n将链接作为独立消息发送至聊天窗口\\n并标注相应类型（图片、音频、视频）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bbeb6619-4a48-40f5-be75-e99e0c53462e\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        -220\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 900,\n        \"height\": 300,\n        \"content\": \"## 发送长消息\\n将长消息分段并逐一发送\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4dbf96c8-fb30-4c22-8fc9-c551cb9893c6\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        120\n      ],\n      \"parameters\": {\n        \"width\": 300,\n        \"height\": 260,\n        \"content\": \"## 发送短消息\\n发送短消息（默认流程）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e13e63e9-331e-458b-8933-4ec608eab00a\",\n      \"name\": \"Check Link Type\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -60,\n        480\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"image\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"10ec4538-b5cc-4562-954a-fc4ada846d78\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"endsWith\"\n                    },\n                    \"leftValue\": \"={{ $json.type }}\",\n                    \"rightValue\": \"image\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"audio\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"9e0cee56-b281-4d01-9196-eb6495be9641\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.type }}\",\n                    \"rightValue\": \"audio\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"video\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"007d1c92-0cd0-4dd6-ab9b-8c869e20797d\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.type }}\",\n                    \"rightValue\": \"video\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"Split Out the Chunks\": [\n      {\n        \"json\": {\n          \"chunk\": \"Here are the image prompts we have so far:\\n\\n1. A pile of ancient, golden and silver coins scattered on a worn wooden table. The coins have varied designs with ornate patterns and symbols, and reflect light with an unnatural shimmer. A dim light from an overhead lamp highlights their metallic surface against the dark surroundings of what appears to be an old study room with bookshelves in the background.\\n\\n2. Ancient golden and silver coins suspended in mid-air, forming a slowly rotating spiral pattern about 2 feet above a worn wooden table. Various coins spin on their edges while others twist and turn in different directions. A person's silhouette is visible in the background, approaching cautiously. The room appears colder with a slight blue tint, and tiny ice crystals have formed on the edges of the table near the floating coins.\"\n        }\n      },\n      {\n        \"json\": {\n          \"chunk\": \"3. A researcher with a pained expression, looking pale and disoriented, stands beside a wooden table. Their hand is stretched out toward floating golden and silver coins, which are now partially transparent and fading at the edges. Some coins appear to be dissolving into tiny particles of light. Frost has formed on the researcher's outstretched fingers, and their breath is visible in the now freezing air of the study room.\\n\\n4. An empty wooden table where the coins once were, with only a few small patches of frost remaining as evidence. The researcher has stepped back, looking exhausted and confused. Their hand that reached for the coins appears slightly translucent, as if it partially disappeared with the coins. Scientific instruments scattered around the table show unusual readings with their displays glitching. The temperature in the room is returning to normal, shown by the frost slowly melting and the researcher's breath no longer visible.\"\n        }\n      },\n      {\n        \"json\": {\n          \"chunk\": \"5. A secure containment chamber with reinforced glass walls displaying the SCP 45 coins back in their dormant state on a pedestal. Several monitoring devices surround the pedestal, including thermal cameras and motion sensors with digital readouts showing extremely low temperatures. A researcher in protective gear stands at a safe distance, taking notes on a tablet. Warning signs on the walls indicate \\\"NO PHYSICAL CONTACT\\\" and \\\"TEMPORAL ANOMALY.\\\" The lighting is clinical and stark, highlighting the controlled environment in contrast to the earlier study room.\"\n        }\n      },\n      {\n        \"json\": {\n          \"chunk\": \"6. A classified SCP Foundation document page with aged photographs and handwritten notes about SCP 45's historical appearances. The document shows sketches of the coins from different time periods and locations, with red ink highlighting recurring witnesses who reported missing time. A black and white photograph from the 1920s shows identical coins in a museum display, with a blurred figure reaching toward them. The document is stamped \\\"LEVEL 4 CLEARANCE REQUIRED\\\" and includes marginalia noting correlation between coin appearances and local temporal anomalies. A coffee cup ring stains one corner of the document, giving it an authentic feel.\"\n        }\n      },\n      {\n        \"json\": {\n          \"chunk\": \"7. An archaeological excavation site inside an ancient temple vault. Researchers in protective gear carefully work around a stone altar where the SCP 45 coins are embedded in a circular pattern. Specialized equipment with SCP Foundation logos monitors the area, with readings showing temporal distortions. One researcher points to strange hieroglyphs on the wall depicting people with missing limbs reaching for circular objects. Small temporal bubbles, visible as distortions in the air, surround parts of the coins. Light from headlamps creates dramatic shadows across the dusty chamber, highlighting the tense, cautious expressions of the recovery team members.\"\n        }\n      },\n      {\n        \"json\": {\n          \"chunk\": \"8. A time-lapse montage showing a research subject affected by SCP 45. The image is split into four quadrants showing the same person at different stages: initially normal, then with a translucent arm, then with half their body faded, and finally just a ghost-like outline barely visible. Each quadrant shows a digital clock in the background with dramatically different times despite being taken minutes apart. The final quadrant shows researchers in hazmat suits responding to the emergency, their movements captured as motion blurs around the fading subject.\"\n        }\n      }\n    ],\n    \"When Executed by Another Workflow\": [\n      {\n        \"json\": {\n          \"chatId\": 775716734,\n          \"output\": \"I've generated a 15-second narration about SCP-096 and created the audio file. The narration is:\\n\\n\\\"There is a creature called SCP-096 that is very thin and pale. If someone sees its face, even by accident, it becomes extremely upset and will chase them anywhere to keep its face hidden.\\\"\\n\\nI've saved the narration text and audio to your project. The audio file has been generated and is available at:\\nhttps://tktuvgvuoreixlzuubfz.supabase.co/storage/v1/object/hht/2025-05-14_044617_voice.mp3\\n\\nThe actual audio length is 23 seconds.\\n\\nWould you like me to proceed with creating image prompts for this SCP-096 video?\"\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1901c6ab-e8db-40ee-81a2-6dd7967d2dd8\",\n  \"connections\": {\n    \"Limit\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If text too long\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If no links\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If text too long\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Split Out the Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Links\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If no links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Link Type\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send back an image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send back an audio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send back a video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Links\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Check Link Type\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send Text Chunk\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Text Chunks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If text too long\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split large text by chunks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send Text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send back a video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send back an audio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send back an image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out the Links\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out the Chunks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Text Chunks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Text Chunks\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Send Text Chunk\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split large text by chunks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out the Chunks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Links\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}