{
  "url": "https://n8n.io/workflows/4225-automate-cryptocurrency-funding-fee-tracking-with-binance-api-and-airtable/",
  "title": "Automate Cryptocurrency Funding Fee Tracking with Binance API and Airtable",
  "author": "Mark Shcherbakov",
  "publish_date": "Last update 6 days ago",
  "publish_date_absolute": "2025-05-20",
  "categories": [
    {
      "name": "Finance"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"6a2a7715680b8313f7cb4676321c5baa46680adfb913072f089f2766f42e43bd\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"a3ff8cdd-1dc7-4e0a-96af-ab07ee318ddb\",\"name\":\"Crypto2\",\"type\":\"n8n-nodes-base.crypto\",\"position\":[940,-60],\"parameters\":{\"type\":\"SHA256\",\"value\":\"=recvWindow={{20000}}&timestamp={{ $json.timestamp }}\",\"action\":\"hmac\",\"secret\":\"pTFNHpnsm4gjz2au6nTCeu9UYgCfFNI1vgVOHLyHQAKUDKwdlVrYuCWXmrAcurYs\",\"dataPropertyName\":\"secretKey\"},\"typeVersion\":1},{\"id\":\"860de117-0305-4c73-917b-f62be016ea4c\",\"name\":\"Edit Fields1\",\"type\":\"n8n-nodes-base.set\",\"position\":[760,-60],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"19bd2a16-442e-416a-a28a-63d4050f4559\",\"name\":\"timestamp\",\"type\":\"string\",\"value\":\"={{$now.format('x')}}\"}]}},\"typeVersion\":3.4},{\"id\":\"dd682d40-aa6a-4177-8c2a-2f7075e2a43e\",\"name\":\"Edit Fields2\",\"type\":\"n8n-nodes-base.set\",\"position\":[1820,-60],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"918722a0-4a14-4ed4-b18a-b37c401807ec\",\"name\":\"data\",\"type\":\"array\",\"value\":\"={{ \\n  $('Aggregate Fees').item.json.data.map(fee => {\\n    const position = $('Aggregate Positions').item.json.data.find(pos => pos.symbol === fee.symbol) || {};\\n    const token = $('Aggregate Tokens').last().json.data.find(tok => tok.name === fee.symbol) || {};\\n\\n    return {\\n      symbol: fee.symbol,\\n      income: fee.income,\\n      asset: fee.asset,\\n      time: fee.time,\\n      tranId: fee.tranId,\\n      positionAmt: position.positionAmt || \\\"0\\\",\\n      markPrice: position.markPrice || \\\"0.00000000\\\",\\n      liquidationPrice: position.liquidationPrice || \\\"0\\\",\\n      tokenId: token.id || null  // Get ID from Get Tokens, or null if not found\\n    };\\n  })\\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"4c6d65ae-1174-495e-8052-f4b998ee001d\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[2020,-60],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"a5dd73dc-18fe-400b-beaf-21a83211899f\",\"name\":\"Get Positions\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1120,-60],\"parameters\":{\"url\":\"https://fapi.binance.com/fapi/v2/positionRisk\",\"options\":{},\"sendQuery\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"queryParameters\":{\"parameters\":[{\"name\":\"recvWindow\",\"value\":\"={{20000}}\"},{\"name\":\"timestamp\",\"value\":\"={{ $('Edit Fields1').item.json.timestamp }}\"},{\"name\":\"signature\",\"value\":\"={{ $json.secretKey }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"nHwfIXHEwCxK80VF\",\"name\":\"Snezar Loxo\"}},\"typeVersion\":4.2},{\"id\":\"491841fe-c173-4644-bf02-d43425f3b10e\",\"name\":\"Aggregate Positions\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[1320,-60],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"90a1818d-a933-4770-997d-2a0692141192\",\"name\":\"Aggregate Fees\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[580,-60],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"39ee87a4-18eb-43f4-8489-ae16797492d6\",\"name\":\"Get Tokens\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1480,-60],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tbl8SLbJIGFe12VOR\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\"cachedResultName\":\"Tokens\"},\"options\":{},\"operation\":\"search\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"368b3bac-d0c1-435f-af34-377a893ba0b5\",\"name\":\"Aggregate Tokens\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[1660,-60],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"e2af8b4d-901f-4115-8704-55ba26e32a3c\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"disabled\":true,\"position\":[-180,-60],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"cronExpression\",\"expression\":\"3 1,9,17 * * *\"}]}},\"typeVersion\":1.2},{\"id\":\"0795a6bc-1c4a-4a42-a446-8a4b57e8d7d9\",\"name\":\"Crypto\",\"type\":\"n8n-nodes-base.crypto\",\"position\":[40,-440],\"parameters\":{\"type\":\"SHA256\",\"value\":\"=symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559\",\"action\":\"hmac\",\"secret\":\"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j\",\"dataPropertyName\":\"signature\"},\"typeVersion\":1},{\"id\":\"006b141f-f27f-4099-ba9f-78f6d02a74c6\",\"name\":\"Schedule Trigger1\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-200,440],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\",\"hoursInterval\":4}]}},\"typeVersion\":1.2},{\"id\":\"721dfce3-d076-415d-b69c-982e633e4f86\",\"name\":\"Get Tokens1\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[0,440],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tbl8SLbJIGFe12VOR\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\"cachedResultName\":\"Tokens\"},\"options\":{},\"operation\":\"search\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"edfc1dd2-4ce3-4b42-8abc-6bfe50fc38ec\",\"name\":\"Update Token Prices1\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[460,420],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tbl8SLbJIGFe12VOR\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\"cachedResultName\":\"Tokens\"},\"columns\":{\"value\":{\"id\":\"={{ $('Get Tokens1').item.json.id }}\",\"price\":\"={{ $json.price }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true},{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":false,\"required\":false,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Funding Statement\",\"type\":\"array\",\"display\":true,\"removed\":true,\"readOnly\":false,\"required\":false,\"displayName\":\"Funding Statement\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"update\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"4f1d25cc-b79c-407e-a62c-92e4019ef974\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,300],\"parameters\":{\"width\":1000,\"height\":340,\"content\":\"### Scenario 2 - update tokens price\"},\"typeVersion\":1},{\"id\":\"ba0bc917-c61f-42cd-ac53-1c9028554910\",\"name\":\"Get Price\",\"type\":\"n8n-nodes-base.httpRequest\",\"onError\":\"continueErrorOutput\",\"position\":[220,440],\"parameters\":{\"url\":\"=https://api.binance.com/api/v3/ticker/price?symbol={{ $json.name }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"0dbf2475-0012-4c4c-9b33-900ae3ab8285\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,-200],\"parameters\":{\"width\":3080,\"height\":420,\"content\":\"### Scenario 1 - Add funding fees\"},\"typeVersion\":1},{\"id\":\"28415862-ff31-4b23-83ab-3af1f35b4435\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[2200,-60],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"46231f93-5e8a-4f8f-8dab-18c70f3d22a2\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.tokenId }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"a54f5d41-d240-49dd-8827-8cbe125ec828\",\"name\":\"Create Token\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[2380,40],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tbl8SLbJIGFe12VOR\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\"cachedResultName\":\"Tokens\"},\"columns\":{\"value\":{\"name\":\"={{ $json.symbol }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true},{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"number\",\"display\":true,\"removed\":true,\"readOnly\":false,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Funding Statement\",\"type\":\"array\",\"display\":true,\"removed\":true,\"readOnly\":false,\"required\":false,\"displayName\":\"Funding Statement\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"create\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"4f4e1eb4-23ea-4f98-8b31-2b2136da15dc\",\"name\":\"Create Statement\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[2440,-120],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblrHB0L42whQF6HM\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tblrHB0L42whQF6HM\",\"cachedResultName\":\"Funding Statement\"},\"columns\":{\"value\":{\"time\":\"={{ $json.time.toDateTime('ms') }}\",\"asset\":\"={{ $json.asset }}\",\"token\":\"={{ [$json.tokenId]}}\",\"amount\":\"={{ $json.income }}\",\"markPrice\":\"={{ $json.markPrice }}\",\"positionSize\":\"={{ $json.positionAmt }}\",\"liquidationPrice\":\"={{ $json.liquidationPrice }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"time\",\"type\":\"dateTime\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"time\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"token\",\"type\":\"array\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"token\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"asset\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"asset\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"amount\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"amount\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"positionSize\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"positionSize\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"annualizedYield\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"annualizedYield\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"liquidationPrice\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"liquidationPrice\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"markPrice\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"markPrice\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"create\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"ea7f6c61-065f-41a0-87e5-46575612c815\",\"name\":\"Create Statement1\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[2560,40],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"app2uc5OOFJdg2weo\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo\",\"cachedResultName\":\"Binance demo\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblrHB0L42whQF6HM\",\"cachedResultUrl\":\"https://airtable.com/app2uc5OOFJdg2weo/tblrHB0L42whQF6HM\",\"cachedResultName\":\"Funding Statement\"},\"columns\":{\"value\":{\"time\":\"={{ $('If').item.json.time.toDateTime('ms') }}\",\"asset\":\"={{ $('If').item.json.asset }}\",\"token\":\"={{ [$json.id]}}\",\"amount\":\"={{ $('If').item.json.income }}\",\"markPrice\":\"={{ $('If').item.json.markPrice }}\",\"positionSize\":\"={{ $('If').item.json.positionAmt }}\",\"liquidationPrice\":\"={{ $('If').item.json.liquidationPrice }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"time\",\"type\":\"dateTime\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"time\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"token\",\"type\":\"array\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"token\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"asset\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"asset\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"amount\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"amount\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"positionSize\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"positionSize\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"annualizedYield\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"annualizedYield\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"liquidationPrice\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"liquidationPrice\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"markPrice\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"markPrice\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"create\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"xZwG0YpqsxpWrzVM\",\"name\":\"Mark Airtable account\"}},\"typeVersion\":2.1},{\"id\":\"c63b2d49-8421-41d4-94d3-331775d15436\",\"name\":\"Crypto3\",\"type\":\"n8n-nodes-base.crypto\",\"position\":[220,-60],\"parameters\":{\"type\":\"SHA256\",\"value\":\"=recvWindow={{20000}}&timestamp={{ $json.timestamp }}&incomeType=FUNDING_FEE&startTime={{ $json.startTime }}\",\"action\":\"hmac\",\"secret\":\"pTFNHpnsm4gjz2au6nTCeu9UYgCfFNI1vgVOHLyHQAKUDKwdlVrYuCWXmrAcurYs\",\"dataPropertyName\":\"secretKey\"},\"typeVersion\":1},{\"id\":\"501feb0f-231e-4ac6-872e-3b07861a4b45\",\"name\":\"Edit Fields4\",\"type\":\"n8n-nodes-base.set\",\"position\":[40,-60],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"19bd2a16-442e-416a-a28a-63d4050f4559\",\"name\":\"timestamp\",\"type\":\"string\",\"value\":\"={{$now.format('x')}}\"},{\"id\":\"8766d7bb-63d7-4c9f-8319-bf5a1083781f\",\"name\":\"startTime\",\"type\":\"string\",\"value\":\"={{ $now.minus(8,'hours').format('x') }}\"}]}},\"typeVersion\":3.4},{\"id\":\"eb371433-5c67-4be2-bf61-c819c085afcf\",\"name\":\"Get Fees2\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[400,-60],\"parameters\":{\"url\":\"https://fapi.binance.com/fapi/v1/income\",\"options\":{},\"sendQuery\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"queryParameters\":{\"parameters\":[{\"name\":\"recvWindow\",\"value\":\"={{20000}}\"},{\"name\":\"timestamp\",\"value\":\"={{ $('Edit Fields4').item.json.timestamp }}\"},{\"name\":\"signature\",\"value\":\"={{ $json.secretKey }}\"},{\"name\":\"incomeType\",\"value\":\"FUNDING_FEE\"},{\"name\":\"startTime\",\"value\":\"={{ $('Edit Fields4').item.json.startTime }}\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"nHwfIXHEwCxK80VF\",\"name\":\"Snezar Loxo\"}},\"typeVersion\":4.2},{\"id\":\"833d6652-4d44-4a39-8e72-e3fa9a7b5cc8\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[360,-180],\"parameters\":{\"color\":5,\"width\":200,\"height\":80,\"content\":\"### Replace Header Auth\\nX-MBX-APIKEY=<your_api_key>\"},\"typeVersion\":1},{\"id\":\"989a1208-2457-4a85-a409-f00442b629a2\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[200,120],\"parameters\":{\"color\":5,\"width\":160,\"height\":80,\"content\":\"### Replace Secret\"},\"typeVersion\":1},{\"id\":\"3c187a46-0760-400a-affa-2e3f1f9499e3\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[900,120],\"parameters\":{\"color\":5,\"width\":160,\"height\":80,\"content\":\"### Replace Secret\"},\"typeVersion\":1},{\"id\":\"626481c1-f4a4-44ca-a7f0-32da29dfc0c9\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,-180],\"parameters\":{\"color\":5,\"width\":200,\"height\":80,\"content\":\"### Replace Header Auth\\nX-MBX-APIKEY=<your_api_key>\"},\"typeVersion\":1},{\"id\":\"a1c7b2df-c5bd-493a-b63e-6ecad817c7cd\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,-560],\"parameters\":{\"width\":780,\"height\":320,\"content\":\"### Example\"},\"typeVersion\":1},{\"id\":\"8ca604f7-214a-40fa-9d9a-4b93a2643d09\",\"name\":\"Binance - Get Fees\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[240,-440],\"parameters\":{\"url\":\"https://api.binance.com/api/v3/order\",\"method\":\"POST\",\"options\":{},\"sendQuery\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"queryParameters\":{\"parameters\":[{\"name\":\"symbol\",\"value\":\"=LTCBTC\"},{\"name\":\"side\",\"value\":\"=BUY\"},{\"name\":\"signature\",\"value\":\"={{ $json.signature }}\"},{\"name\":\"type\",\"value\":\"LIMIT\"},{\"name\":\"timeInForce\",\"value\":\"=GTC\"},{\"name\":\"quantity\",\"value\":\"1\"},{\"name\":\"price\",\"value\":\"0.1\"},{\"name\":\"recvWindow\",\"value\":\"5000\"},{\"name\":\"timestamp\",\"value\":\"1499827319559\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"X-MBX-APIKEY\",\"value\":\"vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"nHwfIXHEwCxK80VF\",\"name\":\"Snezar Loxo\"}},\"typeVersion\":4.2},{\"id\":\"4ca9b631-24e3-4235-b2d2-ccfde43c6e72\",\"name\":\"Set Variables\",\"type\":\"n8n-nodes-base.set\",\"position\":[-140,-440],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"19bd2a16-442e-416a-a28a-63d4050f4559\",\"name\":\"timestamp\",\"type\":\"string\",\"value\":\"={{$now.format('x')}}\"}]}},\"typeVersion\":3.4}],\"pinData\":{\"Get Fees2\":[{\"info\":\"FUNDING_FEE\",\"time\":1747353601000,\"asset\":\"USDT\",\"income\":\"0.62124647\",\"symbol\":\"SOLUSDT\",\"tranId\":755481401373412200,\"tradeId\":\"\",\"incomeType\":\"FUNDING_FEE\"}],\"Get Positions\":[{\"symbol\":\"SNTUSDT\",\"isolated\":false,\"leverage\":\"5\",\"notional\":\"0\",\"markPrice\":\"0.00000000\",\"entryPrice\":\"0.0\",\"marginType\":\"cross\",\"updateTime\":0,\"adlQuantile\":0,\"positionAmt\":\"0\",\"positionSide\":\"BOTH\",\"breakEvenPrice\":\"0.0\",\"isolatedMargin\":\"0.00000000\",\"isolatedWallet\":\"0\",\"isAutoAddMargin\":\"false\",\"liquidationPrice\":\"0\",\"maxNotionalValue\":\"200000\",\"unRealizedProfit\":\"0.00000000\"},{\"symbol\":\"SUSHIUSDT\",\"isolated\":false,\"leverage\":\"5\",\"notional\":\"0\",\"markPrice\":\"0.00000000\",\"entryPrice\":\"0.0\",\"marginType\":\"cross\",\"updateTime\":0,\"adlQuantile\":0,\"positionAmt\":\"0\",\"positionSide\":\"BOTH\",\"breakEvenPrice\":\"0.0\",\"isolatedMargin\":\"0.00000000\",\"isolatedWallet\":\"0\",\"isAutoAddMargin\":\"false\",\"liquidationPrice\":\"0\",\"maxNotionalValue\":\"1600000\",\"unRealizedProfit\":\"0.00000000\"},{\"symbol\":\"CGPTUSDT\",\"isolated\":false,\"leverage\":\"5\",\"notional\":\"0\",\"markPrice\":\"0.00000000\",\"entryPrice\":\"0.0\",\"marginType\":\"cross\",\"updateTime\":0,\"adlQuantile\":0,\"positionAmt\":\"0\",\"positionSide\":\"BOTH\",\"breakEvenPrice\":\"0.0\",\"isolatedMargin\":\"0.00000000\",\"isolatedWallet\":\"0\",\"isAutoAddMargin\":\"false\",\"liquidationPrice\":\"0\",\"maxNotionalValue\":\"250000\",\"unRealizedProfit\":\"0.00000000\"},{\"symbol\":\"SOLUSDT\",\"isolated\":true,\"leverage\":\"5\",\"notional\":\"41118.75\",\"markPrice\":\"182.75\",\"entryPrice\":\"176.20\",\"marginType\":\"isolated\",\"updateTime\":1747353601416,\"adlQuantile\":3,\"positionAmt\":\"225.00\",\"positionSide\":\"BOTH\",\"breakEvenPrice\":\"176.25\",\"isolatedMargin\":\"13688.00\",\"isolatedWallet\":\"12950.75\",\"isAutoAddMargin\":\"false\",\"liquidationPrice\":\"142.98\",\"maxNotionalValue\":\"80000000\",\"unRealizedProfit\":\"1471.25\"}]},\"connections\":{\"If\":{\"main\":[[{\"node\":\"Create Statement\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Create Token\",\"type\":\"main\",\"index\":0}]]},\"Crypto\":{\"main\":[[{\"node\":\"Binance - Get Fees\",\"type\":\"main\",\"index\":0}]]},\"Crypto2\":{\"main\":[[{\"node\":\"Get Positions\",\"type\":\"main\",\"index\":0}]]},\"Crypto3\":{\"main\":[[{\"node\":\"Get Fees2\",\"type\":\"main\",\"index\":0}]]},\"Get Fees2\":{\"main\":[[{\"node\":\"Aggregate Fees\",\"type\":\"main\",\"index\":0}]]},\"Get Price\":{\"main\":[[{\"node\":\"Update Token Prices1\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Get Tokens\":{\"main\":[[{\"node\":\"Aggregate Tokens\",\"type\":\"main\",\"index\":0}]]},\"Get Tokens1\":{\"main\":[[{\"node\":\"Get Price\",\"type\":\"main\",\"index\":0}]]},\"Create Token\":{\"main\":[[{\"node\":\"Create Statement1\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields1\":{\"main\":[[{\"node\":\"Crypto2\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields2\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields4\":{\"main\":[[{\"node\":\"Crypto3\",\"type\":\"main\",\"index\":0}]]},\"Get Positions\":{\"main\":[[{\"node\":\"Aggregate Positions\",\"type\":\"main\",\"index\":0}]]},\"Set Variables\":{\"main\":[[{\"node\":\"Crypto\",\"type\":\"main\",\"index\":0}]]},\"Aggregate Fees\":{\"main\":[[{\"node\":\"Edit Fields1\",\"type\":\"main\",\"index\":0}]]},\"Aggregate Tokens\":{\"main\":[[{\"node\":\"Edit Fields2\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Edit Fields4\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger1\":{\"main\":[[{\"node\":\"Get Tokens1\",\"type\":\"main\",\"index\":0}]]},\"Aggregate Positions\":{\"main\":[[{\"node\":\"Get Tokens\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Video Guide\n\nI prepared a detailed guide that showed the whole process of integrating the Binance API and storing data in Airtable to manage funding statements associated with tokens in a wallet.\n\n[![Youtube Thumbnail](https://res.cloudinary.com/de9jgixzm/image/upload/qkd9krobszxhrzk34wpg)](https://youtu.be/GBZRduOzOzg)\n\n[Youtube Link](https://youtu.be/GBZRduOzOzg)\n\n### Who is this for?\n\nThis workflow is ideal for developers, financial analysts, and cryptocurrency enthusiasts who want to automate the process of managing funding statements and token prices. It’s particularly useful for those who need a systematic approach to track and report funding fees associated with tokens in their wallets.\n\n### What problem does this workflow solve?\n\nManaging funding statements and token prices across multiple platforms can be cumbersome and error-prone. This workflow automates the process, allowing users to seamlessly fetch funding fees from Binance and record them alongside token prices in Airtable, minimizing manual data entry and potential discrepancies.\n\n### What this workflow does\n\nThis workflow integrates the Binance API with an Airtable database, facilitating the storage and management of funding statements linked to tokens in a wallet. The agent can:\n\n  * Fetch funding fees and current positions from Binance.\n  * Aggregate data to create structured funding statements.\n  * Insert records into Airtable, ensuring proper linkage between funding data and tokens.\n\n\n  1. **API Authentication** : The workflow establishes authentication with the Binance API using a Crypto Node to handle API keys and signatures, ensuring secure and verified requests.\n  2. **Data Collection** : It retrieves necessary data, including funding fees and current positions with properly formatted API requests to ensure seamless communication with Binance.\n  3. **Airtable Integration** : The workflow inserts aggregated funding statements and token data into the corresponding Airtable records, managing token existence checks to avoid duplicate entries.\n\n\n\n### Setup\n\n  1. **Set Up Airtable Database** :\n\n     * Create an Airtable base with tables for Funding Statements and Tokens.\n  2. **Generate Binance API Key** :\n\n     * Log in and create an API key with appropriate permissions.\n  3. **Set Up Authentication in N8N** :\n\n     * Utilize a Crypto Node for Binance API authentication.\n  4. **Configure API Request to Binance** :\n\n     * Set request method and headers for communication with the Binance API.\n  5. **Fetch Funding Fees and Current Positions** :\n\n     * Retrieve funding data and current positions efficiently.\n  6. **Aggregate and Create Statements** :\n\n     * Aggregate data to create detailed funding statements.\n  7. **Insert Data into Airtable** :\n\n     * Input the structured data into Airtable and manage token records.\n  8. **Using Get Price Node** :\n\n     * Implement a Get Price Node to maintain current token price tracking without additional setup.\n\n\n",
  "crawled_at": "2025-05-26T07:21:08.796418",
  "readme_zh": "### 视频指南\n\n我制作了一份详细教程，完整演示了如何接入币安API并将数据存储至Airtable，实现钱包内代币资金费率报表的自动化管理。\n\n[![视频封面](https://res.cloudinary.com/de9jgixzm/image/upload/qkd9krobszxhrzk34wpg)](https://youtu.be/GBZRduOzOzg)\n\n[视频链接](https://youtu.be/GBZRduOzOzg)\n\n### 适用人群\n\n本方案特别适合需要自动化管理资金费率与代币价格的开发者、金融分析师和加密货币爱好者。对于需要系统化追踪钱包代币资金费用并生成报表的用户尤为实用。\n\n### 解决痛点\n\n跨平台管理资金费率与代币价格既繁琐又易出错。本工作流通过自动化抓取币安资金费率，并与Airtable中的代币价格同步记录，显著减少人工操作及数据偏差。\n\n### 功能说明\n\n该工作流通过整合币安API与Airtable数据库，实现钱包代币资金费率报表的自动化管理。智能代理可执行以下操作：\n\n  * 从币安获取资金费率及当前持仓\n  * 聚合数据生成结构化资金报表\n  * 将记录写入Airtable，确保资金数据与代币准确关联\n\n\n  1. **API认证**：通过加密节点处理API密钥与签名，建立安全的币安API认证通道\n  2. **数据采集**：发送标准化API请求，精准获取资金费率与持仓数据\n  3. **Airtable集成**：将聚合数据写入对应表格，自动检测代币重复项\n\n\n### 配置步骤\n\n  1. **创建Airtable数据库**：\n\n     * 新建包含\"资金报表\"和\"代币\"两个表格的数据库\n  2. **生成币安API密钥**：\n\n     * 登录币安账户创建具备相应权限的API密钥\n  3. **配置N8N认证模块**：\n\n     * 使用加密节点设置币安API认证\n  4. **构建币安API请求**：\n\n     * 配置请求方法与标头参数\n  5. **获取资金费率与持仓**：\n\n     * 高效抓取资金数据与当前持仓\n  6. **生成资金报表**：\n\n     * 聚合数据生成详细资金记录\n  7. **写入Airtable数据库**：\n\n     * 将结构化数据插入表格并管理代币记录\n  8. **使用价格查询节点**：\n\n     * 通过Get Price节点自动追踪实时代币价格（无需额外配置）",
  "title_zh": "利用币安API与Airtable实现加密货币资金费率自动追踪",
  "publish_date_zh": "最后更新于6天前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"6a2a7715680b8313f7cb4676321c5baa46680adfb913072f089f2766f42e43bd\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"a3ff8cdd-1dc7-4e0a-96af-ab07ee318ddb\",\n      \"name\": \"Crypto2\",\n      \"type\": \"n8n-nodes-base.crypto\",\n      \"position\": [\n        940,\n        -60\n      ],\n      \"parameters\": {\n        \"type\": \"SHA256\",\n        \"value\": \"=recvWindow={{20000}}&timestamp={{ $json.timestamp }}\",\n        \"action\": \"hmac\",\n        \"secret\": \"pTFNHpnsm4gjz2au6nTCeu9UYgCfFNI1vgVOHLyHQAKUDKwdlVrYuCWXmrAcurYs\",\n        \"dataPropertyName\": \"secretKey\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"860de117-0305-4c73-917b-f62be016ea4c\",\n      \"name\": \"Edit Fields1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        760,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"19bd2a16-442e-416a-a28a-63d4050f4559\",\n              \"name\": \"timestamp\",\n              \"type\": \"string\",\n              \"value\": \"={{$now.format('x')}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"dd682d40-aa6a-4177-8c2a-2f7075e2a43e\",\n      \"name\": \"Edit Fields2\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1820,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"918722a0-4a14-4ed4-b18a-b37c401807ec\",\n              \"name\": \"data\",\n              \"type\": \"array\",\n              \"value\": \"={{ \\n  $('Aggregate Fees').item.json.data.map(fee => {\\n    const position = $('Aggregate Positions').item.json.data.find(pos => pos.symbol === fee.symbol) || {};\\n    const token = $('Aggregate Tokens').last().json.data.find(tok => tok.name === fee.symbol) || {};\\n\\n    return {\\n      symbol: fee.symbol,\\n      income: fee.income,\\n      asset: fee.asset,\\n      time: fee.time,\\n      tranId: fee.tranId,\\n      positionAmt: position.positionAmt || \\\"0\\\",\\n      markPrice: position.markPrice || \\\"0.00000000\\\",\\n      liquidationPrice: position.liquidationPrice || \\\"0\\\",\\n      tokenId: token.id || null  // Get ID from Get Tokens, or null if not found\\n    };\\n  })\\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4c6d65ae-1174-495e-8052-f4b998ee001d\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        2020,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a5dd73dc-18fe-400b-beaf-21a83211899f\",\n      \"name\": \"Get Positions\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1120,\n        -60\n      ],\n      \"parameters\": {\n        \"url\": \"https://fapi.binance.com/fapi/v2/positionRisk\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"recvWindow\",\n              \"value\": \"={{20000}}\"\n            },\n            {\n              \"name\": \"timestamp\",\n              \"value\": \"={{ $('Edit Fields1').item.json.timestamp }}\"\n            },\n            {\n              \"name\": \"signature\",\n              \"value\": \"={{ $json.secretKey }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"nHwfIXHEwCxK80VF\",\n          \"name\": \"Snezar Loxo\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"491841fe-c173-4644-bf02-d43425f3b10e\",\n      \"name\": \"Aggregate Positions\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        1320,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"90a1818d-a933-4770-997d-2a0692141192\",\n      \"name\": \"Aggregate Fees\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        580,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"39ee87a4-18eb-43f4-8489-ae16797492d6\",\n      \"name\": \"Get Tokens\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1480,\n        -60\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tbl8SLbJIGFe12VOR\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\n          \"cachedResultName\": \"Tokens\"\n        },\n        \"options\": {},\n        \"operation\": \"search\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"368b3bac-d0c1-435f-af34-377a893ba0b5\",\n      \"name\": \"Aggregate Tokens\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        1660,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2af8b4d-901f-4115-8704-55ba26e32a3c\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        -180,\n        -60\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"cronExpression\",\n              \"expression\": \"3 1,9,17 * * *\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"0795a6bc-1c4a-4a42-a446-8a4b57e8d7d9\",\n      \"name\": \"Crypto\",\n      \"type\": \"n8n-nodes-base.crypto\",\n      \"position\": [\n        40,\n        -440\n      ],\n      \"parameters\": {\n        \"type\": \"SHA256\",\n        \"value\": \"=symbol=LTCBTC&side=BUY&type=LIMIT&timeInForce=GTC&quantity=1&price=0.1&recvWindow=5000&timestamp=1499827319559\",\n        \"action\": \"hmac\",\n        \"secret\": \"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j\",\n        \"dataPropertyName\": \"signature\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"006b141f-f27f-4099-ba9f-78f6d02a74c6\",\n      \"name\": \"Schedule Trigger1\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -200,\n        440\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\",\n              \"hoursInterval\": 4\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"721dfce3-d076-415d-b69c-982e633e4f86\",\n      \"name\": \"Get Tokens1\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        0,\n        440\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tbl8SLbJIGFe12VOR\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\n          \"cachedResultName\": \"Tokens\"\n        },\n        \"options\": {},\n        \"operation\": \"search\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"edfc1dd2-4ce3-4b42-8abc-6bfe50fc38ec\",\n      \"name\": \"Update Token Prices1\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        460,\n        420\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tbl8SLbJIGFe12VOR\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\n          \"cachedResultName\": \"Tokens\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"id\": \"={{ $('Get Tokens1').item.json.id }}\",\n            \"price\": \"={{ $json.price }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true\n            },\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Funding Statement\",\n              \"type\": \"array\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Funding Statement\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"4f1d25cc-b79c-407e-a62c-92e4019ef974\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        300\n      ],\n      \"parameters\": {\n        \"width\": 1000,\n        \"height\": 340,\n        \"content\": \"### 场景二 - 更新代币价格\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ba0bc917-c61f-42cd-ac53-1c9028554910\",\n      \"name\": \"Get Price\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        220,\n        440\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.binance.com/api/v3/ticker/price?symbol={{ $json.name }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0dbf2475-0012-4c4c-9b33-900ae3ab8285\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        -200\n      ],\n      \"parameters\": {\n        \"width\": 3080,\n        \"height\": 420,\n        \"content\": \"### 场景一 - 添加资金费用\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"28415862-ff31-4b23-83ab-3af1f35b4435\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2200,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"46231f93-5e8a-4f8f-8dab-18c70f3d22a2\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.tokenId }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a54f5d41-d240-49dd-8827-8cbe125ec828\",\n      \"name\": \"Create Token\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        2380,\n        40\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tbl8SLbJIGFe12VOR\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tbl8SLbJIGFe12VOR\",\n          \"cachedResultName\": \"Tokens\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"name\": \"={{ $json.symbol }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true\n            },\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Funding Statement\",\n              \"type\": \"array\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Funding Statement\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"4f4e1eb4-23ea-4f98-8b31-2b2136da15dc\",\n      \"name\": \"Create Statement\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        2440,\n        -120\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblrHB0L42whQF6HM\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tblrHB0L42whQF6HM\",\n          \"cachedResultName\": \"Funding Statement\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"time\": \"={{ $json.time.toDateTime('ms') }}\",\n            \"asset\": \"={{ $json.asset }}\",\n            \"token\": \"={{ [$json.tokenId]}}\",\n            \"amount\": \"={{ $json.income }}\",\n            \"markPrice\": \"={{ $json.markPrice }}\",\n            \"positionSize\": \"={{ $json.positionAmt }}\",\n            \"liquidationPrice\": \"={{ $json.liquidationPrice }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"time\",\n              \"type\": \"dateTime\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"time\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"token\",\n              \"type\": \"array\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"token\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"asset\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"asset\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"amount\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"amount\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"positionSize\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"positionSize\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"annualizedYield\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"annualizedYield\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"liquidationPrice\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"liquidationPrice\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"markPrice\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"markPrice\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"ea7f6c61-065f-41a0-87e5-46575612c815\",\n      \"name\": \"Create Statement1\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        2560,\n        40\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app2uc5OOFJdg2weo\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo\",\n          \"cachedResultName\": \"Binance demo\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblrHB0L42whQF6HM\",\n          \"cachedResultUrl\": \"https://airtable.com/app2uc5OOFJdg2weo/tblrHB0L42whQF6HM\",\n          \"cachedResultName\": \"Funding Statement\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"time\": \"={{ $('If').item.json.time.toDateTime('ms') }}\",\n            \"asset\": \"={{ $('If').item.json.asset }}\",\n            \"token\": \"={{ [$json.id]}}\",\n            \"amount\": \"={{ $('If').item.json.income }}\",\n            \"markPrice\": \"={{ $('If').item.json.markPrice }}\",\n            \"positionSize\": \"={{ $('If').item.json.positionAmt }}\",\n            \"liquidationPrice\": \"={{ $('If').item.json.liquidationPrice }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"time\",\n              \"type\": \"dateTime\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"time\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"token\",\n              \"type\": \"array\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"token\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"asset\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"asset\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"amount\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"amount\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"positionSize\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"positionSize\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"annualizedYield\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"annualizedYield\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"liquidationPrice\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"liquidationPrice\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"markPrice\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"markPrice\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"xZwG0YpqsxpWrzVM\",\n          \"name\": \"Mark Airtable account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"c63b2d49-8421-41d4-94d3-331775d15436\",\n      \"name\": \"Crypto3\",\n      \"type\": \"n8n-nodes-base.crypto\",\n      \"position\": [\n        220,\n        -60\n      ],\n      \"parameters\": {\n        \"type\": \"SHA256\",\n        \"value\": \"=recvWindow={{20000}}&timestamp={{ $json.timestamp }}&incomeType=FUNDING_FEE&startTime={{ $json.startTime }}\",\n        \"action\": \"hmac\",\n        \"secret\": \"pTFNHpnsm4gjz2au6nTCeu9UYgCfFNI1vgVOHLyHQAKUDKwdlVrYuCWXmrAcurYs\",\n        \"dataPropertyName\": \"secretKey\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"501feb0f-231e-4ac6-872e-3b07861a4b45\",\n      \"name\": \"Edit Fields4\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        40,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"19bd2a16-442e-416a-a28a-63d4050f4559\",\n              \"name\": \"timestamp\",\n              \"type\": \"string\",\n              \"value\": \"={{$now.format('x')}}\"\n            },\n            {\n              \"id\": \"8766d7bb-63d7-4c9f-8319-bf5a1083781f\",\n              \"name\": \"startTime\",\n              \"type\": \"string\",\n              \"value\": \"={{ $now.minus(8,'hours').format('x') }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"eb371433-5c67-4be2-bf61-c819c085afcf\",\n      \"name\": \"Get Fees2\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        400,\n        -60\n      ],\n      \"parameters\": {\n        \"url\": \"https://fapi.binance.com/fapi/v1/income\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"recvWindow\",\n              \"value\": \"={{20000}}\"\n            },\n            {\n              \"name\": \"timestamp\",\n              \"value\": \"={{ $('Edit Fields4').item.json.timestamp }}\"\n            },\n            {\n              \"name\": \"signature\",\n              \"value\": \"={{ $json.secretKey }}\"\n            },\n            {\n              \"name\": \"incomeType\",\n              \"value\": \"FUNDING_FEE\"\n            },\n            {\n              \"name\": \"startTime\",\n              \"value\": \"={{ $('Edit Fields4').item.json.startTime }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"nHwfIXHEwCxK80VF\",\n          \"name\": \"Snezar Loxo\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"833d6652-4d44-4a39-8e72-e3fa9a7b5cc8\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 200,\n        \"height\": 80,\n        \"content\": \"### 替换头部认证\\nX-MBX-APIKEY=<你的API密钥>\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"989a1208-2457-4a85-a409-f00442b629a2\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 160,\n        \"height\": 80,\n        \"content\": \"### 替换密钥\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3c187a46-0760-400a-affa-2e3f1f9499e3\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        900,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 160,\n        \"height\": 80,\n        \"content\": \"### 替换密钥\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"626481c1-f4a4-44ca-a7f0-32da29dfc0c9\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 200,\n        \"height\": 80,\n        \"content\": \"### 替换头部认证\\nX-MBX-APIKEY=<你的API密钥>\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a1c7b2df-c5bd-493a-b63e-6ecad817c7cd\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        -560\n      ],\n      \"parameters\": {\n        \"width\": 780,\n        \"height\": 320,\n        \"content\": \"例子\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8ca604f7-214a-40fa-9d9a-4b93a2643d09\",\n      \"name\": \"Binance - Get Fees\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        240,\n        -440\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.binance.com/api/v3/order\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"symbol\",\n              \"value\": \"=LTCBTC\"\n            },\n            {\n              \"name\": \"side\",\n              \"value\": \"=BUY\"\n            },\n            {\n              \"name\": \"signature\",\n              \"value\": \"={{ $json.signature }}\"\n            },\n            {\n              \"name\": \"type\",\n              \"value\": \"LIMIT\"\n            },\n            {\n              \"name\": \"timeInForce\",\n              \"value\": \"=GTC\"\n            },\n            {\n              \"name\": \"quantity\",\n              \"value\": \"1\"\n            },\n            {\n              \"name\": \"price\",\n              \"value\": \"0.1\"\n            },\n            {\n              \"name\": \"recvWindow\",\n              \"value\": \"5000\"\n            },\n            {\n              \"name\": \"timestamp\",\n              \"value\": \"1499827319559\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-MBX-APIKEY\",\n              \"value\": \"vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"nHwfIXHEwCxK80VF\",\n          \"name\": \"Snezar Loxo\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"4ca9b631-24e3-4235-b2d2-ccfde43c6e72\",\n      \"name\": \"Set Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -140,\n        -440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"19bd2a16-442e-416a-a28a-63d4050f4559\",\n              \"name\": \"timestamp\",\n              \"type\": \"string\",\n              \"value\": \"={{$now.format('x')}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"pinData\": {\n    \"Get Fees2\": [\n      {\n        \"info\": \"FUNDING_FEE\",\n        \"time\": 1747353601000,\n        \"asset\": \"USDT\",\n        \"income\": \"0.62124647\",\n        \"symbol\": \"SOLUSDT\",\n        \"tranId\": 755481401373412200,\n        \"tradeId\": \"\",\n        \"incomeType\": \"FUNDING_FEE\"\n      }\n    ],\n    \"Get Positions\": [\n      {\n        \"symbol\": \"SNTUSDT\",\n        \"isolated\": false,\n        \"leverage\": \"5\",\n        \"notional\": \"0\",\n        \"markPrice\": \"0.00000000\",\n        \"entryPrice\": \"0.0\",\n        \"marginType\": \"cross\",\n        \"updateTime\": 0,\n        \"adlQuantile\": 0,\n        \"positionAmt\": \"0\",\n        \"positionSide\": \"BOTH\",\n        \"breakEvenPrice\": \"0.0\",\n        \"isolatedMargin\": \"0.00000000\",\n        \"isolatedWallet\": \"0\",\n        \"isAutoAddMargin\": \"false\",\n        \"liquidationPrice\": \"0\",\n        \"maxNotionalValue\": \"200000\",\n        \"unRealizedProfit\": \"0.00000000\"\n      },\n      {\n        \"symbol\": \"SUSHIUSDT\",\n        \"isolated\": false,\n        \"leverage\": \"5\",\n        \"notional\": \"0\",\n        \"markPrice\": \"0.00000000\",\n        \"entryPrice\": \"0.0\",\n        \"marginType\": \"cross\",\n        \"updateTime\": 0,\n        \"adlQuantile\": 0,\n        \"positionAmt\": \"0\",\n        \"positionSide\": \"BOTH\",\n        \"breakEvenPrice\": \"0.0\",\n        \"isolatedMargin\": \"0.00000000\",\n        \"isolatedWallet\": \"0\",\n        \"isAutoAddMargin\": \"false\",\n        \"liquidationPrice\": \"0\",\n        \"maxNotionalValue\": \"1600000\",\n        \"unRealizedProfit\": \"0.00000000\"\n      },\n      {\n        \"symbol\": \"CGPTUSDT\",\n        \"isolated\": false,\n        \"leverage\": \"5\",\n        \"notional\": \"0\",\n        \"markPrice\": \"0.00000000\",\n        \"entryPrice\": \"0.0\",\n        \"marginType\": \"cross\",\n        \"updateTime\": 0,\n        \"adlQuantile\": 0,\n        \"positionAmt\": \"0\",\n        \"positionSide\": \"BOTH\",\n        \"breakEvenPrice\": \"0.0\",\n        \"isolatedMargin\": \"0.00000000\",\n        \"isolatedWallet\": \"0\",\n        \"isAutoAddMargin\": \"false\",\n        \"liquidationPrice\": \"0\",\n        \"maxNotionalValue\": \"250000\",\n        \"unRealizedProfit\": \"0.00000000\"\n      },\n      {\n        \"symbol\": \"SOLUSDT\",\n        \"isolated\": true,\n        \"leverage\": \"5\",\n        \"notional\": \"41118.75\",\n        \"markPrice\": \"182.75\",\n        \"entryPrice\": \"176.20\",\n        \"marginType\": \"isolated\",\n        \"updateTime\": 1747353601416,\n        \"adlQuantile\": 3,\n        \"positionAmt\": \"225.00\",\n        \"positionSide\": \"BOTH\",\n        \"breakEvenPrice\": \"176.25\",\n        \"isolatedMargin\": \"13688.00\",\n        \"isolatedWallet\": \"12950.75\",\n        \"isAutoAddMargin\": \"false\",\n        \"liquidationPrice\": \"142.98\",\n        \"maxNotionalValue\": \"80000000\",\n        \"unRealizedProfit\": \"1471.25\"\n      }\n    ]\n  },\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Statement\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create Token\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Crypto\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Binance - Get Fees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Crypto2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Positions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Crypto3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Fees2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Fees2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate Fees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Price\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Token Prices1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Tokens\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate Tokens\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Tokens1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Price\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Token\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Statement1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Crypto2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields4\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Crypto3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Positions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate Positions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Crypto\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate Fees\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate Tokens\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields4\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Tokens1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate Positions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Tokens\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}