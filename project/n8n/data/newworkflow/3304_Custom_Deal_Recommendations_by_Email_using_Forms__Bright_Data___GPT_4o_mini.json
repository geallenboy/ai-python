{
  "url": "https://n8n.io/workflows/3304-custom-deal-recommendations-by-email-using-forms-bright-data-and-gpt-4o-mini/",
  "title": "Custom Deal Recommendations by Email using Forms, Bright Data & GPT-4o-mini",
  "author": "Miquel Colomer",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"b1f85eae352fde76d801a1a612661df6824cc2e68bfd6741e31305160a737e6e\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"a85eff80-4330-4bd8-acd9-9bf6e0b67c59\",\"name\":\"Get MediaMarkt Offers Website\",\"type\":\"n8n-nodes-brightdata.brightData\",\"position\":[40,-160],\"parameters\":{\"url\":\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\",\"zone\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"web_unlocker1\",\"cachedResultName\":\"web_unlocker1\"},\"format\":\"json\",\"country\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"es\",\"cachedResultName\":\"es\"},\"requestOptions\":{}},\"credentials\":{\"brightdataApi\":{\"id\":\"jk945kIuAFAo9bcg\",\"name\":\"BrightData account\"}},\"typeVersion\":1},{\"id\":\"d27b03e0-b0f1-4c76-b68e-d716391c71da\",\"name\":\"Create HTML for Email\",\"type\":\"n8n-nodes-document-generator.documentGenerator\",\"position\":[60,100],\"parameters\":{\"template\":\"<br>\\nThese are our recommended deals today:<br>\\n<ul>\\n{{#each items}}\\n<li>{{category}}: <a href=\\\"https://www.bestbuy.com{{link}}\\\">{{name}}</a> for {{price}}‚Ç¨</li>\\n{{/each}}\\n</ul>\\n<br>\",\"oneTemplate\":true},\"typeVersion\":1},{\"id\":\"d47ee04f-c1c5-4aac-a615-aa68f5a2d6cd\",\"name\":\"Extract items from results\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-140,100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"message.content.results\"},\"typeVersion\":1},{\"id\":\"34df63de-9b0d-4245-8f87-3654cab0c17e\",\"name\":\"Notify End User by Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[280,100],\"webhookId\":\"626001db-5451-4225-bf98-cd74c3952754\",\"parameters\":{\"html\":\"=Hi!\\n<br>\\n{{ $json.text }}\\n\\nBest,\\n<br>\\nThe n8nhackers team!\",\"options\":{},\"subject\":\"Your last deals!\",\"toEmail\":\"={{ $('When User Completes Form').first().json.Email}}\",\"fromEmail\":\"deals@n8nhackers.com\"},\"credentials\":{\"smtp\":{\"id\":\"z3kiLWNZTH4wQaGy\",\"name\":\"SMTP account\"}},\"typeVersion\":2.1},{\"id\":\"fbbd7e95-d972-401a-9aca-8015a1acf553\",\"name\":\"Show Form Results Page\",\"type\":\"n8n-nodes-base.form\",\"position\":[480,100],\"webhookId\":\"a67843b4-3ab9-427b-8e52-dfc42831065d\",\"parameters\":{\"options\":{},\"operation\":\"completion\",\"completionTitle\":\"Our recommended deals!\",\"completionMessage\":\"=We have sent {{ $('Extract items from results').all().length }} recommended deals to your email!\"},\"typeVersion\":1},{\"id\":\"e03ebc2b-db42-4a8d-8758-b3d988c4b943\",\"name\":\"Extract Body and Title from Website\",\"type\":\"n8n-nodes-base.html\",\"position\":[240,-160],\"parameters\":{\"options\":{\"trimValues\":true},\"operation\":\"extractHtmlContent\",\"dataPropertyName\":\"body\",\"extractionValues\":{\"values\":[{\"key\":\"title\",\"cssSelector\":\"title\"},{\"key\":\"body\",\"cssSelector\":\"body\"}]}},\"typeVersion\":1.2},{\"id\":\"74b0dcd7-d833-452c-82fe-98a21bd39d12\",\"name\":\"Generate List of Deals by Category\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-520,100],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"role\":\"system\",\"content\":\"Generate a list of recommended deals in json list. Classify items by category. Generate the next properties: name, description, price, link and category. All properties will be in a property called: results. Translate texts to english if required.\"},{\"content\":\"=The input text is:\\n{{ $json.body }}\"},{\"content\":\"=Categories to filter: {{ $('When User Completes Form').item.json.Category.join(',') }}\"}]},\"jsonOutput\":true},\"credentials\":{\"openAiApi\":{\"id\":\"oKzfvOwieOm4upQ2\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"a1095cea-6adc-4cf9-93fe-3a67dc061276\",\"name\":\"When User Completes Form\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-180,-160],\"webhookId\":\"33e8f7c3-82fb-4339-9c91-4b19aa6c14ba\",\"parameters\":{\"options\":{\"path\":\"get-top-deals\",\"ignoreBots\":true,\"buttonLabel\":\"Get Deals\"},\"formTitle\":\"Top deals\",\"formFields\":{\"values\":[{\"fieldType\":\"dropdown\",\"fieldLabel\":\"Category\",\"multiselect\":true,\"fieldOptions\":{\"values\":[{\"option\":\"Appliances\"},{\"option\":\"Cameras, CamCorders & Drones\"},{\"option\":\"Car Electronics \"},{\"option\":\"Cell Phones\"},{\"option\":\"Computers & Tablets\"},{\"option\":\"TV & Home Theater\"},{\"option\":\"Video Games\"}]},\"requiredField\":true},{\"fieldType\":\"email\",\"fieldLabel\":\"Email\",\"placeholder\":\"Complete your email\",\"requiredField\":true}]},\"responseMode\":\"lastNode\",\"formDescription\":\"This form returns top deals by your preferences in the same page.\\n\\nYou can schedule your future deals once per day at the end of this test.\"},\"typeVersion\":2.2}],\"pinData\":{},\"connections\":{\"Create HTML for Email\":{\"main\":[[{\"node\":\"Notify End User by Email\",\"type\":\"main\",\"index\":0}]]},\"Notify End User by Email\":{\"main\":[[{\"node\":\"Show Form Results Page\",\"type\":\"main\",\"index\":0}]]},\"When User Completes Form\":{\"main\":[[{\"node\":\"Get MediaMarkt Offers Website\",\"type\":\"main\",\"index\":0}]]},\"Extract items from results\":{\"main\":[[{\"node\":\"Create HTML for Email\",\"type\":\"main\",\"index\":0}]]},\"Get MediaMarkt Offers Website\":{\"main\":[[{\"node\":\"Extract Body and Title from Website\",\"type\":\"main\",\"index\":0}]]},\"Generate List of Deals by Category\":{\"main\":[[{\"node\":\"Extract items from results\",\"type\":\"main\",\"index\":0}]]},\"Extract Body and Title from Website\":{\"main\":[[{\"node\":\"Generate List of Deals by Category\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png)\n\nThis **n8n workflow template** automates the process of collecting and delivering the **\"Top Deals of the Day\" from MediaMarkt** , tailored to user preferences. By combining **user-submitted forms** , **Bright Data web scraping** , **GPT-4o-mini deal generation** , and **email delivery** , this workflow sends **personalized product recommendations** straight to a user‚Äôs inbox.\n\n> ‚ö†Ô∏è _Note: This workflow uses community nodes (Bright Data and Document Generator) which only work on**self-hosted n8n instances**_.\n\n* * *\n\n### üöÄ **What It Does**\n\n  * Collects user preferences via a form (categories + email)\n  * Scrapes MediaMarkt‚Äôs deals page using Bright Data\n  * Uses GPT-4o-mini (OpenAI) to recommend top deals\n  * Generates a structured HTML email using a template\n  * Sends the personalized deals directly via email\n\n\n\n* * *\n\n### üß© **Community Node Integration**\n\nWe created and used the following community nodes:\n\n  * **[Bright Data](https://www.npmjs.com/package/n8n-nodes-brightdata)** ‚Äì To scrape MediaMarkt deals using proxy-based scraping\n  * **[Document Generator](https://www.npmjs.com/package/n8n-nodes-document-generator)** ‚Äì To generate a templated HTML document from deal data\n\n\n\nThese nodes are **not available in n8n Cloud** and require **self-hosted n8n**.\n\n* * *\n\n### üõ†Ô∏è **Step-by-Step Setup**\n\n  1. **Install Community Nodes**  \nMake sure you're on a self-hosted n8n instance. Install:\n\n     * `n8n-nodes-brightdata`\n     * `n8n-nodes-document-generator`\n  2. **Configure Credentials**\n\n     * **Bright Data API Key** (Proxy + Scraping setup)\n     * **OpenAI API Key** (GPT-4o-mini access)\n     * **SMTP Credentials** for sending emails\n  3. **Customize the Form**  \nAdapt the form node to collect desired categories and email addresses. Typical categories include appliances, phones, laptops, etc.\n\n  4. **Design Your HTML Template**  \nIn the Document Generator node, you can tweak the HTML/CSS to change how deals appear in the final email.\n\n  5. **Test the Workflow**  \nSubmit the form with test data and check that the entire flow‚Äîfrom scraping to email‚Äîexecutes as expected.\n\n\n\n\n* * *\n\n### üß† **How It Works: Workflow Overview**\n\n  1. **User Interaction via Form**  \nUsers select product categories and enter their email. This triggers the workflow.\n\n  2. **Data Extraction via Bright Data**  \nBright Data scrapes the [MediaMarkt offers page](https://www.mediamarkt.es/es/campaign/campanas-y-ofertas) and returns HTML content.\n\n  3. **HTML Parsing**  \nKey elements like product names, prices, and links are extracted for processing.\n\n  4. **GPT-4o-mini Recommendation Generation**  \nThe extracted data is sent to OpenAI (GPT-4o-mini), which filters, ranks, and enhances deals based on the user‚Äôs preferences.\n\n  5. **Data Structuring & Split**  \nThe result is split into individual deal items to be formatted.\n\n  6. **HTML Document Creation**  \nDocument Generator populates a clean HTML template with the top recommended deals.\n\n  7. **Email Delivery**  \nThe final document is emailed via SMTP to the user with a friendly message.\n\n\n\n\n* * *\n\n### üì® **Final Output**\n\nUsers receive a **custom HTML email** featuring a curated list of top MediaMarkt deals based on their selected categories.\n\n* * *\n\n### üîê **Credentials Used**\n\n  * **Bright Data API** ‚Äì Web scraping with proxy support\n  * **OpenAI API** ‚Äì Generating personalized recommendations\n  * **SMTP** ‚Äì Sending personalized deal emails\n\n\n\n* * *\n\n### ‚ú® **Customization Tips**\n\n  * **Change the Data Source** : You can adapt this to scrape other e-commerce sites.\n  * **Update the Email Template** : Make it match your branding or include images.\n  * **Extend the Form** : Add preferences like price range or specific brands.\n  * **Add Scheduling** : Use Cron to run the workflow daily or weekly.\n\n\n\n* * *\n\n### ‚ùìQuestions?\n\nTemplate and node created by [**Miquel Colomer**](https://www.linkedin.com/in/miquelcolomersalas/) and [**n8nhackers.com**](https://n8nhackers.com).\n\nNeed help customizing or deploying? [**Contact us**](mailto:contact@n8nhackers.com) for consulting and support.\n",
  "crawled_at": "2025-05-26T04:10:43.753531",
  "readme_zh": "![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png)\n\nÊú¨**n8nÂ∑•‰ΩúÊµÅÊ®°Êùø**ÂèØËá™Âä®Êî∂ÈõÜÂπ∂Êé®ÈÄÅ**MediaMarkt\"ÊØèÊó•ÊúÄ‰Ω≥‰ºòÊÉ†\"**ÔºåÊ†πÊçÆÁî®Êà∑ÂÅèÂ•ΩËøõË°å‰∏™ÊÄßÂåñÂÆöÂà∂„ÄÇÈÄöËøáÊï¥Âêà**Áî®Êà∑Êèê‰∫§Ë°®Âçï**„ÄÅ**Bright DataÁΩëÈ°µÊäìÂèñ**„ÄÅ**GPT-4o-mini‰ºòÊÉ†ÁîüÊàê**Âíå**ÈÇÆ‰ª∂ÂèëÈÄÅ**ÂäüËÉΩÔºåËØ•Â∑•‰ΩúÊµÅËÉΩÂ∞Ü**‰∏™ÊÄßÂåñ‰∫ßÂìÅÊé®Ëçê**Áõ¥Êé•ÂèëÈÄÅËá≥Áî®Êà∑ÈÇÆÁÆ±„ÄÇ\n\n> ‚ö†Ô∏è _Ê≥®ÊÑèÔºöÊ≠§Â∑•‰ΩúÊµÅ‰ΩøÁî®‰∫ÜÁ§æÂå∫ËäÇÁÇπÔºàBright DataÂíåDocument GeneratorÔºâÔºå‰ªÖÈÄÇÁî®‰∫é**Ëá™ÊâòÁÆ°n8nÂÆû‰æã**_„ÄÇ\n\n* * *\n\n### üöÄ **ÂäüËÉΩ‰∫ÆÁÇπ**\n\n  * ÈÄöËøáË°®ÂçïÊî∂ÈõÜÁî®Êà∑ÂÅèÂ•ΩÔºàÂìÅÁ±ª+ÈÇÆÁÆ±Ôºâ\n  * ‰ΩøÁî®Bright DataÊäìÂèñMediaMarkt‰ºòÊÉ†È°µÈù¢\n  * Ë∞ÉÁî®GPT-4o-miniÔºàOpenAIÔºâÁîüÊàêÁ≤æÈÄâ‰ºòÊÉ†\n  * ÈÄöËøáÊ®°ÊùøÁîüÊàêÁªìÊûÑÂåñHTMLÈÇÆ‰ª∂\n  * Áõ¥Êé•ÂèëÈÄÅ‰∏™ÊÄßÂåñ‰ºòÊÉ†Ëá≥Áî®Êà∑ÈÇÆÁÆ±\n\n* * *\n\n### üß© **Á§æÂå∫ËäÇÁÇπÈõÜÊàê**\n\nÊàë‰ª¨ÂàõÂª∫Âπ∂‰ΩøÁî®‰∫Ü‰ª•‰∏ãÁ§æÂå∫ËäÇÁÇπÔºö\n\n  * **[Bright Data](https://www.npmjs.com/package/n8n-nodes-brightdata)** ‚Äì ÈÄöËøá‰ª£ÁêÜÊäìÂèñMediaMarkt‰ºòÊÉ†\n  * **[Document Generator](https://www.npmjs.com/package/n8n-nodes-document-generator)** ‚Äì Â∞Ü‰ºòÊÉ†Êï∞ÊçÆËΩ¨Êç¢‰∏∫Ê®°ÊùøÂåñHTMLÊñáÊ°£\n\nËøô‰∫õËäÇÁÇπ**‰∏çÈÄÇÁî®‰∫én8n‰∫ëÁ´ØÁâà**ÔºåÈúÄÂú®**Ëá™ÊâòÁÆ°n8nÁéØÂ¢É**ËøêË°å„ÄÇ\n\n* * *\n\n### üõ†Ô∏è **ÂàÜÊ≠•ËÆæÁΩÆÊåáÂçó**\n\n  1. **ÂÆâË£ÖÁ§æÂå∫ËäÇÁÇπ**  \nÁ°Æ‰øù‰ΩøÁî®Ëá™ÊâòÁÆ°n8nÂÆû‰æãÔºåÂÆâË£Ö‰ª•‰∏ãÊ®°ÂùóÔºö\n\n     * `n8n-nodes-brightdata`\n     * `n8n-nodes-document-generator`\n  2. **ÈÖçÁΩÆÂá≠ËØÅ**\n\n     * **Bright Data APIÂØÜÈí•**Ôºà‰ª£ÁêÜ+ÊäìÂèñËÆæÁΩÆÔºâ\n     * **OpenAI APIÂØÜÈí•**ÔºàGPT-4o-miniËÆøÈóÆÊùÉÈôêÔºâ\n     * **SMTPÂá≠ËØÅ**ÔºàÈÇÆ‰ª∂ÂèëÈÄÅÈÖçÁΩÆÔºâ\n  3. **Ëá™ÂÆö‰πâË°®Âçï**  \nË∞ÉÊï¥Ë°®ÂçïËäÇÁÇπ‰ª•Êî∂ÈõÜÁõÆÊ†áÂìÅÁ±ªÂíåÈÇÆÁÆ±Âú∞ÂùÄÔºåÂ∏∏ËßÅÂìÅÁ±ªÂåÖÊã¨ÂÆ∂Áîµ„ÄÅÊâãÊú∫„ÄÅÁ¨îËÆ∞Êú¨Á≠â„ÄÇ\n\n  4. **ËÆæËÆ°HTMLÊ®°Êùø**  \nÂú®Document GeneratorËäÇÁÇπ‰∏≠ÂèØ‰øÆÊîπHTML/CSSÔºåÂÆöÂà∂‰ºòÊÉ†‰ø°ÊÅØÂú®ÈÇÆ‰ª∂‰∏≠ÁöÑÂ±ïÁ§∫Ê†∑Âºè„ÄÇ\n\n  5. **ÊµãËØïÂ∑•‰ΩúÊµÅ**  \nÊèê‰∫§ÊµãËØïÊï∞ÊçÆË°®ÂçïÔºåÈ™åËØÅ‰ªéÊäìÂèñÂà∞ÈÇÆ‰ª∂ÂèëÈÄÅÁöÑÂÆåÊï¥ÊµÅÁ®ãÊòØÂê¶Ê≠£Â∏∏ËøêË°å„ÄÇ\n\n* * *\n\n### üß† **Â∑•‰ΩúÂéüÁêÜÔºöÂ∑•‰ΩúÊµÅÊ¶ÇËßà**\n\n  1. **Áî®Êà∑Ë°®Âçï‰∫§‰∫í**  \nÁî®Êà∑ÈÄâÊã©‰∫ßÂìÅÂìÅÁ±ªÂπ∂Â°´ÂÜôÈÇÆÁÆ±ÔºåËß¶ÂèëÂ∑•‰ΩúÊµÅËøêË°å„ÄÇ\n\n  2. **Bright DataÊï∞ÊçÆÊäìÂèñ**  \nÊäìÂèñ[MediaMarkt‰øÉÈîÄÈ°µÈù¢](https://www.mediamarkt.es/es/campaign/campanas-y-ofertas)ÁöÑHTMLÂÜÖÂÆπ„ÄÇ\n\n  3. **HTMLËß£Êûê**  \nÊèêÂèñ‰∫ßÂìÅÂêçÁß∞„ÄÅ‰ª∑Ê†º„ÄÅÈìæÊé•Á≠âÂÖ≥ÈîÆÂÖÉÁ¥†„ÄÇ\n\n  4. **GPT-4o-miniÊé®ËçêÁîüÊàê**  \nÂ∞ÜÊï∞ÊçÆÂèëÈÄÅËá≥OpenAIÔºàGPT-4o-miniÔºâÔºåÊ†πÊçÆÁî®Êà∑ÂÅèÂ•ΩÁ≠õÈÄâÊéíÂ∫èÂπ∂‰ºòÂåñ‰ºòÊÉ†‰ø°ÊÅØ„ÄÇ\n\n  5. **Êï∞ÊçÆÁªìÊûÑÂåñÊãÜÂàÜ**  \nÂ∞ÜÂ§ÑÁêÜÁªìÊûúÊãÜÂàÜ‰∏∫Áã¨Á´ã‰ºòÊÉ†Êù°ÁõÆ‰ª•‰æøÊ†ºÂºèÂåñ„ÄÇ\n\n  6. **HTMLÊñáÊ°£ÁîüÊàê**  \nÈÄöËøáDocument GeneratorÂ∞ÜÁ≤æÈÄâ‰ºòÊÉ†Â°´ÂÖ•HTMLÊ®°Êùø„ÄÇ\n\n  7. **ÈÇÆ‰ª∂ÂèëÈÄÅ**  \nÈÄöËøáSMTPÂ∞ÜÊúÄÁªàÊñáÊ°£‰ª•ÂèãÂ•ΩÊñáÊ°àÂèëÈÄÅËá≥Áî®Êà∑ÈÇÆÁÆ±„ÄÇ\n\n* * *\n\n### üì® **ÊúÄÁªàËæìÂá∫**\n\nÁî®Êà∑Â∞ÜÊî∂Âà∞**ÂÆöÂà∂HTMLÈÇÆ‰ª∂**ÔºåÂÜÖÂê´Ê†πÊçÆÊâÄÈÄâÂìÅÁ±ªÁ≤æÈÄâÁöÑMediaMarktÊúÄ‰Ω≥‰ºòÊÉ†ÂàóË°®„ÄÇ\n\n* * *\n\n### üîê **ÊâÄÈúÄÂá≠ËØÅ**\n\n  * **Bright Data API** ‚Äì ÊîØÊåÅ‰ª£ÁêÜÁöÑÁΩëÈ°µÊäìÂèñ\n  * **OpenAI API** ‚Äì ÁîüÊàê‰∏™ÊÄßÂåñÊé®Ëçê\n  * **SMTP** ‚Äì ÂèëÈÄÅ‰∏™ÊÄßÂåñ‰ºòÊÉ†ÈÇÆ‰ª∂\n\n* * *\n\n### ‚ú® **ÂÆöÂà∂Âª∫ËÆÆ**\n\n  * **Êõ¥Êç¢Êï∞ÊçÆÊ∫ê**ÔºöÂèØÈÄÇÈÖçÂÖ∂‰ªñÁîµÂïÜÁΩëÁ´ôÊäìÂèñ\n  * **Êõ¥Êñ∞ÈÇÆ‰ª∂Ê®°Êùø**ÔºöÂåπÈÖçÂìÅÁâåË∞ÉÊÄßÊàñÊ∑ªÂä†ÂõæÁâá\n  * **Êâ©Â±ïË°®Âçï**ÔºöÂ¢ûÂä†‰ª∑Ê†ºÂå∫Èó¥ÊàñÁâπÂÆöÂìÅÁâåÁ≠âÈÄâÈ°π\n  * **Ê∑ªÂä†ÂÆöÊó∂‰ªªÂä°**ÔºöÈÄöËøáCronËÆæÁΩÆÊØèÊó•/ÊØèÂë®Ëá™Âä®ËøêË°å\n\n* * *\n\n### ‚ùì **ÈóÆÈ¢òÂí®ËØ¢Ôºü**\n\nÊ®°Êùø‰∏éËäÇÁÇπÁî±[**Miquel Colomer**](https://www.linkedin.com/in/miquelcolomersalas/)Âíå[**n8nhackers.com**](https://n8nhackers.com)ÂàõÂª∫„ÄÇ\n\nÈúÄË¶ÅÂÆöÂà∂ÊàñÈÉ®ÁΩ≤Â∏ÆÂä©ÔºüÊ¨¢Ëøé[**ËÅîÁ≥ªÊàë‰ª¨**](mailto:contact@n8nhackers.com)Ëé∑ÂèñÂí®ËØ¢ÊîØÊåÅ„ÄÇ",
  "title_zh": "ÈÄöËøáË°®Âçï„ÄÅBright Data‰∏éGPT-4o-miniÂÆûÁé∞ÁöÑÂÆöÂà∂‰∫§ÊòìÈÇÆ‰ª∂Êé®Ëçê",
  "publish_date_zh": "‰∏äÊ¨°Êõ¥Êñ∞‰∫é‰∏Ä‰∏™ÊúàÂâç",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"b1f85eae352fde76d801a1a612661df6824cc2e68bfd6741e31305160a737e6e\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"a85eff80-4330-4bd8-acd9-9bf6e0b67c59\",\"name\":\"Get MediaMarkt Offers Website\",\"type\":\"n8n-nodes-brightdata.brightData\",\"position\":[40,-160],\"parameters\":{\"url\":\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\",\"zone\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"web_unlocker1\",\"cachedResultName\":\"web_unlocker1\"},\"format\":\"json\",\"country\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"es\",\"cachedResultName\":\"es\"},\"requestOptions\":{}},\"credentials\":{\"brightdataApi\":{\"id\":\"jk945kIuAFAo9bcg\",\"name\":\"BrightData account\"}},\"typeVersion\":1},{\"id\":\"d27b03e0-b0f1-4c76-b68e-d716391c71da\",\"name\":\"Create HTML for Email\",\"type\":\"n8n-nodes-document-generator.documentGenerator\",\"position\":[60,100],\"parameters\":{\"template\":\"<br>\\nThese are our recommended deals today:<br>\\n<ul>\\n{{#each items}}\\n<li>{{category}}: <a href=\\\"https://www.bestbuy.com{{link}}\\\">{{name}}</a> for {{price}}‚Ç¨</li>\\n{{/each}}\\n</ul>\\n<br>\",\"oneTemplate\":true},\"typeVersion\":1},{\"id\":\"d47ee04f-c1c5-4aac-a615-aa68f5a2d6cd\",\"name\":\"Extract items from results\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-140,100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"message.content.results\"},\"typeVersion\":1},{\"id\":\"34df63de-9b0d-4245-8f87-3654cab0c17e\",\"name\":\"Notify End User by Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[280,100],\"webhookId\":\"626001db-5451-4225-bf98-cd74c3952754\",\"parameters\":{\"html\":\"=Hi!\\n<br>\\n{{ $json.text }}\\n\\nBest,\\n<br>\\nThe n8nhackers team!\",\"options\":{},\"subject\":\"Your last deals!\",\"toEmail\":\"={{ $('When User Completes Form').first().json.Email}}\",\"fromEmail\":\"deals@n8nhackers.com\"},\"credentials\":{\"smtp\":{\"id\":\"z3kiLWNZTH4wQaGy\",\"name\":\"SMTP account\"}},\"typeVersion\":2.1},{\"id\":\"fbbd7e95-d972-401a-9aca-8015a1acf553\",\"name\":\"Show Form Results Page\",\"type\":\"n8n-nodes-base.form\",\"position\":[480,100],\"webhookId\":\"a67843b4-3ab9-427b-8e52-dfc42831065d\",\"parameters\":{\"options\":{},\"operation\":\"completion\",\"completionTitle\":\"Our recommended deals!\",\"completionMessage\":\"=We have sent {{ $('Extract items from results').all().length }} recommended deals to your email!\"},\"typeVersion\":1},{\"id\":\"e03ebc2b-db42-4a8d-8758-b3d988c4b943\",\"name\":\"Extract Body and Title from Website\",\"type\":\"n8n-nodes-base.html\",\"position\":[240,-160],\"parameters\":{\"options\":{\"trimValues\":true},\"operation\":\"extractHtmlContent\",\"dataPropertyName\":\"body\",\"extractionValues\":{\"values\":[{\"key\":\"title\",\"cssSelector\":\"title\"},{\"key\":\"body\",\"cssSelector\":\"body\"}]}},\"typeVersion\":1.2},{\"id\":\"74b0dcd7-d833-452c-82fe-98a21bd39d12\",\"name\":\"Generate List of Deals by Category\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-520,100],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"role\":\"system\",\"content\":\"Generate a list of recommended deals in json list. Classify items by category. Generate the next properties: name, description, price, link and category. All properties will be in a property called: results. Translate texts to english if required.\"},{\"content\":\"=The input text is:\\n{{ $json.body }}\"},{\"content\":\"=Categories to filter: {{ $('When User Completes Form').item.json.Category.join(',') }}\"}]},\"jsonOutput\":true},\"credentials\":{\"openAiApi\":{\"id\":\"oKzfvOwieOm4upQ2\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"a1095cea-6adc-4cf9-93fe-3a67dc061276\",\"name\":\"When User Completes Form\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-180,-160],\"webhookId\":\"33e8f7c3-82fb-4339-9c91-4b19aa6c14ba\",\"parameters\":{\"options\":{\"path\":\"get-top-deals\",\"ignoreBots\":true,\"buttonLabel\":\"Get Deals\"},\"formTitle\":\"Top deals\",\"formFields\":{\"values\":[{\"fieldType\":\"dropdown\",\"fieldLabel\":\"Category\",\"multiselect\":true,\"fieldOptions\":{\"values\":[{\"option\":\"Appliances\"},{\"option\":\"Cameras, CamCorders & Drones\"},{\"option\":\"Car Electronics \"},{\"option\":\"Cell Phones\"},{\"option\":\"Computers & Tablets\"},{\"option\":\"TV & Home Theater\"},{\"option\":\"Video Games\"}]},\"requiredField\":true},{\"fieldType\":\"email\",\"fieldLabel\":\"Email\",\"placeholder\":\"Complete your email\",\"requiredField\":true}]},\"responseMode\":\"lastNode\",\"formDescription\":\"This form returns top deals by your preferences in the same page.\\n\\nYou can schedule your future deals once per day at the end of this test.\"},\"typeVersion\":2.2}],\"pinData\":{},\"connections\":{\"Create HTML for Email\":{\"main\":[[{\"node\":\"Notify End User by Email\",\"type\":\"main\",\"index\":0}]]},\"Notify End User by Email\":{\"main\":[[{\"node\":\"Show Form Results Page\",\"type\":\"main\",\"index\":0}]]},\"When User Completes Form\":{\"main\":[[{\"node\":\"Get MediaMarkt Offers Website\",\"type\":\"main\",\"index\":0}]]},\"Extract items from results\":{\"main\":[[{\"node\":\"Create HTML for Email\",\"type\":\"main\",\"index\":0}]]},\"Get MediaMarkt Offers Website\":{\"main\":[[{\"node\":\"Extract Body and Title from Website\",\"type\":\"main\",\"index\":0}]]},\"Generate List of Deals by Category\":{\"main\":[[{\"node\":\"Extract items from results\",\"type\":\"main\",\"index\":0}]]},\"Extract Body and Title from Website\":{\"main\":[[{\"node\":\"Generate List of Deals by Category\",\"type\":\"main\",\"index\":0}]]}}}"
}