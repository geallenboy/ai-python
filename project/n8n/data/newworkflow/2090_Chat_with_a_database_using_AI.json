{
  "url": "https://n8n.io/workflows/2090-chat-with-a-database-using-ai/",
  "title": "Chat with a database using AI",
  "author": "David Roberts",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-25",
  "categories": [
    {
      "name": "Engineering"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"d08a2559-17fd-4bdb-a976-795c3823a88a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-520,240],\"parameters\":{\"content\":\"## Try me out\\nClick the 'chat' button at the bottom of the canvas and paste in:\\n\\n_Which tables are available?_\"},\"typeVersion\":1},{\"id\":\"3019b559-6100-4ead-8e1a-a7dece2a6982\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-60],\"parameters\":{\"color\":7,\"width\":677,\"height\":505,\"content\":\"This workflow uses a Postgres DB, but you could swap it for a MySQL or SQLite one\"},\"typeVersion\":1},{\"id\":\"73786411-5383-4921-82ee-06b3b582bab7\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-320,40],\"webhookId\":\"1c0d08f0-abd0-4bdc-beef-370c27aae1a0\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"e65a1558-e0c0-4c4a-a306-90dc6dcb618a\",\"name\":\"Postgres\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[140,260],\"parameters\":{\"query\":\"{{ $fromAI('sql_statement') }}\",\"options\":{},\"operation\":\"executeQuery\"},\"credentials\":{\"postgres\":{\"id\":\"elRn5sxKOfCdlEs6\",\"name\":\"Postgres account\"}},\"typeVersion\":2.5},{\"id\":\"9df537e7-3ca2-4e72-bc85-ae0d944fbdd1\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[0,260],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"57b2b959-9f25-475f-b6bb-842139725411\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-100,40],\"parameters\":{\"options\":{}},\"typeVersion\":1.8},{\"id\":\"f21ac2dc-56ff-4ea6-a29e-168e7dfaf3fa\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-160,260],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2}],\"pinData\":{},\"connections\":{\"Postgres\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow allows you to ask questions about data stored in a database using AI.\n\nTo use it, you'll need an OpenAI API key (although you could also swap in a model from another service).\n\nSupported databases:\n\n  * Postgres\n  * MySQL\n  * SQLite\n\n\n\nThe workflow uses n8n's embedded chat, but you could also modify it to work with a chat service such as Slack, MS Teams or WhatsApp.\n\nNote that to use this template, you need to be on n8n version 1.19.4 or later.\n",
  "crawled_at": "2025-05-25T20:53:35.077954",
  "readme_zh": "该工作流支持通过人工智能对数据库中的数据进行提问查询。\n\n使用前需准备OpenAI API密钥（也可替换为其他服务的AI模型）。\n\n兼容的数据库类型：\n\n  * PostgreSQL\n  * MySQL\n  * SQLite\n\n本工作流默认使用n8n内置聊天界面，但也可修改适配Slack、MS Teams或WhatsApp等通讯平台。\n\n注意：使用此模板需确保n8n版本为1.19.4或更高。",
  "title_zh": "利用AI与数据库对话",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"d08a2559-17fd-4bdb-a976-795c3823a88a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-520,240],\"parameters\":{\"content\":\"## 试试看\\n点击画布底部的“聊天”按钮并粘贴以下内容：\\n\\n_有哪些可用的表格？_\"},\"typeVersion\":1},{\"id\":\"3019b559-6100-4ead-8e1a-a7dece2a6982\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-60],\"parameters\":{\"color\":7,\"width\":677,\"height\":505,\"content\":\"该工作流程使用了Postgres数据库，但您也可以替换为MySQL或SQLite数据库。\"},\"typeVersion\":1},{\"id\":\"73786411-5383-4921-82ee-06b3b582bab7\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-320,40],\"webhookId\":\"1c0d08f0-abd0-4bdc-beef-370c27aae1a0\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"e65a1558-e0c0-4c4a-a306-90dc6dcb618a\",\"name\":\"Postgres\",\"type\":\"n8n-nodes-base.postgresTool\",\"position\":[140,260],\"parameters\":{\"query\":\"{{ $fromAI('sql_statement') }}\",\"options\":{},\"operation\":\"executeQuery\"},\"credentials\":{\"postgres\":{\"id\":\"elRn5sxKOfCdlEs6\",\"name\":\"Postgres account\"}},\"typeVersion\":2.5},{\"id\":\"9df537e7-3ca2-4e72-bc85-ae0d944fbdd1\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[0,260],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"57b2b959-9f25-475f-b6bb-842139725411\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-100,40],\"parameters\":{\"options\":{}},\"typeVersion\":1.8},{\"id\":\"f21ac2dc-56ff-4ea6-a29e-168e7dfaf3fa\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-160,260],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2}],\"pinData\":{},\"connections\":{\"Postgres\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]}}}"
}