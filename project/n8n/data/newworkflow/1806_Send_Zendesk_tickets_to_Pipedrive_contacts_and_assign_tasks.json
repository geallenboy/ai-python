{
  "url": "https://n8n.io/workflows/1806-send-zendesk-tickets-to-pipedrive-contacts-and-assign-tasks/",
  "title": "Send Zendesk tickets to Pipedrive contacts and assign tasks",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-25",
  "categories": [
    {
      "name": "Sales"
    },
    {
      "name": "Support"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"},\"nodes\":[{\"id\":\"9d40c0b9-498f-421c-b731-3a387402b69a\",\"name\":\"Get last execution timestamp\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[380,360],\"parameters\":{\"functionCode\":\"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nif(!staticData.lastExecution){\\n  staticData.lastExecution = new Date().getTime();\\n}\\n\\nitem.executionTimeStamp = new Date().getTime();\\nitem.lastExecution = staticData.lastExecution;\\n\\n\\nreturn item;\"},\"typeVersion\":1},{\"id\":\"ddb12f68-1f6b-41fb-bfd4-038697ce4d75\",\"name\":\"Set new last execution timestamp\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[3280,380],\"parameters\":{\"functionCode\":\"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nstaticData.lastExecution = $item(0).$node[\\\"Get last execution timestamp\\\"].executionTimeStamp;\\n\\nreturn item;\"},\"executeOnce\":true,\"typeVersion\":1},{\"id\":\"42888df0-1f7e-4990-87b3-3226a474110e\",\"name\":\"Get tickets created after last execution\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[620,360],\"parameters\":{\"options\":{\"query\":\"=created>{{ $json[\\\"lastExecution\\\"] }}\",\"sortBy\":\"updated_at\",\"sortOrder\":\"desc\"},\"operation\":\"getAll\"},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"2f0f71f6-3d4c-4895-9313-7f47e3b2ed86\",\"name\":\"Get requester information\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[840,460],\"parameters\":{\"id\":\"={{ $json[\\\"requester_id\\\"] }}\",\"resource\":\"user\",\"operation\":\"get\"},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"284fd54b-bd7b-4fbb-8a14-0c4fa62a3200\",\"name\":\"Keep only needed requester information\",\"type\":\"n8n-nodes-base.set\",\"position\":[1060,460],\"parameters\":{\"values\":{\"number\":[{\"name\":\"requester_id\",\"value\":\"={{ $json[\\\"id\\\"] }}\"}],\"string\":[{\"name\":\"requester_email\",\"value\":\"={{ $json[\\\"email\\\"] }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"17c3b860-60cb-4885-b503-9086b461bde0\",\"name\":\"Keep only requester owner email\",\"type\":\"n8n-nodes-base.set\",\"position\":[2000,480],\"parameters\":{\"values\":{\"string\":[{\"name\":\"requester_pipedrive_email\",\"value\":\"={{ $node[\\\"Search requester in pipedrive\\\"].json[\\\"primary_email\\\"] }}\"},{\"name\":\"requester_pipedrive_owner_email\",\"value\":\"={{ $json[\\\"data\\\"].email }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"a4ccf1d7-5d9f-4c4e-a5b9-c54ed77c5c44\",\"name\":\"Every 5 minutes\",\"type\":\"n8n-nodes-base.cron\",\"position\":[160,360],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyX\",\"unit\":\"minutes\",\"value\":5}]}},\"typeVersion\":1},{\"id\":\"99fb51d8-0d93-4db9-868d-757046d1bdc2\",\"name\":\"Add requester information to ticket data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1280,380],\"parameters\":{\"mode\":\"mergeByKey\",\"propertyName1\":\"requester_id\",\"propertyName2\":\"requester_id\"},\"typeVersion\":1},{\"id\":\"a4c7acd0-b2b6-48bb-b7b7-d2826ddb1f9d\",\"name\":\"Search requester in pipedrive\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1560,480],\"parameters\":{\"term\":\"={{ $json[\\\"requester_email\\\"] }}\",\"resource\":\"person\",\"operation\":\"search\",\"additionalFields\":{\"fields\":\"email\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"1\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"7a8a3bf3-9f57-40ad-a31f-45522264f101\",\"name\":\"Get owner information of Pipedrive contact\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1780,480],\"parameters\":{\"url\":\"=https://n8n.pipedrive.com/api/v1/users/{{$json[\\\"owner\\\"][\\\"id\\\"]}}\",\"options\":{},\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"pipedriveApi\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"1\",\"name\":\"Pipedrive account\"}},\"typeVersion\":2},{\"id\":\"64a7fc0c-ddb4-4d84-86a6-3e9bd361ce46\",\"name\":\"Get agents and admins\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[1780,700],\"parameters\":{\"filters\":{\"role\":[\"agent\",\"admin\"]},\"resource\":\"user\",\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"0117d5f8-e9b2-46c9-9777-7ae82e002cc2\",\"name\":\"Keep only email and Id\",\"type\":\"n8n-nodes-base.set\",\"position\":[2000,700],\"parameters\":{\"values\":{\"string\":[{\"name\":\"agent_email\",\"value\":\"={{ $json[\\\"email\\\"] }}\"},{\"name\":\"agent_id\",\"value\":\"={{ $json[\\\"id\\\"] }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"eaa7b072-0499-4b3a-96af-433d3afc12f9\",\"name\":\"Add Pipedrive agent data to pipedrive contact information\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2280,500],\"parameters\":{\"mode\":\"mergeByKey\",\"propertyName1\":\"requester_pipedrive_owner_email\",\"propertyName2\":\"agent_email\"},\"typeVersion\":1},{\"id\":\"b9619e3d-c951-47ae-bbb5-db50e7ae5abe\",\"name\":\"Add contact owner to ticket data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2540,400],\"parameters\":{\"mode\":\"mergeByKey\",\"propertyName1\":\"requester_email\",\"propertyName2\":\"requester_pipedrive_email\"},\"typeVersion\":1},{\"id\":\"14f88f5f-2bab-42f2-bea7-a7566e6d45b1\",\"name\":\"Contact exists in Pipedrive\",\"type\":\"n8n-nodes-base.if\",\"position\":[2760,400],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json[\\\"agent_id\\\"] }}\",\"operation\":\"isNotEmpty\"}]}},\"typeVersion\":1},{\"id\":\"38da1ccc-3d23-41cd-84b3-6fc249aedca5\",\"name\":\"Change assignee to Pipedrive contact owner\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[3020,380],\"parameters\":{\"id\":\"={{ $json[\\\"id\\\"] }}\",\"operation\":\"update\",\"updateFields\":{\"assigneeEmail\":\"={{$json[\\\"requester_pipedrive_owner_email\\\"]}}\"}},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"4295e0e2-88e8-4f93-8432-47fff452cfc5\",\"name\":\"Add a note requester not found\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[3020,580],\"parameters\":{\"id\":\"={{ $json[\\\"id\\\"] }}\",\"operation\":\"update\",\"updateFields\":{\"internalNote\":\"Requester not found in Pipedrive\"}},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1}],\"connections\":{\"Every 5 minutes\":{\"main\":[[{\"node\":\"Get last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Get agents and admins\":{\"main\":[[{\"node\":\"Keep only email and Id\",\"type\":\"main\",\"index\":0}]]},\"Keep only email and Id\":{\"main\":[[{\"node\":\"Add Pipedrive agent data to pipedrive contact information\",\"type\":\"main\",\"index\":1}]]},\"Get requester information\":{\"main\":[[{\"node\":\"Keep only needed requester information\",\"type\":\"main\",\"index\":0}]]},\"Contact exists in Pipedrive\":{\"main\":[[{\"node\":\"Change assignee to Pipedrive contact owner\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Add a note requester not found\",\"type\":\"main\",\"index\":0}]]},\"Get last execution timestamp\":{\"main\":[[{\"node\":\"Get tickets created after last execution\",\"type\":\"main\",\"index\":0}]]},\"Search requester in pipedrive\":{\"main\":[[{\"node\":\"Get owner information of Pipedrive contact\",\"type\":\"main\",\"index\":0}]]},\"Add a note requester not found\":{\"main\":[[{\"node\":\"Set new last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Keep only requester owner email\":{\"main\":[[{\"node\":\"Add Pipedrive agent data to pipedrive contact information\",\"type\":\"main\",\"index\":0}]]},\"Add contact owner to ticket data\":{\"main\":[[{\"node\":\"Contact exists in Pipedrive\",\"type\":\"main\",\"index\":0}]]},\"Keep only needed requester information\":{\"main\":[[{\"node\":\"Add requester information to ticket data\",\"type\":\"main\",\"index\":1}]]},\"Add requester information to ticket data\":{\"main\":[[{\"node\":\"Search requester in pipedrive\",\"type\":\"main\",\"index\":0},{\"node\":\"Add contact owner to ticket data\",\"type\":\"main\",\"index\":0}]]},\"Get tickets created after last execution\":{\"main\":[[{\"node\":\"Add requester information to ticket data\",\"type\":\"main\",\"index\":0},{\"node\":\"Get requester information\",\"type\":\"main\",\"index\":0}]]},\"Change assignee to Pipedrive contact owner\":{\"main\":[[{\"node\":\"Set new last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Get owner information of Pipedrive contact\":{\"main\":[[{\"node\":\"Keep only requester owner email\",\"type\":\"main\",\"index\":0}]]},\"Add Pipedrive agent data to pipedrive contact information\":{\"main\":[[{\"node\":\"Add contact owner to ticket data\",\"type\":\"main\",\"index\":1}]]}}}",
  "readme": "This workflow automatically sends Zendesk tickets to Pipedrive contacts and makes them task assignees. The automation is triggered every 5 minutes, with Zendesk checking and collecting new tickets which are then individually assigned to a Pipedrive contact.\n\n## Prerequisites\n\n  * Pipedrive account and [Pipedrive credentials](https://docs.n8n.io/integrations/builtin/credentials/pipedrive/)\n  * Zendesk account and [Zendesk credentials](https://docs.n8n.io/integrations/builtin/credentials/zendesk/)\n\n\n\n_Note: The Pipedrive and the Zendesk accounts need to be created by the same person / with the same email._\n\n## How it works\n\n  1. Cron node triggers the workflow every 5 minutes.\n  2. Zendesk node collects all the tickets received after the last execution timestamp.\n  3. Set node passes only the requester`s email and ID further to the Merge node.\n  4. Merge by key node merges both inputs together, the tickets and their contact emails.\n  5. Pipedrive node then searches for the requester.\n  6. HTTP Request node gets owner information of Pipedrive contact.\n  7. Set nodes keep only the requester owner's email and the agent`s email and id.\n  8. Merge by key node merges the information and adds the contact owner to ticket data.\n  9. Zendesk node changes the assignee to the Pipedrive contact owner or adds a note if the requester is not found.\n  10. The Function Item node sets the new last execution timestamp.\n\n\n",
  "crawled_at": "2025-05-25T20:07:53.100346",
  "readme_zh": "该工作流自动将Zendesk工单发送至Pipedrive联系人并设为任务负责人。系统每5分钟触发一次自动化流程：Zendesk会检查并收集新工单，随后逐一分配至Pipedrive联系人。\n\n## 前置条件\n\n* 需具备Pipedrive账户及[Pipedrive凭证](https://docs.n8n.io/integrations/builtin/credentials/pipedrive/)\n* 需具备Zendesk账户及[Zendesk凭证](https://docs.n8n.io/integrations/builtin/credentials/zendesk/)\n\n_注：Pipedrive与Zendesk账户需由同一人/同一邮箱注册_\n\n## 运作流程\n\n1. Cron节点每5分钟触发工作流\n2. Zendesk节点收集上次执行时间戳后收到的所有工单\n3. Set节点仅将请求者邮箱及ID传递至Merge节点\n4. Merge by key节点将工单数据与联系人邮箱合并\n5. Pipedrive节点随后搜索请求者信息\n6. HTTP Request节点获取Pipedrive联系人的负责人信息\n7. Set节点仅保留请求负责人邮箱及客服邮箱与ID\n8. Merge by key节点合并信息并将联系人负责人添加至工单数据\n9. Zendesk节点将工单负责人变更为Pipedrive联系人负责人，若未找到请求者则添加备注\n10. Function Item节点设置新的最后执行时间戳",
  "title_zh": "将Zendesk工单发送至Pipedrive联系人并分配任务",
  "publish_date_zh": "最后更新于9个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"9d40c0b9-498f-421c-b731-3a387402b69a\",\n      \"name\": \"Get last execution timestamp\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        380,\n        360\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nif(!staticData.lastExecution){\\n  staticData.lastExecution = new Date().getTime();\\n}\\n\\nitem.executionTimeStamp = new Date().getTime();\\nitem.lastExecution = staticData.lastExecution;\\n\\n\\nreturn item;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ddb12f68-1f6b-41fb-bfd4-038697ce4d75\",\n      \"name\": \"Set new last execution timestamp\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        3280,\n        380\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nstaticData.lastExecution = $item(0).$node[\\\"Get last execution timestamp\\\"].executionTimeStamp;\\n\\nreturn item;\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"42888df0-1f7e-4990-87b3-3226a474110e\",\n      \"name\": \"Get tickets created after last execution\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        620,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"query\": \"=created>{{ $json[\\\"lastExecution\\\"] }}\",\n          \"sortBy\": \"updated_at\",\n          \"sortOrder\": \"desc\"\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2f0f71f6-3d4c-4895-9313-7f47e3b2ed86\",\n      \"name\": \"Get requester information\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        840,\n        460\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $json[\\\"requester_id\\\"] }}\",\n        \"resource\": \"user\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"284fd54b-bd7b-4fbb-8a14-0c4fa62a3200\",\n      \"name\": \"Keep only needed requester information\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1060,\n        460\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"requester_id\",\n              \"value\": \"={{ $json[\\\"id\\\"] }}\"\n            }\n          ],\n          \"string\": [\n            {\n              \"name\": \"requester_email\",\n              \"value\": \"={{ $json[\\\"email\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17c3b860-60cb-4885-b503-9086b461bde0\",\n      \"name\": \"Keep only requester owner email\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2000,\n        480\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"requester_pipedrive_email\",\n              \"value\": \"={{ $node[\\\"Search requester in pipedrive\\\"].json[\\\"primary_email\\\"] }}\"\n            },\n            {\n              \"name\": \"requester_pipedrive_owner_email\",\n              \"value\": \"={{ $json[\\\"data\\\"].email }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4ccf1d7-5d9f-4c4e-a5b9-c54ed77c5c44\",\n      \"name\": \"Every 5 minutes\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        160,\n        360\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"99fb51d8-0d93-4db9-868d-757046d1bdc2\",\n      \"name\": \"Add requester information to ticket data\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1280,\n        380\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByKey\",\n        \"propertyName1\": \"requester_id\",\n        \"propertyName2\": \"requester_id\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4c7acd0-b2b6-48bb-b7b7-d2826ddb1f9d\",\n      \"name\": \"Search requester in pipedrive\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1560,\n        480\n      ],\n      \"parameters\": {\n        \"term\": \"={{ $json[\\\"requester_email\\\"] }}\",\n        \"resource\": \"person\",\n        \"operation\": \"search\",\n        \"additionalFields\": {\n          \"fields\": \"email\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7a8a3bf3-9f57-40ad-a31f-45522264f101\",\n      \"name\": \"Get owner information of Pipedrive contact\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1780,\n        480\n      ],\n      \"parameters\": {\n        \"url\": \"=https://n8n.pipedrive.com/api/v1/users/{{$json[\\\"owner\\\"][\\\"id\\\"]}}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"pipedriveApi\"\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"64a7fc0c-ddb4-4d84-86a6-3e9bd361ce46\",\n      \"name\": \"Get agents and admins\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        1780,\n        700\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"role\": [\n            \"agent\",\n            \"admin\"\n          ]\n        },\n        \"resource\": \"user\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0117d5f8-e9b2-46c9-9777-7ae82e002cc2\",\n      \"name\": \"Keep only email and Id\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2000,\n        700\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"agent_email\",\n              \"value\": \"={{ $json[\\\"email\\\"] }}\"\n            },\n            {\n              \"name\": \"agent_id\",\n              \"value\": \"={{ $json[\\\"id\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eaa7b072-0499-4b3a-96af-433d3afc12f9\",\n      \"name\": \"Add Pipedrive agent data to pipedrive contact information\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        2280,\n        500\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByKey\",\n        \"propertyName1\": \"requester_pipedrive_owner_email\",\n        \"propertyName2\": \"agent_email\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b9619e3d-c951-47ae-bbb5-db50e7ae5abe\",\n      \"name\": \"Add contact owner to ticket data\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        2540,\n        400\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByKey\",\n        \"propertyName1\": \"requester_email\",\n        \"propertyName2\": \"requester_pipedrive_email\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"14f88f5f-2bab-42f2-bea7-a7566e6d45b1\",\n      \"name\": \"Contact exists in Pipedrive\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2760,\n        400\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json[\\\"agent_id\\\"] }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"38da1ccc-3d23-41cd-84b3-6fc249aedca5\",\n      \"name\": \"Change assignee to Pipedrive contact owner\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        3020,\n        380\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $json[\\\"id\\\"] }}\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"assigneeEmail\": \"={{$json[\\\"requester_pipedrive_owner_email\\\"]}}\"\n        }\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4295e0e2-88e8-4f93-8432-47fff452cfc5\",\n      \"name\": \"Add a note requester not found\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        3020,\n        580\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $json[\\\"id\\\"] }}\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"internalNote\": \"Requester not found in Pipedrive\"\n        }\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Every 5 minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get agents and admins\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Keep only email and Id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Keep only email and Id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Pipedrive agent data to pipedrive contact information\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Get requester information\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Keep only needed requester information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Contact exists in Pipedrive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Change assignee to Pipedrive contact owner\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add a note requester not found\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get last execution timestamp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get tickets created after last execution\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search requester in pipedrive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get owner information of Pipedrive contact\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add a note requester not found\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Keep only requester owner email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Pipedrive agent data to pipedrive contact information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add contact owner to ticket data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Contact exists in Pipedrive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Keep only needed requester information\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add requester information to ticket data\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Add requester information to ticket data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search requester in pipedrive\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Add contact owner to ticket data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get tickets created after last execution\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add requester information to ticket data\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get requester information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Change assignee to Pipedrive contact owner\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get owner information of Pipedrive contact\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Keep only requester owner email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add Pipedrive agent data to pipedrive contact information\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add contact owner to ticket data\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    }\n  }\n}"
}