{
  "url": "https://n8n.io/workflows/3657-build-a-chatbot-voice-and-phone-agent-with-voiceflow-google-calendar-and-rag/",
  "title": "Build a Chatbot, Voice and Phone Agent with Voiceflow, Google Calendar and RAG",
  "author": "Davide",
  "publish_date": "Last update a month ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"MMDt8lGtac2oU8nI\",\"meta\":{\"instanceId\":\"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\"templateCredsSetupCompleted\":true},\"name\":\"Build a Chatbot, Voice Agent and Phone Agent with Voiceflow, Google Calendar and RAG\",\"tags\":[],\"nodes\":[{\"id\":\"20605948-5277-4fd7-9ba0-63f645bf2dcc\",\"name\":\"n8n_order\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,-140],\"webhookId\":\"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\"parameters\":{\"path\":\"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"9ef7971e-f679-4d5e-b347-3238d51a06d6\",\"name\":\"Google Calendar\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[300,280],\"parameters\":{\"end\":\"={{ $json.output.end }}\",\"start\":\"={{ $json.output.start }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"info@n3w.it\",\"cachedResultName\":\"info@n3w.it\"},\"additionalFields\":{\"summary\":\"=Event title with {{ $('n8n_appointment').item.json.query.Email }}\",\"description\":\"Event description\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"8RFK3u13g2PJEGa9\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"17b9f162-c4a3-43ec-b640-a68ebc67b0c9\",\"name\":\"OpenAI Chat Model3\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-120,480],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"5b40db3c-6c98-4fea-9c3b-98ba7e13bc30\",\"name\":\"Concert start date\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[-80,280],\"parameters\":{\"text\":\"=Convert this date to a compatible format for Google Calendar APIs for the start date, and for the end date add 1 hour to the start date.\\n\\nHere is the start date:\\n{{ $json.query.Appointment_date }}\",\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.6},{\"id\":\"8931d21a-7c30-40ae-b0b0-1f5f6868b3a3\",\"name\":\"n8n_appointment\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,280],\"webhookId\":\"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\"parameters\":{\"path\":\"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"fa3e66ca-de09-496b-be14-483b33386e07\",\"name\":\"Retrive Qdrant Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[20,1280],\"parameters\":{\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"scarperia\",\"cachedResultName\":\"scarperia\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"ea7be112-1949-47b7-b68b-ae2f3a7b1b71\",\"name\":\"Embeddings OpenAI2\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[-20,1460],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"e61ff57f-a109-41e0-87f3-522b1fa78dd6\",\"name\":\"RAG\",\"type\":\"@n8n/n8n-nodes-langchain.toolVectorStore\",\"position\":[180,1080],\"parameters\":{\"name\":\"company_data\",\"description\":\"Retrive data about company knowledge from vector store\"},\"typeVersion\":1},{\"id\":\"fce158b8-73a3-42c1-baf3-9f2ae979fe15\",\"name\":\"OpenAI Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-20,1080],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"e2bcfa68-3642-4e49-89cb-e08faade984c\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[340,1300],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"2a79c66c-040b-4ca2-ad91-a0683d0d2996\",\"name\":\"Retrive Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[60,860],\"parameters\":{\"text\":\"={{ $json.query.Question }}\",\"agent\":\"conversationalAgent\",\"options\":{\"systemMessage\":\"You are an AI-powered assistant for an electronics store. Your primary goal is to assist customers by providing accurate and helpful information about products, troubleshooting tips, and general support. Use the provided knowledge base (retrieved documents) to answer questions with precision and professionalism.\\n\\n**Guidelines**:\\n1. **Product Information**:\\n   - Provide detailed descriptions of products, including specifications, features, and compatibility.\\n   - Highlight key selling points and differences between similar products.\\n   - Mention availability, pricing, and promotions if applicable.\\n\\n2. **Technical Support**:\\n   - Offer step-by-step troubleshooting guides for common issues.\\n   - Suggest solutions for setup, installation, or configuration problems.\\n   - If the issue is complex, recommend contacting the store’s support team for further assistance.\\n\\n3. **Customer Service**:\\n   - Respond politely and professionally to all inquiries.\\n   - If a question is unclear, ask for clarification to provide the best possible answer.\\n   - For order-related questions (e.g., status, returns, or cancellations), guide customers on how to proceed using the store’s systems.\\n\\n4. **Knowledge Base Usage**:\\n   - Always reference the provided knowledge base (retrieved documents) to ensure accuracy.\\n   - If the knowledge base does not contain relevant information, inform the customer and suggest alternative resources or actions.\\n\\n5. **Tone and Style**:\\n   - Use a friendly, approachable, and professional tone.\\n   - Avoid technical jargon unless the customer demonstrates familiarity with the topic.\\n   - Keep responses concise but informative.\\n\\n**Example Interactions**:\\n1. **Product Inquiry**:\\n   - Customer: \\\"What’s the difference between the XYZ Smartwatch and the ABC Smartwatch?\\\"\\n   - AI: \\\"The XYZ Smartwatch features a longer battery life (up to 7 days) and built-in GPS, while the ABC Smartwatch has a brighter AMOLED display and supports wireless charging. Both are compatible with iOS and Android devices. Would you like more details on either product?\\\"\\n\\n2. **Technical Support**:\\n   - Customer: \\\"My wireless router isn’t connecting to the internet.\\\"\\n   - AI: \\\"Please try the following steps: 1) Restart your router and modem. 2) Ensure all cables are securely connected. 3) Check if the router’s LED indicators show a stable connection. If the issue persists, you may need to reset the router to factory settings. Would you like a detailed guide for resetting your router?\\\"\\n\\n3. **Customer Service**:\\n   - Customer: \\\"How do I return a defective product?\\\"\\n   - AI: \\\"To return a defective product, please visit our Returns Portal on our website and enter your order number. You’ll receive a return label and instructions. If you need further assistance, our support team is available at support@electronicsstore.com.\\\"\\n\\n**Limitations**:\\n- If the question is outside the scope of the knowledge base or requires human intervention, inform the customer and provide contact details for the appropriate department.\\n- Do not provide speculative or unverified information. Always rely on the knowledge base or direct the customer to official resources.\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"be516c9c-d2fb-4dea-9a3b-9674be5ea689\",\"name\":\"n8n_rag\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-360,860],\"webhookId\":\"edb1e894-1210-4902-a34f-a014bbdad8d8\",\"parameters\":{\"path\":\"edb1e894-1210-4902-a34f-a014bbdad8d8\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"2412721d-7353-4a27-8068-5c90872c7a51\",\"name\":\"Tracking response\",\"type\":\"n8n-nodes-base.set\",\"position\":[360,-140],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"86f332ff-7b89-4dd4-8df9-06c081625d33\",\"name\":\"text\",\"type\":\"string\",\"value\":\"=Your order status is: {{ $json.status }}\"}]}},\"typeVersion\":3.4},{\"id\":\"4965d781-1452-42c9-8a84-baacb5abe97f\",\"name\":\"Calendar response\",\"type\":\"n8n-nodes-base.set\",\"position\":[500,280],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0fe6fe50-9263-479a-ab01-ca1d15ce2412\",\"name\":\"text\",\"type\":\"string\",\"value\":\"L'evento è stato creato con successo\"}]}},\"typeVersion\":3.4},{\"id\":\"5311be28-2878-41ce-a70f-4e4aebcea0f9\",\"name\":\"Webhook tracking response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,-140],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"84d8558f-e6fd-400e-ae2e-0b5fec309561\",\"name\":\"API URL Tracking\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[20,-140],\"parameters\":{\"url\":\"URL_TRACKING\",\"options\":{},\"sendBody\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"Order number\",\"value\":\"={{ $json.Order_number }}\"},{\"name\":\"Email\",\"value\":\"={{ $json.Order_number }}\"}]}},\"typeVersion\":4.2},{\"id\":\"32eb8645-c56e-4db4-8870-f28161cba048\",\"name\":\"Webhook calendar response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,280],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"72e7f085-d1e7-4967-aaa5-161ff0e83c06\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[140,480],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"start\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t},\\n\\t\\t\\\"end\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t}\\n\\t}\\n}\"},\"typeVersion\":1.2},{\"id\":\"3822b875-73f0-4700-8fc4-e4d3285f593a\",\"name\":\"Webhook RAG response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,860],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"0b43f63b-3c00-4db4-8b28-9938add9fdbe\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1100,-1320],\"parameters\":{\"width\":1140,\"height\":2200,\"content\":\"# STEP 6 - VOICEFLOW\\n\\n- Register on [Voiceflow](https://www.voiceflow.com/) \\n- Create the workflow as shown in the following image\\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\\n- There are 3 \\\"Captures\\\":\\n-- n8n_order\\n-- n8n_appointment\\n-- n8n_rag\\n- Add in the created functions the url of the corresponding n8n Webhook trigger node\\n- Test your Agent\\n- Get your projectID\\n- In the Widget section choose Chat or Voice and copy the installation script\\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)\\n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\\n\\nPS. You can import a Twilio number to assign it to your agent for becoming a Phone Agent\\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\\n\\n\"},\"typeVersion\":1},{\"id\":\"589165c8-920d-40e3-8e28-50e94dd37555\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-380,-1120],\"parameters\":{},\"typeVersion\":1},{\"id\":\"74c314bb-c445-42f8-8f9d-2ab646486044\",\"name\":\"Qdrant Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[600,-1000],\"parameters\":{\"mode\":\"insert\",\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"01c05ac3-ac5c-4f1a-a756-db8de4a30e56\",\"name\":\"Create collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-80,-1260],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"2d7adb45-aae7-4617-b1d1-5a23f3eb3b20\",\"name\":\"Refresh collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-80,-1000],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION/points/delete\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"5e406bd7-8a93-4db2-8d3d-e92e8c9f4f01\",\"name\":\"Get folder\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[140,-1000],\"parameters\":{\"filter\":{\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=test-whatsapp\"}},\"options\":{},\"resource\":\"fileFolder\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account (n3w.it)\"}},\"typeVersion\":3},{\"id\":\"f1f883fb-c9d1-42e6-98c2-791ed85e959f\",\"name\":\"Download Files\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[360,-1000],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{\"googleFileConversion\":{\"conversion\":{\"docsToFormat\":\"text/plain\"}}},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account (n3w.it)\"}},\"typeVersion\":3},{\"id\":\"5fd88e03-3638-4d38-8df4-246e4a5f2bda\",\"name\":\"Embeddings OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[580,-800],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"3740a841-e272-44f9-b76d-51fb90137fd3\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[760,-800],\"parameters\":{\"options\":{},\"dataType\":\"binary\"},\"typeVersion\":1},{\"id\":\"075d1038-d1fd-4527-8eda-961f20c7869a\",\"name\":\"Token Splitter\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\"position\":[760,-600],\"parameters\":{\"chunkSize\":300,\"chunkOverlap\":30},\"typeVersion\":1},{\"id\":\"57cc8eaf-26b3-480f-ab5d-c8646519cfa3\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[120,-1320],\"parameters\":{\"color\":6,\"width\":880,\"height\":220,\"content\":\"# STEP 1\\n\\n## Create Qdrant Collection\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"70bc0676-c0ea-4de8-8659-bfb8b0ea653f\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-100,-1060],\"parameters\":{\"color\":4,\"width\":620,\"height\":400,\"content\":\"# STEP 2\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n## Documents vectorization with Qdrant and Google Drive\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"411c4f55-ae41-49b5-a821-df1a3d8fefec\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,660],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 5\\nIf required retrive the informations by RAG system\"},\"typeVersion\":1},{\"id\":\"49d1fe78-4c38-4508-84c3-3a571ad9a2b0\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-360,-360],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 3\\nIf required retrive the informations by Order system\\n- Set your API URL Tracking service\"},\"typeVersion\":1},{\"id\":\"23d42754-0126-4b3a-91b0-b489ef83b36c\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-360,80],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 4\\nIf required retrive the informations by Appointment system\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"20a19983-4edb-4179-a2d2-e2f53d0daf85\",\"connections\":{\"RAG\":{\"ai_tool\":[[{\"node\":\"Retrive Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"n8n_rag\":{\"main\":[[{\"node\":\"Retrive Agent\",\"type\":\"main\",\"index\":0}]]},\"n8n_order\":{\"main\":[[{\"node\":\"API URL Tracking\",\"type\":\"main\",\"index\":0}]]},\"Get folder\":{\"main\":[[{\"node\":\"Download Files\",\"type\":\"main\",\"index\":0}]]},\"Retrive Agent\":{\"main\":[[{\"node\":\"Webhook RAG response\",\"type\":\"main\",\"index\":0}]]},\"Download Files\":{\"main\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"main\",\"index\":0}]]},\"Token Splitter\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"Google Calendar\":{\"main\":[[{\"node\":\"Calendar response\",\"type\":\"main\",\"index\":0}]]},\"n8n_appointment\":{\"main\":[[{\"node\":\"Concert start date\",\"type\":\"main\",\"index\":0}]]},\"API URL Tracking\":{\"main\":[[{\"node\":\"Tracking response\",\"type\":\"main\",\"index\":0}]]},\"Calendar response\":{\"main\":[[{\"node\":\"Webhook calendar response\",\"type\":\"main\",\"index\":0}]]},\"Embeddings OpenAI\":{\"ai_embedding\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Tracking response\":{\"main\":[[{\"node\":\"Webhook tracking response\",\"type\":\"main\",\"index\":0}]]},\"Concert start date\":{\"main\":[[{\"node\":\"Google Calendar\",\"type\":\"main\",\"index\":0}]]},\"Embeddings OpenAI2\":{\"ai_embedding\":[[{\"node\":\"Retrive Qdrant Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"RAG\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Retrive Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model3\":{\"ai_languageModel\":[[{\"node\":\"Concert start date\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Refresh collection\":{\"main\":[[{\"node\":\"Get folder\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"ai_document\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Concert start date\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Retrive Qdrant Vector Store\":{\"ai_vectorStore\":[[{\"node\":\"RAG\",\"type\":\"ai_vectorStore\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Create collection\",\"type\":\"main\",\"index\":0},{\"node\":\"Refresh collection\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Voiceflow** is a no-code platform that allows you to design, prototype, and deploy conversational assistants across multiple channels—such as **chat** , **voice** , and **phone** —with advanced logic and natural language understanding. It supports integration with APIs, webhooks, and even tools like Twilio for phone agents. It's perfect for building customer support agents, voice bots, or intelligent assistants.\n\nThis workflow connects **n8n** and **Voiceflow** with tools like **Google Calendar** , **Qdrant (vector database)** , **OpenAI** , and an **order tracking API** to power a smart, multi-channel conversational agent.\n\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\n\nThere are 3 main webhook endpoints in n8n that Voiceflow interacts with:\n\n  1. **`n8n_order`** – receives user input related to order tracking, queries an API, and responds with tracking status.\n  2. **`n8n_appointment`** – processes appointment booking, reformats date input using OpenAI, and creates a Google Calendar event.\n  3. **`n8n_rag`** – handles general product/service questions using a RAG (Retrieval-Augmented Generation) system backed by: \n     * **Google Drive** document ingestion,\n     * **Qdrant vector store** for search,\n     * and **OpenAI** models for context-based answers.\n\n\n\nEach webhook is connected to a corresponding **\"Capture\" block** inside Voiceflow, which sends data to n8n and waits for the response.\n\n* * *\n\n### **How It Works**\n\nThis n8n workflow integrates **Voiceflow** for chatbot/voice interactions, **Google Calendar** for appointment scheduling, and **RAG (Retrieval-Augmented Generation)** for knowledge-based responses. Here’s the flow:\n\n  * **Trigger** :\n\n    * Three webhooks (`n8n_order`, `n8n_appointment`, `n8n_rag`) receive inputs from Voiceflow (chat, voice, or phone calls).\n    * Each webhook routes requests to specific functions: \n      * **Order Tracking** : Fetches order status via an external API.\n      * **Appointment Scheduling** : Uses OpenAI to parse dates, creates Google Calendar events, and confirms via WhatsApp.\n      * **RAG System** : Queries a Qdrant vector store (populated with Google Drive documents) to answer customer questions using GPT-4.\n  * **AI Processing** :\n\n    * **OpenAI Chains** : Convert natural language dates to Google Calendar formats and generate responses.\n    * **RAG Pipeline** : Embeds documents (via OpenAI), stores them in Qdrant, and retrieves context-aware answers.\n    * **Voiceflow Integration** : Routes responses back to Voiceflow for multi-channel delivery (chat, voice, or phone).\n  * **Outputs** :\n\n    * Confirmation messages (e.g., \"Event created successfully\").\n    * Dynamic responses for orders, appointments, or product support.\n\n\n\n* * *\n\n### **Setup Steps**\n\n##### **Prerequisites** :\n\n  * **APIs** : \n    * Google Calendar & Drive OAuth credentials.\n    * Qdrant vector database (hosted or cloud).\n    * OpenAI API key (for GPT-4 and embeddings).\n\n\n\n##### **Configuration** :\n\n  1. **Qdrant Setup** :\n\n     * Run the **\"Create collection\"** and **\"Refresh collection\"** nodes to initialize the vector store.\n     * Populate it with documents using the **Google Drive → Qdrant** pipeline (embeddings generated via OpenAI).\n  2. **Voiceflow Webhooks** :\n\n     * Link Voiceflow’s \"Captures\" to n8n’s webhook URLs (`n8n_order`, `n8n_appointment`, `n8n_rag`).\n  3. **Google Calendar** :\n\n     * Authenticate the **Google Calendar node** and set event templates (e.g., `summary`, `description`).\n  4. **RAG System** :\n\n     * Configure the **Qdrant vector store** and **OpenAI embeddings** nodes.\n     * Adjust the **Retrieve Agent** ’s system prompt for domain-specific queries (e.g., electronics store support).\n\n\n\n#### **Optional** :\n\n  * Add Twilio for phone-agent capabilities.\n  * Customize OpenAI prompts for tone/accuracy.\n\n\n\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)  \n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\n\nPS. You can import a Twilio number to assign it to your agent for becoming a Phone Agent\n\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\n\n* * *\n\n### **Need help customizing?**\n\n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/)\n",
  "crawled_at": "2025-05-26T05:12:22.843243",
  "readme_zh": "**Voiceflow** 是一个无代码平台，允许您通过高级逻辑和自然语言理解，跨**聊天**、**语音**和**电话**等多渠道设计、原型化和部署对话助手。它支持与API、Webhook以及Twilio等电话代理工具的集成，非常适合构建客户支持代理、语音机器人或智能助手。\n\n该工作流将**n8n**和**Voiceflow**与**Google Calendar**、**Qdrant（向量数据库）**、**OpenAI**以及**订单跟踪API**等工具连接，驱动一个智能的多渠道对话代理。\n\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\n\nn8n中有三个主要Webhook端点与Voiceflow交互：\n\n1. **`n8n_order`** – 接收与订单跟踪相关的用户输入，查询API并返回跟踪状态。\n2. **`n8n_appointment`** – 处理预约预订，使用OpenAI重新格式化日期输入，并创建Google Calendar事件。\n3. **`n8n_rag`** – 使用基于检索增强生成（RAG）的系统处理一般产品/服务问题，该系统依赖：\n   * **Google Drive**文档摄取，\n   * **Qdrant向量存储**进行搜索，\n   * 以及**OpenAI**模型生成基于上下文的答案。\n\n每个Webhook都连接到Voiceflow内部的**“Capture”块**，该块将数据发送到n8n并等待响应。\n\n* * *\n\n### **工作原理**\n\n此n8n工作流集成了**Voiceflow**（用于聊天/语音交互）、**Google Calendar**（用于预约安排）和**RAG（检索增强生成）**（用于知识库响应）。流程如下：\n\n- **触发**：\n  - 三个Webhook（`n8n_order`、`n8n_appointment`、`n8n_rag`）接收来自Voiceflow的输入（聊天、语音或电话）。\n  - 每个Webhook将请求路由到特定功能：\n    - **订单跟踪**：通过外部API获取订单状态。\n    - **预约安排**：使用OpenAI解析日期，创建Google Calendar事件，并通过WhatsApp确认。\n    - **RAG系统**：查询Qdrant向量存储（填充了Google Drive文档），使用GPT-4回答客户问题。\n- **AI处理**：\n  - **OpenAI链**：将自然语言日期转换为Google Calendar格式并生成响应。\n  - **RAG管道**：嵌入文档（通过OpenAI），存储在Qdrant中，并检索上下文感知的答案。\n  - **Voiceflow集成**：将响应路由回Voiceflow以进行多渠道交付（聊天、语音或电话）。\n- **输出**：\n  - 确认消息（例如“事件创建成功”）。\n  - 动态响应订单、预约或产品支持。\n\n* * *\n\n### **设置步骤**\n\n##### **前提条件**：\n\n- **API**：\n  - Google Calendar和Drive的OAuth凭证。\n  - Qdrant向量数据库（本地或云端）。\n  - OpenAI API密钥（用于GPT-4和嵌入）。\n\n##### **配置**：\n\n1. **Qdrant设置**：\n   - 运行**“创建集合”**和**“刷新集合”**节点以初始化向量存储。\n   - 使用**Google Drive → Qdrant**管道填充文档（嵌入通过OpenAI生成）。\n2. **Voiceflow Webhook**：\n   - 将Voiceflow的“Captures”链接到n8n的Webhook URL（`n8n_order`、`n8n_appointment`、`n8n_rag`）。\n3. **Google Calendar**：\n   - 验证**Google Calendar节点**并设置事件模板（例如`summary`、`description`）。\n4. **RAG系统**：\n   - 配置**Qdrant向量存储**和**OpenAI嵌入**节点。\n   - 调整**检索代理**的系统提示以适应特定领域查询（例如电子商店支持）。\n\n#### **可选**：\n\n- 添加Twilio以实现电话代理功能。\n- 自定义OpenAI提示以调整语气/准确性。\n\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)  \n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\n\nPS. 您可以导入Twilio号码并将其分配给代理，使其成为电话代理。\n\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\n\n* * *\n\n### **需要帮助定制？**\n\n如需咨询和支持，请[联系我](mailto:info@n3w.it)或在[Linkedin](https://www.linkedin.com/in/davideboizza/)上添加我。",
  "title_zh": "使用Voiceflow、Google日历和RAG构建聊天机器人、语音及电话代理",
  "publish_date_zh": "上次更新于4天前",
  "workflow_json_zh": "{\n  \"id\": \"MMDt8lGtac2oU8nI\",\n  \"meta\": {\n    \"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Build a Chatbot, Voice Agent and Phone Agent with Voiceflow, Google Calendar and RAG\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"20605948-5277-4fd7-9ba0-63f645bf2dcc\",\n      \"name\": \"n8n_order\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -340,\n        -140\n      ],\n      \"webhookId\": \"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\n      \"parameters\": {\n        \"path\": \"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"9ef7971e-f679-4d5e-b347-3238d51a06d6\",\n      \"name\": \"Google Calendar\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        300,\n        280\n      ],\n      \"parameters\": {\n        \"end\": \"={{ $json.output.end }}\",\n        \"start\": \"={{ $json.output.start }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"info@n3w.it\",\n          \"cachedResultName\": \"info@n3w.it\"\n        },\n        \"additionalFields\": {\n          \"summary\": \"=Event title with {{ $('n8n_appointment').item.json.query.Email }}\",\n          \"description\": \"Event description\"\n        }\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"8RFK3u13g2PJEGa9\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"17b9f162-c4a3-43ec-b640-a68ebc67b0c9\",\n      \"name\": \"OpenAI Chat Model3\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -120,\n        480\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"5b40db3c-6c98-4fea-9c3b-98ba7e13bc30\",\n      \"name\": \"Concert start date\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        -80,\n        280\n      ],\n      \"parameters\": {\n        \"text\": \"=Convert this date to a compatible format for Google Calendar APIs for the start date, and for the end date add 1 hour to the start date.\\n\\nHere is the start date:\\n{{ $json.query.Appointment_date }}\",\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"8931d21a-7c30-40ae-b0b0-1f5f6868b3a3\",\n      \"name\": \"n8n_appointment\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -340,\n        280\n      ],\n      \"webhookId\": \"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\n      \"parameters\": {\n        \"path\": \"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fa3e66ca-de09-496b-be14-483b33386e07\",\n      \"name\": \"Retrive Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        20,\n        1280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"scarperia\",\n          \"cachedResultName\": \"scarperia\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ea7be112-1949-47b7-b68b-ae2f3a7b1b71\",\n      \"name\": \"Embeddings OpenAI2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        -20,\n        1460\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e61ff57f-a109-41e0-87f3-522b1fa78dd6\",\n      \"name\": \"RAG\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolVectorStore\",\n      \"position\": [\n        180,\n        1080\n      ],\n      \"parameters\": {\n        \"name\": \"company_data\",\n        \"description\": \"Retrive data about company knowledge from vector store\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fce158b8-73a3-42c1-baf3-9f2ae979fe15\",\n      \"name\": \"OpenAI Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -20,\n        1080\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e2bcfa68-3642-4e49-89cb-e08faade984c\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        340,\n        1300\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"2a79c66c-040b-4ca2-ad91-a0683d0d2996\",\n      \"name\": \"Retrive Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        60,\n        860\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.query.Question }}\",\n        \"agent\": \"conversationalAgent\",\n        \"options\": {\n          \"systemMessage\": \"You are an AI-powered assistant for an electronics store. Your primary goal is to assist customers by providing accurate and helpful information about products, troubleshooting tips, and general support. Use the provided knowledge base (retrieved documents) to answer questions with precision and professionalism.\\n\\n**Guidelines**:\\n1. **Product Information**:\\n   - Provide detailed descriptions of products, including specifications, features, and compatibility.\\n   - Highlight key selling points and differences between similar products.\\n   - Mention availability, pricing, and promotions if applicable.\\n\\n2. **Technical Support**:\\n   - Offer step-by-step troubleshooting guides for common issues.\\n   - Suggest solutions for setup, installation, or configuration problems.\\n   - If the issue is complex, recommend contacting the store’s support team for further assistance.\\n\\n3. **Customer Service**:\\n   - Respond politely and professionally to all inquiries.\\n   - If a question is unclear, ask for clarification to provide the best possible answer.\\n   - For order-related questions (e.g., status, returns, or cancellations), guide customers on how to proceed using the store’s systems.\\n\\n4. **Knowledge Base Usage**:\\n   - Always reference the provided knowledge base (retrieved documents) to ensure accuracy.\\n   - If the knowledge base does not contain relevant information, inform the customer and suggest alternative resources or actions.\\n\\n5. **Tone and Style**:\\n   - Use a friendly, approachable, and professional tone.\\n   - Avoid technical jargon unless the customer demonstrates familiarity with the topic.\\n   - Keep responses concise but informative.\\n\\n**Example Interactions**:\\n1. **Product Inquiry**:\\n   - Customer: \\\"What’s the difference between the XYZ Smartwatch and the ABC Smartwatch?\\\"\\n   - AI: \\\"The XYZ Smartwatch features a longer battery life (up to 7 days) and built-in GPS, while the ABC Smartwatch has a brighter AMOLED display and supports wireless charging. Both are compatible with iOS and Android devices. Would you like more details on either product?\\\"\\n\\n2. **Technical Support**:\\n   - Customer: \\\"My wireless router isn’t connecting to the internet.\\\"\\n   - AI: \\\"Please try the following steps: 1) Restart your router and modem. 2) Ensure all cables are securely connected. 3) Check if the router’s LED indicators show a stable connection. If the issue persists, you may need to reset the router to factory settings. Would you like a detailed guide for resetting your router?\\\"\\n\\n3. **Customer Service**:\\n   - Customer: \\\"How do I return a defective product?\\\"\\n   - AI: \\\"To return a defective product, please visit our Returns Portal on our website and enter your order number. You’ll receive a return label and instructions. If you need further assistance, our support team is available at support@electronicsstore.com.\\\"\\n\\n**Limitations**:\\n- If the question is outside the scope of the knowledge base or requires human intervention, inform the customer and provide contact details for the appropriate department.\\n- Do not provide speculative or unverified information. Always rely on the knowledge base or direct the customer to official resources.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"be516c9c-d2fb-4dea-9a3b-9674be5ea689\",\n      \"name\": \"n8n_rag\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -360,\n        860\n      ],\n      \"webhookId\": \"edb1e894-1210-4902-a34f-a014bbdad8d8\",\n      \"parameters\": {\n        \"path\": \"edb1e894-1210-4902-a34f-a014bbdad8d8\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"2412721d-7353-4a27-8068-5c90872c7a51\",\n      \"name\": \"Tracking response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        360,\n        -140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"86f332ff-7b89-4dd4-8df9-06c081625d33\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"=Your order status is: {{ $json.status }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4965d781-1452-42c9-8a84-baacb5abe97f\",\n      \"name\": \"Calendar response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        500,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"0fe6fe50-9263-479a-ab01-ca1d15ce2412\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"L'evento è stato creato con successo\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5311be28-2878-41ce-a70f-4e4aebcea0f9\",\n      \"name\": \"Webhook tracking response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        700,\n        -140\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"84d8558f-e6fd-400e-ae2e-0b5fec309561\",\n      \"name\": \"API URL Tracking\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        20,\n        -140\n      ],\n      \"parameters\": {\n        \"url\": \"URL_TRACKING\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Order number\",\n              \"value\": \"={{ $json.Order_number }}\"\n            },\n            {\n              \"name\": \"Email\",\n              \"value\": \"={{ $json.Order_number }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"32eb8645-c56e-4db4-8870-f28161cba048\",\n      \"name\": \"Webhook calendar response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        700,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"72e7f085-d1e7-4967-aaa5-161ff0e83c06\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        140,\n        480\n      ],\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"start\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t},\\n\\t\\t\\\"end\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t}\\n\\t}\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"3822b875-73f0-4700-8fc4-e4d3285f593a\",\n      \"name\": \"Webhook RAG response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        700,\n        860\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"0b43f63b-3c00-4db4-8b28-9938add9fdbe\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1100,\n        -1320\n      ],\n      \"parameters\": {\n        \"width\": 1140,\n        \"height\": 2200,\n        \"content\": \"# 步骤六 - VOICEFLOW 操作指南\\n\\n- 访问[Voiceflow官网](https://www.voiceflow.com/)完成注册\\n- 按照下图示例创建工作流程\\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\\n- 需设置3个\\\"捕获模块\\\"：\\n-- n8n订单模块\\n-- n8n预约模块\\n-- n8n智能检索模块\\n- 在各功能模块中添加对应的n8n网络钩子触发节点URL\\n- 测试您的智能助手\\n- 获取项目ID\\n- 在Widget版块选择文字对话或语音交互模式，复制部署脚本\\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)\\n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\\n\\n注：您可导入Twilio电话号码绑定至助手，将其升级为电话客服系统\\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"589165c8-920d-40e3-8e28-50e94dd37555\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -380,\n        -1120\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"74c314bb-c445-42f8-8f9d-2ab646486044\",\n      \"name\": \"Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        600,\n        -1000\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"01c05ac3-ac5c-4f1a-a756-db8de4a30e56\",\n      \"name\": \"Create collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -80,\n        -1260\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"2d7adb45-aae7-4617-b1d1-5a23f3eb3b20\",\n      \"name\": \"Refresh collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -80,\n        -1000\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION/points/delete\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"5e406bd7-8a93-4db2-8d3d-e92e8c9f4f01\",\n      \"name\": \"Get folder\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        140,\n        -1000\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"driveId\": {\n            \"__rl\": true,\n            \"mode\": \"list\",\n            \"value\": \"My Drive\",\n            \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n            \"cachedResultName\": \"My Drive\"\n          },\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"id\",\n            \"value\": \"=test-whatsapp\"\n          }\n        },\n        \"options\": {},\n        \"resource\": \"fileFolder\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account (n3w.it)\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"f1f883fb-c9d1-42e6-98c2-791ed85e959f\",\n      \"name\": \"Download Files\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        360,\n        -1000\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {\n          \"googleFileConversion\": {\n            \"conversion\": {\n              \"docsToFormat\": \"text/plain\"\n            }\n          }\n        },\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account (n3w.it)\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"5fd88e03-3638-4d38-8df4-246e4a5f2bda\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        580,\n        -800\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"3740a841-e272-44f9-b76d-51fb90137fd3\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        760,\n        -800\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataType\": \"binary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"075d1038-d1fd-4527-8eda-961f20c7869a\",\n      \"name\": \"Token Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\n      \"position\": [\n        760,\n        -600\n      ],\n      \"parameters\": {\n        \"chunkSize\": 300,\n        \"chunkOverlap\": 30\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"57cc8eaf-26b3-480f-ab5d-c8646519cfa3\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        120,\n        -1320\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 880,\n        \"height\": 220,\n        \"content\": \"# 第一步\\n\\n## 创建Qdrant集合\\n需要修改：\\n- QDRANTURL（Qdrant服务地址）\\n- COLLECTION（集合名称）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"70bc0676-c0ea-4de8-8659-bfb8b0ea653f\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -100,\n        -1060\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 620,\n        \"height\": 400,\n        \"content\": \"# 第二步\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"411c4f55-ae41-49b5-a821-df1a3d8fefec\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        660\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1220,\n        \"content\": \"# 步骤5\\n如需获取信息，可通过RAG系统检索\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"49d1fe78-4c38-4508-84c3-3a571ad9a2b0\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -360,\n        -360\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1220,\n        \"content\": \"# 步骤三\\n如需通过订单系统获取信息\\n- 设置您的API URL追踪服务\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"23d42754-0126-4b3a-91b0-b489ef83b36c\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -360,\n        80\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1220,\n        \"content\": \"# 步骤4\\n如需获取信息，请通过预约系统查询\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"20a19983-4edb-4179-a2d2-e2f53d0daf85\",\n  \"connections\": {\n    \"RAG\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Retrive Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"n8n_rag\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrive Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"n8n_order\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"API URL Tracking\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get folder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrive Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Webhook RAG response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Token Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Calendar\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Calendar response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"n8n_appointment\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Concert start date\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"API URL Tracking\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Tracking response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Calendar response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Webhook calendar response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Tracking response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Webhook tracking response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Concert start date\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Calendar\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI2\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Retrive Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"RAG\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Retrive Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model3\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Concert start date\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Refresh collection\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get folder\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Concert start date\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrive Qdrant Vector Store\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"RAG\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Refresh collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}