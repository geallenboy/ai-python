{
  "url": "https://n8n.io/workflows/2696-complete-guide-to-setting-up-and-generating-totp-codes-in-n8n/",
  "title": "Complete Guide to Setting Up and Generating TOTP Codes in n8n 🔐",
  "author": "AmirHossein MnasouriZade",
  "publish_date": "Last update 5 months ago",
  "publish_date_absolute": "2024-12-26",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"id\":\"0wfomsVO0TQtQkwU\",\"meta\":{\"instanceId\":\"2e75c9fb3cdcf631da470c0180f0739986baa0ee860de53281e9edc3491b82a3\"},\"name\":\"Complete Guide to Setting Up and Generating TOTP Codes in n8n 🔐\",\"tags\":[],\"nodes\":[{\"id\":\"0fe95b9a-be2b-4022-829e-8b6c801e5baf\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-280,-340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"02fee6b5-7770-4889-b9bb-89bface8872d\",\"name\":\"TOTP\",\"type\":\"n8n-nodes-base.totp\",\"position\":[-40,-340],\"parameters\":{\"options\":{}},\"credentials\":{\"totpApi\":{\"id\":\"9487Zco8UqMQWnpf\",\"name\":\"TOTP account Mars55\"}},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"timezone\":\"Asia/Tehran\",\"callerPolicy\":\"workflowsFromSameOwner\",\"executionOrder\":\"v1\"},\"versionId\":\"d7a5fff3-3fcd-45cd-ba06-564097567ff5\",\"connections\":{\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"TOTP\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Setting Up and Generating TOTP\n\n## Step 1: Receive QR Code and Extract the Link\n\n**1\\. Receive the QR Code from the 2FA service**  \nAfter enabling two-factor authentication (2FA) on services like OpenAI, Google, GitHub, etc., a QR Code will be given to you, which you need to scan. This QR Code contains the TOTP link used to generate one-time passcodes.\n\n**2\\. Extract the link from the received QR Code**  \nTo extract the link from the QR Code, use online tools. These tools will help you extract the corresponding link.\n\nAfter using an online tool, the extracted link will appear in the following format:\n    \n    \n    otpauth://totp/ServiceName:username?secret=secret_key&issuer=ServiceName\n    \n\nFor example:\n    \n    \n    otpauth://totp/OpenAI:amir676080@gmail.com?secret=test-test-test&issuer=OpenAI\n    \n\n## Step 2: Create TOTP Credential in n8n\n\n  1. **Create a new Credential**  \nTo use TOTP in n8n, you need to create a new **TOTP Credential**.\n\n  2. **Enter the details in the Credential**\n\n\n\n  * **In the Secret field:** Enter the **secret key** (extracted from the QR Code link).  \nFor example:\n\n\n    \n    \n     test-test-test\n    \n\n  * **In the Label field:** Enter **ServiceName:username**  \nFor example:\n\n\n    \n    \n    OpenAI:amir676080@gmail.com\n    \n    \n\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_e1d834b17f.png)\n\n  1. **Save the Credential**  \nAfter entering the information, click Save to save the Credential.\n\n\n\n## Step 3: Get the TOTP Code\n\n**Click on Test Workflow**  \nAfter setting up the credentials in n8n, click on Test, and the corresponding code will be delivered to you.\n\nOutput:\n    \n    \n    [\n      {\n        \"token\": \"720769\",\n        \"secondsRemaining\": 18\n      }\n    ]\n    \n\n![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_1392b61b8b.png)\n\n**==This code is exactly the same as the one generated by apps and services like Google Authenticator or Authy. 🔐==**\n\nContact me on [Telegram]: <https://t.me/amir676080>\n",
  "crawled_at": "2025-05-26T01:43:53.912127",
  "readme_zh": "# 设置并生成TOTP动态验证码\n\n## 第一步：接收二维码并提取链接\n\n**1. 从2FA服务接收二维码**  \n在OpenAI、Google、GitHub等服务启用双重认证(2FA)后，系统会提供一个需要扫描的二维码。该二维码包含用于生成一次性验证码的TOTP链接。\n\n**2. 从二维码提取链接**  \n使用在线工具解析二维码，提取对应的链接地址。\n\n解析后的链接格式如下：\n    \n    \n    otpauth://totp/服务名称:用户名?secret=密钥&issuer=服务商\n    \n\n示例：\n    \n    \n    otpauth://totp/OpenAI:amir676080@gmail.com?secret=test-test-test&issuer=OpenAI\n    \n\n## 第二步：在n8n创建TOTP凭证\n\n1. **新建凭证**  \n在n8n中创建**TOTP凭证**类型\n\n2. **填写凭证信息**\n\n* **Secret字段**：输入从二维码链接提取的**密钥**  \n示例：\n    \n    \n    test-test-test\n    \n\n* **Label字段**：填写**服务名称:用户名**  \n示例：\n    \n    \n    OpenAI:amir676080@gmail.com\n    \n\n![凭证设置图示](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_e1d834b17f.png)\n\n3. **保存凭证**  \n填写完成后点击保存\n\n## 第三步：获取TOTP验证码\n\n**点击测试工作流**  \n在n8n中完成凭证配置后，点击测试即可获取动态验证码。\n\n输出示例：\n    \n    \n    [\n      {\n        \"token\": \"720769\",\n        \"secondsRemaining\": 18\n      }\n    ]\n    \n\n![验证码生成图示](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_1392b61b8b.png)\n\n**==该验证码与Google Authenticator/Authy等应用生成的完全一致🔐==**\n\n通过[Telegram]联系我：<https://t.me/amir676080>",
  "title_zh": "n8n中设置与生成TOTP验证码的完整指南 🔐",
  "publish_date_zh": "最后更新于4个月前",
  "workflow_json_zh": "{\"id\":\"0wfomsVO0TQtQkwU\",\"meta\":{\"instanceId\":\"2e75c9fb3cdcf631da470c0180f0739986baa0ee860de53281e9edc3491b82a3\"},\"name\":\"Complete Guide to Setting Up and Generating TOTP Codes in n8n 🔐\",\"tags\":[],\"nodes\":[{\"id\":\"0fe95b9a-be2b-4022-829e-8b6c801e5baf\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-280,-340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"02fee6b5-7770-4889-b9bb-89bface8872d\",\"name\":\"TOTP\",\"type\":\"n8n-nodes-base.totp\",\"position\":[-40,-340],\"parameters\":{\"options\":{}},\"credentials\":{\"totpApi\":{\"id\":\"9487Zco8UqMQWnpf\",\"name\":\"TOTP account Mars55\"}},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"timezone\":\"Asia/Tehran\",\"callerPolicy\":\"workflowsFromSameOwner\",\"executionOrder\":\"v1\"},\"versionId\":\"d7a5fff3-3fcd-45cd-ba06-564097567ff5\",\"connections\":{\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"TOTP\",\"type\":\"main\",\"index\":0}]]}}}"
}