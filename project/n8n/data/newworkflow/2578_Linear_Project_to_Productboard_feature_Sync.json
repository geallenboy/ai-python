{
  "url": "https://n8n.io/workflows/2578-linear-project-to-productboard-feature-sync/",
  "title": "Linear Project to Productboard feature Sync",
  "author": "Romain Jouhannet",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-26",
  "categories": [],
  "workflow_json": "{\"meta\":{\"instanceId\":\"21b41c2deb1c9e3f543253a0aa6a6e2c7bd7ef6bab90ffd478aa947c17d3b352\",\"templateCredsSetupCompleted\":true},\"name\":\"Linear Project Status and End Date to Productboard feature Sync\",\"tags\":[{\"id\":\"6Ek7V8f4xbM9vWLj\",\"name\":\"linear\",\"createdAt\":\"2024-11-08T12:12:15.330Z\",\"updatedAt\":\"2024-11-08T12:12:15.330Z\"},{\"id\":\"XpcIJ8IHNenz3bWz\",\"name\":\"productboard\",\"createdAt\":\"2024-11-08T12:12:17.249Z\",\"updatedAt\":\"2024-11-08T12:12:17.249Z\"}],\"nodes\":[{\"id\":\"5cf79e5e-6a69-49b5-865f-6ca8009dbf75\",\"name\":\"linear project id\",\"type\":\"n8n-nodes-base.set\",\"position\":[3180,220],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"linear_project_url\",\"stringValue\":\"={{ $json.url }}\"},{\"name\":\"linear_project_id\",\"stringValue\":\"={{ $json.url.split('https://linear.app/<your company>/project/')[1] }}\"},{\"name\":\"linear_project_status\",\"stringValue\":\"={{ $json.data.status.name }}\"},{\"name\":\"startDate\",\"stringValue\":\"={{ $json.data.startDate }}\"},{\"name\":\"targetDate\",\"stringValue\":\"={{ $json.data.targetDate }}\"}]},\"include\":\"none\",\"options\":{}},\"typeVersion\":3.2},{\"id\":\"642e73fc-8904-4631-9e97-1ccff6dbb559\",\"name\":\"get productboard feature id\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[3180,400],\"parameters\":{\"url\":\"https://api.productboard.com/hierarchy-entities/custom-fields-values\",\"options\":{},\"sendQuery\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"queryParameters\":{\"parameters\":[{\"name\":\"customField.id\",\"value\":\"<productboard_customfield_uuid>\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"},{\"name\":\"X-Version\",\"value\":\"1\"}]}},\"stickyNote\":\"Fetches the Productboard feature ID using a custom field value.\",\"credentials\":{\"httpHeaderAuth\":{\"id\":\"Z0ptr85smbBZBIYx\",\"name\":\"Product Board\"}},\"notesInFlow\":false,\"typeVersion\":4.1},{\"id\":\"3c328300-ff68-4958-8ac3-5b8fca122bbd\",\"name\":\"update productboard status & timeframe\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[5560,380],\"parameters\":{\"url\":\"=https://api.productboard.com/features/{{ $json.feature_id }}\",\"method\":\"PATCH\",\"options\":{\"batching\":{\"batch\":{\"batchSize\":1,\"batchInterval\":2000}}},\"jsonBody\":\"={\\n  \\\"data\\\": {\\n    \\\"status\\\": {\\n      \\\"name\\\": \\\"{{ $json[\\\"productboard_status\\\"] }}\\\"\\n    },\\n    \\\"timeframe\\\": {\\n      {{ $json[\\\"targetDate\\\"] ? '\\\"granularity\\\": \\\"month\\\",': '\\\"granularity\\\": \\\"none\\\",'}}\\n      {{ $json[\\\"targetDate\\\"] ? '\\\"startDate\\\": \\\"' + $json['targetDate'].substring(0, 7) + '-01' +'\\\",': '\\\"startDate\\\": \\\"none\\\",'}}\\n      {{ $json[\\\"targetDate\\\"] \\n        ? (() => {\\n            const date = new Date($json['targetDate']);\\n            const year = date.getFullYear();\\n            const month = date.getMonth() + 1;\\n            const lastDay = new Date(year, month, 0).getDate();\\n            return `\\\"endDate\\\": \\\"${year}-${month.toString().padStart(2, '0')}-${lastDay}\\\"`;\\n          })() \\n        : '\\\"endDate\\\": \\\"none\\\"'}}\\n    }\\n  }\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"X-Version\",\"value\":\"1\"},{\"name\":\"accept\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"Z0ptr85smbBZBIYx\",\"name\":\"Product Board\"}},\"typeVersion\":4.1},{\"id\":\"ec57bdeb-413b-4f71-b8c4-82b966fd4caf\",\"name\":\"map linear to productboard status\",\"type\":\"n8n-nodes-base.set\",\"position\":[4300,280],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"linear_status\",\"stringValue\":\"={{ $json.linear_project_status }}\"}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"052dcbb4-c113-4e1a-8469-e460a9bfefaf\",\"name\":\"mapping\",\"type\":\"n8n-nodes-base.code\",\"position\":[4560,280],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"const linearStatus = $json.linear_status;\\nlet productboardStatus;\\n\\nswitch(linearStatus) {\\n  case 'Backlog':\\n    productboardStatus = 'Candidate';\\n    break;\\n  case 'Planned':\\n    productboardStatus = 'Planned';\\n    break;\\n  case 'Paused':\\n    productboardStatus = 'Planned';\\n    break;\\n  case 'In Progress':\\n    productboardStatus = 'In progress';\\n    break;\\n  case 'Completed':\\n    productboardStatus = 'Released';\\n    break;\\n  case 'Canceled':\\n    productboardStatus = 'Won\\\\'t do';\\n    break;\\n  default:\\n    productboardStatus = 'Candidate'; // Default or handle unknown status\\n}\\n\\nreturn { productboard_status: productboardStatus };\\n\"},\"typeVersion\":2},{\"id\":\"4fee2a41-4e20-4642-badd-164c6d0b1232\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[4780,300],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combinationMode\":\"mergeByPosition\"},\"typeVersion\":2.1},{\"id\":\"49289417-ca21-4b03-b558-61a04b6eb7dd\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[3400,400],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"b89135b5-3c72-44a9-9d8e-b0190385cf65\",\"name\":\"Merge1\",\"type\":\"n8n-nodes-base.merge\",\"position\":[3920,280],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"mergeByFields\":{\"values\":[{\"field1\":\"linear_project_url\",\"field2\":\"linear_url_productboard\"}]}},\"typeVersion\":2.1},{\"id\":\"cf533225-7507-471e-9d45-4a490b30a01d\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[3740,400],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"linear_url_productboard\",\"stringValue\":\"={{ $json['value'].match('^(https:\\\\/\\\\/linear\\\\.app\\\\/[^\\\\/]+\\\\/project\\\\/[^\\\\/]+)')[0] }}\"},{\"name\":\"feature_id\",\"stringValue\":\"={{ $json['hierarchyEntity'].id }}\"}]},\"include\":\"none\",\"options\":{}},\"typeVersion\":3.2},{\"id\":\"ee7f8ef5-f5a9-4a39-9621-ccf908036eeb\",\"name\":\"Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[5820,380],\"parameters\":{\"text\":\"=:linear: {{ $json.data.name }} with status {{ $json.data.status.name }} and dates {{ $json.data.timeframe.startDate }} - {{ $json.data.timeframe.endDate }} updated :productboard: {{ $json.data.links.html }}.\",\"select\":\"channel\",\"blocksUi\":\"={\\n  \\\"blocks\\\": [\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n        \\\"type\\\": \\\"mrkdwn\\\",\\n        \\\"text\\\": \\\":linear: to :productboard: update\\\\n\\\\n*{{ $json.data.name }}*\\\\n\\\\n*Status:* {{ $json.data.status.name }}\\\\n*:dart: date:* {{ $json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"] && $json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"] !== \\\"none\\\" ? new Date($json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"]).toLocaleDateString(\\\"en-US\\\", { month: \\\"long\\\", year: \\\"numeric\\\" }) : \\\"none\\\" }}\\\"\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"divider\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n        \\\"type\\\": \\\"mrkdwn\\\",\\n        \\\"text\\\": \\\"You can view the update in Productboard using the link below:\\\"\\n      },\\n      \\\"accessory\\\": {\\n        \\\"type\\\": \\\"button\\\",\\n        \\\"text\\\": {\\n          \\\"type\\\": \\\"plain_text\\\",\\n          \\\"text\\\": \\\"Open Productboard\\\"\\n        },\\n        \\\"url\\\": \\\"{{ $json.data.links.html }}\\\"\\n      }\\n    }\\n  ]\\n}\\n\",\"channelId\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"#product-notifications\"},\"messageType\":\"block\",\"otherOptions\":{}},\"credentials\":{\"slackApi\":{\"id\":\"SG3oDwwLGpxwoJSO\",\"name\":\"Slack\"}},\"typeVersion\":2.1},{\"id\":\"4ab5c298-5947-47d1-ac10-db502a0b4b60\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[5280,400],\"parameters\":{\"options\":{\"looseTypeValidation\":true},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"f53c6eb9-61cc-4cf9-bbb6-03cc9f78b6b1\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.productboard_status }}\",\"rightValue\":\"={{ $json.data.status.name }}\"},{\"id\":\"a61b4bca-47b0-48bb-b93f-ba9a419740d0\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json[\\\"targetDate\\\"] \\n        ? (() => {\\n            const date = new Date($json['targetDate']);\\n            const year = date.getFullYear();\\n            const month = date.getMonth() + 1;\\n            const lastDay = new Date(year, month, 0).getDate();\\n            return `${year}-${month.toString().padStart(2, '0')}-${lastDay}`;\\n          })() \\n        : '\\\"endDate\\\": \\\"none\\\"'}}\",\"rightValue\":\"={{ $json.data.timeframe.endDate }}\"}]}},\"typeVersion\":2},{\"id\":\"3efe9d27-7983-419d-8ac1-9efde3751952\",\"name\":\"get productboard feature details\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[4300,540],\"parameters\":{\"url\":\"=https://api.productboard.com/features/{{ $json.feature_id }}\",\"options\":{},\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"},{\"name\":\"X-Version\",\"value\":\"1\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"Z0ptr85smbBZBIYx\",\"name\":\"Product Board\"}},\"typeVersion\":4.1},{\"id\":\"265b3359-c63d-4188-ad1b-a33ce5e081f5\",\"name\":\"Merge2\",\"type\":\"n8n-nodes-base.merge\",\"position\":[5040,400],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"joinMode\":\"keepEverything\",\"mergeByFields\":{\"values\":[{\"field1\":\"feature_id\",\"field2\":\"data.id\"}]}},\"typeVersion\":2.1},{\"id\":\"5dc1c2f5-a92d-49f4-acb9-8084bf878b05\",\"name\":\"Your Linear Project 2\",\"type\":\"n8n-nodes-base.linearTrigger\",\"position\":[2840,260],\"webhookId\":\"180ebe54-3ab2-439f-b44b-40be97a62b87\",\"parameters\":{\"teamId\":\"8434c5f8-1ce0-4733-949d-ef6a095c27fd\",\"resources\":[\"project\"]},\"credentials\":{\"linearApi\":{\"id\":\"hhmsOxH2jUEvGbvN\",\"name\":\"Linear\"}},\"typeVersion\":1},{\"id\":\"6f70d103-cf98-4ab8-9550-a5749a40f7e3\",\"name\":\"Your Linear Project 1\",\"type\":\"n8n-nodes-base.linearTrigger\",\"position\":[2840,60],\"webhookId\":\"5b10cdb4-85a6-41de-a0de-ce50c75dcc6f\",\"parameters\":{\"teamId\":\"e7c75e79-fbcf-45cc-95bd-110efb6cb555\",\"resources\":[\"project\"]},\"credentials\":{\"linearApi\":{\"id\":\"hhmsOxH2jUEvGbvN\",\"name\":\"Linear\"}},\"typeVersion\":1},{\"id\":\"65abdb10-dba2-4535-a155-957106ae6cdd\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2960,680],\"parameters\":{\"width\":487.89456119016046,\"height\":156.00544089827184,\"content\":\"## Tips\\n- Avoid copying and pasting the Linear node; instead, add a new one from the menu.\\n- Remember to configure the custom Productboard field in the \\\"Get Productboard Feature ID\\\" node.\"},\"typeVersion\":1},{\"id\":\"adcb71e4-880b-4c19-acbb-0708ae4af95f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[5500,620],\"parameters\":{\"color\":5,\"width\":492.6340257353018,\"height\":182.8624066540728,\"content\":\"## Preview Slack Message\\n:linear: to :productboard: update\\nMy awesome feature name\\nStatus: Candidate\\n:dart: date: Decembre 2024\\nYou can view the update in Productboard using the link below:\\n<link productboard feature>\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"update productboard status & timeframe\",\"type\":\"main\",\"index\":0}]]},\"Merge\":{\"main\":[[{\"node\":\"Merge2\",\"type\":\"main\",\"index\":0}]]},\"Merge1\":{\"main\":[[{\"node\":\"map linear to productboard status\",\"type\":\"main\",\"index\":0},{\"node\":\"get productboard feature details\",\"type\":\"main\",\"index\":0}]]},\"Merge2\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"mapping\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields\":{\"main\":[[{\"node\":\"Merge1\",\"type\":\"main\",\"index\":1}]]},\"linear project id\":{\"main\":[[{\"node\":\"Merge1\",\"type\":\"main\",\"index\":0}]]},\"Your Linear Project 1\":{\"main\":[[{\"node\":\"get productboard feature id\",\"type\":\"main\",\"index\":0},{\"node\":\"linear project id\",\"type\":\"main\",\"index\":0}]]},\"Your Linear Project 2\":{\"main\":[[{\"node\":\"linear project id\",\"type\":\"main\",\"index\":0},{\"node\":\"get productboard feature id\",\"type\":\"main\",\"index\":0}]]},\"get productboard feature id\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"get productboard feature details\":{\"main\":[[{\"node\":\"Merge2\",\"type\":\"main\",\"index\":1}]]},\"map linear to productboard status\":{\"main\":[[{\"node\":\"mapping\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"update productboard status & timeframe\":{\"main\":[[{\"node\":\"Slack\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Linear Project Status and End Date to Productboard feature Sync\n\nSync project data between Linear and Productboard to keep teams aligned. This workflow updates Productboard features with the status and end date from Linear projects. It ensures consistent data and sends a Slack notification whenever changes are made.\n\n## Features\n\n  1. Listens for updates in Linear projects.\n  2. Maps Linear statuses to Productboard feature statuses.\n  3. Updates Productboard feature details including timeframe.\n  4. Sends a Slack notification summarizing the updates.\n\n\n\n## Setup\n\n  1. **Linear Credentials** : Add your Linear API credentials in n8n.\n  2. **Productboard Credentials** : Configure the Productboard API credentials in n8n.\n  3. **Linear Projects** : Select the Linear project(s) you want to monitor for updates.\n  4. **Productboard Custom Field** : Create a custom field in Productboard named _\"Linear Project\"_. This field should store the URL of the Linear project you want to sync. Retrieve the UUID of the custom field in Productboard and set it up in the \"Get Productboard Feature ID\" node.\n  5. **Slack Notification** : Update the Slack node with the desired Slack channel ID.\n  6. **Activate the Workflow** : Enable the workflow to automatically sync data when triggered by updates in Linear.\n\n\n",
  "crawled_at": "2025-05-26T00:22:09.637992",
  "readme_zh": "### 线性项目状态与截止日期同步至Productboard功能\n\n在Linear与Productboard之间同步项目数据，确保团队信息一致。该工作流会将Linear项目的状态和截止日期更新至Productboard功能模块，保持数据统一性，并在每次变更时发送Slack通知。\n\n## 功能特性\n\n1. 实时监听Linear项目更新  \n2. 将Linear状态映射至Productboard功能状态  \n3. 更新Productboard功能详情（含时间范围）  \n4. 发送包含更新摘要的Slack通知  \n\n## 配置指南\n\n1. **Linear凭证**：在n8n中添加Linear API凭证  \n2. **Productboard凭证**：在n8n中配置Productboard API凭证  \n3. **Linear项目**：选择需要监控更新的Linear项目  \n4. **Productboard自定义字段**：  \n   - 在Productboard创建名为_\"Linear项目\"_的自定义字段  \n   - 该字段用于存储需同步的Linear项目URL  \n   - 获取该字段在Productboard中的UUID并配置至\"获取Productboard功能ID\"节点  \n5. **Slack通知**：在Slack节点中配置目标频道ID  \n6. **激活工作流**：启用工作流后，Linear的更新将自动触发数据同步  \n\n（注：根据技术文档翻译规范，保留\"Linear/Productboard/Slack/n8n/UUID\"等专业平台名称及术语的原称，确保用户能准确对应操作界面；采用\"监听/映射/节点/工作流\"等标准技术用词；通过分项编号和项目符号提升可读性；保持\"URL/UUID\"等专业缩写格式统一）",
  "title_zh": "线性项目到Productboard功能同步",
  "publish_date_zh": "最后更新于6个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"21b41c2deb1c9e3f543253a0aa6a6e2c7bd7ef6bab90ffd478aa947c17d3b352\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Linear Project Status and End Date to Productboard feature Sync\",\n  \"tags\": [\n    {\n      \"id\": \"6Ek7V8f4xbM9vWLj\",\n      \"name\": \"linear\",\n      \"createdAt\": \"2024-11-08T12:12:15.330Z\",\n      \"updatedAt\": \"2024-11-08T12:12:15.330Z\"\n    },\n    {\n      \"id\": \"XpcIJ8IHNenz3bWz\",\n      \"name\": \"productboard\",\n      \"createdAt\": \"2024-11-08T12:12:17.249Z\",\n      \"updatedAt\": \"2024-11-08T12:12:17.249Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"5cf79e5e-6a69-49b5-865f-6ca8009dbf75\",\n      \"name\": \"linear project id\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        3180,\n        220\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"linear_project_url\",\n              \"stringValue\": \"={{ $json.url }}\"\n            },\n            {\n              \"name\": \"linear_project_id\",\n              \"stringValue\": \"={{ $json.url.split('https://linear.app/<your company>/project/')[1] }}\"\n            },\n            {\n              \"name\": \"linear_project_status\",\n              \"stringValue\": \"={{ $json.data.status.name }}\"\n            },\n            {\n              \"name\": \"startDate\",\n              \"stringValue\": \"={{ $json.data.startDate }}\"\n            },\n            {\n              \"name\": \"targetDate\",\n              \"stringValue\": \"={{ $json.data.targetDate }}\"\n            }\n          ]\n        },\n        \"include\": \"none\",\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"642e73fc-8904-4631-9e97-1ccff6dbb559\",\n      \"name\": \"get productboard feature id\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        3180,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.productboard.com/hierarchy-entities/custom-fields-values\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"customField.id\",\n              \"value\": \"<productboard_customfield_uuid>\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Version\",\n              \"value\": \"1\"\n            }\n          ]\n        }\n      },\n      \"stickyNote\": \"Fetches the Productboard feature ID using a custom field value.\",\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"Z0ptr85smbBZBIYx\",\n          \"name\": \"Product Board\"\n        }\n      },\n      \"notesInFlow\": false,\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"3c328300-ff68-4958-8ac3-5b8fca122bbd\",\n      \"name\": \"update productboard status & timeframe\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        5560,\n        380\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.productboard.com/features/{{ $json.feature_id }}\",\n        \"method\": \"PATCH\",\n        \"options\": {\n          \"batching\": {\n            \"batch\": {\n              \"batchSize\": 1,\n              \"batchInterval\": 2000\n            }\n          }\n        },\n        \"jsonBody\": \"={\\n  \\\"data\\\": {\\n    \\\"status\\\": {\\n      \\\"name\\\": \\\"{{ $json[\\\"productboard_status\\\"] }}\\\"\\n    },\\n    \\\"timeframe\\\": {\\n      {{ $json[\\\"targetDate\\\"] ? '\\\"granularity\\\": \\\"month\\\",': '\\\"granularity\\\": \\\"none\\\",'}}\\n      {{ $json[\\\"targetDate\\\"] ? '\\\"startDate\\\": \\\"' + $json['targetDate'].substring(0, 7) + '-01' +'\\\",': '\\\"startDate\\\": \\\"none\\\",'}}\\n      {{ $json[\\\"targetDate\\\"] \\n        ? (() => {\\n            const date = new Date($json['targetDate']);\\n            const year = date.getFullYear();\\n            const month = date.getMonth() + 1;\\n            const lastDay = new Date(year, month, 0).getDate();\\n            return `\\\"endDate\\\": \\\"${year}-${month.toString().padStart(2, '0')}-${lastDay}\\\"`;\\n          })() \\n        : '\\\"endDate\\\": \\\"none\\\"'}}\\n    }\\n  }\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Version\",\n              \"value\": \"1\"\n            },\n            {\n              \"name\": \"accept\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"Z0ptr85smbBZBIYx\",\n          \"name\": \"Product Board\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"ec57bdeb-413b-4f71-b8c4-82b966fd4caf\",\n      \"name\": \"map linear to productboard status\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        4300,\n        280\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"linear_status\",\n              \"stringValue\": \"={{ $json.linear_project_status }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"052dcbb4-c113-4e1a-8469-e460a9bfefaf\",\n      \"name\": \"mapping\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        4560,\n        280\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"const linearStatus = $json.linear_status;\\nlet productboardStatus;\\n\\nswitch(linearStatus) {\\n  case 'Backlog':\\n    productboardStatus = 'Candidate';\\n    break;\\n  case 'Planned':\\n    productboardStatus = 'Planned';\\n    break;\\n  case 'Paused':\\n    productboardStatus = 'Planned';\\n    break;\\n  case 'In Progress':\\n    productboardStatus = 'In progress';\\n    break;\\n  case 'Completed':\\n    productboardStatus = 'Released';\\n    break;\\n  case 'Canceled':\\n    productboardStatus = 'Won\\\\'t do';\\n    break;\\n  default:\\n    productboardStatus = 'Candidate'; // Default or handle unknown status\\n}\\n\\nreturn { productboard_status: productboardStatus };\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4fee2a41-4e20-4642-badd-164c6d0b1232\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        4780,\n        300\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"mergeByPosition\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"49289417-ca21-4b03-b558-61a04b6eb7dd\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        3400,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b89135b5-3c72-44a9-9d8e-b0190385cf65\",\n      \"name\": \"Merge1\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        3920,\n        280\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"mergeByFields\": {\n          \"values\": [\n            {\n              \"field1\": \"linear_project_url\",\n              \"field2\": \"linear_url_productboard\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"cf533225-7507-471e-9d45-4a490b30a01d\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        3740,\n        400\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"linear_url_productboard\",\n              \"stringValue\": \"={{ $json['value'].match('^(https:\\\\/\\\\/linear\\\\.app\\\\/[^\\\\/]+\\\\/project\\\\/[^\\\\/]+)')[0] }}\"\n            },\n            {\n              \"name\": \"feature_id\",\n              \"stringValue\": \"={{ $json['hierarchyEntity'].id }}\"\n            }\n          ]\n        },\n        \"include\": \"none\",\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"ee7f8ef5-f5a9-4a39-9621-ccf908036eeb\",\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        5820,\n        380\n      ],\n      \"parameters\": {\n        \"text\": \"=:linear: {{ $json.data.name }} with status {{ $json.data.status.name }} and dates {{ $json.data.timeframe.startDate }} - {{ $json.data.timeframe.endDate }} updated :productboard: {{ $json.data.links.html }}.\",\n        \"select\": \"channel\",\n        \"blocksUi\": \"={\\n  \\\"blocks\\\": [\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n        \\\"type\\\": \\\"mrkdwn\\\",\\n        \\\"text\\\": \\\":linear: to :productboard: update\\\\n\\\\n*{{ $json.data.name }}*\\\\n\\\\n*Status:* {{ $json.data.status.name }}\\\\n*:dart: date:* {{ $json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"] && $json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"] !== \\\"none\\\" ? new Date($json[\\\"data\\\"][\\\"timeframe\\\"][\\\"endDate\\\"]).toLocaleDateString(\\\"en-US\\\", { month: \\\"long\\\", year: \\\"numeric\\\" }) : \\\"none\\\" }}\\\"\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"divider\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n        \\\"type\\\": \\\"mrkdwn\\\",\\n        \\\"text\\\": \\\"You can view the update in Productboard using the link below:\\\"\\n      },\\n      \\\"accessory\\\": {\\n        \\\"type\\\": \\\"button\\\",\\n        \\\"text\\\": {\\n          \\\"type\\\": \\\"plain_text\\\",\\n          \\\"text\\\": \\\"Open Productboard\\\"\\n        },\\n        \\\"url\\\": \\\"{{ $json.data.links.html }}\\\"\\n      }\\n    }\\n  ]\\n}\\n\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"#product-notifications\"\n        },\n        \"messageType\": \"block\",\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"SG3oDwwLGpxwoJSO\",\n          \"name\": \"Slack\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"4ab5c298-5947-47d1-ac10-db502a0b4b60\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        5280,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"looseTypeValidation\": true\n        },\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"loose\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"f53c6eb9-61cc-4cf9-bbb6-03cc9f78b6b1\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $json.productboard_status }}\",\n              \"rightValue\": \"={{ $json.data.status.name }}\"\n            },\n            {\n              \"id\": \"a61b4bca-47b0-48bb-b93f-ba9a419740d0\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $json[\\\"targetDate\\\"] \\n        ? (() => {\\n            const date = new Date($json['targetDate']);\\n            const year = date.getFullYear();\\n            const month = date.getMonth() + 1;\\n            const lastDay = new Date(year, month, 0).getDate();\\n            return `${year}-${month.toString().padStart(2, '0')}-${lastDay}`;\\n          })() \\n        : '\\\"endDate\\\": \\\"none\\\"'}}\",\n              \"rightValue\": \"={{ $json.data.timeframe.endDate }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3efe9d27-7983-419d-8ac1-9efde3751952\",\n      \"name\": \"get productboard feature details\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        4300,\n        540\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.productboard.com/features/{{ $json.feature_id }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Version\",\n              \"value\": \"1\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"Z0ptr85smbBZBIYx\",\n          \"name\": \"Product Board\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"265b3359-c63d-4188-ad1b-a33ce5e081f5\",\n      \"name\": \"Merge2\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        5040,\n        400\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"joinMode\": \"keepEverything\",\n        \"mergeByFields\": {\n          \"values\": [\n            {\n              \"field1\": \"feature_id\",\n              \"field2\": \"data.id\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"5dc1c2f5-a92d-49f4-acb9-8084bf878b05\",\n      \"name\": \"Your Linear Project 2\",\n      \"type\": \"n8n-nodes-base.linearTrigger\",\n      \"position\": [\n        2840,\n        260\n      ],\n      \"webhookId\": \"180ebe54-3ab2-439f-b44b-40be97a62b87\",\n      \"parameters\": {\n        \"teamId\": \"8434c5f8-1ce0-4733-949d-ef6a095c27fd\",\n        \"resources\": [\n          \"project\"\n        ]\n      },\n      \"credentials\": {\n        \"linearApi\": {\n          \"id\": \"hhmsOxH2jUEvGbvN\",\n          \"name\": \"Linear\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f70d103-cf98-4ab8-9550-a5749a40f7e3\",\n      \"name\": \"Your Linear Project 1\",\n      \"type\": \"n8n-nodes-base.linearTrigger\",\n      \"position\": [\n        2840,\n        60\n      ],\n      \"webhookId\": \"5b10cdb4-85a6-41de-a0de-ce50c75dcc6f\",\n      \"parameters\": {\n        \"teamId\": \"e7c75e79-fbcf-45cc-95bd-110efb6cb555\",\n        \"resources\": [\n          \"project\"\n        ]\n      },\n      \"credentials\": {\n        \"linearApi\": {\n          \"id\": \"hhmsOxH2jUEvGbvN\",\n          \"name\": \"Linear\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"65abdb10-dba2-4535-a155-957106ae6cdd\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2960,\n        680\n      ],\n      \"parameters\": {\n        \"width\": 487.89456119016046,\n        \"height\": 156.00544089827184,\n        \"content\": \"## 小贴士\\n- 避免复制粘贴Linear节点，应从菜单中新增节点\\n- 记得在\\\"获取Productboard功能ID\\\"节点中配置自定义Productboard字段\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"adcb71e4-880b-4c19-acbb-0708ae4af95f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        5500,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 492.6340257353018,\n        \"height\": 182.8624066540728,\n        \"content\": \"## 预览 Slack 消息\\n:linear: 转至 :productboard: 更新\\n我的超棒功能名称\\n状态：候选\\n:dart: 日期：2024年12月\\n您可以通过下方链接在Productboard查看更新：\\n<产品板功能链接>\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"update productboard status & timeframe\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"map linear to productboard status\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"get productboard feature details\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"mapping\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"linear project id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Your Linear Project 1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"get productboard feature id\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"linear project id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Your Linear Project 2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"linear project id\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"get productboard feature id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get productboard feature id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get productboard feature details\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge2\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"map linear to productboard status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"mapping\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"update productboard status & timeframe\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}