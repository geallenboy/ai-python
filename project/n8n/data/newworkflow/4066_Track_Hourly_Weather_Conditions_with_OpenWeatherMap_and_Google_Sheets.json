{
  "url": "https://n8n.io/workflows/4066-track-hourly-weather-conditions-with-openweathermap-and-google-sheets/",
  "title": "Track Hourly Weather Conditions with OpenWeatherMap and Google Sheets",
  "author": "ist00dent",
  "publish_date": "Last update 9 days ago",
  "publish_date_absolute": "2025-05-17",
  "categories": [
    {
      "name": "Other"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"1yA5mcestRYljmFM\",\"meta\":{\"instanceId\":\"3fed23de697c60307f3b4f5caeafbeffabaf7bbd62c1b20ae70d5faf5a9806b4\",\"templateCredsSetupCompleted\":true},\"name\":\"Track Hourly Weather Conditions with OpenWeatherMap → Google Sheets\",\"tags\":[{\"id\":\"F1KjxL3SjfvVqZqo\",\"name\":\"training-n8n\",\"createdAt\":\"2025-04-29T10:40:13.332Z\",\"updatedAt\":\"2025-04-29T10:40:13.332Z\"}],\"nodes\":[{\"id\":\"472b4930-ac62-4adc-af65-4a3e46e18cac\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[0,0],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\"}]}},\"typeVersion\":1.2},{\"id\":\"a0fe192b-1b84-48d3-8896-c21f0fe26855\",\"name\":\"Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[900,-140],\"parameters\":{\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"},\"documentId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"\"},\"authentication\":\"serviceAccount\"},\"credentials\":{\"googleApi\":{\"id\":\"zezjM010IlXk8xFU\",\"name\":\"Google Service Account training\"}},\"typeVersion\":4.5},{\"id\":\"7cc21aa3-69bc-40d8-bea2-aee3bc27920c\",\"name\":\"Get Weather Data from OpenWeatherMap\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[220,0],\"parameters\":{\"url\":\"=https://api.openweathermap.org/data/2.5/weather?q=Pasay,ph&APPID={{ $credentials.openWeatherMap.apiKey }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"373b6f87-cc09-412d-9293-c18c889c4f0a\",\"name\":\"If is raining\",\"type\":\"n8n-nodes-base.if\",\"position\":[400,0],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"c593374b-7a9f-4c8d-aa6c-3dfa2c11bbcc\",\"operator\":{\"type\":\"number\",\"operation\":\"lt\"},\"leftValue\":\"={{ $json.main.temp }}\",\"rightValue\":303},{\"id\":\"24c06a68-c333-45c3-bf0e-0457448d3d2e\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.weather[0].description }}\",\"rightValue\":\"rain\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"01f1394c-9d53-4a5a-a4ab-6146b1872a91\",\"name\":\"Format the data\",\"type\":\"n8n-nodes-base.set\",\"position\":[640,-140],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"a62d02e7-0baf-429a-bbf5-e5028020d723\",\"name\":\"city\",\"type\":\"string\",\"value\":\"={{ $json.name }}\"},{\"id\":\"0951f83b-578f-4300-97fd-464ac0a3152b\",\"name\":\"temperature (K)\",\"type\":\"string\",\"value\":\"={{ $json.main.temp }}\"},{\"id\":\"27f2d8f9-a841-4c38-bc68-ba1f5c8a716e\",\"name\":\"humidity\",\"type\":\"string\",\"value\":\"={{ $json.main.humidity }}\"},{\"id\":\"b0571687-07fa-432e-acd6-86c671f96875\",\"name\":\"conditions\",\"type\":\"string\",\"value\":\"={{ $json.weather[0].description }}\"},{\"id\":\"98f115fc-a91c-434d-b5d7-bab39aac8e98\",\"name\":\"status\",\"type\":\"string\",\"value\":\"higher than average temperature\"}]}},\"typeVersion\":3.4},{\"id\":\"33cb4c1b-d10c-4010-b49c-057469ec20f3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,-80],\"parameters\":{\"width\":380,\"height\":260,\"content\":\"### Get Weather information and see if it is raining\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"a481a1a4-3b62-44d4-ad25-94debc8b353c\",\"connections\":{\"Google Sheets\":{\"main\":[[]]},\"If is raining\":{\"main\":[[{\"node\":\"Format the data\",\"type\":\"main\",\"index\":0}],[]]},\"Format the data\":{\"main\":[[{\"node\":\"Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Get Weather Data from OpenWeatherMap\",\"type\":\"main\",\"index\":0}]]},\"Get Weather Data from OpenWeatherMap\":{\"main\":[[{\"node\":\"If is raining\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n template allows you to monitor hourly weather conditions in a specific city using OpenWeatherMap and log the results to a Google Sheet. It’s perfect for anyone needing periodic weather tracking—whether you're managing logistics, travel planning, or environmental monitoring.\n\n* * *\n\n# 🔧 How it works\n\n  * A Schedule Trigger activates the workflow every hour.\n\n  * The Get Weather Data from OpenWeatherMap node fetches real-time weather details using the city name you specify.\n\n  * An IF node checks if the weather description contains \"rain\" or the temperature is below a set threshold.\n\n  * If the condition is true, the data is formatted with city, temperature, humidity, and conditions.\n\n  * The Google Sheets node appends this formatted information to your designated sheet.\n\n\n\n\n* * *\n\n# 👤 Who is it for?\n\n### This workflow is ideal for:\n\n  * Operations teams monitoring weather-sensitive logistics\n\n  * Researchers collecting climate data\n\n  * Developers and hobbyists learning how to connect APIs with Google Sheets\n\n\n\n\n* * *\n\n# 🗂️ Google Sheet Structure\n\n### Your Google Sheet should have the following columns:\n\n  * city (string)\n\n  * temperature (K) (number)\n\n  * humidity (number)\n\n  * conditions (string)\n\n  * status (string)\n\n\n\n\n* * *\n\n# ⚙️ Setup Instructions\n\n  * Create a Google Sheet with the above columns.\n\n  * Set up your Google Service Account credentials in n8n.\n\n  * Replace the API key in the HTTP Request node with your own OpenWeatherMap credential.\n\n  * Specify your target city and ensure your OpenWeatherMap account is active.\n\n  * Adjust the frequency in the Schedule Trigger as needed (default: every hour).\n\n\n\n",
  "crawled_at": "2025-05-26T06:26:14.474618",
  "readme_zh": "此n8n模板可帮助您通过OpenWeatherMap监测指定城市的逐小时天气状况，并将结果记录到Google表格中。无论是物流管理、旅行规划还是环境监测，这套定时天气追踪方案都能完美适配需求。\n\n* * *\n\n# 🔧 工作原理\n\n  * 定时触发器每小时自动激活工作流\n\n  * OpenWeatherMap节点根据您设定的城市名称获取实时天气数据\n\n  * 条件判断节点检测天气描述是否含\"降雨\"或温度低于设定阈值\n\n  * 若条件成立，系统将格式化城市名称、温度、湿度和天气状况数据\n\n  * Google表格节点将格式化后的信息追加到您指定的电子表格",
  "title_zh": "使用OpenWeatherMap和Google表格追踪每小时天气状况",
  "publish_date_zh": "最后更新于2天前",
  "workflow_json_zh": "{\"id\":\"1yA5mcestRYljmFM\",\"meta\":{\"instanceId\":\"3fed23de697c60307f3b4f5caeafbeffabaf7bbd62c1b20ae70d5faf5a9806b4\",\"templateCredsSetupCompleted\":true},\"name\":\"Track Hourly Weather Conditions with OpenWeatherMap → Google Sheets\",\"tags\":[{\"id\":\"F1KjxL3SjfvVqZqo\",\"name\":\"training-n8n\",\"createdAt\":\"2025-04-29T10:40:13.332Z\",\"updatedAt\":\"2025-04-29T10:40:13.332Z\"}],\"nodes\":[{\"id\":\"472b4930-ac62-4adc-af65-4a3e46e18cac\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[0,0],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\"}]}},\"typeVersion\":1.2},{\"id\":\"a0fe192b-1b84-48d3-8896-c21f0fe26855\",\"name\":\"Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[900,-140],\"parameters\":{\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"},\"documentId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"\"},\"authentication\":\"serviceAccount\"},\"credentials\":{\"googleApi\":{\"id\":\"zezjM010IlXk8xFU\",\"name\":\"Google Service Account training\"}},\"typeVersion\":4.5},{\"id\":\"7cc21aa3-69bc-40d8-bea2-aee3bc27920c\",\"name\":\"Get Weather Data from OpenWeatherMap\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[220,0],\"parameters\":{\"url\":\"=https://api.openweathermap.org/data/2.5/weather?q=Pasay,ph&APPID={{ $credentials.openWeatherMap.apiKey }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"373b6f87-cc09-412d-9293-c18c889c4f0a\",\"name\":\"If is raining\",\"type\":\"n8n-nodes-base.if\",\"position\":[400,0],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"c593374b-7a9f-4c8d-aa6c-3dfa2c11bbcc\",\"operator\":{\"type\":\"number\",\"operation\":\"lt\"},\"leftValue\":\"={{ $json.main.temp }}\",\"rightValue\":303},{\"id\":\"24c06a68-c333-45c3-bf0e-0457448d3d2e\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.weather[0].description }}\",\"rightValue\":\"rain\"}]}},\"notesInFlow\":true,\"typeVersion\":2.2},{\"id\":\"01f1394c-9d53-4a5a-a4ab-6146b1872a91\",\"name\":\"Format the data\",\"type\":\"n8n-nodes-base.set\",\"position\":[640,-140],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"a62d02e7-0baf-429a-bbf5-e5028020d723\",\"name\":\"city\",\"type\":\"string\",\"value\":\"={{ $json.name }}\"},{\"id\":\"0951f83b-578f-4300-97fd-464ac0a3152b\",\"name\":\"temperature (K)\",\"type\":\"string\",\"value\":\"={{ $json.main.temp }}\"},{\"id\":\"27f2d8f9-a841-4c38-bc68-ba1f5c8a716e\",\"name\":\"humidity\",\"type\":\"string\",\"value\":\"={{ $json.main.humidity }}\"},{\"id\":\"b0571687-07fa-432e-acd6-86c671f96875\",\"name\":\"conditions\",\"type\":\"string\",\"value\":\"={{ $json.weather[0].description }}\"},{\"id\":\"98f115fc-a91c-434d-b5d7-bab39aac8e98\",\"name\":\"status\",\"type\":\"string\",\"value\":\"higher than average temperature\"}]}},\"typeVersion\":3.4},{\"id\":\"33cb4c1b-d10c-4010-b49c-057469ec20f3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[160,-80],\"parameters\":{\"width\":380,\"height\":260,\"content\":\"### 获取天气信息并查看是否下雨\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"a481a1a4-3b62-44d4-ad25-94debc8b353c\",\"connections\":{\"Google Sheets\":{\"main\":[[]]},\"If is raining\":{\"main\":[[{\"node\":\"Format the data\",\"type\":\"main\",\"index\":0}],[]]},\"Format the data\":{\"main\":[[{\"node\":\"Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Get Weather Data from OpenWeatherMap\",\"type\":\"main\",\"index\":0}]]},\"Get Weather Data from OpenWeatherMap\":{\"main\":[[{\"node\":\"If is raining\",\"type\":\"main\",\"index\":0}]]}}}"
}