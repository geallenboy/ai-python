{
  "url": "https://n8n.io/workflows/4091-automate-spam-filtering-with-gpt-4-and-gmail/",
  "title": "Automate Spam Filtering with GPT-4 & Gmail",
  "author": "LukaszB",
  "publish_date": "Last update 9 days ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Other"
    },
    {
      "name": "Support"
    },
    {
      "name": "AI"
    }
  ],
  "workflow_json": "{\"id\":\"3QJW0AkGeIq3ofcC\",\"meta\":{\"instanceId\":\"740c1df6d3b1b6ea8a9d2223701f6904173f9e3cf7381cd181644b043420ba09\",\"templateCredsSetupCompleted\":true},\"name\":\"Auto Spam & Marketing Email Killer\",\"tags\":[],\"nodes\":[{\"id\":\"83cad1fb-1c94-4fa6-abc6-fc9084e84b8a\",\"name\":\"Gmail Trigger\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"position\":[-80,60],\"parameters\":{\"filters\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyHour\"}]}},\"credentials\":{\"gmailOAuth2\":{\"id\":\"ECavbdGSgi3lNgZG\",\"name\":\"Gmail account 2\"}},\"typeVersion\":1.2},{\"id\":\"38c3a768-5152-4377-9fa7-065e58233ef2\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[160,280],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4.1-nano\",\"cachedResultName\":\"gpt-4.1-nano\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"69YTGxdIPy79gAdh\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"4acc776b-0554-4a74-b10a-5307ee14fee2\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[520,60],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"3fa478cd-9476-4a10-b039-1e537b838b31\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.output }}\",\"rightValue\":\"SPAM\"},{\"id\":\"82bafdff-daed-4791-8dd0-dae981c0ee43\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.output }}\",\"rightValue\":\"OFERTA\"}]}},\"typeVersion\":2.2},{\"id\":\"a2440f83-73b8-4757-90cf-c0f4d269eb9b\",\"name\":\"Validator of Email\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[160,60],\"parameters\":{\"text\":\"=Your email too check:\\n {{ $json.snippet }}\",\"options\":{\"systemMessage\":\"=You are an intelligent assistant for analyzing and classifying email messages or contact forms.\\n\\nYour task is to carefully evaluate whether the message contains valuable information, or whether it is a standard marketing message with no real value to the recipient.\\n\\nWe distinguish three classes:\\n\\nSPAM ‚Äì bulk messages, low-quality content, random text, scams, phishing, etc.\\n\\nOFFER ‚Äì commercial or marketing messages that promote something but do not contain important information for the user, e.g.:\\n\\nDiscount coupons\\n\\nPromotion or sale notifications\\n\\nAbandoned cart reminders\\n\\nEncouragement to sign up, download, or buy\\n\\nCold emails and collaboration offers\\n\\nIMPORTANT ‚Äì messages containing valuable or relevant information for the recipient, even if commercial in nature, e.g.:\\n\\nOrder or payment confirmation\\n\\nShipping or delivery status updates\\n\\nMessage from a specific person with a question or request\\n\\nPersonal matters, invitations, inquiries\\n\\nRules:\\n\\nIf you're unsure, better to classify as IMPORTANT.\\n\\nFocus on the message content, do not judge by the email address or headers.\\n\\nRespond with only one word: SPAM, OFFER, or IMPORTANT.\\n\\nExamples:\\n\\nMessage:\\n‚ÄúYour order #14235 has been shipped. Estimated delivery: Thursday.‚Äù\\nAnswer: IMPORTANT\\nüìå This is relevant information for the user ‚Äì do not remove.\\n\\nMessage:\\n‚ÄúYou left something in your cart! Only today ‚Äì15% off your purchase!‚Äù\\nAnswer: OFFER\\nüìå Typical marketing reminder, no actual value.\\n\\nMessage:\\n‚ÄúHi, we noticed you didn‚Äôt download our free e-book. Download now to discover 10 ways to boost sales.‚Äù\\nAnswer: OFFER\\nüìå Marketing prompt, lacks valuable content.\\n\\nMessage:\\n‚ÄúAttached is the invoice for the service completed last month. Please contact me with any questions.‚Äù\\nAnswer: IMPORTANT\\nüìå Invoice = important message.\\n\\nMessage:\\n‚ÄúToday only! Free shipping and discounts up to 30% in our store!‚Äù\\nAnswer: OFFER\\nüìå Promotion, typical sales message.\\n\\nMessage:\\n‚ÄúHi, I saw your listing online and I‚Äôm interested in working with you. Can we talk by phone?‚Äù\\nAnswer: IMPORTANT\\nüìå Message from a real person = potential lead.\\n\\nMessage:\\n‚ÄúWin a new iPhone! Click here to claim your prize!‚Äù\\nAnswer: SPAM\\nüìå No need to explain ‚Äì scam/spam.\\n\\nMessage:\\n‚ÄúI‚Äôd like to ask if you offer individual training sessions?‚Äù\\nAnswer: IMPORTANT\\nüìå A real inquiry from a potential customer.\\n\\nMessage:\\n‚ÄúRegister now for free 7-day access to XYZ tool.‚Äù\\nAnswer: OFFER\\nüìå Advertising offer, not inherently important.\"},\"promptType\":\"define\"},\"typeVersion\":1.9},{\"id\":\"77b25fbd-4093-48d1-9230-6a765d60b928\",\"name\":\"Delate Email\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[760,60],\"webhookId\":\"8c6da755-63e5-43e6-a22b-c189a72e7e7b\",\"parameters\":{\"messageId\":\"={{ $('Gmail Trigger').item.json.id }}\",\"operation\":\"delete\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"ECavbdGSgi3lNgZG\",\"name\":\"Gmail account 2\"}},\"typeVersion\":2.1},{\"id\":\"a994bc19-d3fd-43b0-8612-bb9dfdceff08\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,40],\"parameters\":{\"width\":560,\"height\":660,\"content\":\"## üßπ Auto Spam & Marketing Email Killer\\n\\nTired of promotional clutter in your inbox?  \\nThis AI-powered n8n workflow automatically scans your Gmail inbox every hour, analyzes incoming messages using GPT-4, and deletes unwanted emails labeled as **SPAM** or **OFERR**.\\n\\n### üîç What it does\\n- Triggers on new Gmail messages\\n- Uses OpenAI to classify the message as: `IMPORTANT`, `OFFER`, or `SPAM`\\n- Deletes emails marked as `SPAM` or `OFFER`\\n- Keeps important messages like order confirmations, invoices, and personal inquiries\\n\\n### ü§ñ Built-in Intelligence\\nThe AI agent is trained with 9 real examples to ensure precise classification of marketing emails, phishing, cold outreach, and more.\\n\\n### üì¶ Ideal for:\\n- Solopreneurs\\n- Business inboxes\\n- Clean-inbox enthusiasts\\n\\nSet it once, and enjoy a distraction-free email experience.\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"0bbcd957-fdb2-4d3d-ac6b-f25903bbe301\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"Delate Email\",\"type\":\"main\",\"index\":0}]]},\"Gmail Trigger\":{\"main\":[[{\"node\":\"Validator of Email\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Validator of Email\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Validator of Email\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Auto Spam & Marketing Email Killer ‚Äì Fully Automated Inbox Cleaner\n\nThis workflow is perfect for professionals, solopreneurs, and teams who want to keep their Gmail inbox clean and focused by automatically removing irrelevant marketing emails and spam. Its core goal is to identify and delete low-value content while preserving important messages ‚Äî without any manual filtering.\n\nNo more digging through promo tabs, chasing shipping updates, or missing client messages. This intelligent, AI-powered flow handles your inbox clutter so you can focus on what matters.\n\n## Workflow Capabilities\n\n  * **AI Classification** ‚Äì Uses GPT-4 to intelligently label each incoming email as `IMPORTANT`, `OFFER`, or `SPAM`.\n  * **Smart Filtering** ‚Äì Instantly deletes messages marked as `OFFER` (e.g., discounts, cold outreach) or `SPAM` (e.g., scams, mass mailings).\n  * **Safety Logic** ‚Äì Preserves emails with potential business value, order info, or direct inquiries by default.\n  * **Hourly Trigger** ‚Äì Scans your inbox automatically every hour ‚Äî no action required.\n  * **Polish-Language Prompt** ‚Äì Designed with a native-level prompt and real examples for high classification accuracy.\n\n\n\n## How It Works\n\nEvery hour, the workflow checks your Gmail inbox for new messages.  \nIt sends the message snippet to a GPT-4 agent that evaluates the content.  \nBased on predefined logic, the message is marked as either `IMPORTANT`, `OFFER`, or `SPAM`.  \nIf it‚Äôs `OFFER` or `SPAM`, it gets deleted immediately.  \nIf it‚Äôs `IMPORTANT`, it stays in your inbox untouched.\n\n## Easy Setup Steps\n\n  * Connect your Gmail account using OAuth2 credentials.\n  * Add your OpenAI API Key for GPT-4 access.\n  * Activate the workflow and let it run automatically.\n  * _(Optional)_ Customize prompt rules or add logging via Google Sheets for backup.\n\n\n\n## Declutter your inbox. Automate email hygiene.\n\nKeep what matters ‚Äî delete the rest.\n",
  "crawled_at": "2025-05-26T06:39:01.878647"
}