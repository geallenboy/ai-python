{
  "url": "https://n8n.io/workflows/3218-get-all-orders-in-shopify-to-google-sheets/",
  "title": "Get all orders in Shopify to Google Sheets",
  "author": "bangank36",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "2025-03-26",
  "categories": [
    {
      "name": "Other"
    }
  ],
  "workflow_json": "{\"meta\":{\"instanceId\":\"e634e668fe1fc93a75c4f2a7fc0dad807ca318b79654157eadb9578496acbc76\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"33114dba-d3e2-469c-bb01-e50d4e84be53\",\"name\":\"When clicking â€˜Test workflowâ€™\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[120,60],\"parameters\":{},\"typeVersion\":1},{\"id\":\"68a92424-8345-40d1-bdb2-ad4b68c35406\",\"name\":\"Get Orders\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[500,0],\"parameters\":{\"url\":\"https://{store}.myshopify.com/admin/api/2025-01/orders.json\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendQuery\":true,\"authentication\":\"predefinedCredentialType\",\"queryParameters\":{\"parameters\":[{\"name\":\"limit\",\"value\":\"250\"},{\"name\":\"fields\",\"value\":\"id,note,email,processed_at,customer\"},{\"name\":\"={{ $json.page_info ? \\\"page_info\\\" : \\\"status\\\" }}\",\"value\":\"={{ $json.page_info ? $json.page_info : 'any' }}\"}]},\"nodeCredentialType\":\"shopifyAccessTokenApi\"},\"credentials\":{\"shopifyAccessTokenApi\":{\"id\":\"vtyKGPLLdjc7MLea\",\"name\":\"Shopify Access Token account\"}},\"typeVersion\":4.2},{\"id\":\"e0e67ff4-cba3-420e-ad06-4201d8517470\",\"name\":\"Extract page_info \",\"type\":\"n8n-nodes-base.code\",\"position\":[900,120],\"parameters\":{\"jsCode\":\"function parseNextParams(headerValue) {\\n    // Match the URL inside <>\\n    const urlMatch = headerValue.match(/<([^>]+)>;\\\\s*rel=\\\"next\\\"/);\\n    if (!urlMatch) return null;\\n\\n    const url = urlMatch[1]; // Extracted URL\\n    const paramsString = url.split(\\\"?\\\")[1]; // Get query string\\n\\n    if (!paramsString) return {}; // No params found\\n\\n    // Convert query string to object\\n    return paramsString.split(\\\"&\\\").reduce((acc, param) => {\\n        const [key, value] = param.split(\\\"=\\\");\\n        acc[decodeURIComponent(key)] = decodeURIComponent(value);\\n        return acc;\\n    }, {});\\n}\\n\\n/* Example usage\\n`<https://59b774-3.myshopify.com/admin/api/2025-01/orders.json?limit=250&fields=id%2Cnote%2Cemail%2Cprocessed_at%2Ccustomer&page_info=eyJzdGF0dXMiOiJhbnkiLCJsYXN0X2lkIjo2MzQ5MjI3MDAwMDk0LCJsYXN0X3ZhbHVlIjoiMjAyNC0xMi0zMSAwOToxMzowMi42MTcxNjYiLCJkaXJlY3Rpb24iOiJuZXh0In0>; rel=\\\"next\\\"`\\n*/\\nconst headerValue = $input.first().json.headers.link;\\nconst params = parseNextParams(headerValue);\\nreturn params;\"},\"typeVersion\":2},{\"id\":\"fd06d8fa-3c6d-4877-a2e8-cb71b0d0ef32\",\"name\":\"Merge Loop items\",\"type\":\"n8n-nodes-base.code\",\"position\":[1120,-100],\"parameters\":{\"jsCode\":\"let results = [],\\n  i = 0;\\n\\ndo {\\n  try {\\n    results = results.concat($(\\\"Get Orders\\\").all(0, i));\\n  } catch (error) {\\n    return results;\\n  }\\n  i++;\\n} while (true);\"},\"typeVersion\":2},{\"id\":\"cd9840ad-4ec2-4979-b0cc-c7dc42917452\",\"name\":\"List Orders\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1380,-100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"body.orders\"},\"typeVersion\":1},{\"id\":\"9d491fda-ab2e-4247-85bd-969a07476471\",\"name\":\"Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1620,-100],\"parameters\":{\"columns\":{\"value\":{\"id\":\"={{ $json.id }}\",\"note\":\"={{ $json.note }}\",\"email\":\"={{ $json.email }}\",\"processed_at\":\"={{ $json.processed_at }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true,\"canBeUsedToMatch\":true},{\"id\":\"email\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"email\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"processed_at\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"processed_at\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"note\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"note\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":2030201341,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1yf_RYZGFHpMyOvD3RKGSvIFY2vumvI4474Qm_1t4-jM/edit#gid=2030201341\",\"cachedResultName\":\"shopify_orders\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1yf_RYZGFHpMyOvD3RKGSvIFY2vumvI4474Qm_1t4-jM\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1yf_RYZGFHpMyOvD3RKGSvIFY2vumvI4474Qm_1t4-jM/edit?usp=drivesdk\",\"cachedResultName\":\"Squarespace automation\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"JgI9maibw5DnBXRP\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"d1974350-5fcb-448a-b895-17b296de0019\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[440,-160],\"parameters\":{\"width\":232,\"height\":346,\"content\":\"## Edit this node ðŸ‘‡\\n\\nGet your store URL and replace in the GET url: https://{your-store}.myshopify.com/admin/api/2025-01/orders.json\\n\"},\"typeVersion\":1},{\"id\":\"bbc911a5-0020-47d9-8b2f-2edd7ac83325\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1580,-260],\"parameters\":{\"width\":252,\"height\":346,\"content\":\"## Clone this spreadsheet\\n\\nhttps://docs.google.com/spreadsheets/d/1KRl6aCCU2SE3Z6vB2EbTnSwSUAre0BLf9Wu6fyPlrIE/edit?usp=sharing\"},\"typeVersion\":1},{\"id\":\"fdec0965-3a0c-4886-90b4-f2ef4f0cebdd\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[120,-120],\"parameters\":{\"rule\":{\"interval\":[{}]}},\"typeVersion\":1.2},{\"id\":\"87cdb9e8-a031-4a40-a5e6-65a0cfc40180\",\"name\":\"Assign page_info parameter\",\"type\":\"n8n-nodes-base.set\",\"position\":[1120,120],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"57e59bb7-ac20-4a1b-b54a-3468fc0519d3\",\"name\":\"page_info\",\"type\":\"string\",\"value\":\"={{ $json.page_info }}\"}]}},\"typeVersion\":3.4},{\"id\":\"8f15e8a1-19de-401f-8ef2-358a42e806bb\",\"name\":\"Check page_info existence\",\"type\":\"n8n-nodes-base.if\",\"position\":[720,0],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"30d965c3-cbba-430e-81c2-ef8b543665e7\",\"operator\":{\"type\":\"string\",\"operation\":\"notContains\"},\"leftValue\":\"={{ $json.headers.link }}\",\"rightValue\":\"rel=\\\"next\\\"\"}]}},\"typeVersion\":2.2}],\"pinData\":{},\"connections\":{\"Get Orders\":{\"main\":[[{\"node\":\"Check page_info existence\",\"type\":\"main\",\"index\":0}]]},\"List Orders\":{\"main\":[[{\"node\":\"Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Merge Loop items\":{\"main\":[[{\"node\":\"List Orders\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Get Orders\",\"type\":\"main\",\"index\":0}]]},\"Extract page_info \":{\"main\":[[{\"node\":\"Assign page_info parameter\",\"type\":\"main\",\"index\":0}]]},\"Check page_info existence\":{\"main\":[[{\"node\":\"Merge Loop items\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Extract page_info \",\"type\":\"main\",\"index\":0}]]},\"Assign page_info parameter\":{\"main\":[[{\"node\":\"Get Orders\",\"type\":\"main\",\"index\":0}]]},\"When clicking â€˜Test workflowâ€™\":{\"main\":[[{\"node\":\"Get Orders\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow retrieves all Shopify Orders and saves them into a Google Sheets spreadsheet using the [Shopify Admin REST API](https://shopify.dev/docs/api/admin-rest/2025-01/resources/order#get-orders?status=any). It uses [pagination](https://shopify.dev/docs/api/admin-rest/usage/pagination) to ensure all orders are collected efficiently.\n\nI originally built this workflow for my own use and found it valuable for understanding how Shopify pagination works. Now, Iâ€™m sharing it to help others automate their order retrieval process.\n\n## How It Works\n\nInstead of relying on the built-in Shopify node (**Get Orders Many**), this workflow leverages the HTTP Request node to fetch paginated chunks manually.\n\n  * Shopify uses cursor-based pagination (**page_info**) instead of traditional page numbers.\n  * Pagination data is stored in the response headers, so we need to enable `Include Response Headers and Status` in the HTTP Request node.\n  * You can modify the limit parameter to control batch sizes and optimize for rate limits.\n  * This workflow can be run on demand or scheduled to keep your data up to date.\n\n\n\n## Parameters\n\nYou can adjust these parameters in the HTTP Request node:\n\n  * limit â€“ The number of orders per request (default: 50, max: 250).\n  * fields â€“ Comma-separated list of fields to retrieve.\n  * page_info â€“ Used for pagination; only limit and fields are allowed when paginating.\n\n\n\nðŸ“Œ Note: when you query the paginated chunks with `page_info`, only the limit and fields parameters are allowed\n\n## Credentials\n\n  * Shopify API Key â€“ Required for authentication.\n  * Google Sheets API credentials â€“ Needed to insert data into the spreadsheet.  \nðŸ’¾ [Clone the Google Sheets template here](https://docs.google.com/spreadsheets/d/1KRl6aCCU2SE3Z6vB2EbTnSwSUAre0BLf9Wu6fyPlrIE/edit?gid=0#gid=0)\n\n\n\n## Who Is This For?\n\n  * Shopify store owners who need to export all orders to Google Sheets.\n  * Users who want full control over API parameters for optimized queries.\n  * Anyone looking for a flexible and scalable Shopify data extraction solution.\n\n\n\n* * *\n\nExplore More Templates  \nðŸ‘‰ [Check out my other n8n templates](https://n8n.io/creators/bangank36/)\n",
  "crawled_at": "2025-05-26T04:01:44.474310"
}