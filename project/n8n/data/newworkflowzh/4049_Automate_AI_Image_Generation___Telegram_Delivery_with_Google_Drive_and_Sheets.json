{
  "url": "https://n8n.io/workflows/4049-automate-ai-image-generation-and-telegram-delivery-with-google-drive-and-sheets/",
  "title": "Automate AI Image Generation & Telegram Delivery with Google Drive and Sheets",
  "author": "David Olusola",
  "publish_date": "Last update 11 days ago",
  "publish_date_absolute": "",
  "categories": [
    {
      "name": "Design"
    },
    {
      "name": "AI"
    },
    {
      "name": "Marketing"
    }
  ],
  "workflow_json": "{\"id\":\"EYffbq7nZzy74ND8\",\"meta\":{\"instanceId\":\"2000c64071c20843606b95c63795bb0797c41036047055a6586498e855b96efc\",\"templateCredsSetupCompleted\":true},\"name\":\"Image generator\",\"tags\":[],\"nodes\":[{\"id\":\"c99dc6a0-d93b-410f-8647-d38281fe50e7\",\"name\":\"Convert to File\",\"type\":\"n8n-nodes-base.convertToFile\",\"position\":[-180,-240],\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"d9cee081-13cd-4ed4-843c-84e3e4e6c3d5\",\"name\":\"Image Prompt\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-720,-240],\"parameters\":{},\"typeVersion\":1.9},{\"id\":\"9d2a73d3-fc71-47e4-94c5-1c79dd6b3a30\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[-240,140],\"parameters\":{},\"typeVersion\":3},{\"id\":\"a4ac1967-64d1-455c-abef-bc3804d0cad4\",\"name\":\"Image Log\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[20,140],\"parameters\":{},\"typeVersion\":4.5},{\"id\":\"67ae3f89-2d7d-47c3-a55d-251a47a08072\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-820,60],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"230b29c6-ae1b-4cd0-9a35-dce2a0b15c05\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-280,-380],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"b9bcd205-679b-4cb0-a6a5-cf2bd8b58887\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-280,40],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"fd75b2ba-57f8-4ce3-8d39-915a96f7cef8\",\"name\":\"Send Photo\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[60,-240],\"webhookId\":\"8fcbda9c-8396-41f7-8f2d-39e4ae4337c7\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"91e34b1e-4d15-482f-bb07-86c81c32b478\",\"name\":\"Telegram Trigger\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[-920,-240],\"webhookId\":\"a9997053-40e2-4d1d-9abc-f2e5b6582096\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"bf169f97-b545-4969-94c3-73be107c4c70\",\"name\":\"Ai model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[-740,120],\"parameters\":{},\"typeVersion\":1},{\"id\":\"14caf60f-2813-4e39-8960-0dc85adce28d\",\"name\":\"Create Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-420,-240],\"parameters\":{},\"typeVersion\":4.2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"c43ac7b7-f538-4479-80e3-86bb743788b8\",\"connections\":{\"Ai model\":{\"ai_languageModel\":[[{\"node\":\"Image Prompt\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Create Image\":{\"main\":[[{\"node\":\"Convert to File\",\"type\":\"main\",\"index\":0}]]},\"Google Drive\":{\"main\":[[{\"node\":\"Image Log\",\"type\":\"main\",\"index\":0}]]},\"Image Prompt\":{\"main\":[[{\"node\":\"Create Image\",\"type\":\"main\",\"index\":0}]]},\"Convert to File\":{\"main\":[[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0},{\"node\":\"Send Photo\",\"type\":\"main\",\"index\":0}]]},\"Telegram Trigger\":{\"main\":[[{\"node\":\"Image Prompt\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This template is built for both self-hosted and cloud-based n8n instances using OpenAI, Google Sheets, Google Drive, and Telegram integrations.\n\n* * *\n\n## üõ†Ô∏è Image Generator Workflow Setup Guide (n8n)\n\nThis workflow allows users to generate high-quality AI images from Telegram prompts using OpenAI's image generation API, LangChain-based prompt expansion, and logging via Google Drive and Google Sheets.\n\n* * *\n\n## ‚öôÔ∏è Prerequisites\n\nFor **either self-hosted or cloud-based n8n** , you will need:\n\n### Required Accounts & API Access:\n\n  * ‚úÖ **Telegram Bot Token** (from [@BotFather](https://t.me/BotFather))\n\n  * ‚úÖ **OpenAI API Key** (with access to `gpt-image-1`)\n\n  * ‚úÖ **Google Account** with:\n\n    * Google Sheets\n    * Google Drive\n  * ‚úÖ (Optional) LangChain or Google Gemini API if using prompt enhancement\n\n\n\n\n* * *\n\n## üíª Self-Hosted vs Cloud-Based Comparison\n\nFeature | Self-Hosted n8n | n8n Cloud (official)  \n---|---|---  \nHosting & Maintenance | You manage | n8n manages everything  \nWebhook Accessibility | Must expose port via domain/IP | Instantly accessible via HTTPS  \nCredential Security | Fully in your control | Managed by n8n Cloud  \nScaling & Performance | You control resources | Managed based on your plan  \nPricing | Hosting cost + n8n free/open | Subscription-based  \n  \n* * *\n\n## ‚úÖ Setup Steps\n\n### Step 1: Prepare Google Drive\n\n  1. Create a folder, e.g., **\"AI Image Generation\"**.\n  2. Right-click ‚Üí Share ‚Üí **\"Anyone with the link can view\"**.\n  3. Copy the folder ID from the URL:  \n`https://drive.google.com/drive/folders/&lt;FOLDER_ID&gt;`\n\n\n\n* * *\n\n### Step 2: Prepare Google Sheets\n\n  1. Create a new Sheet: **\"Marketing Team Log\"**.\n  2. Add headers in the first row:\n\n\n    \n    \n    Title | Type | Request | ID | Link | Post\n    \n\n  1. Share it with your Google-connected service account or n8n‚Äôs OAuth-connected email.\n\n\n\n* * *\n\n### Step 3: Setup Telegram Bot\n\n  1. Talk to [@BotFather](https://t.me/BotFather)\n  2. Create a bot and get your token\n  3. Add the bot to your Telegram group/channel (if needed)\n\n\n\n* * *\n\n### Step 4: Configure Credentials in n8n\n\nIn **n8n ‚Üí Credentials** , set up:\n\n  * `Telegram API`: Paste your Bot Token\n  * `OpenAI API`: Bearer token under \"HTTP Header Auth\"\n  * `Google Drive`: OAuth2 credentials\n  * `Google Sheets`: OAuth2 credentials\n\n\n\n* * *\n\n### Step 5: Configure LangChain Prompt Enhancer (Optional)\n\nYou can use either:\n\n  * LangChain node (with Gemini or OpenAI)\n  * Gemini via Google PaLM API (used in your current setup)\n\n\n\nSet your API key and model (`gemini-2.5-pro-preview-05-06` or GPT-4).\n\n* * *\n\n### Step 6: Customize Image Prompt Agent\n\nThe image prompt node takes a **basic input like \"a cat in space\"** and expands it into a richly detailed prompt. This helps generate more artistic and realistic images.\n\n* * *\n\n### Step 7: Telegram Trigger Integration\n\n  * This node listens for incoming messages from Telegram.\n\n  * It captures:\n\n    * `chatID`\n    * `imagePrompt`\n    * `imageTitle` (if you want to allow custom titles)\n\n\n\n* * *\n\n### Step 8: Image Generation\n\n  * The expanded prompt is sent to OpenAI‚Äôs image API.\n\n  * The image is returned as a base64 JSON blob.\n\n  * It's converted to binary and sent to:\n\n    * **Telegram (as a photo)**\n    * **Google Drive**\n    * **Google Sheets (with image metadata)**\n\n\n\n* * *\n\n## üîÅ Example Flow\n\n  1. **User types** in Telegram:  \n`Image: A cozy cabin in snowy forest`\n\n  2. Workflow:\n\n     * Extracts the prompt\n\n     * Expands it using LangChain agent\n\n     * Sends to OpenAI to generate image\n\n     * Converts to binary and sends image:\n\n       * back to Telegram\n       * to Google Drive\n       * logs metadata in Google Sheets\n\n\n\n* * *\n\n## üìå Optional Improvements\n\n  * Add a **caption or post** generator using the Gemini node\n  * Add a **cooldown check** to avoid spam from Telegram users\n  * Implement an **image generation quota per user**\n  * Add **approval flow** before image is stored\n\n\n\n* * *\n\n## üåê Deployment Tips\n\n### For **self-hosted n8n** :\n\n  * Use a reverse proxy (e.g., NGINX) with SSL (via Let's Encrypt)\n  * Set proper environment variables for OAuth\n  * Run on a VPS or cloud server (e.g., DigitalOcean, AWS)\n\n\n\n### For **n8n Cloud** :\n\n  * No setup needed for webhooks or SSL\n  * Use OAuth2 credentials for Google integrations\n  * Your Telegram webhook will work instantly\n\n\n",
  "crawled_at": "2025-05-26T06:22:32.131293"
}