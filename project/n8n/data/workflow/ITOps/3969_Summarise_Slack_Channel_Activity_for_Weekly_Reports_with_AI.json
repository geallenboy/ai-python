{
  "title": "Summarise Slack Channel Activity for Weekly Reports with AI",
  "url": "https://n8n.io/workflows/3969-summarise-slack-channel-activity-for-weekly-reports-with-ai/",
  "category": "ITOps",
  "category_url": "https://n8n.io/workflows/categories/it-ops/?sort=createdAt:desc",
  "author": "Jimleuk",
  "publish_date": "Last update a day ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"f4322829-1799-4954-a75a-b40e95f41c10\",\"name\":\"Get Last Week's Messages\",\"type\":\"n8n-nodes-base.slack\",\"position\":[-2200,-160],\"webhookId\":\"8078218a-7edc-4e0b-9b4d-9860bd309877\",\"parameters\":{\"filters\":{\"oldest\":\"={{ $now.minus('1', 'week') }}\",\"inclusive\":false},\"resource\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C06RS1WPUQ6\",\"cachedResultName\":\"general\"},\"operation\":\"history\",\"returnAll\":true},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"f0e89c19-ee1f-4a4d-8176-c222c18e0514\",\"name\":\"Simplify Message\",\"type\":\"n8n-nodes-base.set\",\"position\":[-1320,380],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"547e8934-e6f2-47f0-b8a0-c60bd9d8a0c3\",\"name\":\"ts\",\"type\":\"string\",\"value\":\"={{ $json.ts }}\"},{\"id\":\"22473b44-b1d9-4b85-b0d9-1a54c5511ff4\",\"name\":\"userId\",\"type\":\"string\",\"value\":\"={{ $('Get User').first().json.id }}\"},{\"id\":\"2059b147-8b12-42c9-bee8-488dc11a0bf7\",\"name\":\"userName\",\"type\":\"string\",\"value\":\"={{ $('Get User').first().json.name }}\"},{\"id\":\"34440ea6-ee99-4cd4-9e1c-cf561d335180\",\"name\":\"type\",\"type\":\"string\",\"value\":\"={{ $json.type }}\"},{\"id\":\"ff1155c5-43e1-4e0e-82a8-9e013a7f1db1\",\"name\":\"text\",\"type\":\"string\",\"value\":\"={{ $json.text.replace(/(<@[^>]+>)/ig, '').trim() }}\"}]}},\"typeVersion\":3.4},{\"id\":\"1293a7cf-1467-432f-b7ed-606146618808\",\"name\":\"Group By User\",\"type\":\"n8n-nodes-base.code\",\"position\":[-2000,-160],\"parameters\":{\"jsCode\":\"const keyByUser = $input.all()\\n  .map(item => item.json)\\n  .reduce((acc, message) => {\\n    return {\\n      ...acc,\\n      [message.user]: Array.isArray(acc[message.user])\\n        ?  acc[message.user].concat(message)\\n        : [message]\\n    }\\n  }, {});\\n\\nreturn {\\n  data: Object\\n    .keys(keyByUser)\\n    .map(key => keyByUser[key])\\n};\"},\"typeVersion\":2},{\"id\":\"681a2368-9688-4ebd-bb88-f48c7ccb3e54\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-1800,-160],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"38a5e6b0-ba4a-4aaa-93f2-ec2a73e5e1af\",\"name\":\"Messages to Items\",\"type\":\"n8n-nodes-base.code\",\"position\":[-1540,380],\"parameters\":{\"jsCode\":\"return Object.values($('Switch').first().json.data)\"},\"typeVersion\":2},{\"id\":\"066e40ef-91d7-4db0-95bb-2027c9251a23\",\"name\":\"Get User\",\"type\":\"n8n-nodes-base.slack\",\"position\":[-1760,380],\"webhookId\":\"042e9c13-5038-433a-98dc-8b6d83c015de\",\"parameters\":{\"user\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.data['0'].user }}\"},\"resource\":\"user\"},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"c5d0b4d1-94eb-4e14-9985-85d384d6d96f\",\"name\":\"Aggregate\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[-1100,380],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"destinationFieldName\":\"messages\"},\"typeVersion\":1},{\"id\":\"47537a27-90d9-4edc-b9f4-66205bc4a4c2\",\"name\":\"Split Out1\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-1760,780],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data.messages\"},\"typeVersion\":1},{\"id\":\"6fdd0fc0-c563-46a3-afb2-48853d3e6cef\",\"name\":\"Get Thread\",\"type\":\"n8n-nodes-base.slack\",\"position\":[-1100,780],\"webhookId\":\"c3ef27dc-2648-4f91-b329-89a7fa833797\",\"parameters\":{\"ts\":\"={{ $json.ts }}\",\"filters\":{},\"resource\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C06RS1WPUQ6\",\"cachedResultName\":\"general\"},\"operation\":\"replies\"},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"0fc6664f-9076-4525-acaa-0f5009de2611\",\"name\":\"Aggregate1\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[-440,860],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"destinationFieldName\":\"replies\"},\"typeVersion\":1},{\"id\":\"caf963e5-3d5b-42d8-88ce-1fb5bf03a528\",\"name\":\"Simplify Thread Comments\",\"type\":\"n8n-nodes-base.set\",\"position\":[-660,780],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"82bc8cbe-c606-4717-b29d-2d8acc149271\",\"name\":\"ts\",\"type\":\"string\",\"value\":\"={{ $json.ts }}\"},{\"id\":\"8fcc957d-aa9f-47df-99e8-560228fde30f\",\"name\":\"userId\",\"type\":\"string\",\"value\":\"={{ $json.user }}\"},{\"id\":\"e6c6deb3-c3ba-4452-be7c-1a0c42c5dc2c\",\"name\":\"userName\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"31d1206d-ecbd-48d3-a00a-845fd53d1cfa\",\"name\":\"type\",\"type\":\"string\",\"value\":\"={{ $json.type }}\"},{\"id\":\"da126e6c-8dfc-41aa-991a-231b3cb3004b\",\"name\":\"text\",\"type\":\"string\",\"value\":\"={{ $json.text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"aab0ae1c-50da-49e5-a373-c32b39108041\",\"name\":\"Filter\",\"type\":\"n8n-nodes-base.filter\",\"position\":[-880,780],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"a6d43072-380e-40f2-985b-faeffdaffdce\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $('Split Out1').item.json.ts }}\",\"rightValue\":\"={{ $json.ts }}\"}]}},\"typeVersion\":2.2,\"alwaysOutputData\":true},{\"id\":\"35cdb470-a9eb-4544-999c-5360dda0f1a3\",\"name\":\"Message Ref\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[-1320,780],\"parameters\":{},\"typeVersion\":1},{\"id\":\"95500787-7965-4951-a729-615feb636021\",\"name\":\"Split Out2\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-1320,1080],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"replyUsers\"},\"typeVersion\":1},{\"id\":\"250d61cc-120d-4c0c-8220-f9a68a90b667\",\"name\":\"Map Reply UserIds\",\"type\":\"n8n-nodes-base.set\",\"position\":[-1760,1160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"dda6e3d8-0097-4621-9619-07cf39e93018\",\"name\":\"replyUsers\",\"type\":\"array\",\"value\":\"={{\\n$json.data.messages\\n  .flatMap(item => item.replies.flatMap(reply => reply.userId))\\n  .compact()\\n  .unique()\\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"3358736b-fc6e-4e18-9a58-4ffc59308055\",\"name\":\"Get Reply Users\",\"type\":\"n8n-nodes-base.slack\",\"position\":[-1100,1080],\"webhookId\":\"c9ad7c7e-2c48-4c24-9255-e04ab26252ab\",\"parameters\":{\"user\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.replyUsers }}\"},\"resource\":\"user\"},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"e98acd0f-f1e3-47f4-ae9c-7259462cf231\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[-120,1380],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"0ffb9b87-43db-4417-8c37-384a33cbb830\",\"name\":\"Summarise Threads\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[-220,1160],\"parameters\":{\"text\":\"=## Message\\n{{ $json.userName }} (<@{{ $json.userId }}>) says at {{ new DateTime(parseFloat($json.ts)*1000).format('d MMM HH:mma') }}:\\n> {{ $json.text }}\\n\\n## {{ ($json.replies ?? []).compact().length }} Replies\\n{{\\n($json.replies ?? [])\\n  .compact()\\n    .map(reply => ({\\n      ...reply,\\n      userName: $('Reply Users').item.json.data\\n        .find(user => user.id === reply.userId)?.name\\n    }))\\n    .map(reply =>\\n      `* ${new DateTime(parseFloat($json.ts)*1000).format('d MMM HH:mma')}, ${reply.userName} (<@${reply.userId}>) replies: ${reply.text}`\\n)\\n    .join('\\\\n')\\n  \\n}}\",\"messages\":{\"messageValues\":[{\"message\":\"=Summarize the topic of the slack message and the resulting conversation from the replies (if any). Highlight any achievements, accomplishments, attempts or challenges mentioned.\"}]},\"promptType\":\"define\"},\"typeVersion\":1.6},{\"id\":\"678a48ec-acb1-4c42-b8c9-d4cd762e4a2a\",\"name\":\"Aggregate2\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[160,1160],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"ab39b117-e1bd-495f-a92d-fb79973b3601\",\"name\":\"Aggregate Reply Users\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[-880,1080],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"c71b7ca6-8245-4262-b2f1-abea511390d6\",\"name\":\"Reply Users\",\"type\":\"n8n-nodes-base.set\",\"position\":[-660,1160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"9f721cde-2d36-40ee-b7d8-a920695157a9\",\"name\":\"data\",\"type\":\"array\",\"value\":\"={{ $json.data ?? [] }}\"}]}},\"typeVersion\":3.4},{\"id\":\"4b2c452b-4e68-4536-aa58-a85fd586c606\",\"name\":\"Google Gemini Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[-460,0],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"d65b4f27-52ab-4c29-8692-ee2835fddd17\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-1540,780],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"cfb55c7f-a89d-4ce4-8709-31e5e119c6ee\",\"name\":\"Aggregate3\",\"type\":\"n8n-nodes-base.set\",\"position\":[-1320,580],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={{\\n{\\n  ...$('Split Out1').item.json,\\n  replies: $json.replies.filter(reply => reply.ts)\\n}\\n}}\\n\"},\"typeVersion\":3.4},{\"id\":\"8b70e30c-99d5-4086-85aa-e6cfcc7f14e7\",\"name\":\"Aggregate4\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[-1100,580],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"1cef5853-d301-49cb-9f58-c1a9128b8b33\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[-2200,780],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"action\"},{\"name\":\"data\",\"type\":\"object\"}]}},\"typeVersion\":1.1},{\"id\":\"b30c2433-3bfe-480f-a4bd-8c41900802a2\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[-1980,780],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"users\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"fa924990-9f6e-40c4-aaec-50d4f5927414\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.action }}\",\"rightValue\":\"users\"}]},\"renameOutput\":true},{\"outputKey\":\"message_replies\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"26ce01b2-9e5b-43e8-926d-9d726c9ca74d\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.action }}\",\"rightValue\":\"message_replies\"}]},\"renameOutput\":true},{\"outputKey\":\"message_summarize\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"45fd7264-6ac3-4bbd-8a91-c4cfb33b4545\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.action }}\",\"rightValue\":\"message_summarize\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"b05735c3-4beb-4a80-8297-85e952e81270\",\"name\":\"Map Users to Messages\",\"type\":\"n8n-nodes-base.executeWorkflow\",\"position\":[-1520,-160],\"parameters\":{\"mode\":\"each\",\"options\":{},\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"workflowInputs\":{\"value\":{\"data\":\"={{ $json }}\",\"action\":\"users\"},\"schema\":[{\"id\":\"action\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"action\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"data\",\"type\":\"object\",\"display\":true,\"required\":false,\"displayName\":\"data\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":true}},\"typeVersion\":1.2},{\"id\":\"28ed52b2-b0c3-4f19-b394-347c8ff9e323\",\"name\":\"Get User Info\",\"type\":\"n8n-nodes-base.set\",\"position\":[-880,380],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"17344879-1e10-4738-8db0-6e0daddea920\",\"name\":\"user\",\"type\":\"object\",\"value\":\"={{\\n{\\n  id: $('Get User').item.json.id,\\n  team_id: $('Get User').item.json.team_id,\\n  name: $('Get User').item.json.name,\\n  is_bot: $('Get User').item.json.is_bot\\n}\\n}}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"bbd7c77e-2405-4e63-ae38-f064beafab9c\",\"name\":\"Fetch Message Replies\",\"type\":\"n8n-nodes-base.executeWorkflow\",\"position\":[-1300,-160],\"parameters\":{\"mode\":\"each\",\"options\":{},\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"workflowInputs\":{\"value\":{\"data\":\"={{ $json }}\",\"action\":\"message_replies\"},\"schema\":[{\"id\":\"action\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"action\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"data\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"data\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":true}},\"typeVersion\":1.2},{\"id\":\"edf34e72-04b4-4fed-a3af-42dec1c7ed17\",\"name\":\"Has ReplyUsers?\",\"type\":\"n8n-nodes-base.if\",\"position\":[-1540,1160],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"813d9fea-9de0-4151-aa45-d38a42f808b8\",\"operator\":{\"type\":\"array\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.replyUsers }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"dc9c6cf0-c627-4311-9160-62204e9b67e0\",\"name\":\"Messages to Items1\",\"type\":\"n8n-nodes-base.code\",\"position\":[-440,1160],\"parameters\":{\"jsCode\":\"return $('Switch').first().json.data.messages\"},\"typeVersion\":2},{\"id\":\"0b830a49-c77e-41f3-8d70-47a26bfe0a0e\",\"name\":\"Aggregate Results\",\"type\":\"n8n-nodes-base.set\",\"position\":[-760,-160],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={{\\n{\\n  ...$('Map Users to Messages').item.json,\\n  messages: $('Fetch Message Replies').item.json.data\\n  .map((message,idx) => ({\\n    ...message,\\n    summary: $json.data[idx].text,\\n  }))\\n}\\n}}\"},\"typeVersion\":3.4},{\"id\":\"b0c66c7f-0fed-465c-8933-7b803c9b3b64\",\"name\":\"Team Member Weekly Report Agent\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[-560,-160],\"parameters\":{\"text\":\"={{\\n$json.messages\\n  .map((message,idx) =>\\n    `${message.userName} (<@${message.userId}>) posted on ${new Date(parseFloat(message.ts) * 1000).format('d MMM')}:\\\\n> \\\\\\\"${message.text}\\\\\\\".\\\\nThe summary of this thread is as follows:\\\\n${message.summary.replaceAll('\\\\n', ' ')}`\\n  )\\n  .join('\\\\n---\\\\n')\\n}}\",\"messages\":{\"messageValues\":[{\"message\":\"=Your are energetic assistant who produces weekly mini-reports on team members by analysing their slack messages from last week and posts these reports on the following Monday.\\nThere has already been some work done to collect and summarise each thread made by the user within the last week.\\nYour task is to summarize all the threads by this user and any interactions with other users involved and produce a mini report to share with other team members.\\nFocus on wins and challenges.\\nAim to motivate and call out any outstanding concerns where appropriate.\\nWelcome any new team members who may have joined and say good bye to those who may have left.\"}]},\"promptType\":\"define\"},\"typeVersion\":1.6},{\"id\":\"e4a487ae-8d71-4fe6-a760-7a0fb95a8fac\",\"name\":\"Merge with Results\",\"type\":\"n8n-nodes-base.set\",\"position\":[-60,-160],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={{\\n{\\n  ...$('Aggregate Results').item.json,\\n  report: $json.text,\\n}\\n}}\"},\"typeVersion\":3.4},{\"id\":\"06736a5c-7450-406a-ad3a-08a368d1addf\",\"name\":\"Team Weekly Report Agent\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[160,-160],\"parameters\":{\"text\":\"={{\\n$input.all()\\n  .map(item => item.json)\\n  .map(item =>\\n`user: ${item.user.name} <@${item.user.id}>\\nmessage count: ${item.messages.length}\\nreport: ${item.report.replaceAll('\\\\n', ' ')}`\\n  ).join('\\\\n---\\\\n')\\n}}\",\"messages\":{\"messageValues\":[{\"message\":\"=Your are energetic assistant who produces a team-wide weekly report from all activity of all team members in the prior last week and posts this single report on the following Monday.\\nThere has already been some work done to collect individual reports from team members.\\nYour task is generate a report covering the team to prepare and motivate them for the upcoming week.\\nFocus on wins and challenges if available.\\nLook out for similar activities between members and make a connection if possible.\\nAim to motivate and call out any outstanding concerns where appropriate.\\nWelcome any new team members who may have joined and say good bye to those who may have left.\"}]},\"promptType\":\"define\"},\"executeOnce\":true,\"typeVersion\":1.6},{\"id\":\"eef36957-9bf0-4be3-95a8-73bbefdc0c85\",\"name\":\"Google Gemini Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[240,0],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"bfa5c99f-cd8f-4d34-9e6d-9ed476c87d22\",\"name\":\"Post Report in Team Channel\",\"type\":\"n8n-nodes-base.slack\",\"position\":[820,-160],\"webhookId\":\"3613b3ca-fc98-427f-8903-a5996ff7552e\",\"parameters\":{\"text\":\"={{ $json.text }}\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C06RS1WPUQ6\",\"cachedResultName\":\"general\"},\"otherOptions\":{}},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"b9a11c72-de41-4a45-85a0-672cf54ef152\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2460,-440],\"parameters\":{\"color\":7,\"width\":820,\"height\":520,\"content\":\"## 1. Fetch All Activity from Last Week\\n[Learn more about the Slack node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack)\\n\\nWe'll start by fetching all activity in our team channel over the last 7 days and group them  by the message author. We can do this using the Slack node with a DateTime filter. This will give us the raw data to pick apart and analyse for reporting purposes.\"},\"typeVersion\":1},{\"id\":\"8afc048f-ce06-46c3-916f-cbcf14bcfe2b\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1620,-440],\"parameters\":{\"color\":7,\"width\":760,\"height\":520,\"content\":\"## 2. Summarise Messages Threads & Conversations\\n[Learn more about the Execute Workflow node](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflow)\\n\\nWe'll do some more data mining by fetching all replies for each of these top level channel messages. By doing so, we get the full context of the conversation and can hopefully pick up some decisions, discoveries or concerns to add to our report. This data mining does require juggling a lot of \\\"items\\\" which becomes hard to manage so we'll use subworkflows to simplify this work.\\n\\nOnce the data mining is complete, we can summarize each thread with AI and ensure we're capturing only the significant events which are report-worthy.\"},\"typeVersion\":1},{\"id\":\"c9a7358c-fbe7-435a-b435-d7b07599bdc6\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-840,-440],\"parameters\":{\"color\":7,\"width\":660,\"height\":620,\"content\":\"## 3. Generate Activity Reports for Each Team Member\\n[Learn more about the Basic LLM node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\nWith our summarized threads which are grouped per user, we can aggregate them and give them to the AI again to generate a weekly report for the team member. This could include their wins, challenges, learnings or decisions - it really is up to you as to what the report looks like.\\n\\nA fun part of this output is getting to decide the tone of voice and delivery of the report. Don't be a bore and consider adding some personality and flair!\"},\"typeVersion\":1},{\"id\":\"add32ef0-b515-44e6-a234-0a0fa77f4e84\",\"name\":\"Summarize Message Threads\",\"type\":\"n8n-nodes-base.executeWorkflow\",\"position\":[-1080,-160],\"parameters\":{\"mode\":\"each\",\"options\":{},\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"workflowInputs\":{\"value\":{\"data\":\"={{\\n{\\n  ...$('Map Users to Messages').item.json,\\n  messages: $json.data\\n}\\n}}\",\"action\":\"message_summarize\"},\"schema\":[{\"id\":\"action\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"action\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"data\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"data\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":true}},\"typeVersion\":1.2},{\"id\":\"17f2f45e-2c95-4b3c-b6db-a2881ae88964\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-160,-440],\"parameters\":{\"color\":7,\"width\":680,\"height\":620,\"content\":\"## 4. Generate Final Report for Whole Team\\n[Learn more about the Basic LLM node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\nIn this step, we go one level higher and aggregate all individual team member reports together into a big team report. In this way, the overview can group similar activities and generalise activities in a broader sense. The message output will also be shorter which some may find easier to digest.\"},\"typeVersion\":1},{\"id\":\"18cc7fa7-603c-4165-97c6-80d72fd4a9a6\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[540,-440],\"parameters\":{\"color\":7,\"width\":680,\"height\":620,\"content\":\"## 5. Post Report on Team Channel (on Monday Morning!)\\n[Learn more about the Slack node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack)\\n\\nFinally, we can post the weekly report in the team channel. This is a great way to automate quick recaps for the team after the weekend break, get others back on track if they've been away or update client team who may pop in now and again to collaborate.\"},\"typeVersion\":1},{\"id\":\"9cd8bdd6-5fc7-4e44-bcd0-058bc5d11335\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2460,360],\"parameters\":{\"color\":7,\"width\":560,\"height\":340,\"content\":\"## 5. SubWorkflows\\n[Read more about Execute Workflow Trigger](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflowtrigger)\\n\\nIncorporating Subworkflows into your main workflow is an advanced technique and sometimes necessary if you're working with a lot of nested items or loops.\\n\\nIn this scenario, we perform quite a few lookups to get the data we need; users, messages and replies, which in template terms would require many loop nodes to string together. However, when you nest loops nodes within loop nodes, item reference becomes difficult to keep track of.\\n\\nUsing subworkflows, we can break down each loop into a separate execution which handles items and item references in a simpler, linear way. The result is predictable data flow throughout our template. \"},\"typeVersion\":1},{\"id\":\"6f6fc730-5fc8-4dcc-b86d-e3b2f0e792a0\",\"name\":\"Monday @ 6am\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-2400,-160],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"cronExpression\",\"expression\":\"0 6 * * 1\"}]}},\"typeVersion\":1.2},{\"id\":\"ab94557c-debb-425c-ac83-62e39e43d28b\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2940,-1380],\"parameters\":{\"width\":420,\"height\":1460,\"content\":\"## Try It Out!\\n### This n8n template lets you summarize individual team member activity on slack for the past week and generates a report.\\n\\nFor remote teams, chat is a crucial communication tool to ensure work gets done but with so many conversations happening at once and in multiple threads, ideas, information and decisions usually live in the moment and get lost just as quickly - and all together forgotten by the weekend!\\n\\nUsing this template, this doesn't have to be the case. Have AI crawl through last week's activity, summarize all threads and generate a casual and snappy report to bring the team back into focus for the current week. A project manager's dream!\\n\\n### How it works\\n* A scheduled trigger is set to run every Monday at 6am to gather all team channel messages within the last week.\\n* Each message thread are grouped by user and data mined for replies.\\n* Combined, an AI analyses the raw messages to pull out interesting observations and highlights.\\n* The summarized threads of the user are then combined together and passed to another AI agent to generate a higher level overview of their week. These are referred to as the individual reports.\\n* Next, all individual reports are summarized together into a team weekly report. This allows understanding of group and similar activities.\\n* Finally, the team weekly report is posted back to the channel. The timing is important as it should be the first message of the week and ready for the team to glance over coffee.\\n\\n### How to use\\n* Ideally works best per project and where most of the comms happens on a single channel. Avoid combining channels and instead duplicate this workflow for more channels.\\n* You may need to filter for specific team members if you want specific team updates.\\n* Customise the report to suit your organisation, team or the channel. You may prefer to be more formal if clients or external stakeholders are also present.\\n\\n### Requirements\\n* Slack for chat platform\\n* Gemini for LLM\\n\\n### Customising this workflow\\n* If the slack channel is busy enough already, consider posting the final report to email.\\n* Pull in project metrics to include in your report. As extra context, it may be interesting to tie the messages to production performance.\\n* Use an AI Agent to query for knowledgebase or tickets relevant to the messages. This may be useful for attaching links or references to add context.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\\n\\nHappy Hacking!\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Filter\":{\"main\":[[{\"node\":\"Simplify Thread Comments\",\"type\":\"main\",\"index\":0}]]},\"Switch\":{\"main\":[[{\"node\":\"Get User\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Split Out1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Map Reply UserIds\",\"type\":\"main\",\"index\":0}]]},\"Get User\":{\"main\":[[{\"node\":\"Messages to Items\",\"type\":\"main\",\"index\":0}]]},\"Aggregate\":{\"main\":[[{\"node\":\"Get User Info\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Map Users to Messages\",\"type\":\"main\",\"index\":0}]]},\"Aggregate1\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Aggregate2\":{\"main\":[[]]},\"Aggregate3\":{\"main\":[[{\"node\":\"Aggregate4\",\"type\":\"main\",\"index\":0}]]},\"Aggregate4\":{\"main\":[[]]},\"Get Thread\":{\"main\":[[{\"node\":\"Filter\",\"type\":\"main\",\"index\":0}]]},\"Split Out1\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Split Out2\":{\"main\":[[{\"node\":\"Get Reply Users\",\"type\":\"main\",\"index\":0}]]},\"Message Ref\":{\"main\":[[{\"node\":\"Get Thread\",\"type\":\"main\",\"index\":0}]]},\"Reply Users\":{\"main\":[[{\"node\":\"Messages to Items1\",\"type\":\"main\",\"index\":0}]]},\"Monday @ 6am\":{\"main\":[[{\"node\":\"Get Last Week's Messages\",\"type\":\"main\",\"index\":0}]]},\"Group By User\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"Get Reply Users\":{\"main\":[[{\"node\":\"Aggregate Reply Users\",\"type\":\"main\",\"index\":0}]]},\"Has ReplyUsers?\":{\"main\":[[{\"node\":\"Split Out2\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Reply Users\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[{\"node\":\"Aggregate3\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Message Ref\",\"type\":\"main\",\"index\":0}]]},\"Simplify Message\":{\"main\":[[{\"node\":\"Aggregate\",\"type\":\"main\",\"index\":0}]]},\"Aggregate Results\":{\"main\":[[{\"node\":\"Team Member Weekly Report Agent\",\"type\":\"main\",\"index\":0}]]},\"Map Reply UserIds\":{\"main\":[[{\"node\":\"Has ReplyUsers?\",\"type\":\"main\",\"index\":0}]]},\"Messages to Items\":{\"main\":[[{\"node\":\"Simplify Message\",\"type\":\"main\",\"index\":0}]]},\"Summarise Threads\":{\"main\":[[{\"node\":\"Aggregate2\",\"type\":\"main\",\"index\":0}]]},\"Merge with Results\":{\"main\":[[{\"node\":\"Team Weekly Report Agent\",\"type\":\"main\",\"index\":0}]]},\"Messages to Items1\":{\"main\":[[{\"node\":\"Summarise Threads\",\"type\":\"main\",\"index\":0}]]},\"Aggregate Reply Users\":{\"main\":[[{\"node\":\"Reply Users\",\"type\":\"main\",\"index\":0}]]},\"Fetch Message Replies\":{\"main\":[[{\"node\":\"Summarize Message Threads\",\"type\":\"main\",\"index\":0}]]},\"Map Users to Messages\":{\"main\":[[{\"node\":\"Fetch Message Replies\",\"type\":\"main\",\"index\":0}]]},\"Get Last Week's Messages\":{\"main\":[[{\"node\":\"Group By User\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Summarise Threads\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Simplify Thread Comments\":{\"main\":[[{\"node\":\"Aggregate1\",\"type\":\"main\",\"index\":0}]]},\"Team Weekly Report Agent\":{\"main\":[[{\"node\":\"Post Report in Team Channel\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Team Member Weekly Report Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Google Gemini Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Team Weekly Report Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Summarize Message Threads\":{\"main\":[[{\"node\":\"Aggregate Results\",\"type\":\"main\",\"index\":0}]]},\"Team Member Weekly Report Agent\":{\"main\":[[{\"node\":\"Merge with Results\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### This n8n template lets you summarize team member activity on Slack for the past week and generates a report.\n\nFor remote teams, chat is a crucial communication tool to ensure work gets done but with so many conversations happening at once and in multiple threads, ideas, information and decisions usually live in the moment and get lost just as quickly - and all together forgotten by the weekend!\n\nUsing this template, this doesn't have to be the case. Have AI crawl through last week's activity, summarize all threads and generate a casual and snappy report to bring the team back into focus for the current week. A project manager's dream!\n\n### How it works\n\n  * A scheduled trigger is set to run every Monday at 6am to gather all team channel messages within the last week.\n  * Each message thread are grouped by user and data mined for replies.\n  * Combined, an AI analyses the raw messages to pull out interesting observations and highlights.\n  * The summarized threads of the user are then combined together and passed to another AI agent to generate a higher level overview of their week. These are referred to as the individual reports.\n  * Next, all individual reports are summarized together into a team weekly report. This allows understanding of group and similar activities.\n  * Finally, the team weekly report is posted back to the channel. The timing is important as it should be the first message of the week and ready for the team to glance over coffee.\n\n\n\n### How to use\n\n  * Ideally works best per project and where most of the comms happens on a single channel. Avoid combining channels and instead duplicate this workflow for more channels.\n  * You may need to filter for specific team members if you want specific team updates.\n  * Customise the report to suit your organisation, team or the channel. You may prefer to be more formal if clients or external stakeholders are also present.\n\n\n\n### Requirements\n\n  * Slack for chat platform\n  * Gemini for LLM (or switch for other models)\n\n\n\n### Customising this workflow\n\n  * If the slack channel is busy enough already, consider posting the final report to email.\n  * Pull in project metrics to include in your report. As extra context, it may be interesting to tie the messages to production performance.\n  * Use an AI Agent to query for knowledgebase or tickets relevant to the messages. This may be useful for attaching links or references to add context.\n  * Channel not so busy or way too busy for 1 week? Play with the scheduled trigger and set an interval which works for your team.\n\n\n",
  "readme_html": "<!--[--><div data-v-859c7806=\"\"><h3>This n8n template lets you summarize team member activity on Slack for the past week and generates a report.</h3>\n<p>For remote teams, chat is a crucial communication tool to ensure work gets done but with so many conversations happening at once and in multiple threads, ideas, information and decisions usually live in the moment and get lost just as quickly - and all together forgotten by the weekend!</p>\n<p>Using this template, this doesn't have to be the case. Have AI crawl through last week's activity, summarize all threads and generate a casual and snappy report to bring the team back into focus for the current week. A project manager's dream!</p>\n<h3>How it works</h3>\n<ul>\n<li>A scheduled trigger is set to run every Monday at 6am to gather all team channel messages within the last week.</li>\n<li>Each message thread are grouped by user and data mined for replies.</li>\n<li>Combined, an AI analyses the raw messages to pull out interesting observations and highlights.</li>\n<li>The summarized threads of the user are then combined together and passed to another AI agent to generate a higher level overview of their week. These are referred to as the individual reports.</li>\n<li>Next, all individual reports are summarized together into a team weekly report. This allows understanding of group and similar activities.</li>\n<li>Finally, the team weekly report is posted back to the channel. The timing is important as it should be the first message of the week and ready for the team to glance over coffee.</li>\n</ul>\n<h3>How to use</h3>\n<ul>\n<li>Ideally works best per project and where most of the comms happens on a single channel. Avoid combining channels and instead duplicate this workflow for more channels.</li>\n<li>You may need to filter for specific team members if you want specific team updates.</li>\n<li>Customise the report to suit your organisation, team or the channel. You may prefer to be more formal if clients or external stakeholders are also present.</li>\n</ul>\n<h3>Requirements</h3>\n<ul>\n<li>Slack for chat platform</li>\n<li>Gemini for LLM (or switch for other models)</li>\n</ul>\n<h3>Customising this workflow</h3>\n<ul>\n<li>If the slack channel is busy enough already, consider posting the final report to email.</li>\n<li>Pull in project metrics to include in your report. As extra context, it may be interesting to tie the messages to production performance.</li>\n<li>Use an AI Agent to query for knowledgebase or tickets relevant to the messages. This may be useful for attaching links or references to add context.</li>\n<li>Channel not so busy or way too busy for 1 week? Play with the scheduled trigger and set an interval which works for your team.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### 该n8n模板可汇总团队成员过去一周在Slack上的活动并生成报告\n\n对于远程团队而言，聊天工具是确保工作推进的重要沟通方式。但当大量对话同时发生在多个线程中时，观点、信息和决策往往转瞬即逝——等到周末就彻底被遗忘了！\n\n使用本模板即可解决这一问题。通过AI抓取上周活动记录，汇总所有讨论线程，生成一份轻松活泼的周报，帮助团队快速聚焦当周工作。简直是项目经理的梦想工具！\n\n### 运作原理\n• 每周一早上6点定时触发，自动采集过去七天团队频道所有消息  \n• 按用户分组消息线程并挖掘回复数据  \n• AI综合分析原始消息，提取关键观察点和亮点  \n• 将用户线程汇总后交由另一个AI生成个人周度总结（即个人报告）  \n• 整合所有个人报告形成团队周报，呈现群体协作动态  \n• 最终将团队周报发布回频道。发布时间至关重要，应作为当周首条消息方便成员晨间浏览  \n\n### 使用指南\n• 最适合单一项目频道（主要沟通集中在一个频道时效果最佳）  \n• 需为不同频道复制本工作流，避免跨频道混合  \n• 可筛选特定成员生成定制化团队更新  \n• 根据组织/团队/频道特性调整报告风格（如有客户等外部成员可调整为正式语气）  \n\n### 系统要求\n• 聊天平台：Slack  \n• 大语言模型：Gemini（可替换为其他模型）  \n\n### 定制建议\n• 若Slack频道过于活跃，可改为邮件发送最终报告  \n• 关联项目指标数据（将消息与生产绩效挂钩可增加洞察维度）  \n• 调用AI代理查询知识库或相关工单（附加链接或参考资料以补充背景）  \n• 根据频道活跃度调整触发周期（不活跃/超活跃频道可更改周期间隔）",
  "title_zh": "利用AI总结Slack频道活动以生成周报",
  "publish_date_zh": "最后一次更新于一天前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"f4322829-1799-4954-a75a-b40e95f41c10\",\n      \"name\": \"Get Last Week's Messages\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        -2200,\n        -160\n      ],\n      \"webhookId\": \"8078218a-7edc-4e0b-9b4d-9860bd309877\",\n      \"parameters\": {\n        \"filters\": {\n          \"oldest\": \"={{ $now.minus('1', 'week') }}\",\n          \"inclusive\": false\n        },\n        \"resource\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C06RS1WPUQ6\",\n          \"cachedResultName\": \"general\"\n        },\n        \"operation\": \"history\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"f0e89c19-ee1f-4a4d-8176-c222c18e0514\",\n      \"name\": \"Simplify Message\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1320,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"547e8934-e6f2-47f0-b8a0-c60bd9d8a0c3\",\n              \"name\": \"ts\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.ts }}\"\n            },\n            {\n              \"id\": \"22473b44-b1d9-4b85-b0d9-1a54c5511ff4\",\n              \"name\": \"userId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Get User').first().json.id }}\"\n            },\n            {\n              \"id\": \"2059b147-8b12-42c9-bee8-488dc11a0bf7\",\n              \"name\": \"userName\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Get User').first().json.name }}\"\n            },\n            {\n              \"id\": \"34440ea6-ee99-4cd4-9e1c-cf561d335180\",\n              \"name\": \"type\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.type }}\"\n            },\n            {\n              \"id\": \"ff1155c5-43e1-4e0e-82a8-9e013a7f1db1\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text.replace(/(<@[^>]+>)/ig, '').trim() }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"1293a7cf-1467-432f-b7ed-606146618808\",\n      \"name\": \"Group By User\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -2000,\n        -160\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const keyByUser = $input.all()\\n  .map(item => item.json)\\n  .reduce((acc, message) => {\\n    return {\\n      ...acc,\\n      [message.user]: Array.isArray(acc[message.user])\\n        ?  acc[message.user].concat(message)\\n        : [message]\\n    }\\n  }, {});\\n\\nreturn {\\n  data: Object\\n    .keys(keyByUser)\\n    .map(key => keyByUser[key])\\n};\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"681a2368-9688-4ebd-bb88-f48c7ccb3e54\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -1800,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"38a5e6b0-ba4a-4aaa-93f2-ec2a73e5e1af\",\n      \"name\": \"Messages to Items\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -1540,\n        380\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return Object.values($('Switch').first().json.data)\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"066e40ef-91d7-4db0-95bb-2027c9251a23\",\n      \"name\": \"Get User\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        -1760,\n        380\n      ],\n      \"webhookId\": \"042e9c13-5038-433a-98dc-8b6d83c015de\",\n      \"parameters\": {\n        \"user\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.data['0'].user }}\"\n        },\n        \"resource\": \"user\"\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"c5d0b4d1-94eb-4e14-9985-85d384d6d96f\",\n      \"name\": \"Aggregate\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        -1100,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"destinationFieldName\": \"messages\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"47537a27-90d9-4edc-b9f4-66205bc4a4c2\",\n      \"name\": \"Split Out1\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -1760,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data.messages\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6fdd0fc0-c563-46a3-afb2-48853d3e6cef\",\n      \"name\": \"Get Thread\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        -1100,\n        780\n      ],\n      \"webhookId\": \"c3ef27dc-2648-4f91-b329-89a7fa833797\",\n      \"parameters\": {\n        \"ts\": \"={{ $json.ts }}\",\n        \"filters\": {},\n        \"resource\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C06RS1WPUQ6\",\n          \"cachedResultName\": \"general\"\n        },\n        \"operation\": \"replies\"\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"0fc6664f-9076-4525-acaa-0f5009de2611\",\n      \"name\": \"Aggregate1\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        -440,\n        860\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"destinationFieldName\": \"replies\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"caf963e5-3d5b-42d8-88ce-1fb5bf03a528\",\n      \"name\": \"Simplify Thread Comments\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -660,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"82bc8cbe-c606-4717-b29d-2d8acc149271\",\n              \"name\": \"ts\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.ts }}\"\n            },\n            {\n              \"id\": \"8fcc957d-aa9f-47df-99e8-560228fde30f\",\n              \"name\": \"userId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.user }}\"\n            },\n            {\n              \"id\": \"e6c6deb3-c3ba-4452-be7c-1a0c42c5dc2c\",\n              \"name\": \"userName\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"31d1206d-ecbd-48d3-a00a-845fd53d1cfa\",\n              \"name\": \"type\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.type }}\"\n            },\n            {\n              \"id\": \"da126e6c-8dfc-41aa-991a-231b3cb3004b\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"aab0ae1c-50da-49e5-a373-c32b39108041\",\n      \"name\": \"Filter\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        -880,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a6d43072-380e-40f2-985b-faeffdaffdce\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $('Split Out1').item.json.ts }}\",\n              \"rightValue\": \"={{ $json.ts }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"35cdb470-a9eb-4544-999c-5360dda0f1a3\",\n      \"name\": \"Message Ref\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        -1320,\n        780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"95500787-7965-4951-a729-615feb636021\",\n      \"name\": \"Split Out2\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -1320,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"replyUsers\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"250d61cc-120d-4c0c-8220-f9a68a90b667\",\n      \"name\": \"Map Reply UserIds\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1760,\n        1160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"dda6e3d8-0097-4621-9619-07cf39e93018\",\n              \"name\": \"replyUsers\",\n              \"type\": \"array\",\n              \"value\": \"={{\\n$json.data.messages\\n  .flatMap(item => item.replies.flatMap(reply => reply.userId))\\n  .compact()\\n  .unique()\\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"3358736b-fc6e-4e18-9a58-4ffc59308055\",\n      \"name\": \"Get Reply Users\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        -1100,\n        1080\n      ],\n      \"webhookId\": \"c9ad7c7e-2c48-4c24-9255-e04ab26252ab\",\n      \"parameters\": {\n        \"user\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.replyUsers }}\"\n        },\n        \"resource\": \"user\"\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"e98acd0f-f1e3-47f4-ae9c-7259462cf231\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        -120,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0ffb9b87-43db-4417-8c37-384a33cbb830\",\n      \"name\": \"Summarise Threads\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        -220,\n        1160\n      ],\n      \"parameters\": {\n        \"text\": \"=## Message\\n{{ $json.userName }} (<@{{ $json.userId }}>) says at {{ new DateTime(parseFloat($json.ts)*1000).format('d MMM HH:mma') }}:\\n> {{ $json.text }}\\n\\n## {{ ($json.replies ?? []).compact().length }} Replies\\n{{\\n($json.replies ?? [])\\n  .compact()\\n    .map(reply => ({\\n      ...reply,\\n      userName: $('Reply Users').item.json.data\\n        .find(user => user.id === reply.userId)?.name\\n    }))\\n    .map(reply =>\\n      `* ${new DateTime(parseFloat($json.ts)*1000).format('d MMM HH:mma')}, ${reply.userName} (<@${reply.userId}>) replies: ${reply.text}`\\n)\\n    .join('\\\\n')\\n  \\n}}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=Summarize the topic of the slack message and the resulting conversation from the replies (if any). Highlight any achievements, accomplishments, attempts or challenges mentioned.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"678a48ec-acb1-4c42-b8c9-d4cd762e4a2a\",\n      \"name\": \"Aggregate2\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        160,\n        1160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ab39b117-e1bd-495f-a92d-fb79973b3601\",\n      \"name\": \"Aggregate Reply Users\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        -880,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c71b7ca6-8245-4262-b2f1-abea511390d6\",\n      \"name\": \"Reply Users\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -660,\n        1160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"9f721cde-2d36-40ee-b7d8-a920695157a9\",\n              \"name\": \"data\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.data ?? [] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4b2c452b-4e68-4536-aa58-a85fd586c606\",\n      \"name\": \"Google Gemini Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        -460,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d65b4f27-52ab-4c29-8692-ee2835fddd17\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -1540,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"cfb55c7f-a89d-4ce4-8709-31e5e119c6ee\",\n      \"name\": \"Aggregate3\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1320,\n        580\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{\\n{\\n  ...$('Split Out1').item.json,\\n  replies: $json.replies.filter(reply => reply.ts)\\n}\\n}}\\n\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"8b70e30c-99d5-4086-85aa-e6cfcc7f14e7\",\n      \"name\": \"Aggregate4\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        -1100,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1cef5853-d301-49cb-9f58-c1a9128b8b33\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        -2200,\n        780\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"action\"\n            },\n            {\n              \"name\": \"data\",\n              \"type\": \"object\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"b30c2433-3bfe-480f-a4bd-8c41900802a2\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -1980,\n        780\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"users\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"fa924990-9f6e-40c4-aaec-50d4f5927414\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.action }}\",\n                    \"rightValue\": \"users\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"message_replies\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"26ce01b2-9e5b-43e8-926d-9d726c9ca74d\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.action }}\",\n                    \"rightValue\": \"message_replies\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"message_summarize\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"45fd7264-6ac3-4bbd-8a91-c4cfb33b4545\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.action }}\",\n                    \"rightValue\": \"message_summarize\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"b05735c3-4beb-4a80-8297-85e952e81270\",\n      \"name\": \"Map Users to Messages\",\n      \"type\": \"n8n-nodes-base.executeWorkflow\",\n      \"position\": [\n        -1520,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"each\",\n        \"options\": {},\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"workflowInputs\": {\n          \"value\": {\n            \"data\": \"={{ $json }}\",\n            \"action\": \"users\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"action\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"action\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"data\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": true\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"28ed52b2-b0c3-4f19-b394-347c8ff9e323\",\n      \"name\": \"Get User Info\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -880,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"17344879-1e10-4738-8db0-6e0daddea920\",\n              \"name\": \"user\",\n              \"type\": \"object\",\n              \"value\": \"={{\\n{\\n  id: $('Get User').item.json.id,\\n  team_id: $('Get User').item.json.team_id,\\n  name: $('Get User').item.json.name,\\n  is_bot: $('Get User').item.json.is_bot\\n}\\n}}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"bbd7c77e-2405-4e63-ae38-f064beafab9c\",\n      \"name\": \"Fetch Message Replies\",\n      \"type\": \"n8n-nodes-base.executeWorkflow\",\n      \"position\": [\n        -1300,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"each\",\n        \"options\": {},\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"workflowInputs\": {\n          \"value\": {\n            \"data\": \"={{ $json }}\",\n            \"action\": \"message_replies\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"action\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"action\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"data\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": true\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"edf34e72-04b4-4fed-a3af-42dec1c7ed17\",\n      \"name\": \"Has ReplyUsers?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -1540,\n        1160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"813d9fea-9de0-4151-aa45-d38a42f808b8\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.replyUsers }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"dc9c6cf0-c627-4311-9160-62204e9b67e0\",\n      \"name\": \"Messages to Items1\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -440,\n        1160\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return $('Switch').first().json.data.messages\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"0b830a49-c77e-41f3-8d70-47a26bfe0a0e\",\n      \"name\": \"Aggregate Results\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -760,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{\\n{\\n  ...$('Map Users to Messages').item.json,\\n  messages: $('Fetch Message Replies').item.json.data\\n  .map((message,idx) => ({\\n    ...message,\\n    summary: $json.data[idx].text,\\n  }))\\n}\\n}}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"b0c66c7f-0fed-465c-8933-7b803c9b3b64\",\n      \"name\": \"Team Member Weekly Report Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        -560,\n        -160\n      ],\n      \"parameters\": {\n        \"text\": \"={{\\n$json.messages\\n  .map((message,idx) =>\\n    `${message.userName} (<@${message.userId}>) posted on ${new Date(parseFloat(message.ts) * 1000).format('d MMM')}:\\\\n> \\\\\\\"${message.text}\\\\\\\".\\\\nThe summary of this thread is as follows:\\\\n${message.summary.replaceAll('\\\\n', ' ')}`\\n  )\\n  .join('\\\\n---\\\\n')\\n}}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=Your are energetic assistant who produces weekly mini-reports on team members by analysing their slack messages from last week and posts these reports on the following Monday.\\nThere has already been some work done to collect and summarise each thread made by the user within the last week.\\nYour task is to summarize all the threads by this user and any interactions with other users involved and produce a mini report to share with other team members.\\nFocus on wins and challenges.\\nAim to motivate and call out any outstanding concerns where appropriate.\\nWelcome any new team members who may have joined and say good bye to those who may have left.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"e4a487ae-8d71-4fe6-a760-7a0fb95a8fac\",\n      \"name\": \"Merge with Results\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -60,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{\\n{\\n  ...$('Aggregate Results').item.json,\\n  report: $json.text,\\n}\\n}}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"06736a5c-7450-406a-ad3a-08a368d1addf\",\n      \"name\": \"Team Weekly Report Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        160,\n        -160\n      ],\n      \"parameters\": {\n        \"text\": \"={{\\n$input.all()\\n  .map(item => item.json)\\n  .map(item =>\\n`user: ${item.user.name} <@${item.user.id}>\\nmessage count: ${item.messages.length}\\nreport: ${item.report.replaceAll('\\\\n', ' ')}`\\n  ).join('\\\\n---\\\\n')\\n}}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=Your are energetic assistant who produces a team-wide weekly report from all activity of all team members in the prior last week and posts this single report on the following Monday.\\nThere has already been some work done to collect individual reports from team members.\\nYour task is generate a report covering the team to prepare and motivate them for the upcoming week.\\nFocus on wins and challenges if available.\\nLook out for similar activities between members and make a connection if possible.\\nAim to motivate and call out any outstanding concerns where appropriate.\\nWelcome any new team members who may have joined and say good bye to those who may have left.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"eef36957-9bf0-4be3-95a8-73bbefdc0c85\",\n      \"name\": \"Google Gemini Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        240,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bfa5c99f-cd8f-4d34-9e6d-9ed476c87d22\",\n      \"name\": \"Post Report in Team Channel\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        820,\n        -160\n      ],\n      \"webhookId\": \"3613b3ca-fc98-427f-8903-a5996ff7552e\",\n      \"parameters\": {\n        \"text\": \"={{ $json.text }}\",\n        \"select\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C06RS1WPUQ6\",\n          \"cachedResultName\": \"general\"\n        },\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"b9a11c72-de41-4a45-85a0-672cf54ef152\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2460,\n        -440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 820,\n        \"height\": 520,\n        \"content\": \"## 1. 获取上周所有活动记录\\n[详细了解Slack节点](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack)\\n\\n我们将首先获取团队频道过去7天内的所有活动，并按消息发送者进行分组。通过使用带有日期时间过滤器的Slack节点即可实现这一操作，这将为我们提供用于拆解和分析的原始数据，以便生成报告。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8afc048f-ce06-46c3-916f-cbcf14bcfe2b\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1620,\n        -440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 760,\n        \"height\": 520,\n        \"content\": \"## 2. 汇总消息线程与对话\\n[了解有关执行工作流节点的更多信息](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflow)\\n\\n我们将通过获取每个顶级频道消息的所有回复来进行更深入的数据挖掘。这样就能获得完整的对话上下文，从而有望从中提取出一些决策、发现或关注点添加到报告中。这类数据挖掘需要处理大量\\\"条目\\\"，管理起来相当复杂，因此我们将使用子工作流来简化这项工作。\\n\\n完成数据挖掘后，即可通过人工智能对每个线程进行摘要总结，确保只捕捉那些值得记录的重要事件。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c9a7358c-fbe7-435a-b435-d7b07599bdc6\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -840,\n        -440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 660,\n        \"height\": 620,\n        \"content\": \"## 3. 为每位团队成员生成活动报告\\n[了解基础LLM节点详情](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\n通过已按用户分组的汇总讨论串，我们可以将其整合后再次交由AI处理，为每位团队成员生成周度报告。报告内容可涵盖他们的成果、挑战、收获或决策——具体呈现形式完全取决于您的需求。\\n\\n这个环节的趣味性在于可以自主设定报告的语气和表达方式。别拘泥于刻板形式，不妨加入些个性与创意！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"add32ef0-b515-44e6-a234-0a0fa77f4e84\",\n      \"name\": \"Summarize Message Threads\",\n      \"type\": \"n8n-nodes-base.executeWorkflow\",\n      \"position\": [\n        -1080,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"each\",\n        \"options\": {},\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"workflowInputs\": {\n          \"value\": {\n            \"data\": \"={{\\n{\\n  ...$('Map Users to Messages').item.json,\\n  messages: $json.data\\n}\\n}}\",\n            \"action\": \"message_summarize\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"action\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"action\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"data\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": true\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"17f2f45e-2c95-4b3c-b6db-a2881ae88964\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -160,\n        -440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 680,\n        \"height\": 620,\n        \"content\": \"## 4. 生成团队整体终版报告\\n[了解更多基础LLM节点信息](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\n在此步骤中，我们将工作层级提升一级，将所有团队成员的个人报告汇总成一份完整的团队报告。通过这种方式，概览能够将相似活动归类，并从更宏观的角度概括各项活动。同时输出的信息也会更加精简，便于部分人员快速理解核心内容。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"18cc7fa7-603c-4165-97c6-80d72fd4a9a6\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        -440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 680,\n        \"height\": 620,\n        \"content\": \"## 5. 在团队频道发布报告（周一早晨！）\\n[了解更多Slack节点信息](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack)\\n\\n最后，我们可以将周报发布到团队频道。这是周末休息后为团队自动生成快速回顾的好方法，让其他暂离的成员迅速回归工作状态，或是向偶尔参与协作的客户团队同步最新进展。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9cd8bdd6-5fc7-4e44-bcd0-058bc5d11335\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2460,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 560,\n        \"height\": 340,\n        \"content\": \"## 5. 子工作流\\n[详细了解执行工作流触发器](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflowtrigger)\\n\\n将子工作流集成到主工作流中是一项高级技术，当处理大量嵌套项或循环时，这一技术有时是必要的。\\n\\n在此场景中，我们需要执行多次查找以获取所需数据（用户、消息及回复），若使用模板方式，则需要串联多个循环节点来实现。然而，当循环节点相互嵌套时，项目引用的追踪将变得异常困难。\\n\\n通过采用子工作流，我们可以将每个循环分解为独立的执行单元，以更简单、线性的方式处理项目及其引用。这种方式确保了整个模板中数据流的可预测性。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f6fc730-5fc8-4dcc-b86d-e3b2f0e792a0\",\n      \"name\": \"Monday @ 6am\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -2400,\n        -160\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"cronExpression\",\n              \"expression\": \"0 6 * * 1\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"ab94557c-debb-425c-ac83-62e39e43d28b\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2940,\n        -1380\n      ],\n      \"parameters\": {\n        \"width\": 420,\n        \"height\": 1460,\n        \"content\": \"## 试试看吧！\\n### 这个n8n模板能帮你汇总Slack上团队成员过去一周的活动，并生成报告。\\n\\n对于远程团队而言，聊天是确保工作推进的重要沟通工具。但当大量对话同时在多个线程中发生时，创意、信息和决策往往转瞬即逝——到了周末就被彻底遗忘！\\n\\n使用这个模板就能避免这种情况。让AI梳理上周活动，汇总所有讨论线程，生成一份轻松活泼的报告，帮助团队聚焦当周工作。项目经理的梦想工具！\\n\\n### 工作原理\\n* 定时触发器设置为每周一早上6点运行，收集过去一周团队频道所有消息\\n* 按用户分组每条消息线程，并挖掘回复数据\\n* AI综合分析原始消息，提取有趣的观察和亮点\\n* 将用户的汇总讨论传入另一个AI代理，生成其本周工作的高阶概述（即个人报告）\\n* 所有个人报告再被整合成团队周报，呈现群体活动和相似工作\\n* 最终周报会发布回频道。发布时间很关键，应作为当周第一条消息，方便团队成员边喝咖啡边浏览\\n\\n### 使用技巧\\n* 最适合单一项目且主要沟通集中在单个频道的情况。多频道请复制本工作流而非合并\\n* 需要特定成员更新时，可添加人员筛选\\n* 根据组织、团队或频道特性定制报告风格。如有客户或外部利益相关者，可采用更正式语气\\n\\n### 需求准备\\n* 聊天平台：Slack\\n* 大语言模型：Gemini\\n\\n### 定制建议\\n* 若Slack频道过于繁忙，可将最终报告改为邮件发送\\n* 引入项目指标作为报告补充。将消息与生产绩效关联会很有趣\\n* 用AI代理查询与消息相关的知识库或工单。添加链接或参考能丰富上下文\\n\\n### 需要帮助？\\n加入[Discord](https://discord.com/invite/XPKeKXeB7d)或访问[论坛](https://community.n8n.io/)提问！\\n\\n祝您玩得愉快！\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Filter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Simplify Thread Comments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Split Out1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Map Reply UserIds\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get User\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Messages to Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User Info\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Map Users to Messages\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate2\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Aggregate3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate4\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate4\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Get Thread\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Reply Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Message Ref\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Thread\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Reply Users\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Messages to Items1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Monday @ 6am\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Last Week's Messages\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Group By User\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Reply Users\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate Reply Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Has ReplyUsers?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Reply Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Message Ref\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simplify Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate Results\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Team Member Weekly Report Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Map Reply UserIds\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Has ReplyUsers?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Messages to Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Simplify Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarise Threads\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge with Results\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Team Weekly Report Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Messages to Items1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarise Threads\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate Reply Users\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Reply Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Message Replies\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarize Message Threads\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Map Users to Messages\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Message Replies\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Last Week's Messages\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Group By User\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Summarise Threads\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simplify Thread Comments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Team Weekly Report Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post Report in Team Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Team Member Weekly Report Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Team Weekly Report Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarize Message Threads\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate Results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Team Member Weekly Report Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge with Results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}