{
  "title": "Automate Image Validation Tasks using AI Vision",
  "url": "https://n8n.io/workflows/2420-automate-image-validation-tasks-using-ai-vision/",
  "category": "ITOps",
  "category_url": "https://n8n.io/workflows/categories/it-ops/?sort=createdAt:desc",
  "author": "Jimleuk",
  "publish_date": "Last update 7 months ago",
  "publish_date_absolute": "2024-10-06",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\"},\"nodes\":[{\"id\":\"6c78b4c7-993b-410d-93e7-e11b3052e53b\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[0,420],\"parameters\":{},\"typeVersion\":1},{\"id\":\"c2ab6497-6d6d-483b-bd43-494ae95394c0\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[1440,600],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"is_valid\\\": { \\\"type\\\": \\\"boolean\\\" },\\n        \\\"photo_description\\\": {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"description\\\": \\\"describe the appearance of the person(s), object(s) if any and the background in the image. Mention any colours of each if possible.\\\"\\n        },\\n\\t\\t\\\"reasons\\\": {\\n          \\\"type\\\": \\\"array\\\",\\n          \\\"items\\\": { \\\"type\\\": \\\"string\\\" }\\n        }\\n\\t}\\n}\"},\"typeVersion\":1.2},{\"id\":\"b23f5298-17c7-49ac-a8ca-78e006b2d294\",\"name\":\"Photo URLs\",\"type\":\"n8n-nodes-base.set\",\"position\":[360,380],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"6baa3e08-8957-454e-8ee9-d5414a0ff990\",\"name\":\"data\",\"type\":\"array\",\"value\":\"={{\\n[\\n{\\n  \\\"name\\\": \\\"portrait_1\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1zs963iFkO-3g2rKak8Hcy555h55D8gjF/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_2\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/19FyDcs68dZauQSEf6SEulJMag51SPsFy/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_3\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1gbXjfNYE7Tvuw_riFmHMKoqPPu696VfW/view?usp=sharing\\\",\\n\\n},\\n{\\n  \\\"name\\\": \\\"portrait_4\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1s19hYdxgfMkrnU25l6YIDq-myQr1tQMa/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_5\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/193FqIXJWAKj6O2SmOj3cLBfypHBkgdI5/view?usp=sharing\\\"\\n}\\n]\\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"8d445f73-dff7-485b-87e2-5b64da09cbf0\",\"name\":\"Photos To List\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[520,380],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data\"},\"typeVersion\":1},{\"id\":\"7fb3b829-88a7-42ec-abfd-3ddaa042c916\",\"name\":\"Download Photos\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[680,380],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $json.url }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"yOwz41gMQclOadgu\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"b8644f6d-691f-49bc-b0fe-33a68c59638d\",\"name\":\"Resize For AI\",\"type\":\"n8n-nodes-base.editImage\",\"position\":[1060,440],\"parameters\":{\"width\":1024,\"height\":1024,\"options\":{},\"operation\":\"resize\",\"resizeOption\":\"onlyIfLarger\"},\"typeVersion\":1},{\"id\":\"ecb266f2-0d2d-4cbe-a641-26735f0bdf18\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[280,180],\"parameters\":{\"color\":7,\"width\":594,\"height\":438,\"content\":\"## 1. Import Photos To Validate\\n[Read more about using Google Drive](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledrive)\\n\\nIn this demonstration, we'll import 5 different portraits to test our AI vision model. For convenience, we'll use Google Drive but feel free to swap this out for other sources such as other storage or by using webhooks.\"},\"typeVersion\":1},{\"id\":\"a1034923-0905-4cdd-a6bf-21d28aa3dd71\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[900,180],\"parameters\":{\"color\":7,\"width\":774,\"height\":589.25,\"content\":\"## 2. Verify Passport Photo Validity Using AI Vision Model\\n[Learn more about Basic LLM Chain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\nVerifying if a photo is suitable for a passport photo is a great use-case for AI vision and to automate the process is an equally great use-case for using n8n. Here's we've pasted in the UK governments guidelines copied from gov.uk and have asked the AI to validate the incoming photos following those rules. A structured output parser is used to simplify the AI response which can be used to update a database or backend of your choosing.\"},\"typeVersion\":1},{\"id\":\"af231ee5-adff-4d27-ba5f-8c04ddd4892d\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-140,0],\"parameters\":{\"width\":386,\"height\":610.0104651162792,\"content\":\"## Try It Out!\\n\\n### This workflow takes a portrait and verifies if it makes for a valid passport photo. It achieves this by using an AI vision model following the UK government guidance.\\n\\nOpenAI's vision model was found to perform well for understanding photographs and so is recommended for this type of workflow. However, any capable vision model should work.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\"},\"typeVersion\":1},{\"id\":\"e07e1655-2683-4e21-b2b7-e0c0bfb569c0\",\"name\":\"Passport Photo Validator\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[1240,440],\"parameters\":{\"text\":\"Assess if the image is a valid according to the passport photo criteria as set by the UK Government.\",\"messages\":{\"messageValues\":[{\"message\":\"=You help verify passport photo validity.\\n\\n## Rules for digital photos\\nhttps://www.gov.uk/photos-for-passports\\n\\n### The quality of your digital photo\\nYour photo must be:\\n* clear and in focus\\n* in colour\\n* unaltered by computer software\\n* at least 600 pixels wide and 750 pixels tall\\n* at least 50KB and no more than 10MB\\n\\n### What your digital photo must show\\nThe digital photo must:\\n* contain no other objects or people\\n* be taken against a plain white or light-coloured background\\n* be in clear contrast to the background\\n* not have ‘red eye’\\n* If you’re using a photo taken on your own device, include your head, shoulders and upper body. Do not crop your photo - it will be done for you.\\n\\nIn your photo you must:\\n* be facing forwards and looking straight at the camera\\n* have a plain expression and your mouth closed\\n* have your eyes open and visible\\n* not have hair in front of your eyes\\n* not have a head covering (unless it’s for religious or medical reasons)\\n* not have anything covering your face\\n* not have any shadows on your face or behind you - shadows on light background are okay\\n* Do not wear glasses in your photo unless you have to do so. If you must wear glasses, they cannot be sunglasses or tinted glasses, and you must make sure your eyes are not covered by the frames or any glare, reflection or shadow.\\n\\n### Photos of babies and children\\n* Children must be on their own in the picture. Babies must not be holding toys or using dummies.\\n* Children under 6 do not have to be looking directly at the camera or have a plain expression.\\n* Children under one do not have to have their eyes open. You can support their head with your hand, but your hand must not be visible in the photo.\\n* Children under one should lie on a plain light-coloured sheet. Take the photo from above.\\n\\n\"},{\"type\":\"HumanMessagePromptTemplate\",\"messageType\":\"imageBinary\"}]},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.4},{\"id\":\"0a36ba22-90b2-4abf-943b-c1cc8e7317d5\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1240,600],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-pro-latest\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Photo URLs\":{\"main\":[[{\"node\":\"Photos To List\",\"type\":\"main\",\"index\":0}]]},\"Resize For AI\":{\"main\":[[{\"node\":\"Passport Photo Validator\",\"type\":\"main\",\"index\":0}]]},\"Photos To List\":{\"main\":[[{\"node\":\"Download Photos\",\"type\":\"main\",\"index\":0}]]},\"Download Photos\":{\"main\":[[{\"node\":\"Resize For AI\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Passport Photo Validator\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Passport Photo Validator\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Photo URLs\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n workflow shows how using multimodal LLMs with AI vision can tackle tricky image validation tasks which are near impossible to achieve with code and often impractical to be done by humans at scale.\n\nYou may need image validation when users submitted photos or images are required to meet certain criteria before being accepted. A wine review website may require users only submit photos of wine with labels, a bank may require account holders to submit scanned documents for verification etc.\n\nIn this demonstration, our scenario will be to analyse a set of portraits to verify if they meet the criteria for valid passport photos according to the UK government website (<https://www.gov.uk/photos-for-passports>).\n\n## How it works\n\n  * Our set of portaits are jpg files downloaded from our Google Drive using the Google Drive node.\n  * Each image is resized using the Edit Image node to ensure a balance between resolution and processing speed.\n  * Using the Basic LLM node, we'll define a \"user message\" option with the type of binary (data). This will allow us to pass our portrait to the LLM as an input.\n  * With our prompt containing the criteria pulled off the passport photo requirements webpage, the LLM is able to validate the photo does or doesn't meet its criteria.\n  * A structured output parser is used to structure the LLM's response to a JSON object which has the \"is_valid\" boolean property. This can be useful to further extend the workflow.\n\n\n\n## Requirements\n\n  * Google Gemini API key\n  * Google Drive account\n\n\n\n## Customising this workflow\n\n  * Not using Gemini? n8n's LLM node works with any compatible multimodal LLM so feel free to swap Gemini out for OpenAI's GPT4o or Antrophic's Claude Sonnet.\n\n  * Don't need to validate portraits? Try other use cases such as document classification, security footage analysis, people tagging in photos and more.\n\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This n8n workflow shows how using multimodal LLMs with AI vision can tackle tricky image validation tasks which are near impossible to achieve with code and often impractical to be done by humans at scale.</p>\n<p>You may need image validation when users submitted photos or images are required to meet certain criteria before being accepted. A wine review website may require users only submit photos of wine with labels, a bank may require account holders to submit scanned documents for verification etc.</p>\n<p>In this demonstration, our scenario will be to analyse a set of portraits to verify if they meet the criteria for valid passport photos according to the UK government website (<a href=\"https://www.gov.uk/photos-for-passports\" rel=\"ugc nofollow\" target=\"_blank\">https://www.gov.uk/photos-for-passports</a>).</p>\n<h2>How it works</h2>\n<ul>\n<li>Our set of portaits are jpg files downloaded from our Google Drive using the Google Drive node.</li>\n<li>Each image is resized using the Edit Image node to ensure a balance between resolution and processing speed.</li>\n<li>Using the Basic LLM node, we'll define a \"user message\" option with the type of binary (data). This will allow us to pass our portrait to the LLM as an input.</li>\n<li>With our prompt containing the criteria pulled off the passport photo requirements webpage, the LLM is able to validate the photo does or doesn't meet its criteria.</li>\n<li>A structured output parser is used to structure the LLM's response to a JSON object which has the \"is_valid\" boolean property. This can be useful to further extend the workflow.</li>\n</ul>\n<h2>Requirements</h2>\n<ul>\n<li>Google Gemini API key</li>\n<li>Google Drive account</li>\n</ul>\n<h2>Customising this workflow</h2>\n<ul>\n<li>\n<p>Not using Gemini? n8n's LLM node works with any compatible multimodal LLM so feel free to swap Gemini out for OpenAI's GPT4o or Antrophic's Claude Sonnet.</p>\n</li>\n<li>\n<p>Don't need to validate portraits? Try other use cases such as document classification, security footage analysis, people tagging in photos and more.</p>\n</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "This n8n workflow shows how using multimodal LLMs with AI vision can tackle tricky image validation tasks which are near impossible to achieve with code and often impractical to be done by humans at scale.\n\nYou may need image validation when users submitted photos or images are required to meet certain criteria before being accepted. A wine review website may require users only submit photos of wine with labels, a bank may require account holders to submit scanned documents for verification etc.\n\nIn this demonstration, our scenario will be to analyse a set of portraits to verify if they meet the criteria for valid passport photos according to the UK government website (<https://www.gov.uk/photos-for-passports>).\n\n## How it works\n\n  * Our set of portaits are jpg files downloaded from our Google Drive using the Google Drive node.\n  * Each image is resized using the Edit Image node to ensure a balance between resolution and processing speed.\n  * Using the Basic LLM node, we'll define a \"user message\" option with the type of binary (data). This will allow us to pass our portrait to the LLM as an input.\n  * With our prompt containing the criteria pulled off the passport photo requirements webpage, the LLM is able to validate the photo does or doesn't meet its criteria.\n  * A structured output parser is used to structure the LLM's response to a JSON object which has the \"is_valid\" boolean property. This can be useful to further extend the workflow.\n\n\n\n## Requirements\n\n  * Google Gemini API key\n  * Google Drive account\n\n\n\n## Customising this workflow\n\n  * Not using Gemini? n8n's LLM node works with any compatible multimodal LLM so feel free to swap Gemini out for OpenAI's GPT4o or Antrophic's Claude Sonnet.\n\n  * Don't need to validate portraits? Try other use cases such as document classification, security footage analysis, people tagging in photos and more.\n\n\n\n",
  "title_zh": "Automate Image Validation Tasks using AI Vision",
  "publish_date_zh": "Last update 7 months ago",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"6c78b4c7-993b-410d-93e7-e11b3052e53b\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        0,\n        420\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c2ab6497-6d6d-483b-bd43-494ae95394c0\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1440,\n        600\n      ],\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"is_valid\\\": { \\\"type\\\": \\\"boolean\\\" },\\n        \\\"photo_description\\\": {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"description\\\": \\\"describe the appearance of the person(s), object(s) if any and the background in the image. Mention any colours of each if possible.\\\"\\n        },\\n\\t\\t\\\"reasons\\\": {\\n          \\\"type\\\": \\\"array\\\",\\n          \\\"items\\\": { \\\"type\\\": \\\"string\\\" }\\n        }\\n\\t}\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"b23f5298-17c7-49ac-a8ca-78e006b2d294\",\n      \"name\": \"Photo URLs\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        360,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6baa3e08-8957-454e-8ee9-d5414a0ff990\",\n              \"name\": \"data\",\n              \"type\": \"array\",\n              \"value\": \"={{\\n[\\n{\\n  \\\"name\\\": \\\"portrait_1\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1zs963iFkO-3g2rKak8Hcy555h55D8gjF/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_2\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/19FyDcs68dZauQSEf6SEulJMag51SPsFy/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_3\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1gbXjfNYE7Tvuw_riFmHMKoqPPu696VfW/view?usp=sharing\\\",\\n\\n},\\n{\\n  \\\"name\\\": \\\"portrait_4\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/1s19hYdxgfMkrnU25l6YIDq-myQr1tQMa/view?usp=sharing\\\"\\n},\\n{\\n  \\\"name\\\": \\\"portrait_5\\\",\\n  \\\"url\\\": \\\"https://drive.google.com/file/d/193FqIXJWAKj6O2SmOj3cLBfypHBkgdI5/view?usp=sharing\\\"\\n}\\n]\\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"8d445f73-dff7-485b-87e2-5b64da09cbf0\",\n      \"name\": \"Photos To List\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        520,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7fb3b829-88a7-42ec-abfd-3ddaa042c916\",\n      \"name\": \"Download Photos\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        680,\n        380\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $json.url }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"yOwz41gMQclOadgu\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"b8644f6d-691f-49bc-b0fe-33a68c59638d\",\n      \"name\": \"Resize For AI\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        1060,\n        440\n      ],\n      \"parameters\": {\n        \"width\": 1024,\n        \"height\": 1024,\n        \"options\": {},\n        \"operation\": \"resize\",\n        \"resizeOption\": \"onlyIfLarger\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ecb266f2-0d2d-4cbe-a641-26735f0bdf18\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        280,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 594,\n        \"height\": 438,\n        \"content\": \"## 1. Import Photos To Validate\\n[Read more about using Google Drive](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledrive)\\n\\nIn this demonstration, we'll import 5 different portraits to test our AI vision model. For convenience, we'll use Google Drive but feel free to swap this out for other sources such as other storage or by using webhooks.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a1034923-0905-4cdd-a6bf-21d28aa3dd71\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        900,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 774,\n        \"height\": 589.25,\n        \"content\": \"## 2. Verify Passport Photo Validity Using AI Vision Model\\n[Learn more about Basic LLM Chain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm)\\n\\nVerifying if a photo is suitable for a passport photo is a great use-case for AI vision and to automate the process is an equally great use-case for using n8n. Here's we've pasted in the UK governments guidelines copied from gov.uk and have asked the AI to validate the incoming photos following those rules. A structured output parser is used to simplify the AI response which can be used to update a database or backend of your choosing.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af231ee5-adff-4d27-ba5f-8c04ddd4892d\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 386,\n        \"height\": 610.0104651162792,\n        \"content\": \"## 试试看吧！\\n\\n### 该工作流程通过分析人像照片，依据英国政府规范验证其是否符合护照照片标准。借助AI视觉模型实现自动化检测。\\n\\n经测试，OpenAI的视觉模型在图像识别方面表现优异，特别推荐用于此类工作流。当然，任何性能相当的视觉模型均可适用。\\n\\n### 需要帮助？\\n加入[Discord讨论群](https://discord.com/invite/XPKeKXeB7d)或前往[社区论坛](https://community.n8n.io/)提问！\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e07e1655-2683-4e21-b2b7-e0c0bfb569c0\",\n      \"name\": \"Passport Photo Validator\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1240,\n        440\n      ],\n      \"parameters\": {\n        \"text\": \"Assess if the image is a valid according to the passport photo criteria as set by the UK Government.\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=You help verify passport photo validity.\\n\\n## Rules for digital photos\\nhttps://www.gov.uk/photos-for-passports\\n\\n### The quality of your digital photo\\nYour photo must be:\\n* clear and in focus\\n* in colour\\n* unaltered by computer software\\n* at least 600 pixels wide and 750 pixels tall\\n* at least 50KB and no more than 10MB\\n\\n### What your digital photo must show\\nThe digital photo must:\\n* contain no other objects or people\\n* be taken against a plain white or light-coloured background\\n* be in clear contrast to the background\\n* not have ‘red eye’\\n* If you’re using a photo taken on your own device, include your head, shoulders and upper body. Do not crop your photo - it will be done for you.\\n\\nIn your photo you must:\\n* be facing forwards and looking straight at the camera\\n* have a plain expression and your mouth closed\\n* have your eyes open and visible\\n* not have hair in front of your eyes\\n* not have a head covering (unless it’s for religious or medical reasons)\\n* not have anything covering your face\\n* not have any shadows on your face or behind you - shadows on light background are okay\\n* Do not wear glasses in your photo unless you have to do so. If you must wear glasses, they cannot be sunglasses or tinted glasses, and you must make sure your eyes are not covered by the frames or any glare, reflection or shadow.\\n\\n### Photos of babies and children\\n* Children must be on their own in the picture. Babies must not be holding toys or using dummies.\\n* Children under 6 do not have to be looking directly at the camera or have a plain expression.\\n* Children under one do not have to have their eyes open. You can support their head with your hand, but your hand must not be visible in the photo.\\n* Children under one should lie on a plain light-coloured sheet. Take the photo from above.\\n\\n\"\n            },\n            {\n              \"type\": \"HumanMessagePromptTemplate\",\n              \"messageType\": \"imageBinary\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"0a36ba22-90b2-4abf-943b-c1cc8e7317d5\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1240,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-1.5-pro-latest\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Photo URLs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Photos To List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resize For AI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Passport Photo Validator\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Photos To List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Photos\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Photos\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resize For AI\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Passport Photo Validator\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Passport Photo Validator\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Photo URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}