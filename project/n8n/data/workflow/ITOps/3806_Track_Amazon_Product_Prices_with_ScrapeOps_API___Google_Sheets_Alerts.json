{
  "title": "Track Amazon Product Prices with ScrapeOps API & Google Sheets Alerts",
  "url": "https://n8n.io/workflows/3806-track-amazon-product-prices-with-scrapeops-api-and-google-sheets-alerts/",
  "category": "ITOps",
  "category_url": "https://n8n.io/workflows/categories/it-ops/?sort=createdAt:desc",
  "author": "ScrapeOps",
  "publish_date": "Last update 7 hours ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"TqnC0nyAa0LRfYBX\",\"meta\":{\"instanceId\":\"c2ff056313a72210aa803da7c5191a260dbed0dab6ae2b8e39a8dd21701bf0ab\",\"templateCredsSetupCompleted\":true},\"name\":\"Amazon Product Price Tracker\",\"tags\":[],\"nodes\":[{\"id\":\"cc15c8e6-53f9-4dd1-895f-34a72af4506f\",\"name\":\"Products to Monitor\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[40,-220],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U/edit#gid=0\",\"cachedResultName\":\"Products to Monitor\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $json.spreadsheet_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"xWJJNb7VGUUp4vzV\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"4ec34045-ea02-40bc-a243-b50c804ab947\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[260,-220],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"d5cdb7eb-144f-477b-83d6-85be5cd2eb79\",\"name\":\"Scrapeops - Amazon Product\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[720,-80],\"parameters\":{\"url\":\"https://proxy.scrapeops.io/v1/structured-data/amazon/product\",\"options\":{},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"asin\",\"value\":\"={{ $('Loop Over Items').item.json.asin }}\"},{\"name\":\"api_key\",\"value\":\"={{ $('Setup').item.json.scrapeops_apikey }}\"}]}},\"typeVersion\":4.2},{\"id\":\"32134749-17e9-456a-9814-2e03b34ce37b\",\"name\":\"Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[940,-80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"ae829540-06b7-4ea8-a5f8-d2750b02c530\",\"name\":\"name\",\"type\":\"string\",\"value\":\"={{ $json.data.name }}\"},{\"id\":\"4dec41ce-3522-481b-985f-455c858702e0\",\"name\":\"pricing\",\"type\":\"number\",\"value\":\"={{ parseFloat(($json.data.pricing || \\\"\\\").replace(/[^\\\\d.-]/g, \\\"\\\")) || 0 }}\"},{\"id\":\"ebb64d89-e9b2-4384-9778-fce8aa9eb3be\",\"name\":\"product_url\",\"type\":\"string\",\"value\":\"=https://www.amazon.com/dp/{{ $('Loop Over Items').item.json.asin }}?th=1&psc=1\"}]}},\"typeVersion\":3.4},{\"id\":\"954afd09-609f-4ed1-94a0-6d6431b8a9e6\",\"name\":\"Last Price\",\"type\":\"n8n-nodes-base.set\",\"position\":[480,-80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"db85d431-5631-4629-99f8-426ec3d7ecc7\",\"name\":\"last_pricing\",\"type\":\"number\",\"value\":\"={{ $json.pricing }}\"}]}},\"typeVersion\":3.4},{\"id\":\"695673df-6bf7-4e64-898c-f143c77c8ff0\",\"name\":\"Price Change\",\"type\":\"n8n-nodes-base.set\",\"position\":[1420,-180],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"4ef9bde2-62d3-4d6a-9759-4ae6c13db127\",\"name\":\"price_change\",\"type\":\"number\",\"value\":\"={{ \\n  $('Last Price').item.json.last_pricing !== \\\"\\\" && $('Last Price').item.json.last_pricing !== undefined ? \\n  ($json.pricing - $('Last Price').item.json.last_pricing).toFixed(2) : \\n  0 \\n}}\"},{\"id\":\"02e5a84b-76bf-4511-a78d-c725882a64dc\",\"name\":\"percent_change\",\"type\":\"number\",\"value\":\"={{ \\n  $('Last Price').item.json.last_pricing !== \\\"\\\" && $('Last Price').item.json.last_pricing !== undefined && parseFloat($('Last Price').item.json.last_pricing) !== 0 ? \\n  ((($json.pricing - $('Last Price').item.json.last_pricing) / $('Last Price').item.json.last_pricing)).toFixed(2) : \\n  0 \\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"ab56b334-c4a7-45f7-95d0-9c7e990c21d7\",\"name\":\"Alert Status\",\"type\":\"n8n-nodes-base.set\",\"position\":[1600,-180],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"fd261f8a-8417-4fdb-95de-bd71768300e6\",\"name\":\"alert_status\",\"type\":\"string\",\"value\":\"={{ \\n  $json.percent_change > $('Loop Over Items').item.json.alert_threshold_high ? \\n  \\\"High\\\" : \\n  ($json.percent_change < $('Loop Over Items').item.json.alert_threshold_low ? \\n    \\\"Low\\\" : \\n    \\\"\\\")\\n}}\"}]}},\"typeVersion\":3.4},{\"id\":\"54f3ef24-58bc-4eba-b341-b14ab9f66d68\",\"name\":\"Insert - Price History\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[2020,-180],\"parameters\":{\"columns\":{\"value\":{\"asin\":\"={{ $('Loop Over Items').item.json.asin }}\",\"pricing\":\"={{ $('Scrapeops - Amazon Product').item.json.data.pricing.replace(/[^\\\\d.]/g, '') }}\",\"timestamp\":\"={{$now.format(\\\"MM/dd/yyyy HH:mm:ss\\\")}}\"},\"schema\":[{\"id\":\"asin\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"asin\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"pricing\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"pricing\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"timestamp\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"timestamp\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"Price History\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Setup').item.json.spreadsheet_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"xWJJNb7VGUUp4vzV\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"b161e44b-1fbf-40f1-a485-a7b132f42efc\",\"name\":\"Update - Products to Monitor\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1800,-180],\"parameters\":{\"columns\":{\"value\":{\"asin\":\"={{ $('Loop Over Items').item.json.asin }}\",\"name\":\"={{ $('Scrapeops - Amazon Product').item.json.data.name }}\",\"pricing\":\"={{ $('Scrapeops - Amazon Product').item.json.data.pricing.replace(/[^\\\\d.]/g, '') }}\",\"product_url\":\"=https://www.amazon.com/dp/{{ $('Loop Over Items').item.json.asin }}?th=1&psc=1\",\"alert_status\":\"={{ $json.alert_status }}\",\"last_updated\":\"={{$now.format(\\\"MM/dd/yyyy HH:mm:ss\\\")}}\",\"price_change\":\"={{ $('Price Change').item.json.price_change }}\",\"average_rating\":\"={{ $('Scrapeops - Amazon Product').item.json.data.average_rating }}\",\"percent_change\":\"={{ $('Price Change').item.json.percent_change }}\"},\"schema\":[{\"id\":\"asin\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"asin\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"alert_threshold_low\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"alert_threshold_low\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"alert_threshold_high\",\"type\":\"string\",\"display\":true,\"removed\":true,\"required\":false,\"displayName\":\"alert_threshold_high\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"name\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"average_rating\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"average_rating\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"product_url\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"product_url\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"pricing\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"pricing\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price_change\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"price_change\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"percent_change\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"percent_change\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"alert_status\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"alert_status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"last_updated\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"last_updated\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"asin\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"Products to Monitor\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Setup').item.json.spreadsheet_url }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"xWJJNb7VGUUp4vzV\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"62372099-de2a-4dcf-afdf-e9d9697a7a95\",\"name\":\"Send Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[2560,120],\"webhookId\":\"c0eb28fe-1c74-4692-9701-3790014c8951\",\"parameters\":{\"html\":\"=<!DOCTYPE html>\\n<html>\\n<head>\\n    <style>\\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; background: #fff; }\\n        .header { text-align: center; padding-bottom: 15px; border-bottom: 1px solid #eee; }\\n        .price-up { color: #d64541; font-weight: bold; }\\n        .price-down { color: #27ae60; font-weight: bold; }\\n        .price-details { background: #f5f5f5; padding: 15px; margin: 15px 0; border-radius: 5px; }\\n    .button {\\n        display: block;\\n        background-color: #2c3e50;\\n        color: white !important; \\n        text-decoration: none;\\n        text-align: center;\\n        padding: 10px;\\n        border-radius: 4px;\\n        margin: 20px auto;\\n        width: 200px;\\n        font-weight: bold;\\n    }\\n    .button:visited {\\n        color: white !important;\\n        background-color: #2c3e50 !important;\\n        text-decoration: none !important;\\n    }\\n    .button:hover {\\n        background-color: #34495e !important;\\n        text-decoration: none !important;\\n    }\\n    .footer { font-size: 12px; color: #999; text-align: center; margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px; }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"header\\\">\\n            <h1>Price Alert</h1>\\n            <p>We've detected a significant price change for an item you're tracking</p>\\n        </div>\\n\\n        <div class=\\\"price-details\\\">\\n            <h2 class=\\\"{{ $('Alert Status').item.json.alert_status === 'High' ? 'price-up' : 'price-down' }}\\\">\\n                {{ $('Alert Status').item.json.alert_status === 'High' ? 'Price Increased by ' : 'Price Decreased by ' }} \\n                {{ (Math.abs($('Update - Products to Monitor').item.json.percent_change  * 100).toFixed(2)) }}%\\n            </h2>\\n            \\n            <h3>{{ $('Update - Products to Monitor').item.json.name }}</h3>\\n            <p>ASIN: {{ $json.asin }}</p>\\n            \\n            <table width=\\\"100%\\\" border=\\\"0\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\">\\n                <tr>\\n                    <th align=\\\"left\\\">Previous Price</th>\\n                    <th align=\\\"left\\\">Current Price</th>\\n                    <th align=\\\"left\\\">Difference</th>\\n                </tr>\\n                <tr>\\n                    <td>${{ $('Last Price').item.json.last_pricing.toFixed(2) }}</td>\\n                    <td>${{ $('Update - Products to Monitor').item.json.pricing }}</td>\\n                    <td>{{ \\n                      $('Update - Products to Monitor').item.json.price_change >= 0 \\n                        ? '$' + $('Update - Products to Monitor').item.json.price_change.toFixed(2) \\n                        : '- $' + Math.abs($('Update - Products to Monitor').item.json.price_change).toFixed(2) \\n                    }}</td>\\n                </tr>\\n            </table>\\n            \\n            <p>Last updated: {{ $('Insert - Price History').item.json.timestamp }}</p>\\n        </div>\\n\\n        <a href=\\\"{{ $('Update - Products to Monitor').item.json.product_url }}\\\" class=\\\"button\\\">View Product</a>\\n\\n        <div class=\\\"footer\\\">\\n            <p>This alert was generated by Amazon Price Tracker, your automated price monitoring system.</p>\\n            <p>© 2025 ScrapeOps. All rights reserved.</p>\\n        </div>\\n    </div>\\n</body>\\n</html>\",\"options\":{\"appendAttribution\":false},\"subject\":\"=Amazon Price Tracker Alert: {{ $('Update - Products to Monitor').item.json.name }} Price Change Detected\",\"toEmail\":\"={{ $('Setup').item.json.to_email }}\",\"fromEmail\":\"={{ $('Setup').item.json.from_email }}\"},\"credentials\":{\"smtp\":{\"id\":\"k3bEE2wVXvRZ42hg\",\"name\":\"SMTP account\"}},\"typeVersion\":2.1},{\"id\":\"834dd1f0-d651-48b4-8765-360d8d5dcf27\",\"name\":\"Check Valid Price\",\"type\":\"n8n-nodes-base.if\",\"position\":[1160,-80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"f9d540d5-bc09-4970-904d-34977192b771\",\"operator\":{\"type\":\"number\",\"operation\":\"gt\"},\"leftValue\":\"={{ $json.pricing }}\",\"rightValue\":0}]}},\"typeVersion\":2.2},{\"id\":\"163385ad-6f41-4144-bf2a-6ba2e2425ae2\",\"name\":\"Alert Decision\",\"type\":\"n8n-nodes-base.if\",\"position\":[2240,-40],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"6b1f16aa-dd42-4889-9c07-7fdba5a56067\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $('Alert Status').item.json.alert_status }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"dd075f72-22bc-438e-a75b-a2437a8920c3\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1100,-600],\"parameters\":{\"color\":5,\"width\":660,\"height\":360,\"content\":\"# Amazon Product Price Tracker\\n\\nThis workflow automates price monitoring for Amazon products using the ScrapeOps API. It tracks price changes over time, alerts you when prices cross your defined thresholds, and maintains a historical record of all price movements.\\n\\n## Features\\n- Scheduled price checks for multiple Amazon products\\n- Price change calculations (absolute and percentage)\\n- Smart alerting based on customizable thresholds\\n- Automated email notifications with detailed price information\\n- Historical price tracking for trend analysis\"},\"typeVersion\":1},{\"id\":\"83324982-44e9-49cc-8782-d0520955c1ff\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1100,-200],\"parameters\":{\"color\":5,\"width\":660,\"height\":740,\"content\":\"## API Configuration\\nThis workflow requires a ScrapeOps API key to fetch Amazon product data.\\nTo obtain your API key, register at https://scrapeops.io/app/register/main\\n\\n## API Documentation\\nFor detailed information about the Amazon Product API endpoint used in this workflow,\\nrefer to the official documentation at:\\nhttps://scrapeops.io/docs/data-api/amazon-product-api/\\nThe documentation provides details on all available parameters, response formats,\\nand best practices for optimizing your API usage.\\n\\n## Integration Setup\\nOnce registered, insert your API key in the \\\"Scrapeops - Amazon Product\\\" node parameters.\\nThis workflow uses the structured data endpoint which returns clean, parsed product data\\nin a consistent JSON format.\\n\\n## Google Sheets Configuration\\nA Google Sheets spreadsheet is used to store the product data collected through this workflow.\\nThe original template spreadsheet is shared in read-only mode through this link:\\nhttps://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U\\n\\nTo use this workflow:\\n1. Access the shared spreadsheet using the link above\\n2. Make your own copy by going to File > Make a copy\\n3. Share your copy with appropriate permissions\\n4. In the n8n workflow, locate the \\\"Setup\\\" node\\n5. Update the \\\"spreadsheet_url\\\" variable with the link to YOUR copy of the spreadsheet\\n\\nThis ensures each user works with their own separate spreadsheet, avoiding data overlap \\nbetween different users while maintaining the original structure needed by the workflow.\"},\"typeVersion\":1},{\"id\":\"2b3d3b37-7e9d-48a0-a97a-223f4d60c6a6\",\"name\":\"Setup\",\"type\":\"n8n-nodes-base.set\",\"position\":[-160,-220],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"6f1a8857-9ecc-4fcd-8803-4494ca230ae4\",\"name\":\"spreadsheet_url\",\"type\":\"string\",\"value\":\"https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U\"},{\"id\":\"bbe91759-984c-4d62-b832-b37d84997211\",\"name\":\"scrapeops_apikey\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"29428dd3-8659-43d0-a888-1e2ee7c37ab8\",\"name\":\"from_email\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"d39032ee-895d-436e-9948-355d37abb740\",\"name\":\"to_email\",\"type\":\"string\",\"value\":\"\"}]}},\"typeVersion\":3.4},{\"id\":\"aab72c63-3864-42b4-87b6-c9911d8d09be\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-360,-220],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\"}]}},\"typeVersion\":1.2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"38990374-8154-4f1e-8026-ce206ed2d90d\",\"connections\":{\"Setup\":{\"main\":[[{\"node\":\"Products to Monitor\",\"type\":\"main\",\"index\":0}]]},\"Fields\":{\"main\":[[{\"node\":\"Check Valid Price\",\"type\":\"main\",\"index\":0}]]},\"Last Price\":{\"main\":[[{\"node\":\"Scrapeops - Amazon Product\",\"type\":\"main\",\"index\":0}]]},\"Send Email\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Alert Status\":{\"main\":[[{\"node\":\"Update - Products to Monitor\",\"type\":\"main\",\"index\":0}]]},\"Price Change\":{\"main\":[[{\"node\":\"Alert Status\",\"type\":\"main\",\"index\":0}]]},\"Alert Decision\":{\"main\":[[{\"node\":\"Send Email\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[],[{\"node\":\"Last Price\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Setup\",\"type\":\"main\",\"index\":0}]]},\"Check Valid Price\":{\"main\":[[{\"node\":\"Price Change\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Products to Monitor\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Insert - Price History\":{\"main\":[[{\"node\":\"Alert Decision\",\"type\":\"main\",\"index\":0}]]},\"Scrapeops - Amazon Product\":{\"main\":[[{\"node\":\"Fields\",\"type\":\"main\",\"index\":0}]]},\"Update - Products to Monitor\":{\"main\":[[{\"node\":\"Insert - Price History\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Amazon Product Price Tracker\n\nThis workflow automatically monitors Amazon product prices, tracks price changes, and sends alerts when significant price fluctuations occur. Built with ScrapeOps' structured data API, it provides a reliable, maintenance-free solution for price tracking without worrying about anti-bot measures or complex selectors.\n\n## What This Workflow Does\n\n  * Monitors multiple Amazon products simultaneously using their ASINs\n  * Calculates both absolute and percentage price changes\n  * Sends customizable email alerts when prices cross defined thresholds\n  * Maintains a historical record of all price data for trend analysis\n  * Updates a Google Sheets with the latest price information\n\n\n\n## Prerequisites\n\n  * A ScrapeOps API key (register at <https://scrapeops.io>)\n  * Google account for Google Sheets integration\n  * SMTP email configuration for alerts\n\n\n\n## Setup Instructions\n\n  1. **Spreadsheet Setup**\n\n     * Make a copy of the template spreadsheet: <https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U>\n     * Add your Amazon product ASINs in the \"Products to Monitor\" sheet\n     * Set your desired alert thresholds for price increases/decreases\n  2. **Workflow Configuration**\n\n     * Add your ScrapeOps API key to the \"Setup\" node\n     * Update the spreadsheet URL in the \"Setup\" node with YOUR copy\n     * Configure your email settings for notifications\n     * Adjust the schedule frequency as needed (default: hourly)\n\n\n\n## How It Works\n\nThe workflow reads product ASINs from your Google Sheet, fetches current pricing data via ScrapeOps' Amazon Product API, calculates price changes, updates your spreadsheet, and sends alerts when price movements exceed your defined thresholds.\n\nUnlike traditional web scrapers that break when websites change, this solution uses ScrapeOps' reliable API that handles all the complexity of Amazon data extraction, ensuring consistent results without maintenance.\n\n## Additional Notes\n\n  * This workflow is ideal for deal hunters, price comparison services, and e-commerce analytics\n  * The alerting system can be extended to additional channels like Slack or Telegram\n  * ScrapeOps handles all anti-bot measures, proxy management, and parsing complexities\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>Amazon Product Price Tracker</h1>\n<p>This workflow automatically monitors Amazon product prices, tracks price changes, and sends alerts when significant price fluctuations occur. Built with ScrapeOps' structured data API, it provides a reliable, maintenance-free solution for price tracking without worrying about anti-bot measures or complex selectors.</p>\n<h2>What This Workflow Does</h2>\n<ul>\n<li>Monitors multiple Amazon products simultaneously using their ASINs</li>\n<li>Calculates both absolute and percentage price changes</li>\n<li>Sends customizable email alerts when prices cross defined thresholds</li>\n<li>Maintains a historical record of all price data for trend analysis</li>\n<li>Updates a Google Sheets with the latest price information</li>\n</ul>\n<h2>Prerequisites</h2>\n<ul>\n<li>A ScrapeOps API key (register at <a href=\"https://scrapeops.io\" rel=\"ugc nofollow\" target=\"_blank\">https://scrapeops.io</a>)</li>\n<li>Google account for Google Sheets integration</li>\n<li>SMTP email configuration for alerts</li>\n</ul>\n<h2>Setup Instructions</h2>\n<ol>\n<li>\n<p><strong>Spreadsheet Setup</strong></p>\n<ul>\n<li>Make a copy of the template spreadsheet: <a href=\"https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U\" rel=\"ugc nofollow\" target=\"_blank\">https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U</a></li>\n<li>Add your Amazon product ASINs in the \"Products to Monitor\" sheet</li>\n<li>Set your desired alert thresholds for price increases/decreases</li>\n</ul>\n</li>\n<li>\n<p><strong>Workflow Configuration</strong></p>\n<ul>\n<li>Add your ScrapeOps API key to the \"Setup\" node</li>\n<li>Update the spreadsheet URL in the \"Setup\" node with YOUR copy</li>\n<li>Configure your email settings for notifications</li>\n<li>Adjust the schedule frequency as needed (default: hourly)</li>\n</ul>\n</li>\n</ol>\n<h2>How It Works</h2>\n<p>The workflow reads product ASINs from your Google Sheet, fetches current pricing data via ScrapeOps' Amazon Product API, calculates price changes, updates your spreadsheet, and sends alerts when price movements exceed your defined thresholds.</p>\n<p>Unlike traditional web scrapers that break when websites change, this solution uses ScrapeOps' reliable API that handles all the complexity of Amazon data extraction, ensuring consistent results without maintenance.</p>\n<h2>Additional Notes</h2>\n<ul>\n<li>This workflow is ideal for deal hunters, price comparison services, and e-commerce analytics</li>\n<li>The alerting system can be extended to additional channels like Slack or Telegram</li>\n<li>ScrapeOps handles all anti-bot measures, proxy management, and parsing complexities</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "# 亚马逊商品价格追踪器\n\n该工作流能自动监控亚马逊商品价格，追踪价格变动，并在出现显著波动时发送提醒。基于ScrapeOps结构化数据API构建，提供可靠免维护的价格追踪方案，无需担心反爬机制或复杂选择器问题。\n\n## 核心功能\n\n* 通过ASIN码同时监控多个亚马逊商品\n* 计算绝对值与百分比两种价格变动\n* 当价格突破设定阈值时发送可定制邮件提醒\n* 保留完整历史价格数据用于趋势分析\n* 自动更新Google表格中的最新价格信息\n\n## 环境准备\n\n* ScrapeOps API密钥（注册地址：<https://scrapeops.io>）\n* 用于表格集成的谷歌账号\n* 配置SMTP邮件服务用于提醒功能\n\n## 配置指南\n\n1. **电子表格设置**\n   * 复制模板表格：<https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U>\n   * 在\"监控商品\"页添加亚马逊商品ASIN码\n   * 设置价格涨跌的提醒阈值\n\n2. **工作流配置**\n   * 在\"Setup\"节点添加ScrapeOps API密钥\n   * 将\"Setup\"节点中的表格URL替换为您的副本\n   * 配置邮件通知参数\n   * 按需调整运行频率（默认每小时）\n\n## 运作原理\n\n工作流从Google表格读取商品ASIN码，通过ScrapeOps亚马逊商品API获取实时价格数据，计算价格变动幅度，更新电子表格，并在价格波动超出设定阈值时发送提醒。\n\n不同于传统爬虫在网站改版时失效，本方案采用ScrapeOps稳定API处理所有亚马逊数据提取的复杂性，确保持续稳定运行无需维护。\n\n## 补充说明\n\n* 特别适合比价服务、优惠猎手和电商分析场景\n* 提醒系统可扩展至Slack/Telegram等通讯平台\n* ScrapeOps已处理所有反爬措施、代理管理和数据解析难题",
  "title_zh": "使用ScrapeOps API与Google表格警报追踪亚马逊商品价格",
  "publish_date_zh": "最后更新于7小时前",
  "workflow_json_zh": "{\n  \"id\": \"TqnC0nyAa0LRfYBX\",\n  \"meta\": {\n    \"instanceId\": \"c2ff056313a72210aa803da7c5191a260dbed0dab6ae2b8e39a8dd21701bf0ab\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Amazon Product Price Tracker\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"cc15c8e6-53f9-4dd1-895f-34a72af4506f\",\n      \"name\": \"Products to Monitor\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        40,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U/edit#gid=0\",\n          \"cachedResultName\": \"Products to Monitor\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $json.spreadsheet_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"xWJJNb7VGUUp4vzV\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"4ec34045-ea02-40bc-a243-b50c804ab947\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        260,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"d5cdb7eb-144f-477b-83d6-85be5cd2eb79\",\n      \"name\": \"Scrapeops - Amazon Product\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        720,\n        -80\n      ],\n      \"parameters\": {\n        \"url\": \"https://proxy.scrapeops.io/v1/structured-data/amazon/product\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"asin\",\n              \"value\": \"={{ $('Loop Over Items').item.json.asin }}\"\n            },\n            {\n              \"name\": \"api_key\",\n              \"value\": \"={{ $('Setup').item.json.scrapeops_apikey }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"32134749-17e9-456a-9814-2e03b34ce37b\",\n      \"name\": \"Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        940,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ae829540-06b7-4ea8-a5f8-d2750b02c530\",\n              \"name\": \"name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data.name }}\"\n            },\n            {\n              \"id\": \"4dec41ce-3522-481b-985f-455c858702e0\",\n              \"name\": \"pricing\",\n              \"type\": \"number\",\n              \"value\": \"={{ parseFloat(($json.data.pricing || \\\"\\\").replace(/[^\\\\d.-]/g, \\\"\\\")) || 0 }}\"\n            },\n            {\n              \"id\": \"ebb64d89-e9b2-4384-9778-fce8aa9eb3be\",\n              \"name\": \"product_url\",\n              \"type\": \"string\",\n              \"value\": \"=https://www.amazon.com/dp/{{ $('Loop Over Items').item.json.asin }}?th=1&psc=1\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"954afd09-609f-4ed1-94a0-6d6431b8a9e6\",\n      \"name\": \"Last Price\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        480,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"db85d431-5631-4629-99f8-426ec3d7ecc7\",\n              \"name\": \"last_pricing\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.pricing }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"695673df-6bf7-4e64-898c-f143c77c8ff0\",\n      \"name\": \"Price Change\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1420,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4ef9bde2-62d3-4d6a-9759-4ae6c13db127\",\n              \"name\": \"price_change\",\n              \"type\": \"number\",\n              \"value\": \"={{ \\n  $('Last Price').item.json.last_pricing !== \\\"\\\" && $('Last Price').item.json.last_pricing !== undefined ? \\n  ($json.pricing - $('Last Price').item.json.last_pricing).toFixed(2) : \\n  0 \\n}}\"\n            },\n            {\n              \"id\": \"02e5a84b-76bf-4511-a78d-c725882a64dc\",\n              \"name\": \"percent_change\",\n              \"type\": \"number\",\n              \"value\": \"={{ \\n  $('Last Price').item.json.last_pricing !== \\\"\\\" && $('Last Price').item.json.last_pricing !== undefined && parseFloat($('Last Price').item.json.last_pricing) !== 0 ? \\n  ((($json.pricing - $('Last Price').item.json.last_pricing) / $('Last Price').item.json.last_pricing)).toFixed(2) : \\n  0 \\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"ab56b334-c4a7-45f7-95d0-9c7e990c21d7\",\n      \"name\": \"Alert Status\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1600,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"fd261f8a-8417-4fdb-95de-bd71768300e6\",\n              \"name\": \"alert_status\",\n              \"type\": \"string\",\n              \"value\": \"={{ \\n  $json.percent_change > $('Loop Over Items').item.json.alert_threshold_high ? \\n  \\\"High\\\" : \\n  ($json.percent_change < $('Loop Over Items').item.json.alert_threshold_low ? \\n    \\\"Low\\\" : \\n    \\\"\\\")\\n}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"54f3ef24-58bc-4eba-b341-b14ab9f66d68\",\n      \"name\": \"Insert - Price History\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        2020,\n        -180\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"asin\": \"={{ $('Loop Over Items').item.json.asin }}\",\n            \"pricing\": \"={{ $('Scrapeops - Amazon Product').item.json.data.pricing.replace(/[^\\\\d.]/g, '') }}\",\n            \"timestamp\": \"={{$now.format(\\\"MM/dd/yyyy HH:mm:ss\\\")}}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"asin\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"asin\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"pricing\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"pricing\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"timestamp\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"timestamp\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"Price History\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Setup').item.json.spreadsheet_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"xWJJNb7VGUUp4vzV\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"b161e44b-1fbf-40f1-a485-a7b132f42efc\",\n      \"name\": \"Update - Products to Monitor\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1800,\n        -180\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"asin\": \"={{ $('Loop Over Items').item.json.asin }}\",\n            \"name\": \"={{ $('Scrapeops - Amazon Product').item.json.data.name }}\",\n            \"pricing\": \"={{ $('Scrapeops - Amazon Product').item.json.data.pricing.replace(/[^\\\\d.]/g, '') }}\",\n            \"product_url\": \"=https://www.amazon.com/dp/{{ $('Loop Over Items').item.json.asin }}?th=1&psc=1\",\n            \"alert_status\": \"={{ $json.alert_status }}\",\n            \"last_updated\": \"={{$now.format(\\\"MM/dd/yyyy HH:mm:ss\\\")}}\",\n            \"price_change\": \"={{ $('Price Change').item.json.price_change }}\",\n            \"average_rating\": \"={{ $('Scrapeops - Amazon Product').item.json.data.average_rating }}\",\n            \"percent_change\": \"={{ $('Price Change').item.json.percent_change }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"asin\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"asin\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"alert_threshold_low\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"alert_threshold_low\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"alert_threshold_high\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"alert_threshold_high\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"average_rating\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"average_rating\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"product_url\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"product_url\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"pricing\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"pricing\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price_change\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"price_change\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"percent_change\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"percent_change\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"alert_status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"alert_status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"last_updated\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"last_updated\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"asin\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"Products to Monitor\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Setup').item.json.spreadsheet_url }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"xWJJNb7VGUUp4vzV\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"62372099-de2a-4dcf-afdf-e9d9697a7a95\",\n      \"name\": \"Send Email\",\n      \"type\": \"n8n-nodes-base.emailSend\",\n      \"position\": [\n        2560,\n        120\n      ],\n      \"webhookId\": \"c0eb28fe-1c74-4692-9701-3790014c8951\",\n      \"parameters\": {\n        \"html\": \"=<!DOCTYPE html>\\n<html>\\n<head>\\n    <style>\\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; background: #fff; }\\n        .header { text-align: center; padding-bottom: 15px; border-bottom: 1px solid #eee; }\\n        .price-up { color: #d64541; font-weight: bold; }\\n        .price-down { color: #27ae60; font-weight: bold; }\\n        .price-details { background: #f5f5f5; padding: 15px; margin: 15px 0; border-radius: 5px; }\\n    .button {\\n        display: block;\\n        background-color: #2c3e50;\\n        color: white !important; \\n        text-decoration: none;\\n        text-align: center;\\n        padding: 10px;\\n        border-radius: 4px;\\n        margin: 20px auto;\\n        width: 200px;\\n        font-weight: bold;\\n    }\\n    .button:visited {\\n        color: white !important;\\n        background-color: #2c3e50 !important;\\n        text-decoration: none !important;\\n    }\\n    .button:hover {\\n        background-color: #34495e !important;\\n        text-decoration: none !important;\\n    }\\n    .footer { font-size: 12px; color: #999; text-align: center; margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px; }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"header\\\">\\n            <h1>Price Alert</h1>\\n            <p>We've detected a significant price change for an item you're tracking</p>\\n        </div>\\n\\n        <div class=\\\"price-details\\\">\\n            <h2 class=\\\"{{ $('Alert Status').item.json.alert_status === 'High' ? 'price-up' : 'price-down' }}\\\">\\n                {{ $('Alert Status').item.json.alert_status === 'High' ? 'Price Increased by ' : 'Price Decreased by ' }} \\n                {{ (Math.abs($('Update - Products to Monitor').item.json.percent_change  * 100).toFixed(2)) }}%\\n            </h2>\\n            \\n            <h3>{{ $('Update - Products to Monitor').item.json.name }}</h3>\\n            <p>ASIN: {{ $json.asin }}</p>\\n            \\n            <table width=\\\"100%\\\" border=\\\"0\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\">\\n                <tr>\\n                    <th align=\\\"left\\\">Previous Price</th>\\n                    <th align=\\\"left\\\">Current Price</th>\\n                    <th align=\\\"left\\\">Difference</th>\\n                </tr>\\n                <tr>\\n                    <td>${{ $('Last Price').item.json.last_pricing.toFixed(2) }}</td>\\n                    <td>${{ $('Update - Products to Monitor').item.json.pricing }}</td>\\n                    <td>{{ \\n                      $('Update - Products to Monitor').item.json.price_change >= 0 \\n                        ? '$' + $('Update - Products to Monitor').item.json.price_change.toFixed(2) \\n                        : '- $' + Math.abs($('Update - Products to Monitor').item.json.price_change).toFixed(2) \\n                    }}</td>\\n                </tr>\\n            </table>\\n            \\n            <p>Last updated: {{ $('Insert - Price History').item.json.timestamp }}</p>\\n        </div>\\n\\n        <a href=\\\"{{ $('Update - Products to Monitor').item.json.product_url }}\\\" class=\\\"button\\\">View Product</a>\\n\\n        <div class=\\\"footer\\\">\\n            <p>This alert was generated by Amazon Price Tracker, your automated price monitoring system.</p>\\n            <p>© 2025 ScrapeOps. All rights reserved.</p>\\n        </div>\\n    </div>\\n</body>\\n</html>\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"=Amazon Price Tracker Alert: {{ $('Update - Products to Monitor').item.json.name }} Price Change Detected\",\n        \"toEmail\": \"={{ $('Setup').item.json.to_email }}\",\n        \"fromEmail\": \"={{ $('Setup').item.json.from_email }}\"\n      },\n      \"credentials\": {\n        \"smtp\": {\n          \"id\": \"k3bEE2wVXvRZ42hg\",\n          \"name\": \"SMTP account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"834dd1f0-d651-48b4-8765-360d8d5dcf27\",\n      \"name\": \"Check Valid Price\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1160,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"f9d540d5-bc09-4970-904d-34977192b771\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gt\"\n              },\n              \"leftValue\": \"={{ $json.pricing }}\",\n              \"rightValue\": 0\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"163385ad-6f41-4144-bf2a-6ba2e2425ae2\",\n      \"name\": \"Alert Decision\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2240,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"6b1f16aa-dd42-4889-9c07-7fdba5a56067\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('Alert Status').item.json.alert_status }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"dd075f72-22bc-438e-a75b-a2437a8920c3\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1100,\n        -600\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 660,\n        \"height\": 360,\n        \"content\": \"# 亚马逊商品价格追踪器\\n\\n该工作流利用ScrapeOps API实现亚马逊商品价格自动监控。它能持续追踪价格波动，在价格触及预设阈值时发送提醒，并完整记录所有历史价格数据。\\n\\n## 核心功能\\n- 多款亚马逊商品定时比价\\n- 价格变动计算（绝对值与百分比）\\n- 基于自定义阈值的智能提醒\\n- 含详细价格信息的自动邮件通知\\n- 历史价格追踪支持趋势分析\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"83324982-44e9-49cc-8782-d0520955c1ff\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1100,\n        -200\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 660,\n        \"height\": 740,\n        \"content\": \"## API配置\\n本工作流需使用ScrapeOps API密钥获取亚马逊商品数据\\n请通过以下链接注册获取API密钥：\\nhttps://scrapeops.io/app/register/main\\n\\n## API文档说明\\n本工作流所用亚马逊商品API端点的详细说明\\n请查阅官方文档：\\nhttps://scrapeops.io/docs/data-api/amazon-product-api/\\n文档包含所有可用参数、响应格式说明\\n及优化API使用的建议方案\\n\\n## 集成设置\\n获取API密钥后，请将其填入\\\"Scrapeops - Amazon Product\\\"节点参数\\n本工作流采用结构化数据端点\\n返回统一JSON格式的标准化商品数据\\n\\n## 谷歌表格配置\\n本工作流使用谷歌表格存储采集的商品数据\\n原始模板表格通过以下链接共享（只读模式）：\\nhttps://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U\\n\\n使用流程：\\n1. 通过上述链接访问共享表格\\n2. 通过\\\"文件>创建副本\\\"生成个人副本\\n3. 为副本设置适当共享权限\\n4. 在n8n工作流中找到\\\"Setup\\\"节点\\n5. 将\\\"spreadsheet_url\\\"变量更新为您个人副本的链接\\n\\n此方案确保每位用户使用独立表格\\n既避免数据交叉混淆\\n又保持工作流所需的标准数据结构\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2b3d3b37-7e9d-48a0-a97a-223f4d60c6a6\",\n      \"name\": \"Setup\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -160,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6f1a8857-9ecc-4fcd-8803-4494ca230ae4\",\n              \"name\": \"spreadsheet_url\",\n              \"type\": \"string\",\n              \"value\": \"https://docs.google.com/spreadsheets/d/1hRv-TBXrpN6rkIU65WorttNHt-IPWas_An0sF4Of39U\"\n            },\n            {\n              \"id\": \"bbe91759-984c-4d62-b832-b37d84997211\",\n              \"name\": \"scrapeops_apikey\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"29428dd3-8659-43d0-a888-1e2ee7c37ab8\",\n              \"name\": \"from_email\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"d39032ee-895d-436e-9948-355d37abb740\",\n              \"name\": \"to_email\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"aab72c63-3864-42b4-87b6-c9911d8d09be\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -360,\n        -220\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"38990374-8154-4f1e-8026-ce206ed2d90d\",\n  \"connections\": {\n    \"Setup\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Products to Monitor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Valid Price\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Last Price\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Scrapeops - Amazon Product\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Alert Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update - Products to Monitor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Price Change\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Alert Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Alert Decision\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Last Price\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Setup\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Valid Price\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Price Change\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Products to Monitor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Insert - Price History\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Alert Decision\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Scrapeops - Amazon Product\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update - Products to Monitor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Insert - Price History\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}