{
  "title": "Auto-Generate Meeting Attendee Research with GPT-4o, Google Calendar, and Gmail",
  "url": "https://n8n.io/workflows/3796-auto-generate-meeting-attendee-research-with-gpt-4o-google-calendar-and-gmail/",
  "category": "ITOps",
  "category_url": "https://n8n.io/workflows/categories/it-ops/?sort=createdAt:desc",
  "author": "Adam Janes",
  "publish_date": "Last update 6 days ago",
  "publish_date_absolute": "2025-04-30",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"45e293393b5dd8437fb351e5b1ef5511ef67e6e0826a1c10b9b68be850b67593\"},\"nodes\":[{\"id\":\"7976731d-692d-45f8-b986-3f82d998dfa0\",\"name\":\"Research Company\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[600,780],\"parameters\":{\"url\":\"https://api.openai.com/v1/responses\",\"options\":{},\"requestMethod\":\"POST\",\"authentication\":\"headerAuth\",\"jsonParameters\":true,\"bodyParametersJson\":\"={{\\n  JSON.stringify({\\n    model: \\\"gpt-4o\\\",\\n    tools: [{ type: \\\"web_search_preview\\\" }],\\n    input: $json.prompt\\n  })\\n}}\",\"queryParametersJson\":\"{}\",\"headerParametersJson\":\"{}\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"rhDo5pdVQQsBgcVZ\",\"name\":\"Header Auth account 2\"}},\"typeVersion\":1},{\"id\":\"2f123bde-a5a0-4828-81e8-b875ac27d081\",\"name\":\"Research Person\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[940,960],\"parameters\":{\"url\":\"https://api.openai.com/v1/responses\",\"options\":{},\"requestMethod\":\"POST\",\"authentication\":\"headerAuth\",\"jsonParameters\":true,\"bodyParametersJson\":\"={{\\n  JSON.stringify({\\n    model: \\\"gpt-4o\\\",\\n    tools: [{ type: \\\"web_search_preview\\\" }],\\n    input: $json.prompt\\n  })\\n}}\",\"queryParametersJson\":\"{}\",\"headerParametersJson\":\"{}\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"rhDo5pdVQQsBgcVZ\",\"name\":\"Header Auth account 2\"}},\"typeVersion\":1},{\"id\":\"07131cea-4600-479f-9048-3e1ec26dac25\",\"name\":\"Google Calendar Trigger\",\"type\":\"n8n-nodes-base.googleCalendarTrigger\",\"position\":[-1000,940],\"parameters\":{\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"eventCreated\",\"calendarId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"youremail@example.com\",\"cachedResultName\":\"Your Name Here\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"gpYtW24uwPf0eJEq\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1},{\"id\":\"fece4fec-b5e5-43ee-8bb2-64093729137a\",\"name\":\"Filter Out Myself\",\"type\":\"n8n-nodes-base.filter\",\"position\":[-320,940],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"a45fab6b-2017-4740-a7a2-dfc90bc2eafb\",\"operator\":{\"type\":\"boolean\",\"operation\":\"false\",\"singleValue\":true},\"leftValue\":\"={{ $json.self }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"c25cf9a0-99b9-4e52-8852-0824ff53982c\",\"name\":\"Split Out Attendees\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-480,940],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"=attendees\"},\"typeVersion\":1},{\"id\":\"e7709b40-db55-4b4f-8953-218b96d38d73\",\"name\":\"For Each Attendee\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-40,940],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"5db7b2b5-078e-4b3a-b8b6-d12903127a93\",\"name\":\"Is Company Email?\",\"type\":\"n8n-nodes-base.if\",\"position\":[260,960],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"2e0ad575-3652-4981-ad78-e76d95880448\",\"operator\":{\"type\":\"string\",\"operation\":\"notRegex\"},\"leftValue\":\"={{ $('For Each Attendee').item.json.email }}\",\"rightValue\":\"@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)\"}]}},\"typeVersion\":2.2},{\"id\":\"14e226d4-7f42-4da3-b941-9c69facbbbf6\",\"name\":\"Combine All Research\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[260,260],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"599fb5b6-8426-4edf-bae8-34ad69aa68e9\",\"name\":\"Collect Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[1100,960],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"f4b7dbc5-8f43-4cb7-aa59-508822625152\",\"name\":\"person\",\"type\":\"string\",\"value\":\"={{ $json.output[1].content[0].text }}\"},{\"id\":\"28988743-7e98-41c3-a564-0e507f8a69af\",\"name\":\"company\",\"type\":\"string\",\"value\":\"={{ $('For Each Attendee').item.json.email.match(/@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)/) ? 'No company information found.' : $('Research Company').item.json.output[1].content[0].text }}\"},{\"id\":\"ed7cc918-4b08-4de8-a21e-7410cfe6b6cb\",\"name\":\"email\",\"type\":\"string\",\"value\":\"={{ $('For Each Attendee').item.json.email }}\"}]}},\"typeVersion\":3.4},{\"id\":\"d226f2f5-9671-49b7-bd3d-eea8896aee87\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1040,620],\"parameters\":{\"color\":7,\"width\":880,\"height\":700,\"content\":\"## 1. New Google Calendar Event Detected\\n\\nOur workflow is triggered when a new calendar event comes in. \\n\\nThe event gives us access to a list of attendees which we can loop over in the next step. We need to filter out ourselves if we are in the meeting too!\"},\"typeVersion\":1},{\"id\":\"89881dac-69cb-42fd-995c-bc459eab28a5\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[200,620],\"parameters\":{\"color\":7,\"width\":1120,\"height\":700,\"content\":\"## 2. Research Attendee + Company\\n\\nAPI calls are made to the OpenAI Responses API using the new web search preview endpoint. This allows us to search the web for any mentions of each attendee. If the email address is a company email, we also make a search request to find out about the company. We use some context about ourself (in the \\\"Set Context\\\" node) so that the LLM can make an educated guess if there are many people with the same name.\"},\"typeVersion\":1},{\"id\":\"2a7f467e-cd0c-45f3-bbcd-9b37746b74ef\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[200,0],\"parameters\":{\"color\":7,\"width\":1120,\"height\":580,\"content\":\"## 3. Generate + Send Report\\n\\nFinally, we combine all the data from the meeting attendees into a report. The report gets written in Markdown, converted into HTML, and the send via the Gmail API.\"},\"typeVersion\":1},{\"id\":\"d04cf49a-d1fa-4019-9a98-01ec64bd6a37\",\"name\":\"Write HTML\",\"type\":\"n8n-nodes-base.markdown\",\"position\":[440,260],\"parameters\":{\"mode\":\"markdownToHtml\",\"options\":{\"tables\":true},\"markdown\":\"=### Meeting Briefing\\n\\n{{ \\n\\n$json.data.reduce((acc, entry, index) => acc + (`\\n\\n### Person ${index + 1} (${entry.email}):\\n\\n${entry.person}\\n\\n### Person ${index + 1} Company:\\n\\n${entry.company}\\n\\n---`)\\n\\n, '').trim().replace(/---$/, '')\\n\\n}}\"},\"typeVersion\":1},{\"id\":\"ac2a56db-2d80-4412-8985-a29577db5bcb\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-840,1100],\"parameters\":{\"width\":310,\"height\":200,\"content\":\"## Edit Here\\nEdit a few variables here to get started:\\n- **context**: Some information about you to help the web search return the right people. \\n- **email**: The email that you want to send the report to.\"},\"typeVersion\":1},{\"id\":\"d32e4220-78fa-4581-abd3-ceff4e95641a\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[-740,940],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"ad442334-0219-4297-91c3-03575920d9b9\",\"name\":\"context\",\"type\":\"string\",\"value\":\"I am working in web development, based in Singapore/Australia, and I work with startups\"},{\"id\":\"46cff036-7624-4682-8a22-966a5c46c7b5\",\"name\":\"email\",\"type\":\"string\",\"value\":\"youremail@example.com\"},{\"id\":\"c9b83d56-8b24-4767-bc83-0eb0b5f62986\",\"name\":\"attendees\",\"type\":\"array\",\"value\":\"={{ $json.attendees }}\"}]}},\"typeVersion\":3.4},{\"id\":\"600667b6-aae3-4a9e-a71c-a0819921a823\",\"name\":\"Send Report\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[600,260],\"webhookId\":\"86c63a4a-64e7-41e5-b657-c80b59dce562\",\"parameters\":{\"sendTo\":\"={{ $('Edit Fields').item.json.email }}\",\"message\":\"={{ $json.data }}\",\"options\":{\"appendAttribution\":false},\"subject\":\"=Meeting Briefing: {{ $('Google Calendar Trigger').item.json.summary }} ({{ new Date($('Google Calendar Trigger').item.json.start.dateTime).format(\\\"dd/MM/yyyy\\\") }})\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"aXTuNMJaYuKFOKTa\",\"name\":\"Gmail account\"}},\"typeVersion\":2.1},{\"id\":\"863c58b1-3b88-4b25-9191-31c77c2911cd\",\"name\":\"Person Prompt\",\"type\":\"n8n-nodes-base.set\",\"position\":[780,960],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7096cd1e-179c-4230-b869-73f7cb1a9ff9\",\"name\":\"prompt\",\"type\":\"string\",\"value\":\"=I have a call scheduled with {{ $('For Each Attendee').item.json.email }} Please find out as much as you can about the owner of this email address. \\n\\n- What do they do? \\n- What are their interests? \\n- What might I not know about them?\\n\\n{{ $('For Each Attendee').item.json.email.match(/@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)/) ? '' : `Make sure to crawl their company website (http:/$('For Each Attendee').item.json.email.split('@')[1]}) to see if there's anything there.` }} \\n\\nFor context: {{ $('Edit Fields').item.json.email }}. If there is any ambiguity, use this information to find the most likely person to be meeting with me.\\n\\nDon't tailor your answer to this context - stay objective about the person only. Make your answer less than 100 words.\"}]}},\"typeVersion\":3.4},{\"id\":\"dbc54bdb-1b50-44ae-a3d2-b4ab33d1ecc3\",\"name\":\"Company Prompt\",\"type\":\"n8n-nodes-base.set\",\"position\":[440,780],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"9d1121f3-a5a6-4f73-8726-0a84cad94e77\",\"name\":\"prompt\",\"type\":\"string\",\"value\":\"=Check out the website http://{{ $('For Each Attendee').item.json.email.split(\\\"@\\\")[1] }}). \\n\\n- What does this company do? \\n- What problem do they solve? \\n- What is their business model? \\n\\nFor context about me: {{ $('Edit Fields').item.json.context }}.\\n\\nDon't mention anything about this context in your answer - stay objective about the company. Make your answer less than 100 words. \\n\\nIf you are unable to find a company at this URL, just write 'Company Not Found'.\"}]}},\"typeVersion\":3.4}],\"pinData\":{},\"connections\":{\"Write HTML\":{\"main\":[[{\"node\":\"Send Report\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields\":{\"main\":[[{\"node\":\"Split Out Attendees\",\"type\":\"main\",\"index\":0}]]},\"Person Prompt\":{\"main\":[[{\"node\":\"Research Person\",\"type\":\"main\",\"index\":0}]]},\"Collect Fields\":{\"main\":[[{\"node\":\"For Each Attendee\",\"type\":\"main\",\"index\":0}]]},\"Company Prompt\":{\"main\":[[{\"node\":\"Research Company\",\"type\":\"main\",\"index\":0}]]},\"Research Person\":{\"main\":[[{\"node\":\"Collect Fields\",\"type\":\"main\",\"index\":0}]]},\"Research Company\":{\"main\":[[{\"node\":\"Person Prompt\",\"type\":\"main\",\"index\":0}]]},\"Filter Out Myself\":{\"main\":[[{\"node\":\"For Each Attendee\",\"type\":\"main\",\"index\":0}]]},\"For Each Attendee\":{\"main\":[[{\"node\":\"Combine All Research\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Is Company Email?\",\"type\":\"main\",\"index\":0}]]},\"Is Company Email?\":{\"main\":[[{\"node\":\"Company Prompt\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Person Prompt\",\"type\":\"main\",\"index\":0}]]},\"Split Out Attendees\":{\"main\":[[{\"node\":\"Filter Out Myself\",\"type\":\"main\",\"index\":0}]]},\"Combine All Research\":{\"main\":[[{\"node\":\"Write HTML\",\"type\":\"main\",\"index\":0}]]},\"Google Calendar Trigger\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### How it works:\n\nWhenever a new event is scheduled on your Google Calendar, this workflow generates a Meeting Briefing email, giving an overview of each person on the call and the company they work for.\n\nIt makes use of the [web search](https://platform.openai.com/docs/guides/tools-web-search?api-mode=responses) tool on the OpenAI Responses API to make lookups.\n\nThe workflow triggers when a new event is added to the calendar, loops over each attendee, generating reports on each person and their company, collates the results, and sends the briefing as an email.\n\n### Set up steps:\n\n  * Add your credentials for Google Calendar (for viewing events) and Gmail (to send the email)\n  * Add your OpenAI credentials as a Header Auth on the Company Search and Person Search nodes. \n    * Name: Authorization\n    * Value: Bearer {{ YOUR_API_KEY }}\n  * Edit the \"Edit Fields\" node with the email that you want to send the briefing to, and a short bit of context about yourself.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h3>How it works:</h3>\n<p>Whenever a new event is scheduled on your Google Calendar, this workflow generates a Meeting Briefing email, giving an overview of each person on the call and the company they work for.</p>\n<p>It makes use of the <a href=\"https://platform.openai.com/docs/guides/tools-web-search?api-mode=responses\" rel=\"ugc nofollow\" target=\"_blank\">web search</a> tool on the OpenAI Responses API to make lookups.</p>\n<p>The workflow triggers when a new event is added to the calendar, loops over each attendee, generating reports on each person and their company, collates the results, and sends the briefing as an email.</p>\n<h3>Set up steps:</h3>\n<ul>\n<li>Add your credentials for Google Calendar (for viewing events) and Gmail (to send the email)</li>\n<li>Add your OpenAI credentials as a Header Auth on the Company Search and Person Search nodes.\n<ul>\n<li>Name: Authorization</li>\n<li>Value: Bearer {{ YOUR_API_KEY }}</li>\n</ul>\n</li>\n<li>Edit the \"Edit Fields\" node with the email that you want to send the briefing to, and a short bit of context about yourself.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### 工作原理：\n\n每当您的Google日历上新增一个活动安排时，该工作流便会生成一封会议简报邮件，概述每位参会者的背景及其所属公司。\n\n它利用了OpenAI响应API中的[网络搜索](https://platform.openai.com/docs/guides/tools-web-search?api-mode=responses)工具进行信息查询。\n\n工作流在日历新增活动时触发，遍历每位参会者，生成关于个人及其公司的报告，汇总结果后以电子邮件形式发送简报。\n\n### 设置步骤：\n\n  * 添加您的Google日历（用于查看活动）和Gmail（用于发送邮件）的凭据\n  * 在\"公司搜索\"和\"人员搜索\"节点上，以头部认证方式添加您的OpenAI凭据：\n    * 名称：Authorization\n    * 值：Bearer {{ YOUR_API_KEY }}\n  * 编辑\"字段编辑\"节点，填写您希望接收简报的邮箱地址，并简要提供关于您自己的背景信息。",
  "title_zh": "利用GPT-4o、Google日历和Gmail自动生成会议参与者调研",
  "publish_date_zh": "最后更新于6天前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"45e293393b5dd8437fb351e5b1ef5511ef67e6e0826a1c10b9b68be850b67593\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"7976731d-692d-45f8-b986-3f82d998dfa0\",\n      \"name\": \"Research Company\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        600,\n        780\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.openai.com/v1/responses\",\n        \"options\": {},\n        \"requestMethod\": \"POST\",\n        \"authentication\": \"headerAuth\",\n        \"jsonParameters\": true,\n        \"bodyParametersJson\": \"={{\\n  JSON.stringify({\\n    model: \\\"gpt-4o\\\",\\n    tools: [{ type: \\\"web_search_preview\\\" }],\\n    input: $json.prompt\\n  })\\n}}\",\n        \"queryParametersJson\": \"{}\",\n        \"headerParametersJson\": \"{}\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"rhDo5pdVQQsBgcVZ\",\n          \"name\": \"Header Auth account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2f123bde-a5a0-4828-81e8-b875ac27d081\",\n      \"name\": \"Research Person\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        940,\n        960\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.openai.com/v1/responses\",\n        \"options\": {},\n        \"requestMethod\": \"POST\",\n        \"authentication\": \"headerAuth\",\n        \"jsonParameters\": true,\n        \"bodyParametersJson\": \"={{\\n  JSON.stringify({\\n    model: \\\"gpt-4o\\\",\\n    tools: [{ type: \\\"web_search_preview\\\" }],\\n    input: $json.prompt\\n  })\\n}}\",\n        \"queryParametersJson\": \"{}\",\n        \"headerParametersJson\": \"{}\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"rhDo5pdVQQsBgcVZ\",\n          \"name\": \"Header Auth account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"07131cea-4600-479f-9048-3e1ec26dac25\",\n      \"name\": \"Google Calendar Trigger\",\n      \"type\": \"n8n-nodes-base.googleCalendarTrigger\",\n      \"position\": [\n        -1000,\n        940\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"eventCreated\",\n        \"calendarId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"youremail@example.com\",\n          \"cachedResultName\": \"Your Name Here\"\n        }\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"gpYtW24uwPf0eJEq\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fece4fec-b5e5-43ee-8bb2-64093729137a\",\n      \"name\": \"Filter Out Myself\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        -320,\n        940\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a45fab6b-2017-4740-a7a2-dfc90bc2eafb\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"false\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.self }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"c25cf9a0-99b9-4e52-8852-0824ff53982c\",\n      \"name\": \"Split Out Attendees\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -480,\n        940\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"=attendees\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e7709b40-db55-4b4f-8953-218b96d38d73\",\n      \"name\": \"For Each Attendee\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -40,\n        940\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"5db7b2b5-078e-4b3a-b8b6-d12903127a93\",\n      \"name\": \"Is Company Email?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        260,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"2e0ad575-3652-4981-ad78-e76d95880448\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notRegex\"\n              },\n              \"leftValue\": \"={{ $('For Each Attendee').item.json.email }}\",\n              \"rightValue\": \"@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"14e226d4-7f42-4da3-b941-9c69facbbbf6\",\n      \"name\": \"Combine All Research\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        260,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"599fb5b6-8426-4edf-bae8-34ad69aa68e9\",\n      \"name\": \"Collect Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1100,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"f4b7dbc5-8f43-4cb7-aa59-508822625152\",\n              \"name\": \"person\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output[1].content[0].text }}\"\n            },\n            {\n              \"id\": \"28988743-7e98-41c3-a564-0e507f8a69af\",\n              \"name\": \"company\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('For Each Attendee').item.json.email.match(/@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)/) ? 'No company information found.' : $('Research Company').item.json.output[1].content[0].text }}\"\n            },\n            {\n              \"id\": \"ed7cc918-4b08-4de8-a21e-7410cfe6b6cb\",\n              \"name\": \"email\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('For Each Attendee').item.json.email }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"d226f2f5-9671-49b7-bd3d-eea8896aee87\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1040,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 880,\n        \"height\": 700,\n        \"content\": \"## 1. New Google Calendar Event Detected\\n\\nOur workflow is triggered when a new calendar event comes in. \\n\\nThe event gives us access to a list of attendees which we can loop over in the next step. We need to filter out ourselves if we are in the meeting too!\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"89881dac-69cb-42fd-995c-bc459eab28a5\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1120,\n        \"height\": 700,\n        \"content\": \"## 2. Research Attendee + Company\\n\\nAPI calls are made to the OpenAI Responses API using the new web search preview endpoint. This allows us to search the web for any mentions of each attendee. If the email address is a company email, we also make a search request to find out about the company. We use some context about ourself (in the \\\"Set Context\\\" node) so that the LLM can make an educated guess if there are many people with the same name.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2a7f467e-cd0c-45f3-bbcd-9b37746b74ef\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1120,\n        \"height\": 580,\n        \"content\": \"## 3. 生成并发送报告\\n\\n最后，我们将所有与会者的数据整合成一份报告。报告以Markdown格式编写，转换为HTML后，通过Gmail API发送出去。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d04cf49a-d1fa-4019-9a98-01ec64bd6a37\",\n      \"name\": \"Write HTML\",\n      \"type\": \"n8n-nodes-base.markdown\",\n      \"position\": [\n        440,\n        260\n      ],\n      \"parameters\": {\n        \"mode\": \"markdownToHtml\",\n        \"options\": {\n          \"tables\": true\n        },\n        \"markdown\": \"=### Meeting Briefing\\n\\n{{ \\n\\n$json.data.reduce((acc, entry, index) => acc + (`\\n\\n### Person ${index + 1} (${entry.email}):\\n\\n${entry.person}\\n\\n### Person ${index + 1} Company:\\n\\n${entry.company}\\n\\n---`)\\n\\n, '').trim().replace(/---$/, '')\\n\\n}}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ac2a56db-2d80-4412-8985-a29577db5bcb\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -840,\n        1100\n      ],\n      \"parameters\": {\n        \"width\": 310,\n        \"height\": 200,\n        \"content\": \"## 编辑此处\\n从这里开始修改几个变量：\\n- **context**：关于你的一些信息，以帮助网络搜索找到合适的人选。\\n- **email**：你希望将报告发送到的电子邮件地址。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d32e4220-78fa-4581-abd3-ceff4e95641a\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -740,\n        940\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ad442334-0219-4297-91c3-03575920d9b9\",\n              \"name\": \"context\",\n              \"type\": \"string\",\n              \"value\": \"I am working in web development, based in Singapore/Australia, and I work with startups\"\n            },\n            {\n              \"id\": \"46cff036-7624-4682-8a22-966a5c46c7b5\",\n              \"name\": \"email\",\n              \"type\": \"string\",\n              \"value\": \"youremail@example.com\"\n            },\n            {\n              \"id\": \"c9b83d56-8b24-4767-bc83-0eb0b5f62986\",\n              \"name\": \"attendees\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.attendees }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"600667b6-aae3-4a9e-a71c-a0819921a823\",\n      \"name\": \"Send Report\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        600,\n        260\n      ],\n      \"webhookId\": \"86c63a4a-64e7-41e5-b657-c80b59dce562\",\n      \"parameters\": {\n        \"sendTo\": \"={{ $('Edit Fields').item.json.email }}\",\n        \"message\": \"={{ $json.data }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"=Meeting Briefing: {{ $('Google Calendar Trigger').item.json.summary }} ({{ new Date($('Google Calendar Trigger').item.json.start.dateTime).format(\\\"dd/MM/yyyy\\\") }})\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"aXTuNMJaYuKFOKTa\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"863c58b1-3b88-4b25-9191-31c77c2911cd\",\n      \"name\": \"Person Prompt\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        780,\n        960\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7096cd1e-179c-4230-b869-73f7cb1a9ff9\",\n              \"name\": \"prompt\",\n              \"type\": \"string\",\n              \"value\": \"=I have a call scheduled with {{ $('For Each Attendee').item.json.email }} Please find out as much as you can about the owner of this email address. \\n\\n- What do they do? \\n- What are their interests? \\n- What might I not know about them?\\n\\n{{ $('For Each Attendee').item.json.email.match(/@(gmail\\\\.com|hotmail\\\\.com|yahoo\\\\.com|outlook\\\\.com|icloud\\\\.com|aol\\\\.com|live\\\\.com|msn\\\\.com|protonmail\\\\.com|me\\\\.com|mail\\\\.com|gmx\\\\.com|yandex\\\\.com)/) ? '' : `Make sure to crawl their company website (http:/$('For Each Attendee').item.json.email.split('@')[1]}) to see if there's anything there.` }} \\n\\nFor context: {{ $('Edit Fields').item.json.email }}. If there is any ambiguity, use this information to find the most likely person to be meeting with me.\\n\\nDon't tailor your answer to this context - stay objective about the person only. Make your answer less than 100 words.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"dbc54bdb-1b50-44ae-a3d2-b4ab33d1ecc3\",\n      \"name\": \"Company Prompt\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        440,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"9d1121f3-a5a6-4f73-8726-0a84cad94e77\",\n              \"name\": \"prompt\",\n              \"type\": \"string\",\n              \"value\": \"=Check out the website http://{{ $('For Each Attendee').item.json.email.split(\\\"@\\\")[1] }}). \\n\\n- What does this company do? \\n- What problem do they solve? \\n- What is their business model? \\n\\nFor context about me: {{ $('Edit Fields').item.json.context }}.\\n\\nDon't mention anything about this context in your answer - stay objective about the company. Make your answer less than 100 words. \\n\\nIf you are unable to find a company at this URL, just write 'Company Not Found'.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Write HTML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Attendees\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Person Prompt\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Research Person\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Collect Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For Each Attendee\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Company Prompt\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Research Company\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Research Person\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Collect Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Research Company\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Person Prompt\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Out Myself\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For Each Attendee\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"For Each Attendee\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Combine All Research\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Is Company Email?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Company Email?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Company Prompt\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Person Prompt\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Attendees\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Out Myself\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Combine All Research\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Write HTML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Calendar Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}