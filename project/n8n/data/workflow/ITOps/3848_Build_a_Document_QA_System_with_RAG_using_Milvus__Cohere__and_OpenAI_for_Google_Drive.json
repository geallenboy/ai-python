{
  "title": "Build a Document QA System with RAG using Milvus, Cohere, and OpenAI for Google Drive",
  "url": "https://n8n.io/workflows/3848-build-a-document-qa-system-with-rag-using-milvus-cohere-and-openai-for-google-drive/",
  "category": "ITOps",
  "category_url": "https://n8n.io/workflows/categories/it-ops/?sort=createdAt:desc",
  "author": "Aitor | 1node.ai",
  "publish_date": "Last update 6 hours ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"2Eba0OHGtOmoTWOU\",\"meta\":{\"instanceId\":\"9219ebc7795bea866f70aa3d977d54417fdf06c41944be95e20cfb60f992db19\",\"templateCredsSetupCompleted\":true},\"name\":\"RAG AI Agent with Milvus and Cohere\",\"tags\":[{\"id\":\"yj7cF3GCsZiargFT\",\"name\":\"rag\",\"createdAt\":\"2025-05-03T17:14:30.099Z\",\"updatedAt\":\"2025-05-03T17:14:30.099Z\"}],\"nodes\":[{\"id\":\"361065cc-edbf-47da-8da7-c59b564db6f3\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[0,320],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"a01b9512-ced1-4e28-a2aa-88077ab79d9a\",\"name\":\"Embeddings Cohere\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsCohere\",\"position\":[-140,320],\"parameters\":{\"modelName\":\"embed-multilingual-v3.0\"},\"credentials\":{\"cohereApi\":{\"id\":\"8gcYMleu1b8Hm03D\",\"name\":\"CohereApi account\"}},\"typeVersion\":1},{\"id\":\"1da6ea4b-de88-44d3-a215-78c55b5592a2\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-800,520],\"webhookId\":\"a4257301-3fb9-4b9d-a965-1fa66f314696\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"23004477-3f6d-4909-a626-0eba0557a5bd\",\"name\":\"Watch New Files\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[-800,100],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"15gjDQZiHZuBeVscnK8Ic_kIWt3mOaVfs\",\"cachedResultUrl\":\"https://drive.google.com/drive/folders/15gjDQZiHZuBeVscnK8Ic_kIWt3mOaVfs\",\"cachedResultName\":\"RAG template\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"r1DVmNxwkIL8JO17\",\"name\":\"Google Drive account\"}},\"typeVersion\":1},{\"id\":\"001fbdbe-dfcb-4552-bf09-de416b253389\",\"name\":\"Download New\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[-580,100],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"r1DVmNxwkIL8JO17\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"c1116cba-beb9-4d28-843d-c5c21c0643de\",\"name\":\"Insert into Milvus\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\"position\":[-124,100],\"parameters\":{\"mode\":\"insert\",\"options\":{\"clearCollection\":false},\"milvusCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"collectionName\",\"cachedResultName\":\"collectionName\"}},\"credentials\":{\"milvusApi\":{\"id\":\"Gpsxqr2l9Qxu48h0\",\"name\":\"Milvus account\"}},\"typeVersion\":1.1},{\"id\":\"2dbc7139-46f6-41d8-8c13-9fafad5aec55\",\"name\":\"RAG Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-540,520],\"parameters\":{\"options\":{}},\"typeVersion\":1.8},{\"id\":\"a103506e-9019-41f2-9b0d-9b831434c9e9\",\"name\":\"Retrieve from Milvus\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\"position\":[-340,740],\"parameters\":{\"mode\":\"retrieve-as-tool\",\"topK\":10,\"toolName\":\"vector_store\",\"toolDescription\":\"You are an AI agent that responds based on information received from a vector database.\",\"milvusCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"collectionName\",\"cachedResultName\":\"collectionName\"}},\"credentials\":{\"milvusApi\":{\"id\":\"Gpsxqr2l9Qxu48h0\",\"name\":\"Milvus account\"}},\"typeVersion\":1.1},{\"id\":\"74ccdff1-b976-4e1c-a2c4-237ffff19e34\",\"name\":\"OpenAI 4o\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-580,740],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"vupAk5StuhOafQcb\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"36e35eaf-f723-4eeb-9658-143d5bc390a0\",\"name\":\"Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-460,740],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"ec7b6b92-065c-455c-a3f0-17586d9e48d7\",\"name\":\"Cohere embeddings\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsCohere\",\"position\":[-220,900],\"parameters\":{\"modelName\":\"embed-multilingual-v3.0\"},\"credentials\":{\"cohereApi\":{\"id\":\"8gcYMleu1b8Hm03D\",\"name\":\"CohereApi account\"}},\"typeVersion\":1},{\"id\":\"3c3a8900-0b98-4479-8602-16b21e011ba1\",\"name\":\"Set Chunks\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\"position\":[80,480],\"parameters\":{\"options\":{},\"chunkSize\":700,\"chunkOverlap\":60},\"typeVersion\":1},{\"id\":\"3a43bf1a-7e22-4b5e-bbb1-6bb2c1798c07\",\"name\":\"Extract from File\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[-360,100],\"parameters\":{\"options\":{},\"operation\":\"pdf\"},\"typeVersion\":1},{\"id\":\"e0c9d4d7-5e3e-4e47-bb1f-dbdca360b20a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1440,120],\"parameters\":{\"color\":2,\"width\":540,\"height\":600,\"content\":\"## Why Milvus\\nBased on comparisons and user feedback, **Milvus is often considered a more performant and scalable vector database solution compared to Supabase**, particularly for demanding use cases involving large datasets, high-volume vector search operations, and multilingual support.\\n\\n\\n### Requirements\\n- Create an account on [Zilliz](https://zilliz.com/) to generate the Milvus cluster. \\n- There is no need to create docker containers or your own instance, Zilliz provides the cloud infraestructure to build it easily\\n- Get your credentials ready from Drive, Milvus (Zilliz), and [Cohere](https://cohere.com)\\n\\n### Usage\\nEvery time a new pdf is added into the Drive folder, it will be inserted into the Milvus Vector Store, allowing for the interaction with the RAG agent in seconds.\\n\\n## Calculate your company's RAG costs\\n\\nWant to run Milvus on your own server on n8n? Zilliz provides a great [cost calculator](https://zilliz.com/rag-cost-calculator/)\\n\\n### Get in touch with us\\nWant to implement a RAG AI agent for your company? [Shoot us a message](https://1node.ai)\\n\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"8b5fc2b8-50f7-425c-8fc8-94ba4f76ecf3\",\"connections\":{\"Memory\":{\"ai_memory\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI 4o\":{\"ai_languageModel\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Set Chunks\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"Download New\":{\"main\":[[{\"node\":\"Extract from File\",\"type\":\"main\",\"index\":0}]]},\"Watch New Files\":{\"main\":[[{\"node\":\"Download New\",\"type\":\"main\",\"index\":0}]]},\"Cohere embeddings\":{\"ai_embedding\":[[{\"node\":\"Retrieve from Milvus\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Embeddings Cohere\":{\"ai_embedding\":[[{\"node\":\"Insert into Milvus\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Extract from File\":{\"main\":[[{\"node\":\"Insert into Milvus\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Insert into Milvus\",\"type\":\"ai_document\",\"index\":0}]]},\"Retrieve from Milvus\":{\"ai_tool\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"RAG Agent\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Template Description\n\nThis template creates a powerful Retrieval Augmented Generation (RAG) AI agent workflow in [n8n](https://n8n.partnerlinks.io/5xf5bs8y3ruv). It monitors a specified Google Drive folder for new PDF files, extracts their content, generates vector embeddings using Cohere, and stores these embeddings in a Milvus vector database. Subsequently, it enables a RAG agent that can retrieve relevant information from the Milvus database based on user queries and generate responses using OpenAI, enhanced by the retrieved context.\n\n### Functionality\n\nThe workflow automates the process of ingesting documents into a vector database for use with a RAG system.\n\n  1. **Watch New Files:** Triggers when a new file (specifically targeting PDFs) is added to a designated Google Drive folder.\n\n  2. **Download New:** Downloads the newly added file from Google Drive.\n\n  3. **Extract from File:** Extracts text content from the downloaded PDF file.\n\n  4. **Default Data Loader / Set Chunks:** Processes the extracted text, splitting it into manageable chunks for embedding.\n\n  5. **Embeddings Cohere:** Generates vector embeddings for each text chunk using the Cohere API.\n\n  6. **Insert into Milvus:** Inserts the generated vector embeddings and associated metadata into a Milvus vector database.\n\n  7. **When chat message received:** Adapt the trigger tool to fit your needs.\n\n  8. **RAG Agent:** Orchestrates the RAG process.\n\n  9. **Retrieve from Milvus:** Queries the Milvus database with the user's chat query to find the most relevant chunks.\n\n  10. **Memory:** Manages conversation history for the RAG agent to optimize cost and response speed.\n\n  11. **OpenAI / Cohere embeddings:** Uses ChatGPT 4o for text generation.\n\n\n\n\n### Requirements\n\nTo use this template, you will need:\n\n  * An [n8n instance](https://n8n.partnerlinks.io/5xf5bs8y3ruv) (cloud or self-hosted).\n\n  * Access to a Google Drive account to monitor a folder.\n\n  * A Milvus instance or access to a Milvus cloud service like [Zilliz](https://zilliz.com).\n\n  * A [Cohere](https://cohere.com) API key for generating embeddings.\n\n  * An OpenAI API key for the RAG agent's text generation.\n\n\n\n\n### Usage\n\n  1. Set up the required credentials in n8n for Google Drive, Milvus, Cohere, and OpenAI.\n\n  2. Configure the \"Watch New Files\" node to point to the Google Drive folder you want to monitor for PDFs.\n\n  3. Ensure your Milvus instance is running and the target cluster is set up correctly.\n\n  4. Activate the workflow.\n\n  5. Add PDF files to the monitored Google Drive folder. The workflow will automatically process them and insert their embeddings into Milvus.\n\n  6. Interact with the RAG agent. The agent will use the data in Milvus to provide context-aware answers.\n\n\n\n\n### Benefits\n\n  * Automates document ingestion for RAG applications.\n\n  * Leverages Milvus for high-performance vector storage and search.\n\n  * Uses Cohere for generating high-quality text embeddings.\n\n  * Enables building a context-aware AI agent using your own documents.\n\n\n\n\n### Suggested improvements\n\n  * **Support for More File Types:** Extend the \"Watch New Files\" node and subsequent extraction steps to handle various document types (e.g., .docx, .txt, .csv, web pages) in addition to PDFs.\n\n  * **Error Handling and Notifications:** Implement robust error handling for each step of the workflow (e.g., failed downloads, extraction errors, Milvus insertion failures) and add notification mechanisms (e.g., email, Slack) to alert the user.\n\n\n\n\n### Get in touch with us\n\nContact us at <https://1node.ai>\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h3>Template Description</h3>\n<p>This template creates a powerful Retrieval Augmented Generation (RAG) AI agent workflow in <a href=\"https://n8n.partnerlinks.io/5xf5bs8y3ruv\" rel=\"ugc nofollow\" target=\"_blank\">n8n</a>. It monitors a specified Google Drive folder for new PDF files, extracts their content, generates vector embeddings using Cohere, and stores these embeddings in a Milvus vector database. Subsequently, it enables a RAG agent that can retrieve relevant information from the Milvus database based on user queries and generate responses using OpenAI, enhanced by the retrieved context.</p>\n<h3>Functionality</h3>\n<p>The workflow automates the process of ingesting documents into a vector database for use with a RAG system.</p>\n<ol>\n<li>\n<p><strong>Watch New Files:</strong> Triggers when a new file (specifically targeting PDFs) is added to a designated Google Drive folder.</p>\n</li>\n<li>\n<p><strong>Download New:</strong> Downloads the newly added file from Google Drive.</p>\n</li>\n<li>\n<p><strong>Extract from File:</strong> Extracts text content from the downloaded PDF file.</p>\n</li>\n<li>\n<p><strong>Default Data Loader / Set Chunks:</strong> Processes the extracted text, splitting it into manageable chunks for embedding.</p>\n</li>\n<li>\n<p><strong>Embeddings Cohere:</strong> Generates vector embeddings for each text chunk using the Cohere API.</p>\n</li>\n<li>\n<p><strong>Insert into Milvus:</strong> Inserts the generated vector embeddings and associated metadata into a Milvus vector database.</p>\n</li>\n<li>\n<p><strong>When chat message received:</strong> Adapt the trigger tool to fit your needs.</p>\n</li>\n<li>\n<p><strong>RAG Agent:</strong> Orchestrates the RAG process.</p>\n</li>\n<li>\n<p><strong>Retrieve from Milvus:</strong> Queries the Milvus database with the user's chat query to find the most relevant chunks.</p>\n</li>\n<li>\n<p><strong>Memory:</strong> Manages conversation history for the RAG agent to optimize cost and response speed.</p>\n</li>\n<li>\n<p><strong>OpenAI / Cohere embeddings:</strong> Uses ChatGPT 4o for text generation.</p>\n</li>\n</ol>\n<h3>Requirements</h3>\n<p>To use this template, you will need:</p>\n<ul>\n<li>\n<p>An <a href=\"https://n8n.partnerlinks.io/5xf5bs8y3ruv\" rel=\"ugc nofollow\" target=\"_blank\">n8n instance</a> (cloud or self-hosted).</p>\n</li>\n<li>\n<p>Access to a Google Drive account to monitor a folder.</p>\n</li>\n<li>\n<p>A Milvus instance or access to a Milvus cloud service like <a href=\"https://zilliz.com\" rel=\"ugc nofollow\" target=\"_blank\">Zilliz</a>.</p>\n</li>\n<li>\n<p>A <a href=\"https://cohere.com\" rel=\"ugc nofollow\" target=\"_blank\">Cohere</a> API key for generating embeddings.</p>\n</li>\n<li>\n<p>An OpenAI API key for the RAG agent's text generation.</p>\n</li>\n</ul>\n<h3>Usage</h3>\n<ol>\n<li>\n<p>Set up the required credentials in n8n for Google Drive, Milvus, Cohere, and OpenAI.</p>\n</li>\n<li>\n<p>Configure the \"Watch New Files\" node to point to the Google Drive folder you want to monitor for PDFs.</p>\n</li>\n<li>\n<p>Ensure your Milvus instance is running and the target cluster is set up correctly.</p>\n</li>\n<li>\n<p>Activate the workflow.</p>\n</li>\n<li>\n<p>Add PDF files to the monitored Google Drive folder. The workflow will automatically process them and insert their embeddings into Milvus.</p>\n</li>\n<li>\n<p>Interact with the RAG agent. The agent will use the data in Milvus to provide context-aware answers.</p>\n</li>\n</ol>\n<h3>Benefits</h3>\n<ul>\n<li>\n<p>Automates document ingestion for RAG applications.</p>\n</li>\n<li>\n<p>Leverages Milvus for high-performance vector storage and search.</p>\n</li>\n<li>\n<p>Uses Cohere for generating high-quality text embeddings.</p>\n</li>\n<li>\n<p>Enables building a context-aware AI agent using your own documents.</p>\n</li>\n</ul>\n<h3>Suggested improvements</h3>\n<ul>\n<li>\n<p><strong>Support for More File Types:</strong> Extend the \"Watch New Files\" node and subsequent extraction steps to handle various document types (e.g., .docx, .txt, .csv, web pages) in addition to PDFs.</p>\n</li>\n<li>\n<p><strong>Error Handling and Notifications:</strong> Implement robust error handling for each step of the workflow (e.g., failed downloads, extraction errors, Milvus insertion failures) and add notification mechanisms (e.g., email, Slack) to alert the user.</p>\n</li>\n</ul>\n<h3>Get in touch with us</h3>\n<p>Contact us at <a href=\"https://1node.ai\" rel=\"ugc nofollow\" target=\"_blank\">https://1node.ai</a></p>\n</div><!--]-->",
  "readme_zh": "### 模板描述\n\n本模板在[n8n](https://n8n.partnerlinks.io/5xf5bs8y3ruv)中构建了一个强大的检索增强生成（RAG）AI智能体工作流。它能监控指定Google Drive文件夹中的新增PDF文件，提取内容并通过Cohere生成向量嵌入，随后将这些嵌入存储至Milvus向量数据库。基于用户查询，该工作流可驱动RAG智能体从Milvus数据库中检索相关信息，并利用OpenAI结合检索上下文生成增强回复。\n\n### 功能说明\n\n该工作流实现了将文档自动注入向量数据库以供RAG系统使用的全流程：\n\n1. **监控新增文件**：当指定Google Drive文件夹中出现新增PDF文件时触发  \n2. **下载文件**：从Google Drive获取新增文件  \n3. **文本提取**：解析PDF文件内容  \n4. **数据分块**：将提取的文本分割为适合嵌入处理的片段  \n5. **生成嵌入**：通过Cohere API为每个文本片段生成向量嵌入  \n6. **存入Milvus**：将向量嵌入及相关元数据存入Milvus向量数据库  \n7. **接收聊天消息**：可根据需求自定义触发机制  \n8. **RAG智能体**：协调整个检索增强生成流程  \n9. **Milvus检索**：根据用户查询在数据库中查找最相关文本片段  \n10. **记忆管理**：维护对话历史记录以优化响应速度与成本  \n11. **文本生成**：采用ChatGPT 4o进行最终回复生成  \n\n### 使用要求\n\n- 可运行的[n8n实例](https://n8n.partnerlinks.io/5xf5bs8y3ruv)（云端或自托管）  \n- 具备监控权限的Google Drive账户  \n- Milvus实例或[Zilliz](https://zilliz.com)等云服务  \n- [Cohere](https://cohere.com) API密钥（用于生成嵌入）  \n- OpenAI API密钥（用于文本生成）  \n\n### 使用指南\n\n1. 在n8n中配置Google Drive、Milvus、Cohere和OpenAI的访问凭证  \n2. 设置\"监控新增文件\"节点指向目标Google Drive文件夹  \n3. 确保Milvus实例正常运行且集群配置正确  \n4. 激活工作流  \n5. 向监控文件夹添加PDF文件，工作流将自动处理并存入Milvus  \n6. 与RAG智能体交互，系统将基于Milvus数据提供情境化应答  \n\n### 核心优势\n\n- 实现RAG应用的文档自动化注入  \n- 利用Milvus实现高性能向量存储与检索  \n- 通过Cohere生成高质量文本嵌入  \n- 支持基于自有文档构建情境感知AI智能体  \n\n### 优化建议\n\n- **扩展文件支持**：增强\"监控新增文件\"节点以支持更多格式（如.docx/.txt/.csv/网页）  \n- **错误处理机制**：为各环节（如下载失败/解析错误/数据库写入异常）添加错误处理与通知功能（邮件/Slack等）  \n\n### 联系我们\n\n访问 <https://1node.ai> 获取支持",
  "title_zh": "使用Milvus、Cohere和OpenAI为Google Drive构建基于RAG的文档问答系统",
  "publish_date_zh": "最后更新于6小时前",
  "workflow_json_zh": "{\"id\":\"2Eba0OHGtOmoTWOU\",\"meta\":{\"instanceId\":\"9219ebc7795bea866f70aa3d977d54417fdf06c41944be95e20cfb60f992db19\",\"templateCredsSetupCompleted\":true},\"name\":\"RAG AI Agent with Milvus and Cohere\",\"tags\":[{\"id\":\"yj7cF3GCsZiargFT\",\"name\":\"rag\",\"createdAt\":\"2025-05-03T17:14:30.099Z\",\"updatedAt\":\"2025-05-03T17:14:30.099Z\"}],\"nodes\":[{\"id\":\"361065cc-edbf-47da-8da7-c59b564db6f3\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[0,320],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"a01b9512-ced1-4e28-a2aa-88077ab79d9a\",\"name\":\"Embeddings Cohere\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsCohere\",\"position\":[-140,320],\"parameters\":{\"modelName\":\"embed-multilingual-v3.0\"},\"credentials\":{\"cohereApi\":{\"id\":\"8gcYMleu1b8Hm03D\",\"name\":\"CohereApi account\"}},\"typeVersion\":1},{\"id\":\"1da6ea4b-de88-44d3-a215-78c55b5592a2\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-800,520],\"webhookId\":\"a4257301-3fb9-4b9d-a965-1fa66f314696\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"23004477-3f6d-4909-a626-0eba0557a5bd\",\"name\":\"Watch New Files\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[-800,100],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"15gjDQZiHZuBeVscnK8Ic_kIWt3mOaVfs\",\"cachedResultUrl\":\"https://drive.google.com/drive/folders/15gjDQZiHZuBeVscnK8Ic_kIWt3mOaVfs\",\"cachedResultName\":\"RAG template\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"r1DVmNxwkIL8JO17\",\"name\":\"Google Drive account\"}},\"typeVersion\":1},{\"id\":\"001fbdbe-dfcb-4552-bf09-de416b253389\",\"name\":\"Download New\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[-580,100],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"r1DVmNxwkIL8JO17\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"c1116cba-beb9-4d28-843d-c5c21c0643de\",\"name\":\"Insert into Milvus\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\"position\":[-124,100],\"parameters\":{\"mode\":\"insert\",\"options\":{\"clearCollection\":false},\"milvusCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"collectionName\",\"cachedResultName\":\"collectionName\"}},\"credentials\":{\"milvusApi\":{\"id\":\"Gpsxqr2l9Qxu48h0\",\"name\":\"Milvus account\"}},\"typeVersion\":1.1},{\"id\":\"2dbc7139-46f6-41d8-8c13-9fafad5aec55\",\"name\":\"RAG Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-540,520],\"parameters\":{\"options\":{}},\"typeVersion\":1.8},{\"id\":\"a103506e-9019-41f2-9b0d-9b831434c9e9\",\"name\":\"Retrieve from Milvus\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\"position\":[-340,740],\"parameters\":{\"mode\":\"retrieve-as-tool\",\"topK\":10,\"toolName\":\"vector_store\",\"toolDescription\":\"You are an AI agent that responds based on information received from a vector database.\",\"milvusCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"collectionName\",\"cachedResultName\":\"collectionName\"}},\"credentials\":{\"milvusApi\":{\"id\":\"Gpsxqr2l9Qxu48h0\",\"name\":\"Milvus account\"}},\"typeVersion\":1.1},{\"id\":\"74ccdff1-b976-4e1c-a2c4-237ffff19e34\",\"name\":\"OpenAI 4o\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-580,740],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"vupAk5StuhOafQcb\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"36e35eaf-f723-4eeb-9658-143d5bc390a0\",\"name\":\"Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-460,740],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"ec7b6b92-065c-455c-a3f0-17586d9e48d7\",\"name\":\"Cohere embeddings\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsCohere\",\"position\":[-220,900],\"parameters\":{\"modelName\":\"embed-multilingual-v3.0\"},\"credentials\":{\"cohereApi\":{\"id\":\"8gcYMleu1b8Hm03D\",\"name\":\"CohereApi account\"}},\"typeVersion\":1},{\"id\":\"3c3a8900-0b98-4479-8602-16b21e011ba1\",\"name\":\"Set Chunks\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\"position\":[80,480],\"parameters\":{\"options\":{},\"chunkSize\":700,\"chunkOverlap\":60},\"typeVersion\":1},{\"id\":\"3a43bf1a-7e22-4b5e-bbb1-6bb2c1798c07\",\"name\":\"Extract from File\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[-360,100],\"parameters\":{\"options\":{},\"operation\":\"pdf\"},\"typeVersion\":1},{\"id\":\"e0c9d4d7-5e3e-4e47-bb1f-dbdca360b20a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1440,120],\"parameters\":{\"color\":2,\"width\":540,\"height\":600,\"content\":\"## Why Milvus\\nBased on comparisons and user feedback, **Milvus is often considered a more performant and scalable vector database solution compared to Supabase**, particularly for demanding use cases involving large datasets, high-volume vector search operations, and multilingual support.\\n\\n\\n### Requirements\\n- Create an account on [Zilliz](https://zilliz.com/) to generate the Milvus cluster. \\n- There is no need to create docker containers or your own instance, Zilliz provides the cloud infraestructure to build it easily\\n- Get your credentials ready from Drive, Milvus (Zilliz), and [Cohere](https://cohere.com)\\n\\n### Usage\\nEvery time a new pdf is added into the Drive folder, it will be inserted into the Milvus Vector Store, allowing for the interaction with the RAG agent in seconds.\\n\\n## Calculate your company's RAG costs\\n\\nWant to run Milvus on your own server on n8n? Zilliz provides a great [cost calculator](https://zilliz.com/rag-cost-calculator/)\\n\\n### Get in touch with us\\nWant to implement a RAG AI agent for your company? [Shoot us a message](https://1node.ai)\\n\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"8b5fc2b8-50f7-425c-8fc8-94ba4f76ecf3\",\"connections\":{\"Memory\":{\"ai_memory\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI 4o\":{\"ai_languageModel\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Set Chunks\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"Download New\":{\"main\":[[{\"node\":\"Extract from File\",\"type\":\"main\",\"index\":0}]]},\"Watch New Files\":{\"main\":[[{\"node\":\"Download New\",\"type\":\"main\",\"index\":0}]]},\"Cohere embeddings\":{\"ai_embedding\":[[{\"node\":\"Retrieve from Milvus\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Embeddings Cohere\":{\"ai_embedding\":[[{\"node\":\"Insert into Milvus\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Extract from File\":{\"main\":[[{\"node\":\"Insert into Milvus\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Insert into Milvus\",\"type\":\"ai_document\",\"index\":0}]]},\"Retrieve from Milvus\":{\"ai_tool\":[[{\"node\":\"RAG Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"RAG Agent\",\"type\":\"main\",\"index\":0}]]}}}"
}