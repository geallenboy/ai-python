{
  "title": "Extract Named Entities from Web Pages with Google Natural Language API",
  "url": "https://n8n.io/workflows/3950-extract-named-entities-from-web-pages-with-google-natural-language-api/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "Hueston",
  "publish_date": "Last update a day ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"4wPgPbxtojrUO7Dx\",\"meta\":{\"instanceId\":\"f46651348590f9c7e3e7fe91218ed49590c553ab737d5cc247951397ff85fa93\"},\"name\":\"Google Page Entity Extraction Template\",\"tags\":[{\"id\":\"hBkrfz3jN0GbUgJa\",\"name\":\"Google Page Entity Extraction Template\",\"createdAt\":\"2025-05-08T23:29:39.011Z\",\"updatedAt\":\"2025-05-08T23:29:39.011Z\"}],\"nodes\":[{\"id\":\"8719f1de-2a3e-4c34-9edc-e4b8f993b525\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1240,-420],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"01420fd5-3483-4e74-b9fc-971199898449\",\"name\":\"Google Entities\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1020,-420],\"parameters\":{\"url\":\"https://language.googleapis.com/v1/documents:analyzeEntities\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={{ $json.apiRequest }}\",\"sendBody\":true,\"sendQuery\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"queryParameters\":{\"parameters\":[{\"name\":\"key\",\"value\":\"YOUR-GOOGLE-API-KEY\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"typeVersion\":4.2},{\"id\":\"5c1c258a-44ed-4d5a-a22d-cddb4df09018\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-300,-700],\"parameters\":{\"color\":4,\"width\":620,\"height\":880,\"content\":\"# Google Page Entity Extraction Template\\n\\n## What this workflow does\\nThis workflow allows you to extract named entities (people, organizations, locations, etc.) from any web page using Google's Natural Language API. Simply send a URL to the webhook endpoint, and the workflow will fetch the page content, process it through Google's entity recognition service, and return the structured entity data.\\n\\n### How to use\\n1. Replace \\\"YOUR-GOOGLE-API-KEY\\\" with your actual Google Cloud API key (Natural Language API must be enabled)\\n2. Activate the workflow and use the webhook URL as your endpoint\\n3. Send a POST request to the webhook with a JSON body containing the URL you want to analyze: {\\\"url\\\": \\\"https://example.com/page\\\"}\\n4. Review the returned entity analysis with categories, salience scores, and metadata\\n\\n## Webhook Input Format\\nThe webhook expects a POST request with a JSON body in this format:\\n```json\\n{\\n  \\\"url\\\": \\\"https://website-to-analyze.com/page\\\"\\n}\\n```\\n### Response Format\\nThe webhook returns a JSON response containing the full entity analysis from Google's Natural Language API, including:\\n\\nEntity names and types (PERSON, LOCATION, ORGANIZATION, etc.)\\nSalience scores indicating entity importance\\nMetadata and mentions within the text\\nEntity sentiment (if available)\"},\"typeVersion\":1},{\"id\":\"79add9a7-adca-4ce5-8a6a-5fcb75288846\",\"name\":\"Get Url\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[360,-420],\"webhookId\":\"2944c8f6-03cd-4ab8-8b8e-cb033edf877a\",\"parameters\":{\"path\":\"2944c8f6-03cd-4ab8-8b8e-cb033edf877a\",\"options\":{},\"httpMethod\":\"POST\",\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"081a52bc-2da7-44fb-bdc3-4cb73cbf8dd3\",\"name\":\"Get URL Page Contents\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[580,-420],\"parameters\":{\"url\":\"={{ $json.body.url }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"dda5ef3d-f031-4dd6-b117-c1f69aa66b63\",\"name\":\"Respond with detected entities\",\"type\":\"n8n-nodes-base.code\",\"position\":[800,-420],\"parameters\":{\"jsCode\":\"// Clean and prepare HTML for API request\\nconst html = $input.item.json.data;\\n// Trim if too large (optional)\\nconst trimmedHtml = html.length > 100000 ? html.substring(0, 100000) : html;\\n\\nreturn {\\n  json: {\\n    apiRequest: {\\n      document: {\\n        type: \\\"HTML\\\",\\n        content: trimmedHtml\\n      },\\n      encodingType: \\\"UTF8\\\"\\n    }\\n  }\\n}\"},\"typeVersion\":2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"432203af-190a-4a89-81d8-f86682a0b63f\",\"connections\":{\"Get Url\":{\"main\":[[{\"node\":\"Get URL Page Contents\",\"type\":\"main\",\"index\":0}]]},\"Google Entities\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]},\"Get URL Page Contents\":{\"main\":[[{\"node\":\"Respond with detected entities\",\"type\":\"main\",\"index\":0}]]},\"Respond with detected entities\":{\"main\":[[{\"node\":\"Google Entities\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Who is this for?\n\n  * Content strategists analyzing web page semantic content\n  * SEO professionals conducting entity-based analysis\n  * Data analysts extracting structured data from web pages\n  * Marketers researching competitor content strategies\n  * Researchers organizing and categorizing web content\n  * Anyone needing to automatically extract entities from web pages\n\n\n\n### What problem is this workflow solving?\n\nManually identifying and categorizing entities (people, organizations, locations, etc.) on web pages is time-consuming and error-prone. This workflow solves this challenge by:\n\n  * Automating the extraction of named entities from any web page\n  * Leveraging Google's powerful Natural Language API for accurate entity recognition\n  * Processing web pages through a simple webhook interface\n  * Providing structured entity data that can be used for analysis or further processing\n  * Eliminating hours of manual content analysis and categorization\n\n\n\n## What this workflow does\n\nThis workflow creates an automated pipeline between a webhook and Google's Natural Language API to:\n\n  1. Receive a URL through a webhook endpoint\n  2. Fetch the HTML content from the specified URL\n  3. Clean and prepare the HTML for processing\n  4. Submit the HTML to Google's Natural Language API for entity analysis\n  5. Return the structured entity data through the webhook response\n  6. Extract entities including people, organizations, locations, and more with their salience scores\n\n\n\n### Setup\n\nPrerequisites:\n\n  * An n8n instance (cloud or self-hosted)\n  * Google Cloud Platform account with Natural Language API enabled\n  * Google API key with access to the Natural Language API\n\n\n\n### Google Cloud Setup:\n\n  * Create a project in Google Cloud Platform\n  * Enable the Natural Language API for your project\n  * Create an API key with access to the Natural Language API\n  * Copy your API key for use in the workflow\n\n\n\n### n8n Setup:\n\n  * Import the workflow JSON into your n8n instance\n  * Replace \"YOUR-GOOGLE-API-KEY\" in the \"Google Entities\" node with your actual API key\n  * Activate the workflow to enable the webhook endpoint\n  * Copy the webhook URL from the \"Webhook\" node for later use\n\n\n\n### Testing:\n\n  * Use a tool like Postman or cURL to send a POST request to your webhook URL\n  * Include a JSON body with the URL you want to analyze: {\"url\": \"<https://example.com>\"}\n  * Verify that you receive a response containing the entity analysis data\n\n\n\n### How to customize this workflow to your needs\n\n### Analyzing Specific Entity\n\n  * Modify the \"Google Entities\" node parameters to include entityType filters\n  * Add a \"Function\" node after \"Google Entities\" to filter specific entity types\n  * Create conditions to extract only entities of interest (people, organizations, etc.)\n\n\n\n### Processing Multiple URLs in Batch:\n\n  * Replace the webhook with a different trigger (HTTP Request, Google Sheets, etc.)\n  * Add a \"Split In Batches\" node to process multiple URLs\n  * Use a \"Merge\" node to combine results before sending the response\n\n\n\n### Enhancing Entity Data:\n\n  * Add additional API calls to enrich extracted entities with more information\n  * Implement sentiment analysis alongside entity extraction\n  * Create a data transformation node to format entities by type or relevance\n\n\n\n### Additional Notes\n\n  * This workflow respects Google's API rate limits by processing one URL at a time\n  * The Natural Language API may not identify all entities on a page, particularly for highly technical content\n  * HTML content is trimmed to 100,000 characters if longer to avoid API limitations\n  * Consider legal and privacy implications when analyzing and storing entity data from web pages\n  * You may want to adjust the HTML cleaning process for specific website structures\n\n\n\n❤️ [Hueston SEO Team](https://hueston.co)\n",
  "readme_html": "<!--[--><div data-v-859c7806=\"\"><h3>Who is this for?</h3>\n<ul>\n<li>Content strategists analyzing web page semantic content</li>\n<li>SEO professionals conducting entity-based analysis</li>\n<li>Data analysts extracting structured data from web pages</li>\n<li>Marketers researching competitor content strategies</li>\n<li>Researchers organizing and categorizing web content</li>\n<li>Anyone needing to automatically extract entities from web pages</li>\n</ul>\n<h3>What problem is this workflow solving?</h3>\n<p>Manually identifying and categorizing entities (people, organizations, locations, etc.) on web pages is time-consuming and error-prone. This workflow solves this challenge by:</p>\n<ul>\n<li>Automating the extraction of named entities from any web page</li>\n<li>Leveraging Google's powerful Natural Language API for accurate entity recognition</li>\n<li>Processing web pages through a simple webhook interface</li>\n<li>Providing structured entity data that can be used for analysis or further processing</li>\n<li>Eliminating hours of manual content analysis and categorization</li>\n</ul>\n<h2>What this workflow does</h2>\n<p>This workflow creates an automated pipeline between a webhook and Google's Natural Language API to:</p>\n<ol>\n<li>Receive a URL through a webhook endpoint</li>\n<li>Fetch the HTML content from the specified URL</li>\n<li>Clean and prepare the HTML for processing</li>\n<li>Submit the HTML to Google's Natural Language API for entity analysis</li>\n<li>Return the structured entity data through the webhook response</li>\n<li>Extract entities including people, organizations, locations, and more with their salience scores</li>\n</ol>\n<h3>Setup</h3>\n<p>Prerequisites:</p>\n<ul>\n<li>An n8n instance (cloud or self-hosted)</li>\n<li>Google Cloud Platform account with Natural Language API enabled</li>\n<li>Google API key with access to the Natural Language API</li>\n</ul>\n<h3>Google Cloud Setup:</h3>\n<ul>\n<li>Create a project in Google Cloud Platform</li>\n<li>Enable the Natural Language API for your project</li>\n<li>Create an API key with access to the Natural Language API</li>\n<li>Copy your API key for use in the workflow</li>\n</ul>\n<h3>n8n Setup:</h3>\n<ul>\n<li>Import the workflow JSON into your n8n instance</li>\n<li>Replace \"YOUR-GOOGLE-API-KEY\" in the \"Google Entities\" node with your actual API key</li>\n<li>Activate the workflow to enable the webhook endpoint</li>\n<li>Copy the webhook URL from the \"Webhook\" node for later use</li>\n</ul>\n<h3>Testing:</h3>\n<ul>\n<li>Use a tool like Postman or cURL to send a POST request to your webhook URL</li>\n<li>Include a JSON body with the URL you want to analyze: {\"url\": \"<a href=\"https://example.com\" rel=\"ugc nofollow\" target=\"_blank\">https://example.com</a>\"}</li>\n<li>Verify that you receive a response containing the entity analysis data</li>\n</ul>\n<h3>How to customize this workflow to your needs</h3>\n<h3>Analyzing Specific Entity</h3>\n<ul>\n<li>Modify the \"Google Entities\" node parameters to include entityType filters</li>\n<li>Add a \"Function\" node after \"Google Entities\" to filter specific entity types</li>\n<li>Create conditions to extract only entities of interest (people, organizations, etc.)</li>\n</ul>\n<h3>Processing Multiple URLs in Batch:</h3>\n<ul>\n<li>Replace the webhook with a different trigger (HTTP Request, Google Sheets, etc.)</li>\n<li>Add a \"Split In Batches\" node to process multiple URLs</li>\n<li>Use a \"Merge\" node to combine results before sending the response</li>\n</ul>\n<h3>Enhancing Entity Data:</h3>\n<ul>\n<li>Add additional API calls to enrich extracted entities with more information</li>\n<li>Implement sentiment analysis alongside entity extraction</li>\n<li>Create a data transformation node to format entities by type or relevance</li>\n</ul>\n<h3>Additional Notes</h3>\n<ul>\n<li>This workflow respects Google's API rate limits by processing one URL at a time</li>\n<li>The Natural Language API may not identify all entities on a page, particularly for highly technical content</li>\n<li>HTML content is trimmed to 100,000 characters if longer to avoid API limitations</li>\n<li>Consider legal and privacy implications when analyzing and storing entity data from web pages</li>\n<li>You may want to adjust the HTML cleaning process for specific website structures</li>\n</ul>\n<p>❤️ <a href=\"https://hueston.co\" rel=\"ugc nofollow\" target=\"_blank\">Hueston SEO Team</a></p>\n</div><!--]-->",
  "readme_zh": "### 适用对象\n\n  * 需要分析网页语义内容的内容策略师  \n  * 进行实体化分析的SEO专业人员  \n  * 从网页提取结构化数据的数据分析师  \n  * 研究竞品内容策略的市场营销人员  \n  * 需要归类整理网络内容的研究人员  \n  * 任何需要自动提取网页实体的使用者  \n\n### 解决痛点\n\n人工识别和分类网页实体（人物、机构、地点等）耗时且易错。本工作流通过以下方式解决：  \n  * 自动提取任意网页的命名实体  \n  * 调用谷歌自然语言API实现精准实体识别  \n  * 通过简易webhook接口处理网页  \n  * 提供可用于分析的结构化实体数据  \n  * 省去数小时人工内容分析归类时间  \n\n## 工作流功能\n\n本流程通过webhook与谷歌自然语言API构建自动化管道：  \n  1. 通过webhook接收URL  \n  2. 抓取目标网页HTML内容  \n  3. 清洗并预处理HTML  \n  4. 提交至谷歌自然语言API进行实体分析  \n  5. 通过webhook返回结构化实体数据  \n  6. 提取人物/机构/地点等实体及其显著值  \n\n### 配置说明\n\n环境要求：  \n  * n8n平台（云端或本地部署）  \n  * 已启用自然语言API的谷歌云账户  \n  * 具备自然语言API访问权限的谷歌API密钥  \n\n谷歌云配置：  \n  * 在谷歌云平台创建项目  \n  * 为项目启用自然语言API  \n  * 创建具备自然语言API访问权限的API密钥  \n  * 复制API密钥备用  \n\nn8n配置：  \n  * 导入工作流JSON文件  \n  * 在\"Google实体识别\"节点替换\"YOUR-GOOGLE-API-KEY\"  \n  * 激活工作流启用webhook终端  \n  * 从\"Webhook\"节点复制调用地址  \n\n### 测试验证\n\n  * 使用Postman或cURL向webhook地址发送POST请求  \n  * 请求体包含待分析URL：{\"url\": \"<https://example.com>\"}  \n  * 验证是否收到包含实体分析数据的响应  \n\n### 定制化方案\n\n定向实体分析：  \n  * 在\"Google实体识别\"节点添加entityType过滤器  \n  * 添加\"函数\"节点筛选特定实体类型  \n  * 设置条件仅提取目标实体（人物/机构等）  \n\n批量URL处理：  \n  * 将webhook替换为HTTP请求/谷歌表格等触发器  \n  * 添加\"分批处理\"节点实现多URL分析  \n  * 使用\"合并\"节点整合结果数据  \n\n实体数据增强：  \n  * 调用其他API补充实体信息  \n  * 结合情感分析功能  \n  * 创建数据转换节点按类型/相关度格式化实体  \n\n### 注意事项\n\n  * 受谷歌API速率限制，当前为单URL串行处理  \n  * 对高度专业化内容可能存在识别遗漏  \n  * 超10万字符的HTML内容会被截断  \n  * 注意网页实体数据的法律合规性  \n  * 可根据特定网站结构调整HTML清洗逻辑  \n\n❤️ [休斯顿SEO团队](https://hueston.co)",
  "title_zh": "使用Google自然语言API从网页中提取命名实体",
  "publish_date_zh": "最近更新于一天前",
  "workflow_json_zh": "{\n  \"id\": \"4wPgPbxtojrUO7Dx\",\n  \"meta\": {\n    \"instanceId\": \"f46651348590f9c7e3e7fe91218ed49590c553ab737d5cc247951397ff85fa93\"\n  },\n  \"name\": \"Google Page Entity Extraction Template\",\n  \"tags\": [\n    {\n      \"id\": \"hBkrfz3jN0GbUgJa\",\n      \"name\": \"Google Page Entity Extraction Template\",\n      \"createdAt\": \"2025-05-08T23:29:39.011Z\",\n      \"updatedAt\": \"2025-05-08T23:29:39.011Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"8719f1de-2a3e-4c34-9edc-e4b8f993b525\",\n      \"name\": \"Respond to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1240,\n        -420\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"01420fd5-3483-4e74-b9fc-971199898449\",\n      \"name\": \"Google Entities\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1020,\n        -420\n      ],\n      \"parameters\": {\n        \"url\": \"https://language.googleapis.com/v1/documents:analyzeEntities\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={{ $json.apiRequest }}\",\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"key\",\n              \"value\": \"YOUR-GOOGLE-API-KEY\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"5c1c258a-44ed-4d5a-a22d-cddb4df09018\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -300,\n        -700\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 620,\n        \"height\": 880,\n        \"content\": \"# 谷歌页面实体提取模板\\n\\n## 工作流功能\\n本工作流允许您使用谷歌自然语言API从任何网页提取命名实体（人物、组织、地点等）。只需向webhook端点发送URL，工作流将获取页面内容，通过谷歌的实体识别服务进行处理，并返回结构化实体数据。\\n\\n### 使用方法\\n1. 将\\\"YOUR-GOOGLE-API-KEY\\\"替换为您实际的谷歌云API密钥（需已启用自然语言API）\\n2. 激活工作流并使用webhook URL作为端点\\n3. 向webhook发送POST请求，JSON主体包含要分析的URL：{\\\"url\\\": \\\"https://example.com/page\\\"}\\n4. 查看返回的实体分析结果，包括类别、显著度分数和元数据\\n\\n## Webhook输入格式\\nwebhook期望接收JSON格式的POST请求：\\n```json\\n{\\n  \\\"url\\\": \\\"https://website-to-analyze.com/page\\\"\\n}\\n```\\n### 响应格式\\nwebhook返回包含谷歌自然语言API完整实体分析的JSON响应，包括：\\n\\n实体名称和类型（人物、地点、组织等）\\n表示实体重要性的显著度分数\\n文本中的元数据及提及记录\\n实体情感分析（如可用）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"79add9a7-adca-4ce5-8a6a-5fcb75288846\",\n      \"name\": \"Get Url\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        360,\n        -420\n      ],\n      \"webhookId\": \"2944c8f6-03cd-4ab8-8b8e-cb033edf877a\",\n      \"parameters\": {\n        \"path\": \"2944c8f6-03cd-4ab8-8b8e-cb033edf877a\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"081a52bc-2da7-44fb-bdc3-4cb73cbf8dd3\",\n      \"name\": \"Get URL Page Contents\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        580,\n        -420\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.body.url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"dda5ef3d-f031-4dd6-b117-c1f69aa66b63\",\n      \"name\": \"Respond with detected entities\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        800,\n        -420\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Clean and prepare HTML for API request\\nconst html = $input.item.json.data;\\n// Trim if too large (optional)\\nconst trimmedHtml = html.length > 100000 ? html.substring(0, 100000) : html;\\n\\nreturn {\\n  json: {\\n    apiRequest: {\\n      document: {\\n        type: \\\"HTML\\\",\\n        content: trimmedHtml\\n      },\\n      encodingType: \\\"UTF8\\\"\\n    }\\n  }\\n}\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"432203af-190a-4a89-81d8-f86682a0b63f\",\n  \"connections\": {\n    \"Get Url\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get URL Page Contents\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Entities\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get URL Page Contents\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond with detected entities\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Respond with detected entities\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Entities\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}