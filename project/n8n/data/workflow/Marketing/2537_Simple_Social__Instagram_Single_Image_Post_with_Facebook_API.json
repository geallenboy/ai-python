{
  "title": "Simple Social: Instagram Single Image Post with Facebook API",
  "url": "https://n8n.io/workflows/2537-simple-social-instagram-single-image-post-with-facebook-api/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "Edoardo Guzzi",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"OUOrcdfuTg2evIu0\",\"meta\":{\"instanceId\":\"96b96d0aa1e4ff5d5b6779332b149e3ef3364191562d79083d0309cf3ddfa53e\",\"templateCredsSetupCompleted\":true},\"name\":\"Simple Social: Instagram single image post with Facebook API\",\"tags\":[{\"id\":\"A0lOPfxLjZ8WmT1S\",\"name\":\"social\",\"createdAt\":\"2024-10-25T12:53:04.687Z\",\"updatedAt\":\"2024-10-25T12:53:04.687Z\"},{\"id\":\"jbFbEJV1RM8avhpH\",\"name\":\"shared on n8n\",\"createdAt\":\"2024-11-12T06:53:57.894Z\",\"updatedAt\":\"2024-11-12T06:53:57.894Z\"}],\"nodes\":[{\"id\":\"ff1d20ec-2801-4c38-b71f-e0745b22a68c\",\"name\":\"Instagram prepare media\",\"type\":\"n8n-nodes-base.facebookGraphApi\",\"position\":[0,0],\"parameters\":{\"edge\":\"media\",\"node\":\"={{ $json.instagram_business_account_id }}\",\"options\":{\"queryParameters\":{\"parameter\":[{\"name\":\"image_url\",\"value\":\"={{ $json.image_url }}\"},{\"name\":\"caption\",\"value\":\"={{ $json.instagram_post_caption }}\"}]}},\"graphApiVersion\":\"v20.0\",\"httpRequestMethod\":\"POST\"},\"typeVersion\":1},{\"id\":\"ae418ed8-47f7-4042-aa4d-abfbba12c580\",\"name\":\"Instagram publish media\",\"type\":\"n8n-nodes-base.facebookGraphApi\",\"position\":[540,-80],\"parameters\":{\"edge\":\"media_publish\",\"node\":\"={{ $('Instagram params').item.json.instagram_business_account_id }}\",\"options\":{\"queryParameters\":{\"parameter\":[{\"name\":\"creation_id\",\"value\":\"={{ $json.id }}\"}]}},\"graphApiVersion\":\"v20.0\",\"httpRequestMethod\":\"POST\"},\"typeVersion\":1},{\"id\":\"b4bd1064-606d-4e31-8904-1f86a6f960a1\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-440,0],\"parameters\":{},\"typeVersion\":1},{\"id\":\"b0fdc882-298c-4208-9935-d17f86b266dd\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,-77.62658687843901],\"parameters\":{\"height\":248.90655871788812,\"content\":\"Choose the trigger you want for example trigger this workflow from another one\"},\"typeVersion\":1},{\"id\":\"c395b60d-2423-415b-a6ef-1ce03c4d55a3\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-51,-140.74317176338093],\"parameters\":{\"color\":4,\"width\":1329.8249455924943,\"height\":430.4091991661993,\"content\":\"Add your credential\"},\"typeVersion\":1},{\"id\":\"5e872d97-b19f-4dce-91dc-e18aee3bcdca\",\"name\":\"Instagram params\",\"type\":\"n8n-nodes-base.set\",\"position\":[-200,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"225df266-bf29-4415-b04c-2750cef4506a\",\"name\":\"image_url\",\"type\":\"string\",\"value\":\"Your image url\"},{\"id\":\"1e380c14-e908-4eeb-90e0-957a422829d0\",\"name\":\"instagram_business_account_id\",\"type\":\"string\",\"value\":\"Your instagram business id\"},{\"id\":\"f35e3093-1bff-4cc6-a6c4-909dca314cc7\",\"name\":\"instagram_post_caption\",\"type\":\"string\",\"value\":\"Here your Text of instagram post\"}]}},\"typeVersion\":3.4},{\"id\":\"256566bb-cb69-430e-ac94-ef2fd533f9ef\",\"name\":\"Node just for retrive id of instagram page\",\"type\":\"n8n-nodes-base.facebookGraphApi\",\"disabled\":true,\"position\":[-240,-360],\"parameters\":{\"node\":\"=me\",\"options\":{\"fields\":{\"field\":[{\"name\":\"name\"},{\"name\":\"connected_instagram_account\"}]}},\"graphApiVersion\":\"v20.0\"},\"typeVersion\":1},{\"id\":\"52fa439f-a456-4d93-8f1e-b4c4141d32ee\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,-460],\"parameters\":{\"color\":5,\"width\":318,\"height\":289,\"content\":\"You can use this node if you want to retrieve the instagram id. \\n\\nAdd it to the workflow ore use manually\"},\"typeVersion\":1},{\"id\":\"2a72a21f-d3d7-4788-978b-8868f50f1108\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-248,-140],\"parameters\":{\"color\":3,\"width\":188,\"height\":310,\"content\":\"Here we have all parameters for posting in instagram image url, caption and instagram business profile id\"},\"typeVersion\":1},{\"id\":\"63f6b3b2-4aaa-487c-8eae-e6ed39d77ddc\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,180],\"parameters\":{\"color\":7,\"width\":439.10253951549294,\"height\":792,\"content\":\"## Permissions\\nPublishing relies on a combination of the following permissions. The exact combination depends on which endpoints your app uses. Refer to our endpoint references to determine which permissions each endpoint requires.\\n\\nads_management\\nbusiness_management\\ninstagram_basic\\ninstagram_content_publish\\npages_read_engagement\\nIf your app will be used by app users who do not have a role on your app or a role in a Business that has claimed your app, you must request approval for each permission via App Review before non-role app users can grant them to your app.\\n\\n## Limitations\\nJPEG is the only image format supported. Extended JPEG formats such as MPO and JPS are not supported.\\nShopping tags are not supported.\\nBranded content tags are not supported.\\nFilters are not supported.\\nPublishing to Instagram TV is not supported.\\nFor additional limitations, refer to each endpoint's reference.\\n\\n## Rate Limit\\nInstagram accounts are limited to 50 API-published posts within a rolling 24-hour period. Carousels count as a single post. This limit is enforced on the POST /{ig-user-id}/media_publish endpoint when attempting to publish a media container. We recommend that your app also enforce the publishing rate limit, especially if your app allows app users to schedule posts to be published in the future.\\n\\nTo check an Instagram Professional account's current rate limit usage, query the GET /{ig-user-id}/content_publishing_limit endpoint.\"},\"typeVersion\":1},{\"id\":\"336f8d20-ce1c-4097-91ba-1cf7cdd4f8d0\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-920,-320],\"parameters\":{\"color\":2,\"width\":365.0530681548117,\"height\":232.74275402436496,\"content\":\"## Instagram single image Post Workflow with Facebook API\\n\\nthis is a workflow for post a single image on instagram\\n\\n\\nP.S: if you want use instagram API you need just change the default url in node with graph.instagram.com\"},\"typeVersion\":1},{\"id\":\"03ef7207-aa48-4c31-b5c2-91bb2436f68b\",\"name\":\"Instagram check status of media uploaded before\",\"type\":\"n8n-nodes-base.facebookGraphApi\",\"position\":[180,0],\"parameters\":{\"node\":\"={{ $json.id }}\",\"options\":{\"fields\":{\"field\":[{\"name\":\"id\"},{\"name\":\"status\"},{\"name\":\"status_code\"}]}},\"graphApiVersion\":\"v20.0\"},\"typeVersion\":1},{\"id\":\"3ba33f4a-e89b-40b1-98ec-c658a99777b8\",\"name\":\"If media status is finished\",\"type\":\"n8n-nodes-base.if\",\"position\":[340,0],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"0304efee-33b2-499e-bad1-9238c1fc2999\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.status_code }}\",\"rightValue\":\"FINISHED\"}]}},\"typeVersion\":2.2},{\"id\":\"fe72d3b7-4a8f-4b2d-9af7-d057da11fc88\",\"name\":\"Instagram check status of media published before\",\"type\":\"n8n-nodes-base.facebookGraphApi\",\"position\":[740,-80],\"parameters\":{\"node\":\"={{ $('Instagram check status of media uploaded before').item.json.id }}\",\"options\":{\"fields\":{\"field\":[{\"name\":\"id\"},{\"name\":\"status\"},{\"name\":\"status_code\"}]}},\"graphApiVersion\":\"v20.0\"},\"typeVersion\":1},{\"id\":\"4dd7347e-7a41-4cb0-ae2e-93a019ae4497\",\"name\":\"If media status is finished1\",\"type\":\"n8n-nodes-base.if\",\"position\":[940,-80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"0304efee-33b2-499e-bad1-9238c1fc2999\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.status_code }}\",\"rightValue\":\"PUBLISHED\"}]}},\"typeVersion\":2.2},{\"id\":\"7dec948d-7ce0-4a68-acfb-cc9ab8e26f3e\",\"name\":\"Send Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[540,140],\"parameters\":{\"options\":{}},\"typeVersion\":2.1},{\"id\":\"2c95dafb-f087-45ee-8e1f-3efdacd3ab6c\",\"name\":\"Send Email1\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[1160,-120],\"parameters\":{\"options\":{}},\"typeVersion\":2.1},{\"id\":\"c04c8441-6935-4bce-a358-4bba69d5b30b\",\"name\":\"Send Email2\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[1160,40],\"parameters\":{\"options\":{}},\"typeVersion\":2.1},{\"id\":\"74f0c188-03ce-49a6-9004-ee0720f9e4df\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,300],\"parameters\":{\"color\":3,\"height\":102.11100456713636,\"content\":\"You can send email for unsuccessful upload or what you want, you can trigger another workflow or another node\"},\"typeVersion\":1},{\"id\":\"127813b3-2cfd-40b9-a4d9-c88c5927f4f1\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1340,40],\"parameters\":{\"color\":3,\"height\":112.31608359812239,\"content\":\"You can send email for unsuccessful publishing or what you want, you can trigger another workflow or another node\"},\"typeVersion\":1},{\"id\":\"f156294d-cf7b-4638-ac00-87ea30f846a0\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1340,-120],\"parameters\":{\"color\":3,\"height\":112.31608359812239,\"content\":\"You can send email for successfull publishing or what you want, you can trigger another workflow or another node\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"ea4a1249-35d3-4037-a4f9-451ccc2ec698\",\"connections\":{\"Instagram params\":{\"main\":[[{\"node\":\"Instagram prepare media\",\"type\":\"main\",\"index\":0}]]},\"Instagram prepare media\":{\"main\":[[{\"node\":\"Instagram check status of media uploaded before\",\"type\":\"main\",\"index\":0}]]},\"Instagram publish media\":{\"main\":[[{\"node\":\"Instagram check status of media published before\",\"type\":\"main\",\"index\":0}]]},\"If media status is finished\":{\"main\":[[{\"node\":\"Instagram publish media\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Email\",\"type\":\"main\",\"index\":0}]]},\"If media status is finished1\":{\"main\":[[{\"node\":\"Send Email1\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Email2\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Instagram params\",\"type\":\"main\",\"index\":0}]]},\"Instagram check status of media uploaded before\":{\"main\":[[{\"node\":\"If media status is finished\",\"type\":\"main\",\"index\":0}]]},\"Instagram check status of media published before\":{\"main\":[[{\"node\":\"If media status is finished1\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Simple Social: Instagram Single Image Post with Facebook API\n\n## Who is this workflow for?\n\nThis workflow is designed for businesses, social media managers, content creators, and developers who need to automate the process of posting single images to Instagram using the Facebook API. It is ideal for anyone looking to streamline their social media posting process, saving time and ensuring consistent content delivery.\n\n## Use Case / Problem Solved\n\nManually posting images and captions on Instagram can be time-consuming, especially for businesses and content creators managing multiple accounts. This workflow automates the process from image preparation to publishing, reducing manual effort and increasing efficiency.\n\n## What this workflow does\n\n  1. **Trigger Initialization** : The workflow starts with a manual trigger that can be adapted to other triggers (e.g., HTTP webhook or schedule).\n  2. **Set Parameters** : The workflow includes a node that sets essential parameters, such as the image URL, Instagram business account ID, and caption.\n  3. **Prepare Instagram Media** : A node prepares the media for upload using the Facebook API, sending the image and caption for pre-publication processing.\n  4. **Check Media Upload Status** : The workflow verifies if the media preparation is complete.\n  5. **Conditional Check** : If the media preparation is successful, the workflow proceeds to publish; otherwise, it triggers an error-handling path.\n  6. **Publish Media** : The media is published on Instagram if the conditions are met.\n  7. **Post-Publish Check** : The workflow checks the status after publication.\n  8. **Conditional Check for Publication** : If the publication status is \"PUBLISHED,\" it triggers a success path; otherwise, it triggers a failure handling.\n  9. **Email Notifications** : The workflow sends email notifications to indicate successful or unsuccessful outcomes.\n\n\n\n## Setup\n\nHere is a quick video in italian language with sub eng(<https://youtu.be/obWJFJvg_6g>)\n\n  1. **Add API Credentials** : Ensure that valid Facebook API credentials are added and configured for use.\n  2. **Permissions Required** : Ensure your app has the necessary permissions (`ads_management`, `business_management`, `instagram_basic`, `instagram_content_publish`, `pages_read_engagement`). App review may be required for external user access.\n  3. **Node Configuration** : Customize the `Set Instagram Parameters` node to specify the image URL, caption, and Instagram business account ID.\n  4. **Trigger Adaptation** : Adapt the initial trigger if needed to fit your workflow's requirements (e.g., schedule, webhook).\n\n\n\n## How to customize this workflow\n\n  * **Change the Image URL and Caption** : Modify the `Set Instagram Parameters` node to change the image and caption.\n  * **Trigger Customization** : Replace the manual trigger with other triggers like a webhook to automate posting based on external events.\n  * **Notifications** : Adjust the email nodes to send customized messages or trigger other workflows based on the outcome.\n\n\n\n## Limitations\n\n  * **Image Format** : Only JPEG images are supported. Extended JPEG formats such as MPO and JPS are not compatible.\n  * **Unsupported Tags** : Shopping tags, branded content tags, and filters are not supported.\n  * **Instagram TV** : Publishing to Instagram TV is not supported.\n  * **Rate Limit** : Instagram accounts are limited to 50 API-published posts within a rolling 24-hour period. Carousels count as a single post. Check usage with `GET /{ig-user-id}/content_publishing_limit`.\n\n\n\n### Example Usage\n\nImagine managing a business account that needs consistent posts. You can schedule this workflow or trigger it manually to automatically post images with captions at the right time, ensuring that your audience stays engaged without manual posting efforts.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>Simple Social: Instagram Single Image Post with Facebook API</h1>\n<h2>Who is this workflow for?</h2>\n<p>This workflow is designed for businesses, social media managers, content creators, and developers who need to automate the process of posting single images to Instagram using the Facebook API. It is ideal for anyone looking to streamline their social media posting process, saving time and ensuring consistent content delivery.</p>\n<h2>Use Case / Problem Solved</h2>\n<p>Manually posting images and captions on Instagram can be time-consuming, especially for businesses and content creators managing multiple accounts. This workflow automates the process from image preparation to publishing, reducing manual effort and increasing efficiency.</p>\n<h2>What this workflow does</h2>\n<ol>\n<li><strong>Trigger Initialization</strong>: The workflow starts with a manual trigger that can be adapted to other triggers (e.g., HTTP webhook or schedule).</li>\n<li><strong>Set Parameters</strong>: The workflow includes a node that sets essential parameters, such as the image URL, Instagram business account ID, and caption.</li>\n<li><strong>Prepare Instagram Media</strong>: A node prepares the media for upload using the Facebook API, sending the image and caption for pre-publication processing.</li>\n<li><strong>Check Media Upload Status</strong>: The workflow verifies if the media preparation is complete.</li>\n<li><strong>Conditional Check</strong>: If the media preparation is successful, the workflow proceeds to publish; otherwise, it triggers an error-handling path.</li>\n<li><strong>Publish Media</strong>: The media is published on Instagram if the conditions are met.</li>\n<li><strong>Post-Publish Check</strong>: The workflow checks the status after publication.</li>\n<li><strong>Conditional Check for Publication</strong>: If the publication status is \"PUBLISHED,\" it triggers a success path; otherwise, it triggers a failure handling.</li>\n<li><strong>Email Notifications</strong>: The workflow sends email notifications to indicate successful or unsuccessful outcomes.</li>\n</ol>\n<h2>Setup</h2>\n<p>Here is a quick video in italian language with sub eng(<a href=\"https://youtu.be/obWJFJvg_6g\" rel=\"ugc nofollow\" target=\"_blank\">https://youtu.be/obWJFJvg_6g</a>)</p>\n<ol>\n<li><strong>Add API Credentials</strong>: Ensure that valid Facebook API credentials are added and configured for use.</li>\n<li><strong>Permissions Required</strong>: Ensure your app has the necessary permissions (<code>ads_management</code>, <code>business_management</code>, <code>instagram_basic</code>, <code>instagram_content_publish</code>, <code>pages_read_engagement</code>). App review may be required for external user access.</li>\n<li><strong>Node Configuration</strong>: Customize the <code>Set Instagram Parameters</code> node to specify the image URL, caption, and Instagram business account ID.</li>\n<li><strong>Trigger Adaptation</strong>: Adapt the initial trigger if needed to fit your workflow's requirements (e.g., schedule, webhook).</li>\n</ol>\n<h2>How to customize this workflow</h2>\n<ul>\n<li><strong>Change the Image URL and Caption</strong>: Modify the <code>Set Instagram Parameters</code> node to change the image and caption.</li>\n<li><strong>Trigger Customization</strong>: Replace the manual trigger with other triggers like a webhook to automate posting based on external events.</li>\n<li><strong>Notifications</strong>: Adjust the email nodes to send customized messages or trigger other workflows based on the outcome.</li>\n</ul>\n<h2>Limitations</h2>\n<ul>\n<li><strong>Image Format</strong>: Only JPEG images are supported. Extended JPEG formats such as MPO and JPS are not compatible.</li>\n<li><strong>Unsupported Tags</strong>: Shopping tags, branded content tags, and filters are not supported.</li>\n<li><strong>Instagram TV</strong>: Publishing to Instagram TV is not supported.</li>\n<li><strong>Rate Limit</strong>: Instagram accounts are limited to 50 API-published posts within a rolling 24-hour period. Carousels count as a single post. Check usage with <code>GET /{ig-user-id}/content_publishing_limit</code>.</li>\n</ul>\n<h3>Example Usage</h3>\n<p>Imagine managing a business account that needs consistent posts. You can schedule this workflow or trigger it manually to automatically post images with captions at the right time, ensuring that your audience stays engaged without manual posting efforts.</p>\n</div><!--]-->"
}