{
  "title": "Automate Course Registration Leads from Facebook Ads to KlickTipp",
  "url": "https://n8n.io/workflows/3786-automate-course-registration-leads-from-facebook-ads-to-klicktipp/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "KlickTipp",
  "publish_date": "Last update 5 days ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"95b3ab5a70ab1c8c1906357a367f1b236ef12a1409406fd992f60255f0f95f85\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"0b6d74c3-e034-40be-9f42-df42c2ffbb03\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,1040],\"parameters\":{\"width\":1219,\"height\":674,\"content\":\"### Introduction\\nThis workflow streamlines the process of capturing leads via Facebook Lead Ads and transferring them automatically into KlickTipp. It ensures that contact data is accurately mapped and added to KlickTipp to trigger personalized email campaigns.\\n\\n### Benefits\\n- **Automated lead import**: New leads from Facebook forms are automatically synced to KlickTipp without manual effort.\\n- **Seamless campaign activation**: Tags can be assigned during the process, instantly triggering follow-up campaigns like welcome emails or webinar reminders.\\n- **Reliable data structure**: Validated form entries are mapped to predefined custom fields, ensuring a high-quality contact base in KlickTipp.\\n\\n### Key Feature\\n- **Facebook Lead Ads Trigger**: Captures form submissions from Facebook Ads in real-time.\\n- **Data Processing**: Assigns and formats lead data based on field mappings:\\n  - Maps standard Facebook fields (name, email) directly.\\n  - Matches custom fields such as course selection, payment method, and comments to KlickTipp custom fields.\\n- **Subscriber Management in KlickTipp**: Adds or updates contacts with structured mapping to custom fields. Tags can be dynamically added for segmentation:\\n  - Personal data: First name, email address.\\n  - Form responses: Selected course, payment method, comments.\\n  - Tag-based segmentation for automated workflows.\\n\\n#### Setup Instructions\\n1. Set up the Facebook Leads Ads (choose your form) and KlickTipp nodes (choose opt-in, tagging and field mapping) in your n8n instance.\\n2. Authenticate your Facebook Lead Ads and KlickTipp accounts.\\n3. Create the necessary custom fields to match the data structure\\n4. Verify and customize field assignments in the workflow to align with your specific form and subscriber list setup.\\n\\nCustom Fields:\\n   - `Facebook_Leads_Ads_Kommentar` (Text)\\n   - `Facebook_Leads_Ads_Kursauswahl` (Text)\\n   - `Facebook_Leads_Ads_Zahlungsweise` (Text)\\n\\n\\n### Testing and Deployment\\n1. Perform a test with the meta developer tool verify the transmission. (⚠️ Attention: KlickTipp rightfully rejects this test address test@fb.com due to its validation rules, as it cannot receive emails. You can manipulate the output in the node for testing.)\\n2. Confirm new subscribers appear in KlickTipp with mapped fields and tags.\\n3. Launch your campaign in Facebook with full automation in place.\\n\\n- **Customization**: Adjust tag names and field mappings in the KlickTipp module of Make to fit your specific setup. Ensure any additional fields are created beforehand in KlickTipp to avoid sync errors.\"},\"typeVersion\":1},{\"id\":\"84d11f91-5a50-49a0-a511-93d83fa434f4\",\"name\":\"Facebook Lead Ads Trigger\",\"type\":\"n8n-nodes-base.facebookLeadAdsTrigger\",\"notes\":\"This node listens for new leads generated via Facebook Lead Ads. When a user submits a form on Facebook or Instagram, it triggers the workflow and captures the lead's details.\",\"position\":[1460,840],\"webhookId\":\"04c33978-2df7-4ab1-a37c-3ab3c0a0d21f\",\"parameters\":{\"form\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"989636452637732\",\"cachedResultName\":\"Integrations Manual - Kursregistrierung\"},\"page\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"315574741814190\",\"cachedResultUrl\":\"https://facebook.com/315574741814190\",\"cachedResultName\":\"KlickTipp\"},\"options\":{}},\"credentials\":{\"facebookLeadAdsOAuth2Api\":{\"id\":\"bBzZPOu1M8YbIM9L\",\"name\":\"Facebook Lead Ads account 3\"}},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"e4532533-b447-4340-b750-6e3c47809cb8\",\"name\":\"Subscribe lead in KlickTipp\",\"type\":\"n8n-nodes-klicktipp.klicktipp\",\"notes\":\"Subscribes the incoming Facebook lead to the KlickTipp. This allows automatic follow-up, tagging, or integration with email campaigns.\",\"position\":[1780,840],\"parameters\":{\"email\":\"={{ $json.data.email }}\",\"fields\":{\"dataFields\":[{\"fieldId\":\"fieldFirstName\",\"fieldValue\":\"={{ // Extracts the first name (the first part of the full name), which will be identified by the letters before the first empty space \\\" \\\". This implementation only supports the first name.\\n$json[\\\"data\\\"][\\\"full name\\\"].split(\\\" \\\")[0] }}\"},{\"fieldId\":\"fieldLastName\",\"fieldValue\":\"={{ // Extracts the last name (the last part of the full name), which will be identified by the letters after the last empty space \\\" \\\". This implementation does not support double names.\\n$json[\\\"data\\\"][\\\"full name\\\"].split(\\\" \\\").pop() }}\"},{\"fieldId\":\"field216784\",\"fieldValue\":\"={{ $json.data['hast_du_zusätzliche_kommentare_für_uns?'] }}\"},{\"fieldId\":\"field216785\",\"fieldValue\":\"={{ $json.data['welcher_kurs_interessiert_dich?'] }}\"},{\"fieldId\":\"field216786\",\"fieldValue\":\"={{ $json.data['was_ist_deine_bevorzugte_zahlungsweise?'] }}\"}]},\"listId\":\"358895\",\"resource\":\"subscriber\",\"operation\":\"subscribe\"},\"credentials\":{\"klickTippApi\":{\"id\":\"K9JyBdCM4SZc1cXl\",\"name\":\"DEMO KlickTipp account\"}},\"notesInFlow\":true,\"typeVersion\":2}],\"pinData\":{},\"connections\":{\"Facebook Lead Ads Trigger\":{\"main\":[[{\"node\":\"Subscribe lead in KlickTipp\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Community Node Disclaimer:** This workflow uses community nodes and is compatible only with self-hosted n8n environments.\n\n**How It Works:**\n\n**Facebook Lead Ads to KlickTipp Integration:**  \nThis workflow automatically transfers lead information submitted via Facebook Lead Ads into KlickTipp. It is ideal for automating course registrations or similar campaigns, enabling targeted email sequences based on user input.\n\n**Data Handling:**  \nLead data from Facebook is received via webhook, matched to KlickTipp’s custom fields, and the contact is tagged for segmentation and automation.\n\n**Key Features**\n\n**Webhook Trigger for Facebook Lead Ads:**\n\n  * Captures new lead form submissions from Facebook, including: \n    * Name\n    * Email address\n    * Chosen course\n    * Preferred payment method\n    * Optional comments\n\n\n\n**Data Mapping & Validation:**\n\n  * Maps Facebook field values to pre-defined custom fields in KlickTipp\n\n\n\n**Subscriber Management in KlickTipp:**\n\n  * Adds or updates leads as subscribers in KlickTipp\n  * Includes mapping to custom fields such as: \n    * `Facebook_Leads_Ads_Kursauswahl`\n    * `Facebook_Leads_Ads_Zahlungsweise`\n    * `Facebook_Leads_Ads_Kommentar`\n  * Assigns relevant tags for automated campaign triggers\n\n\n\n**Setup Instructions**\n\n**1\\. Prepare KlickTipp Custom Fields:**  \nBefore using the workflow, create the following custom fields in KlickTipp under → Contacts → Custom fields:\n\nName | Datentyp  \n---|---  \nFacebook_Leads_Ads_Kommentar | Zeile  \nFacebook_Leads_Ads_Kursauswahl | Zeile  \nFacebook_Leads_Ads_Zahlungsweise | Zeile  \n  \n**2\\. Facebook Lead Ads Setup:**\n\n  * Create a lead form under Facebook Ads Manager\n  * Include custom fields for course interest, payment preference, and comments\n\n\n\n**3\\. Set Up Facebook Webhook in n8n:**\n\n  * Use the Facebook Lead Ads node to create a webhook\n  * Authenticate your Facebook account\n  * Choose the Page and corresponding lead form\n  * Save and activate the webhook\n\n\n\n**4\\. Map Data to KlickTipp Fields:**\n\n  * Open the KlickTipp node to Authenticate with your credentials (username&password)\n  * Map the fields from the Facebook webhook to the according custom fields in KlickTipp.\n\n\n\n**Testing & Deployment**\n\n**Run a Test:**\n\n  * Use Meta’s testing tool to generate a test lead\n  * Run the n8n workflow once manually\n\n\n\nNote: Facebook test email (e.g., [test@fb.com](mailto:test@fb.com)) is invalid—expect an error in KlickTipp during testing. You can pin the output of the node and manipulate the address to a valid test-address.\n\n**Workflow Logic**\n\n  1. **Webhook Trigger from Facebook:** Initiates workflow upon new lead form submission\n  2. **Add or Update Contact in KlickTipp:** Submits mapped data into your KlickTipp account\n\n\n\n**Benefits**\n\n**Automated Lead Management:**  \nNo manual data transfers needed—new Facebook leads are instantly pushed to KlickTipp.\n\n**Personalized Campaigns:**  \nSegment leads based on selected course or payment method for targeted follow-up emails.\n\n**Notes:**\n\n**Customization:**  \nAdjust field mappings in the KlickTipp node based on your lead form structure. Ensure all required fields (email, opt-in, etc.) are mapped correctly.\n\n**Resource Tip:**  \nUse the [Meta Lead Ads Testing Tool](https://developers.facebook.com/tools/lead-ads-testing) to simulate lead submissions during setup.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><strong>Community Node Disclaimer:</strong> This workflow uses community nodes and is compatible only with self-hosted n8n environments.</p>\n<p><strong>How It Works:</strong></p>\n<p><strong>Facebook Lead Ads to KlickTipp Integration:</strong><br>\nThis workflow automatically transfers lead information submitted via Facebook Lead Ads into KlickTipp. It is ideal for automating course registrations or similar campaigns, enabling targeted email sequences based on user input.</p>\n<p><strong>Data Handling:</strong><br>\nLead data from Facebook is received via webhook, matched to KlickTipp’s custom fields, and the contact is tagged for segmentation and automation.</p>\n<p><strong>Key Features</strong></p>\n<p><strong>Webhook Trigger for Facebook Lead Ads:</strong></p>\n<ul>\n<li>Captures new lead form submissions from Facebook, including:\n<ul>\n<li>Name</li>\n<li>Email address</li>\n<li>Chosen course</li>\n<li>Preferred payment method</li>\n<li>Optional comments</li>\n</ul>\n</li>\n</ul>\n<p><strong>Data Mapping &amp; Validation:</strong></p>\n<ul>\n<li>Maps Facebook field values to pre-defined custom fields in KlickTipp</li>\n</ul>\n<p><strong>Subscriber Management in KlickTipp:</strong></p>\n<ul>\n<li>Adds or updates leads as subscribers in KlickTipp</li>\n<li>Includes mapping to custom fields such as:\n<ul>\n<li><code>Facebook_Leads_Ads_Kursauswahl</code></li>\n<li><code>Facebook_Leads_Ads_Zahlungsweise</code></li>\n<li><code>Facebook_Leads_Ads_Kommentar</code></li>\n</ul>\n</li>\n<li>Assigns relevant tags for automated campaign triggers</li>\n</ul>\n<p><strong>Setup Instructions</strong></p>\n<p><strong>1. Prepare KlickTipp Custom Fields:</strong><br>\nBefore using the workflow, create the following custom fields in KlickTipp under → Contacts → Custom fields:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Datentyp</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Facebook_Leads_Ads_Kommentar</td>\n<td>Zeile</td>\n</tr>\n<tr>\n<td>Facebook_Leads_Ads_Kursauswahl</td>\n<td>Zeile</td>\n</tr>\n<tr>\n<td>Facebook_Leads_Ads_Zahlungsweise</td>\n<td>Zeile</td>\n</tr>\n</tbody>\n</table>\n<p><strong>2. Facebook Lead Ads Setup:</strong></p>\n<ul>\n<li>Create a lead form under Facebook Ads Manager</li>\n<li>Include custom fields for course interest, payment preference, and comments</li>\n</ul>\n<p><strong>3. Set Up Facebook Webhook in n8n:</strong></p>\n<ul>\n<li>Use the Facebook Lead Ads node to create a webhook</li>\n<li>Authenticate your Facebook account</li>\n<li>Choose the Page and corresponding lead form</li>\n<li>Save and activate the webhook</li>\n</ul>\n<p><strong>4. Map Data to KlickTipp Fields:</strong></p>\n<ul>\n<li>Open the KlickTipp node to Authenticate with your credentials (username&amp;password)</li>\n<li>Map the fields from the Facebook webhook to the according custom fields in KlickTipp.</li>\n</ul>\n<p><strong>Testing &amp; Deployment</strong></p>\n<p><strong>Run a Test:</strong></p>\n<ul>\n<li>Use Meta’s testing tool to generate a test lead</li>\n<li>Run the n8n workflow once manually</li>\n</ul>\n<p>Note: Facebook test email (e.g., <a href=\"mailto:test@fb.com\" rel=\"ugc nofollow\">test@fb.com</a>) is invalid—expect an error in KlickTipp during testing. You can pin the output of the node and manipulate the address to a valid test-address.</p>\n<p><strong>Workflow Logic</strong></p>\n<ol>\n<li><strong>Webhook Trigger from Facebook:</strong> Initiates workflow upon new lead form submission</li>\n<li><strong>Add or Update Contact in KlickTipp:</strong> Submits mapped data into your KlickTipp account</li>\n</ol>\n<p><strong>Benefits</strong></p>\n<p><strong>Automated Lead Management:</strong><br>\nNo manual data transfers needed—new Facebook leads are instantly pushed to KlickTipp.</p>\n<p><strong>Personalized Campaigns:</strong><br>\nSegment leads based on selected course or payment method for targeted follow-up emails.</p>\n<p><strong>Notes:</strong></p>\n<p><strong>Customization:</strong><br>\nAdjust field mappings in the KlickTipp node based on your lead form structure. Ensure all required fields (email, opt-in, etc.) are mapped correctly.</p>\n<p><strong>Resource Tip:</strong><br>\nUse the <a href=\"https://developers.facebook.com/tools/lead-ads-testing\" rel=\"ugc nofollow\" target=\"_blank\">Meta Lead Ads Testing Tool</a> to simulate lead submissions during setup.</p>\n</div><!--]-->"
}