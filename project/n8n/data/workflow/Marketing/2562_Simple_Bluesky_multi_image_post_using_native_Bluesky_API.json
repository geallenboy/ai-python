{
  "title": "Simple Bluesky multi-image post using native Bluesky API",
  "url": "https://n8n.io/workflows/2562-simple-bluesky-multi-image-post-using-native-bluesky-api/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "Tom Sekula",
  "publish_date": "Last update 5 months ago",
  "publish_date_absolute": "2024-12-18",
  "content": "",
  "workflow_json": "{\"id\":\"XGFs5jZNCeURd4OT\",\"meta\":{\"instanceId\":\"c5e9c1178f3b42f080c51c81bcfa62e1fbd48abf38103a7a4cd8e15abc64df08\",\"templateCredsSetupCompleted\":true},\"name\":\"Publish Image Post to Bluesky\",\"tags\":[],\"nodes\":[{\"id\":\"afd666fc-8f79-488d-a295-4bfdd6883924\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[35,260],\"parameters\":{},\"typeVersion\":1},{\"id\":\"d31bfe18-5acc-4f72-80d0-d85111dd62cc\",\"name\":\"Create Bluesky Session\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[435,260],\"parameters\":{\"url\":\"https://bsky.social/xrpc/com.atproto.server.createSession\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={{ $('Define Credentials').item.json.credentials }}\",\"sendBody\":true,\"specifyBody\":\"json\"},\"typeVersion\":4.2},{\"id\":\"514ac077-3c96-41f0-b178-afefe2f9faae\",\"name\":\"Download Images\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,260],\"parameters\":{\"url\":\"={{ $json.url }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"67e77e91-3a53-44c3-a474-2cd3b4977cf2\",\"name\":\"Code\",\"type\":\"n8n-nodes-base.code\",\"position\":[1580,260],\"parameters\":{\"jsCode\":\"return $input.all().map( item => ({\\n    alt: \\\"-\\\",\\n    image: {\\n      ...item.json.blob\\n    }\\n}));\"},\"typeVersion\":2},{\"id\":\"b8540b04-afe8-4455-8fec-fcab5ffff1ae\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[640,102.39520958083813],\"parameters\":{\"color\":4,\"width\":391.0892880786254,\"height\":335.5179928232044,\"content\":\"## Define Your Post Caption Here\\nYou can set\\n* the text caption of your post (max 300 characters)\\n* image URLs (max of 4 images at 1MB each)\"},\"typeVersion\":1},{\"id\":\"2a6e60ef-4042-4648-85bb-143d226aa736\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1100,260],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"photos\"},\"typeVersion\":1},{\"id\":\"5c3a6c2f-7b60-4448-9d85-4174e9f5f770\",\"name\":\"Post to Bluesky\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1940,260],\"parameters\":{\"url\":\"https://bsky.social/xrpc/com.atproto.repo.createRecord\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"repo\\\": \\\"{{ $('Create Bluesky Session').item.json.did }}\\\",\\n  \\\"collection\\\": \\\"app.bsky.feed.post\\\",\\n  \\\"record\\\": {\\n      \\\"$type\\\": \\\"app.bsky.feed.post\\\",\\n      \\\"text\\\": \\\"{{ $('Set Caption').item.json['Post Text'].trim()}}\\\",\\n      \\\"createdAt\\\": \\\"{{ $now }}\\\",\\n\\\"embed\\\": {\\n\\\"$type\\\": \\\"app.bsky.embed.images\\\",\\n\\\"images\\\":{{ $('Aggregate').item.json.data.toJsonString() }}\\n}\\n  }\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('Create Bluesky Session').item.json.accessJwt }}\"}]}},\"typeVersion\":4.2},{\"id\":\"266ef5cb-18df-45b0-b5c4-59782e571d40\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[180,-2.994011976047659],\"parameters\":{\"color\":3,\"width\":418.7983637184758,\"height\":440.36620487216396,\"content\":\"## Set Bluesky Credentials\\nYou'll need to set 2 values...\\n1. _Identifier_ \\nThis is your Bluesky username, e.g. \\\"username.bsky.social\\\"\\n2. _App Password_\\nThis is _not_ your sign-in password, but something created in [your Bluesky account](https://bsky.app/settings/app-passwords)\\n\\n\\nA Bluesky session is then opened for image uploading and posting.\"},\"typeVersion\":1},{\"id\":\"3a7fc037-02f6-4091-bcdc-5b22d43269ef\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1063.9520958083824,160],\"parameters\":{\"color\":7,\"width\":814.7806424732389,\"height\":269.1258097879526,\"content\":\"### Handling image attachments\\nBluesky doesn't attach images directly to the post, they're first individually uploaded [then embedded in the post](https://docs.bsky.app/docs/tutorials/creating-a-post#images-embeds).\"},\"typeVersion\":1},{\"id\":\"aa7796b3-9cc7-4219-85af-a9ae3613f891\",\"name\":\"Define Credentials\",\"type\":\"n8n-nodes-base.set\",\"position\":[235,260],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"{\\\"credentials\\\":\\n  {\\n    \\\"identifier\\\": \\\"username.bsky.social\\\",\\n    \\\"password\\\": \\\"XXXX-YYYY-ZZZZ-XXXX\\\"\\n  }\\n}\"},\"typeVersion\":3.4},{\"id\":\"4bcf77ef-b40e-485e-b444-659f77cf9d69\",\"name\":\"Aggregate\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[1740,260],\"parameters\":{\"options\":{},\"aggregate\":\"aggregateAllItemData\"},\"typeVersion\":1},{\"id\":\"eb2730e5-cad7-47f0-96d2-f2ae1dee6dd5\",\"name\":\"Set Images\",\"type\":\"n8n-nodes-base.set\",\"position\":[880,260],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"{  \\\"photos\\\":[\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=234234\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=676855\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=4564\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=12124\\\"\\n    }\\n  ]}\"},\"typeVersion\":3.4},{\"id\":\"0d3a030e-1ac6-420d-a850-d267928f4072\",\"name\":\"Post Image to Bluesky\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1420,260],\"parameters\":{\"url\":\"https://bsky.social/xrpc/com.atproto.repo.uploadBlob\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"binaryData\",\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"=Bearer {{ $('Create Bluesky Session').item.json.accessJwt }}\"}]},\"inputDataFieldName\":\"data\"},\"typeVersion\":4.2},{\"id\":\"31124777-ee35-4ceb-b0e7-75f7cef4b481\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[680,-260],\"parameters\":{\"width\":880.0000000000002,\"height\":207.9041916167665,\"content\":\"# Create a new post with images on Bluesky\\nThis workflow will \\n1. retrieve images from URLs you specify\\n2. upload them 1 by 1 as blobs to BlueSky\\n3. let you specify the basic text of a post\\n3. use your Bluesky credentials to post to your feed\"},\"typeVersion\":1},{\"id\":\"f8e54515-c9ec-474d-aa2b-fe357cbd4775\",\"name\":\"Set Caption\",\"type\":\"n8n-nodes-base.set\",\"position\":[688,260],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"6135981d-82d9-47bb-9eb5-ce9a4220f108\",\"name\":\"Caption Text\",\"type\":\"string\",\"value\":\"Here is the amazing content of my post, max of 300 characters!\"}]}},\"typeVersion\":3.4}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"86d8df08-3f73-40a5-9c5b-d2ebda3f3b13\",\"connections\":{\"Code\":{\"main\":[[{\"node\":\"Aggregate\",\"type\":\"main\",\"index\":0}]]},\"Aggregate\":{\"main\":[[{\"node\":\"Post to Bluesky\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Download Images\",\"type\":\"main\",\"index\":0}]]},\"Set Images\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"Set Caption\":{\"main\":[[{\"node\":\"Set Images\",\"type\":\"main\",\"index\":0}]]},\"Download Images\":{\"main\":[[{\"node\":\"Post Image to Bluesky\",\"type\":\"main\",\"index\":0}]]},\"Define Credentials\":{\"main\":[[{\"node\":\"Create Bluesky Session\",\"type\":\"main\",\"index\":0}]]},\"Post Image to Bluesky\":{\"main\":[[{\"node\":\"Code\",\"type\":\"main\",\"index\":0}]]},\"Create Bluesky Session\":{\"main\":[[{\"node\":\"Set Caption\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Define Credentials\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who is this workflow for?\n\nThis workflow is the baseline workflow for anyone who needs to automate the process of posting 1-4 images to Bluesky using the Bluesky API. It is ideal for anyone looking to streamline their social media posting process, saving time and ensuring consistent content delivery.\n\n## Use Case / Problem Solved\n\nManually posting images and captions on Instagram can be time-consuming, especially for businesses and content creators managing multiple accounts. This workflow automates the process from image preparation to publishing, reducing manual effort and increasing efficiency.\n\n## What this workflow does\n\n  1. Trigger Initialization: The workflow starts with a manual trigger that can be adapted to other triggers (e.g., HTTP webhook or schedule).\n  2. Set Parameters: The workflow includes a node that sets essential parameters, such as the Bluesky account ID, image URLs, and caption.\n  3. Prepare Bluesky Session: A node creates the authenticated session data used by the upload and post operations later in the workflow.\n  4. Publish Media: Nodes retrieve image files from the specified URLS and uploads them as blobs to Bluesky, a necessary pre-requisite for a Bluesky post to have images attached.\n  5. Post text caption + images: A node does the final call to the Bluesky API, including the text caption and relevant image references.\n\n\n\n## Setup\n\n  1. Sign-in to Bluesky and create an [App Password](https://bsky.app/settings/app-passwords)\n  2. Add your username and App Password to the _Define Credentials_ node.\n  3. Set the caption (text content) of your post in the _Set Caption_ node.\n  4. Set 1-4 image URLs in the _Set Images_ node\n  5. Adapt the initial trigger as needed to fit your workflow's requirements (e.g., schedule, webhook).\n  6. Adapt the caption and images nodes to accept dynamic parameters.\n\n\n\n## Limitations\n\nThis workflow assumes a minimum of 1 image URL to function. If you want a text-only post, remove the whole `embed` section from the JSON in last _Post to Bluesky_ node, as well as relevant image attachment nodes.\n\nThe 300-character limit in Bluesky includes the caption + hashtags + image alt text. Going over 300 will return a `Record/description must not be longer than 300 graphemes` error.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h2>Who is this workflow for?</h2>\n<p>This workflow is the baseline workflow for anyone who needs to automate the process of posting 1-4 images to Bluesky using the Bluesky API. It is ideal for anyone looking to streamline their social media posting process, saving time and ensuring consistent content delivery.</p>\n<h2>Use Case / Problem Solved</h2>\n<p>Manually posting images and captions on Instagram can be time-consuming, especially for businesses and content creators managing multiple accounts. This workflow automates the process from image preparation to publishing, reducing manual effort and increasing efficiency.</p>\n<h2>What this workflow does</h2>\n<ol>\n<li>Trigger Initialization: The workflow starts with a manual trigger that can be adapted to other triggers (e.g., HTTP webhook or schedule).</li>\n<li>Set Parameters: The workflow includes a node that sets essential parameters, such as the Bluesky account ID, image URLs, and caption.</li>\n<li>Prepare Bluesky Session: A node creates the authenticated session data used by the upload and post operations later in the workflow.</li>\n<li>Publish Media: Nodes retrieve image files from the specified URLS and uploads them as blobs to Bluesky, a necessary pre-requisite for a Bluesky post to have images attached.</li>\n<li>Post text caption + images: A node does the final call to the Bluesky API, including the text caption and relevant image references.</li>\n</ol>\n<h2>Setup</h2>\n<ol>\n<li>Sign-in to Bluesky and create an <a href=\"https://bsky.app/settings/app-passwords\" rel=\"ugc nofollow\" target=\"_blank\">App Password</a></li>\n<li>Add your username and App Password to the <em>Define Credentials</em> node.</li>\n<li>Set the caption (text content) of your post in the <em>Set Caption</em> node.</li>\n<li>Set 1-4 image URLs in the <em>Set Images</em> node</li>\n<li>Adapt the initial trigger as needed to fit your workflow's requirements (e.g., schedule, webhook).</li>\n<li>Adapt the caption and images nodes to accept dynamic parameters.</li>\n</ol>\n<h2>Limitations</h2>\n<p>This workflow assumes a minimum of 1 image URL to function. If you want a text-only post, remove the whole <code>embed</code> section from the JSON in last <em>Post to Bluesky</em> node, as well as relevant image attachment nodes.</p>\n<p>The 300-character limit in Bluesky includes the caption + hashtags + image alt text. Going over 300 will return a <code>Record/description must not be longer than 300 graphemes</code> error.</p>\n</div><!--]-->",
  "readme_zh": "## 适用对象\n\n本工作流是面向需要通过Bluesky API实现1-4张图片自动发布用户的基准方案，特别适合希望简化社交媒体发布流程、节省时间并确保内容稳定输出的个人或团队。\n\n## 使用场景/解决问题\n\n对于需要管理多个账号的企业和内容创作者而言，手动在Instagram发布图片和配文耗时费力。该工作流实现了从图片准备到内容发布的全流程自动化，显著降低人工操作成本，提升发布效率。\n\n## 工作流功能\n\n1. 触发初始化：通过手动触发器启动流程（可适配HTTP网络钩子或定时器等触发方式）\n2. 参数设置：专用节点配置基础参数（包括Bluesky账户ID、图片URL及文字说明）\n3. 建立会话：创建经过认证的会话数据，为后续上传和发布操作提供凭证\n4. 媒体上传：从指定URL获取图片文件，以二进制大对象形式上传至Bluesky（这是实现图文关联发布的必要前置步骤）\n5. 图文发布：最终通过Bluesky API提交包含文字说明和图片引用的完整内容\n\n## 配置指南\n\n1. 登录Bluesky并创建[应用密码](https://bsky.app/settings/app-passwords)\n2. 在_凭证定义_节点填写用户名和应用密码\n3. 通过_设置文案_节点编辑帖子文字内容\n4. 在_设置图片_节点配置1-4个图片URL\n5. 根据需求调整初始触发器类型（如定时触发或网络钩子触发）\n6. 改造文案和图片节点以支持动态参数输入\n\n## 注意事项\n\n• 本方案至少需要1个图片URL才能运行。如需发布纯文字内容，请删除最后一个_发布到Bluesky_节点JSON中的整个`embed`字段及相关图片附件节点\n\n• Bluesky平台300字符限制包含：文案+话题标签+图片替代文本。超出限制将触发`记录/描述不得超过300个字符`错误提示",
  "title_zh": "使用原生Bluesky API实现的简单多图发布",
  "publish_date_zh": "最后更新于5个月前",
  "workflow_json_zh": "{\n  \"id\": \"XGFs5jZNCeURd4OT\",\n  \"meta\": {\n    \"instanceId\": \"c5e9c1178f3b42f080c51c81bcfa62e1fbd48abf38103a7a4cd8e15abc64df08\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Publish Image Post to Bluesky\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"afd666fc-8f79-488d-a295-4bfdd6883924\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        35,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d31bfe18-5acc-4f72-80d0-d85111dd62cc\",\n      \"name\": \"Create Bluesky Session\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        435,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"https://bsky.social/xrpc/com.atproto.server.createSession\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={{ $('Define Credentials').item.json.credentials }}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\"\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"514ac077-3c96-41f0-b178-afefe2f9faae\",\n      \"name\": \"Download Images\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1260,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"67e77e91-3a53-44c3-a474-2cd3b4977cf2\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1580,\n        260\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return $input.all().map( item => ({\\n    alt: \\\"-\\\",\\n    image: {\\n      ...item.json.blob\\n    }\\n}));\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b8540b04-afe8-4455-8fec-fcab5ffff1ae\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        102.39520958083813\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 391.0892880786254,\n        \"height\": 335.5179928232044,\n        \"content\": \"## 在此定义帖子标题\\n您可以设置：\\n* 帖子的文字标题（最多300个字符）\\n* 图片链接（最多4张图片，每张不超过1MB）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2a6e60ef-4042-4648-85bb-143d226aa736\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1100,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"photos\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5c3a6c2f-7b60-4448-9d85-4174e9f5f770\",\n      \"name\": \"Post to Bluesky\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1940,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"https://bsky.social/xrpc/com.atproto.repo.createRecord\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"repo\\\": \\\"{{ $('Create Bluesky Session').item.json.did }}\\\",\\n  \\\"collection\\\": \\\"app.bsky.feed.post\\\",\\n  \\\"record\\\": {\\n      \\\"$type\\\": \\\"app.bsky.feed.post\\\",\\n      \\\"text\\\": \\\"{{ $('Set Caption').item.json['Post Text'].trim()}}\\\",\\n      \\\"createdAt\\\": \\\"{{ $now }}\\\",\\n\\\"embed\\\": {\\n\\\"$type\\\": \\\"app.bsky.embed.images\\\",\\n\\\"images\\\":{{ $('Aggregate').item.json.data.toJsonString() }}\\n}\\n  }\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('Create Bluesky Session').item.json.accessJwt }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"266ef5cb-18df-45b0-b5c4-59782e571d40\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        180,\n        -2.994011976047659\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 418.7983637184758,\n        \"height\": 440.36620487216396,\n        \"content\": \"## 设置Bluesky凭证\\n您需要设置以下两项信息...\\n1. _标识符_\\n即您的Bluesky用户名，例如\\\"username.bsky.social\\\"\\n2. _应用密码_\\n这_并非_您的登录密码，而是需在[Bluesky账户设置](https://bsky.app/settings/app-passwords)中专门生成的密码\\n\\n随后系统将开启Bluesky会话用于图片上传和发文功能。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3a7fc037-02f6-4091-bcdc-5b22d43269ef\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1063.9520958083824,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 814.7806424732389,\n        \"height\": 269.1258097879526,\n        \"content\": \"### 处理图片附件  \\nBluesky不会直接将图片附加到帖子中，而是先单独上传[再嵌入到帖子内](https://docs.bsky.app/docs/tutorials/creating-a-post#images-embeds)。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aa7796b3-9cc7-4219-85af-a9ae3613f891\",\n      \"name\": \"Define Credentials\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        235,\n        260\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"{\\\"credentials\\\":\\n  {\\n    \\\"identifier\\\": \\\"username.bsky.social\\\",\\n    \\\"password\\\": \\\"XXXX-YYYY-ZZZZ-XXXX\\\"\\n  }\\n}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4bcf77ef-b40e-485e-b444-659f77cf9d69\",\n      \"name\": \"Aggregate\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        1740,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eb2730e5-cad7-47f0-96d2-f2ae1dee6dd5\",\n      \"name\": \"Set Images\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        880,\n        260\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"{  \\\"photos\\\":[\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=234234\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=676855\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=4564\\\"\\n    },\\n    {\\n      \\\"url\\\":\\\"https://picsum.photos/800/600?random=12124\\\"\\n    }\\n  ]}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0d3a030e-1ac6-420d-a850-d267928f4072\",\n      \"name\": \"Post Image to Bluesky\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1420,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"https://bsky.social/xrpc/com.atproto.repo.uploadBlob\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"binaryData\",\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('Create Bluesky Session').item.json.accessJwt }}\"\n            }\n          ]\n        },\n        \"inputDataFieldName\": \"data\"\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"31124777-ee35-4ceb-b0e7-75f7cef4b481\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 880.0000000000002,\n        \"height\": 207.9041916167665,\n        \"content\": \"# 在Bluesky上创建带图片的新帖子  \\n此工作流程将：  \\n1. 从您指定的网址获取图片  \\n2. 逐个将图片作为blob上传至BlueSky  \\n3. 允许您设定帖子的基础文本内容  \\n4. 使用您的Bluesky凭证将帖子发布到您的动态中\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8e54515-c9ec-474d-aa2b-fe357cbd4775\",\n      \"name\": \"Set Caption\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        688,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6135981d-82d9-47bb-9eb5-ce9a4220f108\",\n              \"name\": \"Caption Text\",\n              \"type\": \"string\",\n              \"value\": \"Here is the amazing content of my post, max of 300 characters!\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"86d8df08-3f73-40a5-9c5b-d2ebda3f3b13\",\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post to Bluesky\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Images\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Caption\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Images\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post Image to Bluesky\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Define Credentials\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Bluesky Session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Post Image to Bluesky\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Bluesky Session\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Caption\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Define Credentials\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}