{
  "title": "AI Chat Agent: Dumpling AI + GPT-4o to Auto-Save Local Business Data to Airtable",
  "url": "https://n8n.io/workflows/3826-ai-chat-agent-dumpling-ai-gpt-4o-to-auto-save-local-business-data-to-airtable/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "Yang",
  "publish_date": "Last update 9 days ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"MyJ84ASqWdHGYuy0\",\"meta\":{\"instanceId\":\"a1ae5c8dc6c65e674f9c3947d083abcc749ef2546dff9f4ff01de4d6a36ebfe6\",\"templateCredsSetupCompleted\":true},\"name\":\"AI Chat Agent: Dumpling AI + GPT-4o to Auto-Save Local Business Data to Airtable\",\"tags\":[{\"id\":\"TlcNkmb96fUfZ2eA\",\"name\":\"Tutorials\",\"createdAt\":\"2025-04-15T17:02:00.249Z\",\"updatedAt\":\"2025-04-15T17:02:00.249Z\"}],\"nodes\":[{\"id\":\"1617006d-20d8-44da-8410-1fbbd6bc317e\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-480,-40],\"webhookId\":\"13e55a07-d144-403b-b465-2a539501b207\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"ccb3073d-4c39-44bf-bd7f-05a6ae0550cb\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1200,-220],\"parameters\":{\"width\":660,\"height\":900,\"content\":\"#### üß† Workflow Purpose\\nAn interactive chat assistant that listens for incoming messages, processes them with AI, and uses Dumpling AI to fetch external information or complete tasks ‚Äî with memory tracking.\\n\\n## üîÑ Workflow Steps\\n\\n### 1. Chat Trigger\\n- Listens for chat messages (e.g., from a web app or messaging platform).\\n\\n### 2. OpenAI Chat Model\\n- Processes the user's input using GPT-4o mini.\\n\\n### 3. Simple Memory Buffer\\n- Keeps context from the last 10 exchanges to maintain a conversational flow.\\n\\n### 4. DumplingAI- News Agent and Local Business Finder Agent\\n- Makes an external API call to Dumpling AI‚Äôs agent endpoint to search or generate responses based on user intent.\\n\\n### 5. AI Agent Node\\n- Connects all components: language model, memory, and external tools.\\n\\n### 6. Airtable Tool ‚Äì Dynamic Business Data Storage\\n\\n-This Airtable node auto-populates and updates a ‚ÄúLocal Business‚Äù table using data returned from Dumpling AI‚Äôs Local Business Finder Agent. It maps essential fields such as:\\n\\n\\n## ‚öôÔ∏è Notes\\n- Dumpling AI agent ID is pre-configured.\\n- JSON response from Dumpling is parsed as usable data.\\n- You can add routing or fallback logic based on Dumpling's results.\\n\\n##### üí° Tip\\nTo customize it for a specific domain (e.g., real estate, restaurant finder, course assistant), adjust the agent prompt or plug in a domain-specific tool module.\\n\\n\"},\"typeVersion\":1},{\"id\":\"266e0454-5133-4287-a449-2eb1d3d00485\",\"name\":\"News Agent\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[-20,180],\"parameters\":{\"url\":\"https://app.dumplingai.com/api/v1/agents/generate-completion\",\"method\":\"POST\",\"jsonBody\":\"={\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\":\\\"{{ $json.chatInput}}\\\"\\n    }\\n  ],\\n  \\\"agentId\\\": \\\"\\\",\\n  \\\"parseJson\\\": \\\"True\\\"\\n  }\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"optimizeResponse\":true},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"xamyMqCpAech5BeT\",\"name\":\"Header Auth account\"}},\"typeVersion\":1.1},{\"id\":\"b3d834d7-eeb5-4ce8-bb45-2d6b58f8c0a9\",\"name\":\"Local Business Finder Agent\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[100,180],\"parameters\":{\"url\":\"https://app.dumplingai.com/api/v1/agents/generate-completion\",\"method\":\"POST\",\"jsonBody\":\"={\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\":\\\"{{ $json.chatInput}}\\\"\\n    }\\n  ],\\n  \\\"agentId\\\": \\\"\\\",\\n  \\\"parseJson\\\": \\\"false\\\"\\n  }\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"optimizeResponse\":true},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"xamyMqCpAech5BeT\",\"name\":\"Header Auth account\"}},\"typeVersion\":1.1},{\"id\":\"bc75a2b5-8d99-487a-a9fc-12045b555207\",\"name\":\"Track Last 10 Messages \",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-160,180],\"parameters\":{\"contextWindowLength\":10},\"typeVersion\":1.3},{\"id\":\"0eb2b921-360e-4043-8a2f-301d10113dfc\",\"name\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-108,-40],\"parameters\":{\"options\":{\"systemMessage\":\"You are a helpful assistant\\nUse the Local Business Finder Agent HTTP request tool to find local business\\n\\nUse the News agent HTTP request tool to get get news\\n\\nUse the Create and update Airtable tool to send results from the Local Business Finder Agent HTTP request tool\"}},\"typeVersion\":1.8},{\"id\":\"948fafa9-6b4c-4656-b27f-ce5b1eb0d363\",\"name\":\"Process Input with GPT-4o Mini\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-320,180],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"gY2Jp4ypzmjcwwV6\",\"name\":\"n8n free OpenAI API credits\"}},\"typeVersion\":1.2},{\"id\":\"4a07cedd-f40e-4123-a894-c53da751263f\",\"name\":\"Save Business Results\",\"type\":\"n8n-nodes-base.airtableTool\",\"position\":[240,180],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"https://airtable.com/appPSvSKdA6075xJC\",\"cachedResultName\":\"Testing n8n\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"https://airtable.com/appPSvSKdA6075xJC/tblgxhdRFc2fGLV9o\",\"cachedResultName\":\"Local business\"},\"columns\":{\"value\":{\"id\":\"=\",\"Rating\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Rating', ``, 'number') }}\",\"Address\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Address', ``, 'string') }}\",\"Website\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Website', ``, 'string') }}\",\"Category\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Category', ``, 'string') }}\",\"Phone Number\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Phone_Number', ``, 'string') }}\",\"Total Reviews\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Total_Reviews', ``, 'number') }}\",\"Name of Restaurant\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Name_of_Restaurant', ``, 'string') }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true},{\"id\":\"Name of Restaurant\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Name of Restaurant\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Rating\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Rating\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Total Reviews\",\"type\":\"number\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Total Reviews\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Address\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Address\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Phone Number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Phone Number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Website\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Website\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Category\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Category\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"upsert\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"H8PVkBgUPCcUhhRC\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"57c6329e-df0b-4eb4-9837-643c7de85e5e\",\"connections\":{\"News Agent\":{\"ai_tool\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"ai_tool\",\"index\":0}]]},\"Save Business Results\":{\"ai_tool\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"ai_tool\",\"index\":0}]]},\"Track Last 10 Messages \":{\"ai_memory\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"ai_memory\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"main\",\"index\":0}]]},\"Local Business Finder Agent\":{\"ai_tool\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"ai_tool\",\"index\":0}]]},\"Process Input with GPT-4o Mini\":{\"ai_languageModel\":[[{\"node\":\"Route AI Tasks with Dumpling + GPT + Memory\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Route AI Tasks with Dumpling + GPT + Memory\":{\"main\":[[]]}}}",
  "readme": "### Who is this for?\n\nThis workflow is for digital marketers, small business owners, lead generation agencies, and VAs who need a scalable way to find and store local business leads using AI. It‚Äôs especially useful for teams that want to enrich leads with real-time news insights and save the structured data to Airtable.\n\n* * *\n\n### What problem is this workflow solving?\n\nManually researching local businesses and staying up to date with relevant news is time-consuming and inefficient. This automation eliminates that burden by using Dumpling AI chat agents to generate leads and context, GPT-4o to summarize, and Airtable to store everything in one place.\n\n* * *\n\n### What this workflow does\n\nThis AI workflow listens for a manual trigger in n8n and executes the following steps:\n\n  1. Extracts local business leads using a **Local Business Agent** from Dumpling AI.\n  2. Pulls current news related to the business type or location using a **News Agent** from Dumpling AI.\n  3. Uses GPT-4o to combine both responses into a human-readable summary.\n  4. Extracts structured lead data like name, category, and city.\n  5. Saves the summary and lead data into Airtable for easy follow-up.\n\n\n\n* * *\n\n### Setup\n\n#### 1\\. **Create AI Agents in Dumpling AI**\n\n  * Sign in at [Dumpling AI](https://app.dumplingai.com)\n  * Create two separate agents: \n    * **Local Business Agent** : Designed to respond with structured lists of businesses by location and category.\n    * **News Agent** : Designed to fetch relevant recent news and summaries about a specific industry or region.\n  * After setting up each agent, copy the **Agent Key** from Dumpling AI. These keys will be required in the headers of your HTTP Request nodes in n8n.\n\n\n\n#### 2\\. **Manual Trigger**\n\n  * This workflow begins with a manual trigger inside n8n, Which is the When chat message is recieved.\n  * This makes it easy to test and reuse, especially during setup.\n\n\n\n#### 3\\. **Get Local Business Data from Dumpling AI**\n\n  * The first HTTP Request node sends a prompt like `List 5 top real estate companies in Atlanta with full address and services`.\n  * Include your **Local Business Agent Key** in the `x-agent-key` header.\n  * The response will return a structured list of business leads.\n\n\n\n#### 4\\. **Get News Context from Dumpling AI**\n\n  * The second HTTP Request node sends a prompt such as `Give me the latest news related to the real estate market in Atlanta`.\n  * Use your **News Agent Key** in the header.\n  * This fetches a brief set of recent news summaries relevant to the businesses being researched.\n\n\n\n#### 5\\. **Use GPT-4o to Merge and Summarize**\n\n  * The GPT node combines the list of businesses and news into one coherent summary.\n  * You can modify the prompt to output in paragraph format, bullet points, or structured notes.\n\n\n\n#### 6\\. **Save Lead to Airtable**\n\n  * The Airtable node sends all structured fields into your selected base and table.\n  * Be sure to connect your Airtable account and confirm the columns match exactly.\n\n\n\n* * *\n\n### How to customize this workflow\n\n  * Replace the prompt inside the HTTP node to focus on different types of businesses or cities.\n  * Expand the GPT output to include additional lead info like websites, phone numbers, or emails if the agent includes them.\n  * Add a webhook trigger to allow this flow to be run via a chatbot, external app, or button.\n  * Link to HubSpot or another CRM to sync the leads automatically.\n  * Duplicate the process to run for multiple industries in parallel.\n\n\n\n* * *\n\n### Final Notes\n\n  * You must create and configure your Dumpling AI agents first before running this workflow.\n  * The Agent Keys from Dumpling AI are required in both HTTP Request nodes.\n  * This flow is modular and flexible, ready for deeper CRM integrations.\n  * The manual trigger is great for testing, but you can add a Webhook node to automate it.\n\n\n\nThis workflow helps you launch an intelligent lead gen process that combines location-targeted business discovery, AI-generated insights, and structured CRM-friendly output, all powered by Dumpling AI and OpenAI.\n",
  "readme_html": "<!--[--><div data-v-859c7806=\"\"><h3>Who is this for?</h3>\n<p>This workflow is for digital marketers, small business owners, lead generation agencies, and VAs who need a scalable way to find and store local business leads using AI. It‚Äôs especially useful for teams that want to enrich leads with real-time news insights and save the structured data to Airtable.</p>\n<hr>\n<h3>What problem is this workflow solving?</h3>\n<p>Manually researching local businesses and staying up to date with relevant news is time-consuming and inefficient. This automation eliminates that burden by using Dumpling AI chat agents to generate leads and context, GPT-4o to summarize, and Airtable to store everything in one place.</p>\n<hr>\n<h3>What this workflow does</h3>\n<p>This AI workflow listens for a manual trigger in n8n and executes the following steps:</p>\n<ol>\n<li>Extracts local business leads using a <strong>Local Business Agent</strong> from Dumpling AI.</li>\n<li>Pulls current news related to the business type or location using a <strong>News Agent</strong> from Dumpling AI.</li>\n<li>Uses GPT-4o to combine both responses into a human-readable summary.</li>\n<li>Extracts structured lead data like name, category, and city.</li>\n<li>Saves the summary and lead data into Airtable for easy follow-up.</li>\n</ol>\n<hr>\n<h3>Setup</h3>\n<h4>1. <strong>Create AI Agents in Dumpling AI</strong></h4>\n<ul>\n<li>Sign in at <a href=\"https://app.dumplingai.com\" rel=\"ugc nofollow\" target=\"_blank\">Dumpling AI</a></li>\n<li>Create two separate agents:\n<ul>\n<li><strong>Local Business Agent</strong>: Designed to respond with structured lists of businesses by location and category.</li>\n<li><strong>News Agent</strong>: Designed to fetch relevant recent news and summaries about a specific industry or region.</li>\n</ul>\n</li>\n<li>After setting up each agent, copy the <strong>Agent Key</strong> from Dumpling AI. These keys will be required in the headers of your HTTP Request nodes in n8n.</li>\n</ul>\n<h4>2. <strong>Manual Trigger</strong></h4>\n<ul>\n<li>This workflow begins with a manual trigger inside n8n, Which is the When chat message is recieved.</li>\n<li>This makes it easy to test and reuse, especially during setup.</li>\n</ul>\n<h4>3. <strong>Get Local Business Data from Dumpling AI</strong></h4>\n<ul>\n<li>The first HTTP Request node sends a prompt like <code>List 5 top real estate companies in Atlanta with full address and services</code>.</li>\n<li>Include your <strong>Local Business Agent Key</strong> in the <code>x-agent-key</code> header.</li>\n<li>The response will return a structured list of business leads.</li>\n</ul>\n<h4>4. <strong>Get News Context from Dumpling AI</strong></h4>\n<ul>\n<li>The second HTTP Request node sends a prompt such as <code>Give me the latest news related to the real estate market in Atlanta</code>.</li>\n<li>Use your <strong>News Agent Key</strong> in the header.</li>\n<li>This fetches a brief set of recent news summaries relevant to the businesses being researched.</li>\n</ul>\n<h4>5. <strong>Use GPT-4o to Merge and Summarize</strong></h4>\n<ul>\n<li>The GPT node combines the list of businesses and news into one coherent summary.</li>\n<li>You can modify the prompt to output in paragraph format, bullet points, or structured notes.</li>\n</ul>\n<h4>6. <strong>Save Lead to Airtable</strong></h4>\n<ul>\n<li>The Airtable node sends all structured fields into your selected base and table.</li>\n<li>Be sure to connect your Airtable account and confirm the columns match exactly.</li>\n</ul>\n<hr>\n<h3>How to customize this workflow</h3>\n<ul>\n<li>Replace the prompt inside the HTTP node to focus on different types of businesses or cities.</li>\n<li>Expand the GPT output to include additional lead info like websites, phone numbers, or emails if the agent includes them.</li>\n<li>Add a webhook trigger to allow this flow to be run via a chatbot, external app, or button.</li>\n<li>Link to HubSpot or another CRM to sync the leads automatically.</li>\n<li>Duplicate the process to run for multiple industries in parallel.</li>\n</ul>\n<hr>\n<h3>Final Notes</h3>\n<ul>\n<li>You must create and configure your Dumpling AI agents first before running this workflow.</li>\n<li>The Agent Keys from Dumpling AI are required in both HTTP Request nodes.</li>\n<li>This flow is modular and flexible, ready for deeper CRM integrations.</li>\n<li>The manual trigger is great for testing, but you can add a Webhook node to automate it.</li>\n</ul>\n<p>This workflow helps you launch an intelligent lead gen process that combines location-targeted business discovery, AI-generated insights, and structured CRM-friendly output, all powered by Dumpling AI and OpenAI.</p>\n</div><!--]-->"
}