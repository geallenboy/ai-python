{
  "title": "Automatic Background Removal for Images in Google Drive",
  "url": "https://n8n.io/workflows/2529-automatic-background-removal-for-images-in-google-drive/",
  "category": "Marketing",
  "category_url": "https://n8n.io/workflows/categories/marketing/?sort=createdAt:desc",
  "author": "Simon",
  "publish_date": "Last update 6 months ago",
  "publish_date_absolute": "2024-11-19",
  "content": "",
  "workflow_json": "{\"id\":\"oNJCLq4egGByMeSl\",\"meta\":{\"instanceId\":\"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\",\"templateCredsSetupCompleted\":true},\"name\":\"Remove Advanced Background from Google Drive Images\",\"tags\":[],\"nodes\":[{\"id\":\"99582f98-3707-4480-954a-f091e4e8133a\",\"name\":\"Config\",\"type\":\"n8n-nodes-base.set\",\"position\":[820,620],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"42b02a2f-a642-42db-a565-fd2a01a26fb9\",\"name\":\"bg_color\",\"type\":\"string\",\"value\":\"white\"},{\"id\":\"f68b2280-ec85-4400-8a98-10e644b56076\",\"name\":\"padding\",\"type\":\"string\",\"value\":\"5%\"},{\"id\":\"8bdee3a1-9107-4bf8-adea-332d299e43ae\",\"name\":\"keepInputSize\",\"type\":\"boolean\",\"value\":true},{\"id\":\"89d9e4fb-ed14-4ee2-b6f0-73035bafbc39\",\"name\":\"outputSize\",\"type\":\"string\",\"value\":\"1600x1600\"},{\"id\":\"ad53bf64-5493-4c4d-a52c-cd4d657cc9f9\",\"name\":\"inputFileName\",\"type\":\"string\",\"value\":\"={{ $json.originalFilename }}\"},{\"id\":\"9fc440c6-289b-4a6a-8391-479a6660836f\",\"name\":\"OutputDriveFolder\",\"type\":\"string\",\"value\":\"ENTER GOOGLE DRIVE FOLDER URL\"},{\"id\":\"f0f1767a-b659-48c4-bef6-8ee4111cb939\",\"name\":\"api-key\",\"type\":\"string\",\"value\":\"ENTER API KEY\"}]}},\"typeVersion\":3.4},{\"id\":\"7b5973d4-0d9f-4d17-8b71-e6c4f81d682e\",\"name\":\"remove background\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2300,520],\"parameters\":{\"url\":\"https://image-api.photoroom.com/v2/edit\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{}}},\"sendBody\":true,\"contentType\":\"multipart-form-data\",\"sendHeaders\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"background.color\",\"value\":\"={{ $json.bg_color }}\"},{\"name\":\"imageFile\",\"parameterType\":\"formBinaryData\",\"inputDataFieldName\":\"data\"},{\"name\":\"padding\",\"value\":\"={{ $json.padding }}\"},{\"name\":\"outputSize\",\"value\":\"={{ $json.Geometry }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"x-api-key\",\"value\":\"={{ $json['api-key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"66d4f5c2-3d63-4e4a-8ea7-358c17061198\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[1260,420],\"parameters\":{\"options\":{\"includeBinary\":true},\"fieldToSplitOut\":\"Geometry\"},\"typeVersion\":1},{\"id\":\"10f8a6cf-d1d0-4c5f-9983-5d574f98a7ba\",\"name\":\"Upload Picture to Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2520,320],\"parameters\":{\"name\":\"=BG-Removed-{{$json.inputFileName.split('.').slice(0, -1).join('.') }}.png\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $json.OutputDriveFolder }}\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"X2y13wEmbPaV3QGI\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"5e4e91ff-346e-414d-bbe2-0724469183b4\",\"name\":\"remove background fixed size\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[2300,320],\"parameters\":{\"url\":\"https://image-api.photoroom.com/v2/edit\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{}}},\"sendBody\":true,\"contentType\":\"multipart-form-data\",\"sendHeaders\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"background.color\",\"value\":\"={{ $json.bg_color }}\"},{\"name\":\"imageFile\",\"parameterType\":\"formBinaryData\",\"inputDataFieldName\":\"data\"},{\"name\":\"padding\",\"value\":\"={{ $json.padding }}\"},{\"name\":\"outputSize\",\"value\":\"={{ $json.outputSize }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"x-api-key\",\"value\":\"={{ $json['api-key'] }}\"}]}},\"typeVersion\":4.1},{\"id\":\"16924a69-2711-4dc6-b7ab-c0e2001edfa4\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1600,460],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combineBy\":\"combineByPosition\"},\"typeVersion\":3},{\"id\":\"39196096-ef45-4159-8286-00a1b21aaec4\",\"name\":\"Upload Picture to Google Drive1\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2540,520],\"parameters\":{\"name\":\"=BG-Removed-{{$json.inputFileName.split('.').slice(0, -1).join('.') }}.png\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $json.OutputDriveFolder }}\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"X2y13wEmbPaV3QGI\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"a2f15d9a-5458-4d83-995a-e41491c997bd\",\"name\":\"Download Image\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[800,420],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"X2y13wEmbPaV3QGI\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"3e2bef4d-22f8-465d-8d11-f9fe25e67cd9\",\"name\":\"Get Image Size\",\"type\":\"n8n-nodes-base.editImage\",\"position\":[1060,420],\"parameters\":{\"operation\":\"information\"},\"typeVersion\":1},{\"id\":\"e497d10f-0727-4bb7-b016-42ffe2faf773\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[420,-280],\"parameters\":{\"color\":5,\"width\":613.2529601722273,\"height\":653.6921420882659,\"content\":\"## About this worfklow \\n\\n## How it works\\nThis workflow does watch out for new images uploaded within Google Drive. \\nOnce there are new images it will download the image. And then run some logic, remove the background and add some padding to the output image. \\n**By default Images are saved as .png**\\nOnce done upload it to Google Drive again.\\n## Features* Select Google Drive Credentials within the Google Drive Nodes\\n### This workflow supports\\n* Remove Background\\n* Transparent Background\\n* Coloured Background (1 Color)\\n* Add Padding\\n* Choose Output Size\\n\\n## Customize it!\\n* Feel free to customize the workflow to your needs\\n* Speed up the workflow: Using fixed output size\\n### Examples \\n* Send Final Images to another service\\n* For Products: Let ChatGPT Analyze the Product Type\\n* Add Text with the \\\"Edit Image\\\" Node\\n\\n### Photroom API Playground\\n[Click me](https://www.photoroom.com/api/playground)\"},\"typeVersion\":1},{\"id\":\"e892caf8-b9c7-4880-a096-f9d1c8c52c0c\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1060,-20],\"parameters\":{\"color\":4,\"width\":437.4768568353068,\"height\":395.45317545748134,\"content\":\"## Setup\\n\\n### Requirements\\n* Photoroom API Key [Click me](https://docs.photoroom.com/getting-started/how-can-i-get-my-api-key)\\n* Google Drive Credential Setup\\n\\n\\n## Config\\n* Select Google Drive Credentials within the Google Drive Nodes\\n\\n* **Please refer to the \\\"Config\\\" Node**\\n\\nFor the API Key you can also setup an Header Authentication\"},\"typeVersion\":1},{\"id\":\"7f79d9e0-a7ac-422c-869f-76ada147917c\",\"name\":\"Watch for new images\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[440,520],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"X2y13wEmbPaV3QGI\",\"name\":\"Google Drive account\"}},\"typeVersion\":1},{\"id\":\"f67556bb-b463-4ba5-a472-577a8d5ab0ca\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[420,680],\"parameters\":{\"color\":3,\"width\":160.79224973089333,\"height\":80,\"content\":\"Select Input Folder\"},\"typeVersion\":1},{\"id\":\"04913b7f-1949-4e8e-b2c4-f9e3bacbc78c\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[780,780],\"parameters\":{\"color\":3,\"width\":263.8708288482238,\"height\":227.27233584499461,\"content\":\"### Configuration\\n* Provide Your API Key\\n* Set Background Color\\n-HEX or values like white, transparent...\\n* Select if Output Size / or Original  Size should be used \\n* Output Drive Folder\\n ->Copy URL\\n* Padding (Default 5%)\"},\"typeVersion\":1},{\"id\":\"e3b262d2-c367-4733-8cde-abd485c3d81b\",\"name\":\"check which output size method is used\",\"type\":\"n8n-nodes-base.if\",\"position\":[2040,460],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"d11ca8bb-0801-480f-b99a-249c5920b876\",\"operator\":{\"type\":\"boolean\",\"operation\":\"false\",\"singleValue\":true},\"leftValue\":\"={{ $json.keepInputSize }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"0cc4f416-7341-4bf7-8fb8-f3c746f8b9e4\",\"name\":\"loop all over your images\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[1820,460],\"parameters\":{\"options\":{}},\"typeVersion\":3}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"cff1146a-4dfd-4d87-a819-2420652e6c5e\",\"connections\":{\"Merge\":{\"main\":[[{\"node\":\"loop all over your images\",\"type\":\"main\",\"index\":0}]]},\"Config\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"Split Out\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Download Image\":{\"main\":[[{\"node\":\"Get Image Size\",\"type\":\"main\",\"index\":0}]]},\"Get Image Size\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"remove background\":{\"main\":[[{\"node\":\"Upload Picture to Google Drive1\",\"type\":\"main\",\"index\":0}]]},\"Watch for new images\":{\"main\":[[{\"node\":\"Download Image\",\"type\":\"main\",\"index\":0},{\"node\":\"Config\",\"type\":\"main\",\"index\":0}]]},\"loop all over your images\":{\"main\":[[],[{\"node\":\"check which output size method is used\",\"type\":\"main\",\"index\":0}]]},\"remove background fixed size\":{\"main\":[[{\"node\":\"Upload Picture to Google Drive\",\"type\":\"main\",\"index\":0}]]},\"Upload Picture to Google Drive\":{\"main\":[[{\"node\":\"loop all over your images\",\"type\":\"main\",\"index\":0}]]},\"Upload Picture to Google Drive1\":{\"main\":[[{\"node\":\"loop all over your images\",\"type\":\"main\",\"index\":0}]]},\"check which output size method is used\":{\"main\":[[{\"node\":\"remove background fixed size\",\"type\":\"main\",\"index\":0}],[{\"node\":\"remove background\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n workflow simplifies the process of removing backgrounds from images stored in Google Drive. By leveraging the PhotoRoom API, this template enables automatic background removal, padding adjustments, and output formatting, all while storing the updated images back in a designated Google Drive folder.\n\nThis workflow is very useful for companies or individuals that are spending a lot of time into removing the background from product images.\n\n## How it Works\n    \n    \n    The workflow begins with a Google Drive Trigger node that monitors a specific folder for new image uploads.\n    Upon detecting a new image, the workflow downloads the file and extracts essential metadata, such as the file size.\n    Configurations are set for background color, padding, output size, and more, which are all customizable to match specific requirements.\n    The PhotoRoom API is called to process the image by removing its background and adding padding based on the settings.\n    The processed image is saved back to Google Drive in the specified output folder with an updated name indicating the background has been removed.\n    \n\n## Requirements\n    \n    \n    PhotoRoom API Key\n    Google Drive API Access\n    \n\n## Customizing the Workflow\n    \n    \n    Easily adjust the background color, padding, and output size using the configuration node.\n    Modify the output folder path in Google Drive or replace Google Drive with another storage service if needed.\n    For advanced use cases, integrate further image processing steps, such as adding captions or analyzing content using AI.\n    \n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This n8n workflow simplifies the process of removing backgrounds from images stored in Google Drive. By leveraging the PhotoRoom API, this template enables automatic background removal, padding adjustments, and output formatting, all while storing the updated images back in a designated Google Drive folder.</p>\n<p>This workflow is very useful for companies or individuals that are spending a lot of time into removing the background from product images.</p>\n<h2>How it Works</h2>\n<pre><code>The workflow begins with a Google Drive Trigger node that monitors a specific folder for new image uploads.\nUpon detecting a new image, the workflow downloads the file and extracts essential metadata, such as the file size.\nConfigurations are set for background color, padding, output size, and more, which are all customizable to match specific requirements.\nThe PhotoRoom API is called to process the image by removing its background and adding padding based on the settings.\nThe processed image is saved back to Google Drive in the specified output folder with an updated name indicating the background has been removed.\n</code></pre>\n<h2>Requirements</h2>\n<pre><code>PhotoRoom API Key\nGoogle Drive API Access\n</code></pre>\n<h2>Customizing the Workflow</h2>\n<pre><code>Easily adjust the background color, padding, and output size using the configuration node.\nModify the output folder path in Google Drive or replace Google Drive with another storage service if needed.\nFor advanced use cases, integrate further image processing steps, such as adding captions or analyzing content using AI.\n</code></pre>\n</div><!--]-->",
  "readme_zh": "This n8n workflow simplifies the process of removing backgrounds from images stored in Google Drive. By leveraging the PhotoRoom API, this template enables automatic background removal, padding adjustments, and output formatting, all while storing the updated images back in a designated Google Drive folder.\n\nThis workflow is very useful for companies or individuals that are spending a lot of time into removing the background from product images.\n\n## How it Works\n    \n    \n    The workflow begins with a Google Drive Trigger node that monitors a specific folder for new image uploads.\n    Upon detecting a new image, the workflow downloads the file and extracts essential metadata, such as the file size.\n    Configurations are set for background color, padding, output size, and more, which are all customizable to match specific requirements.\n    The PhotoRoom API is called to process the image by removing its background and adding padding based on the settings.\n    The processed image is saved back to Google Drive in the specified output folder with an updated name indicating the background has been removed.\n    \n\n## Requirements\n    \n    \n    PhotoRoom API Key\n    Google Drive API Access\n    \n\n## Customizing the Workflow\n    \n    \n    Easily adjust the background color, padding, and output size using the configuration node.\n    Modify the output folder path in Google Drive or replace Google Drive with another storage service if needed.\n    For advanced use cases, integrate further image processing steps, such as adding captions or analyzing content using AI.\n    \n",
  "title_zh": "Google Drive 图片自动去背景功能",
  "publish_date_zh": "最后更新于6个月前",
  "workflow_json_zh": "{\n  \"id\": \"oNJCLq4egGByMeSl\",\n  \"meta\": {\n    \"instanceId\": \"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Remove Advanced Background from Google Drive Images\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"99582f98-3707-4480-954a-f091e4e8133a\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        820,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"42b02a2f-a642-42db-a565-fd2a01a26fb9\",\n              \"name\": \"bg_color\",\n              \"type\": \"string\",\n              \"value\": \"white\"\n            },\n            {\n              \"id\": \"f68b2280-ec85-4400-8a98-10e644b56076\",\n              \"name\": \"padding\",\n              \"type\": \"string\",\n              \"value\": \"5%\"\n            },\n            {\n              \"id\": \"8bdee3a1-9107-4bf8-adea-332d299e43ae\",\n              \"name\": \"keepInputSize\",\n              \"type\": \"boolean\",\n              \"value\": true\n            },\n            {\n              \"id\": \"89d9e4fb-ed14-4ee2-b6f0-73035bafbc39\",\n              \"name\": \"outputSize\",\n              \"type\": \"string\",\n              \"value\": \"1600x1600\"\n            },\n            {\n              \"id\": \"ad53bf64-5493-4c4d-a52c-cd4d657cc9f9\",\n              \"name\": \"inputFileName\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.originalFilename }}\"\n            },\n            {\n              \"id\": \"9fc440c6-289b-4a6a-8391-479a6660836f\",\n              \"name\": \"OutputDriveFolder\",\n              \"type\": \"string\",\n              \"value\": \"ENTER GOOGLE DRIVE FOLDER URL\"\n            },\n            {\n              \"id\": \"f0f1767a-b659-48c4-bef6-8ee4111cb939\",\n              \"name\": \"api-key\",\n              \"type\": \"string\",\n              \"value\": \"ENTER API KEY\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"7b5973d4-0d9f-4d17-8b71-e6c4f81d682e\",\n      \"name\": \"remove background\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2300,\n        520\n      ],\n      \"parameters\": {\n        \"url\": \"https://image-api.photoroom.com/v2/edit\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"response\": {\n            \"response\": {}\n          }\n        },\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"sendHeaders\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"background.color\",\n              \"value\": \"={{ $json.bg_color }}\"\n            },\n            {\n              \"name\": \"imageFile\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            },\n            {\n              \"name\": \"padding\",\n              \"value\": \"={{ $json.padding }}\"\n            },\n            {\n              \"name\": \"outputSize\",\n              \"value\": \"={{ $json.Geometry }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"x-api-key\",\n              \"value\": \"={{ $json['api-key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"66d4f5c2-3d63-4e4a-8ea7-358c17061198\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1260,\n        420\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"includeBinary\": true\n        },\n        \"fieldToSplitOut\": \"Geometry\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"10f8a6cf-d1d0-4c5f-9983-5d574f98a7ba\",\n      \"name\": \"Upload Picture to Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2520,\n        320\n      ],\n      \"parameters\": {\n        \"name\": \"=BG-Removed-{{$json.inputFileName.split('.').slice(0, -1).join('.') }}.png\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $json.OutputDriveFolder }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"X2y13wEmbPaV3QGI\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"5e4e91ff-346e-414d-bbe2-0724469183b4\",\n      \"name\": \"remove background fixed size\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2300,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"https://image-api.photoroom.com/v2/edit\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"response\": {\n            \"response\": {}\n          }\n        },\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"sendHeaders\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"background.color\",\n              \"value\": \"={{ $json.bg_color }}\"\n            },\n            {\n              \"name\": \"imageFile\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            },\n            {\n              \"name\": \"padding\",\n              \"value\": \"={{ $json.padding }}\"\n            },\n            {\n              \"name\": \"outputSize\",\n              \"value\": \"={{ $json.outputSize }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"x-api-key\",\n              \"value\": \"={{ $json['api-key'] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"16924a69-2711-4dc6-b7ab-c0e2001edfa4\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1600,\n        460\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"39196096-ef45-4159-8286-00a1b21aaec4\",\n      \"name\": \"Upload Picture to Google Drive1\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2540,\n        520\n      ],\n      \"parameters\": {\n        \"name\": \"=BG-Removed-{{$json.inputFileName.split('.').slice(0, -1).join('.') }}.png\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $json.OutputDriveFolder }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"X2y13wEmbPaV3QGI\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"a2f15d9a-5458-4d83-995a-e41491c997bd\",\n      \"name\": \"Download Image\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        800,\n        420\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"X2y13wEmbPaV3QGI\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"3e2bef4d-22f8-465d-8d11-f9fe25e67cd9\",\n      \"name\": \"Get Image Size\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        1060,\n        420\n      ],\n      \"parameters\": {\n        \"operation\": \"information\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e497d10f-0727-4bb7-b016-42ffe2faf773\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 613.2529601722273,\n        \"height\": 653.6921420882659,\n        \"content\": \"## 关于此工作流程  \\n\\n## 工作原理  \\n该工作流程会监控Google Drive中新上传的图片。  \\n一旦有新图片，便会下载该图片，随后执行一系列操作：移除背景并为输出图片添加边距。  \\n**默认情况下，图片将保存为.png格式**  \\n处理完成后，会再次上传至Google Drive。  \\n\\n## 功能特点  \\n* 在Google Drive节点中选择Google Drive凭证  \\n\\n### 此工作流程支持  \\n* 移除背景  \\n* 透明背景  \\n* 纯色背景（单色）  \\n* 添加边距  \\n* 选择输出尺寸  \\n\\n## 自定义设置！  \\n* 根据需求自由调整工作流程  \\n* 加速工作流程：使用固定输出尺寸  \\n\\n### 示例  \\n* 将最终图片发送至其他服务  \\n* 针对产品：让ChatGPT分析产品类型  \\n* 使用“编辑图片”节点添加文字  \\n\\n### Photroom API 演练场  \\n[点击此处](https://www.photoroom.com/api/playground)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e892caf8-b9c7-4880-a096-f9d1c8c52c0c\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1060,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 437.4768568353068,\n        \"height\": 395.45317545748134,\n        \"content\": \"## 配置准备\\n\\n### 必备条件\\n* Photoroom API密钥 [点击获取](https://docs.photoroom.com/getting-started/how-can-i-get-my-api-key)\\n* 谷歌云端硬盘凭证设置\\n\\n## 配置说明\\n* 在Google Drive节点中选择谷歌云端硬盘凭证\\n\\n* **具体设置请参照\\\"配置\\\"节点**\\n\\nAPI密钥也可通过设置请求头认证实现\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7f79d9e0-a7ac-422c-869f-76ada147917c\",\n      \"name\": \"Watch for new images\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        440,\n        520\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"X2y13wEmbPaV3QGI\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f67556bb-b463-4ba5-a472-577a8d5ab0ca\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        680\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 160.79224973089333,\n        \"height\": 80,\n        \"content\": \"选择输入文件夹\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"04913b7f-1949-4e8e-b2c4-f9e3bacbc78c\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        780,\n        780\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 263.8708288482238,\n        \"height\": 227.27233584499461,\n        \"content\": \"### 配置\\n* 提供您的API密钥\\n* 设置背景颜色\\n- HEX格式或直接输入颜色名称（如白色、透明等）\\n* 选择使用输出尺寸或原始尺寸\\n* 输出到Google Drive文件夹\\n ->复制URL\\n* 边距（默认5%）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e3b262d2-c367-4733-8cde-abd485c3d81b\",\n      \"name\": \"check which output size method is used\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2040,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"d11ca8bb-0801-480f-b99a-249c5920b876\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"false\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.keepInputSize }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0cc4f416-7341-4bf7-8fb8-f3c746f8b9e4\",\n      \"name\": \"loop all over your images\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1820,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"cff1146a-4dfd-4d87-a819-2420652e6c5e\",\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"loop all over your images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Image Size\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image Size\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"remove background\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Picture to Google Drive1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Watch for new images\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"loop all over your images\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"check which output size method is used\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"remove background fixed size\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Picture to Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload Picture to Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"loop all over your images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload Picture to Google Drive1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"loop all over your images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"check which output size method is used\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"remove background fixed size\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"remove background\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}