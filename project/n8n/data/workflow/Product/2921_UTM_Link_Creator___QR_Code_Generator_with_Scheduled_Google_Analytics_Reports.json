{
  "title": "UTM Link Creator & QR Code Generator with Scheduled Google Analytics Reports",
  "url": "https://n8n.io/workflows/2921-utm-link-creator-and-qr-code-generator-with-scheduled-google-analytics-reports/",
  "category": "Product",
  "category_url": "https://n8n.io/workflows/categories/product/?count=20",
  "author": "Marketing Canopy",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"SJrqDqTBIAyaZQkq\",\"meta\":{\"instanceId\":\"73d9d5380db181d01f4e26492c771d4cb5c4d6d109f18e2621cf49cac4c50763\",\"templateCredsSetupCompleted\":true},\"name\":\"UTM Link Creator & QR Code Generator with Scheduled Google Analytics Reports\",\"tags\":[],\"nodes\":[{\"id\":\"5efbd956-51b6-4f94-aebc-07e3e691f7eb\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-180,480],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"95QGJD3XSz0piaNU\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"a1acd323-ed07-41b4-a51e-614afe361893\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[0,480],\"parameters\":{\"sessionKey\":\"={{ $json.timestamp }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":200},\"typeVersion\":1.3},{\"id\":\"c3c2b5fa-c294-4306-a050-dccd592477fa\",\"name\":\"Google Analytics\",\"type\":\"n8n-nodes-base.googleAnalyticsTool\",\"position\":[160,480],\"parameters\":{\"metricsGA4\":{\"metricValues\":[{\"listName\":\"sessions\"}]},\"propertyId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"404306108\",\"cachedResultUrl\":\"https://analytics.google.com/analytics/web/#/p404306108/\",\"cachedResultName\":\"East Coast Concrete Coating\"},\"dimensionsGA4\":{\"dimensionValues\":[{},{\"listName\":\"sourceMedium\"}]},\"additionalFields\":{}},\"credentials\":{\"googleAnalyticsOAuth2\":{\"id\":\"sVZ61SpNfC2D1Z7V\",\"name\":\"Google Analytics account\"}},\"typeVersion\":2},{\"id\":\"cbc7b539-2fa6-493b-a66c-13db8d8d420c\",\"name\":\"Create UTM Link & Send To Database\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-440,-80],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5358f2cc-bdb0-4e9b-a6b9-93418f83db02\",\"name\":\"Set UTM Parameters For Link\",\"type\":\"n8n-nodes-base.set\",\"position\":[-220,-80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"28d0a36d-5b03-4b74-9941-ef0e1aab86bf\",\"name\":\"website_url\",\"type\":\"string\",\"value\":\"https://ecconcretecoating.com/\"},{\"id\":\"1a2ee174-4684-4246-813f-b67285af48b8\",\"name\":\"campaign_id\",\"type\":\"string\",\"value\":\"12246\"},{\"id\":\"e15a846d-6e37-4fbf-a9f4-b3fce3441295\",\"name\":\"campaign_source\",\"type\":\"string\",\"value\":\"google\"},{\"id\":\"f15e2bb1-08a6-48c4-8458-b753864e9364\",\"name\":\"campaign_medium\",\"type\":\"string\",\"value\":\"display\"},{\"id\":\"548900ab-aa2c-498f-bbd9-a787306e72db\",\"name\":\"campaign_name\",\"type\":\"string\",\"value\":\"summerfun\"},{\"id\":\"fd8d1bd4-a75d-4c49-b795-8fda7c377b66\",\"name\":\"campaign_term\",\"type\":\"string\",\"value\":\"conretecoating\"}]}},\"typeVersion\":3.4},{\"id\":\"45daf73a-01c2-40ab-8546-7fdd489e2a1c\",\"name\":\"Create UTM Link With Parameters\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,-140],\"parameters\":{\"jsCode\":\"const items = $input.all();\\nconst updatedItems = items.map((item) => {\\n  const utmUrl = `${item?.json?.website_url}?utm_source=${item?.json?.campaign_source}&utm_medium=${item?.json?.campaign_medium}&utm_campaign=${item?.json?.campaign_name}&utm_term=${item?.json?.campaign_term}&utm_content=${item?.json?.campaign_id}`;\\n  item.json.utmUrl = utmUrl;\\n  return item;\\n});\\nreturn updatedItems;\\n\"},\"typeVersion\":2},{\"id\":\"a621984d-eea5-464d-9be3-e620e779abd5\",\"name\":\"Submit UTM Link To Database\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[280,-200],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appIXd8a8JeB9bPaL\",\"cachedResultUrl\":\"https://airtable.com/appIXd8a8JeB9bPaL\",\"cachedResultName\":\"Untitled Base\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblXyFxXMHraieGCa\",\"cachedResultUrl\":\"https://airtable.com/appIXd8a8JeB9bPaL/tblXyFxXMHraieGCa\",\"cachedResultName\":\"UTM_URL\"},\"columns\":{\"value\":{\"URL\":\"={{ $json.utmUrl }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true},{\"id\":\"URL\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"upsert\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"0ApVmNsLu7aFzQD6\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"19074462-d719-4fdf-bc59-d6b2ecd1ce20\",\"name\":\"Create QR Code With Submitted QR Link\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[280,-20],\"parameters\":{\"url\":\"=https://quickchart.io/qr?text={{ $json.utmUrl }}&size=300&margin=10&ecLevel=H&dark=000000&light=FFFFFF\\n\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"a8c22bb2-f8eb-4e5f-b288-9c25e0aeb648\",\"name\":\"Schedule Google Analytics Report To Marketing Manager\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-460,280],\"parameters\":{\"rule\":{\"interval\":[{}]}},\"typeVersion\":1.2},{\"id\":\"268c110c-2b7c-4450-b5b0-5d5326eac17f\",\"name\":\"Google Analytics Data Analysis Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-100,280],\"parameters\":{\"text\":\"={{ $json.timestamp }}\",\"options\":{\"systemMessage\":\"\\\"You are an advanced data analytics AI specializing in executive reporting. Your task is to analyze the provided dataset and generate a structured executive summary that highlights key insights, trends, and actionable takeaways. Structure your summary in the following format:\\n\\nOverview â€“ Briefly describe the dataset and its significance.\\nKey Performance Indicators (KPIs) â€“ Highlight the most important metrics and compare them to previous periods if applicable.\\nTrends & Insights â€“ Identify patterns, growth areas, declines, and anomalies.\\nOpportunities & Recommendations â€“ Provide strategic recommendations based on the insights.\\nConclusion â€“ Summarize the key takeaways concisely.\\n*Ensure the tone is professional, clear, and tailored for executives who require quick, data-driven insights without unnecessary details.\\\"\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"1b012731-e67b-4e0d-95b7-a7f587754a05\",\"name\":\"Send Summary Report To Marketing Manager\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[300,280],\"webhookId\":\"a9b88615-c7e2-4b56-891a-98f4d6b34220\",\"parameters\":{\"sendTo\":\"john@marketingcanopy.com\",\"message\":\"={{ $json.output }}\",\"options\":{},\"subject\":\"Google Analytics Metrics Summary Report\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"pIXP1ZseBP4Z5CCp\",\"name\":\"Gmail account\"}},\"typeVersion\":2.1},{\"id\":\"9da758e1-8aed-446b-a074-8fee5405583f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,-280],\"parameters\":{\"width\":500,\"height\":400,\"content\":\"Create a marketing link with UTM parameters. Easily store in database and have QR code created and ready as well.\\n\\nType in requirements:\\nwebsite URL\\ncampaign id\\ncampaign source\\ncampaign medium\\ncampaign name\\ncampaign term\\n\\n\"},\"typeVersion\":1},{\"id\":\"92f5df8d-88ca-4b58-b544-c0b2d3578a73\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,-380],\"parameters\":{\"color\":4,\"width\":580,\"height\":540,\"content\":\"Code node creates the URL with UTM parameters. \\n\\nIt then sends to your Airtable database to store for records. It also creates a QR code with the embedded link to be used for materials. \\n\\nSample Airtable Setup:\\n-Website Link UTM column\"},\"typeVersion\":1},{\"id\":\"408af10c-4b0e-4d94-b02d-5d887fb150c3\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,180],\"parameters\":{\"color\":5,\"width\":1340,\"height\":460,\"content\":\"Schedule a Google Analytics Reports with Medium/Source to track UTM link performance. Update the reporting fields to fit your business needs. You can track traffic, conversions and other engagement metrics.\\n\\n*Sample Google Report Metrics: Sessions. Update metrics as needed.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"6e6641fd-a59c-49e9-af43-1b2b9b458544\",\"connections\":{\"Google Analytics\":{\"ai_tool\":[[{\"node\":\"Google Analytics Data Analysis Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Google Analytics Data Analysis Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"Google Analytics Data Analysis Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Set UTM Parameters For Link\":{\"main\":[[{\"node\":\"Create UTM Link With Parameters\",\"type\":\"main\",\"index\":0}]]},\"Submit UTM Link To Database\":{\"main\":[[]]},\"Create UTM Link With Parameters\":{\"main\":[[{\"node\":\"Create QR Code With Submitted QR Link\",\"type\":\"main\",\"index\":0},{\"node\":\"Submit UTM Link To Database\",\"type\":\"main\",\"index\":0}]]},\"Create UTM Link & Send To Database\":{\"main\":[[{\"node\":\"Set UTM Parameters For Link\",\"type\":\"main\",\"index\":0}]]},\"Google Analytics Data Analysis Agent\":{\"main\":[[{\"node\":\"Send Summary Report To Marketing Manager\",\"type\":\"main\",\"index\":0}]]},\"Send Summary Report To Marketing Manager\":{\"main\":[[]]},\"Schedule Google Analytics Report To Marketing Manager\":{\"main\":[[{\"node\":\"Google Analytics Data Analysis Agent\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# **UTM Link Creator & QR Code Generator with Scheduled Google Analytics Reports**\n\nThis workflow enables marketers to **generate UTM-tagged links** , **convert them into QR codes** , and **automate performance tracking** in **Google Analytics** with scheduled reports every 7 days. This solution helps **monitor traffic sources** from different marketing channels and **optimize campaign performance** based on analytics data.\n\n* * *\n\n## **Prerequisites**\n\nBefore implementing this workflow, ensure you have the following:\n\n### **Google Analytics 4 (GA4) Account & Access**\n\n  * Ensure you have a **GA4 property** set up.\n  * Access to the **GA4 Data API** to schedule performance tracking. Refer to the [Google Analytics Data API Overview](https://developers.google.com/analytics/devguides/reporting/data/v1) for more information.\n\n\n\n### **Airtable Account & API Key**\n\n  * Create an **Airtable base** to store UTM links, QR codes, and analytics data.\n  * Obtain an **Airtable API key** from your **Account Settings**. Detailed instructions are available in the [Airtable API Authentication Guide](https://www.airtable.com/developers/web/api/authentication).\n\n\n\n* * *\n\n## **Step-by-Step Guide to Setting Up the Workflow**\n\n### **1\\. Generate UTM Links**\n\nCreate a form or interface to input:\n\n  * **Base URL** (e.g., `https://example.com`)\n  * **Campaign Name** (`utm_campaign`)\n  * **Source** (`utm_source`)\n  * **Medium** (`utm_medium`)\n  * **Term** (Optional: `utm_term`)\n  * **Content** (Optional: `utm_content`)\n\n\n\nAppend UTM parameters to generate a **trackable URL**.\n\n### **2\\. Store UTM Links & QR Codes in Airtable**\n\nSet up an **Airtable base** with the following columns:\n\n  * **UTM Link**\n  * **QR Code**\n  * **Campaign Name**\n  * **Source**\n  * **Medium**\n  * **Date Created**\n\n\n\nAdjust as needed based on your tracking requirements. For guidance on setting up your Airtable base and using the API, refer to the [Airtable Web API Documentation](https://www.airtable.com/developers/web/api).\n\n### **3\\. Convert UTM Links to QR Codes**\n\nUse a **QR code generator API** (e.g., `goqr.me`, `qrserver.com`) to generate QR codes for each UTM link and store them in Airtable.\n\n### **4\\. Schedule Google Analytics Performance Reports (Every 7 Days)**\n\n  * Use the **Google Analytics Data API** to pull weekly performance reports based on UTM parameters.\n  * Extract key metrics such as: \n    * **Sessions**\n    * **Users**\n    * **Bounce Rate**\n    * **Conversions**\n    * **Revenue (if applicable)**\n  * Store the data in Airtable for tracking and analysis.\n\n\n\nAdjust timeframe as needed\n\nFor more details on accessing and using the Google Analytics Data API, consult the [Google Analytics Data API Overview](https://developers.google.com/analytics/devguides/reporting/data/v1).\n\n* * *\n\n## **Benefits of This Workflow**\n\nâœ… **Track Marketing Campaigns** : Easily monitor which channels drive traffic.\n\nâœ… **Automate QR Code Creation** : Seamless integration of UTM links with QR codes.\n\nâœ… **Scheduled Google Analytics Reports** : No manual reportingâ€”everything runs automatically.\n\nâœ… **Improve Data-Driven Decisions** : Optimize ad spend and marketing strategies based on performance insights.\n\n* * *\n\nThis version ensures **proper Markdown structure** , includes **relevant documentation links** , and improves readability. Let me know if you need any further refinements! ðŸš€\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h1><strong>UTM Link Creator &amp; QR Code Generator with Scheduled Google Analytics Reports</strong></h1>\n<p>This workflow enables marketers to <strong>generate UTM-tagged links</strong>, <strong>convert them into QR codes</strong>, and <strong>automate performance tracking</strong> in <strong>Google Analytics</strong> with scheduled reports every 7 days. This solution helps <strong>monitor traffic sources</strong> from different marketing channels and <strong>optimize campaign performance</strong> based on analytics data.</p>\n<hr>\n<h2><strong>Prerequisites</strong></h2>\n<p>Before implementing this workflow, ensure you have the following:</p>\n<h3><strong>Google Analytics 4 (GA4) Account &amp; Access</strong></h3>\n<ul>\n<li>Ensure you have a <strong>GA4 property</strong> set up.</li>\n<li>Access to the <strong>GA4 Data API</strong> to schedule performance tracking. Refer to the <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1\" rel=\"ugc nofollow\" target=\"_blank\">Google Analytics Data API Overview</a> for more information.</li>\n</ul>\n<h3><strong>Airtable Account &amp; API Key</strong></h3>\n<ul>\n<li>Create an <strong>Airtable base</strong> to store UTM links, QR codes, and analytics data.</li>\n<li>Obtain an <strong>Airtable API key</strong> from your <strong>Account Settings</strong>. Detailed instructions are available in the <a href=\"https://www.airtable.com/developers/web/api/authentication\" rel=\"ugc nofollow\" target=\"_blank\">Airtable API Authentication Guide</a>.</li>\n</ul>\n<hr>\n<h2><strong>Step-by-Step Guide to Setting Up the Workflow</strong></h2>\n<h3><strong>1. Generate UTM Links</strong></h3>\n<p>Create a form or interface to input:</p>\n<ul>\n<li><strong>Base URL</strong> (e.g., <code>https://example.com</code>)</li>\n<li><strong>Campaign Name</strong> (<code>utm_campaign</code>)</li>\n<li><strong>Source</strong> (<code>utm_source</code>)</li>\n<li><strong>Medium</strong> (<code>utm_medium</code>)</li>\n<li><strong>Term</strong> (Optional: <code>utm_term</code>)</li>\n<li><strong>Content</strong> (Optional: <code>utm_content</code>)</li>\n</ul>\n<p>Append UTM parameters to generate a <strong>trackable URL</strong>.</p>\n<h3><strong>2. Store UTM Links &amp; QR Codes in Airtable</strong></h3>\n<p>Set up an <strong>Airtable base</strong> with the following columns:</p>\n<ul>\n<li><strong>UTM Link</strong></li>\n<li><strong>QR Code</strong></li>\n<li><strong>Campaign Name</strong></li>\n<li><strong>Source</strong></li>\n<li><strong>Medium</strong></li>\n<li><strong>Date Created</strong></li>\n</ul>\n<p>Adjust as needed based on your tracking requirements. For guidance on setting up your Airtable base and using the API, refer to the <a href=\"https://www.airtable.com/developers/web/api\" rel=\"ugc nofollow\" target=\"_blank\">Airtable Web API Documentation</a>.</p>\n<h3><strong>3. Convert UTM Links to QR Codes</strong></h3>\n<p>Use a <strong>QR code generator API</strong> (e.g., <code>goqr.me</code>, <code>qrserver.com</code>) to generate QR codes for each UTM link and store them in Airtable.</p>\n<h3><strong>4. Schedule Google Analytics Performance Reports (Every 7 Days)</strong></h3>\n<ul>\n<li>Use the <strong>Google Analytics Data API</strong> to pull weekly performance reports based on UTM parameters.</li>\n<li>Extract key metrics such as:\n<ul>\n<li><strong>Sessions</strong></li>\n<li><strong>Users</strong></li>\n<li><strong>Bounce Rate</strong></li>\n<li><strong>Conversions</strong></li>\n<li><strong>Revenue (if applicable)</strong></li>\n</ul>\n</li>\n<li>Store the data in Airtable for tracking and analysis.</li>\n</ul>\n<p>Adjust timeframe as needed</p>\n<p>For more details on accessing and using the Google Analytics Data API, consult the <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1\" rel=\"ugc nofollow\" target=\"_blank\">Google Analytics Data API Overview</a>.</p>\n<hr>\n<h2><strong>Benefits of This Workflow</strong></h2>\n<p>âœ… <strong>Track Marketing Campaigns</strong>: Easily monitor which channels drive traffic.</p>\n<p>âœ… <strong>Automate QR Code Creation</strong>: Seamless integration of UTM links with QR codes.</p>\n<p>âœ… <strong>Scheduled Google Analytics Reports</strong>: No manual reportingâ€”everything runs automatically.</p>\n<p>âœ… <strong>Improve Data-Driven Decisions</strong>: Optimize ad spend and marketing strategies based on performance insights.</p>\n<hr>\n<p>This version ensures <strong>proper Markdown structure</strong>, includes <strong>relevant documentation links</strong>, and improves readability. Let me know if you need any further refinements! ðŸš€</p>\n</div><!--]-->"
}