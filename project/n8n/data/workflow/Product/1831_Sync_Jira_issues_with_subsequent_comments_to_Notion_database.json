{
  "title": "Sync Jira issues with subsequent comments to Notion database",
  "url": "https://n8n.io/workflows/1831-sync-jira-issues-with-subsequent-comments-to-notion-database/",
  "category": "Product",
  "category_url": "https://n8n.io/workflows/categories/product/?count=20",
  "author": "n8n Team",
  "publish_date": "Last update 9 months ago",
  "publish_date_absolute": "2024-08-23",
  "content": "",
  "workflow_json": "{\"id\":\"YCQFaJdmJc6Rx4o7\",\"meta\":{\"instanceId\":\"0c0787ab1a9ebbb0967650f7b4012417acdd61c2fa7c9e119981847e2fc8b09c\"},\"name\":\"Sync Jira issues with subsequent comments to Notion database\",\"tags\":[{\"id\":\"24\",\"name\":\"n8n team\",\"createdAt\":\"2023-02-28T11:17:04.513Z\",\"updatedAt\":\"2023-02-28T11:17:04.513Z\"}],\"nodes\":[{\"id\":\"3f36dc12-5011-4786-aa21-f20ba72944df\",\"name\":\"Create database page\",\"type\":\"n8n-nodes-base.notion\",\"position\":[460,460],\"parameters\":{\"title\":\"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"fields\\\"][\\\"summary\\\"]}}\",\"options\":{},\"resource\":\"databasePage\",\"databaseId\":\"e3503d88-accb-4ddb-aa45-f962cb03e729\",\"propertiesUi\":{\"propertyValues\":[{\"key\":\"Issue Key|rich_text\",\"textContent\":\"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"key\\\"]}}\"},{\"key\":\"Issue ID|number\",\"numberValue\":\"={{parseInt($node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"id\\\"])}}\"},{\"key\":\"Link|url\",\"urlValue\":\"=https://n8n-io.atlassian.net/browse/{{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"key\\\"]}}\",\"ignoreIfEmpty\":true},{\"key\":\"Status|select\",\"selectValue\":\"={{$node[\\\"Lookup table\\\"].json[\\\"Status ID\\\"]}}\"}]}},\"credentials\":{\"notionApi\":{\"id\":\"XNjSmr171NUO17TK\",\"name\":\"REPLACE ME\"}},\"typeVersion\":2},{\"id\":\"2d13b713-dd3d-48aa-a550-fe8db1e7aafd\",\"name\":\"Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,460],\"parameters\":{\"width\":232.65822784810126,\"height\":137.9746835443038,\"content\":\"### `IF` & `Switch` nodes\\nThese conditional nodes (`IF` and `Switch`) determine which Notion [**CRUD**](https://www.sumologic.com/glossary/crud/) operations will be performed.\"},\"typeVersion\":1},{\"id\":\"374761f7-9299-41a3-8bb3-25434f4f9eaf\",\"name\":\"Find database page\",\"type\":\"n8n-nodes-base.notion\",\"position\":[660,660],\"parameters\":{\"options\":{},\"resource\":\"databasePage\",\"operation\":\"getAll\",\"returnAll\":true,\"databaseId\":\"e3503d88-accb-4ddb-aa45-f962cb03e729\",\"filterJson\":\"={{$node[\\\"Create custom Notion filters\\\"].json[\\\"notionfilter\\\"]}}\",\"filterType\":\"json\"},\"credentials\":{\"notionApi\":{\"id\":\"XNjSmr171NUO17TK\",\"name\":\"REPLACE ME\"}},\"typeVersion\":2},{\"id\":\"159db4ca-c8da-439a-aa44-63527c7b9dcd\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[860,660],\"parameters\":{\"rules\":{\"rules\":[{\"value2\":\"jira:issue_updated\"},{\"output\":1,\"value2\":\"jira:issue_deleted\"}]},\"value1\":\"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"webhookEvent\\\"]}}\",\"dataType\":\"string\"},\"typeVersion\":1},{\"id\":\"080fb157-e160-4bf0-9348-05eabee60f9f\",\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[240,560],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"webhookEvent\\\"]}}\",\"value2\":\"jira:issue_created\"}]}},\"typeVersion\":1},{\"id\":\"3ec2a130-251d-4d28-8dc3-ca31f528f90e\",\"name\":\"Delete issue\",\"type\":\"n8n-nodes-base.notion\",\"position\":[1080,760],\"parameters\":{\"pageId\":\"={{ $node[\\\"Find database page\\\"].json[\\\"id\\\"] }}\",\"operation\":\"archive\"},\"credentials\":{\"notionApi\":{\"id\":\"XNjSmr171NUO17TK\",\"name\":\"REPLACE ME\"}},\"typeVersion\":2},{\"id\":\"5a23919a-ee95-4935-b619-5eb0b486eef7\",\"name\":\"On issues created/updated/deleted\",\"type\":\"n8n-nodes-base.jiraTrigger\",\"position\":[-160,560],\"webhookId\":\"042e0fd3-9776-4c23-9f0d-dc032ef22744\",\"parameters\":{\"events\":[\"jira:issue_created\",\"jira:issue_deleted\",\"jira:issue_updated\"],\"additionalFields\":{}},\"credentials\":{\"jiraSoftwareCloudApi\":{\"id\":\"xZbqpSTMv8IjtS5Y\",\"name\":\"REPLACE ME\"}},\"typeVersion\":1},{\"id\":\"6d3bbfce-cbfc-4590-827b-4ec1eb5c11b6\",\"name\":\"Lookup table\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,560],\"parameters\":{\"jsCode\":\"/* Lookup table for the statuses in Jira. You can find the status IDs by\\n   following the instructions provided at this link:\\n   https://community.atlassian.com/t5/Jira-Service-Management/How-do-I-get-a-list-of-statuses-that-show-the-associated-status/qaq-p/1803682\\n*/\\nvar lookup = {\\n    \\\"To Do\\\": \\\"To do\\\",\\n    \\\"In Progress\\\": \\\"In progress\\\",\\n    \\\"Done\\\": \\\"Done\\\"\\n};\\n\\n\\n\\nnew_items = [];\\n\\nfor (item of $items(\\\"On issues created/updated/deleted\\\")) {\\n  console.log(item.json[\\\"Status\\\"]);\\n  // instantiate a new variable for status\\n  var issue_status = item.json[\\\"issue\\\"][\\\"fields\\\"][\\\"status\\\"][\\\"name\\\"];\\n  // check if the status is in the lookup table\\n  if (issue_status in lookup) {\\n    // if it is, then add the status ID to the new_items array\\n    new_items.push({\\n      \\\"Status ID\\\": lookup[issue_status]\\n    });\\n  }\\n}\\n\\nreturn new_items;\"},\"typeVersion\":2},{\"id\":\"bdc966ce-16bf-47de-aba3-fcd0f912f95f\",\"name\":\"Create custom Notion filters\",\"type\":\"n8n-nodes-base.code\",\"position\":[460,660],\"parameters\":{\"jsCode\":\"const new_items = [];\\nfor (item of $items(\\\"On issues created/updated/deleted\\\")) {\\n\\n  // do not process this item if action is created\\n  if (item.json[\\\"webhookEvent\\\"] == \\\"jira:issue_created\\\") {\\n    continue;\\n  }\\n\\n  // build the output template\\n  var new_item = {\\n    \\\"json\\\": {\\n      \\\"notionfilter\\\": \\\"\\\"\\n    }\\n  };\\n  new_item = JSON.stringify(new_item);\\n  new_item = JSON.parse(new_item);\\n  new_items.push(new_item);\\n\\n  // create Notion filter to find specific database page by issue ID\\n  notionfilter = {\\n    or: [],\\n  }\\n\\n  const filter = {\\n    property: 'Issue ID',\\n    number: {\\n      equals: parseInt(item.json[\\\"issue\\\"][\\\"id\\\"])\\n    }\\n  }\\n  notionfilter[\\\"or\\\"].push(filter);\\n\\n  new_item.json.notionfilter = JSON.stringify(notionfilter); \\n}\\n\\nreturn new_items;\"},\"typeVersion\":2},{\"id\":\"f92157a9-1a63-4907-87c8-0b54c3b0ac8e\",\"name\":\"Update issue\",\"type\":\"n8n-nodes-base.notion\",\"position\":[1080,560],\"parameters\":{\"pageId\":\"={{ $node[\\\"Find database page\\\"].json[\\\"id\\\"] }}\",\"options\":{},\"resource\":\"databasePage\",\"operation\":\"update\",\"propertiesUi\":{\"propertyValues\":[{\"key\":\"Title|title\",\"title\":\"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"fields\\\"][\\\"summary\\\"]}}\"},{\"key\":\"Status|select\",\"selectValue\":\"={{$node[\\\"Lookup table\\\"].json[\\\"Status ID\\\"]}}\"}]}},\"credentials\":{\"notionApi\":{\"id\":\"XNjSmr171NUO17TK\",\"name\":\"REPLACE ME\"}},\"typeVersion\":2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"490138aa-d92d-439a-b7bb-d6d00a9fab86\",\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Create database page\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Create custom Notion filters\",\"type\":\"main\",\"index\":0}]]},\"Switch\":{\"main\":[[{\"node\":\"Update issue\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Delete issue\",\"type\":\"main\",\"index\":0}]]},\"Lookup table\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Find database page\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"Create custom Notion filters\":{\"main\":[[{\"node\":\"Find database page\",\"type\":\"main\",\"index\":0}]]},\"On issues created/updated/deleted\":{\"main\":[[{\"node\":\"Lookup table\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow creates/updates/deletes a Notion database page when an issue is created/updated/deleted in Jira. Subsequent updates to the issue's title or status in Jira are updated in the Notion database. If you require more fields to send to Notion, this template is easily extendible which will be described in [setup](notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&p=34c3b4a9a1824323b8ee0b16a0c4cead&pm=s#setup). The Notion database will require [setup](notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&p=34c3b4a9a1824323b8ee0b16a0c4cead&pm=s#setup) before the workflow can be used.\n\n## Prerequisites\n\n  * Notion account and [Notion credentials](https://docs.n8n.io/integrations/builtin/credentials/notion/).\n  * Jira account and [Jira credentials](https://docs.n8n.io/integrations/builtin/credentials/jira/).\n\n\n\n## How it works\n\n  1. When a new issue is created in Jira, the workflow creates a new page in the Notion database will all the required fields.\n  2. When the issue's title or status is updated in Jira, the workflow updates the specific Notion database page identified by the \"Issue Key\" field in Notion. If the status in Jira is set to \"Done\", the workflow will mark the Notion database page \"Done\" field as true.\n  3. When the issue is deleted in Jira, the workflow archives the Notion database page.\n\n\n\n## Setup\n\nThis workflow requires that you set up a Notion database. To do so, follow the steps below:\n\n  1. In Notion, create a new database.\n  2. Add the following columns to the database: \n     * Done (with type \"Checkbox\")\n     * Title (renamed from \"Name\")\n     * Status (with the following options: \"To Do\", \"In Progress\", \"Done\")\n     * Link (with type \"URL\")\n     * Issue ID (with type \"Number\")\n     * Issue Key (with type \"Text\")\n     * Add any other fields you require to the database.\n  3. Your database should look something like this\n\n\n\n![Screenshot 20221202 at 12.51.52.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2022_12_02_at_12_51_52_cb8a72be37.png)\n\n  1. Share the database to n8n.\n  2. By default, the workflow will fill all the fields provided above, except for any other additional fields you add.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This workflow creates/updates/deletes a Notion database page when an issue is created/updated/deleted in Jira. Subsequent updates to the issue's title or status in Jira are updated in the Notion database. If you require more fields to send to Notion, this template is easily extendible which will be described in <a href=\"notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&amp;p=34c3b4a9a1824323b8ee0b16a0c4cead&amp;pm=s#setup\" rel=\"ugc nofollow\">setup</a>. The Notion database will require <a href=\"notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&amp;p=34c3b4a9a1824323b8ee0b16a0c4cead&amp;pm=s#setup\" rel=\"ugc nofollow\">setup</a> before the workflow can be used.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>Notion account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/notion/\" rel=\"ugc nofollow\" target=\"_blank\">Notion credentials</a>.</li>\n<li>Jira account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/jira/\" rel=\"ugc nofollow\" target=\"_blank\">Jira credentials</a>.</li>\n</ul>\n<h2>How it works</h2>\n<ol>\n<li>When a new issue is created in Jira, the workflow creates a new page in the Notion database will all the required fields.</li>\n<li>When the issue's title or status is updated in Jira, the workflow updates the specific Notion database page identified by the \"Issue Key\" field in Notion. If the status in Jira is set to \"Done\", the workflow will mark the Notion database page \"Done\" field as true.</li>\n<li>When the issue is deleted in Jira, the workflow archives the Notion database page.</li>\n</ol>\n<h2>Setup</h2>\n<p>This workflow requires that you set up a Notion database. To do so, follow the steps below:</p>\n<ol>\n<li>In Notion, create a new database.</li>\n<li>Add the following columns to the database:\n<ul>\n<li>Done (with type \"Checkbox\")</li>\n<li>Title (renamed from \"Name\")</li>\n<li>Status (with the following options: \"To Do\", \"In Progress\", \"Done\")</li>\n<li>Link (with type \"URL\")</li>\n<li>Issue ID (with type \"Number\")</li>\n<li>Issue Key (with type \"Text\")</li>\n<li>Add any other fields you require to the database.</li>\n</ul>\n</li>\n<li>Your database should look something like this</li>\n</ol>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2022_12_02_at_12_51_52_cb8a72be37.png\" alt=\"Screenshot 20221202 at 12.51.52.png\"></p>\n<ol>\n<li>Share the database to n8n.</li>\n<li>By default, the workflow will fill all the fields provided above, except for any other additional fields you add.</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "该工作流会在Jira中创建/更新/删除问题时，同步在Notion数据库中创建/更新/删除对应页面。当Jira问题的标题或状态后续更新时，Notion数据库中的对应字段也会同步更新。如需向Notion传送更多字段，本模板可轻松扩展，具体方法详见[设置说明](notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&p=34c3b4a9a1824323b8ee0b16a0c4cead&pm=s#setup)。使用前需完成Notion数据库的[初始配置](notion://www.notion.so/n8n/a1b8c2bc7d2b4aa3b90d50fa80b766d1?v=a3106a73c9fc41b88630cc9f091cf063&p=34c3b4a9a1824323b8ee0b16a0c4cead&pm=s#setup)。\n\n## 前提条件\n\n* Notion账户及[Notion凭证](https://docs.n8n.io/integrations/builtin/credentials/notion/)\n* Jira账户及[Jira凭证](https://docs.n8n.io/integrations/builtin/credentials/jira/)\n\n## 运行机制\n\n1. 当Jira新建问题时，工作流会在Notion数据库中创建包含所有必填字段的新页面\n2. 当Jira问题的标题或状态更新时，工作流会通过Notion中的\"Issue Key\"字段定位并更新对应页面。若Jira状态设为\"Done\"，Notion页面的\"Done\"复选框将标记为真值\n3. 当Jira问题被删除时，工作流会将Notion数据库中的对应页面归档\n\n## 配置说明\n\n使用本工作流需预先设置Notion数据库，具体步骤如下：\n\n1. 在Notion中新建数据库\n2. 添加以下列：\n   * Done（类型为\"复选框\"）\n   * Title（由\"Name\"重命名而来）\n   * Status（包含以下选项：\"待办\"、\"进行中\"、\"已完成\"）\n   * Link（类型为\"URL\"）\n   * Issue ID（类型为\"数字\"）\n   * Issue Key（类型为\"文本\"）\n   * 按需添加其他字段\n3. 数据库最终应呈现如下样式\n\n![Notion数据库示例截图](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2022_12_02_at_12_51_52_cb8a72be37.png)\n\n1. 将数据库共享给n8n\n2. 默认情况下，工作流将自动填充上述所有字段（用户自定义添加的额外字段除外）",
  "title_zh": "将Jira问题及后续评论同步至Notion数据库",
  "publish_date_zh": "最后更新于9个月前",
  "workflow_json_zh": "{\n  \"id\": \"YCQFaJdmJc6Rx4o7\",\n  \"meta\": {\n    \"instanceId\": \"0c0787ab1a9ebbb0967650f7b4012417acdd61c2fa7c9e119981847e2fc8b09c\"\n  },\n  \"name\": \"Sync Jira issues with subsequent comments to Notion database\",\n  \"tags\": [\n    {\n      \"id\": \"24\",\n      \"name\": \"n8n team\",\n      \"createdAt\": \"2023-02-28T11:17:04.513Z\",\n      \"updatedAt\": \"2023-02-28T11:17:04.513Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"3f36dc12-5011-4786-aa21-f20ba72944df\",\n      \"name\": \"Create database page\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        460,\n        460\n      ],\n      \"parameters\": {\n        \"title\": \"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"fields\\\"][\\\"summary\\\"]}}\",\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"databaseId\": \"e3503d88-accb-4ddb-aa45-f962cb03e729\",\n        \"propertiesUi\": {\n          \"propertyValues\": [\n            {\n              \"key\": \"Issue Key|rich_text\",\n              \"textContent\": \"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"key\\\"]}}\"\n            },\n            {\n              \"key\": \"Issue ID|number\",\n              \"numberValue\": \"={{parseInt($node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"id\\\"])}}\"\n            },\n            {\n              \"key\": \"Link|url\",\n              \"urlValue\": \"=https://n8n-io.atlassian.net/browse/{{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"key\\\"]}}\",\n              \"ignoreIfEmpty\": true\n            },\n            {\n              \"key\": \"Status|select\",\n              \"selectValue\": \"={{$node[\\\"Lookup table\\\"].json[\\\"Status ID\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"XNjSmr171NUO17TK\",\n          \"name\": \"REPLACE ME\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"2d13b713-dd3d-48aa-a550-fe8db1e7aafd\",\n      \"name\": \"Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        460\n      ],\n      \"parameters\": {\n        \"width\": 232.65822784810126,\n        \"height\": 137.9746835443038,\n        \"content\": \"### `IF` 与 `Switch` 节点  \\n这些条件节点（`IF` 和 `Switch`）用于决定将执行哪些 Notion [**CRUD**](https://www.sumologic.com/glossary/crud/) 操作。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"374761f7-9299-41a3-8bb3-25434f4f9eaf\",\n      \"name\": \"Find database page\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        660,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"databaseId\": \"e3503d88-accb-4ddb-aa45-f962cb03e729\",\n        \"filterJson\": \"={{$node[\\\"Create custom Notion filters\\\"].json[\\\"notionfilter\\\"]}}\",\n        \"filterType\": \"json\"\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"XNjSmr171NUO17TK\",\n          \"name\": \"REPLACE ME\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"159db4ca-c8da-439a-aa44-63527c7b9dcd\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        860,\n        660\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"rules\": [\n            {\n              \"value2\": \"jira:issue_updated\"\n            },\n            {\n              \"output\": 1,\n              \"value2\": \"jira:issue_deleted\"\n            }\n          ]\n        },\n        \"value1\": \"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"webhookEvent\\\"]}}\",\n        \"dataType\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"080fb157-e160-4bf0-9348-05eabee60f9f\",\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        240,\n        560\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"webhookEvent\\\"]}}\",\n              \"value2\": \"jira:issue_created\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3ec2a130-251d-4d28-8dc3-ca31f528f90e\",\n      \"name\": \"Delete issue\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        1080,\n        760\n      ],\n      \"parameters\": {\n        \"pageId\": \"={{ $node[\\\"Find database page\\\"].json[\\\"id\\\"] }}\",\n        \"operation\": \"archive\"\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"XNjSmr171NUO17TK\",\n          \"name\": \"REPLACE ME\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"5a23919a-ee95-4935-b619-5eb0b486eef7\",\n      \"name\": \"On issues created/updated/deleted\",\n      \"type\": \"n8n-nodes-base.jiraTrigger\",\n      \"position\": [\n        -160,\n        560\n      ],\n      \"webhookId\": \"042e0fd3-9776-4c23-9f0d-dc032ef22744\",\n      \"parameters\": {\n        \"events\": [\n          \"jira:issue_created\",\n          \"jira:issue_deleted\",\n          \"jira:issue_updated\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"jiraSoftwareCloudApi\": {\n          \"id\": \"xZbqpSTMv8IjtS5Y\",\n          \"name\": \"REPLACE ME\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6d3bbfce-cbfc-4590-827b-4ec1eb5c11b6\",\n      \"name\": \"Lookup table\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        40,\n        560\n      ],\n      \"parameters\": {\n        \"jsCode\": \"/* Lookup table for the statuses in Jira. You can find the status IDs by\\n   following the instructions provided at this link:\\n   https://community.atlassian.com/t5/Jira-Service-Management/How-do-I-get-a-list-of-statuses-that-show-the-associated-status/qaq-p/1803682\\n*/\\nvar lookup = {\\n    \\\"To Do\\\": \\\"To do\\\",\\n    \\\"In Progress\\\": \\\"In progress\\\",\\n    \\\"Done\\\": \\\"Done\\\"\\n};\\n\\n\\n\\nnew_items = [];\\n\\nfor (item of $items(\\\"On issues created/updated/deleted\\\")) {\\n  console.log(item.json[\\\"Status\\\"]);\\n  // instantiate a new variable for status\\n  var issue_status = item.json[\\\"issue\\\"][\\\"fields\\\"][\\\"status\\\"][\\\"name\\\"];\\n  // check if the status is in the lookup table\\n  if (issue_status in lookup) {\\n    // if it is, then add the status ID to the new_items array\\n    new_items.push({\\n      \\\"Status ID\\\": lookup[issue_status]\\n    });\\n  }\\n}\\n\\nreturn new_items;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"bdc966ce-16bf-47de-aba3-fcd0f912f95f\",\n      \"name\": \"Create custom Notion filters\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        460,\n        660\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const new_items = [];\\nfor (item of $items(\\\"On issues created/updated/deleted\\\")) {\\n\\n  // do not process this item if action is created\\n  if (item.json[\\\"webhookEvent\\\"] == \\\"jira:issue_created\\\") {\\n    continue;\\n  }\\n\\n  // build the output template\\n  var new_item = {\\n    \\\"json\\\": {\\n      \\\"notionfilter\\\": \\\"\\\"\\n    }\\n  };\\n  new_item = JSON.stringify(new_item);\\n  new_item = JSON.parse(new_item);\\n  new_items.push(new_item);\\n\\n  // create Notion filter to find specific database page by issue ID\\n  notionfilter = {\\n    or: [],\\n  }\\n\\n  const filter = {\\n    property: 'Issue ID',\\n    number: {\\n      equals: parseInt(item.json[\\\"issue\\\"][\\\"id\\\"])\\n    }\\n  }\\n  notionfilter[\\\"or\\\"].push(filter);\\n\\n  new_item.json.notionfilter = JSON.stringify(notionfilter); \\n}\\n\\nreturn new_items;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f92157a9-1a63-4907-87c8-0b54c3b0ac8e\",\n      \"name\": \"Update issue\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        1080,\n        560\n      ],\n      \"parameters\": {\n        \"pageId\": \"={{ $node[\\\"Find database page\\\"].json[\\\"id\\\"] }}\",\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"operation\": \"update\",\n        \"propertiesUi\": {\n          \"propertyValues\": [\n            {\n              \"key\": \"Title|title\",\n              \"title\": \"={{$node[\\\"On issues created/updated/deleted\\\"].json[\\\"issue\\\"][\\\"fields\\\"][\\\"summary\\\"]}}\"\n            },\n            {\n              \"key\": \"Status|select\",\n              \"selectValue\": \"={{$node[\\\"Lookup table\\\"].json[\\\"Status ID\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"XNjSmr171NUO17TK\",\n          \"name\": \"REPLACE ME\"\n        }\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"490138aa-d92d-439a-b7bb-d6d00a9fab86\",\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create database page\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create custom Notion filters\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update issue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Delete issue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Lookup table\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Find database page\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create custom Notion filters\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Find database page\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On issues created/updated/deleted\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Lookup table\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}