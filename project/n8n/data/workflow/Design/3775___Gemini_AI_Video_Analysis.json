{
  "title": "ğŸ¥ Gemini AI Video Analysis",
  "url": "https://n8n.io/workflows/3775-gemini-ai-video-analysis/",
  "category": "Design",
  "category_url": "https://n8n.io/workflows/categories/design/?sort=createdAt:desc",
  "author": "SamirLiu",
  "publish_date": "Last update 5 days ago",
  "publish_date_absolute": "2025-05-01",
  "content": "",
  "workflow_json": "{\"id\":\"hKkZYhJqBNir8amQ\",\"meta\":{\"instanceId\":\"a943fc71a4dfb51cc3424882233bcd72e7a73857958af1cf464f7c21580c726e\"},\"name\":\"ğŸ¥ Gemini AI Video Analysis\",\"tags\":[{\"id\":\"bjzc8PEM2FgX8rUa\",\"name\":\"Marketing\",\"createdAt\":\"2025-04-18T13:34:48.192Z\",\"updatedAt\":\"2025-04-18T13:34:48.192Z\"},{\"id\":\"OiWw6VmsJz6ZBAzz\",\"name\":\"AI\",\"createdAt\":\"2025-04-25T09:59:58.961Z\",\"updatedAt\":\"2025-04-25T09:59:58.961Z\"}],\"nodes\":[{\"id\":\"f5c9faf8-441a-49ef-a0de-0daa08c3bbfa\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"position\":[400,160],\"webhookId\":\"7d0cd0c0-ce85-4372-b7a5-b0be061fc2b9\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"c0336074-a30f-4fc0-aa57-7142cea1a3da\",\"name\":\"Download video\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-40,160],\"parameters\":{\"url\":\"={{ $json.video_url }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"8b04c774-7a02-43ff-bac9-d19a427d514e\",\"name\":\"Upload video Gemini\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[180,160],\"parameters\":{\"url\":\"=https://generativelanguage.googleapis.com/upload/v1beta/files?key={{ $vars.GeminiKey }}\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"binaryData\",\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"X-Goog-Upload-Command\",\"value\":\"start, upload, finalize\"},{\"name\":\"X-Goog-Upload-Header-Content-Length\",\"value\":\"={{ $binary.data.fileSize }}\"},{\"name\":\"X-Goog-Upload-Header-Content-Type\",\"value\":\"=video/{{ $binary.data.fileExtension }}\"},{\"name\":\"Content-Type\",\"value\":\"video/mp4\"}]},\"inputDataFieldName\":\"=data\"},\"typeVersion\":4.2},{\"id\":\"eacf4317-18bc-441a-a415-488b65bb9545\",\"name\":\"Analyze video Gemini\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[620,160],\"parameters\":{\"url\":\"=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key={{ $vars.GeminiKey }}\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n    \\\"contents\\\": [\\n        {\\n            \\\"role\\\": \\\"user\\\",\\n            \\\"parts\\\": [\\n                {\\n                    \\\"fileData\\\": {\\n                        \\\"fileUri\\\": \\\"{{ $json.file.uri }}\\\",\\n                        \\\"mimeType\\\": \\\"{{ $json.file.mimeType }}\\\"\\n                    }\\n                },\\n                {\\n                    \\\"text\\\": \\\"Describe in detail what is visually happening in the video, including key elements, actions, colors, and branding. Note the style, tone, and any notable creative techniques being used.\\\"\\n                }\\n            ]\\n        }\\n    ],\\n    \\\"generationConfig\\\": {\\n        \\\"temperature\\\": 1.4,\\n        \\\"topK\\\": 40,\\n        \\\"topP\\\": 0.95,\\n        \\\"maxOutputTokens\\\": 8192,\\n        \\\"responseModalities\\\": [\\\"Text\\\"]\\n    }\\n}\\n\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"typeVersion\":4.2},{\"id\":\"ff204f3f-947e-4b6a-a9a3-822d6d57064b\",\"name\":\"When clicking â€˜Test workflowâ€™\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-480,160],\"parameters\":{},\"typeVersion\":1},{\"id\":\"d842a85d-121d-46ed-9df7-44d2c7849c03\",\"name\":\"Set Input\",\"type\":\"n8n-nodes-base.set\",\"position\":[-260,160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"6e1728e0-4749-47b9-92ae-4d1c0b7008c8\",\"name\":\"video_url\",\"type\":\"string\",\"value\":\"https://video-gru2-1.xx.fbcdn.net/v/t42.1790-2/469342405_958689216107669_4819692307529683812_n.mp4?_nc_cat=109&ccb=1-7&_nc_sid=c53f8f&_nc_ohc=DMM4-vR_LwoQ7kNvwGFIAOW&_nc_oc=AdkqAUzPHupjN-yAD8AGHbbnsMLQptad7NFTL-fuRa3Kq12boE6Ar_elagnzmgR87uU&_nc_zt=28&_nc_ht=video-gru2-1.xx&_nc_gid=ikICtUIUUCoHz775L2uRBw&oh=00_AfHlScWo8zXllEsqzl3wabxNva8z_qiFuA2g-hWzvnlVdg&oe=681596F3\"}]}},\"typeVersion\":3.4},{\"id\":\"efb6ed9b-5f65-4bf3-8ea9-00430abdb247\",\"name\":\"Get Result\",\"type\":\"n8n-nodes-base.set\",\"position\":[840,160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1ea390b9-3371-4a3a-8741-bd6ec74dc64b\",\"name\":\"videoDescription\",\"type\":\"string\",\"value\":\"={{ $json.candidates[0].content.parts[0].text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"fc917016-b2f3-4d69-8924-0aa16b4b43bc\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-920,-380],\"parameters\":{\"color\":7,\"width\":560,\"height\":520,\"content\":\"## Video Analysis with Gemini AI\\n\\nThis workflow demonstrates how to analyze video content using Google's Gemini 2.0 Flash API:\\n1. Download a video from a URL\\n2. Upload it to Gemini's servers\\n3. Process the video with AI to generate a detailed description\\n4. Extract the analysis results\\n\\nUse cases: Content moderation, video cataloging, accessibility features, etc.\\n\\nOUTPUT: The workflow produces a detailed text description of the video content in the \\\"MediaDescription\\\" variable.\\nYou can use this data for content tagging, searchable descriptions, accessibility, moderation, or cataloging.\\n\\nâš™ï¸ **Before using this workflow**, make sure to set the `GeminiKey` environment variable with your Gemini API key.  \\nThis ensures your API key is securely managed and not hardcoded in the workflow.\\n\\n__SECURITY NOTE__: This workflow contains an API key in the workflow data.  \\nFor production use, store your API keys in Credentials or use environment variables (like `GeminiKey`) instead of hardcoding them.\\n\"},\"typeVersion\":1},{\"id\":\"8854f039-f23f-4174-8821-7acfbc5ecfab\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-320,20],\"parameters\":{\"color\":5,\"width\":220,\"height\":300,\"content\":\"## Configuration\\nDefine the video URL you want to analyze.\\n\"},\"typeVersion\":1},{\"id\":\"189ede99-f80f-4f41-8481-c9ba518fd0e7\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-70,-140],\"parameters\":{\"color\":4,\"width\":820,\"height\":460,\"content\":\"## Video Processing Pipeline\\n\\nThis section handles the complete video processing workflow:\\n\\n1. DOWNLOAD: First, we fetch the video from the provided URL, converting it to binary data that Gemini can process\\n\\n2. UPLOAD: Next, we send the binary video data to Gemini's servers where it's stored temporarily for AI processing\\n\\n3. ANALYZE: Finally, we request Gemini's AI to analyze the video content. You can customize the prompt in the \\\"Analyze video Gemini\\\" node to focus on specific aspects of the video content you're interested in\\n\\nThe Wait node ensures the video is fully processed before analysis begins.\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{\"Upload video Gemini\":[{\"json\":{\"file\":{\"uri\":\"https://generativelanguage.googleapis.com/v1beta/files/7whopq8rwtt8\",\"name\":\"files/7whopq8rwtt8\",\"state\":\"PROCESSING\",\"source\":\"UPLOADED\",\"mimeType\":\"video/mp4\",\"sizeBytes\":\"933141\",\"createTime\":\"2025-04-28T18:12:40.864881Z\",\"sha256Hash\":\"MWQwYmQ2YWViYmRiNDNjZTYyY2I2ODhkOWRlNzdlMzkyZDJkMTU0NTM5NTE1OWM2MTJlMWRiNTNhNTIyZDVmZA==\",\"updateTime\":\"2025-04-28T18:12:40.864881Z\",\"expirationTime\":\"2025-04-30T18:12:40.834671218Z\"}}}],\"Analyze video Gemini\":[{\"json\":{\"candidates\":[{\"content\":{\"role\":\"model\",\"parts\":[{\"text\":\"Okay, here's a detailed description of the video:\\n\\n**Overview**\\nThe video is a promotional piece for Advanced Sim Racing, featuring a high-end BMW-branded racing simulator setup at a BMW dealership event. It also highlights the presence of a well-known personality: Georges St-Pierre (GSP). The video mixes detailed close-ups of the equipment, shots of people interacting with the simulator, and branding elements.\\n\\n**Detailed Description:**\\n\\n*   **0:00-0:01:** Opens with a dynamic shot of someone using the advanced racing simulator. We see triple monitors displaying a race, and the participant grips the steering wheel with intent. The seat is black, with \\\"OMP\\\" branded at the top, \\\"ADVANCED Sim Racing\\\" and a large BMW logo prominently displayed on its back.\\n\\n*   **0:01-0:03:** Tight focus on the steering wheel, emphasizing its sophisticated design and multiple buttons.  We see the brand name \\\"OMP\\\" on the wheel itself, while the backboard is adorned with the companyâ€™s slogan, â€œADVANCED Sim Racingâ€.\\n\\n*   **0:03-0:07:** We shift to show the simulator being used at a BMW dealership.  A group of people gathers around with the hood open of a BMW car, seemingly intrigued and looking at the person experiencing the simulator.\\n\\n*   **0:07-0:11:** George St-Pierre appears among the crowd.\\n\\n*   **0:11-0:13:** Close-up of the SimuCube motor\\n\\n*   **0:13-0:15:** George St-Pierre gets onto the simulator while people assist him.\\n\\n*   **0:15-0:21:** Focus on the haptic feedback engine and the back of an employeeâ€™s t-shirt that says â€œADVANCED Sim Racing DBOX SIMUCUBEâ€\\n\\n*   **0:22-0:24:** Small lego replica of the BMW 3 series next to one of the monitorâ€™s along with the carâ€™s front side view with distinct headlights.\\n\\n*   **0:24-0:25:** The outside of the event, labeled BMW Laval with the BMW logo, ice cream booth nearby.\\n\\n*   **0:25-0:27:** More participants getting on the simulator\\n\\n*   **0:27-0:29:** The ranking for different drivers\\n\\n*   **0:29-0:33:** View of the racing pedals and the race seat with the â€œOMPâ€ brand.\\n\\n**Key Elements & Equipment**\\n*   **Sim Racing Rig:** A highly advanced racing simulator is central to the video.  It is equipped with a racing seat, steering wheel, pedals, multiple monitors and a SimuCube haptic engine for feedback\\n*   **BMW Branding:** The presence of the BMW logo and the incorporation of BMW vehicles underscore the affiliation.\\n\\n**Style & Tone:**\\n*   **High-Tech:**  The video conveys a sense of sophisticated technology and realistic immersion in simulated racing.\\n*   **Promotional/Enthusiastic:**  The music and the editing suggest excitement and interest in the product.\\n*   **Stylish:** Use of slow-motion shots, close-ups and selective focus adds a modern, visually appealing look.\\n\\nI hope this helps!\"}]},\"avgLogprobs\":-1.1206862455033986,\"finishReason\":\"STOP\"}],\"modelVersion\":\"gemini-2.0-flash-exp\",\"usageMetadata\":{\"totalTokenCount\":10149,\"promptTokenCount\":9441,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":36},{\"modality\":\"AUDIO\",\"tokenCount\":825},{\"modality\":\"VIDEO\",\"tokenCount\":8580}],\"candidatesTokenCount\":708,\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":708}]}}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"5f8d8d62-091e-4883-bbb0-8087ebe7b501\",\"connections\":{\"Wait\":{\"main\":[[{\"node\":\"Analyze video Gemini\",\"type\":\"main\",\"index\":0}]]},\"Set Input\":{\"main\":[[{\"node\":\"Download video\",\"type\":\"main\",\"index\":0}]]},\"Download video\":{\"main\":[[{\"node\":\"Upload video Gemini\",\"type\":\"main\",\"index\":0}]]},\"Upload video Gemini\":{\"main\":[[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"Analyze video Gemini\":{\"main\":[[{\"node\":\"Get Result\",\"type\":\"main\",\"index\":0}]]},\"When clicking â€˜Test workflowâ€™\":{\"main\":[[{\"node\":\"Set Input\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### ğŸ“ Overview\n\nThis workflow leverages Google Gemini 2.0 Flash multimodal AI to automatically generate detailed descriptions of video content from any public URL. It streamlines video understanding, making it ideal for content cataloging, accessibility, and content moderation.\n\n### ğŸ’¡ Use Cases\n\n  * â™¿ **Accessibility** : Automatically generate detailed video descriptions for visually impaired users.\n  * ğŸ›¡ï¸ **Content Moderation** : Detect inappropriate or off-brand material without manual watching.\n  * ğŸ—‚ï¸ **Media Cataloging** : Enrich your media library with automatically extracted metadata.\n  * ğŸ“ˆ **Marketing & Branding**: Gain fast insights into key elements, tone, and branding in video content.\n\n\n\n### âš™ï¸ Setup Instructions\n\n  1. **ğŸ”‘ Get a Gemini API Key**\n\n     * Register at [ai.google.dev](https://ai.google.dev/) and create an API key.\n     * **Before running the workflow, set your Gemini API key as an environment variable named`GeminiKey`** for secure access within the workflow.\n     * In the `Set Input` node, reference this environment variable instead of hardcoding the key.\n  2. **ğŸŒ Configure Video URL**\n\n     * Replace the sample URL in the `Set Input` node with your desired public video URL.\n     * Ensure the video is directly accessible (no login or special permissions required).\n  3. **ğŸ“ Optional: Customize the Analysis**\n\n     * Edit the prompt in the `Analyze video Gemini` node to focus on the most relevant video details for your use case (e.g., branding, key actions, visual elements).\n  4. **ğŸ”’ Security Tip**\n\n     * Use n8n's credentials manager or environment variables (like `GeminiKey`) to store your API key securely.\n     * Avoid hardcoding API keys directly in workflow nodes, especially in production environments.\n\n\n\n### ğŸ”„ How It Works\n\n  1. ğŸ“¥ **Download** the video from the provided URL.\n  2. â˜ï¸ **Upload** the video to Geminiâ€™s server for processing.\n  3. â³ **Wait** for Gemini to complete processing.\n  4. ğŸ¤– **Analyze** the video with Gemini AI using your customized prompt.\n  5. ğŸ“„ **Output** a comprehensive description of the video as `videoDescription`.\n\n\n\n### âš¡ Technical Details\n\n  * Uses HTTP Request nodes to interact with Gemini API endpoints.\n  * Handles file download, upload, status checking, and result retrieval.\n  * Customizable Gemini AI parameters for fine-tuned response.\n  * Main output: `videoDescription` (detailed text describing video content).\n\n\n\n### ğŸš€ Quickstart\n\n  1. Set your Gemini API key as the `GeminiKey` environment variable and configure your video URL in the workflow.\n  2. Execute the workflow.\n  3. Retrieve your rich, AI-generated video description for downstream use such as automation, tagging, or reporting.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h3>ğŸ“ Overview</h3>\n<p>This workflow leverages Google Gemini 2.0 Flash multimodal AI to automatically generate detailed descriptions of video content from any public URL. It streamlines video understanding, making it ideal for content cataloging, accessibility, and content moderation.</p>\n<h3>ğŸ’¡ Use Cases</h3>\n<ul>\n<li>â™¿ <strong>Accessibility</strong>: Automatically generate detailed video descriptions for visually impaired users.</li>\n<li>ğŸ›¡ï¸ <strong>Content Moderation</strong>: Detect inappropriate or off-brand material without manual watching.</li>\n<li>ğŸ—‚ï¸ <strong>Media Cataloging</strong>: Enrich your media library with automatically extracted metadata.</li>\n<li>ğŸ“ˆ <strong>Marketing &amp; Branding</strong>: Gain fast insights into key elements, tone, and branding in video content.</li>\n</ul>\n<h3>âš™ï¸ Setup Instructions</h3>\n<ol>\n<li>\n<p><strong>ğŸ”‘ Get a Gemini API Key</strong></p>\n<ul>\n<li>Register at <a href=\"https://ai.google.dev/\" rel=\"ugc nofollow\" target=\"_blank\">ai.google.dev</a> and create an API key.</li>\n<li><strong>Before running the workflow, set your Gemini API key as an environment variable named <code>GeminiKey</code></strong> for secure access within the workflow.</li>\n<li>In the <code>Set Input</code> node, reference this environment variable instead of hardcoding the key.</li>\n</ul>\n</li>\n<li>\n<p><strong>ğŸŒ Configure Video URL</strong></p>\n<ul>\n<li>Replace the sample URL in the <code>Set Input</code> node with your desired public video URL.</li>\n<li>Ensure the video is directly accessible (no login or special permissions required).</li>\n</ul>\n</li>\n<li>\n<p><strong>ğŸ“ Optional: Customize the Analysis</strong></p>\n<ul>\n<li>Edit the prompt in the <code>Analyze video Gemini</code> node to focus on the most relevant video details for your use case (e.g., branding, key actions, visual elements).</li>\n</ul>\n</li>\n<li>\n<p><strong>ğŸ”’ Security Tip</strong></p>\n<ul>\n<li>Use n8n's credentials manager or environment variables (like <code>GeminiKey</code>) to store your API key securely.</li>\n<li>Avoid hardcoding API keys directly in workflow nodes, especially in production environments.</li>\n</ul>\n</li>\n</ol>\n<h3>ğŸ”„ How It Works</h3>\n<ol>\n<li>ğŸ“¥ <strong>Download</strong> the video from the provided URL.</li>\n<li>â˜ï¸ <strong>Upload</strong> the video to Geminiâ€™s server for processing.</li>\n<li>â³ <strong>Wait</strong> for Gemini to complete processing.</li>\n<li>ğŸ¤– <strong>Analyze</strong> the video with Gemini AI using your customized prompt.</li>\n<li>ğŸ“„ <strong>Output</strong> a comprehensive description of the video as <code>videoDescription</code>.</li>\n</ol>\n<h3>âš¡ Technical Details</h3>\n<ul>\n<li>Uses HTTP Request nodes to interact with Gemini API endpoints.</li>\n<li>Handles file download, upload, status checking, and result retrieval.</li>\n<li>Customizable Gemini AI parameters for fine-tuned response.</li>\n<li>Main output: <code>videoDescription</code> (detailed text describing video content).</li>\n</ul>\n<h3>ğŸš€ Quickstart</h3>\n<ol>\n<li>Set your Gemini API key as the <code>GeminiKey</code> environment variable and configure your video URL in the workflow.</li>\n<li>Execute the workflow.</li>\n<li>Retrieve your rich, AI-generated video description for downstream use such as automation, tagging, or reporting.</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "### ğŸ“ æ¦‚è¿°\n\næœ¬å·¥ä½œæµåˆ©ç”¨Google Gemini 2.0 Flashå¤šæ¨¡æ€AIæŠ€æœ¯ï¼Œå¯è‡ªåŠ¨ä»ä»»æ„å…¬å¼€è§†é¢‘URLç”Ÿæˆè¯¦ç»†å†…å®¹æè¿°ã€‚å®ƒèƒ½æ˜¾è‘—æå‡è§†é¢‘ç†è§£æ•ˆç‡ï¼Œç‰¹åˆ«é€‚ç”¨äºå†…å®¹ç¼–ç›®ã€æ— éšœç¢è®¿é—®å’Œå†…å®¹å®¡æ ¸åœºæ™¯ã€‚\n\n### ğŸ’¡ åº”ç”¨åœºæ™¯\n\n  * â™¿ **æ— éšœç¢æœåŠ¡**ï¼šä¸ºè§†éšœç”¨æˆ·è‡ªåŠ¨ç”Ÿæˆè§†é¢‘å†…å®¹è¯¦è¿°\n  * ğŸ›¡ï¸ **å†…å®¹å®¡æ ¸**ï¼šæ— éœ€äººå·¥è§‚çœ‹å³å¯è¯†åˆ«è¿è§„æˆ–ä¸ç¬¦åˆå“ç‰Œè°ƒæ€§çš„å†…å®¹\n  * ğŸ—‚ï¸ **åª’ä½“ç¼–ç›®**ï¼šé€šè¿‡è‡ªåŠ¨æå–çš„å…ƒæ•°æ®ä¸°å¯Œåª’ä½“åº“ä¿¡æ¯\n  * ğŸ“ˆ **è¥é”€ä¸å“ç‰Œ**ï¼šå¿«é€Ÿæ´å¯Ÿè§†é¢‘ä¸­çš„æ ¸å¿ƒå…ƒç´ ã€æƒ…æ„ŸåŸºè°ƒå’Œå“ç‰Œéœ²å‡º",
  "title_zh": "ğŸ¥ åŒå­åº§AIè§†é¢‘åˆ†æ",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äº5å¤©å‰",
  "workflow_json_zh": "{\n  \"id\": \"hKkZYhJqBNir8amQ\",\n  \"meta\": {\n    \"instanceId\": \"a943fc71a4dfb51cc3424882233bcd72e7a73857958af1cf464f7c21580c726e\"\n  },\n  \"name\": \"ğŸ¥ Gemini AI Video Analysis\",\n  \"tags\": [\n    {\n      \"id\": \"bjzc8PEM2FgX8rUa\",\n      \"name\": \"Marketing\",\n      \"createdAt\": \"2025-04-18T13:34:48.192Z\",\n      \"updatedAt\": \"2025-04-18T13:34:48.192Z\"\n    },\n    {\n      \"id\": \"OiWw6VmsJz6ZBAzz\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2025-04-25T09:59:58.961Z\",\n      \"updatedAt\": \"2025-04-25T09:59:58.961Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"f5c9faf8-441a-49ef-a0de-0daa08c3bbfa\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        400,\n        160\n      ],\n      \"webhookId\": \"7d0cd0c0-ce85-4372-b7a5-b0be061fc2b9\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"c0336074-a30f-4fc0-aa57-7142cea1a3da\",\n      \"name\": \"Download video\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -40,\n        160\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.video_url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"8b04c774-7a02-43ff-bac9-d19a427d514e\",\n      \"name\": \"Upload video Gemini\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        180,\n        160\n      ],\n      \"parameters\": {\n        \"url\": \"=https://generativelanguage.googleapis.com/upload/v1beta/files?key={{ $vars.GeminiKey }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"binaryData\",\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"X-Goog-Upload-Command\",\n              \"value\": \"start, upload, finalize\"\n            },\n            {\n              \"name\": \"X-Goog-Upload-Header-Content-Length\",\n              \"value\": \"={{ $binary.data.fileSize }}\"\n            },\n            {\n              \"name\": \"X-Goog-Upload-Header-Content-Type\",\n              \"value\": \"=video/{{ $binary.data.fileExtension }}\"\n            },\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"video/mp4\"\n            }\n          ]\n        },\n        \"inputDataFieldName\": \"=data\"\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"eacf4317-18bc-441a-a415-488b65bb9545\",\n      \"name\": \"Analyze video Gemini\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        620,\n        160\n      ],\n      \"parameters\": {\n        \"url\": \"=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key={{ $vars.GeminiKey }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"contents\\\": [\\n        {\\n            \\\"role\\\": \\\"user\\\",\\n            \\\"parts\\\": [\\n                {\\n                    \\\"fileData\\\": {\\n                        \\\"fileUri\\\": \\\"{{ $json.file.uri }}\\\",\\n                        \\\"mimeType\\\": \\\"{{ $json.file.mimeType }}\\\"\\n                    }\\n                },\\n                {\\n                    \\\"text\\\": \\\"Describe in detail what is visually happening in the video, including key elements, actions, colors, and branding. Note the style, tone, and any notable creative techniques being used.\\\"\\n                }\\n            ]\\n        }\\n    ],\\n    \\\"generationConfig\\\": {\\n        \\\"temperature\\\": 1.4,\\n        \\\"topK\\\": 40,\\n        \\\"topP\\\": 0.95,\\n        \\\"maxOutputTokens\\\": 8192,\\n        \\\"responseModalities\\\": [\\\"Text\\\"]\\n    }\\n}\\n\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"ff204f3f-947e-4b6a-a9a3-822d6d57064b\",\n      \"name\": \"When clicking â€˜Test workflowâ€™\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -480,\n        160\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d842a85d-121d-46ed-9df7-44d2c7849c03\",\n      \"name\": \"Set Input\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -260,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6e1728e0-4749-47b9-92ae-4d1c0b7008c8\",\n              \"name\": \"video_url\",\n              \"type\": \"string\",\n              \"value\": \"https://video-gru2-1.xx.fbcdn.net/v/t42.1790-2/469342405_958689216107669_4819692307529683812_n.mp4?_nc_cat=109&ccb=1-7&_nc_sid=c53f8f&_nc_ohc=DMM4-vR_LwoQ7kNvwGFIAOW&_nc_oc=AdkqAUzPHupjN-yAD8AGHbbnsMLQptad7NFTL-fuRa3Kq12boE6Ar_elagnzmgR87uU&_nc_zt=28&_nc_ht=video-gru2-1.xx&_nc_gid=ikICtUIUUCoHz775L2uRBw&oh=00_AfHlScWo8zXllEsqzl3wabxNva8z_qiFuA2g-hWzvnlVdg&oe=681596F3\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"efb6ed9b-5f65-4bf3-8ea9-00430abdb247\",\n      \"name\": \"Get Result\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        840,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1ea390b9-3371-4a3a-8741-bd6ec74dc64b\",\n              \"name\": \"videoDescription\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts[0].text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"fc917016-b2f3-4d69-8924-0aa16b4b43bc\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -920,\n        -380\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 560,\n        \"height\": 520,\n        \"content\": \"## ä½¿ç”¨Gemini AIè¿›è¡Œè§†é¢‘åˆ†æ\\n\\næœ¬å·¥ä½œæµæ¼”ç¤ºå¦‚ä½•é€šè¿‡Google Gemini 2.0 Flash APIåˆ†æè§†é¢‘å†…å®¹ï¼š\\n1. ä»URLä¸‹è½½è§†é¢‘\\n2. ä¸Šä¼ è‡³GeminiæœåŠ¡å™¨\\n3. é€šè¿‡AIå¤„ç†ç”Ÿæˆè¯¦ç»†æè¿°\\n4. æå–åˆ†æç»“æœ\\n\\nåº”ç”¨åœºæ™¯ï¼šå†…å®¹å®¡æ ¸ã€è§†é¢‘ç¼–ç›®ã€æ— éšœç¢åŠŸèƒ½ç­‰\\n\\nè¾“å‡ºï¼šå·¥ä½œæµå°†åœ¨\\\"MediaDescription\\\"å˜é‡ä¸­ç”Ÿæˆè§†é¢‘å†…å®¹çš„è¯¦ç»†æ–‡æœ¬æè¿°ã€‚è¯¥æ•°æ®å¯ç”¨äºå†…å®¹æ ‡è®°ã€å¯æœç´¢æè¿°ã€æ— éšœç¢ä¼˜åŒ–ã€å†…å®¹å®¡æ ¸æˆ–ç¼–ç›®ã€‚\\n\\nâš™ï¸ **ä½¿ç”¨å‰å¿…è¯»**ï¼šè¯·ç¡®ä¿åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®`GeminiKey`å¹¶å¡«å…¥æ‚¨çš„Gemini APIå¯†é’¥ã€‚  \\næ­¤ä¸¾å¯ç¡®ä¿APIå¯†é’¥å®‰å…¨ç®¡ç†ï¼Œé¿å…ç¡¬ç¼–ç åœ¨å·¥ä½œæµä¸­ã€‚\\n\\n__å®‰å…¨æç¤º__ï¼šå½“å‰å·¥ä½œæµæ•°æ®ä¸­åŒ…å«APIå¯†é’¥ã€‚  \\næ­£å¼ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œè¯·å°†APIå¯†é’¥å­˜å‚¨åœ¨å‡­è¯ç®¡ç†ç³»ç»Ÿæˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆå¦‚`GeminiKey`ï¼‰ï¼Œåˆ‡å‹¿ç›´æ¥ç¡¬ç¼–ç ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8854f039-f23f-4174-8821-7acfbc5ecfab\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -320,\n        20\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 220,\n        \"height\": 300,\n        \"content\": \"## é…ç½®\\nå®šä¹‰æ‚¨æƒ³è¦åˆ†æçš„è§†é¢‘é“¾æ¥ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"189ede99-f80f-4f41-8481-c9ba518fd0e7\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -70,\n        -140\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 820,\n        \"height\": 460,\n        \"content\": \"## è§†é¢‘å¤„ç†æµç¨‹\\n\\næœ¬éƒ¨åˆ†è´Ÿè´£å®Œæ•´çš„è§†é¢‘å¤„ç†å·¥ä½œæµï¼š\\n\\n1. ä¸‹è½½é˜¶æ®µï¼šé¦–å…ˆä»æä¾›çš„URLè·å–è§†é¢‘ï¼Œå°†å…¶è½¬æ¢ä¸ºGeminiå¯å¤„ç†çš„äºŒè¿›åˆ¶æ•°æ®\\n\\n2. ä¸Šä¼ é˜¶æ®µï¼šæ¥ç€å°†äºŒè¿›åˆ¶è§†é¢‘æ•°æ®å‘é€è‡³GeminiæœåŠ¡å™¨ï¼Œä¸´æ—¶å­˜å‚¨ä»¥ä¾›AIå¤„ç†\\n\\n3. åˆ†æé˜¶æ®µï¼šæœ€åè¯·æ±‚Geminiçš„AIåˆ†æè§†é¢‘å†…å®¹ã€‚æ‚¨å¯åœ¨\\\"Analyze video Gemini\\\"èŠ‚ç‚¹ä¸­è‡ªå®šä¹‰æç¤ºè¯ï¼Œä»¥èšç„¦äºæ‚¨æ„Ÿå…´è¶£çš„ç‰¹å®šè§†é¢‘å†…å®¹\\n\\nç­‰å¾…èŠ‚ç‚¹ç¡®ä¿è§†é¢‘å®Œå…¨å¤„ç†å®Œæ¯•åæ‰å¼€å§‹åˆ†æã€‚\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"Upload video Gemini\": [\n      {\n        \"json\": {\n          \"file\": {\n            \"uri\": \"https://generativelanguage.googleapis.com/v1beta/files/7whopq8rwtt8\",\n            \"name\": \"files/7whopq8rwtt8\",\n            \"state\": \"PROCESSING\",\n            \"source\": \"UPLOADED\",\n            \"mimeType\": \"video/mp4\",\n            \"sizeBytes\": \"933141\",\n            \"createTime\": \"2025-04-28T18:12:40.864881Z\",\n            \"sha256Hash\": \"MWQwYmQ2YWViYmRiNDNjZTYyY2I2ODhkOWRlNzdlMzkyZDJkMTU0NTM5NTE1OWM2MTJlMWRiNTNhNTIyZDVmZA==\",\n            \"updateTime\": \"2025-04-28T18:12:40.864881Z\",\n            \"expirationTime\": \"2025-04-30T18:12:40.834671218Z\"\n          }\n        }\n      }\n    ],\n    \"Analyze video Gemini\": [\n      {\n        \"json\": {\n          \"candidates\": [\n            {\n              \"content\": {\n                \"role\": \"model\",\n                \"parts\": [\n                  {\n                    \"text\": \"Okay, here's a detailed description of the video:\\n\\n**Overview**\\nThe video is a promotional piece for Advanced Sim Racing, featuring a high-end BMW-branded racing simulator setup at a BMW dealership event. It also highlights the presence of a well-known personality: Georges St-Pierre (GSP). The video mixes detailed close-ups of the equipment, shots of people interacting with the simulator, and branding elements.\\n\\n**Detailed Description:**\\n\\n*   **0:00-0:01:** Opens with a dynamic shot of someone using the advanced racing simulator. We see triple monitors displaying a race, and the participant grips the steering wheel with intent. The seat is black, with \\\"OMP\\\" branded at the top, \\\"ADVANCED Sim Racing\\\" and a large BMW logo prominently displayed on its back.\\n\\n*   **0:01-0:03:** Tight focus on the steering wheel, emphasizing its sophisticated design and multiple buttons.  We see the brand name \\\"OMP\\\" on the wheel itself, while the backboard is adorned with the companyâ€™s slogan, â€œADVANCED Sim Racingâ€.\\n\\n*   **0:03-0:07:** We shift to show the simulator being used at a BMW dealership.  A group of people gathers around with the hood open of a BMW car, seemingly intrigued and looking at the person experiencing the simulator.\\n\\n*   **0:07-0:11:** George St-Pierre appears among the crowd.\\n\\n*   **0:11-0:13:** Close-up of the SimuCube motor\\n\\n*   **0:13-0:15:** George St-Pierre gets onto the simulator while people assist him.\\n\\n*   **0:15-0:21:** Focus on the haptic feedback engine and the back of an employeeâ€™s t-shirt that says â€œADVANCED Sim Racing DBOX SIMUCUBEâ€\\n\\n*   **0:22-0:24:** Small lego replica of the BMW 3 series next to one of the monitorâ€™s along with the carâ€™s front side view with distinct headlights.\\n\\n*   **0:24-0:25:** The outside of the event, labeled BMW Laval with the BMW logo, ice cream booth nearby.\\n\\n*   **0:25-0:27:** More participants getting on the simulator\\n\\n*   **0:27-0:29:** The ranking for different drivers\\n\\n*   **0:29-0:33:** View of the racing pedals and the race seat with the â€œOMPâ€ brand.\\n\\n**Key Elements & Equipment**\\n*   **Sim Racing Rig:** A highly advanced racing simulator is central to the video.  It is equipped with a racing seat, steering wheel, pedals, multiple monitors and a SimuCube haptic engine for feedback\\n*   **BMW Branding:** The presence of the BMW logo and the incorporation of BMW vehicles underscore the affiliation.\\n\\n**Style & Tone:**\\n*   **High-Tech:**  The video conveys a sense of sophisticated technology and realistic immersion in simulated racing.\\n*   **Promotional/Enthusiastic:**  The music and the editing suggest excitement and interest in the product.\\n*   **Stylish:** Use of slow-motion shots, close-ups and selective focus adds a modern, visually appealing look.\\n\\nI hope this helps!\"\n                  }\n                ]\n              },\n              \"avgLogprobs\": -1.1206862455033986,\n              \"finishReason\": \"STOP\"\n            }\n          ],\n          \"modelVersion\": \"gemini-2.0-flash-exp\",\n          \"usageMetadata\": {\n            \"totalTokenCount\": 10149,\n            \"promptTokenCount\": 9441,\n            \"promptTokensDetails\": [\n              {\n                \"modality\": \"TEXT\",\n                \"tokenCount\": 36\n              },\n              {\n                \"modality\": \"AUDIO\",\n                \"tokenCount\": 825\n              },\n              {\n                \"modality\": \"VIDEO\",\n                \"tokenCount\": 8580\n              }\n            ],\n            \"candidatesTokenCount\": 708,\n            \"candidatesTokensDetails\": [\n              {\n                \"modality\": \"TEXT\",\n                \"tokenCount\": 708\n              }\n            ]\n          }\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"5f8d8d62-091e-4883-bbb0-8087ebe7b501\",\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Analyze video Gemini\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Input\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload video Gemini\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload video Gemini\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Analyze video Gemini\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Result\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking â€˜Test workflowâ€™\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Input\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}