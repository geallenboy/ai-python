{
  "title": "Monitor SSL certificate of any domain with uProc",
  "url": "https://n8n.io/workflows/861-monitor-ssl-certificate-of-any-domain-with-uproc/",
  "category": "SecOps",
  "category_url": "https://n8n.io/workflows/categories/secops/?sort=createdAt:desc",
  "author": "Miquel Colomer",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-06",
  "content": "",
  "workflow_json": "{\"id\":\"110\",\"name\":\"Get SSL Certificate\",\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[240,290],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Create Domain Item\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[450,290],\"parameters\":{\"functionCode\":\"item.domain = \\\"n8n.io\\\";\\nreturn item;\"},\"typeVersion\":1},{\"name\":\"Get SSL Certificate\",\"type\":\"n8n-nodes-base.uproc\",\"position\":[650,290],\"parameters\":{\"tool\":\"getDomainCertificate\",\"group\":\"internet\",\"domain\":\"= {{$node[\\\"Create Domain Item\\\"].json[\\\"domain\\\"]}}\",\"additionalOptions\":{}},\"credentials\":{\"uprocApi\":\"miquel-uproc\"},\"typeVersion\":1},{\"name\":\"Send Expired Alarm\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1070,270],\"parameters\":{\"text\":\"=The certificate of the domain {{$node[\\\"Create Domain Item\\\"].json[\\\"domain\\\"]}} has expired!\",\"chatId\":\"-1415703867\",\"additionalFields\":{}},\"credentials\":{\"telegramApi\":\"test killia bot\"},\"typeVersion\":1},{\"name\":\"Certificate  has  expired?\",\"type\":\"n8n-nodes-base.if\",\"position\":[840,290],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$node[\\\"Get SSL Certificate\\\"].json[\\\"message\\\"][\\\"valid\\\"]+\\\"\\\"}}\",\"value2\":\"false\"}]}},\"typeVersion\":1}],\"active\":false,\"settings\":{},\"connections\":{\"Create Domain Item\":{\"main\":[[{\"node\":\"Get SSL Certificate\",\"type\":\"main\",\"index\":0}]]},\"Get SSL Certificate\":{\"main\":[[{\"node\":\"Certificate  has  expired?\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Create Domain Item\",\"type\":\"main\",\"index\":0}]]},\"Certificate  has  expired?\":{\"main\":[[{\"node\":\"Send Expired Alarm\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Do you want to check the SSL certificate expiration dates of your customers or servers?\n\nThis workflow gets information of an SSL certificate using the uProc [**Get Certificate by domain tool**](https://app.uproc.io/#/tools/processor/get/domain/certificate).  \nYou can use this workflow to query SSL certificates in bulk and send alarms when any certificate has expired.\n\nYou need to add your credentials (Email and API Key - real -) located at [**Integration section**](https://app.uproc.io/#/settings/integration) to n8n.\n\nYou can replace \"Create Domain Item\" with any integration containing a domain, like Google Sheets, MySQL, or Zabbix server.\n\nEvery \"uProc\" node returns the next fields per every analyzed SSL certificate:\n\n  * issuer: Contains the issuer.\n  * provider: Contains the provider.\n  * valid_from: Contains the start date.\n  * valid_to: Contains the end date.\n  * serial_number: Contains the serial number.\n  * type: Contains if supports one or multiple domains.\n  * protocol: Contains the protocol.\n  * valid: Contains its validity.\n  * domains: Contains all domains and subdomains supported.\n\n\n\nAn \"IF\" node detects if the certificate is valid or not.\n\nFinally, the workflow sends an alarm to a Telegram channel to know if the certificate has expired.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>Do you want to check the SSL certificate expiration dates of your customers or servers?</p>\n<p>This workflow gets information of an SSL certificate using the uProc <a href=\"https://app.uproc.io/#/tools/processor/get/domain/certificate\" rel=\"ugc nofollow\" target=\"_blank\"><strong>Get Certificate by domain tool</strong></a>.<br>\nYou can use this workflow to query SSL certificates in bulk and send alarms when any certificate has expired.</p>\n<p></p>\n<p>You need to add your credentials (Email and API Key - real -) located at <a href=\"https://app.uproc.io/#/settings/integration\" rel=\"ugc nofollow\" target=\"_blank\"><strong>Integration section</strong></a> to n8n.</p>\n<p>You can replace \"Create Domain Item\" with any integration containing a domain, like Google Sheets, MySQL, or Zabbix server.</p>\n<p>Every \"uProc\" node returns the next fields per every analyzed SSL certificate:</p>\n<ul>\n<li>issuer: Contains the issuer.</li>\n<li>provider: Contains the provider.</li>\n<li>valid_from: Contains the start date.</li>\n<li>valid_to: Contains the end date.</li>\n<li>serial_number: Contains the serial number.</li>\n<li>type: Contains if supports one or multiple domains.</li>\n<li>protocol: Contains the protocol.</li>\n<li>valid: Contains its validity.</li>\n<li>domains: Contains all domains and subdomains supported.</li>\n</ul>\n<p>An \"IF\" node detects if the certificate is valid or not.</p>\n<p>Finally, the workflow sends an alarm to a Telegram channel to know if the certificate has expired.</p>\n</div><!--]-->",
  "readme_zh": "您是否想检查客户或服务器的SSL证书到期日期？\n\n此工作流程利用uProc的[**通过域名获取证书工具**](https://app.uproc.io/#/tools/processor/get/domain/certificate)来获取SSL证书信息。  \n您可通过此工作流程批量查询SSL证书，并在任意证书过期时发送告警。\n\n需将[**集成设置页面**](https://app.uproc.io/#/settings/integration)中的真实凭证（邮箱与API密钥）添加至n8n平台。\n\n\"创建域名条目\"节点可替换为包含域名的任意集成方案，例如Google表格、MySQL或Zabbix服务器。\n\n每个\"uProc\"节点将为分析的SSL证书返回以下字段：\n\n  * 颁发者：显示证书颁发机构  \n  * 供应商：显示证书提供商  \n  * 生效日期：显示起始有效期  \n  * 到期日期：显示终止有效期  \n  * 序列号：显示证书序列号  \n  * 类型：显示单域名/多域名支持情况  \n  * 协议：显示使用的加密协议  \n  * 有效性：显示当前是否有效  \n  * 域名：显示支持的所有主域名与子域名  \n\n\"条件判断\"节点将检测证书有效性状态。\n\n最终，工作流程会向Telegram频道发送证书过期告警通知。",
  "title_zh": "使用uProc监控任意域名的SSL证书",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"110\",\n  \"name\": \"Get SSL Certificate\",\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        290\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create Domain Item\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        450,\n        290\n      ],\n      \"parameters\": {\n        \"functionCode\": \"item.domain = \\\"n8n.io\\\";\\nreturn item;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get SSL Certificate\",\n      \"type\": \"n8n-nodes-base.uproc\",\n      \"position\": [\n        650,\n        290\n      ],\n      \"parameters\": {\n        \"tool\": \"getDomainCertificate\",\n        \"group\": \"internet\",\n        \"domain\": \"= {{$node[\\\"Create Domain Item\\\"].json[\\\"domain\\\"]}}\",\n        \"additionalOptions\": {}\n      },\n      \"credentials\": {\n        \"uprocApi\": \"miquel-uproc\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Send Expired Alarm\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1070,\n        270\n      ],\n      \"parameters\": {\n        \"text\": \"=The certificate of the domain {{$node[\\\"Create Domain Item\\\"].json[\\\"domain\\\"]}} has expired!\",\n        \"chatId\": \"-1415703867\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": \"test killia bot\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Certificate  has  expired?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        840,\n        290\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Get SSL Certificate\\\"].json[\\\"message\\\"][\\\"valid\\\"]+\\\"\\\"}}\",\n              \"value2\": \"false\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Create Domain Item\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get SSL Certificate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get SSL Certificate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Certificate  has  expired?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Domain Item\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Certificate  has  expired?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Expired Alarm\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}