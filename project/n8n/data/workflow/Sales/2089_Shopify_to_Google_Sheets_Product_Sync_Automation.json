{
  "title": "Shopify to Google Sheets Product Sync Automation",
  "url": "https://n8n.io/workflows/2089-shopify-to-google-sheets-product-sync-automation/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "siyad",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"WBkJdubQjVzMUhwi\",\"meta\":{\"instanceId\":\"dec9665c2881b1ce168445537106c667ef9ec805212b046e3d537c8cf9badb2b\"},\"name\":\"Shopify to Google Sheets Product Sync Automation\",\"tags\":[{\"id\":\"lw2o8Nrkj1WPXBN9\",\"name\":\"template\",\"createdAt\":\"2023-12-20T00:14:27.348Z\",\"updatedAt\":\"2023-12-20T00:14:27.348Z\"}],\"nodes\":[{\"id\":\"b2a5a0ac-4ce8-4d81-8d7f-01c0e5e35fd7\",\"name\":\"Wait1\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1520,380],\"webhookId\":\"93996a89-7e6c-4f08-9e42-eceb160a7d89\",\"parameters\":{\"unit\":\"seconds\",\"amount\":10},\"typeVersion\":1},{\"id\":\"681361ff-0648-46bd-bff2-2f4c4c17624a\",\"name\":\"No Operation, do nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1620,180],\"parameters\":{},\"typeVersion\":1},{\"id\":\"1836d799-a821-44c0-b1a7-7d9354afccd4\",\"name\":\"Shopify get products\",\"type\":\"n8n-nodes-base.graphql\",\"position\":[320,200],\"parameters\":{\"query\":\"=query getProducts($first: Int = {{ $json.batchsize }}, $after: String = \\\"{{ $json.endCursor }}\\\") {\\n  products(first: $first, after: $after) {\\n    edges {\\n      node {\\n        title\\n        tags\\n        description\\n        variants(first: 1) {\\n          edges {\\n            node {\\n              price\\n            }\\n          }\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n\",\"endpoint\":\"https://test-store.myshopify.com/admin/api/2024-01/graphql.json\",\"authentication\":\"headerAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"m0Fan0K6zdS2cpQq\",\"name\":\"shopify test store\"}},\"executeOnce\":true,\"typeVersion\":1},{\"id\":\"32a79711-c802-44c8-b188-250a782633c0\",\"name\":\"Split output\",\"type\":\"n8n-nodes-base.code\",\"position\":[760,200],\"parameters\":{\"language\":\"python\",\"pythonCode\":\"new_output = []\\nfor item in _input.all():\\n    products = item.json['data']['products']['edges']\\n    for product in products:\\n        new_item = {\\n            \\\"data\\\": {\\n                \\\"product\\\": product['node']\\n            }\\n        }\\n        new_output.append(new_item)\\nreturn new_output\"},\"typeVersion\":2},{\"id\":\"c7457a0b-9381-4e96-a458-33bf43f2dce1\",\"name\":\"Check if there is next page\",\"type\":\"n8n-nodes-base.if\",\"position\":[1300,200],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"fd562f28-7126-4f06-8250-6b3a4eb4e481\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.data.products.pageInfo.hasNextPage }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"cced491b-b8b5-4109-8bd0-3d51fe0f0b5a\",\"name\":\"writing first product details\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-140,380],\"parameters\":{\"columns\":{\"value\":{\"tag\":\"={{ $json.data.products.edges[0].node.tags }}\",\"price\":\"={{ $json.data.products.edges[0].node.variants.edges[0].node.price }}\",\"title\":\"={{ $json.data.products.edges[0].node.title }}\",\"descreption\":\"={{ $json.data.products.edges[0].node.description }}\"},\"schema\":[{\"id\":\"title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"descreption\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"descreption\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"tag\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"tag\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"title\"]},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Sheet1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit?usp=drivesdk\",\"cachedResultName\":\"template test\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"pmrAlq3hgPc4cCvQ\",\"name\":\"Google Sheets account\"}},\"executeOnce\":true,\"typeVersion\":4.2,\"alwaysOutputData\":false},{\"id\":\"a72b4230-d242-4ffa-a388-fb3580e66300\",\"name\":\"Set cursor\",\"type\":\"n8n-nodes-base.set\",\"position\":[1420,740],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"endCursor\",\"stringValue\":\"={{ $('Shopify get products').item.json.data.products.pageInfo.endCursor }}\"},{\"name\":\"=batchsize\",\"stringValue\":\"={{ $('Code').item.json.batchsize }}\"}]},\"include\":\"none\",\"options\":{}},\"typeVersion\":3.2},{\"id\":\"55a6cb5d-96d0-4577-b74f-d718de9d07cb\",\"name\":\"writing remaning product info to google sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1020,200],\"parameters\":{\"columns\":{\"value\":{\"tag\":\"={{ $json.data.product.tags }}\",\"price\":\"={{ $json.data.product.variants.edges[0].node.price }}\",\"title\":\"={{ $json.data.product.title }}\",\"descreption\":\"={{ $json.data.product.description }}\"},\"schema\":[{\"id\":\"title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"descreption\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"descreption\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"tag\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"tag\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"price\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"price\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"title\"]},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Sheet1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"template test\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"pmrAlq3hgPc4cCvQ\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.2},{\"id\":\"a24c4e2a-482f-43d4-8c48-927427a430c0\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-1300,520],\"parameters\":{\"rule\":{\"interval\":[{\"daysInterval\":0,\"triggerAtHour\":7}]}},\"typeVersion\":1.1},{\"id\":\"3a9d27fa-0840-4fc1-9b67-aad2f89f479b\",\"name\":\"update Curser\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[640,0],\"parameters\":{\"columns\":{\"value\":{\"tracker\":\"cursor\",\"endCursor\":\"={{ $json.data.products.pageInfo.endCursor }}\"},\"schema\":[{\"id\":\"tracker\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"tracker\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"endCursor\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"endCursor\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"tracker\"]},\"options\":{},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":334929034,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Curser\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Shopify Product Sync test\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"pmrAlq3hgPc4cCvQ\",\"name\":\"Google Sheets account\"}},\"executeOnce\":false,\"typeVersion\":4.2,\"alwaysOutputData\":false},{\"id\":\"a7c1f97c-d88f-457d-9213-36300d277f4b\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[-540,520],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"32b5f953-ae6c-4c50-ac47-591880738d0f\",\"operator\":{\"type\":\"string\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.endCursor }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"23f62f9c-ef85-4e25-9d94-83a1d899ecf8\",\"name\":\"Code\",\"type\":\"n8n-nodes-base.code\",\"position\":[100,540],\"parameters\":{\"jsCode\":\"let mergedJson = {};\\n\\ntry {\\n    const batch_size = $(\\\"BatchSize\\\").all(0, 0);\\n    if (batch_size.length > 0 && batch_size[0].json) {\\n        Object.assign(mergedJson, batch_size[0].json);\\n    }\\n} catch (error) {\\n    console.log(\\\"BatchSize data not available\\\");\\n}\\n\\nlet endCursorFound = false;\\ntry {\\n    const last_cursor = $(\\\"LastCursor\\\").all(0, 0);\\n    if (last_cursor.length > 0 && last_cursor[0].json) {\\n        Object.assign(mergedJson, last_cursor[0].json);\\n        if (last_cursor[0].json.endCursor) {\\n            mergedJson.endCursor = last_cursor[0].json.endCursor;\\n            endCursorFound = true;\\n        }\\n    }\\n} catch (error) {\\n    console.log(\\\"LastCursor data not available\\\");\\n}\\n\\nif (!endCursorFound) {\\n    try {\\n        const shopify_initial = $(\\\"shopify-initial\\\").all(0, 0);\\n        if (shopify_initial.length > 0 && shopify_initial[0].json && shopify_initial[0].json.data && shopify_initial[0].json.data.products && shopify_initial[0].json.data.products.pageInfo) {\\n            mergedJson.endCursor = shopify_initial[0].json.data.products.pageInfo.endCursor;\\n        }\\n    } catch (error) {\\n        console.log(\\\"Shopify data not available\\\");\\n    }\\n}\\n\\nif (Object.keys(mergedJson).length === 0 || mergedJson.hasOwnProperty('error')) {\\n    return [{ json: { error: \\\"No data available. Ensure relevant nodes have been executed.\\\" } }];\\n}\\n\\nreturn [{ json: mergedJson }];\"},\"executeOnce\":true,\"typeVersion\":2},{\"id\":\"f1262f15-757f-4cc2-9453-fed17ad66b56\",\"name\":\"BatchSize\",\"type\":\"n8n-nodes-base.set\",\"position\":[-1080,520],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"batchsize\",\"type\":\"numberValue\",\"numberValue\":\"100\"}]},\"include\":\"selected\",\"options\":{}},\"typeVersion\":3.2},{\"id\":\"e885b0e7-e435-40ae-be21-77fd992c3114\",\"name\":\"LastCursor\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-720,520],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":334929034,\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Curser\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\"cachedResultName\":\"Shopify Product Sync test\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"pmrAlq3hgPc4cCvQ\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.2,\"alwaysOutputData\":true},{\"id\":\"ae3cf866-8695-4b63-b631-a6b00e29c7cb\",\"name\":\"shopify-initial\",\"type\":\"n8n-nodes-base.graphql\",\"position\":[-300,380],\"parameters\":{\"query\":\"=query getProducts($first: Int = 1) {\\n  products(first: $first) {\\n    edges {\\n      node {\\n        title\\n        tags\\n        description\\n        variants(first: 1) {\\n          edges {\\n            node {\\n              price\\n            }\\n          }\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n\",\"endpoint\":\"https://test-store-collection.myshopify.com/admin/api/2024-01/graphql.json\",\"authentication\":\"headerAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"m0Fan0K6zdS2cpQq\",\"name\":\"shopify test store\"}},\"typeVersion\":1},{\"id\":\"8aab80ca-1a54-4d02-a8e8-37d037a12132\",\"name\":\"Check cursor is not empty\",\"type\":\"n8n-nodes-base.if\",\"position\":[420,20],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"329a4250-3fe7-4c73-8918-d41f7b38ff5a\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.data.products.pageInfo.endCursor }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"9e7c2e36-71f6-4fdf-a3b9-8aa3bf02d09b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1500,-400],\"parameters\":{\"color\":4,\"width\":352.8896103896103,\"height\":295.09740259740255,\"content\":\"This workflow automates the synchronization of product data from a Shopify store to a Google Sheets document, ensuring seamless management and tracking. It retrieves product details such as title, tags, description, and price from Shopify via GraphQL queries. The outcome is a comprehensive list of products neatly organized in Google Sheets for easy access and analysis.\"},\"typeVersion\":1},{\"id\":\"fbf62e09-3598-4f5c-b83a-a8b3e5371afb\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1420,340],\"parameters\":{\"width\":262.2077922077919,\"height\":343.21428571428567,\"content\":\"Schedule Trigger: Sets the timing for the automation to run, ensuring regular updates. Currently set to trigger every day at 7:00 AM\"},\"typeVersion\":1},{\"id\":\"47abe6ba-a7de-410e-b634-8ad248ec7155\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1140,360],\"parameters\":{\"color\":3,\"width\":275.1623376623376,\"height\":411.6883116883117,\"content\":\"BatchSize: Defines the number of products to fetch from Shopify at a time, optimizing data retrieval. Currently set to 100, but it can be adjusted to a maximum of 250 for a single run\"},\"typeVersion\":1},{\"id\":\"6415976b-5fa5-4cd4-aa86-58eb9749a878\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-820,260],\"parameters\":{\"color\":5,\"width\":275.16233766233773,\"height\":419.0909090909093,\"content\":\"LastCursor: Checks if the last cursor data is already present in Google Sheets to facilitate incremental data fetching. This ensures that the synchronization process does not start from the beginning each time, optimizing efficiency by picking up where it left off\"},\"typeVersion\":1},{\"id\":\"6a15e240-111e-4c7d-a865-2484a7a6ff0c\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-160],\"parameters\":{\"color\":4,\"width\":450.9740259740258,\"height\":705.941558441558,\"content\":\"Shopify-initial: Fetches the initial set of products from the Shopify store to start the synchronization process. This node will only run once if there is no cursor found in the previous node, which retrieves the cursor and the first set of products\"},\"typeVersion\":1},{\"id\":\"71640487-d3cf-4ede-8677-093108770720\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-160,560],\"parameters\":{\"color\":6,\"width\":416.49350649350646,\"height\":402.4350649350655,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis code node merges data from different sources (BatchSize, LastCursor, and Shopify-initial) to ensure the synchronization process starts efficiently and picks up where it left off. It checks for available data and retrieves the last cursor position from Google Sheets to facilitate incremental data fetching.\"},\"typeVersion\":1},{\"id\":\"a13069b8-36f9-4604-895e-55c51ae3be2c\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,200],\"parameters\":{\"width\":304.7727272727272,\"height\":330.2597402597403,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThe \\\"Split output\\\" node acts as a bridge between data retrieval and subsequent processing nodes. Since the Shopify node fetches batches of 100 results at a time, this node splits those batches into individual product entries, ensuring seamless processing and storage of each product's details in subsequent workflow steps\"},\"typeVersion\":1},{\"id\":\"8c1401ad-e7be-47a9-b01d-3606b9f20bf0\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1400,620],\"parameters\":{\"color\":5,\"width\":388.0519480519479,\"height\":367.27272727272714,\"content\":\"Set cursor: Updates the cursor for the next page of products to fetch from Shopify.\"},\"typeVersion\":1},{\"id\":\"a5d3c62c-1bf3-4bc7-9e2b-1b5883b385d1\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-32.17532467532425,20],\"parameters\":{\"color\":3,\"width\":428.7662337662332,\"height\":342.79220779220765,\"content\":\"The GraphQL query within this node is crafted to extract essential product details such as title, description, tags, and price. This query can be customized to fetch additional product information as needed for specific synchronization requirements.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"c640732c-55b5-4f2e-bb64-106c440b0abc\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"shopify-initial\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Code\",\"type\":\"main\",\"index\":0}]]},\"Code\":{\"main\":[[{\"node\":\"Shopify get products\",\"type\":\"main\",\"index\":0}]]},\"Wait1\":{\"main\":[[{\"node\":\"Set cursor\",\"type\":\"main\",\"index\":0}]]},\"BatchSize\":{\"main\":[[{\"node\":\"LastCursor\",\"type\":\"main\",\"index\":0}]]},\"LastCursor\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Set cursor\":{\"main\":[[{\"node\":\"Shopify get products\",\"type\":\"main\",\"index\":0}]]},\"Split output\":{\"main\":[[{\"node\":\"writing remaning product info to google sheets\",\"type\":\"main\",\"index\":0}]]},\"shopify-initial\":{\"main\":[[{\"node\":\"writing first product details\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"BatchSize\",\"type\":\"main\",\"index\":0}]]},\"Shopify get products\":{\"main\":[[{\"node\":\"Split output\",\"type\":\"main\",\"index\":0},{\"node\":\"Check cursor is not empty\",\"type\":\"main\",\"index\":0}]]},\"Check cursor is not empty\":{\"main\":[[{\"node\":\"update Curser\",\"type\":\"main\",\"index\":0}]]},\"Check if there is next page\":{\"main\":[[{\"node\":\"No Operation, do nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Wait1\",\"type\":\"main\",\"index\":0}]]},\"writing first product details\":{\"main\":[[{\"node\":\"Code\",\"type\":\"main\",\"index\":0}]]},\"writing remaning product info to google sheets\":{\"main\":[[{\"node\":\"Check if there is next page\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Workflow Description:**\n\nThis workflow automates the synchronization of product data from a Shopify store to a Google Sheets document, ensuring seamless management and tracking. It retrieves product details such as title, tags, description, and price from Shopify via GraphQL queries. The outcome is a comprehensive list of products neatly organized in Google Sheets for easy access and analysis.\n\n**Key Features:**\n\n  * Automated: Runs on a schedule you define (e.g., daily, hourly) to keep your product data fresh.\n  * Complete Product Details: Retrieves titles, descriptions, variants, images, inventory, and more.\n  * Cursor-Based Pagination: Efficiently handles large product sets by navigating pages without starting from scratch.\n  * Google Sheets Integration: Writes product data directly to your designated sheets.\n\n\n\nSet up Instructions:\n\n  1. Set up GraphQL node with Header Authentication for Shopify:\n\n  2. Create Google Sheet Credentials: Follow this guide to set up your Google Sheet credentials for n8n: <https://docs.n8n.io/integrations/builtin/credentials/google/>\n\n  3. Choose your Google Sheet: Select the sheet where you want product information written. For the setup, we need a document with two sheets: 1. for storing Shopify data 2. for storing cursor details.  \nGoogle sheet template :  \n<https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM>\n\n  4. Schedule and run: Decide how often you want the data refreshed (daily, hourly, etc.) and let n8n do its magic!\n\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><strong>Workflow Description:</strong></p>\n<p>This workflow automates the synchronization of product data from a Shopify store to a Google Sheets document, ensuring seamless management and tracking. It retrieves product details such as title, tags, description, and price from Shopify via GraphQL queries. The outcome is a comprehensive list of products neatly organized in Google Sheets for easy access and analysis.</p>\n<p><strong>Key Features:</strong></p>\n<ul>\n<li>Automated: Runs on a schedule you define (e.g., daily, hourly) to keep your product data fresh.</li>\n<li>Complete Product Details: Retrieves titles, descriptions, variants, images, inventory, and more.</li>\n<li>Cursor-Based Pagination: Efficiently handles large product sets by navigating pages without starting from scratch.</li>\n<li>Google Sheets Integration: Writes product data directly to your designated sheets.</li>\n</ul>\n<p>Set up Instructions:</p>\n<ol>\n<li>\n<p>Set up GraphQL node with Header Authentication for Shopify:</p>\n</li>\n<li>\n<p>Create Google Sheet Credentials: Follow this guide to set up your Google Sheet credentials for n8n: <a href=\"https://docs.n8n.io/integrations/builtin/credentials/google/\" rel=\"ugc nofollow\" target=\"_blank\">https://docs.n8n.io/integrations/builtin/credentials/google/</a></p>\n</li>\n<li>\n<p>Choose your Google Sheet: Select the sheet where you want product information written. For the setup, we need a document with two sheets: 1. for storing Shopify data 2. for storing cursor details.<br>\nGoogle sheet template :<br>\n<a href=\"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM\" rel=\"ugc nofollow\" target=\"_blank\">https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM</a></p>\n</li>\n<li>\n<p>Schedule and run: Decide how often you want the data refreshed (daily, hourly, etc.) and let n8n do its magic!</p>\n</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "**工作流程说明：**\n\n该工作流实现了从Shopify商店到Google Sheets文档的产品数据自动同步，确保管理和跟踪的无缝衔接。通过GraphQL查询从Shopify获取产品标题、标签、描述、价格等详细信息，最终在Google Sheets中生成一份条理清晰的产品清单，便于访问和分析。\n\n**核心功能：**\n\n  * **自动化运行**：按自定义计划（如每日、每小时）执行，保持产品数据实时更新  \n  * **完整产品信息**：获取标题、描述、变体、图片、库存等全方位数据  \n  * **游标分页机制**：通过页面跳转高效处理大批量产品，避免重复查询  \n  * **Google Sheets集成**：将产品数据直接写入指定电子表格  \n\n**配置指南：**\n\n1. **配置Shopify的GraphQL节点**：  \n   使用Header Authentication方式设置Shopify连接  \n\n2. **创建Google Sheets凭证**：  \n   参照指南为n8n配置Google Sheets访问权限：  \n   <https://docs.n8n.io/integrations/builtin/credentials/google/>\n\n3. **选择目标电子表格**：  \n   指定存储产品信息的表格（需包含两个工作表）：  \n   - 工作表1：存储Shopify数据  \n   - 工作表2：记录游标信息  \n   模板表格：  \n   <https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM>\n\n4. **设置调度执行**：  \n   设定数据更新频率（如每日/每小时），n8n将自动完成后续操作！",
  "title_zh": "Shopify至Google表格产品同步自动化",
  "publish_date_zh": "上次更新于一年前",
  "workflow_json_zh": "{\n  \"id\": \"WBkJdubQjVzMUhwi\",\n  \"meta\": {\n    \"instanceId\": \"dec9665c2881b1ce168445537106c667ef9ec805212b046e3d537c8cf9badb2b\"\n  },\n  \"name\": \"Shopify to Google Sheets Product Sync Automation\",\n  \"tags\": [\n    {\n      \"id\": \"lw2o8Nrkj1WPXBN9\",\n      \"name\": \"template\",\n      \"createdAt\": \"2023-12-20T00:14:27.348Z\",\n      \"updatedAt\": \"2023-12-20T00:14:27.348Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"b2a5a0ac-4ce8-4d81-8d7f-01c0e5e35fd7\",\n      \"name\": \"Wait1\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1520,\n        380\n      ],\n      \"webhookId\": \"93996a89-7e6c-4f08-9e42-eceb160a7d89\",\n      \"parameters\": {\n        \"unit\": \"seconds\",\n        \"amount\": 10\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"681361ff-0648-46bd-bff2-2f4c4c17624a\",\n      \"name\": \"No Operation, do nothing\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1620,\n        180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1836d799-a821-44c0-b1a7-7d9354afccd4\",\n      \"name\": \"Shopify get products\",\n      \"type\": \"n8n-nodes-base.graphql\",\n      \"position\": [\n        320,\n        200\n      ],\n      \"parameters\": {\n        \"query\": \"=query getProducts($first: Int = {{ $json.batchsize }}, $after: String = \\\"{{ $json.endCursor }}\\\") {\\n  products(first: $first, after: $after) {\\n    edges {\\n      node {\\n        title\\n        tags\\n        description\\n        variants(first: 1) {\\n          edges {\\n            node {\\n              price\\n            }\\n          }\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n\",\n        \"endpoint\": \"https://test-store.myshopify.com/admin/api/2024-01/graphql.json\",\n        \"authentication\": \"headerAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"m0Fan0K6zdS2cpQq\",\n          \"name\": \"shopify test store\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"32a79711-c802-44c8-b188-250a782633c0\",\n      \"name\": \"Split output\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        760,\n        200\n      ],\n      \"parameters\": {\n        \"language\": \"python\",\n        \"pythonCode\": \"new_output = []\\nfor item in _input.all():\\n    products = item.json['data']['products']['edges']\\n    for product in products:\\n        new_item = {\\n            \\\"data\\\": {\\n                \\\"product\\\": product['node']\\n            }\\n        }\\n        new_output.append(new_item)\\nreturn new_output\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c7457a0b-9381-4e96-a458-33bf43f2dce1\",\n      \"name\": \"Check if there is next page\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1300,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"fd562f28-7126-4f06-8250-6b3a4eb4e481\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.data.products.pageInfo.hasNextPage }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cced491b-b8b5-4109-8bd0-3d51fe0f0b5a\",\n      \"name\": \"writing first product details\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -140,\n        380\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"tag\": \"={{ $json.data.products.edges[0].node.tags }}\",\n            \"price\": \"={{ $json.data.products.edges[0].node.variants.edges[0].node.price }}\",\n            \"title\": \"={{ $json.data.products.edges[0].node.title }}\",\n            \"descreption\": \"={{ $json.data.products.edges[0].node.description }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"descreption\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"descreption\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"tag\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"tag\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"title\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit?usp=drivesdk\",\n          \"cachedResultName\": \"template test\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"pmrAlq3hgPc4cCvQ\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"a72b4230-d242-4ffa-a388-fb3580e66300\",\n      \"name\": \"Set cursor\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1420,\n        740\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"endCursor\",\n              \"stringValue\": \"={{ $('Shopify get products').item.json.data.products.pageInfo.endCursor }}\"\n            },\n            {\n              \"name\": \"=batchsize\",\n              \"stringValue\": \"={{ $('Code').item.json.batchsize }}\"\n            }\n          ]\n        },\n        \"include\": \"none\",\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"55a6cb5d-96d0-4577-b74f-d718de9d07cb\",\n      \"name\": \"writing remaning product info to google sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1020,\n        200\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"tag\": \"={{ $json.data.product.tags }}\",\n            \"price\": \"={{ $json.data.product.variants.edges[0].node.price }}\",\n            \"title\": \"={{ $json.data.product.title }}\",\n            \"descreption\": \"={{ $json.data.product.description }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"descreption\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"descreption\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"tag\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"tag\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"title\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"template test\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"pmrAlq3hgPc4cCvQ\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a24c4e2a-482f-43d4-8c48-927427a430c0\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -1300,\n        520\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"daysInterval\": 0,\n              \"triggerAtHour\": 7\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"3a9d27fa-0840-4fc1-9b67-aad2f89f479b\",\n      \"name\": \"update Curser\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        640,\n        0\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"tracker\": \"cursor\",\n            \"endCursor\": \"={{ $json.data.products.pageInfo.endCursor }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"tracker\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"tracker\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"endCursor\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"endCursor\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"tracker\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 334929034,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Curser\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Shopify Product Sync test\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"pmrAlq3hgPc4cCvQ\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"a7c1f97c-d88f-457d-9213-36300d277f4b\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -540,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"32b5f953-ae6c-4c50-ac47-591880738d0f\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.endCursor }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"23f62f9c-ef85-4e25-9d94-83a1d899ecf8\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        100,\n        540\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let mergedJson = {};\\n\\ntry {\\n    const batch_size = $(\\\"BatchSize\\\").all(0, 0);\\n    if (batch_size.length > 0 && batch_size[0].json) {\\n        Object.assign(mergedJson, batch_size[0].json);\\n    }\\n} catch (error) {\\n    console.log(\\\"BatchSize data not available\\\");\\n}\\n\\nlet endCursorFound = false;\\ntry {\\n    const last_cursor = $(\\\"LastCursor\\\").all(0, 0);\\n    if (last_cursor.length > 0 && last_cursor[0].json) {\\n        Object.assign(mergedJson, last_cursor[0].json);\\n        if (last_cursor[0].json.endCursor) {\\n            mergedJson.endCursor = last_cursor[0].json.endCursor;\\n            endCursorFound = true;\\n        }\\n    }\\n} catch (error) {\\n    console.log(\\\"LastCursor data not available\\\");\\n}\\n\\nif (!endCursorFound) {\\n    try {\\n        const shopify_initial = $(\\\"shopify-initial\\\").all(0, 0);\\n        if (shopify_initial.length > 0 && shopify_initial[0].json && shopify_initial[0].json.data && shopify_initial[0].json.data.products && shopify_initial[0].json.data.products.pageInfo) {\\n            mergedJson.endCursor = shopify_initial[0].json.data.products.pageInfo.endCursor;\\n        }\\n    } catch (error) {\\n        console.log(\\\"Shopify data not available\\\");\\n    }\\n}\\n\\nif (Object.keys(mergedJson).length === 0 || mergedJson.hasOwnProperty('error')) {\\n    return [{ json: { error: \\\"No data available. Ensure relevant nodes have been executed.\\\" } }];\\n}\\n\\nreturn [{ json: mergedJson }];\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f1262f15-757f-4cc2-9453-fed17ad66b56\",\n      \"name\": \"BatchSize\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1080,\n        520\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"batchsize\",\n              \"type\": \"numberValue\",\n              \"numberValue\": \"100\"\n            }\n          ]\n        },\n        \"include\": \"selected\",\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"e885b0e7-e435-40ae-be21-77fd992c3114\",\n      \"name\": \"LastCursor\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -720,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 334929034,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Curser\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1YnGJD7AxV1iiQ-LcxOz3MnTLxGNSC6BBh-2Bh3Yitw0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1I6JnP8ugqmMD5ktJlNB84J1MlSkoCHhAEuCofSa3OSM/edit#gid=0\",\n          \"cachedResultName\": \"Shopify Product Sync test\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"pmrAlq3hgPc4cCvQ\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"ae3cf866-8695-4b63-b631-a6b00e29c7cb\",\n      \"name\": \"shopify-initial\",\n      \"type\": \"n8n-nodes-base.graphql\",\n      \"position\": [\n        -300,\n        380\n      ],\n      \"parameters\": {\n        \"query\": \"=query getProducts($first: Int = 1) {\\n  products(first: $first) {\\n    edges {\\n      node {\\n        title\\n        tags\\n        description\\n        variants(first: 1) {\\n          edges {\\n            node {\\n              price\\n            }\\n          }\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n\",\n        \"endpoint\": \"https://test-store-collection.myshopify.com/admin/api/2024-01/graphql.json\",\n        \"authentication\": \"headerAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"m0Fan0K6zdS2cpQq\",\n          \"name\": \"shopify test store\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8aab80ca-1a54-4d02-a8e8-37d037a12132\",\n      \"name\": \"Check cursor is not empty\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        420,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"329a4250-3fe7-4c73-8918-d41f7b38ff5a\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.data.products.pageInfo.endCursor }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"9e7c2e36-71f6-4fdf-a3b9-8aa3bf02d09b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1500,\n        -400\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 352.8896103896103,\n        \"height\": 295.09740259740255,\n        \"content\": \"该工作流程实现了从Shopify商店到Google Sheets文档的产品数据自动同步，确保无缝管理与追踪。系统通过GraphQL查询从Shopify获取产品标题、标签、描述及价格等详细信息，最终在Google Sheets中生成条理清晰的产品清单，便于随时调取与分析。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fbf62e09-3598-4f5c-b83a-a8b3e5371afb\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1420,\n        340\n      ],\n      \"parameters\": {\n        \"width\": 262.2077922077919,\n        \"height\": 343.21428571428567,\n        \"content\": \"Schedule Trigger: Sets the timing for the automation to run, ensuring regular updates. Currently set to trigger every day at 7:00 AM\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"47abe6ba-a7de-410e-b634-8ad248ec7155\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1140,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 275.1623376623376,\n        \"height\": 411.6883116883117,\n        \"content\": \"BatchSize（批量大小）：定义每次从Shopify获取的产品数量，以优化数据检索效率。当前设置为100，但单次运行时可调整至最高250。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6415976b-5fa5-4cd4-aa86-58eb9749a878\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -820,\n        260\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 275.16233766233773,\n        \"height\": 419.0909090909093,\n        \"content\": \"LastCursor：检查Google Sheets中是否已存在最后的光标数据，以实现增量数据获取。这确保了同步过程无需每次都从头开始，通过从上次中断处继续，从而优化效率。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6a15e240-111e-4c7d-a865-2484a7a6ff0c\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 450.9740259740258,\n        \"height\": 705.941558441558,\n        \"content\": \"Shopify初始节点：从Shopify商店获取初始产品集以启动同步流程。若前一节点未找到游标，此节点将仅运行一次，用于检索游标及首批产品集。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"71640487-d3cf-4ede-8677-093108770720\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -160,\n        560\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 416.49350649350646,\n        \"height\": 402.4350649350655,\n        \"content\": \"此代码节点整合了来自不同数据源（BatchSize、LastCursor及Shopify-initial）的信息，以确保同步流程能高效启动并延续上次中断的位置。它会检查可用数据，并从Google表格中获取最后的光标位置，从而支持增量式数据抓取。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a13069b8-36f9-4604-895e-55c51ae3be2c\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        200\n      ],\n      \"parameters\": {\n        \"width\": 304.7727272727272,\n        \"height\": 330.2597402597403,\n        \"content\": \"“拆分输出”节点充当数据获取与后续处理节点之间的桥梁。由于Shopify节点每次会批量获取100条结果数据，该节点负责将这些批量数据拆分为独立的产品条目，确保每个产品的详细信息都能在后续工作流步骤中实现无缝处理和存储。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8c1401ad-e7be-47a9-b01d-3606b9f20bf0\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1400,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 388.0519480519479,\n        \"height\": 367.27272727272714,\n        \"content\": \"设置游标：更新从Shopify获取下一页产品时的游标位置。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a5d3c62c-1bf3-4bc7-9e2b-1b5883b385d1\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -32.17532467532425,\n        20\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 428.7662337662332,\n        \"height\": 342.79220779220765,\n        \"content\": \"此节点中的GraphQL查询专为提取关键产品详情而设计，包括标题、描述、标签及价格。该查询可根据具体同步需求灵活调整，以获取更多产品信息。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"c640732c-55b5-4f2e-bb64-106c440b0abc\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"shopify-initial\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Shopify get products\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set cursor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"BatchSize\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"LastCursor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"LastCursor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set cursor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Shopify get products\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split output\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"writing remaning product info to google sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"shopify-initial\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"writing first product details\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"BatchSize\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Shopify get products\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split output\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Check cursor is not empty\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check cursor is not empty\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"update Curser\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if there is next page\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"No Operation, do nothing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"writing first product details\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"writing remaning product info to google sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if there is next page\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}