{
  "title": "Upload leads with custom fields from Typeform to Pipedrive",
  "url": "https://n8n.io/workflows/1758-upload-leads-with-custom-fields-from-typeform-to-pipedrive/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-07",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"8c8c5237b8e37b006a7adce87f4369350c58e41f3ca9de16196d3197f69eabcd\"},\"nodes\":[{\"id\":\"7917ccbb-ef43-4784-adb9-7347be1f1e20\",\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[580,560],\"parameters\":{\"values\":{\"string\":[{\"name\":\"company\",\"value\":\"={{$json[\\\"What *company* are you contacting us from?\\\"]}}\"},{\"name\":\"name\",\"value\":\"={{$json[\\\"Let's start with your *first and last name.*\\\"]}}\"},{\"name\":\"email\",\"value\":\"={{$json[\\\"What *email address* can we reach you at?\\\"]}}\"},{\"name\":\"n8nFamiliar\",\"value\":\"={{$json[\\\"How familiar are you with*  n8n*?\\\"]}}\"},{\"name\":\"questions\",\"value\":\"={{$json[\\\"Do you have any *specific questions* about embedding n8n at this stage?\\\"]}}\"},{\"name\":\"employees\",\"value\":\"={{$json[\\\"How many employees?\\\"]}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"c0cc18d0-fdd1-4ef8-aabe-33bd13667c7d\",\"name\":\"Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[540,360],\"parameters\":{\"width\":760,\"height\":440,\"content\":\"## Format Typeform inputs to Pipedrive\\nIn this example, we ask for the number of employees at a company. \\n\\nTo map this to Pipedrive, we need the unique item number coming from Pipedrive for each of these sections. This is what the function node does. \\n\\nIn the Pipedrive: Organization, we map this under the custom property.\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"92646ffb-73fb-4fee-a2b4-5060c7e04b59\",\"name\":\"Create Organization\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1060,560],\"parameters\":{\"name\":\"={{$node[\\\"Map company size\\\"].json[\\\"company\\\"]}}\",\"resource\":\"organization\",\"additionalFields\":{\"customProperties\":{\"property\":[{\"name\":\"eb7a7fb64081a9b9100c0622c696c159330cf3d2\",\"value\":\"={{$node[\\\"Map company size\\\"].json[\\\"pipedriveemployees\\\"]}}\"}]}}},\"credentials\":{\"pipedriveApi\":{\"id\":\"96\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"4c1b7376-cc1f-4974-9110-7e1481e3fdbe\",\"name\":\"Create Person\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1400,560],\"parameters\":{\"name\":\"={{$node[\\\"Map company size\\\"].json[\\\"name\\\"]}}\",\"resource\":\"person\",\"additionalFields\":{\"email\":[\"={{$node[\\\"On form completion\\\"].json[\\\"What *email address* can we reach you at?\\\"]}}\"],\"org_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"96\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"5c463f99-38e0-4c2e-a34c-86fc199b9d1f\",\"name\":\"Create Lead\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1600,560],\"parameters\":{\"title\":\"={{$node[\\\"Map company size\\\"].json[\\\"company\\\"]}} lead\",\"resource\":\"lead\",\"organization_id\":\"={{$node[\\\"Create Organization\\\"].json.id}}\",\"additionalFields\":{\"person_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"96\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"d63383ca-a71e-4384-a3fb-942c25d7fe01\",\"name\":\"Create Note\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1800,560],\"parameters\":{\"content\":\"=Website form submitted\\n\\nQuestion:\\n{{$node[\\\"Map company size\\\"].json[\\\"questions\\\"]}}\\n\\nCompany Size:\\n{{$node[\\\"Set\\\"].json[\\\"employees\\\"]}}\",\"resource\":\"note\",\"additionalFields\":{\"lead_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"96\",\"name\":\"Pipedrive account\"}},\"typeVersion\":1},{\"id\":\"78568df6-1c6b-493d-b186-9f9246de518a\",\"name\":\"On form completion\",\"type\":\"n8n-nodes-base.typeformTrigger\",\"position\":[380,560],\"webhookId\":\"[UPDATE ME]\",\"parameters\":{\"formId\":\"[UPDATE ME]\"},\"credentials\":{\"typeformApi\":{\"id\":\"21\",\"name\":\"Typeform account\"}},\"typeVersion\":1},{\"id\":\"6bc56059-6ae7-48bd-838c-08e717bd6bd4\",\"name\":\"Map company size\",\"type\":\"n8n-nodes-base.code\",\"position\":[820,560],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"switch ($input.item.json.employees) {\\n  case '< 20':\\n  // small\\n    $input.item.json.pipedriveemployees='59' \\n    break;\\n  case '20 - 100':\\n    // medium\\n    $input.item.json.pipedriveemployees='60' \\n    break;\\n  case '101 - 500':\\n    // large\\n    $input.item.json.pipedriveemployees='73' \\n    break;\\n  case '501 - 1000':\\n    // xlarge\\n    $input.item.json.pipedriveemployees='74' \\n    break;\\n  case '1000+':\\n    // Enterprise\\n    $input.item.json.pipedriveemployees='61' \\n    break;\\n}\\nreturn $input.item;\\n\"},\"typeVersion\":1}],\"connections\":{\"Set\":{\"main\":[[{\"node\":\"Map company size\",\"type\":\"main\",\"index\":0}]]},\"Create Lead\":{\"main\":[[{\"node\":\"Create Note\",\"type\":\"main\",\"index\":0}]]},\"Create Person\":{\"main\":[[{\"node\":\"Create Lead\",\"type\":\"main\",\"index\":0}]]},\"Map company size\":{\"main\":[[{\"node\":\"Create Organization\",\"type\":\"main\",\"index\":0}]]},\"On form completion\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]},\"Create Organization\":{\"main\":[[{\"node\":\"Create Person\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This automated workflow takes a Typeform form, and once it is filled out, it is automatically uploaded as a Lead in Pipedrive. There is an option for custom fields (this workflow works with company size), and leaves notes in the note section based on questions answered.\n\n## Prerequisites\n\n  * Typeform account and [Typeform credentials](https://docs.n8n.io/integrations/credentials/typeform/) and a form for people to fill out\n  * Pipedrive account and [Pipedrive credentials](https://docs.n8n.io/integrations/credentials/pipedrive/)\n\n\n\n## Nodes\n\n  * Typeform node gets the data after the survey is completed\n  * Set node extracts data from the Typeform node and keeps only relevant data\n  * Function node maps the company size\n  * Pipedrive node populates a pipeline with a deal and adds custom fields\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This automated workflow takes a Typeform form, and once it is filled out, it is automatically uploaded as a Lead in Pipedrive.  There is an option for custom fields (this workflow works with company size), and leaves notes in the note section based on questions answered.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>Typeform account and <a href=\"https://docs.n8n.io/integrations/credentials/typeform/\" rel=\"ugc nofollow\" target=\"_blank\">Typeform credentials</a> and a form for people to fill out</li>\n<li>Pipedrive account and <a href=\"https://docs.n8n.io/integrations/credentials/pipedrive/\" rel=\"ugc nofollow\" target=\"_blank\">Pipedrive credentials</a></li>\n</ul>\n<h2>Nodes</h2>\n<ul>\n<li>Typeform node gets the data after the survey is completed</li>\n<li>Set node extracts data from the Typeform node and keeps only relevant data</li>\n<li>Function node maps the company size</li>\n<li>Pipedrive node populates a pipeline with a deal and adds custom fields</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "该自动化工作流程通过Typeform表单收集信息，在填写完成后自动将数据作为潜在客户上传至Pipedrive。支持自定义字段配置（本流程适配企业规模字段），并根据问卷回答内容在备注区域生成相应注释。\n\n## 前置条件\n\n  * 已注册Typeform账户并配置[Typeform凭证](https://docs.n8n.io/integrations/credentials/typeform/)，且已创建待填写表单\n  * 已注册Pipedrive账户并配置[Pipedrive凭证](https://docs.n8n.io/integrations/credentials/pipedrive/)\n\n## 节点说明\n\n  * Typeform节点：获取问卷提交后的数据\n  * 设置节点：从Typeform节点提取数据并保留关键字段\n  * 函数节点：实现企业规模字段的映射转换\n  * Pipedrive节点：在销售管道中创建交易记录并添加自定义字段",
  "title_zh": "将带有自定义字段的潜在客户从Typeform上传至Pipedrive",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"8c8c5237b8e37b006a7adce87f4369350c58e41f3ca9de16196d3197f69eabcd\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"7917ccbb-ef43-4784-adb9-7347be1f1e20\",\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        580,\n        560\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"company\",\n              \"value\": \"={{$json[\\\"What *company* are you contacting us from?\\\"]}}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{$json[\\\"Let's start with your *first and last name.*\\\"]}}\"\n            },\n            {\n              \"name\": \"email\",\n              \"value\": \"={{$json[\\\"What *email address* can we reach you at?\\\"]}}\"\n            },\n            {\n              \"name\": \"n8nFamiliar\",\n              \"value\": \"={{$json[\\\"How familiar are you with*  n8n*?\\\"]}}\"\n            },\n            {\n              \"name\": \"questions\",\n              \"value\": \"={{$json[\\\"Do you have any *specific questions* about embedding n8n at this stage?\\\"]}}\"\n            },\n            {\n              \"name\": \"employees\",\n              \"value\": \"={{$json[\\\"How many employees?\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0cc18d0-fdd1-4ef8-aabe-33bd13667c7d\",\n      \"name\": \"Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        360\n      ],\n      \"parameters\": {\n        \"width\": 760,\n        \"height\": 440,\n        \"content\": \"## 将Typeform输入格式化为Pipedrive数据  \\n本示例中，我们询问了公司的员工人数。  \\n\\n为了将这些数据映射到Pipedrive系统，需要获取Pipedrive中对应字段的唯一编号。这正是函数节点所实现的功能。  \\n\\n在Pipedrive的「组织」模块中，我们将此信息映射至自定义属性字段下。  \\n\\n（注：根据技术文档的简洁性要求，省略了部分重复性说明，保留核心操作逻辑。专业术语如\\\"function node\\\"采用业内通用译法\\\"函数节点\\\"，\\\"custom property\\\"译为\\\"自定义属性\\\"以符合CRM系统中文使用习惯。）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"92646ffb-73fb-4fee-a2b4-5060c7e04b59\",\n      \"name\": \"Create Organization\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1060,\n        560\n      ],\n      \"parameters\": {\n        \"name\": \"={{$node[\\\"Map company size\\\"].json[\\\"company\\\"]}}\",\n        \"resource\": \"organization\",\n        \"additionalFields\": {\n          \"customProperties\": {\n            \"property\": [\n              {\n                \"name\": \"eb7a7fb64081a9b9100c0622c696c159330cf3d2\",\n                \"value\": \"={{$node[\\\"Map company size\\\"].json[\\\"pipedriveemployees\\\"]}}\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"96\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4c1b7376-cc1f-4974-9110-7e1481e3fdbe\",\n      \"name\": \"Create Person\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1400,\n        560\n      ],\n      \"parameters\": {\n        \"name\": \"={{$node[\\\"Map company size\\\"].json[\\\"name\\\"]}}\",\n        \"resource\": \"person\",\n        \"additionalFields\": {\n          \"email\": [\n            \"={{$node[\\\"On form completion\\\"].json[\\\"What *email address* can we reach you at?\\\"]}}\"\n          ],\n          \"org_id\": \"={{$json.id}}\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"96\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5c463f99-38e0-4c2e-a34c-86fc199b9d1f\",\n      \"name\": \"Create Lead\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1600,\n        560\n      ],\n      \"parameters\": {\n        \"title\": \"={{$node[\\\"Map company size\\\"].json[\\\"company\\\"]}} lead\",\n        \"resource\": \"lead\",\n        \"organization_id\": \"={{$node[\\\"Create Organization\\\"].json.id}}\",\n        \"additionalFields\": {\n          \"person_id\": \"={{$json.id}}\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"96\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d63383ca-a71e-4384-a3fb-942c25d7fe01\",\n      \"name\": \"Create Note\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1800,\n        560\n      ],\n      \"parameters\": {\n        \"content\": \"=Website form submitted\\n\\nQuestion:\\n{{$node[\\\"Map company size\\\"].json[\\\"questions\\\"]}}\\n\\nCompany Size:\\n{{$node[\\\"Set\\\"].json[\\\"employees\\\"]}}\",\n        \"resource\": \"note\",\n        \"additionalFields\": {\n          \"lead_id\": \"={{$json.id}}\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"96\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"78568df6-1c6b-493d-b186-9f9246de518a\",\n      \"name\": \"On form completion\",\n      \"type\": \"n8n-nodes-base.typeformTrigger\",\n      \"position\": [\n        380,\n        560\n      ],\n      \"webhookId\": \"[UPDATE ME]\",\n      \"parameters\": {\n        \"formId\": \"[UPDATE ME]\"\n      },\n      \"credentials\": {\n        \"typeformApi\": {\n          \"id\": \"21\",\n          \"name\": \"Typeform account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6bc56059-6ae7-48bd-838c-08e717bd6bd4\",\n      \"name\": \"Map company size\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        820,\n        560\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"switch ($input.item.json.employees) {\\n  case '< 20':\\n  // small\\n    $input.item.json.pipedriveemployees='59' \\n    break;\\n  case '20 - 100':\\n    // medium\\n    $input.item.json.pipedriveemployees='60' \\n    break;\\n  case '101 - 500':\\n    // large\\n    $input.item.json.pipedriveemployees='73' \\n    break;\\n  case '501 - 1000':\\n    // xlarge\\n    $input.item.json.pipedriveemployees='74' \\n    break;\\n  case '1000+':\\n    // Enterprise\\n    $input.item.json.pipedriveemployees='61' \\n    break;\\n}\\nreturn $input.item;\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Map company size\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Lead\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Note\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Person\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Lead\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Map company size\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Organization\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On form completion\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Organization\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Person\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}