{
  "title": "Build Lists of Profiles from Any Platform using Airtop and Google Sheets",
  "url": "https://n8n.io/workflows/3479-build-lists-of-profiles-from-any-platform-using-airtop-and-google-sheets/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "Airtop",
  "publish_date": "Last update 18 days ago",
  "publish_date_absolute": "2025-04-19",
  "content": "",
  "workflow_json": "{\"id\":\"VwU1zMhcgzgPS9ak\",\"meta\":{\"instanceId\":\"660cf2c29eb19fa42319afac3bd2a4a74c6354b7c006403f6cba388968b63f5d\",\"templateCredsSetupCompleted\":true},\"name\":\"List Builder\",\"tags\":[{\"id\":\"a8B9vqj0vNLXcKVQ\",\"name\":\"template\",\"createdAt\":\"2025-04-04T15:38:37.785Z\",\"updatedAt\":\"2025-04-04T15:38:37.785Z\"}],\"nodes\":[{\"id\":\"1a6aa574-467d-40b0-a9a5-a5537bede3de\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[0,0],\"parameters\":{},\"typeVersion\":1},{\"id\":\"62db9366-7e6f-4346-9de8-9fa730d059ed\",\"name\":\"Format results\",\"type\":\"n8n-nodes-base.code\",\"position\":[660,0],\"parameters\":{\"jsCode\":\"// Get first input item\\nconst input = $input.first().json.data.modelResponse\\n// Parse list of links\\nconst listOfLinks = JSON.parse(input).results\\n// Format node's output\\nconst output = listOfLinks.map((item) => ({\\n  json: { url: item.url }\\n}))\\n\\nreturn output;\"},\"typeVersion\":2},{\"id\":\"fa960de3-8dd6-40a3-aa59-634ad250f5d1\",\"name\":\"Get urls\",\"type\":\"n8n-nodes-base.airtop\",\"position\":[440,0],\"parameters\":{\"url\":\"=https://www.google.com/search?q={{ encodeURI($json.who+' on ' + $json.where) }}\",\"prompt\":\"=Those are search results, return up to 10 non-sponsored results that lead to a web page with a list of {{$json.who}} on {{$json.where}}. For each return the title and URL.\",\"resource\":\"extraction\",\"operation\":\"query\",\"sessionMode\":\"new\",\"additionalFields\":{\"outputSchema\":\"{  \\\"type\\\": \\\"object\\\",  \\\"properties\\\": {    \\\"results\\\": {      \\\"type\\\": \\\"array\\\",      \\\"items\\\": {        \\\"type\\\": \\\"object\\\",        \\\"properties\\\": {          \\\"title\\\": {            \\\"type\\\": \\\"string\\\",            \\\"description\\\": \\\"The title of the search result.\\\"          },          \\\"url\\\": {            \\\"type\\\": \\\"string\\\",            \\\"description\\\": \\\"The URL of the webpage.\\\"          }        },        \\\"required\\\": [          \\\"title\\\",          \\\"url\\\"        ],        \\\"additionalProperties\\\": false      },      \\\"description\\\": \\\"A list of up to 10 non-sponsored search results.\\\"    }  },  \\\"required\\\": [    \\\"results\\\"  ],  \\\"additionalProperties\\\": false,  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\"}\"}},\"credentials\":{\"airtopApi\":{\"id\":\"byhouJF8RLH5DkmY\",\"name\":\"Airtop\"}},\"typeVersion\":1},{\"id\":\"d75dbdce-7a7e-4a30-81b0-6e8fa5221f55\",\"name\":\"Get people\",\"type\":\"n8n-nodes-base.airtop\",\"position\":[880,0],\"parameters\":{\"url\":\"={{ $json.url }}\",\"prompt\":\"=This is a list of {{ $('Parameters').item.json.who }} on {{ $('Parameters').item.json.where }}.\\nExtract up to 20 items. For each person extract: \\n- name \\n- handle or ID \\n- URL\",\"resource\":\"extraction\",\"operation\":\"query\",\"sessionMode\":\"new\",\"additionalFields\":{\"outputSchema\":\"{\\n  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\",\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"items\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"name\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The name of the item.\\\"\\n          },\\n          \\\"identifier\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The unique identifier or handle for the item.\\\"\\n          },\\n          \\\"url\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The URL to access the item or its related resource.\\\"\\n          }\\n        },\\n        \\\"required\\\": [\\n          \\\"name\\\",\\n          \\\"identifier\\\",\\n          \\\"url\\\"\\n        ],\\n        \\\"additionalProperties\\\": false\\n      }\\n    }\\n  },\\n  \\\"required\\\": [\\n    \\\"items\\\"\\n  ],\\n  \\\"additionalProperties\\\": false\\n}\"}},\"credentials\":{\"airtopApi\":{\"id\":\"byhouJF8RLH5DkmY\",\"name\":\"Airtop\"}},\"typeVersion\":1},{\"id\":\"285ce6af-bda8-4025-872e-f5f8c4a56b3c\",\"name\":\"Dedupe results\",\"type\":\"n8n-nodes-base.code\",\"position\":[1100,0],\"parameters\":{\"jsCode\":\"const allResults = []\\n\\nfor (const inputItem of $input.all()) {\\n  // Parse input to JSON\\n  const input = inputItem.json.data.modelResponse\\n  const results = JSON.parse(input).items\\n  // clean results\\n  const cleanedResults = results\\n    .filter((res) => res.name) // only those with name\\n    .map((res) => ({\\n      ...res,\\n      url: res.url.split('?')[0] // clean url\\n    }))\\n  // add results to list\\n  allResults.push(...cleanedResults)\\n}\\n\\n// Dedupe urls\\nconst uniqueList = allResults.filter((item, index, self) =>\\n  index === self.findIndex((t) => (t.url === item.url))\\n);\\n\\nreturn uniqueList.map((item) => ({\\n  json: {...item}\\n}));\"},\"typeVersion\":2},{\"id\":\"fdc86d5c-4df3-48b9-9cf6-a5ddc3b45c90\",\"name\":\"Add to spreadsheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1320,0],\"parameters\":{\"columns\":{\"value\":{\"URL\":\"={{ $json.url }}\",\"Name\":\"={{ $json.name }}\",\"Who?\":\"={{ $('Parameters').first().json.who }}\",\"Where?\":\"={{ $('Parameters').first().json.where }}\",\"Added on\":\"={{ $now }}\",\"ID or Handle\":\"={{ $json.identifier }}\"},\"schema\":[{\"id\":\"Who?\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Who?\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Where?\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Where?\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Name\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"ID or Handle\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"ID or Handle\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"URL\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Added on\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Added on\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit#gid=0\",\"cachedResultName\":\"Sheet1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit?usp=drivesdk\",\"cachedResultName\":\"List Builder\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"CwpCAR1HwgHZpRtJ\",\"name\":\"Google Drive\"}},\"typeVersion\":4.5},{\"id\":\"44c54497-741c-4c48-b4f9-0c5c836d10ad\",\"name\":\"Parameters\",\"type\":\"n8n-nodes-base.set\",\"position\":[220,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"bc2d3cb9-b7d0-4c3f-b392-53262d60441e\",\"name\":\"who\",\"type\":\"string\",\"value\":\"Top \\\"Build in Public\\\" influencers\"},{\"id\":\"b2cfa361-c80a-4945-bc0e-23eac5edebd6\",\"name\":\"where\",\"type\":\"string\",\"value\":\"X\"}]}},\"typeVersion\":3.4}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"a2572aec-54cb-4bbb-b503-09d1d0beb64f\",\"connections\":{\"Get urls\":{\"main\":[[{\"node\":\"Format results\",\"type\":\"main\",\"index\":0}]]},\"Get people\":{\"main\":[[{\"node\":\"Dedupe results\",\"type\":\"main\",\"index\":0}]]},\"Parameters\":{\"main\":[[{\"node\":\"Get urls\",\"type\":\"main\",\"index\":0}]]},\"Dedupe results\":{\"main\":[[{\"node\":\"Add to spreadsheet\",\"type\":\"main\",\"index\":0}]]},\"Format results\":{\"main\":[[{\"node\":\"Get people\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Parameters\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### About The List Building Automation\n\nThis automation will guide you on how to automate list building using Airtop. You’ll have a streamlined workflow that can reduce your research time by up to 90% while improving the accuracy of your target lists.\n\n### How to automate list building\n\nIt can be challenging to spend too much time on tasks like compiling lists of potential investors, customers, job candidates, industry influencers, or key decision-makers. Verifying contact details often requires significant effort, whether building an outreach list, tracking thought leaders, or researching potential customers. Not anymore. With Airtop's List Building Automation, turn hours of tedious research into clean, reliable and accurate lists, built in just minutes.\n\nCheck this out:\n\n![list_building_demo.gif](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/list_building_demo_4e5331e71a.gif)\n\n### What You'll Need\n\n  * A free [Airtop API Key](https://portal.airtop.ai/?utm_campaign=n8n)\n  * Target audience parameters (persona and which network. i.e. \"AI Influencers on LinkedIn)\n  * Make a copy of [this template](https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit?usp=sharing) to start\n\n\n\n### Understanding the Process\n\nThis automation leverages Airtop's advanced data processing capabilities powered by AI to scan multiple unstructured sources and compile accurate, targeted lists based on your specific requirements. The magic lies in its ability to understand context and verify information across different platforms.\n\nThis workflow:\n\n  * Handles multi-source data collection and consolidation\n  * Manages automatic verification of social profiles and domains\n  * Automates the filtering and ranking of results based on relevance\n\n\n\n### Setting Up Your Automation\n\n  1. Enter your search criteria in the \"Parameters\" node: \n     * Who: Your target audience (e.g., \"Angel investors in Europe,\" \"Top AI influencers\")\n     * Where: The platform or domain to focus on (e.g., \"LinkedIn,\" \"TikTok\")\n  2. Configure your Airtop API Key \n     * Create one for free at the [Airtop Portal](https://portal.airtop.ai/api-keys)\n  3. In the last node, select the spreadsheet that you copied earlier\n  4. Run the workflow\n\n\n\n### Customization Options\n\nWhile our template works out of the box, you might want to customize it for your specific needs:\n\n  * Add custom filtering criteria for more targeted results\n  * Implement automatic data enrichment from additional sources\n  * Set up automatic exports to your preferred CRM or database\n\n\n\n### Real-World Applications\n\nHere's how businesses can use this automation:\n\n**A VC firm** could use this automation to build a comprehensive EU angel investors database. What previously required their analysts to work 15 hours per week now runs automatically in the background, providing fresh leads daily.\n\n**A PR agency** could automate its influencer discovery process across multiple platforms, reducing its research time from 10 hours to 30 minutes per client while increasing the relevance of its outreach lists.\n\n### Best Practices\n\nTo get the most out of this automation:\n\n  * Start with specific, well-defined parameters to ensure relevant results\n  * Regularly update your parameters to keep your lists fresh and relevant\n  * Combine multiple runs with different parameters for comprehensive coverage\n\n\n\n### What's Next?\n\nNow that you've automated your list building, you might be interested in:\n\n  * Setting up automated outreach sequences\n  * Creating dynamic lead scoring systems\n  * Implementing automatic list updating and maintenance\n\n\n\nHappy automating!\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h3>About The List Building Automation</h3>\n<p>This automation will guide you on how to automate list building using Airtop. You’ll have a streamlined workflow that can reduce your research time by up to 90% while improving the accuracy of your target lists.</p>\n<h3>How to automate list building</h3>\n<p>It can be challenging to spend too much time on tasks like compiling lists of potential investors, customers, job candidates, industry influencers, or key decision-makers. Verifying contact details often requires significant effort, whether building an outreach list, tracking thought leaders, or researching potential customers. Not anymore. With Airtop's List Building Automation, turn hours of tedious research into clean, reliable and accurate lists, built in just minutes.</p>\n<p>Check this out:</p>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/list_building_demo_4e5331e71a.gif\" alt=\"list_building_demo.gif\"></p>\n<h3>What You'll Need</h3>\n<ul>\n<li>A free <a href=\"https://portal.airtop.ai/?utm_campaign=n8n\" rel=\"ugc nofollow\" target=\"_blank\">Airtop API Key</a></li>\n<li>Target audience parameters (persona and which network. i.e. \"AI Influencers on LinkedIn)</li>\n<li>Make a copy of <a href=\"https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit?usp=sharing\" rel=\"ugc nofollow\" target=\"_blank\">this template</a> to start</li>\n</ul>\n<h3>Understanding the Process</h3>\n<p>This automation leverages Airtop's advanced data processing capabilities powered by AI to scan multiple unstructured sources and compile accurate, targeted lists based on your specific requirements. The magic lies in its ability to understand context and verify information across different platforms.</p>\n<p>This workflow:</p>\n<ul>\n<li>Handles multi-source data collection and consolidation</li>\n<li>Manages automatic verification of social profiles and domains</li>\n<li>Automates the filtering and ranking of results based on relevance</li>\n</ul>\n<h3>Setting Up Your Automation</h3>\n<ol>\n<li>Enter your search criteria in the \"Parameters\" node:\n<ul>\n<li>Who: Your target audience (e.g., \"Angel investors in Europe,\" \"Top AI influencers\")</li>\n<li>Where: The platform or domain to focus on (e.g., \"LinkedIn,\" \"TikTok\")</li>\n</ul>\n</li>\n<li>Configure your Airtop API Key\n<ul>\n<li>Create one for free at the <a href=\"https://portal.airtop.ai/api-keys\" rel=\"ugc nofollow\" target=\"_blank\">Airtop Portal</a></li>\n</ul>\n</li>\n<li>In the last node, select the spreadsheet that you copied earlier</li>\n<li>Run the workflow</li>\n</ol>\n<h3>Customization Options</h3>\n<p>While our template works out of the box, you might want to customize it for your specific needs:</p>\n<ul>\n<li>Add custom filtering criteria for more targeted results</li>\n<li>Implement automatic data enrichment from additional sources</li>\n<li>Set up automatic exports to your preferred CRM or database</li>\n</ul>\n<h3>Real-World Applications</h3>\n<p>Here's how businesses can use this automation:</p>\n<p><strong>A VC firm</strong> could use this automation to build a comprehensive EU angel investors database. What previously required their analysts to work 15 hours per week now runs automatically in the background, providing fresh leads daily.</p>\n<p><strong>A PR agency</strong> could automate its influencer discovery process across multiple platforms, reducing its research time from 10 hours to 30 minutes per client while increasing the relevance of its outreach lists.</p>\n<h3>Best Practices</h3>\n<p>To get the most out of this automation:</p>\n<ul>\n<li>Start with specific, well-defined parameters to ensure relevant results</li>\n<li>Regularly update your parameters to keep your lists fresh and relevant</li>\n<li>Combine multiple runs with different parameters for comprehensive coverage</li>\n</ul>\n<h3>What's Next?</h3>\n<p>Now that you've automated your list building, you might be interested in:</p>\n<ul>\n<li>Setting up automated outreach sequences</li>\n<li>Creating dynamic lead scoring systems</li>\n<li>Implementing automatic list updating and maintenance</li>\n</ul>\n<p>Happy automating!</p>\n</div><!--]-->",
  "readme_zh": "### 关于列表构建自动化\n\n本自动化方案将指导您如何利用Airtop实现列表构建自动化。这套标准化工作流程可帮助您将调研时间缩短高达90%，同时提升目标名单的精准度。\n\n### 如何实现列表自动化构建\n\n编制潜在投资者、客户、求职者、行业意见领袖或关键决策者名单往往耗时费力。无论是建立外联名单、追踪思想领袖，还是调研潜在客户，核实联系信息通常需要投入大量精力。现在，通过Airtop的列表构建自动化功能，您只需几分钟即可将数小时的枯燥调研转化为整洁、可靠且精准的名单。\n\n效果演示：\n\n![list_building_demo.gif](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/list_building_demo_4e5331e71a.gif)\n\n### 准备工作\n\n* 免费获取[Airtop API密钥](https://portal.airtop.ai/?utm_campaign=n8n)\n* 设定目标受众参数（人物画像及社交网络，如\"领英上的AI领域意见领袖\"）\n* 复制[本模板](https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit?usp=sharing)作为起点\n\n### 流程解析\n\n本自动化方案运用Airtop基于AI的先进数据处理能力，通过扫描多个非结构化数据源，根据您的具体需求编制精准的目标名单。其核心技术在于跨平台语境理解与信息核验能力。\n\n该工作流具备：\n* 多源数据采集与整合功能\n* 社交资料与域名自动验证机制\n* 基于相关性的自动化结果筛选与排序\n\n### 自动化设置步骤\n\n1. 在\"参数\"节点输入搜索条件：\n   * 目标对象：如\"欧洲天使投资人\"、\"顶尖AI意见领袖\"\n   * 平台范围：如\"领英\"、\"TikTok\"\n2. 配置Airtop API密钥：\n   * 前往[Airtop门户](https://portal.airtop.ai/api-keys)免费创建\n3. 在末端节点选择您复制的电子表格\n4. 运行工作流\n\n### 自定义选项\n\n模板开箱即用，您也可根据需求定制：\n* 添加自定义筛选条件获取更精准结果\n* 对接其他数据源实现自动信息补充\n* 设置自动导出至您惯用的CRM系统或数据库\n\n### 实际应用场景\n\n**风投机构**：用于构建欧盟天使投资人数据库。原本需要分析师每周工作15小时的任务，现在后台自动运行，每日提供新鲜线索。\n\n**公关公司**：实现跨平台意见领袖自动发掘，将单客户调研时间从10小时压缩至30分钟，同时提升外联名单的相关性。\n\n### 最佳实践建议\n\n* 初始设置具体明确的参数以确保结果相关性\n* 定期更新参数保持名单时效性\n* 组合不同参数的多次运行实现全面覆盖\n\n### 后续拓展方向\n\n完成列表自动化构建后，您还可以：\n* 建立自动化外联序列\n* 创建动态线索评分系统\n* 实施名单自动更新维护机制\n\n祝您自动化之旅顺利！",
  "title_zh": "使用Airtop和Google Sheets从任何平台构建个人资料列表",
  "publish_date_zh": "上次更新于18天前",
  "workflow_json_zh": "{\n  \"id\": \"VwU1zMhcgzgPS9ak\",\n  \"meta\": {\n    \"instanceId\": \"660cf2c29eb19fa42319afac3bd2a4a74c6354b7c006403f6cba388968b63f5d\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"List Builder\",\n  \"tags\": [\n    {\n      \"id\": \"a8B9vqj0vNLXcKVQ\",\n      \"name\": \"template\",\n      \"createdAt\": \"2025-04-04T15:38:37.785Z\",\n      \"updatedAt\": \"2025-04-04T15:38:37.785Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"1a6aa574-467d-40b0-a9a5-a5537bede3de\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"62db9366-7e6f-4346-9de8-9fa730d059ed\",\n      \"name\": \"Format results\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        660,\n        0\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Get first input item\\nconst input = $input.first().json.data.modelResponse\\n// Parse list of links\\nconst listOfLinks = JSON.parse(input).results\\n// Format node's output\\nconst output = listOfLinks.map((item) => ({\\n  json: { url: item.url }\\n}))\\n\\nreturn output;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fa960de3-8dd6-40a3-aa59-634ad250f5d1\",\n      \"name\": \"Get urls\",\n      \"type\": \"n8n-nodes-base.airtop\",\n      \"position\": [\n        440,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"=https://www.google.com/search?q={{ encodeURI($json.who+' on ' + $json.where) }}\",\n        \"prompt\": \"=Those are search results, return up to 10 non-sponsored results that lead to a web page with a list of {{$json.who}} on {{$json.where}}. For each return the title and URL.\",\n        \"resource\": \"extraction\",\n        \"operation\": \"query\",\n        \"sessionMode\": \"new\",\n        \"additionalFields\": {\n          \"outputSchema\": \"{  \\\"type\\\": \\\"object\\\",  \\\"properties\\\": {    \\\"results\\\": {      \\\"type\\\": \\\"array\\\",      \\\"items\\\": {        \\\"type\\\": \\\"object\\\",        \\\"properties\\\": {          \\\"title\\\": {            \\\"type\\\": \\\"string\\\",            \\\"description\\\": \\\"The title of the search result.\\\"          },          \\\"url\\\": {            \\\"type\\\": \\\"string\\\",            \\\"description\\\": \\\"The URL of the webpage.\\\"          }        },        \\\"required\\\": [          \\\"title\\\",          \\\"url\\\"        ],        \\\"additionalProperties\\\": false      },      \\\"description\\\": \\\"A list of up to 10 non-sponsored search results.\\\"    }  },  \\\"required\\\": [    \\\"results\\\"  ],  \\\"additionalProperties\\\": false,  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\"}\"\n        }\n      },\n      \"credentials\": {\n        \"airtopApi\": {\n          \"id\": \"byhouJF8RLH5DkmY\",\n          \"name\": \"Airtop\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d75dbdce-7a7e-4a30-81b0-6e8fa5221f55\",\n      \"name\": \"Get people\",\n      \"type\": \"n8n-nodes-base.airtop\",\n      \"position\": [\n        880,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"prompt\": \"=This is a list of {{ $('Parameters').item.json.who }} on {{ $('Parameters').item.json.where }}.\\nExtract up to 20 items. For each person extract: \\n- name \\n- handle or ID \\n- URL\",\n        \"resource\": \"extraction\",\n        \"operation\": \"query\",\n        \"sessionMode\": \"new\",\n        \"additionalFields\": {\n          \"outputSchema\": \"{\\n  \\\"$schema\\\": \\\"http://json-schema.org/draft-07/schema#\\\",\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"items\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"name\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The name of the item.\\\"\\n          },\\n          \\\"identifier\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The unique identifier or handle for the item.\\\"\\n          },\\n          \\\"url\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"The URL to access the item or its related resource.\\\"\\n          }\\n        },\\n        \\\"required\\\": [\\n          \\\"name\\\",\\n          \\\"identifier\\\",\\n          \\\"url\\\"\\n        ],\\n        \\\"additionalProperties\\\": false\\n      }\\n    }\\n  },\\n  \\\"required\\\": [\\n    \\\"items\\\"\\n  ],\\n  \\\"additionalProperties\\\": false\\n}\"\n        }\n      },\n      \"credentials\": {\n        \"airtopApi\": {\n          \"id\": \"byhouJF8RLH5DkmY\",\n          \"name\": \"Airtop\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"285ce6af-bda8-4025-872e-f5f8c4a56b3c\",\n      \"name\": \"Dedupe results\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1100,\n        0\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const allResults = []\\n\\nfor (const inputItem of $input.all()) {\\n  // Parse input to JSON\\n  const input = inputItem.json.data.modelResponse\\n  const results = JSON.parse(input).items\\n  // clean results\\n  const cleanedResults = results\\n    .filter((res) => res.name) // only those with name\\n    .map((res) => ({\\n      ...res,\\n      url: res.url.split('?')[0] // clean url\\n    }))\\n  // add results to list\\n  allResults.push(...cleanedResults)\\n}\\n\\n// Dedupe urls\\nconst uniqueList = allResults.filter((item, index, self) =>\\n  index === self.findIndex((t) => (t.url === item.url))\\n);\\n\\nreturn uniqueList.map((item) => ({\\n  json: {...item}\\n}));\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fdc86d5c-4df3-48b9-9cf6-a5ddc3b45c90\",\n      \"name\": \"Add to spreadsheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1320,\n        0\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"URL\": \"={{ $json.url }}\",\n            \"Name\": \"={{ $json.name }}\",\n            \"Who?\": \"={{ $('Parameters').first().json.who }}\",\n            \"Where?\": \"={{ $('Parameters').first().json.where }}\",\n            \"Added on\": \"={{ $now }}\",\n            \"ID or Handle\": \"={{ $json.identifier }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Who?\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Who?\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Where?\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Where?\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"ID or Handle\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"ID or Handle\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Added on\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Added on\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/150eh4t5GyEBN_TcO5TDeNWpE2GzHR4hQWoNRbUpw7A0/edit?usp=drivesdk\",\n          \"cachedResultName\": \"List Builder\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"CwpCAR1HwgHZpRtJ\",\n          \"name\": \"Google Drive\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"44c54497-741c-4c48-b4f9-0c5c836d10ad\",\n      \"name\": \"Parameters\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        220,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"bc2d3cb9-b7d0-4c3f-b392-53262d60441e\",\n              \"name\": \"who\",\n              \"type\": \"string\",\n              \"value\": \"Top \\\"Build in Public\\\" influencers\"\n            },\n            {\n              \"id\": \"b2cfa361-c80a-4945-bc0e-23eac5edebd6\",\n              \"name\": \"where\",\n              \"type\": \"string\",\n              \"value\": \"X\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"a2572aec-54cb-4bbb-b503-09d1d0beb64f\",\n  \"connections\": {\n    \"Get urls\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get people\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Dedupe results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Parameters\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get urls\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Dedupe results\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add to spreadsheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format results\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get people\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Parameters\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}