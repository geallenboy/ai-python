{
  "title": "Custom Deal Recommendations by Email using Forms, Bright Data & GPT-4o-mini",
  "url": "https://n8n.io/workflows/3304-custom-deal-recommendations-by-email-using-forms-bright-data-and-gpt-4o-mini/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "Miquel Colomer",
  "publish_date": "Last update a month ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"b1f85eae352fde76d801a1a612661df6824cc2e68bfd6741e31305160a737e6e\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"a85eff80-4330-4bd8-acd9-9bf6e0b67c59\",\"name\":\"Get MediaMarkt Offers Website\",\"type\":\"n8n-nodes-brightdata.brightData\",\"position\":[40,-160],\"parameters\":{\"url\":\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\",\"zone\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"web_unlocker1\",\"cachedResultName\":\"web_unlocker1\"},\"format\":\"json\",\"country\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"es\",\"cachedResultName\":\"es\"},\"requestOptions\":{}},\"credentials\":{\"brightdataApi\":{\"id\":\"jk945kIuAFAo9bcg\",\"name\":\"BrightData account\"}},\"typeVersion\":1},{\"id\":\"d27b03e0-b0f1-4c76-b68e-d716391c71da\",\"name\":\"Create HTML for Email\",\"type\":\"n8n-nodes-document-generator.documentGenerator\",\"position\":[60,100],\"parameters\":{\"template\":\"<br>\\nThese are our recommended deals today:<br>\\n<ul>\\n{{#each items}}\\n<li>{{category}}: <a href=\\\"https://www.bestbuy.com{{link}}\\\">{{name}}</a> for {{price}}â‚¬</li>\\n{{/each}}\\n</ul>\\n<br>\",\"oneTemplate\":true},\"typeVersion\":1},{\"id\":\"d47ee04f-c1c5-4aac-a615-aa68f5a2d6cd\",\"name\":\"Extract items from results\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-140,100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"message.content.results\"},\"typeVersion\":1},{\"id\":\"34df63de-9b0d-4245-8f87-3654cab0c17e\",\"name\":\"Notify End User by Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[280,100],\"webhookId\":\"626001db-5451-4225-bf98-cd74c3952754\",\"parameters\":{\"html\":\"=Hi!\\n<br>\\n{{ $json.text }}\\n\\nBest,\\n<br>\\nThe n8nhackers team!\",\"options\":{},\"subject\":\"Your last deals!\",\"toEmail\":\"={{ $('When User Completes Form').first().json.Email}}\",\"fromEmail\":\"deals@n8nhackers.com\"},\"credentials\":{\"smtp\":{\"id\":\"z3kiLWNZTH4wQaGy\",\"name\":\"SMTP account\"}},\"typeVersion\":2.1},{\"id\":\"fbbd7e95-d972-401a-9aca-8015a1acf553\",\"name\":\"Show Form Results Page\",\"type\":\"n8n-nodes-base.form\",\"position\":[480,100],\"webhookId\":\"a67843b4-3ab9-427b-8e52-dfc42831065d\",\"parameters\":{\"options\":{},\"operation\":\"completion\",\"completionTitle\":\"Our recommended deals!\",\"completionMessage\":\"=We have sent {{ $('Extract items from results').all().length }} recommended deals to your email!\"},\"typeVersion\":1},{\"id\":\"e03ebc2b-db42-4a8d-8758-b3d988c4b943\",\"name\":\"Extract Body and Title from Website\",\"type\":\"n8n-nodes-base.html\",\"position\":[240,-160],\"parameters\":{\"options\":{\"trimValues\":true},\"operation\":\"extractHtmlContent\",\"dataPropertyName\":\"body\",\"extractionValues\":{\"values\":[{\"key\":\"title\",\"cssSelector\":\"title\"},{\"key\":\"body\",\"cssSelector\":\"body\"}]}},\"typeVersion\":1.2},{\"id\":\"74b0dcd7-d833-452c-82fe-98a21bd39d12\",\"name\":\"Generate List of Deals by Category\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-520,100],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"role\":\"system\",\"content\":\"Generate a list of recommended deals in json list. Classify items by category. Generate the next properties: name, description, price, link and category. All properties will be in a property called: results. Translate texts to english if required.\"},{\"content\":\"=The input text is:\\n{{ $json.body }}\"},{\"content\":\"=Categories to filter: {{ $('When User Completes Form').item.json.Category.join(',') }}\"}]},\"jsonOutput\":true},\"credentials\":{\"openAiApi\":{\"id\":\"oKzfvOwieOm4upQ2\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"a1095cea-6adc-4cf9-93fe-3a67dc061276\",\"name\":\"When User Completes Form\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-180,-160],\"webhookId\":\"33e8f7c3-82fb-4339-9c91-4b19aa6c14ba\",\"parameters\":{\"options\":{\"path\":\"get-top-deals\",\"ignoreBots\":true,\"buttonLabel\":\"Get Deals\"},\"formTitle\":\"Top deals\",\"formFields\":{\"values\":[{\"fieldType\":\"dropdown\",\"fieldLabel\":\"Category\",\"multiselect\":true,\"fieldOptions\":{\"values\":[{\"option\":\"Appliances\"},{\"option\":\"Cameras, CamCorders & Drones\"},{\"option\":\"Car Electronics \"},{\"option\":\"Cell Phones\"},{\"option\":\"Computers & Tablets\"},{\"option\":\"TV & Home Theater\"},{\"option\":\"Video Games\"}]},\"requiredField\":true},{\"fieldType\":\"email\",\"fieldLabel\":\"Email\",\"placeholder\":\"Complete your email\",\"requiredField\":true}]},\"responseMode\":\"lastNode\",\"formDescription\":\"This form returns top deals by your preferences in the same page.\\n\\nYou can schedule your future deals once per day at the end of this test.\"},\"typeVersion\":2.2}],\"pinData\":{},\"connections\":{\"Create HTML for Email\":{\"main\":[[{\"node\":\"Notify End User by Email\",\"type\":\"main\",\"index\":0}]]},\"Notify End User by Email\":{\"main\":[[{\"node\":\"Show Form Results Page\",\"type\":\"main\",\"index\":0}]]},\"When User Completes Form\":{\"main\":[[{\"node\":\"Get MediaMarkt Offers Website\",\"type\":\"main\",\"index\":0}]]},\"Extract items from results\":{\"main\":[[{\"node\":\"Create HTML for Email\",\"type\":\"main\",\"index\":0}]]},\"Get MediaMarkt Offers Website\":{\"main\":[[{\"node\":\"Extract Body and Title from Website\",\"type\":\"main\",\"index\":0}]]},\"Generate List of Deals by Category\":{\"main\":[[{\"node\":\"Extract items from results\",\"type\":\"main\",\"index\":0}]]},\"Extract Body and Title from Website\":{\"main\":[[{\"node\":\"Generate List of Deals by Category\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png)\n\nThis **n8n workflow template** automates the process of collecting and delivering the **\"Top Deals of the Day\" from MediaMarkt** , tailored to user preferences. By combining **user-submitted forms** , **Bright Data web scraping** , **GPT-4o-mini deal generation** , and **email delivery** , this workflow sends **personalized product recommendations** straight to a userâ€™s inbox.\n\n> âš ï¸ _Note: This workflow uses community nodes (Bright Data and Document Generator) which only work on**self-hosted n8n instances**_.\n\n* * *\n\n### ğŸš€ **What It Does**\n\n  * Collects user preferences via a form (categories + email)\n  * Scrapes MediaMarktâ€™s deals page using Bright Data\n  * Uses GPT-4o-mini (OpenAI) to recommend top deals\n  * Generates a structured HTML email using a template\n  * Sends the personalized deals directly via email\n\n\n\n* * *\n\n### ğŸ§© **Community Node Integration**\n\nWe created and used the following community nodes:\n\n  * **[Bright Data](https://www.npmjs.com/package/n8n-nodes-brightdata)** â€“ To scrape MediaMarkt deals using proxy-based scraping\n  * **[Document Generator](https://www.npmjs.com/package/n8n-nodes-document-generator)** â€“ To generate a templated HTML document from deal data\n\n\n\nThese nodes are **not available in n8n Cloud** and require **self-hosted n8n**.\n\n* * *\n\n### ğŸ› ï¸ **Step-by-Step Setup**\n\n  1. **Install Community Nodes**  \nMake sure you're on a self-hosted n8n instance. Install:\n\n     * `n8n-nodes-brightdata`\n     * `n8n-nodes-document-generator`\n  2. **Configure Credentials**\n\n     * **Bright Data API Key** (Proxy + Scraping setup)\n     * **OpenAI API Key** (GPT-4o-mini access)\n     * **SMTP Credentials** for sending emails\n  3. **Customize the Form**  \nAdapt the form node to collect desired categories and email addresses. Typical categories include appliances, phones, laptops, etc.\n\n  4. **Design Your HTML Template**  \nIn the Document Generator node, you can tweak the HTML/CSS to change how deals appear in the final email.\n\n  5. **Test the Workflow**  \nSubmit the form with test data and check that the entire flowâ€”from scraping to emailâ€”executes as expected.\n\n\n\n\n* * *\n\n### ğŸ§  **How It Works: Workflow Overview**\n\n  1. **User Interaction via Form**  \nUsers select product categories and enter their email. This triggers the workflow.\n\n  2. **Data Extraction via Bright Data**  \nBright Data scrapes the [MediaMarkt offers page](https://www.mediamarkt.es/es/campaign/campanas-y-ofertas) and returns HTML content.\n\n  3. **HTML Parsing**  \nKey elements like product names, prices, and links are extracted for processing.\n\n  4. **GPT-4o-mini Recommendation Generation**  \nThe extracted data is sent to OpenAI (GPT-4o-mini), which filters, ranks, and enhances deals based on the userâ€™s preferences.\n\n  5. **Data Structuring & Split**  \nThe result is split into individual deal items to be formatted.\n\n  6. **HTML Document Creation**  \nDocument Generator populates a clean HTML template with the top recommended deals.\n\n  7. **Email Delivery**  \nThe final document is emailed via SMTP to the user with a friendly message.\n\n\n\n\n* * *\n\n### ğŸ“¨ **Final Output**\n\nUsers receive a **custom HTML email** featuring a curated list of top MediaMarkt deals based on their selected categories.\n\n* * *\n\n### ğŸ” **Credentials Used**\n\n  * **Bright Data API** â€“ Web scraping with proxy support\n  * **OpenAI API** â€“ Generating personalized recommendations\n  * **SMTP** â€“ Sending personalized deal emails\n\n\n\n* * *\n\n### âœ¨ **Customization Tips**\n\n  * **Change the Data Source** : You can adapt this to scrape other e-commerce sites.\n  * **Update the Email Template** : Make it match your branding or include images.\n  * **Extend the Form** : Add preferences like price range or specific brands.\n  * **Add Scheduling** : Use Cron to run the workflow daily or weekly.\n\n\n\n* * *\n\n### â“Questions?\n\nTemplate and node created by [**Miquel Colomer**](https://www.linkedin.com/in/miquelcolomersalas/) and [**n8nhackers.com**](https://n8nhackers.com).\n\nNeed help customizing or deploying? [**Contact us**](mailto:contact@n8nhackers.com) for consulting and support.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png\" alt=\"image.png\"></p>\n<p>This <strong>n8n workflow template</strong> automates the process of collecting and delivering the <strong>\"Top Deals of the Day\" from MediaMarkt</strong>, tailored to user preferences. By combining <strong>user-submitted forms</strong>, <strong>Bright Data web scraping</strong>, <strong>GPT-4o-mini deal generation</strong>, and <strong>email delivery</strong>, this workflow sends <strong>personalized product recommendations</strong> straight to a userâ€™s inbox.</p>\n<blockquote>\n<p>âš ï¸ <em>Note: This workflow uses community nodes (Bright Data and Document Generator) which only work on <strong>self-hosted n8n instances</strong></em>.</p>\n</blockquote>\n<hr>\n<h3>ğŸš€ <strong>What It Does</strong></h3>\n<ul>\n<li>Collects user preferences via a form (categories + email)</li>\n<li>Scrapes MediaMarktâ€™s deals page using Bright Data</li>\n<li>Uses GPT-4o-mini (OpenAI) to recommend top deals</li>\n<li>Generates a structured HTML email using a template</li>\n<li>Sends the personalized deals directly via email</li>\n</ul>\n<hr>\n<h3>ğŸ§© <strong>Community Node Integration</strong></h3>\n<p>We created and used the following community nodes:</p>\n<ul>\n<li><strong><a href=\"https://www.npmjs.com/package/n8n-nodes-brightdata\" rel=\"ugc nofollow\" target=\"_blank\">Bright Data</a></strong> â€“ To scrape MediaMarkt deals using proxy-based scraping</li>\n<li><strong><a href=\"https://www.npmjs.com/package/n8n-nodes-document-generator\" rel=\"ugc nofollow\" target=\"_blank\">Document Generator</a></strong> â€“ To generate a templated HTML document from deal data</li>\n</ul>\n<p>These nodes are <strong>not available in n8n Cloud</strong> and require <strong>self-hosted n8n</strong>.</p>\n<hr>\n<h3>ğŸ› ï¸ <strong>Step-by-Step Setup</strong></h3>\n<ol>\n<li>\n<p><strong>Install Community Nodes</strong><br>\nMake sure you're on a self-hosted n8n instance. Install:</p>\n<ul>\n<li><code>n8n-nodes-brightdata</code></li>\n<li><code>n8n-nodes-document-generator</code></li>\n</ul>\n</li>\n<li>\n<p><strong>Configure Credentials</strong></p>\n<ul>\n<li><strong>Bright Data API Key</strong> (Proxy + Scraping setup)</li>\n<li><strong>OpenAI API Key</strong> (GPT-4o-mini access)</li>\n<li><strong>SMTP Credentials</strong> for sending emails</li>\n</ul>\n</li>\n<li>\n<p><strong>Customize the Form</strong><br>\nAdapt the form node to collect desired categories and email addresses. Typical categories include appliances, phones, laptops, etc.</p>\n</li>\n<li>\n<p><strong>Design Your HTML Template</strong><br>\nIn the Document Generator node, you can tweak the HTML/CSS to change how deals appear in the final email.</p>\n</li>\n<li>\n<p><strong>Test the Workflow</strong><br>\nSubmit the form with test data and check that the entire flowâ€”from scraping to emailâ€”executes as expected.</p>\n</li>\n</ol>\n<hr>\n<h3>ğŸ§  <strong>How It Works: Workflow Overview</strong></h3>\n<ol>\n<li>\n<p><strong>User Interaction via Form</strong><br>\nUsers select product categories and enter their email. This triggers the workflow.</p>\n</li>\n<li>\n<p><strong>Data Extraction via Bright Data</strong><br>\nBright Data scrapes the <a href=\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\" rel=\"ugc nofollow\" target=\"_blank\">MediaMarkt offers page</a> and returns HTML content.</p>\n</li>\n<li>\n<p><strong>HTML Parsing</strong><br>\nKey elements like product names, prices, and links are extracted for processing.</p>\n</li>\n<li>\n<p><strong>GPT-4o-mini Recommendation Generation</strong><br>\nThe extracted data is sent to OpenAI (GPT-4o-mini), which filters, ranks, and enhances deals based on the userâ€™s preferences.</p>\n</li>\n<li>\n<p><strong>Data Structuring &amp; Split</strong><br>\nThe result is split into individual deal items to be formatted.</p>\n</li>\n<li>\n<p><strong>HTML Document Creation</strong><br>\nDocument Generator populates a clean HTML template with the top recommended deals.</p>\n</li>\n<li>\n<p><strong>Email Delivery</strong><br>\nThe final document is emailed via SMTP to the user with a friendly message.</p>\n</li>\n</ol>\n<hr>\n<h3>ğŸ“¨ <strong>Final Output</strong></h3>\n<p>Users receive a <strong>custom HTML email</strong> featuring a curated list of top MediaMarkt deals based on their selected categories.</p>\n<hr>\n<h3>ğŸ” <strong>Credentials Used</strong></h3>\n<ul>\n<li><strong>Bright Data API</strong> â€“ Web scraping with proxy support</li>\n<li><strong>OpenAI API</strong> â€“ Generating personalized recommendations</li>\n<li><strong>SMTP</strong> â€“ Sending personalized deal emails</li>\n</ul>\n<hr>\n<h3>âœ¨ <strong>Customization Tips</strong></h3>\n<ul>\n<li><strong>Change the Data Source</strong>: You can adapt this to scrape other e-commerce sites.</li>\n<li><strong>Update the Email Template</strong>: Make it match your branding or include images.</li>\n<li><strong>Extend the Form</strong>: Add preferences like price range or specific brands.</li>\n<li><strong>Add Scheduling</strong>: Use Cron to run the workflow daily or weekly.</li>\n</ul>\n<hr>\n<h3>â“Questions?</h3>\n<p>Template and node created by <a href=\"https://www.linkedin.com/in/miquelcolomersalas/\" rel=\"ugc nofollow\" target=\"_blank\"><strong>Miquel Colomer</strong></a> and <a href=\"https://n8nhackers.com\" rel=\"ugc nofollow\" target=\"_blank\"><strong>n8nhackers.com</strong></a>.</p>\n<p>Need help customizing or deploying? <a href=\"mailto:contact@n8nhackers.com\" rel=\"ugc nofollow\"><strong>Contact us</strong></a> for consulting and support.</p>\n</div><!--]-->",
  "readme_zh": "![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png)\n\næœ¬**n8nå·¥ä½œæµæ¨¡æ¿**å¯è‡ªåŠ¨æ”¶é›†å¹¶æ¨é€**MediaMarkt\"æ¯æ—¥æœ€ä½³ä¼˜æƒ \"**ï¼Œæ ¹æ®ç”¨æˆ·åå¥½è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ã€‚é€šè¿‡æ•´åˆ**ç”¨æˆ·æäº¤è¡¨å•**ã€**Bright Dataç½‘é¡µæŠ“å–**ã€**GPT-4o-miniä¼˜æƒ ç”Ÿæˆ**å’Œ**é‚®ä»¶å‘é€**åŠŸèƒ½ï¼Œè¯¥å·¥ä½œæµèƒ½å°†**ä¸ªæ€§åŒ–äº§å“æ¨è**ç›´æ¥å‘é€è‡³ç”¨æˆ·é‚®ç®±ã€‚\n\n> âš ï¸ _æ³¨æ„ï¼šæ­¤å·¥ä½œæµä½¿ç”¨äº†ç¤¾åŒºèŠ‚ç‚¹ï¼ˆBright Dataå’ŒDocument Generatorï¼‰ï¼Œä»…é€‚ç”¨äº**è‡ªæ‰˜ç®¡n8nå®ä¾‹**_ã€‚\n\n* * *\n\n### ğŸš€ **åŠŸèƒ½äº®ç‚¹**\n\n  * é€šè¿‡è¡¨å•æ”¶é›†ç”¨æˆ·åå¥½ï¼ˆå•†å“ç±»åˆ«+é‚®ç®±ï¼‰\n  * ä½¿ç”¨Bright DataæŠ“å–MediaMarktä¿ƒé”€é¡µé¢\n  * é€šè¿‡GPT-4o-miniï¼ˆOpenAIï¼‰ç”Ÿæˆç²¾é€‰ä¼˜æƒ æ¨è\n  * åŸºäºæ¨¡æ¿ç”Ÿæˆç»“æ„åŒ–HTMLé‚®ä»¶\n  * é€šè¿‡ç”µå­é‚®ä»¶å‘é€ä¸ªæ€§åŒ–ä¼˜æƒ ä¿¡æ¯\n\n* * *\n\n### ï¿½ **ç¤¾åŒºèŠ‚ç‚¹é›†æˆ**\n\næˆ‘ä»¬åˆ›å»ºå¹¶ä½¿ç”¨äº†ä»¥ä¸‹ç¤¾åŒºèŠ‚ç‚¹ï¼š\n\n  * **[Bright Data](https://www.npmjs.com/package/n8n-nodes-brightdata)** â€“ é€šè¿‡ä»£ç†æŠ“å–MediaMarktä¼˜æƒ ä¿¡æ¯\n  * **[Document Generator](https://www.npmjs.com/package/n8n-nodes-document-generator)** â€“ å°†ä¼˜æƒ æ•°æ®è½¬æ¢ä¸ºæ¨¡æ¿åŒ–HTMLæ–‡æ¡£\n\nè¿™äº›èŠ‚ç‚¹**ä¸é€‚ç”¨äºn8näº‘ç«¯ç‰ˆ**ï¼Œéœ€åœ¨**è‡ªæ‰˜ç®¡n8nç¯å¢ƒ**è¿è¡Œã€‚\n\n* * *\n\n### ğŸ› ï¸ **åˆ†æ­¥è®¾ç½®æŒ‡å—**\n\n  1. **å®‰è£…ç¤¾åŒºèŠ‚ç‚¹**  \nç¡®ä¿ä½¿ç”¨è‡ªæ‰˜ç®¡n8nå®ä¾‹ï¼Œå®‰è£…ä»¥ä¸‹ç»„ä»¶ï¼š\n\n     * `n8n-nodes-brightdata`\n     * `n8n-nodes-document-generator`\n  2. **é…ç½®å‡­è¯**\n\n     * **Bright Data APIå¯†é’¥**ï¼ˆä»£ç†+æŠ“å–è®¾ç½®ï¼‰\n     * **OpenAI APIå¯†é’¥**ï¼ˆGPT-4o-miniè®¿é—®æƒé™ï¼‰\n     * **SMTPå‡­è¯**ï¼ˆç”¨äºå‘é€é‚®ä»¶ï¼‰\n  3. **å®šåˆ¶è¡¨å•**  \nè°ƒæ•´è¡¨å•èŠ‚ç‚¹ä»¥æ”¶é›†ç›®æ ‡å•†å“ç±»åˆ«å’Œé‚®ç®±åœ°å€ï¼Œå¸¸è§ç±»åˆ«åŒ…æ‹¬å®¶ç”µã€æ‰‹æœºã€ç¬”è®°æœ¬ç­‰ã€‚\n\n  4. **è®¾è®¡HTMLæ¨¡æ¿**  \nåœ¨Document GeneratorèŠ‚ç‚¹ä¸­ï¼Œå¯ä¿®æ”¹HTML/CSSæ¥è°ƒæ•´é‚®ä»¶ä¸­ä¼˜æƒ ä¿¡æ¯çš„å±•ç¤ºæ ·å¼ã€‚\n\n  5. **æµ‹è¯•å·¥ä½œæµ**  \næäº¤æµ‹è¯•æ•°æ®è¡¨å•ï¼Œæ£€æŸ¥ä»æŠ“å–åˆ°é‚®ä»¶å‘é€çš„å®Œæ•´æµç¨‹æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚\n\n* * *\n\n### ğŸ§  **å·¥ä½œåŸç†ï¼šå·¥ä½œæµæ¦‚è§ˆ**\n\n  1. **ç”¨æˆ·è¡¨å•äº¤äº’**  \nç”¨æˆ·é€‰æ‹©å•†å“ç±»åˆ«å¹¶å¡«å†™é‚®ç®±ï¼Œè§¦å‘å·¥ä½œæµè¿è¡Œã€‚\n\n  2. **Bright Dataæ•°æ®æŠ“å–**  \né€šè¿‡Bright DataæŠ“å–[MediaMarktä¿ƒé”€é¡µé¢](https://www.mediamarkt.es/es/campaign/campanas-y-ofertas)çš„HTMLå†…å®¹ã€‚\n\n  3. **HTMLè§£æ**  \næå–äº§å“åç§°ã€ä»·æ ¼ã€é“¾æ¥ç­‰å…³é”®å…ƒç´ ã€‚\n\n  4. **GPT-4o-miniæ¨èç”Ÿæˆ**  \nå°†æŠ“å–æ•°æ®å‘é€è‡³OpenAIï¼ˆGPT-4o-miniï¼‰ï¼Œæ ¹æ®ç”¨æˆ·åå¥½ç­›é€‰æ’åºå¹¶ä¼˜åŒ–æ¨èã€‚\n\n  5. **æ•°æ®ç»“æ„åŒ–å¤„ç†**  \nå°†æ¨èç»“æœæ‹†åˆ†ä¸ºç‹¬ç«‹ä¼˜æƒ æ¡ç›®ä»¥ä¾¿æ ¼å¼åŒ–ã€‚\n\n  6. **HTMLæ–‡æ¡£ç”Ÿæˆ**  \né€šè¿‡Document Generatorå°†ç²¾é€‰ä¼˜æƒ å¡«å…¥HTMLæ¨¡æ¿ã€‚\n\n  7. **é‚®ä»¶å‘é€**  \næœ€ç»ˆç”Ÿæˆçš„æ–‡æ¡£é€šè¿‡SMTPä»¥å‹å¥½æ–‡æ¡ˆå‘é€è‡³ç”¨æˆ·é‚®ç®±ã€‚\n\n* * *\n\n### ğŸ“¨ **æœ€ç»ˆè¾“å‡º**\n\nç”¨æˆ·å°†æ”¶åˆ°**å®šåˆ¶åŒ–HTMLé‚®ä»¶**ï¼Œå†…å«æ ¹æ®æ‰€é€‰ç±»åˆ«ç²¾é€‰çš„MediaMarktæœ€ä½³ä¼˜æƒ åˆ—è¡¨ã€‚\n\n* * *\n\n### ğŸ” **æ‰€éœ€å‡­è¯**\n\n  * **Bright Data API** â€“ æ”¯æŒä»£ç†çš„ç½‘é¡µæŠ“å–\n  * **OpenAI API** â€“ ç”Ÿæˆä¸ªæ€§åŒ–æ¨è\n  * **SMTP** â€“ å‘é€ä¸ªæ€§åŒ–ä¼˜æƒ é‚®ä»¶\n\n* * *\n\n### âœ¨ **å®šåˆ¶å»ºè®®**\n\n  * **æ›´æ¢æ•°æ®æº**ï¼šå¯é€‚é…å…¶ä»–ç”µå•†ç½‘ç«™æŠ“å–\n  * **æ›´æ–°é‚®ä»¶æ¨¡æ¿**ï¼šåŠ å…¥å“ç‰Œå…ƒç´ æˆ–å›¾ç‰‡\n  * **æ‰©å±•è¡¨å•**ï¼šå¢åŠ ä»·æ ¼åŒºé—´æˆ–ç‰¹å®šå“ç‰Œé€‰é¡¹\n  * **æ·»åŠ å®šæ—¶ä»»åŠ¡**ï¼šé€šè¿‡Cronè®¾ç½®æ¯æ—¥/æ¯å‘¨è‡ªåŠ¨è¿è¡Œ\n\n* * *\n\n### â“ **é—®é¢˜å’¨è¯¢ï¼Ÿ**\n\næ¨¡æ¿ä¸èŠ‚ç‚¹ç”±[**Miquel Colomer**](https://www.linkedin.com/in/miquelcolomersalas/)å’Œ[**n8nhackers.com**](https://n8nhackers.com)åˆ›å»ºã€‚\n\néœ€è¦å®šåˆ¶æˆ–éƒ¨ç½²å¸®åŠ©ï¼Ÿæ¬¢è¿[**è”ç³»æˆ‘ä»¬**](mailto:contact@n8nhackers.com)è·å–å’¨è¯¢æ”¯æŒã€‚",
  "title_zh": "é€šè¿‡è¡¨å•ã€Bright Dataä¸GPT-4o-miniå®ç°å®šåˆ¶åŒ–é‚®ä»¶äº¤æ˜“æ¨è",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äºä¸€ä¸ªæœˆå‰",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"b1f85eae352fde76d801a1a612661df6824cc2e68bfd6741e31305160a737e6e\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"a85eff80-4330-4bd8-acd9-9bf6e0b67c59\",\"name\":\"Get MediaMarkt Offers Website\",\"type\":\"n8n-nodes-brightdata.brightData\",\"position\":[40,-160],\"parameters\":{\"url\":\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\",\"zone\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"web_unlocker1\",\"cachedResultName\":\"web_unlocker1\"},\"format\":\"json\",\"country\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"es\",\"cachedResultName\":\"es\"},\"requestOptions\":{}},\"credentials\":{\"brightdataApi\":{\"id\":\"jk945kIuAFAo9bcg\",\"name\":\"BrightData account\"}},\"typeVersion\":1},{\"id\":\"d27b03e0-b0f1-4c76-b68e-d716391c71da\",\"name\":\"Create HTML for Email\",\"type\":\"n8n-nodes-document-generator.documentGenerator\",\"position\":[60,100],\"parameters\":{\"template\":\"<br>\\nThese are our recommended deals today:<br>\\n<ul>\\n{{#each items}}\\n<li>{{category}}: <a href=\\\"https://www.bestbuy.com{{link}}\\\">{{name}}</a> for {{price}}â‚¬</li>\\n{{/each}}\\n</ul>\\n<br>\",\"oneTemplate\":true},\"typeVersion\":1},{\"id\":\"d47ee04f-c1c5-4aac-a615-aa68f5a2d6cd\",\"name\":\"Extract items from results\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-140,100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"message.content.results\"},\"typeVersion\":1},{\"id\":\"34df63de-9b0d-4245-8f87-3654cab0c17e\",\"name\":\"Notify End User by Email\",\"type\":\"n8n-nodes-base.emailSend\",\"position\":[280,100],\"webhookId\":\"626001db-5451-4225-bf98-cd74c3952754\",\"parameters\":{\"html\":\"=Hi!\\n<br>\\n{{ $json.text }}\\n\\nBest,\\n<br>\\nThe n8nhackers team!\",\"options\":{},\"subject\":\"Your last deals!\",\"toEmail\":\"={{ $('When User Completes Form').first().json.Email}}\",\"fromEmail\":\"deals@n8nhackers.com\"},\"credentials\":{\"smtp\":{\"id\":\"z3kiLWNZTH4wQaGy\",\"name\":\"SMTP account\"}},\"typeVersion\":2.1},{\"id\":\"fbbd7e95-d972-401a-9aca-8015a1acf553\",\"name\":\"Show Form Results Page\",\"type\":\"n8n-nodes-base.form\",\"position\":[480,100],\"webhookId\":\"a67843b4-3ab9-427b-8e52-dfc42831065d\",\"parameters\":{\"options\":{},\"operation\":\"completion\",\"completionTitle\":\"Our recommended deals!\",\"completionMessage\":\"=We have sent {{ $('Extract items from results').all().length }} recommended deals to your email!\"},\"typeVersion\":1},{\"id\":\"e03ebc2b-db42-4a8d-8758-b3d988c4b943\",\"name\":\"Extract Body and Title from Website\",\"type\":\"n8n-nodes-base.html\",\"position\":[240,-160],\"parameters\":{\"options\":{\"trimValues\":true},\"operation\":\"extractHtmlContent\",\"dataPropertyName\":\"body\",\"extractionValues\":{\"values\":[{\"key\":\"title\",\"cssSelector\":\"title\"},{\"key\":\"body\",\"cssSelector\":\"body\"}]}},\"typeVersion\":1.2},{\"id\":\"74b0dcd7-d833-452c-82fe-98a21bd39d12\",\"name\":\"Generate List of Deals by Category\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-520,100],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\",\"cachedResultName\":\"GPT-4O-MINI\"},\"options\":{},\"messages\":{\"values\":[{\"role\":\"system\",\"content\":\"Generate a list of recommended deals in json list. Classify items by category. Generate the next properties: name, description, price, link and category. All properties will be in a property called: results. Translate texts to english if required.\"},{\"content\":\"=The input text is:\\n{{ $json.body }}\"},{\"content\":\"=Categories to filter: {{ $('When User Completes Form').item.json.Category.join(',') }}\"}]},\"jsonOutput\":true},\"credentials\":{\"openAiApi\":{\"id\":\"oKzfvOwieOm4upQ2\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"a1095cea-6adc-4cf9-93fe-3a67dc061276\",\"name\":\"When User Completes Form\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-180,-160],\"webhookId\":\"33e8f7c3-82fb-4339-9c91-4b19aa6c14ba\",\"parameters\":{\"options\":{\"path\":\"get-top-deals\",\"ignoreBots\":true,\"buttonLabel\":\"Get Deals\"},\"formTitle\":\"Top deals\",\"formFields\":{\"values\":[{\"fieldType\":\"dropdown\",\"fieldLabel\":\"Category\",\"multiselect\":true,\"fieldOptions\":{\"values\":[{\"option\":\"Appliances\"},{\"option\":\"Cameras, CamCorders & Drones\"},{\"option\":\"Car Electronics \"},{\"option\":\"Cell Phones\"},{\"option\":\"Computers & Tablets\"},{\"option\":\"TV & Home Theater\"},{\"option\":\"Video Games\"}]},\"requiredField\":true},{\"fieldType\":\"email\",\"fieldLabel\":\"Email\",\"placeholder\":\"Complete your email\",\"requiredField\":true}]},\"responseMode\":\"lastNode\",\"formDescription\":\"This form returns top deals by your preferences in the same page.\\n\\nYou can schedule your future deals once per day at the end of this test.\"},\"typeVersion\":2.2}],\"pinData\":{},\"connections\":{\"Create HTML for Email\":{\"main\":[[{\"node\":\"Notify End User by Email\",\"type\":\"main\",\"index\":0}]]},\"Notify End User by Email\":{\"main\":[[{\"node\":\"Show Form Results Page\",\"type\":\"main\",\"index\":0}]]},\"When User Completes Form\":{\"main\":[[{\"node\":\"Get MediaMarkt Offers Website\",\"type\":\"main\",\"index\":0}]]},\"Extract items from results\":{\"main\":[[{\"node\":\"Create HTML for Email\",\"type\":\"main\",\"index\":0}]]},\"Get MediaMarkt Offers Website\":{\"main\":[[{\"node\":\"Extract Body and Title from Website\",\"type\":\"main\",\"index\":0}]]},\"Generate List of Deals by Category\":{\"main\":[[{\"node\":\"Extract items from results\",\"type\":\"main\",\"index\":0}]]},\"Extract Body and Title from Website\":{\"main\":[[{\"node\":\"Generate List of Deals by Category\",\"type\":\"main\",\"index\":0}]]}}}"
}