{
  "title": "Sync Zendesk tickets to your HubSpot contacts",
  "url": "https://n8n.io/workflows/1840-sync-zendesk-tickets-to-your-hubspot-contacts/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-07",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"},\"nodes\":[{\"id\":\"60e3ee97-68cb-46ef-8a92-a9e8d1cdd45d\",\"name\":\"Add Zendesk company data to Hubspot data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[1120,320],\"parameters\":{\"mode\":\"mergeByKey\",\"propertyName1\":\"properties.name.value\",\"propertyName2\":\"name\"},\"typeVersion\":1},{\"id\":\"d72c4307-c24c-494f-b5c2-57fd44ede5a5\",\"name\":\"Set new last execution timestamp\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[1820,300],\"parameters\":{\"functionCode\":\"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nstaticData.lastExecution = $item(0).$node[\\\"Get last execution timestamp\\\"].executionTimeStamp;\\n\\nreturn item;\"},\"executeOnce\":true,\"typeVersion\":1},{\"id\":\"c10e7993-4cd4-4b79-9dce-66097d797b30\",\"name\":\"Get last execution timestamp\",\"type\":\"n8n-nodes-base.functionItem\",\"position\":[400,300],\"parameters\":{\"functionCode\":\"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nif(!staticData.lastExecution){\\n  staticData.lastExecution = new Date();\\n}\\n\\nitem.executionTimeStamp = new Date();\\nitem.lastExecution = staticData.lastExecution;\\n\\n\\nreturn item;\"},\"typeVersion\":1},{\"id\":\"3c154d99-7984-4561-9fdf-60b0f705c5ee\",\"name\":\"Get modified companies\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[620,300],\"parameters\":{\"filters\":{\"since\":\"={{ $json[\\\"lastExecution\\\"] }}\"},\"resource\":\"company\",\"operation\":\"getRecentlyModified\",\"authentication\":\"appToken\"},\"credentials\":{\"hubspotAppToken\":{\"id\":\"13\",\"name\":\"HubSpot App Token account\"}},\"typeVersion\":1},{\"id\":\"6f05aae1-731e-42cf-b403-baf5f86aa934\",\"name\":\"Get all Zendesk organisations\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[880,420],\"parameters\":{\"resource\":\"organization\",\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"a8ae65dc-0c60-42cb-9996-26e84770e299\",\"name\":\"Company exists in Zendesk\",\"type\":\"n8n-nodes-base.if\",\"position\":[1340,320],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json[\\\"id\\\"] }}\",\"operation\":\"isNotEmpty\"}]}},\"typeVersion\":1},{\"id\":\"a81ff688-8639-476d-8274-383e5ff51b97\",\"name\":\"Create organisation\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[1600,400],\"parameters\":{\"name\":\"={{ $json[\\\"properties\\\"].name.value }}\",\"resource\":\"organization\",\"additionalFields\":{\"domain_names\":\"={{ $json[\\\"properties\\\"].domain.value }}\"}},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"fd2780b3-c5cc-4535-ba71-840b13578a07\",\"name\":\"Update organisation\",\"type\":\"n8n-nodes-base.zendesk\",\"position\":[1600,200],\"parameters\":{\"id\":\"={{ $json[\\\"id\\\"] }}\",\"resource\":\"organization\",\"operation\":\"update\",\"updateFields\":{\"name\":\"={{ $json[\\\"properties\\\"].name.value }}\",\"domain_names\":\"={{ $json[\\\"properties\\\"].domain.value }}\"}},\"credentials\":{\"zendeskApi\":{\"id\":\"5\",\"name\":\"Zendesk account\"}},\"typeVersion\":1},{\"id\":\"7f19e5ba-e973-4e6c-a2d0-a320ac314fa6\",\"name\":\"Every 5 minutes\",\"type\":\"n8n-nodes-base.cron\",\"position\":[180,300],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyX\",\"unit\":\"minutes\",\"value\":5}]}},\"typeVersion\":1}],\"connections\":{\"Every 5 minutes\":{\"main\":[[{\"node\":\"Get last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Create organisation\":{\"main\":[[{\"node\":\"Set new last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Update organisation\":{\"main\":[[{\"node\":\"Set new last execution timestamp\",\"type\":\"main\",\"index\":0}]]},\"Get modified companies\":{\"main\":[[{\"node\":\"Get all Zendesk organisations\",\"type\":\"main\",\"index\":0},{\"node\":\"Add Zendesk company data to Hubspot data\",\"type\":\"main\",\"index\":0}]]},\"Company exists in Zendesk\":{\"main\":[[{\"node\":\"Update organisation\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Create organisation\",\"type\":\"main\",\"index\":0}]]},\"Get last execution timestamp\":{\"main\":[[{\"node\":\"Get modified companies\",\"type\":\"main\",\"index\":0}]]},\"Get all Zendesk organisations\":{\"main\":[[{\"node\":\"Add Zendesk company data to Hubspot data\",\"type\":\"main\",\"index\":1}]]},\"Add Zendesk company data to Hubspot data\":{\"main\":[[{\"node\":\"Company exists in Zendesk\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow automatically syncs your Zendesk tickets to your HubSpot contacts. Every 5 minutes, your HubSpot account collects all the newly modified data and updates it into your Zendesk account, updating the current tickets or creating new ones.\n\n## Prerequisites\n\n  * Zendesk account and [Zendesk credentials](https://docs.n8n.io/integrations/builtin/credentials/zendesk/)\n  * HubSpot account and [HubSpot credentials](https://docs.n8n.io/integrations/builtin/credentials/hubspot/)\n\n\n\n## How it works\n\n  1. Cron node triggers the workflow every 5 minutes.\n  2. Function Item node collects all the tickets received after the last execution timestamp.\n  3. HubSpot node collects all the recently modified companies.\n  4. Zendesk node checks all the Zendesk tickets associated with those companies.\n  5. Merge by key node merges the Zendesk and Hubspot data related to those companies.\n  6. If node splits the workflow conditionally, based on data received.\n  7. If the company already exists in, Zendesk node updates organization’sdata.\n  8. If the company does not exist yet, Zendesk node will create an organization.\n  9. The Function Item node sets the new last execution timestamp.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This workflow automatically syncs your Zendesk tickets to your HubSpot contacts. Every 5 minutes, your HubSpot account collects all the newly modified data and updates it into your Zendesk account, updating the current tickets or creating new ones.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>Zendesk account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/zendesk/\" rel=\"ugc nofollow\" target=\"_blank\">Zendesk credentials</a></li>\n<li>HubSpot account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/hubspot/\" rel=\"ugc nofollow\" target=\"_blank\">HubSpot credentials</a></li>\n</ul>\n<h2>How it works</h2>\n<ol>\n<li>Cron node triggers the workflow every 5 minutes.</li>\n<li>Function Item node collects all the tickets received after the last execution timestamp.</li>\n<li>HubSpot node collects all the recently modified companies.</li>\n<li>Zendesk node checks all the Zendesk tickets associated with those companies.</li>\n<li>Merge by key node merges the Zendesk and Hubspot data related to those companies.</li>\n<li>If node splits the workflow conditionally, based on data received.</li>\n<li>If the company already exists in, Zendesk node updates organization’sdata.</li>\n<li>If the company does not exist yet, Zendesk node will create an organization.</li>\n<li>The Function Item node sets the new last execution timestamp.</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "该工作流可自动将您的Zendesk工单同步至HubSpot联系人。系统每5分钟从HubSpot账户采集所有新修改的数据，并更新至Zendesk账户——既会更新现有工单，也会创建新工单。\n\n## 前置条件\n\n* 有效的Zendesk账户及[Zendesk凭证](https://docs.n8n.io/integrations/builtin/credentials/zendesk/)\n* 有效的HubSpot账户及[HubSpot凭证](https://docs.n8n.io/integrations/builtin/credentials/hubspot/)\n\n## 运行原理\n\n1. Cron节点每5分钟触发一次工作流\n2. 函数项节点采集上次执行时间戳后收到的所有工单\n3. HubSpot节点采集所有最近更新的企业数据\n4. Zendesk节点检查与这些企业关联的所有工单\n5. 键值合并节点整合来自Zendesk和HubSpot的企业相关数据\n6. 条件判断节点根据接收数据分流工作流程\n7. 若企业已存在，Zendesk节点将更新组织数据\n8. 若企业不存在，Zendesk节点将新建组织\n9. 函数项节点设置新的最后执行时间戳",
  "title_zh": "将Zendesk工单同步至您的HubSpot联系人",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"60e3ee97-68cb-46ef-8a92-a9e8d1cdd45d\",\n      \"name\": \"Add Zendesk company data to Hubspot data\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1120,\n        320\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByKey\",\n        \"propertyName1\": \"properties.name.value\",\n        \"propertyName2\": \"name\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d72c4307-c24c-494f-b5c2-57fd44ede5a5\",\n      \"name\": \"Set new last execution timestamp\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        1820,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nstaticData.lastExecution = $item(0).$node[\\\"Get last execution timestamp\\\"].executionTimeStamp;\\n\\nreturn item;\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c10e7993-4cd4-4b79-9dce-66097d797b30\",\n      \"name\": \"Get last execution timestamp\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        400,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run once per input item.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.functionItem\\n// Tip: You can use luxon for dates and $jmespath for querying JSON structures\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\nconst staticData = getWorkflowStaticData('global');\\n\\nif(!staticData.lastExecution){\\n  staticData.lastExecution = new Date();\\n}\\n\\nitem.executionTimeStamp = new Date();\\nitem.lastExecution = staticData.lastExecution;\\n\\n\\nreturn item;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3c154d99-7984-4561-9fdf-60b0f705c5ee\",\n      \"name\": \"Get modified companies\",\n      \"type\": \"n8n-nodes-base.hubspot\",\n      \"position\": [\n        620,\n        300\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"since\": \"={{ $json[\\\"lastExecution\\\"] }}\"\n        },\n        \"resource\": \"company\",\n        \"operation\": \"getRecentlyModified\",\n        \"authentication\": \"appToken\"\n      },\n      \"credentials\": {\n        \"hubspotAppToken\": {\n          \"id\": \"13\",\n          \"name\": \"HubSpot App Token account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f05aae1-731e-42cf-b403-baf5f86aa934\",\n      \"name\": \"Get all Zendesk organisations\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        880,\n        420\n      ],\n      \"parameters\": {\n        \"resource\": \"organization\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a8ae65dc-0c60-42cb-9996-26e84770e299\",\n      \"name\": \"Company exists in Zendesk\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1340,\n        320\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json[\\\"id\\\"] }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a81ff688-8639-476d-8274-383e5ff51b97\",\n      \"name\": \"Create organisation\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        1600,\n        400\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $json[\\\"properties\\\"].name.value }}\",\n        \"resource\": \"organization\",\n        \"additionalFields\": {\n          \"domain_names\": \"={{ $json[\\\"properties\\\"].domain.value }}\"\n        }\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fd2780b3-c5cc-4535-ba71-840b13578a07\",\n      \"name\": \"Update organisation\",\n      \"type\": \"n8n-nodes-base.zendesk\",\n      \"position\": [\n        1600,\n        200\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $json[\\\"id\\\"] }}\",\n        \"resource\": \"organization\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"name\": \"={{ $json[\\\"properties\\\"].name.value }}\",\n          \"domain_names\": \"={{ $json[\\\"properties\\\"].domain.value }}\"\n        }\n      },\n      \"credentials\": {\n        \"zendeskApi\": {\n          \"id\": \"5\",\n          \"name\": \"Zendesk account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7f19e5ba-e973-4e6c-a2d0-a320ac314fa6\",\n      \"name\": \"Every 5 minutes\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        180,\n        300\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Every 5 minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create organisation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update organisation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new last execution timestamp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get modified companies\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all Zendesk organisations\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Add Zendesk company data to Hubspot data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Company exists in Zendesk\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update organisation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create organisation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get last execution timestamp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get modified companies\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all Zendesk organisations\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Zendesk company data to Hubspot data\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Add Zendesk company data to Hubspot data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Company exists in Zendesk\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}