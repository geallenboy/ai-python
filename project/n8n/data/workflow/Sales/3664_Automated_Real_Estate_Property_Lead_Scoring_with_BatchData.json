{
  "title": "Automated Real Estate Property Lead Scoring with BatchData",
  "url": "https://n8n.io/workflows/3664-automated-real-estate-property-lead-scoring-with-batchdata/",
  "category": "Sales",
  "category_url": "https://n8n.io/workflows/categories/sales/?sort=createdAt:desc",
  "author": "Preston Zeller",
  "publish_date": "Last update 12 days ago",
  "publish_date_absolute": "2025-04-25",
  "content": "",
  "workflow_json": "{\"id\":\"0uon02fOzPkLcG6G\",\"meta\":{\"instanceId\":\"bb9853d4d7d87207561a30bc6fe4ece20b295264f7d27d4a62215de2f3846a56\",\"templateCredsSetupCompleted\":true},\"name\":\"Lead Qualification with BatchData\",\"tags\":[],\"nodes\":[{\"id\":\"376bc838-013e-4033-a508-d27a2a64d792\",\"name\":\"CRM New Lead Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-2560,600],\"webhookId\":\"8fb37aae-df12-40eb-81ea-0e5022e1f988\",\"parameters\":{\"path\":\"crm-new-lead\",\"options\":{}},\"typeVersion\":1},{\"id\":\"2ca36d9f-7682-4a08-9fff-1674b36e07e4\",\"name\":\"Webhook Setup Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2720,160],\"parameters\":{\"color\":5,\"width\":420,\"height\":620,\"content\":\"# WEBHOOK SETUP INSTRUCTIONS\\n\\n1. Copy this webhook URL and configure your CRM to send notifications here\\n2. Expected payload format:\\n   ```\\n   {\\n     \\\"leadId\\\": \\\"123\\\",\\n     \\\"crmApiUrl\\\": \\\"https://your-crm-api.com/api/v1\\\",\\n     \\\"address\\\": \\\"123 Main St\\\",\\n     \\\"city\\\": \\\"Anytown\\\",\\n     \\\"state\\\": \\\"CA\\\",\\n     \\\"zipcode\\\": \\\"90210\\\"\\n   }\\n   ```\\n3. All fields are required for property verification\"},\"typeVersion\":1},{\"id\":\"961b3c4c-5b58-439e-9c8c-cc6e9774ebe7\",\"name\":\"Fetch Lead Data\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-2180,600],\"parameters\":{\"url\":\"={{ $json.crmApiUrl }}/leads/{{ $json.leadId }}\",\"options\":{},\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"typeVersion\":4.1},{\"id\":\"3549918e-cea8-467e-90d0-3661a5f54ae9\",\"name\":\"CRM API Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-2280,160],\"parameters\":{\"color\":5,\"width\":300,\"height\":620,\"content\":\"# CRM API CONFIGURATION\\n\\n1. Create HTTP Header Auth credentials for your CRM API\\n2. Include necessary authorization headers (e.g., 'Authorization: Bearer YOUR_TOKEN')\\n3. This node fetches comprehensive lead data using the lead ID from the webhook\\n4. Ensure your CRM API returns address information needed for property verification\"},\"typeVersion\":1},{\"id\":\"25445c3c-adf0-41d7-8f5f-c0fabc297658\",\"name\":\"BatchData Property Lookup\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-1840,600],\"parameters\":{\"url\":\"https://api.batchdata.com/api/v1/property/search\",\"options\":{},\"sendBody\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"address\",\"value\":\"={{ $json.address }}\"},{\"name\":\"city\",\"value\":\"={{ $json.city }}\"},{\"name\":\"state\",\"value\":\"={{ $json.state }}\"},{\"name\":\"zipcode\",\"value\":\"={{ $json.zipcode }}\"}]},\"genericAuthType\":\"httpHeaderAuth\"},\"typeVersion\":4.1},{\"id\":\"85808ecf-e5b0-4d36-a2c3-66c26bb2a191\",\"name\":\"BatchData API Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1960,160],\"parameters\":{\"color\":5,\"width\":360,\"height\":620,\"content\":\"# BATCHDATA API SETUP\\n\\n1. Create an account at BatchData.com to get your API key\\n2. Set up HTTP Header Auth credentials with 'x-api-key: YOUR_BATCHDATA_API_KEY'\\n3. This API call verifies property details using the lead's address\\n4. Expected response includes property value, size, age, and ownership status\\n5. Adjust API endpoint if needed based on BatchData's documentation\"},\"typeVersion\":1},{\"id\":\"389e2f49-9ed4-4017-8002-ac86e1001ed9\",\"name\":\"Score And Qualify Lead\",\"type\":\"n8n-nodes-base.code\",\"position\":[-1480,620],\"parameters\":{\"jsCode\":\"// Initialize lead score\\nlet score = 0;\\nlet qualificationStatus = \\\"not qualified\\\";\\nlet qualificationNotes = [];\\n\\n// Get property data from BatchData response\\nconst propertyData = $input.first().json;\\nconst leadData = $input.first().json;\\n\\n// Check if property exists\\nif (propertyData.success === true && propertyData.data) {\\n  const property = propertyData.data;\\n  \\n  // Score based on property value\\n  if (property.estimatedValue > 750000) {\\n    score += 30;\\n    qualificationNotes.push(\\\"High-value property: $\\\" + property.estimatedValue);\\n  } else if (property.estimatedValue > 500000) {\\n    score += 20;\\n    qualificationNotes.push(\\\"Mid-high value property: $\\\" + property.estimatedValue);\\n  } else if (property.estimatedValue > 350000) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Average value property: $\\\" + property.estimatedValue);\\n  }\\n  \\n  // Score based on property size\\n  if (property.squareFootage > 3000) {\\n    score += 15;\\n    qualificationNotes.push(\\\"Large property: \\\" + property.squareFootage + \\\" sq ft\\\");\\n  } else if (property.squareFootage > 2000) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Mid-size property: \\\" + property.squareFootage + \\\" sq ft\\\");\\n  }\\n  \\n  // Score based on property age\\n  const currentYear = new Date().getFullYear();\\n  const propertyAge = currentYear - property.yearBuilt;\\n  \\n  if (propertyAge < 5) {\\n    score += 15;\\n    qualificationNotes.push(\\\"New construction: \\\" + property.yearBuilt);\\n  } else if (propertyAge < 20) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Relatively new property: \\\" + property.yearBuilt);\\n  }\\n  \\n  // Other factors to consider\\n  if (property.ownerOccupied === false) {\\n    score += 15;\\n    qualificationNotes.push(\\\"Investment property (not owner-occupied)\\\");\\n  }\\n  \\n  if (property.lotSize > 0.5) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Large lot size: \\\" + property.lotSize + \\\" acres\\\");\\n  }\\n  \\n  // Determine qualification status based on score\\n  if (score >= 50) {\\n    qualificationStatus = \\\"high-value\\\";\\n  } else if (score >= 30) {\\n    qualificationStatus = \\\"qualified\\\";\\n  } else if (score >= 15) {\\n    qualificationStatus = \\\"potential\\\";\\n  }\\n  \\n  // Combine all data for CRM update\\n  const enrichedData = {\\n    leadId: leadData.leadId,\\n    score: score,\\n    qualificationStatus: qualificationStatus,\\n    qualificationNotes: qualificationNotes.join(\\\", \\\"),\\n    propertyData: {\\n      estimatedValue: property.estimatedValue,\\n      squareFootage: property.squareFootage,\\n      yearBuilt: property.yearBuilt,\\n      lotSize: property.lotSize,\\n      bedrooms: property.bedrooms,\\n      bathrooms: property.bathrooms,\\n      ownerOccupied: property.ownerOccupied,\\n      lastSaleDate: property.lastSaleDate,\\n      lastSalePrice: property.lastSalePrice\\n    }\\n  };\\n  \\n  return enrichedData;\\n} else {\\n  // If property data not found\\n  qualificationNotes.push(\\\"Property data not found or verification failed\\\");\\n  \\n  return {\\n    leadId: leadData.leadId,\\n    score: 0,\\n    qualificationStatus: \\\"unverified\\\",\\n    qualificationNotes: qualificationNotes.join(\\\", \\\"),\\n    propertyData: null\\n  };\\n}\"},\"typeVersion\":2},{\"id\":\"f33f6442-5e8b-4aab-b5ff-d37d062a5cfa\",\"name\":\"Lead Scoring Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1580,-280],\"parameters\":{\"color\":3,\"width\":320,\"height\":1060,\"content\":\"# LEAD SCORING ALGORITHM\\n\\nThis function implements a sophisticated scoring system for property-based leads:\\n\\n### SCORING FACTORS\\n- **Property Value**\\n  - >$750k: 30 points\\n  - >$500k: 20 points\\n  - >$350k: 10 points\\n\\n- **Square Footage**\\n  - >3000 sq ft: 15 points\\n  - >2000 sq ft: 10 points\\n\\n- **Property Age**\\n  - <5 years old: 15 points\\n  - <20 years old: 10 points\\n\\n- **Other Factors**\\n  - Investment property: 15 points\\n  - Large lot (>0.5 acres): 10 points\\n\\n### QUALIFICATION THRESHOLDS\\n- **High-value**: 50+ points\\n- **Qualified**: 30-49 points\\n- **Potential**: 15-29 points\\n- **Not qualified**: <15 points\\n- **Unverified**: No property data\\n\\nCustomize the scoring values and thresholds to match your specific business requirements.\"},\"typeVersion\":1},{\"id\":\"b9bcb2af-6ccc-4f9e-9926-765df4f36809\",\"name\":\"Update CRM Lead\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-1120,620],\"parameters\":{\"url\":\"={{ $json.crmApiUrl }}/leads/{{ $json.leadId }}\",\"method\":\"PUT\",\"options\":{},\"sendBody\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"score\",\"value\":\"={{ $json.score }}\"},{\"name\":\"qualificationStatus\",\"value\":\"={{ $json.qualificationStatus }}\"},{\"name\":\"qualificationNotes\",\"value\":\"={{ $json.qualificationNotes }}\"},{\"name\":\"propertyValue\",\"value\":\"={{ $json.propertyData.estimatedValue }}\"},{\"name\":\"squareFootage\",\"value\":\"={{ $json.propertyData.squareFootage }}\"},{\"name\":\"yearBuilt\",\"value\":\"={{ $json.propertyData.yearBuilt }}\"},{\"name\":\"bedrooms\",\"value\":\"={{ $json.propertyData.bedrooms }}\"},{\"name\":\"bathrooms\",\"value\":\"={{ $json.propertyData.bathrooms }}\"},{\"name\":\"batchDataVerified\",\"value\":\"={{ $json.propertyData !== null }}\"}]},\"genericAuthType\":\"httpHeaderAuth\"},\"typeVersion\":4.1},{\"id\":\"3cfa64f8-527a-49d5-9787-156fe084f37c\",\"name\":\"CRM Update Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1240,160],\"parameters\":{\"color\":5,\"width\":340,\"height\":620,\"content\":\"# CRM UPDATE CONFIGURATION\\n\\n1. This node updates your CRM with enriched property data and lead qualification information\\n2. Adjust field names in the body parameters to match your CRM's API schema\\n3. Common fields to update include:\\n   - Lead score and qualification status\\n   - Property details (value, size, beds/baths)\\n   - Verification status\\n4. If your CRM uses PATCH instead of PUT, adjust the method accordingly\\n5. Make sure your CRM credentials have write access to update lead records\"},\"typeVersion\":1},{\"id\":\"8470bcf6-a539-4f75-8494-f76bcfc95f00\",\"name\":\"Is High-Value Lead?\",\"type\":\"n8n-nodes-base.if\",\"position\":[-760,620],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.qualificationStatus }}\",\"value2\":\"high-value\"}]}},\"typeVersion\":1},{\"id\":\"da84ac21-fbb2-4640-8e92-f40b23d2fa0a\",\"name\":\"Routing Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-880,160],\"parameters\":{\"color\":3,\"width\":320,\"height\":620,\"content\":\"# ROUTING LOGIC\\n\\nThis conditional node determines the workflow path based on the lead's qualification:\\n\\n- **TRUE Path (Top)**: Routes high-value leads for immediate follow-up\\n- **FALSE Path (Bottom)**: Routes standard leads for notification only\\n\\nYou can modify the condition to create different paths based on:\\n- Score thresholds (e.g., >30 points)\\n- Property characteristics (e.g., property value >$1M)\\n- Geographic targeting (e.g., specific ZIP codes)\\n- Lead source (e.g., referrals vs. web leads)\"},\"typeVersion\":1},{\"id\":\"c7772695-cda1-4483-a961-7468fd075c55\",\"name\":\"Create Immediate Follow-up Task\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-180,320],\"parameters\":{\"url\":\"={{ $json.crmApiUrl }}/tasks\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"type\",\"value\":\"immediate-followup\"},{\"name\":\"leadId\",\"value\":\"={{ $json.leadId }}\"},{\"name\":\"priority\",\"value\":\"high\"},{\"name\":\"dueDate\",\"value\":\"={{ $now.format(\\\"YYYY-MM-DD\\\") }}\"},{\"name\":\"note\",\"value\":\"High-value lead with property value of ${{ $json.propertyData.estimatedValue }}. Immediate follow-up required.\"},{\"name\":\"assignedTo\",\"value\":\"senior-agent\"}]},\"genericAuthType\":\"httpHeaderAuth\"},\"typeVersion\":4.1},{\"id\":\"2fd15500-7314-4910-b822-c3d9de4166df\",\"name\":\"Follow-up Task Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,-140],\"parameters\":{\"color\":4,\"width\":420,\"height\":640,\"content\":\"# HIGH-VALUE LEAD HANDLING\\n\\n1. This node creates an urgent follow-up task for premium leads\\n2. Customize parameters to match your CRM/task system's API:\\n   - Assignee (currently \\\"senior-agent\\\")\\n   - Priority level and task type\\n   - Due date format\\n   - Task description\\n3. Alternative approaches:\\n   - Send email alerts to sales managers\\n   - Create Salesforce opportunities\\n   - Trigger SMS notifications\\n   - Add to special follow-up campaign\"},\"typeVersion\":1},{\"id\":\"0d0d4e2e-b040-45d1-8a4c-e775520a4bbc\",\"name\":\"Send Slack Notification\",\"type\":\"n8n-nodes-base.slack\",\"position\":[-60,860],\"webhookId\":\"dc308b09-6aea-41be-96c4-c322cfc8ed8f\",\"parameters\":{\"text\":\"=High-value lead alert: {{ $json.leadId }}\\nProperty Value: ${{ $json.propertyData.estimatedValue }}\\nScore: {{ $json.score }}\\nQualification Notes: {{ $json.qualificationNotes }}\",\"select\":\"channel\",\"channelId\":\"high-value-leads\",\"otherOptions\":{}},\"typeVersion\":2},{\"id\":\"de158d72-7472-4075-ba57-13916739d24b\",\"name\":\"Notification Instructions\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,520],\"parameters\":{\"color\":4,\"width\":460,\"height\":500,\"content\":\"# NOTIFICATION CONFIGURATION\\n\\n1. Set up Slack credentials in n8n's Credentials Manager\\n2. Update the channel ID to match your Slack workspace\\n3. Customize the notification format and content\\n4. Alternative options:\\n   - Replace with Email notification\\n   - Use Microsoft Teams\\n   - Send SMS alerts via Twilio\\n   - Post to a dedicated dashboard\\n   - Log to monitoring system\"},\"typeVersion\":1},{\"id\":\"1433b56d-3d8e-465a-bccc-c2dece4d6a1c\",\"name\":\"Workflow Overview\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-3200,260],\"parameters\":{\"width\":400,\"height\":400,\"content\":\"# BatchData Lead Qualification Workflow\\n\\nThis workflow integrates with BatchData's Property Lookup API to verify, enrich, and qualify leads based on property data. When a new lead is added to your CRM, the workflow:\\n\\n1. Retrieves the lead's address information\\n2. Verifies property details using BatchData's API\\n3. Scores and qualifies the lead based on property characteristics\\n4. Updates the CRM with enriched data and qualification status\\n5. Routes high-value leads for immediate follow-up\\n\\n## SETUP CHECKLIST\\n- [ ] Configure CRM API credentials\\n- [ ] Set up BatchData API key\\n- [ ] Configure Slack/notification credentials\\n- [ ] Customize scoring thresholds\\n- [ ] Adjust CRM field mappings\\n- [ ] Test with sample lead data\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"d914c2d9-b2af-4c00-b5cd-7ed80d713cb0\",\"connections\":{\"Fetch Lead Data\":{\"main\":[[{\"node\":\"BatchData Property Lookup\",\"type\":\"main\",\"index\":0}]]},\"Update CRM Lead\":{\"main\":[[{\"node\":\"Is High-Value Lead?\",\"type\":\"main\",\"index\":0}]]},\"Is High-Value Lead?\":{\"main\":[[{\"node\":\"Create Immediate Follow-up Task\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Slack Notification\",\"type\":\"main\",\"index\":0}]]},\"CRM New Lead Webhook\":{\"main\":[[{\"node\":\"Fetch Lead Data\",\"type\":\"main\",\"index\":0}]]},\"Score And Qualify Lead\":{\"main\":[[{\"node\":\"Update CRM Lead\",\"type\":\"main\",\"index\":0}]]},\"BatchData Property Lookup\":{\"main\":[[{\"node\":\"Score And Qualify Lead\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## How It Works\n\nThis workflow automates the real estate lead qualification process by leveraging property data from BatchData. The automation follows these steps:\n\n  1. When a new lead is received through your CRM webhook, the workflow captures their address information\n  2. It then makes an API call to BatchData to retrieve comprehensive property details\n  3. A sophisticated scoring algorithm evaluates the lead based on property characteristics like:\n\n\n  * Property value (higher values earn more points)\n  * Square footage (larger properties score higher)\n  * Property age (newer constructions score higher)\n  * Investment status (non-owner occupied properties earn bonus points)\n  * Lot size (larger lots receive additional score)\n\n\n  1. Leads are automatically classified into categories (high-value, qualified, potential, or unqualified)\n  2. The workflow updates your CRM with enriched property data and qualification scores\n  3. High-value leads trigger immediate follow-up tasks for your team\n  4. Notifications are sent to your preferred channel (Slack in this example)\n\n\n\nThe entire process happens within seconds of receiving a new lead, ensuring your sales team can prioritize the most valuable opportunities immediately..\n\n## Who It's For\n\nThis workflow is perfect for:\n\n  * Real estate agents and brokers looking to prioritize high-value property leads\n  * Mortgage lenders who need to qualify borrowers based on property assets\n  * Home service providers (renovators, contractors, solar installers) targeting specific property types\n  * Property investors seeking specific investment opportunities\n  * Real estate marketers who want to segment audiences by property value\n  * Home insurance agents qualifying leads based on property characteristics\n\n\n\nAny business that bases lead qualification on property details will benefit from this automated qualification system.\n\n## About BatchData\n\nBatchData is a comprehensive property data provider that offers detailed information about residential and commercial properties across the United States. Their API provides:\n\n  * Property valuation and estimates\n  * Ownership information\n  * Property characteristics (size, age, bedrooms, bathrooms)\n  * Tax assessment data\n  * Transaction history\n  * Occupancy status (owner-occupied vs. investment)\n  * Lot details and dimensions\n\n\n\nBy integrating BatchData with your lead management process, you can automatically verify and enrich leads with accurate property information, enabling more intelligent lead scoring and routing based on actual property characteristics rather than just contact information.\n\nThis workflow demonstrates how to leverage BatchData's property API to transform your lead qualification process from manual research into an automated, data-driven system that ensures high-value leads receive immediate attention.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h2>How It Works</h2>\n<p>This workflow automates the real estate lead qualification process by leveraging property data from BatchData. The automation follows these steps:</p>\n<ol>\n<li>When a new lead is received through your CRM webhook, the workflow captures their address information</li>\n<li>It then makes an API call to BatchData to retrieve comprehensive property details</li>\n<li>A sophisticated scoring algorithm evaluates the lead based on property characteristics like:</li>\n</ol>\n<ul>\n<li>Property value (higher values earn more points)</li>\n<li>Square footage (larger properties score higher)</li>\n<li>Property age (newer constructions score higher)</li>\n<li>Investment status (non-owner occupied properties earn bonus points)</li>\n<li>Lot size (larger lots receive additional score)</li>\n</ul>\n<ol>\n<li>Leads are automatically classified into categories (high-value, qualified, potential, or unqualified)</li>\n<li>The workflow updates your CRM with enriched property data and qualification scores</li>\n<li>High-value leads trigger immediate follow-up tasks for your team</li>\n<li>Notifications are sent to your preferred channel (Slack in this example)</li>\n</ol>\n<p>The entire process happens within seconds of receiving a new lead, ensuring your sales team can prioritize the most valuable opportunities immediately..</p>\n<h2>Who It's For</h2>\n<p>This workflow is perfect for:</p>\n<ul>\n<li>Real estate agents and brokers looking to prioritize high-value property leads</li>\n<li>Mortgage lenders who need to qualify borrowers based on property assets</li>\n<li>Home service providers (renovators, contractors, solar installers) targeting specific property types</li>\n<li>Property investors seeking specific investment opportunities</li>\n<li>Real estate marketers who want to segment audiences by property value</li>\n<li>Home insurance agents qualifying leads based on property characteristics</li>\n</ul>\n<p>Any business that bases lead qualification on property details will benefit from this automated qualification system.</p>\n<h2>About BatchData</h2>\n<p>BatchData is a comprehensive property data provider that offers detailed information about residential and commercial properties across the United States. Their API provides:</p>\n<ul>\n<li>Property valuation and estimates</li>\n<li>Ownership information</li>\n<li>Property characteristics (size, age, bedrooms, bathrooms)</li>\n<li>Tax assessment data</li>\n<li>Transaction history</li>\n<li>Occupancy status (owner-occupied vs. investment)</li>\n<li>Lot details and dimensions</li>\n</ul>\n<p>By integrating BatchData with your lead management process, you can automatically verify and enrich leads with accurate property information, enabling more intelligent lead scoring and routing based on actual property characteristics rather than just contact information.</p>\n<p>This workflow demonstrates how to leverage BatchData's property API to transform your lead qualification process from manual research into an automated, data-driven system that ensures high-value leads receive immediate attention.</p>\n</div><!--]-->",
  "readme_zh": "## 运作原理\n\n本工作流通过调用BatchData的房产数据，实现了房地产潜在客户筛选流程的自动化。自动化流程包含以下步骤：\n\n  1. 当CRM系统通过网页钩子接收到新客户信息时，工作流自动抓取其地址数据\n  2. 向BatchData发起API调用，获取完整的房产详细信息\n  3. 采用智能评分算法根据以下房产特征进行评估：\n\n\n  * 房产价值（价值越高得分越高）\n  * 建筑面积（面积越大评分越高）\n  * 房龄（新房源获得更高评分）\n  * 投资属性（非自住房产获得加分）\n  * 地块面积（更大土地面积获得额外评分）\n\n\n  1. 自动将客户分级（高价值/合格/潜力/不合格）\n  2. 将增强版房产数据与评级分数更新至CRM系统\n  3. 高价值客户将触发团队即时跟进任务\n  4. 通过指定渠道发送通知（本例为Slack）\n\n整个流程在收到新客户信息后数秒内完成，确保销售团队能立即锁定最具价值的商机。\n\n## 适用对象\n\n本工作流特别适合：\n\n  * 需要优先处理高价值房源的房地产经纪人与中介\n  * 需根据房产资产评估贷款资质的抵押贷款机构\n  * 针对特定房产类型的家居服务商（装修/施工/太阳能安装）\n  * 寻求特定投资机会的房产投资者\n  * 希望按房产价值细分受众的房地产营销人员\n  * 根据房产特征筛选客户的房屋保险经纪人\n\n任何基于房产信息进行客户筛选的企业都能从该自动化系统中受益。\n\n## BatchData简介\n\nBatchData是全美领先的房产数据服务商，提供住宅与商业地产的详尽信息。其API接口包含：\n\n  * 房产估值与估价报告\n  * 产权信息\n  * 房产特征（面积/房龄/卧室浴室数量）\n  * 税务评估数据\n  * 交易历史记录\n  * 占用状态（自住/投资）\n  * 地块详情与尺寸\n\n通过将BatchData集成至客户管理流程，您可自动验证客户信息并补充精准房产数据，实现基于真实房产特征（而非仅联系方式）的智能评分与分配。\n\n本工作流展示了如何运用BatchData房产API，将人工核验流程升级为自动化数据驱动系统，确保高价值客户获得即时响应。",
  "title_zh": "批量数据自动化房地产潜在客户评分系统",
  "publish_date_zh": "上次更新于12天前",
  "workflow_json_zh": "{\n  \"id\": \"0uon02fOzPkLcG6G\",\n  \"meta\": {\n    \"instanceId\": \"bb9853d4d7d87207561a30bc6fe4ece20b295264f7d27d4a62215de2f3846a56\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Lead Qualification with BatchData\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"376bc838-013e-4033-a508-d27a2a64d792\",\n      \"name\": \"CRM New Lead Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -2560,\n        600\n      ],\n      \"webhookId\": \"8fb37aae-df12-40eb-81ea-0e5022e1f988\",\n      \"parameters\": {\n        \"path\": \"crm-new-lead\",\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2ca36d9f-7682-4a08-9fff-1674b36e07e4\",\n      \"name\": \"Webhook Setup Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2720,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 420,\n        \"height\": 620,\n        \"content\": \"# WEBHOOK 设置指南\\n\\n1. 复制此webhook网址并配置您的CRM系统将通知发送至此地址\\n2. 预期数据格式：\\n   ```\\n   {\\n     \\\"leadId\\\": \\\"123\\\",\\n     \\\"crmApiUrl\\\": \\\"https://您的crm接口域名.com/api/v1\\\",\\n     \\\"address\\\": \\\"主街123号\\\",\\n     \\\"city\\\": \\\"任意市\\\",\\n     \\\"state\\\": \\\"加利福尼亚州\\\",\\n     \\\"zipcode\\\": \\\"90210\\\"\\n   }\\n   ```\\n3. 所有字段均为房产验证必填项\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"961b3c4c-5b58-439e-9c8c-cc6e9774ebe7\",\n      \"name\": \"Fetch Lead Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -2180,\n        600\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.crmApiUrl }}/leads/{{ $json.leadId }}\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"3549918e-cea8-467e-90d0-3661a5f54ae9\",\n      \"name\": \"CRM API Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2280,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 300,\n        \"height\": 620,\n        \"content\": \"# CRM API配置指南\\n\\n1. 为您的CRM API创建HTTP头部认证凭证\\n2. 包含必要的授权请求头（例如'Authorization: Bearer YOUR_TOKEN'）\\n3. 该节点通过webhook中的潜在客户ID获取完整的客户数据\\n4. 确保您的CRM API返回房产验证所需的地址信息\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"25445c3c-adf0-41d7-8f5f-c0fabc297658\",\n      \"name\": \"BatchData Property Lookup\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1840,\n        600\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.batchdata.com/api/v1/property/search\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"address\",\n              \"value\": \"={{ $json.address }}\"\n            },\n            {\n              \"name\": \"city\",\n              \"value\": \"={{ $json.city }}\"\n            },\n            {\n              \"name\": \"state\",\n              \"value\": \"={{ $json.state }}\"\n            },\n            {\n              \"name\": \"zipcode\",\n              \"value\": \"={{ $json.zipcode }}\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"85808ecf-e5b0-4d36-a2c3-66c26bb2a191\",\n      \"name\": \"BatchData API Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1960,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 360,\n        \"height\": 620,\n        \"content\": \"# 批量数据API设置指南\\n\\n1. 在BatchData.com创建账户以获取您的API密钥\\n2. 配置HTTP头部认证凭证，使用'x-api-key: 您的批量数据API密钥'\\n3. 此API调用通过潜在客户地址验证房产详细信息\\n4. 预期响应包含房产价值、面积、房龄及产权状态\\n5. 根据批量数据官方文档调整API端点（如需要）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"389e2f49-9ed4-4017-8002-ac86e1001ed9\",\n      \"name\": \"Score And Qualify Lead\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -1480,\n        620\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Initialize lead score\\nlet score = 0;\\nlet qualificationStatus = \\\"not qualified\\\";\\nlet qualificationNotes = [];\\n\\n// Get property data from BatchData response\\nconst propertyData = $input.first().json;\\nconst leadData = $input.first().json;\\n\\n// Check if property exists\\nif (propertyData.success === true && propertyData.data) {\\n  const property = propertyData.data;\\n  \\n  // Score based on property value\\n  if (property.estimatedValue > 750000) {\\n    score += 30;\\n    qualificationNotes.push(\\\"High-value property: $\\\" + property.estimatedValue);\\n  } else if (property.estimatedValue > 500000) {\\n    score += 20;\\n    qualificationNotes.push(\\\"Mid-high value property: $\\\" + property.estimatedValue);\\n  } else if (property.estimatedValue > 350000) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Average value property: $\\\" + property.estimatedValue);\\n  }\\n  \\n  // Score based on property size\\n  if (property.squareFootage > 3000) {\\n    score += 15;\\n    qualificationNotes.push(\\\"Large property: \\\" + property.squareFootage + \\\" sq ft\\\");\\n  } else if (property.squareFootage > 2000) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Mid-size property: \\\" + property.squareFootage + \\\" sq ft\\\");\\n  }\\n  \\n  // Score based on property age\\n  const currentYear = new Date().getFullYear();\\n  const propertyAge = currentYear - property.yearBuilt;\\n  \\n  if (propertyAge < 5) {\\n    score += 15;\\n    qualificationNotes.push(\\\"New construction: \\\" + property.yearBuilt);\\n  } else if (propertyAge < 20) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Relatively new property: \\\" + property.yearBuilt);\\n  }\\n  \\n  // Other factors to consider\\n  if (property.ownerOccupied === false) {\\n    score += 15;\\n    qualificationNotes.push(\\\"Investment property (not owner-occupied)\\\");\\n  }\\n  \\n  if (property.lotSize > 0.5) {\\n    score += 10;\\n    qualificationNotes.push(\\\"Large lot size: \\\" + property.lotSize + \\\" acres\\\");\\n  }\\n  \\n  // Determine qualification status based on score\\n  if (score >= 50) {\\n    qualificationStatus = \\\"high-value\\\";\\n  } else if (score >= 30) {\\n    qualificationStatus = \\\"qualified\\\";\\n  } else if (score >= 15) {\\n    qualificationStatus = \\\"potential\\\";\\n  }\\n  \\n  // Combine all data for CRM update\\n  const enrichedData = {\\n    leadId: leadData.leadId,\\n    score: score,\\n    qualificationStatus: qualificationStatus,\\n    qualificationNotes: qualificationNotes.join(\\\", \\\"),\\n    propertyData: {\\n      estimatedValue: property.estimatedValue,\\n      squareFootage: property.squareFootage,\\n      yearBuilt: property.yearBuilt,\\n      lotSize: property.lotSize,\\n      bedrooms: property.bedrooms,\\n      bathrooms: property.bathrooms,\\n      ownerOccupied: property.ownerOccupied,\\n      lastSaleDate: property.lastSaleDate,\\n      lastSalePrice: property.lastSalePrice\\n    }\\n  };\\n  \\n  return enrichedData;\\n} else {\\n  // If property data not found\\n  qualificationNotes.push(\\\"Property data not found or verification failed\\\");\\n  \\n  return {\\n    leadId: leadData.leadId,\\n    score: 0,\\n    qualificationStatus: \\\"unverified\\\",\\n    qualificationNotes: qualificationNotes.join(\\\", \\\"),\\n    propertyData: null\\n  };\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f33f6442-5e8b-4aab-b5ff-d37d062a5cfa\",\n      \"name\": \"Lead Scoring Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1580,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 320,\n        \"height\": 1060,\n        \"content\": \"# 潜在客户评分算法\\n\\n该函数实现了一套针对房产潜在客户的精密评分系统：\\n\\n### 评分要素\\n- **房产价值**\\n  - >75万美元：30分\\n  - >50万美元：20分\\n  - >35万美元：10分\\n\\n- **房屋面积**\\n  - >3000平方英尺：15分\\n  - >2000平方英尺：10分\\n\\n- **房龄**\\n  - <5年：15分\\n  - <20年：10分\\n\\n- **其他因素**\\n  - 投资性房产：15分\\n  - 大地块（>0.5英亩）：10分\\n\\n### 评级阈值\\n- **高价值客户**：50分以上\\n- **合格客户**：30-49分\\n- **潜力客户**：15-29分\\n- **不合格客户**：15分以下\\n- **未验证客户**：无房产数据\\n\\n可根据具体业务需求自定义评分值和评级阈值。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b9bcb2af-6ccc-4f9e-9926-765df4f36809\",\n      \"name\": \"Update CRM Lead\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1120,\n        620\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.crmApiUrl }}/leads/{{ $json.leadId }}\",\n        \"method\": \"PUT\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"score\",\n              \"value\": \"={{ $json.score }}\"\n            },\n            {\n              \"name\": \"qualificationStatus\",\n              \"value\": \"={{ $json.qualificationStatus }}\"\n            },\n            {\n              \"name\": \"qualificationNotes\",\n              \"value\": \"={{ $json.qualificationNotes }}\"\n            },\n            {\n              \"name\": \"propertyValue\",\n              \"value\": \"={{ $json.propertyData.estimatedValue }}\"\n            },\n            {\n              \"name\": \"squareFootage\",\n              \"value\": \"={{ $json.propertyData.squareFootage }}\"\n            },\n            {\n              \"name\": \"yearBuilt\",\n              \"value\": \"={{ $json.propertyData.yearBuilt }}\"\n            },\n            {\n              \"name\": \"bedrooms\",\n              \"value\": \"={{ $json.propertyData.bedrooms }}\"\n            },\n            {\n              \"name\": \"bathrooms\",\n              \"value\": \"={{ $json.propertyData.bathrooms }}\"\n            },\n            {\n              \"name\": \"batchDataVerified\",\n              \"value\": \"={{ $json.propertyData !== null }}\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"3cfa64f8-527a-49d5-9787-156fe084f37c\",\n      \"name\": \"CRM Update Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1240,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 340,\n        \"height\": 620,\n        \"content\": \"# CRM更新配置\\n\\n1. 该节点使用增强的房产数据和潜在客户资质信息更新您的CRM系统\\n2. 调整请求体参数中的字段名称以匹配您CRM的API结构\\n3. 常见需要更新的字段包括：\\n   - 潜在客户评分和资质状态\\n   - 房产详细信息（价值、面积、卧室/卫生间数量）\\n   - 验证状态\\n4. 如果您的CRM使用PATCH而非PUT方法，请相应调整请求方式\\n5. 确保您的CRM凭证具有更新潜在客户记录的写入权限\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8470bcf6-a539-4f75-8494-f76bcfc95f00\",\n      \"name\": \"Is High-Value Lead?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -760,\n        620\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.qualificationStatus }}\",\n              \"value2\": \"high-value\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"da84ac21-fbb2-4640-8e92-f40b23d2fa0a\",\n      \"name\": \"Routing Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -880,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 320,\n        \"height\": 620,\n        \"content\": \"# 路由逻辑\\n\\n该条件节点根据潜在客户的资质决定工作流路径：\\n\\n- **TRUE路径（上方）**：将高价值客户路由至即时跟进流程\\n- **FALSE路径（下方）**：将普通客户路由至仅通知流程\\n\\n您可根据以下条件修改路由规则：\\n- 评分阈值（如>30分）\\n- 房产特征（如房产价值>100万美元）\\n- 地理定位（如特定邮编区域）\\n- 客户来源（如转介客户与网络客户）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c7772695-cda1-4483-a961-7468fd075c55\",\n      \"name\": \"Create Immediate Follow-up Task\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -180,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.crmApiUrl }}/tasks\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"type\",\n              \"value\": \"immediate-followup\"\n            },\n            {\n              \"name\": \"leadId\",\n              \"value\": \"={{ $json.leadId }}\"\n            },\n            {\n              \"name\": \"priority\",\n              \"value\": \"high\"\n            },\n            {\n              \"name\": \"dueDate\",\n              \"value\": \"={{ $now.format(\\\"YYYY-MM-DD\\\") }}\"\n            },\n            {\n              \"name\": \"note\",\n              \"value\": \"High-value lead with property value of ${{ $json.propertyData.estimatedValue }}. Immediate follow-up required.\"\n            },\n            {\n              \"name\": \"assignedTo\",\n              \"value\": \"senior-agent\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"2fd15500-7314-4910-b822-c3d9de4166df\",\n      \"name\": \"Follow-up Task Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        -140\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 420,\n        \"height\": 640,\n        \"content\": \"# 高价值客户处理流程\\n\\n1. 该节点会为优质客户创建紧急跟进任务\\n2. 可自定义参数以匹配您的CRM/任务系统API：\\n   - 任务负责人（当前设置为\\\"高级客服\\\"）\\n   - 优先级和任务类型\\n   - 截止日期格式\\n   - 任务描述\\n3. 替代处理方案：\\n   - 向销售经理发送邮件提醒\\n   - 创建Salesforce商机\\n   - 触发短信通知\\n   - 加入特殊跟进营销活动\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d0d4e2e-b040-45d1-8a4c-e775520a4bbc\",\n      \"name\": \"Send Slack Notification\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        -60,\n        860\n      ],\n      \"webhookId\": \"dc308b09-6aea-41be-96c4-c322cfc8ed8f\",\n      \"parameters\": {\n        \"text\": \"=High-value lead alert: {{ $json.leadId }}\\nProperty Value: ${{ $json.propertyData.estimatedValue }}\\nScore: {{ $json.score }}\\nQualification Notes: {{ $json.qualificationNotes }}\",\n        \"select\": \"channel\",\n        \"channelId\": \"high-value-leads\",\n        \"otherOptions\": {}\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"de158d72-7472-4075-ba57-13916739d24b\",\n      \"name\": \"Notification Instructions\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        520\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 460,\n        \"height\": 500,\n        \"content\": \"# 通知配置\\n\\n1. 在n8n的凭证管理器中设置Slack凭据\\n2. 更新频道ID以匹配您的Slack工作区\\n3. 自定义通知格式和内容\\n4. 备选方案：\\n   - 替换为电子邮件通知\\n   - 使用Microsoft Teams\\n   - 通过Twilio发送短信提醒\\n   - 发布到专用仪表板\\n   - 记录到监控系统\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1433b56d-3d8e-465a-bccc-c2dece4d6a1c\",\n      \"name\": \"Workflow Overview\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -3200,\n        260\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 400,\n        \"content\": \"# 批量数据潜在客户资质审核工作流\\n\\n该工作流与BatchData房产查询API集成，基于房产数据验证、丰富并筛选潜在客户。当新潜在客户添加到您的CRM系统时，工作流将：\\n\\n1. 获取潜在客户的地址信息\\n2. 使用BatchData API验证房产详情\\n3. 根据房产特征评分并筛选潜在客户\\n4. 用增强数据和资质状态更新CRM系统\\n5. 将高价值潜在客户转交即时跟进\\n\\n## 设置清单\\n- [ ] 配置CRM系统API凭证\\n- [ ] 设置BatchData API密钥\\n- [ ] 配置Slack/通知凭证\\n- [ ] 自定义评分阈值\\n- [ ] 调整CRM字段映射\\n- [ ] 使用样本潜在客户数据测试\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"d914c2d9-b2af-4c00-b5cd-7ed80d713cb0\",\n  \"connections\": {\n    \"Fetch Lead Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"BatchData Property Lookup\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update CRM Lead\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is High-Value Lead?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is High-Value Lead?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Immediate Follow-up Task\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send Slack Notification\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CRM New Lead Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Lead Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Score And Qualify Lead\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update CRM Lead\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"BatchData Property Lookup\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Score And Qualify Lead\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}