{
  "title": "Send Jira task notifications to Telegram user via Bot",
  "url": "https://n8n.io/workflows/2708-send-jira-task-notifications-to-telegram-user-via-bot/",
  "category": "Engineering",
  "category_url": "https://n8n.io/workflows/categories/engineering/?count=20",
  "author": "Abolfazl Akbarzadeh",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"id\":\"e10615ff-41dc-4ea6-981a-d8e949e2e386\",\"name\":\"telegram account\",\"type\":\"n8n-nodes-base.code\",\"position\":[-220,0],\"parameters\":{\"jsCode\":\"const accountId = $('jira-webhook').first().json.body.fields.assignee?.accountId\\n\\nconst telegramAccounts = {\\n  \\\"[jira account id]\\\": 00000000, // telegram chat id\\n}\\n\\nconst telegramChatId = telegramAccounts[accountId]\\n\\nreturn [{telegramChatId}]\"},\"typeVersion\":2},{\"id\":\"a0effbdb-8f99-4248-9a98-aba34ff67690\",\"name\":\"check tg account exists\",\"type\":\"n8n-nodes-base.if\",\"position\":[40,120],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"149c600c-7030-4480-a4ef-18f02fd9ade9\",\"operator\":{\"type\":\"number\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $('telegram account').item.json.telegramChatId }}\",\"rightValue\":\"\"}]},\"looseTypeValidation\":true},\"typeVersion\":2.2},{\"id\":\"71d58c37-9934-4b10-8aed-d66175a1bc3a\",\"name\":\"check type\",\"type\":\"n8n-nodes-base.switch\",\"position\":[300,0],\"parameters\":{\"rules\":{\"values\":[{\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('jira-webhook').item.json.headers.type }}\",\"rightValue\":\"created\"}]}},{\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"1ec37373-db94-401d-8913-9f18d2bb8b08\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('jira-webhook').item.json.headers.type }}\",\"rightValue\":\"updated\"}]}},{\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"12b237f5-d9ef-46be-98f9-60fe74a54298\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('jira-webhook').item.json.headers.type }}\",\"rightValue\":\"change-assignee\"}]}}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"251f6e9b-439a-46f6-bb7d-be04e722a494\",\"name\":\"Send Update\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[580,0],\"parameters\":{\"text\":\"=‚ö†Ô∏è Update {{ $('jira-webhook').item.json.body.fields.issuetype.name }}\\n\\nüî∞ Project: `{{ $('jira-webhook').item.json.body.fields.project.name }}`\\n\\nüÜî Key: `{{ $('jira-webhook').item.json.body.key }}`\\n\\nüî∞ Title: `{{ $('jira-webhook').item.json.body.fields.summary }}`\\n\\nüî∞ Description: `{{ $('jira-webhook').item.json.body.fields.description }}`\\n\\nCreate Time: `{{ DateTime.fromMillis($('jira-webhook').item.json.body.fields.created).format(\\\"yyyy-MM-dd HH:mm\\\") }}`\",\"chatId\":\"={{ $(\\\"telegram account\\\").item.json.telegramChatId }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"Sg6YvV1Qx1JnVVWu\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"8efbed55-8642-440c-9ec7-8b93256a27f5\",\"name\":\"Send Create\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[580,-180],\"parameters\":{\"text\":\"=üÜï New {{ $('jira-webhook').item.json.body.fields.issuetype.name }}\\n\\nüî∞ Project: `{{ $('jira-webhook').item.json.body.fields.project.name }}`\\n\\nüÜî Key: `{{ $('jira-webhook').item.json.body.key }}`\\n\\nüî∞ Title: `{{ $('jira-webhook').item.json.body.fields.summary }}`\\n\\nüî∞ Description: `{{ $('jira-webhook').item.json.body.fields.description }}`\\n\\nCreate Time: `{{ DateTime.fromMillis($('jira-webhook').item.json.body.fields.created).format(\\\"yyyy-MM-dd HH:mm\\\") }}`\",\"chatId\":\"={{ $(\\\"telegram account\\\").item.json.telegramChatId }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"Sg6YvV1Qx1JnVVWu\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"9c2889e7-7c9c-490c-8293-fed3c255f086\",\"name\":\"Send Assign Alert\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[580,180],\"parameters\":{\"text\":\"=üë©‚Äçüíªüë®‚Äçüíª Assigned to you {{ $('jira-webhook').item.json.body.fields.issuetype.name }}\\n\\nüî∞ Project: `{{ $('jira-webhook').item.json.body.fields.project.name }}`\\n\\nüÜî Key: `{{ $('jira-webhook').item.json.body.key }}`\\n\\nüî∞ Title: `{{ $('jira-webhook').item.json.body.fields.summary }}`\\n\\nüî∞ Description: `{{ $('jira-webhook').item.json.body.fields.description }}`\\n\\nCreate Time: `{{ DateTime.fromMillis($('jira-webhook').item.json.body.fields.created).format(\\\"yyyy-MM-dd HH:mm\\\") }}`\",\"chatId\":\"={{ $(\\\"telegram account\\\").item.json.telegramChatId }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"Sg6YvV1Qx1JnVVWu\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"f660857d-ff24-4c08-bb13-e2461da950d6\",\"name\":\"check issue body, assignee and hook type\",\"type\":\"n8n-nodes-base.if\",\"position\":[-480,120],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"6862ba4b-7f46-44d2-9f82-da33b3ed0166\",\"operator\":{\"type\":\"object\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $('jira-webhook').item.json.body }}\",\"rightValue\":\"\"},{\"id\":\"67527de5-e12c-4917-b1f6-791c79b08637\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $('jira-webhook').item.json.headers.type }}\",\"rightValue\":\"\"},{\"id\":\"26a19a6a-a072-4035-a1cd-113277476899\",\"operator\":{\"type\":\"object\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $('jira-webhook').item.json.body.fields.assignee }}\",\"rightValue\":\"=\"}]}},\"typeVersion\":2.2},{\"id\":\"6ed72f04-7b15-4fb4-8699-0691beac69c0\",\"name\":\"jira-webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-740,0],\"webhookId\":\"1e4989bf-6a23-4415-bd17-72d08130c5c4\",\"parameters\":{\"path\":\"1e4989bf-6a23-4415-bd17-72d08130c5c4\",\"options\":{},\"httpMethod\":\"POST\",\"authentication\":\"headerAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"9EPLvRDcYuohsyim\",\"name\":\"Header Auth account\"}},\"typeVersion\":2}],\"pinData\":{},\"connections\":{\"check type\":{\"main\":[[{\"node\":\"Send Create\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Update\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Send Assign Alert\",\"type\":\"main\",\"index\":0}]]},\"jira-webhook\":{\"main\":[[{\"node\":\"check issue body, assignee and hook type\",\"type\":\"main\",\"index\":0}]]},\"telegram account\":{\"main\":[[{\"node\":\"check tg account exists\",\"type\":\"main\",\"index\":0}]]},\"check tg account exists\":{\"main\":[[{\"node\":\"check type\",\"type\":\"main\",\"index\":0}]]},\"check issue body, assignee and hook type\":{\"main\":[[{\"node\":\"telegram account\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**What we wanna do?**\n\nLet's look at the concern. In my experience, some developers don't check their Jira board to find out whether there are new updates on the issues or not or if some Issues need to be addressed as soon as possible. So, the developer or anyone else in other fields needs to be informed about the task as soon as possible, too. One way to send this immediate notification is through the Telegram Bot.\n\n**Setup Guide**\n\nso, first of all, you need to register a Telegram Bot in your account and obtain its token, so that we'll be able to send Telegram messages by using this token through our bot;  \nafter getting your telegram bot token\n\n  * go to the workflow and click on _one of the telegram nodes_\n  * select the telegram credential or create one through the **Credential to connect with** field\n  * and put the token in the token in the **Access Token** field.\n\n\n\nOk, you're done with the Telegram Side setup.\n\nthen you need the Jira accounts (team users) **accountId** and also their telegram **chatId** for the **telegram account** node so that it can find the corresponding telegram user from the assignee of the issue, put this data as following guide comments in the **telegram account** node.\n\nNow we go for the Jira side setup, you need to setup some **automation rules** as your needs.\n\n  * go to the Jira settings and **Global automation** section, click on the _Create Rule_ button\n  * select the **Issue Created** trigger type in the _When_ step\n  * add a **Send webhook request** action, after selecting it you'll see its settings\n  * go back to workflow and from the **jira-webhook** node copy the **Production URL**\n  * paste it in the **Web request URL** field in the Jira action setting\n  * then set the **HTTP method** field on **POST**\n  * set **Web request body** on **Issue Data (Automation format)**\n  * in the header section, add a new header with the name **type** and value **created** for the creation event.\n\n\n\nOK, the Jira side also is done! Now It's time to test!\n\nIf you've put your Jira **accountId** and telegram **chatId** in the **telegram account** node and of course started the telegram bot, after creating an Issue that is assigned to you, the creation notif will send to you in telegram!\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p><strong>What we wanna do?</strong></p>\n<p>Let's look at the concern. In my experience, some developers don't check their Jira board to find out whether there are new updates on the issues or not or if some Issues need to be addressed as soon as possible. So, the developer or anyone else in other fields needs to be informed about the task as soon as possible, too. One way to send this immediate notification is through the Telegram Bot.</p>\n<p><strong>Setup Guide</strong></p>\n<p>so, first of all, you need to register a Telegram Bot in your account and obtain its token, so that we'll be able to send Telegram messages by using this token through our bot;<br>\nafter getting your telegram bot token</p>\n<ul>\n<li>go to the workflow and click on <em>one of the telegram nodes</em></li>\n<li>select the telegram credential or create one through the <strong>Credential to connect with</strong> field</li>\n<li>and put the token in the token in the <strong>Access Token</strong> field.</li>\n</ul>\n<p>Ok, you're done with the Telegram Side setup.</p>\n<p>then you need the Jira accounts (team users) <strong>accountId</strong> and also their telegram <strong>chatId</strong> for the <strong>telegram account</strong> node so that it can find the corresponding telegram user from the assignee of the issue, put this data as following guide comments in the <strong>telegram account</strong> node.</p>\n<p>Now we go for the Jira side setup, you need to setup some <strong>automation rules</strong> as your needs.</p>\n<ul>\n<li>go to the Jira settings and <strong>Global automation</strong> section, click on the <em>Create Rule</em> button</li>\n<li>select the <strong>Issue Created</strong> trigger type in the <em>When</em> step</li>\n<li>add a <strong>Send webhook request</strong> action, after selecting it you'll see its settings</li>\n<li>go back to workflow and from the <strong>jira-webhook</strong> node copy the <strong>Production URL</strong></li>\n<li>paste it in the <strong>Web request URL</strong> field in the Jira action setting</li>\n<li>then set the <strong>HTTP method</strong> field on <strong>POST</strong></li>\n<li>set <strong>Web request body</strong> on <strong>Issue Data (Automation format)</strong></li>\n<li>in the header section, add a new header with the name <strong>type</strong> and value <strong>created</strong> for the creation event.</li>\n</ul>\n<p>OK, the Jira side also is done! Now It's time to test!</p>\n<p>If you've put your Jira <strong>accountId</strong> and telegram <strong>chatId</strong> in the <strong>telegram account</strong> node and of course started the telegram bot, after creating an Issue that is assigned to you, the creation notif will send to you in telegram!</p>\n</div><!--]-->"
}