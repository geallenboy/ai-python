{
  "title": "Monitor a file for changes and send an alert",
  "url": "https://n8n.io/workflows/967-monitor-a-file-for-changes-and-send-an-alert/",
  "category": "Engineering",
  "category_url": "https://n8n.io/workflows/categories/engineering/",
  "author": "Ron",
  "publish_date": "Last update 9 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"2\",\"name\":\"SIGNL4 Alert\",\"nodes\":[{\"name\":\"Cron\",\"type\":\"n8n-nodes-base.cron\",\"position\":[350,500],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyHour\"}]}},\"typeVersion\":1},{\"name\":\"Write Binary File\",\"type\":\"n8n-nodes-base.writeBinaryFile\",\"position\":[880,500],\"parameters\":{\"fileName\":\"alert-data.json\"},\"typeVersion\":1},{\"name\":\"Read Binary File\",\"type\":\"n8n-nodes-base.readBinaryFile\",\"position\":[450,270],\"parameters\":{\"filePath\":\"alert-data.json\"},\"typeVersion\":1},{\"name\":\"Binary to JSON\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[630,270],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"name\":\"JSON to Binary\",\"type\":\"n8n-nodes-base.moveBinaryData\",\"position\":[720,500],\"parameters\":{\"mode\":\"jsonToBinary\",\"options\":{}},\"typeVersion\":1},{\"name\":\"Mark as Done\",\"type\":\"n8n-nodes-base.function\",\"position\":[560,500],\"parameters\":{\"functionCode\":\"items[0].json.Body = $node[\\\"Binary to JSON\\\"].json.Body;\\nitems[0].json.Done = true;\\nitems[0].json.eventId = $node[\\\"SIGNL4 Alert\\\"].json.eventId;\\nitems[0].json.lastId = $node[\\\"Binary to JSON\\\"].json.eventId;\\n\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[810,270],\"parameters\":{\"conditions\":{\"boolean\":[{\"value1\":\"={{$node[\\\"Binary to JSON\\\"].json[\\\"Done\\\"]}}\"}]},\"combineOperation\":\"=all\"},\"typeVersion\":1},{\"name\":\"SIGNL4 Resolve\",\"type\":\"n8n-nodes-base.signl4\",\"position\":[1040,500],\"parameters\":{\"operation\":\"resolve\",\"externalId\":\"={{$node[\\\"Binary to JSON\\\"].json[\\\"lastId\\\"]}}\"},\"credentials\":{\"signl4Api\":\"Team\"},\"typeVersion\":1},{\"name\":\"SIGNL4 Alert\",\"type\":\"n8n-nodes-base.signl4\",\"position\":[990,270],\"parameters\":{\"message\":\"={{$node[\\\"Binary to JSON\\\"].json[\\\"Body\\\"]}}\",\"additionalFields\":{\"externalId\":\"={{$node[\\\"Binary to JSON\\\"].json[\\\"eventId\\\"]}}\",\"locationFieldsUi\":{\"locationFieldsValues\":{\"latitude\":\"52.3984235\",\"longitude\":\"13.0544149\"}}}},\"credentials\":{\"signl4Api\":\"Team\"},\"typeVersion\":1}],\"active\":true,\"settings\":{\"timezone\":\"Europe/Berlin\"},\"connections\":{\"IF\":{\"main\":[[{\"node\":\"SIGNL4 Alert\",\"type\":\"main\",\"index\":0}],[{\"node\":\"SIGNL4 Resolve\",\"type\":\"main\",\"index\":0}]]},\"Cron\":{\"main\":[[{\"node\":\"Read Binary File\",\"type\":\"main\",\"index\":0}]]},\"Mark as Done\":{\"main\":[[{\"node\":\"JSON to Binary\",\"type\":\"main\",\"index\":0}]]},\"SIGNL4 Alert\":{\"main\":[[{\"node\":\"Mark as Done\",\"type\":\"main\",\"index\":0}]]},\"Binary to JSON\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"JSON to Binary\":{\"main\":[[{\"node\":\"Write Binary File\",\"type\":\"main\",\"index\":0}]]},\"Read Binary File\":{\"main\":[[{\"node\":\"Binary to JSON\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This flow monitors a file for changes of its content. If changed, an alert is sent out and you receive it as push, SMS or voice call on [SIGNL4](https://www.signl4.com).\n\nUser cases:\n\n  * Log-file monitoring\n  * Monitoring of production data\n  * Integration with third-party systems via file interface\n  * Etc.\n\n\n\nSample file \"alert-data.json\":\n    \n    \n    {\n        \"Body\": \"Alert in building A2.\",\n        \"Done\": false,\n        \"eventId\": \"2518088743722201372_4ee5617b-2731-4d38-8e16-e4148b8fb8a0\"\n    }\n    \n\nBody: The alert text to be sent.  \nDone: If false this is a new alert. If true this indicated the alert has been closed.  \neventId: Last SIGNL4 event ID written by SIGNL4.\n\nThis flow can be easily adapted for database monitoring as well.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This flow monitors a file for changes of its content. If changed, an alert is sent out and you receive it as push, SMS or voice call on <a href=\"https://www.signl4.com\" rel=\"ugc nofollow\" target=\"_blank\">SIGNL4</a>.</p>\n<p>User cases:</p>\n<ul>\n<li>Log-file monitoring</li>\n<li>Monitoring of production data</li>\n<li>Integration with third-party systems via file interface</li>\n<li>Etc.</li>\n</ul>\n<p>Sample file \"alert-data.json\":</p>\n<pre><code>{\n    \"Body\": \"Alert in building A2.\",\n    \"Done\": false,\n    \"eventId\": \"2518088743722201372_4ee5617b-2731-4d38-8e16-e4148b8fb8a0\"\n}\n</code></pre>\n<p>Body: The alert text to be sent.<br>\nDone: If false this is a new alert. If true this indicated the alert has been closed.<br>\neventId: Last SIGNL4 event ID written by SIGNL4.</p>\n<p>This flow can be easily adapted for database monitoring as well.</p>\n</div><!--]-->"
}