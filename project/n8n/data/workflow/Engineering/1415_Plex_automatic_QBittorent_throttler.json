{
  "title": "Plex automatic QBittorent throttler",
  "url": "https://n8n.io/workflows/1415-plex-automatic-qbittorent-throttler/",
  "category": "Engineering",
  "category_url": "https://n8n.io/workflows/categories/engineering/?count=20",
  "author": "Angel Menendez",
  "publish_date": "Last update 9 months ago",
  "publish_date_absolute": "2024-08-06",
  "content": "",
  "workflow_json": "{\"id\":11,\"name\":\"Plex Automatic Throttler\",\"nodes\":[{\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[60,440],\"webhookId\":\"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\"parameters\":{\"path\":\"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1},{\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[640,580],\"parameters\":{\"rules\":{\"rules\":[{\"value2\":\"media.resume\",\"operation\":\"contains\"},{\"output\":1,\"value2\":\"media.play\",\"operation\":\"contains\"},{\"output\":2,\"value2\":\"media.pause\",\"operation\":\"contains\"},{\"output\":3,\"value2\":\"media.stop\",\"operation\":\"contains\"}]},\"value1\":\"={{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"payload\\\"]}}\",\"dataType\":\"string\"},\"typeVersion\":1},{\"name\":\"Resume\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,280],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Check if Local\",\"type\":\"n8n-nodes-base.if\",\"position\":[460,440],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$json[\\\"body\\\"][\\\"payload\\\"]}}\",\"value2\":\"\\\"local\\\":false\",\"operation\":\"contains\"}]}},\"typeVersion\":1},{\"name\":\"Play\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,440],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Don't Do Anything\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[660,220],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Pause\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,680],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Stop\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,840],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Get QB Cookie\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,360],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\"options\":{\"fullResponse\":true},\"responseFormat\":\"string\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"username\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"},{\"name\":\"password\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Get QB Cookie1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,760],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\"options\":{\"fullResponse\":true},\"responseFormat\":\"string\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"username\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"},{\"name\":\"password\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Global Variables\",\"type\":\"n8n-nodes-base.set\",\"position\":[280,440],\"parameters\":{\"values\":{\"string\":[{\"name\":\"qbittorent.username\",\"value\":\"yourusername\"},{\"name\":\"qbittorent.password\",\"value\":\"yourpassword\"},{\"name\":\"qbittorent.internalIP\",\"value\":\"192.168.1.218\"},{\"name\":\"qbittorent.port\",\"value\":\"2020\"}]},\"options\":{}},\"typeVersion\":1},{\"name\":\"Check Throttle State\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1460,360],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\"options\":{\"fullResponse\":true},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Check if Throttled\",\"type\":\"n8n-nodes-base.if\",\"position\":[1680,360],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$json[\\\"body\\\"]}}\",\"value2\":1,\"operation\":\"equal\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"Do Nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1900,260],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Check Throttle State2\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1460,760],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\"options\":{\"fullResponse\":true},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Check if Throttled1\",\"type\":\"n8n-nodes-base.if\",\"position\":[1660,760],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$json[\\\"body\\\"]}}\",\"value2\":1,\"operation\":\"equal\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"Do Nothing1\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1900,860],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Throttle Connection\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1060,360],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Resume Downloads\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1060,760],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Disable Throttle\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1900,660],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\"options\":{},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Enable Throttle\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1900,440],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\"options\":{},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1}],\"active\":true,\"settings\":{},\"connections\":{\"Play\":{\"main\":[[{\"node\":\"Throttle Connection\",\"type\":\"main\",\"index\":0}]]},\"Stop\":{\"main\":[[{\"node\":\"Resume Downloads\",\"type\":\"main\",\"index\":0}]]},\"Pause\":{\"main\":[[{\"node\":\"Resume Downloads\",\"type\":\"main\",\"index\":0}]]},\"Resume\":{\"main\":[[{\"node\":\"Throttle Connection\",\"type\":\"main\",\"index\":0}]]},\"Switch\":{\"main\":[[{\"node\":\"Resume\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Play\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Pause\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Stop\",\"type\":\"main\",\"index\":0}]]},\"Webhook\":{\"main\":[[{\"node\":\"Global Variables\",\"type\":\"main\",\"index\":0}]]},\"Get QB Cookie\":{\"main\":[[{\"node\":\"Check Throttle State\",\"type\":\"main\",\"index\":0}]]},\"Check if Local\":{\"main\":[[{\"node\":\"Don't Do Anything\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"Get QB Cookie1\":{\"main\":[[{\"node\":\"Check Throttle State2\",\"type\":\"main\",\"index\":0}]]},\"Global Variables\":{\"main\":[[{\"node\":\"Check if Local\",\"type\":\"main\",\"index\":0}]]},\"Resume Downloads\":{\"main\":[[{\"node\":\"Get QB Cookie1\",\"type\":\"main\",\"index\":0}]]},\"Check if Throttled\":{\"main\":[[{\"node\":\"Do Nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Enable Throttle\",\"type\":\"main\",\"index\":0}]]},\"Check if Throttled1\":{\"main\":[[{\"node\":\"Disable Throttle\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Do Nothing1\",\"type\":\"main\",\"index\":0}]]},\"Throttle Connection\":{\"main\":[[{\"node\":\"Get QB Cookie\",\"type\":\"main\",\"index\":0}]]},\"Check Throttle State\":{\"main\":[[{\"node\":\"Check if Throttled\",\"type\":\"main\",\"index\":0}]]},\"Check Throttle State2\":{\"main\":[[{\"node\":\"Check if Throttled1\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Have you ever wanted to throttle Plex when connecting remotely to your server? Well here is the script for you! The instructions to deploy are below:\n\nYou will need:\n\n  * A plex server with Plex Pass (for webhooks)\n  * n8n running locally (either in docker on via the desktop app)\n  * Qbittorent with WebUI enabled\n\n\n  1. Begin by installing n8n by visiting [n8n.io](http://n8n.io). You can install the desktop version or the docker version, whichever works best for your but I'm doing this on my desktop version of n8n.\n  2. Copy the code from this page into your n8n install canvas. You should see the script appear before your eyes. \n  3. From there, you Double click on the Webhook node at the beginning of the script. Copy both the Test and Production URLs that appear there. ![Screen Shot 20220128 at 9.13.13 PM.png](https://f000.backblazeb2.com/file/n8n-website-images/19b71c7980e24e42932e1cee359ac456.png)\n  4. Now make your way to Plex and visit your settings. On the left, you should see the webhooks option if you have Plex Pass. ![Screen Shot 20220128 at 9.15.20 PM.png](https://f000.backblazeb2.com/file/n8n-website-images/41d0b2503a1e42bfbcb65719d43e239e.png)This will setup your triggers.\n  5. Next visit your qBitTorrent instance and enable WebUI. Notate your Username, Password, and Port. You will also need to know the IP of the machine that qbittorent is running on. If you have an iPhone you can connect to the same wireless network as your computer and use the Fing app to scan the network for the IP.\n  6. Open up the script and edit the Global Variables to reflect the values you copied. ![Screen Shot 20220128 at 9.20.14 PM.png](https://f000.backblazeb2.com/file/n8n-website-images/26038cdb5d7847e9b26bf2a803a54fe5.png)\n  7. Hit save at the top right, and then activate the script.\n  8. Enjoy!!\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>Have you ever wanted to throttle Plex when connecting remotely to your server? Well here is the script for you! The instructions to deploy are below:</p>\n<p>You will need:</p>\n<ul>\n<li>A plex server with Plex Pass (for webhooks)</li>\n<li>n8n running locally (either in docker on via the desktop app)</li>\n<li>Qbittorent with WebUI enabled</li>\n</ul>\n<ol>\n<li>Begin by installing n8n by visiting <a href=\"http://n8n.io\" rel=\"ugc nofollow\" target=\"_blank\">n8n.io</a>. You can install the desktop version or the docker version, whichever works best for your but I'm doing this on my desktop version of n8n.</li>\n<li>Copy the code from this page into your n8n install canvas. You should see the script appear before your eyes. </li>\n<li>From there, you Double click on the Webhook node at the beginning of the script. Copy both the Test and Production URLs that appear there. <img src=\"https://f000.backblazeb2.com/file/n8n-website-images/19b71c7980e24e42932e1cee359ac456.png\" alt=\"Screen Shot 20220128 at 9.13.13 PM.png\"></li>\n<li>Now make your way to Plex and visit your settings. On the left, you should see the webhooks option if you have Plex Pass. <img src=\"https://f000.backblazeb2.com/file/n8n-website-images/41d0b2503a1e42bfbcb65719d43e239e.png\" alt=\"Screen Shot 20220128 at 9.15.20 PM.png\">This will setup your triggers.</li>\n<li>Next visit your qBitTorrent instance and enable WebUI. Notate your Username, Password, and Port. You will also need to know the IP of the machine that qbittorent is running on. If you have an iPhone you can connect to the same wireless network as your computer and use the Fing app to scan the network for the IP.</li>\n<li>Open up the script and edit the Global Variables to reflect the values you copied. <img src=\"https://f000.backblazeb2.com/file/n8n-website-images/26038cdb5d7847e9b26bf2a803a54fe5.png\" alt=\"Screen Shot 20220128 at 9.20.14 PM.png\"></li>\n<li>Hit save at the top right, and then activate the script.</li>\n<li>Enjoy!!</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "你是否曾因远程连接Plex服务器时抓狂不已？现在为你奉上解决方案脚本！部署指南如下：\n\n所需条件：\n* 已开通Plex Pass的Plex服务器（用于Webhooks功能）\n* 本地运行的n8n（可通过Docker或桌面版安装）\n* 启用WebUI的Qbittorrent客户端\n\n操作步骤：\n1. 访问[n8n.io](http://n8n.io)安装n8n平台，可选择桌面版或Docker版（本教程以桌面版为例）\n2. 将本页代码复制到n8n工作区，脚本将自动呈现\n3. 双击脚本起始处的Webhook节点，复制显示的测试URL和正式URL（见示例图）![Webhook节点截图](https://f000.backblazeb2.com/file/n8n-website-images/19b71c7980e24e42932e1cee359ac456.png)\n4. 登录Plex后台设置，左侧菜单找到Webhooks选项（需Plex Pass权限）![Plex设置截图](https://f000.backblazeb2.com/file/n8n-website-images/41d0b2503a1e42bfbcb65719d43e239e.png)完成触发器配置\n5. 进入qBitTorrent启用WebUI，记录用户名、密码及端口号，并确认运行主机的IP地址（iPhone用户可通过Fing应用扫描同WiFi网络获取）\n6. 在脚本中编辑全局变量，填入刚才记录的各项参数![全局变量设置截图](https://f000.backblazeb2.com/file/n8n-website-images/26038cdb5d7847e9b26bf2a803a54fe5.png)\n7. 点击右上角保存按钮后激活脚本\n8. 开始享受自动化体验吧！",
  "title_zh": "Plex自动QBittorrent限速器",
  "publish_date_zh": "最后更新于9个月前",
  "workflow_json_zh": "{\"id\":11,\"name\":\"Plex Automatic Throttler\",\"nodes\":[{\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[60,440],\"webhookId\":\"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\"parameters\":{\"path\":\"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1},{\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[640,580],\"parameters\":{\"rules\":{\"rules\":[{\"value2\":\"media.resume\",\"operation\":\"contains\"},{\"output\":1,\"value2\":\"media.play\",\"operation\":\"contains\"},{\"output\":2,\"value2\":\"media.pause\",\"operation\":\"contains\"},{\"output\":3,\"value2\":\"media.stop\",\"operation\":\"contains\"}]},\"value1\":\"={{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"payload\\\"]}}\",\"dataType\":\"string\"},\"typeVersion\":1},{\"name\":\"Resume\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,280],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Check if Local\",\"type\":\"n8n-nodes-base.if\",\"position\":[460,440],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{$json[\\\"body\\\"][\\\"payload\\\"]}}\",\"value2\":\"\\\"local\\\":false\",\"operation\":\"contains\"}]}},\"typeVersion\":1},{\"name\":\"Play\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,440],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Don't Do Anything\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[660,220],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Pause\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,680],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Stop\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[860,840],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Get QB Cookie\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,360],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\"options\":{\"fullResponse\":true},\"responseFormat\":\"string\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"username\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"},{\"name\":\"password\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Get QB Cookie1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1260,760],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\"options\":{\"fullResponse\":true},\"responseFormat\":\"string\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"username\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"},{\"name\":\"password\",\"value\":\"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"}]}},\"typeVersion\":1},{\"name\":\"Global Variables\",\"type\":\"n8n-nodes-base.set\",\"position\":[280,440],\"parameters\":{\"values\":{\"string\":[{\"name\":\"qbittorent.username\",\"value\":\"yourusername\"},{\"name\":\"qbittorent.password\",\"value\":\"yourpassword\"},{\"name\":\"qbittorent.internalIP\",\"value\":\"192.168.1.218\"},{\"name\":\"qbittorent.port\",\"value\":\"2020\"}]},\"options\":{}},\"typeVersion\":1},{\"name\":\"Check Throttle State\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1460,360],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\"options\":{\"fullResponse\":true},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Check if Throttled\",\"type\":\"n8n-nodes-base.if\",\"position\":[1680,360],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$json[\\\"body\\\"]}}\",\"value2\":1,\"operation\":\"equal\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"Do Nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1900,260],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Check Throttle State2\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1460,760],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\"options\":{\"fullResponse\":true},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Check if Throttled1\",\"type\":\"n8n-nodes-base.if\",\"position\":[1660,760],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{$json[\\\"body\\\"]}}\",\"value2\":1,\"operation\":\"equal\"}],\"string\":[]}},\"typeVersion\":1},{\"name\":\"Do Nothing1\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1900,860],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Throttle Connection\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1060,360],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Resume Downloads\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1060,760],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Disable Throttle\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1900,660],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\"options\":{},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1},{\"name\":\"Enable Throttle\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1900,440],\"parameters\":{\"url\":\"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\"options\":{},\"requestMethod\":\"POST\",\"queryParametersUi\":{\"parameter\":[{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"Referer\",\"value\":\"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"},{\"name\":\"Cookie\",\"value\":\"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"}]}},\"typeVersion\":1}],\"active\":true,\"settings\":{},\"connections\":{\"Play\":{\"main\":[[{\"node\":\"Throttle Connection\",\"type\":\"main\",\"index\":0}]]},\"Stop\":{\"main\":[[{\"node\":\"Resume Downloads\",\"type\":\"main\",\"index\":0}]]},\"Pause\":{\"main\":[[{\"node\":\"Resume Downloads\",\"type\":\"main\",\"index\":0}]]},\"Resume\":{\"main\":[[{\"node\":\"Throttle Connection\",\"type\":\"main\",\"index\":0}]]},\"Switch\":{\"main\":[[{\"node\":\"Resume\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Play\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Pause\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Stop\",\"type\":\"main\",\"index\":0}]]},\"Webhook\":{\"main\":[[{\"node\":\"Global Variables\",\"type\":\"main\",\"index\":0}]]},\"Get QB Cookie\":{\"main\":[[{\"node\":\"Check Throttle State\",\"type\":\"main\",\"index\":0}]]},\"Check if Local\":{\"main\":[[{\"node\":\"Don't Do Anything\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"Get QB Cookie1\":{\"main\":[[{\"node\":\"Check Throttle State2\",\"type\":\"main\",\"index\":0}]]},\"Global Variables\":{\"main\":[[{\"node\":\"Check if Local\",\"type\":\"main\",\"index\":0}]]},\"Resume Downloads\":{\"main\":[[{\"node\":\"Get QB Cookie1\",\"type\":\"main\",\"index\":0}]]},\"Check if Throttled\":{\"main\":[[{\"node\":\"Do Nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Enable Throttle\",\"type\":\"main\",\"index\":0}]]},\"Check if Throttled1\":{\"main\":[[{\"node\":\"Disable Throttle\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Do Nothing1\",\"type\":\"main\",\"index\":0}]]},\"Throttle Connection\":{\"main\":[[{\"node\":\"Get QB Cookie\",\"type\":\"main\",\"index\":0}]]},\"Check Throttle State\":{\"main\":[[{\"node\":\"Check if Throttled\",\"type\":\"main\",\"index\":0}]]},\"Check Throttle State2\":{\"main\":[[{\"node\":\"Check if Throttled1\",\"type\":\"main\",\"index\":0}]]}}}"
}