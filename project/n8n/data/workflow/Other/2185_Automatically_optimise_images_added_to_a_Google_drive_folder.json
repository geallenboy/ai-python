{
  "title": "Automatically optimise images added to a Google drive folder",
  "url": "https://n8n.io/workflows/2185-automatically-optimise-images-added-to-a-google-drive-folder/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "Jonathan",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"FpZJ8jaNQ3j2DO1L\",\"meta\":{\"instanceId\":\"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"},\"name\":\"Optimise images uploaded to GDrive\",\"nodes\":[{\"id\":\"a6fac2bb-4079-4872-9cc9-17b1016d2fcc\",\"name\":\"Check GDrive for new images\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[500,160],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":1},{\"id\":\"a0cae553-e4c1-408b-b11a-ceda4ff1aaa4\",\"name\":\"Download image\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[700,160],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":3},{\"id\":\"006ba31a-f42b-460c-87e1-66c5345fb6d7\",\"name\":\"Optimise - Send image to TinyPNG\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[940,320],\"parameters\":{\"url\":\"https://api.tinify.com/shrink\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendBody\":true,\"contentType\":\"binaryData\",\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"Basic \"}]},\"inputDataFieldName\":\"data\"},\"typeVersion\":4.1},{\"id\":\"e380304e-1c94-4841-bc1c-73047e4c2501\",\"name\":\"Get optimised image from tinyPNG\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1140,320],\"parameters\":{\"url\":\"={{ $json.headers.location }}\",\"options\":{}},\"typeVersion\":4.1},{\"id\":\"f4db56cf-e362-41da-b2c2-da59b71a103f\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,-60],\"parameters\":{\"color\":4,\"width\":459.2991776576996,\"height\":146.4269155371431,\"content\":\"## Automatically optimise images uploaded to Google drive folder\\nEach time an image is added to a google drive folder, this workflow will send it to tinypng.com to optimise the size and resave it to a google drive location of your choice.\\n\\n\"},\"typeVersion\":1},{\"id\":\"b9e2dd81-245d-4328-adbc-a1f17100d590\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,120],\"parameters\":{\"color\":6,\"width\":463.09809221779403,\"height\":176.7894351639415,\"content\":\"### 1. Pre-setup: Google Drive credentials\\n\\n**a.** Firstly you'll need to setup Google Drive credentials. Best thing is to [read n8n docs](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/) to to do that.\\n**b.** Once you're successfully connecting to your GDrive account, set all 3 of the Drive nodes to connect using that credential.\"},\"typeVersion\":1},{\"id\":\"285b5324-07d5-4f17-b6cc-9013e60644ad\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,-60],\"parameters\":{\"color\":6,\"width\":411.49840818526235,\"height\":189.2115813199212,\"content\":\"### 2. Choose the Google Drive folder n8n is going to watch for new files\\n\\n**a.** Go to Google Drive and create the folder you want n8n to watch for new images\\n**b.** Then you need to select that folder in the Google Drive trigger node\"},\"typeVersion\":1},{\"id\":\"8b574c32-baec-48ec-9cab-41d9f9813c6f\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,100],\"parameters\":{\"color\":6,\"width\":322.632285684791,\"height\":189.2115813199212,\"content\":\"### 3. Create an API key for tinypng.com\\n\\n**a.** Visit [tinypng.com](https://tinypng.com/developers) and request an API key\\n**b.** Update the \\\"Authorisation\\\" parameter value with your api key. It will be in the format of \\\"Basic YOUR_API_KEY_IN_BASE_64\\\"\"},\"typeVersion\":1},{\"id\":\"d3740bb8-f296-4b81-816e-ebc6e42927ad\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1380,240],\"parameters\":{\"color\":6,\"width\":322.632285684791,\"height\":239.85571564814694,\"content\":\"### 4. Choose your Google Drive folder to save your upload your optimised images to\\n\\n**a.** Finally, create and select the folder that you want your optimised images to be saved to\\n**b.** OPTIONAL: You can also change the formatting of the name that you set. By default it will use the original file name then -optimised\"},\"typeVersion\":1},{\"id\":\"b69a925f-9938-4672-9329-4f8895ea9c79\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1480,520],\"parameters\":{\"name\":\"name.png\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":3}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"7cdfcaa5-cbce-4582-9563-c72ba8d425b9\",\"connections\":{\"Download image\":{\"main\":[[{\"node\":\"Optimise - Send image to TinyPNG\",\"type\":\"main\",\"index\":0}]]},\"Check GDrive for new images\":{\"main\":[[{\"node\":\"Download image\",\"type\":\"main\",\"index\":0}]]},\"Get optimised image from tinyPNG\":{\"main\":[[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0}]]},\"Optimise - Send image to TinyPNG\":{\"main\":[[{\"node\":\"Get optimised image from tinyPNG\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**How it works**\n\n  * This workflow watches a selected Google Drive folder for any images added to it.\n  * It then takes that image, sends it the the [tinypng.com](http://tinypng.com) service which optimises and reduces its size (where possible)\n  * Tinypng then returns the updated image which is then automatically saved in your chose Google Drive folder\n\n\n\n**Setting things up**\n\n  * It's pretty simple to configure and should only take around 5-10mins.\n  * You only need to set up credentials for Google Drive and [Tinypng.com](http://Tinypng.com)\n  * For [Tinypng.com](http://Tinypng.com) you can sign up for their free tier API access which gives you 500 optimisations per month\n  * Once you have those two things, you just need choose your 'input' folder to watch for images and your 'output' folder for where these images should be stored\n  * There are a few more optional things you can do such as the naming of your final image and also lots more you could do with the Tinypng API for more advanced image optimisation\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><strong>How it works</strong></p>\n<ul>\n<li>This workflow watches a selected Google Drive folder for any images added to it.</li>\n<li>It then takes that image, sends it the the <a href=\"http://tinypng.com\" rel=\"ugc nofollow\" target=\"_blank\">tinypng.com</a> service which optimises and reduces its size (where possible)</li>\n<li>Tinypng then returns the updated image which is then automatically saved in your chose Google Drive folder</li>\n</ul>\n<p><strong>Setting things up</strong></p>\n<ul>\n<li>It's pretty simple to configure and should only take around 5-10mins.</li>\n<li>You only need to set up credentials for Google Drive and <a href=\"http://Tinypng.com\" rel=\"ugc nofollow\" target=\"_blank\">Tinypng.com</a></li>\n<li>For <a href=\"http://Tinypng.com\" rel=\"ugc nofollow\" target=\"_blank\">Tinypng.com</a> you can sign up for their free tier API access which gives you 500 optimisations per month</li>\n<li>Once you have those two things, you just need choose your 'input' folder to watch for images and your 'output' folder for where these images should be stored</li>\n<li>There are a few more optional things you can do such as the naming of your final image and also lots more you could do with the Tinypng API for more advanced image optimisation</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "**工作原理**\n\n  * 该工作流会监控您指定的Google Drive文件夹，自动检测其中新增的图片文件\n  * 将图片发送至[tinypng.com](http://tinypng.com)服务进行智能压缩优化（在可优化情况下）\n  * 经Tinypng处理后的图片会自动回传并保存至您指定的Google Drive文件夹\n\n**配置指南**\n\n  * 配置流程简单快捷，约5-10分钟即可完成\n  * 只需准备Google Drive和[Tinypng.com](http://Tinypng.com)的API凭证\n  * [Tinypng.com](http://Tinypng.com)提供免费API套餐，每月可优化500张图片\n  * 凭证配置完成后，选择需要监控的图片\"输入文件夹\"和优化后的\"输出文件夹\"即可\n  * 进阶用户可自定义输出文件名，或通过Tinypng API实现更专业的图像优化设置",
  "title_zh": "自动优化添加到Google Drive文件夹中的图片",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\"id\":\"FpZJ8jaNQ3j2DO1L\",\"meta\":{\"instanceId\":\"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"},\"name\":\"Optimise images uploaded to GDrive\",\"nodes\":[{\"id\":\"a6fac2bb-4079-4872-9cc9-17b1016d2fcc\",\"name\":\"Check GDrive for new images\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[500,160],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":1},{\"id\":\"a0cae553-e4c1-408b-b11a-ceda4ff1aaa4\",\"name\":\"Download image\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[700,160],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":3},{\"id\":\"006ba31a-f42b-460c-87e1-66c5345fb6d7\",\"name\":\"Optimise - Send image to TinyPNG\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[940,320],\"parameters\":{\"url\":\"https://api.tinify.com/shrink\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendBody\":true,\"contentType\":\"binaryData\",\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"Authorization\",\"value\":\"Basic \"}]},\"inputDataFieldName\":\"data\"},\"typeVersion\":4.1},{\"id\":\"e380304e-1c94-4841-bc1c-73047e4c2501\",\"name\":\"Get optimised image from tinyPNG\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1140,320],\"parameters\":{\"url\":\"={{ $json.headers.location }}\",\"options\":{}},\"typeVersion\":4.1},{\"id\":\"f4db56cf-e362-41da-b2c2-da59b71a103f\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,-60],\"parameters\":{\"color\":4,\"width\":459.2991776576996,\"height\":146.4269155371431,\"content\":\"## 自动优化上传至Google Drive文件夹的图片\\n每当有图片添加到Google Drive文件夹时，此工作流程会将其发送至tinypng.com进行尺寸优化，并重新保存至您指定的Google Drive位置。\"},\"typeVersion\":1},{\"id\":\"b9e2dd81-245d-4328-adbc-a1f17100d590\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,120],\"parameters\":{\"color\":6,\"width\":463.09809221779403,\"height\":176.7894351639415,\"content\":\"### 1. 预设：谷歌云端硬盘凭证\\n\\n**a.** 首先需要设置谷歌云端硬盘凭证。最佳方式是[查阅n8n文档](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/)来完成此操作。  \\n**b.** 成功连接到您的GDrive账户后，将所有3个Drive节点设置为使用该凭证进行连接。\"},\"typeVersion\":1},{\"id\":\"285b5324-07d5-4f17-b6cc-9013e60644ad\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[480,-60],\"parameters\":{\"color\":6,\"width\":411.49840818526235,\"height\":189.2115813199212,\"content\":\"### 2. 选择n8n将要监控新文件的Google Drive文件夹\\n\\n**a.** 前往Google Drive并创建您希望n8n监控新图片的文件夹  \\n**b.** 接着您需要在Google Drive触发器节点中选择该文件夹\"},\"typeVersion\":1},{\"id\":\"8b574c32-baec-48ec-9cab-41d9f9813c6f\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,100],\"parameters\":{\"color\":6,\"width\":322.632285684791,\"height\":189.2115813199212,\"content\":\"### 3. 为tinypng.com创建API密钥\\n\\n**a.** 访问[tinypng.com](https://tinypng.com/developers)并申请一个API密钥  \\n**b.** 用你的API密钥更新\\\"Authorisation\\\"参数值。格式为\\\"Basic YOUR_API_KEY_IN_BASE_64\\\"\"},\"typeVersion\":1},{\"id\":\"d3740bb8-f296-4b81-816e-ebc6e42927ad\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1380,240],\"parameters\":{\"color\":6,\"width\":322.632285684791,\"height\":239.85571564814694,\"content\":\"### 4. 选择您的Google Drive文件夹以保存优化后的图片\\n\\n**a.** 最后，创建并选择您希望保存优化后图片的文件夹  \\n**b.** 可选操作：您还可以更改预设的文件名格式。默认情况下，系统将使用原始文件名并添加“-optimised”后缀\"},\"typeVersion\":1},{\"id\":\"b69a925f-9938-4672-9329-4f8895ea9c79\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1480,520],\"parameters\":{\"name\":\"name.png\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"\",\"name\":\"\"}},\"typeVersion\":3}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"7cdfcaa5-cbce-4582-9563-c72ba8d425b9\",\"connections\":{\"Download image\":{\"main\":[[{\"node\":\"Optimise - Send image to TinyPNG\",\"type\":\"main\",\"index\":0}]]},\"Check GDrive for new images\":{\"main\":[[{\"node\":\"Download image\",\"type\":\"main\",\"index\":0}]]},\"Get optimised image from tinyPNG\":{\"main\":[[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0}]]},\"Optimise - Send image to TinyPNG\":{\"main\":[[{\"node\":\"Get optimised image from tinyPNG\",\"type\":\"main\",\"index\":0}]]}}}"
}