{
  "title": "Google Drive Duplicate File Manager",
  "url": "https://n8n.io/workflows/3512-google-drive-duplicate-file-manager/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "Ventsislav Minev",
  "publish_date": "Last update 25 days ago",
  "publish_date_absolute": "2025-04-28",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"5e2cdd86a9e1ca2fc82cc63db38d1710d5d6a5c6fe352258a6f7112815bcd512\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"c4dca8f0-98fa-4b06-a806-1ab271f024a2\",\"name\":\"Config\",\"type\":\"n8n-nodes-base.set\",\"position\":[120,460],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"a916dcbd-d681-4e09-9ce9-0f50a1b4290b\",\"name\":\"keep\",\"type\":\"string\",\"value\":\"=last\"},{\"id\":\"949a2f76-5981-4fd2-9665-b10db26e2f48\",\"name\":\"action\",\"type\":\"string\",\"value\":\"=flag\"},{\"id\":\"7f4502b4-c330-4c9c-ab89-ba53874aafbb\",\"name\":\"owner\",\"type\":\"string\",\"value\":\"={{ $json.owner || $json.owners[0].emailAddress }}\"},{\"id\":\"592eb79e-28db-4470-8347-36b2a661cb03\",\"name\":\"folder\",\"type\":\"string\",\"value\":\"={{ $json.folder || $json.parents[0]}}\"}]}},\"typeVersion\":3.4},{\"id\":\"2562ed4a-8ecd-4a32-ae51-bc85daa9817b\",\"name\":\"Edit Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[1800,440],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1d28f976-2467-4d18-8698-556d29a5f8c0\",\"name\":\"isDuplicate\",\"type\":\"boolean\",\"value\":\"={{ $json.isDuplicate }}\"},{\"id\":\"e9d8eb20-7668-4287-bfb4-d4f66c019f73\",\"name\":\"id\",\"type\":\"string\",\"value\":\"={{ $json.id }}\"},{\"id\":\"587e5f8e-bd94-4ec5-80f2-066c99922135\",\"name\":\"name\",\"type\":\"string\",\"value\":\"={{ $json.name }}\"}]}},\"typeVersion\":3.4},{\"id\":\"e7f0482c-77c7-46a0-8a36-e61bb624c422\",\"name\":\"Filter\",\"type\":\"n8n-nodes-base.filter\",\"position\":[2020,440],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"bd33247c-4c88-4c0b-bdfe-6f9dca0205e3\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.isDuplicate }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"28768732-29a4-4446-8b12-dda187976bf9\",\"name\":\"Deduplicate Keep First\",\"type\":\"n8n-nodes-base.code\",\"position\":[1580,560],\"parameters\":{\"jsCode\":\"// Sort files by creation time (oldest first)\\nconst sorted = items.sort((a, b) => \\n  new Date(a.json.createdTime) - new Date(b.json.createdTime));\\n\\nconst seen = {};\\nfor (const item of sorted) {\\n  const md5 = item.json.md5Checksum;\\n\\n  // Failsafe: Skip if md5Checksum is missing or empty\\n  if (!md5) {\\n    item.json.isDuplicate = false; // Mark as not duplicate to avoid issues\\n    continue; // Skip to the next item\\n  }\\n\\n  item.json.isDuplicate = md5 in seen;\\n  if (!item.json.isDuplicate) seen[md5] = true;\\n}\\nreturn items;\"},\"executeOnce\":false,\"typeVersion\":2},{\"id\":\"1f6f9529-2283-4806-ad5a-b0425f9f68e2\",\"name\":\"Deduplicate Keep Last\",\"type\":\"n8n-nodes-base.code\",\"position\":[1580,360],\"parameters\":{\"jsCode\":\"// Sort files by creation time (latest first)\\nconst sorted = items.sort((a, b) => \\n  new Date(b.json.createdTime) - new Date(a.json.createdTime));\\n\\nconst seen = {};\\nfor (const item of sorted) {\\n  const md5 = item.json.md5Checksum;\\n\\n  // Failsafe: Skip if md5Checksum is missing or empty\\n  if (!md5) {\\n    item.json.isDuplicate = false; // Mark as not duplicate to avoid issues\\n    continue; // Skip to the next item\\n  }\\n\\n  if (md5 in seen) {\\n    item.json.isDuplicate = true;\\n  } else {\\n    item.json.isDuplicate = false;\\n    seen[md5] = true;\\n  }\\n}\\nreturn items;\"},\"executeOnce\":false,\"typeVersion\":2},{\"id\":\"c5250dd1-6eeb-4b89-b2e7-e44a8d88212c\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,-120],\"parameters\":{\"color\":5,\"width\":440,\"height\":800,\"content\":\"# 2. Configuration\\nChoose the **keep** and **action** behavior of the workflow\\n\\n1. The **keep** parameter let's you decide whether to keep the first or last received file when duplicates are detected. (possible values: `first`, `last`. Default: `last`)\\n2. The **action** parameter let's you decide what to do with the detected duplicates. Send them to the trash or flag them by renaming them with prefix DUPLICATE- (possible values: `trash`, `flag`. Default: `flag`) flag already prexied by DUPLICATE- are not flagged again.\\n\\n\\nThe parameters `owner` and `folder` are taken from the trigger and will probably never need to be changed:\\n- The **folder** points to the folder to work with. By default it is taken from the trigger.\\n- The **owner** parameter needs to match the owner of the files. The workflow only works with files owned by this user. It is specified with the user email and is taken from the first file owner of the trigger.\"},\"typeVersion\":1},{\"id\":\"67c4d02f-b170-4504-9bae-7bf14db7abd3\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,180],\"parameters\":{\"color\":7,\"width\":320,\"height\":500,\"content\":\"## Working Folder\\nThe \\\"Working Folder\\\" node let's you choose Files to deduplicate.\\n\\nThis workflow includes a filter to work on just 1 folder at depth level 1. It doesn't work with files in nested folders\\n\\nYou can remove the Folder filter to work on the entire drive instead or add different filters.\"},\"typeVersion\":1},{\"id\":\"9ed26ef0-da89-43c5-9e12-2ec97b2e51f6\",\"name\":\"Send Duplicates to Trash\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2760,320],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"deleteFile\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"VypmUgEf64twpmiZ\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"fcfd08fa-7a19-4974-b3bb-6ed27a2030cf\",\"name\":\"No Operation, do nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[2800,600],\"parameters\":{},\"typeVersion\":1},{\"id\":\"de7967e7-eb3b-456c-b12e-6de3165ad29a\",\"name\":\"Is Flagged\",\"type\":\"n8n-nodes-base.if\",\"position\":[2540,620],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"c8d8eac5-e03a-4673-bcf9-a8acaa95cb8e\",\"operator\":{\"type\":\"string\",\"operation\":\"startsWith\"},\"leftValue\":\"={{ $('Trash/Flag Duplicates').item.json.name }}\",\"rightValue\":\"DUPLICATE-\"}]}},\"typeVersion\":2.2},{\"id\":\"d227d6ee-97e7-4b4d-b1a2-4cd402be99d5\",\"name\":\"Google Drive Trigger\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[-360,460],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyX\",\"unit\":\"minutes\",\"value\":15}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1-tjf96Ooj0SL8qaE04BGIeCGnd-O1R8c\",\"cachedResultUrl\":\"https://drive.google.com/drive/folders/1-tjf96Ooj0SL8qaE04BGIeCGnd-O1R8c\",\"cachedResultName\":\"2025/04\\n\"}},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"VypmUgEf64twpmiZ\",\"name\":\"Google Drive account\"}},\"typeVersion\":1},{\"id\":\"22e1638e-5c2e-41bc-b66e-fcee6af05762\",\"name\":\"Drop Google Apps files\",\"type\":\"n8n-nodes-base.filter\",\"position\":[940,460],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"1e7d9666-fba0-4fe7-b03a-1a4e5c07b389\",\"operator\":{\"type\":\"string\",\"operation\":\"notStartsWith\"},\"leftValue\":\"={{ $json.mimeType }}\",\"rightValue\":\"application/vnd.google-apps\"}]}},\"typeVersion\":2.2},{\"id\":\"ec80f4de-5dff-4693-bff4-2509fd581d70\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[840,180],\"parameters\":{\"color\":7,\"width\":320,\"height\":500,\"content\":\"# Discard found Google Apps documents\\nDocs, Sheets, Forms, Slides, Drawins etc. are discarded because they are not actual binary files and their content can't be directly checked.\"},\"typeVersion\":1},{\"id\":\"66ee766a-3dea-449f-827c-1922c6e053f3\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-520,-120],\"parameters\":{\"color\":5,\"width\":440,\"height\":800,\"content\":\"# 1. Trigger Settings and Working Folder\\n\\nWhen using Google Drive Trigger configure the **Poll times** and the **Folder** to work with.\\n\\nBy Default the trigger is configured to check for *file uploads* every 15 minutes.\\n\\nWhen configured with a specific folder in the drive the workflow works only with files directly in the folder (It will not check/modify files in sub-folders).\\n\\nWhen configured with the root (/) folder of the drive it will check all files in all folders and sub-folders so **USE THIS WITH CAUTION** since it might lead to trashing/renaming of important files. \"},\"typeVersion\":1},{\"id\":\"6f8a7855-2ee3-426d-879f-afb303d5aa20\",\"name\":\"Working Folder\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[560,460],\"parameters\":{\"filter\":{\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('Config').item.json.folder }}\"},\"whatToSearch\":\"files\"},\"options\":{\"fields\":[\"*\"]},\"resource\":\"fileFolder\",\"returnAll\":true,\"queryString\":\"='{{$('Config').item.json.owner}}' in owners\",\"searchMethod\":\"query\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"VypmUgEf64twpmiZ\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"6f69e6d3-96ca-4411-9a48-160ebdb2a273\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2500,540],\"parameters\":{\"color\":7,\"width\":540,\"height\":220,\"content\":\"### Files that already start with *DUPLICATE-* are not flagged again.\"},\"typeVersion\":1},{\"id\":\"65b4ba42-89ce-437c-a3e8-bf3f9b01cc21\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2500,780],\"parameters\":{\"color\":7,\"width\":360,\"height\":240,\"content\":\"### In Google Drive Trashed files are kept for 30 days before being permanently deleted. \\nThey can be reviewed and restored during that 30 day interval.\"},\"typeVersion\":1},{\"id\":\"99374aa8-e597-4919-8b64-c376b246621a\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2880,800],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{},\"operation\":\"update\",\"newUpdatedFileName\":\"=DUPLICATE-{{ $json.name }}\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"VypmUgEf64twpmiZ\",\"name\":\"Google Drive account\"}},\"typeVersion\":3},{\"id\":\"6ae62c31-4cf0-48e7-aa42-19fc259c5981\",\"name\":\"Keep First/Last\",\"type\":\"n8n-nodes-base.switch\",\"position\":[1300,460],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"last\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"7f5ba21d-8f3d-4736-9c34-ac7ebd6a9699\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Config').item.json.keep }}\",\"rightValue\":\"last\"}]},\"renameOutput\":true},{\"outputKey\":\"first\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"93a013f6-6c59-47ad-bce3-8b34cc8f026c\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Config').item.json.keep }}\",\"rightValue\":\"first\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"9cb84da7-3cd9-4a53-af09-8b63f1cf8a34\",\"name\":\"Trash/Flag Duplicates\",\"type\":\"n8n-nodes-base.switch\",\"position\":[2240,440],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"send to trash\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"0314ac48-e7b7-406b-abcd-8cd1ab872c79\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Config').item.json.action }}\",\"rightValue\":\"trash\"}]},\"renameOutput\":true},{\"outputKey\":\"flag as duplicate\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"70d8e5f1-16a6-4921-ad9c-ab00049e507d\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Config').item.json.action }}\",\"rightValue\":\"flag\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2}],\"pinData\":{},\"connections\":{\"Config\":{\"main\":[[{\"node\":\"Working Folder\",\"type\":\"main\",\"index\":0}]]},\"Filter\":{\"main\":[[{\"node\":\"Trash/Flag Duplicates\",\"type\":\"main\",\"index\":0}]]},\"Is Flagged\":{\"main\":[[{\"node\":\"No Operation, do nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields\":{\"main\":[[{\"node\":\"Filter\",\"type\":\"main\",\"index\":0}]]},\"Working Folder\":{\"main\":[[{\"node\":\"Drop Google Apps files\",\"type\":\"main\",\"index\":0}]]},\"Keep First/Last\":{\"main\":[[{\"node\":\"Deduplicate Keep Last\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Deduplicate Keep First\",\"type\":\"main\",\"index\":0}]]},\"Google Drive Trigger\":{\"main\":[[{\"node\":\"Config\",\"type\":\"main\",\"index\":0}]]},\"Deduplicate Keep Last\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"Trash/Flag Duplicates\":{\"main\":[[{\"node\":\"Send Duplicates to Trash\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Is Flagged\",\"type\":\"main\",\"index\":0}]]},\"Deduplicate Keep First\":{\"main\":[[{\"node\":\"Edit Fields\",\"type\":\"main\",\"index\":0}]]},\"Drop Google Apps files\":{\"main\":[[{\"node\":\"Keep First/Last\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Google Drive Duplicate File Manager ğŸ§¹ğŸ“\n\n**Purpose:** Automate the process of finding and managing duplicate files in your Google Drive.\n\n**Who's it for?**\n\n  * Individuals and teams aiming to streamline their Google Drive.\n  * Anyone tired of manual duplicate file cleanup.\n\n\n\n**What it Solves:**\n\n  * Saves storage space ğŸ’¾.\n  * Reduces file confusion ğŸ˜•â¡ï¸ğŸ™‚.\n  * Automates tedious cleanup tasks ğŸ¤–.\n\n\n\n**How it works:**\n\n  1. **Trigger:** Monitors a Google Drive folder for new files.\n  2. **Configuration:** Sets rules for keeping and handling duplicates.\n  3. **Find Duplicates:** Identifies duplicate files based on their content (MD5Checksum).\n  4. **Action:** Either moves duplicates to trash or renames them.\n\n\n\n**Setup Guide:**\n\n  1. **Google Drive Trigger â°:**\n     * Set up the trigger to watch a specific folder or your entire drive (use caution with the root folder! âš ï¸).\n     * Configure the polling interval (default: every 15 minutes).\n  2. **Config Node âš™ï¸:**\n     * **keep:** Choose whether to keep the \"first\" or \"last\" uploaded file (default: \"last\").\n     * **action:** Select \"trash\" to delete duplicates or \"flag\" to rename them with \"DUPLICATE-\" (default: \"flag\").\n     * **owner & folder:** Taken from the trigger. Only change if needed.\n\n\n\n**Key Considerations:**\n\n  * **Google Drive API limits:** Be mindful of API usage.\n  * **Folder Scope:** The workflow handles one folder depth by default. (WARNING: If configured to work with the Root folder / all files in all sub-directories are processed so **USE THIS OPTION WITH CAUTION** since the workflow might trash/rename important files)\n  * **Google Apps:** Google docs are ignored since they are not actual binary-files and their content can't be compared.\n\n\n\n**Enjoy your clean Google Drive! âœ¨**\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>Google Drive Duplicate File Manager ğŸ§¹ğŸ“</h1>\n<p><strong>Purpose:</strong> Automate the process of finding and managing duplicate files in your Google Drive.</p>\n<p><strong>Who's it for?</strong></p>\n<ul>\n<li>Individuals and teams aiming to streamline their Google Drive.</li>\n<li>Anyone tired of manual duplicate file cleanup.</li>\n</ul>\n<p><strong>What it Solves:</strong></p>\n<ul>\n<li>Saves storage space ğŸ’¾.</li>\n<li>Reduces file confusion ğŸ˜•â¡ï¸ğŸ™‚.</li>\n<li>Automates tedious cleanup tasks ğŸ¤–.</li>\n</ul>\n<p><strong>How it works:</strong></p>\n<ol>\n<li><strong>Trigger:</strong> Monitors a Google Drive folder for new files.</li>\n<li><strong>Configuration:</strong> Sets rules for keeping and handling duplicates.</li>\n<li><strong>Find Duplicates:</strong> Identifies duplicate files based on their content (MD5Checksum).</li>\n<li><strong>Action:</strong> Either moves duplicates to trash or renames them.</li>\n</ol>\n<p><strong>Setup Guide:</strong></p>\n<ol>\n<li><strong>Google Drive Trigger â°:</strong>\n<ul>\n<li>Set up the trigger to watch a specific folder or your entire drive (use caution with the root folder! âš ï¸).</li>\n<li>Configure the polling interval (default: every 15 minutes).</li>\n</ul>\n</li>\n<li><strong>Config Node âš™ï¸:</strong>\n<ul>\n<li><strong>keep:</strong> Choose whether to keep the \"first\" or \"last\" uploaded file (default: \"last\").</li>\n<li><strong>action:</strong> Select \"trash\" to delete duplicates or \"flag\" to rename them with \"DUPLICATE-\" (default: \"flag\").</li>\n<li><strong>owner &amp; folder:</strong> Taken from the trigger. Only change if needed.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Key Considerations:</strong></p>\n<ul>\n<li><strong>Google Drive API limits:</strong> Be mindful of API usage.</li>\n<li><strong>Folder Scope:</strong> The workflow handles one folder depth by default. (WARNING: If configured to work with the Root folder / all files in all sub-directories are processed so <strong>USE THIS OPTION WITH CAUTION</strong> since the workflow might trash/rename important files)</li>\n<li><strong>Google Apps:</strong> Google docs are ignored since they are not actual binary-files and their content can't be compared.</li>\n</ul>\n<p><strong>Enjoy your clean Google Drive! âœ¨</strong></p>\n</div><!--]-->",
  "readme_zh": "# Google Drive é‡å¤æ–‡ä»¶ç®¡ç†å·¥å…· ğŸ§¹ğŸ“  \n\n**ç”¨é€”ï¼š** è‡ªåŠ¨æŸ¥æ‰¾å¹¶ç®¡ç†Google Driveä¸­çš„é‡å¤æ–‡ä»¶ã€‚  \n\n**é€‚ç”¨å¯¹è±¡ï¼š**  \n  * å¸Œæœ›ä¼˜åŒ–Google Driveå­˜å‚¨çš„ä¸ªäººåŠå›¢é˜Ÿã€‚  \n  * åŒå€¦æ‰‹åŠ¨æ¸…ç†é‡å¤æ–‡ä»¶çš„ç”¨æˆ·ã€‚  \n\n**è§£å†³çš„é—®é¢˜ï¼š**  \n  * èŠ‚çœå­˜å‚¨ç©ºé—´ ğŸ’¾ã€‚  \n  * å‡å°‘æ–‡ä»¶æ··ä¹± ğŸ˜•â¡ï¸ğŸ™‚ã€‚  \n  * è‡ªåŠ¨åŒ–ç¹ççš„æ¸…ç†å·¥ä½œ ğŸ¤–ã€‚  \n\n**å·¥ä½œåŸç†ï¼š**  \n  1. **è§¦å‘æœºåˆ¶ï¼š** ç›‘æ§æŒ‡å®šGoogle Driveæ–‡ä»¶å¤¹ä¸­çš„æ–°æ–‡ä»¶ã€‚  \n  2. **é…ç½®è§„åˆ™ï¼š** è®¾ç½®ä¿ç•™å’Œå¤„ç†é‡å¤æ–‡ä»¶çš„è§„åˆ™ã€‚  \n  3. **æŸ¥æ‰¾é‡å¤ï¼š** åŸºäºæ–‡ä»¶å†…å®¹ï¼ˆMD5æ ¡éªŒå€¼ï¼‰è¯†åˆ«é‡å¤é¡¹ã€‚  \n  4. **æ‰§è¡Œæ“ä½œï¼š** å°†é‡å¤æ–‡ä»¶ç§»è‡³å›æ”¶ç«™æˆ–é‡å‘½åæ ‡è®°ã€‚  \n\n**è®¾ç½®æŒ‡å—ï¼š**  \n  1. **Google Driveè§¦å‘å™¨ â°ï¼š**  \n     * è®¾ç½®è§¦å‘å™¨ç›‘æ§ç‰¹å®šæ–‡ä»¶å¤¹æˆ–æ•´ä¸ªDriveï¼ˆâš ï¸ æ ¹ç›®å½•æ…ç”¨ï¼ï¼‰ã€‚  \n     * é…ç½®è½®è¯¢é—´éš”ï¼ˆé»˜è®¤ï¼šæ¯15åˆ†é’Ÿï¼‰ã€‚  \n  2. **é…ç½®èŠ‚ç‚¹ âš™ï¸ï¼š**  \n     * **ä¿ç•™è§„åˆ™ï¼š** é€‰æ‹©ä¿ç•™â€œå…ˆä¸Šä¼ â€æˆ–â€œåä¸Šä¼ â€çš„æ–‡ä»¶ï¼ˆé»˜è®¤ï¼šâ€œåä¸Šä¼ â€ï¼‰ã€‚  \n     * **æ“ä½œæ–¹å¼ï¼š** é€‰â€œtrashâ€ç›´æ¥åˆ é™¤ï¼Œæˆ–â€œflagâ€é‡å‘½åä¸ºâ€œDUPLICATE-â€å‰ç¼€ï¼ˆé»˜è®¤ï¼šâ€œflagâ€ï¼‰ã€‚  \n     * **æ‰€æœ‰è€… & æ–‡ä»¶å¤¹ï¼š** å‚æ•°é€šå¸¸ä»è§¦å‘å™¨è‡ªåŠ¨è·å–ï¼Œéå¿…è¦å‹¿ä¿®æ”¹ã€‚  \n\n**æ³¨æ„äº‹é¡¹ï¼š**  \n  * **Google Drive APIé™åˆ¶ï¼š** æ³¨æ„APIè°ƒç”¨é¢‘æ¬¡ã€‚  \n  * **æ–‡ä»¶å¤¹èŒƒå›´ï¼š** é»˜è®¤ä»…å¤„ç†å•å±‚ç›®å½•ï¼ˆâš ï¸ è‹¥è®¾ä¸ºæ ¹ç›®å½•ï¼Œå°†é€’å½’å¤„ç†æ‰€æœ‰å­ç›®å½•æ–‡ä»¶ï¼Œ**è¯·è°¨æ…å¯ç”¨æ­¤é€‰é¡¹**ï¼Œé¿å…è¯¯åˆ é‡è¦æ–‡ä»¶ï¼‰ã€‚  \n  * **Googleæ–‡æ¡£ï¼š** ç³»ç»Ÿä¼šå¿½ç•¥Googleæ–‡æ¡£ï¼ˆéäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ— æ³•æ¯”å¯¹å†…å®¹ï¼‰ã€‚  \n\n**ç¥æ‚¨æ‹¥æœ‰æ¸…çˆ½çš„Google Driveï¼âœ¨**",
  "title_zh": "Google Drive é‡å¤æ–‡ä»¶ç®¡ç†å™¨",
  "publish_date_zh": "ä¸Šæ¬¡æ›´æ–°äº25å¤©å‰",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"5e2cdd86a9e1ca2fc82cc63db38d1710d5d6a5c6fe352258a6f7112815bcd512\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"c4dca8f0-98fa-4b06-a806-1ab271f024a2\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        120,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"a916dcbd-d681-4e09-9ce9-0f50a1b4290b\",\n              \"name\": \"keep\",\n              \"type\": \"string\",\n              \"value\": \"=last\"\n            },\n            {\n              \"id\": \"949a2f76-5981-4fd2-9665-b10db26e2f48\",\n              \"name\": \"action\",\n              \"type\": \"string\",\n              \"value\": \"=flag\"\n            },\n            {\n              \"id\": \"7f4502b4-c330-4c9c-ab89-ba53874aafbb\",\n              \"name\": \"owner\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.owner || $json.owners[0].emailAddress }}\"\n            },\n            {\n              \"id\": \"592eb79e-28db-4470-8347-36b2a661cb03\",\n              \"name\": \"folder\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.folder || $json.parents[0]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"2562ed4a-8ecd-4a32-ae51-bc85daa9817b\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1800,\n        440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1d28f976-2467-4d18-8698-556d29a5f8c0\",\n              \"name\": \"isDuplicate\",\n              \"type\": \"boolean\",\n              \"value\": \"={{ $json.isDuplicate }}\"\n            },\n            {\n              \"id\": \"e9d8eb20-7668-4287-bfb4-d4f66c019f73\",\n              \"name\": \"id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.id }}\"\n            },\n            {\n              \"id\": \"587e5f8e-bd94-4ec5-80f2-066c99922135\",\n              \"name\": \"name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.name }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e7f0482c-77c7-46a0-8a36-e61bb624c422\",\n      \"name\": \"Filter\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        2020,\n        440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"bd33247c-4c88-4c0b-bdfe-6f9dca0205e3\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.isDuplicate }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"28768732-29a4-4446-8b12-dda187976bf9\",\n      \"name\": \"Deduplicate Keep First\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1580,\n        560\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Sort files by creation time (oldest first)\\nconst sorted = items.sort((a, b) => \\n  new Date(a.json.createdTime) - new Date(b.json.createdTime));\\n\\nconst seen = {};\\nfor (const item of sorted) {\\n  const md5 = item.json.md5Checksum;\\n\\n  // Failsafe: Skip if md5Checksum is missing or empty\\n  if (!md5) {\\n    item.json.isDuplicate = false; // Mark as not duplicate to avoid issues\\n    continue; // Skip to the next item\\n  }\\n\\n  item.json.isDuplicate = md5 in seen;\\n  if (!item.json.isDuplicate) seen[md5] = true;\\n}\\nreturn items;\"\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"1f6f9529-2283-4806-ad5a-b0425f9f68e2\",\n      \"name\": \"Deduplicate Keep Last\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1580,\n        360\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Sort files by creation time (latest first)\\nconst sorted = items.sort((a, b) => \\n  new Date(b.json.createdTime) - new Date(a.json.createdTime));\\n\\nconst seen = {};\\nfor (const item of sorted) {\\n  const md5 = item.json.md5Checksum;\\n\\n  // Failsafe: Skip if md5Checksum is missing or empty\\n  if (!md5) {\\n    item.json.isDuplicate = false; // Mark as not duplicate to avoid issues\\n    continue; // Skip to the next item\\n  }\\n\\n  if (md5 in seen) {\\n    item.json.isDuplicate = true;\\n  } else {\\n    item.json.isDuplicate = false;\\n    seen[md5] = true;\\n  }\\n}\\nreturn items;\"\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c5250dd1-6eeb-4b89-b2e7-e44a8d88212c\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        -120\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 440,\n        \"height\": 800,\n        \"content\": \"# 2. é…ç½®  \\né€‰æ‹©å·¥ä½œæµçš„**ä¿ç•™**ä¸**å¤„ç†**è¡Œä¸º  \\n\\n1. **keep**å‚æ•°ç”¨äºè®¾å®šæ£€æµ‹åˆ°é‡å¤æ–‡ä»¶æ—¶ä¿ç•™é¦–æ¬¡è¿˜æ˜¯æœ«æ¬¡æ¥æ”¶çš„æ–‡ä»¶ï¼ˆå¯é€‰å€¼ï¼š`first`é¦–ä»½ï¼Œ`last`æœ«ä»½ï¼Œé»˜è®¤å€¼ï¼š`last`æœ«ä»½ï¼‰  \\n2. **action**å‚æ•°ç”¨äºè®¾å®šå¯¹é‡å¤æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼šç§»è‡³å›æ”¶ç«™æˆ–é€šè¿‡æ·»åŠ DUPLICATE-å‰ç¼€é‡å‘½åæ ‡è®°ï¼ˆå¯é€‰å€¼ï¼š`trash`å›æ”¶ç«™ï¼Œ`flag`æ ‡è®°ï¼Œé»˜è®¤å€¼ï¼š`flag`æ ‡è®°ï¼‰ã€‚å·²å¸¦æœ‰DUPLICATE-å‰ç¼€çš„æ–‡ä»¶ä¸ä¼šè¢«é‡å¤æ ‡è®°ã€‚  \\n\\nä»¥ä¸‹å‚æ•°`owner`å’Œ`folder`ç»§æ‰¿è‡ªè§¦å‘å™¨ï¼Œé€šå¸¸æ— éœ€ä¿®æ”¹ï¼š  \\n- **folder**æŒ‡å‘ç›®æ ‡å·¥ä½œç›®å½•ï¼Œé»˜è®¤ç»§æ‰¿è‡ªè§¦å‘å™¨  \\n- **owner**å‚æ•°éœ€ä¸æ–‡ä»¶æ‰€æœ‰è€…åŒ¹é…ï¼Œå·¥ä½œæµä»…å¤„ç†è¯¥ç”¨æˆ·æ‹¥æœ‰çš„æ–‡ä»¶ã€‚è¯¥å‚æ•°é€šè¿‡ç”¨æˆ·é‚®ç®±æŒ‡å®šï¼Œå¹¶ç»§æ‰¿è‡ªè§¦å‘å™¨é¦–ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…ä¿¡æ¯ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"67c4d02f-b170-4504-9bae-7bf14db7abd3\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 320,\n        \"height\": 500,\n        \"content\": \"## å·¥ä½œæ–‡ä»¶å¤¹\\n\\\"å·¥ä½œæ–‡ä»¶å¤¹\\\"èŠ‚ç‚¹å…è®¸æ‚¨é€‰æ‹©éœ€è¦å»é‡çš„æ–‡ä»¶ã€‚\\n\\næ­¤å·¥ä½œæµç¨‹åŒ…å«ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œä»…å¯¹æ·±åº¦çº§åˆ«ä¸º1çš„å•ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œæ“ä½œã€‚ä¸æ”¯æŒå¤„ç†åµŒå¥—æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ã€‚\\n\\næ‚¨å¯ç§»é™¤è¯¥æ–‡ä»¶å¤¹è¿‡æ»¤å™¨ä»¥å¤„ç†æ•´ä¸ªé©±åŠ¨å™¨ï¼Œæˆ–æ·»åŠ å…¶ä»–è¿‡æ»¤æ¡ä»¶ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9ed26ef0-da89-43c5-9e12-2ec97b2e51f6\",\n      \"name\": \"Send Duplicates to Trash\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2760,\n        320\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"deleteFile\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"VypmUgEf64twpmiZ\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"fcfd08fa-7a19-4974-b3bb-6ed27a2030cf\",\n      \"name\": \"No Operation, do nothing\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        2800,\n        600\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"de7967e7-eb3b-456c-b12e-6de3165ad29a\",\n      \"name\": \"Is Flagged\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        2540,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c8d8eac5-e03a-4673-bcf9-a8acaa95cb8e\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"startsWith\"\n              },\n              \"leftValue\": \"={{ $('Trash/Flag Duplicates').item.json.name }}\",\n              \"rightValue\": \"DUPLICATE-\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"d227d6ee-97e7-4b4d-b1a2-4cd402be99d5\",\n      \"name\": \"Google Drive Trigger\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        -360,\n        460\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 15\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1-tjf96Ooj0SL8qaE04BGIeCGnd-O1R8c\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/1-tjf96Ooj0SL8qaE04BGIeCGnd-O1R8c\",\n          \"cachedResultName\": \"2025/04\\n\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"VypmUgEf64twpmiZ\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"22e1638e-5c2e-41bc-b66e-fcee6af05762\",\n      \"name\": \"Drop Google Apps files\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        940,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"1e7d9666-fba0-4fe7-b03a-1a4e5c07b389\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notStartsWith\"\n              },\n              \"leftValue\": \"={{ $json.mimeType }}\",\n              \"rightValue\": \"application/vnd.google-apps\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"ec80f4de-5dff-4693-bff4-2509fd581d70\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        840,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 320,\n        \"height\": 500,\n        \"content\": \"# å¿½ç•¥å‘ç°çš„Googleåº”ç”¨æ–‡æ¡£\\nDocsã€Sheetsã€Formsã€Slidesã€Drawingsç­‰æ–‡æ¡£å°†è¢«å¿½ç•¥ï¼Œå› ä¸ºå®ƒä»¬å¹¶éå®é™…çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…¶å†…å®¹æ— æ³•ç›´æ¥æ£€æŸ¥ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"66ee766a-3dea-449f-827c-1922c6e053f3\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -520,\n        -120\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 440,\n        \"height\": 800,\n        \"content\": \"# 1. è§¦å‘å™¨è®¾ç½®ä¸å·¥ä½œæ–‡ä»¶å¤¹\\n\\nä½¿ç”¨Google Driveè§¦å‘å™¨æ—¶ï¼Œéœ€é…ç½®**è½®è¯¢é—´éš”æ—¶é—´**å’Œ**ç›®æ ‡å·¥ä½œæ–‡ä»¶å¤¹**ã€‚\\n\\né»˜è®¤æƒ…å†µä¸‹ï¼Œè§¦å‘å™¨è®¾ç½®ä¸ºæ¯15åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡*æ–‡ä»¶ä¸Šä¼ *äº‹ä»¶ã€‚\\n\\nå½“é…ç½®ä¸ºç‰¹å®šé©±åŠ¨å™¨æ–‡ä»¶å¤¹æ—¶ï¼Œå·¥ä½œæµä»…å¤„ç†è¯¥æ–‡ä»¶å¤¹å†…çš„ç›´æ¥æ–‡ä»¶ï¼ˆä¸ä¼šæ£€æŸ¥/ä¿®æ”¹å­æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼‰ã€‚\\n\\nè‹¥é…ç½®ä¸ºé©±åŠ¨å™¨æ ¹ç›®å½•ï¼ˆ/ï¼‰ï¼Œåˆ™ä¼šæ£€æŸ¥æ‰€æœ‰æ–‡ä»¶å¤¹åŠå­æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå› æ­¤**è¯·è°¨æ…ä½¿ç”¨æ­¤è®¾ç½®**ï¼Œä»¥å…å¯¼è‡´é‡è¦æ–‡ä»¶è¢«è¯¯åˆ æˆ–é‡å‘½åã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f8a7855-2ee3-426d-879f-afb303d5aa20\",\n      \"name\": \"Working Folder\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        560,\n        460\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"id\",\n            \"value\": \"={{ $('Config').item.json.folder }}\"\n          },\n          \"whatToSearch\": \"files\"\n        },\n        \"options\": {\n          \"fields\": [\n            \"*\"\n          ]\n        },\n        \"resource\": \"fileFolder\",\n        \"returnAll\": true,\n        \"queryString\": \"='{{$('Config').item.json.owner}}' in owners\",\n        \"searchMethod\": \"query\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"VypmUgEf64twpmiZ\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"6f69e6d3-96ca-4411-9a48-160ebdb2a273\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2500,\n        540\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 540,\n        \"height\": 220,\n        \"content\": \"### å·²ä»¥*DUPLICATE-*å¼€å¤´çš„æ–‡ä»¶ä¸ä¼šè¢«å†æ¬¡æ ‡è®°ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"65b4ba42-89ce-437c-a3e8-bf3f9b01cc21\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2500,\n        780\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 360,\n        \"height\": 240,\n        \"content\": \"### åœ¨Googleäº‘ç«¯ç¡¬ç›˜ä¸­ï¼Œè¢«åˆ é™¤çš„æ–‡ä»¶ä¼šä¿ç•™30å¤©åæ‰è¢«æ°¸ä¹…åˆ é™¤ã€‚  \\nåœ¨è¿™30å¤©å†…ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å¹¶æ¢å¤è¿™äº›æ–‡ä»¶ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"99374aa8-e597-4919-8b64-c376b246621a\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        2880,\n        800\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"newUpdatedFileName\": \"=DUPLICATE-{{ $json.name }}\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"VypmUgEf64twpmiZ\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"6ae62c31-4cf0-48e7-aa42-19fc259c5981\",\n      \"name\": \"Keep First/Last\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1300,\n        460\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"last\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"7f5ba21d-8f3d-4736-9c34-ac7ebd6a9699\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Config').item.json.keep }}\",\n                    \"rightValue\": \"last\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"first\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"93a013f6-6c59-47ad-bce3-8b34cc8f026c\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Config').item.json.keep }}\",\n                    \"rightValue\": \"first\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"9cb84da7-3cd9-4a53-af09-8b63f1cf8a34\",\n      \"name\": \"Trash/Flag Duplicates\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        2240,\n        440\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"send to trash\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"0314ac48-e7b7-406b-abcd-8cd1ab872c79\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Config').item.json.action }}\",\n                    \"rightValue\": \"trash\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"flag as duplicate\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"70d8e5f1-16a6-4921-ad9c-ab00049e507d\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Config').item.json.action }}\",\n                    \"rightValue\": \"flag\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Working Folder\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Trash/Flag Duplicates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Flagged\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"No Operation, do nothing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Working Folder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Drop Google Apps files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Keep First/Last\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Deduplicate Keep Last\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Deduplicate Keep First\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Deduplicate Keep Last\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trash/Flag Duplicates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Duplicates to Trash\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Is Flagged\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Deduplicate Keep First\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Drop Google Apps files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Keep First/Last\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}