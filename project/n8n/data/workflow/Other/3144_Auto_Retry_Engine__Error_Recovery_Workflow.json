{
  "title": "Auto-Retry Engine: Error Recovery Workflow",
  "url": "https://n8n.io/workflows/3144-auto-retry-engine-error-recovery-workflow/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "Francis Njenga",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"JJKkNnO4PQ12gQdE\",\"meta\":{\"instanceId\":\"0c2c4ddeb912d098b1d34ad608a9ee98cbe4700322f0cd2d87fa360b51c1c8a8\",\"templateCredsSetupCompleted\":true},\"name\":\"Retry Execution Hourly\",\"tags\":[{\"id\":\"BREwPdgeEC5njFaD\",\"name\":\"In Development\",\"createdAt\":\"2024-04-13T07:17:56.132Z\",\"updatedAt\":\"2024-04-13T07:17:56.132Z\"}],\"nodes\":[{\"id\":\"ca8badce-4a43-4e86-acb8-6a3939ffa597\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[580,740],\"parameters\":{},\"typeVersion\":1},{\"id\":\"7867cbd1-bf14-488d-9bbf-11d4478f93f2\",\"name\":\"n8n\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1160,860],\"parameters\":{\"filters\":{\"status\":\"error\"},\"options\":{\"activeWorkflows\":false},\"resource\":\"execution\",\"returnAll\":true,\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"m9lkUOoNENYqXZIQ\",\"name\":\"Gatu a/c\"}},\"typeVersion\":1},{\"id\":\"b9826e10-43b9-4a21-b2f8-f91fdee3e6a2\",\"name\":\"Log into n8n\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[960,860],\"parameters\":{\"url\":\"={{ \\n\\n(() => {\\n  const instance = $json.n8n_instance;\\n  const normalizedUrl = instance.endsWith('/') ? instance + 'rest/login' : instance + '/rest/login';\\n  return normalizedUrl;\\n})()\\n}}\",\"method\":\"POST\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendBody\":true,\"sendHeaders\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"email\",\"value\":\"={{ $json.username }}\"},{\"name\":\"password\",\"value\":\"={{ $json.password }}\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"accept\",\"value\":\"application/json, text/plain, */*\"},{\"name\":\"accept-language\",\"value\":\"en-US,en;q=0.9\"},{\"name\":\"user-agent\",\"value\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36\"}]}},\"retryOnFail\":true,\"typeVersion\":4.2},{\"id\":\"1ca0527f-ccc4-4b3f-b585-94550987e0d3\",\"name\":\"retry workflow automatically\",\"type\":\"n8n-nodes-base.httpRequest\",\"onError\":\"continueRegularOutput\",\"position\":[2080,980],\"parameters\":{\"url\":\"={{ \\n\\n$('login_details').item.json.n8n_instance.endsWith('/') \\n  ? $('login_details').item.json.n8n_instance + 'rest/executions/' + $json.id + '/retry' \\n  : $('login_details').item.json.n8n_instance + '/rest/executions/' + $('login_details').item.json.executionid + '/retry'\\n\\n }}  \",\"method\":\"POST\",\"options\":{\"redirect\":{\"redirect\":{}}},\"sendBody\":true,\"sendHeaders\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"loadWorkflow\",\"value\":\"true\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"accept\",\"value\":\"application/json, text/plain, */*\"},{\"name\":\"accept-language\",\"value\":\"en-US,en;q=0.9\"},{\"name\":\"cookie\",\"value\":\"={{ $('Log into n8n').item.json.headers['set-cookie'][0] }}\"},{\"name\":\"user-agent\",\"value\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36\"}]}},\"retryOnFail\":true,\"typeVersion\":4.2},{\"id\":\"b0b2f473-e12c-4377-80d3-46b18faa09b9\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[1380,860],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"06acbcc4-1a82-4063-8a92-2ebbc6597b4b\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.retrySuccessId }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"6ea6fe2c-de31-4628-87b1-69e7ba867030\",\"name\":\"No Operation, do nothing\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1620,680],\"parameters\":{},\"typeVersion\":1},{\"id\":\"851277e1-5b0e-4391-8174-2c118aacfa30\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[100,780],\"parameters\":{\"width\":383.5091496232509,\"height\":285.0376749192681,\"content\":\"- ## check for failed executions hourly.\\n- ## filter out those that have successful reexecution ids.\\n- ## log into n8n and get the session ids.\\n- ## retry the executions.\\n\\n- h\\n\"},\"typeVersion\":1},{\"id\":\"5b8bf8c1-f505-42da-936d-637394e71b34\",\"name\":\"login_details\",\"type\":\"n8n-nodes-base.set\",\"position\":[760,860],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3edb7f73-73cb-44f4-b891-8499598d9b0a\",\"name\":\"username\",\"type\":\"string\",\"value\":\"gaturanjenga@gmail.com\"},{\"id\":\"bc07f892-aacf-4f7c-96d1-64a9e28a4d92\",\"name\":\"password\",\"type\":\"string\",\"value\":\"Password123\"},{\"id\":\"59874894-b1ec-4a31-949e-9c3834d68d47\",\"name\":\"n8n_instance\",\"type\":\"string\",\"value\":\"https://ai.gatuservices.info/\"},{\"id\":\"68c77c33-15e0-4505-90d0-8129e7a8fbba\",\"name\":\"executionid\",\"type\":\"string\",\"value\":\"={{ $json.id }}\"}]}},\"typeVersion\":3.4},{\"id\":\"74716a90-25a2-48b6-b342-197fe3807a3d\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[1620,940],\"parameters\":{\"options\":{},\"batchSize\":5},\"typeVersion\":3},{\"id\":\"6439f486-68d4-4f9e-8e7f-3df909e32324\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[580,980],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\"}]}},\"typeVersion\":1.2},{\"id\":\"882c03ea-d9e0-4d00-b4c6-5a1c55994fb0\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[740,740],\"parameters\":{\"color\":4,\"width\":349.5813953488373,\"height\":278.232558139535,\"content\":\"## Set the login credential details in the set node, and login to n8n via api.\"},\"typeVersion\":1},{\"id\":\"bcc4d7e3-a91e-4c90-a018-56c6321f6ae2\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1140,740],\"parameters\":{\"color\":2,\"width\":343.81395348837225,\"height\":263.8139534883721,\"content\":\"## Get all `Error` executions.\\n- ### Filter out those that have been successfully retried\\n\"},\"typeVersion\":1},{\"id\":\"9219f2a8-8b71-45e0-a987-7e8c1a6364fe\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1780,880],\"parameters\":{\"color\":5,\"width\":444.7441860465116,\"height\":268.139534883721,\"content\":\"## Retry the executions.\\n- ### Feel free to add notifications error messages for failed one to  email or slack\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"eb687638-734c-4feb-af5a-b49cf1dc661b\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"No Operation, do nothing\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"n8n\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Log into n8n\":{\"main\":[[{\"node\":\"n8n\",\"type\":\"main\",\"index\":0}]]},\"execution_id\":{\"main\":[[{\"node\":\"retry workflow automatically\",\"type\":\"main\",\"index\":0}]]},\"login_details\":{\"main\":[[{\"node\":\"Log into n8n\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[],[{\"node\":\"execution_id\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"login_details\",\"type\":\"main\",\"index\":0}]]},\"retry workflow automatically\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"login_details\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Workflow Documentation: Auto-Retry Engine – Error Recovery Workflow\n\n## Detailed Description\n\nThe **Auto-Retry Engine: Error Recovery Workflow** is designed to automate the process of identifying and retrying failed executions in **n8n** workflows. By leveraging scheduled triggers, API integrations, and conditional logic, this workflow ensures that any failed executions are automatically retried on an **hourly basis**. This reduces manual intervention, improves system reliability, and ensures smoother workflow operations.\n\n## Who is this for?\n\nThis workflow is ideal for:\n\n  * **Automation Engineers** : Managing and maintaining workflows with minimal manual intervention.\n  * **DevOps Teams** : Ensuring high availability and reliability of automated processes.\n  * **IT Administrators** : Reducing downtime and improving system performance by automating error recovery.\n\n\n\n## What problem does this workflow solve?\n\n  * **Manual Error Handling** : Eliminates the need for manual monitoring and retrying of failed executions.\n  * **Improved Reliability** : Automatically retries failed executions, reducing downtime and improving workflow success rates.\n  * **Time Efficiency** : Saves time by automating repetitive error recovery tasks, allowing teams to focus on higher-priority work.\n\n\n\n## What this workflow does\n\nThis workflow automates the following steps:\n\n  1. **Scheduled Monitoring** : Checks for failed executions hourly using a schedule trigger.\n  2. **Error Filtering** : Identifies executions that have failed and filters out those that have already been successfully retried.\n  3. **Authentication** : Logs into the n8n instance using API credentials to retrieve session details.\n  4. **Automatic Retry** : Retries the failed executions using the n8n API.\n  5. **Batch Processing** : Processes multiple failed executions in batches to avoid overloading the system.\n\n\n\n## Setup\n\n### Prerequisites\n\nTo use this workflow, you’ll need:\n\n  * **n8n Account** : To create and run the workflow.\n  * **n8n API Credentials** : For logging into the n8n instance and retrying executions.\n  * **HTTP Request Node** : Configured to interact with the n8n API.\n  * **Schedule Trigger** : Set to run the workflow hourly.\n\n\n\n### Setup Process\n\n  1. **Configure Schedule Trigger**\n\n     * Set the trigger to run hourly to check for failed executions.\n  2. **Set Login Credentials**\n\n     * Add your n8n instance URL, username, and password in the Set Node.\n  3. **Integrate n8n API**\n\n     * Use the HTTP Request node to log into the n8n instance and retrieve session details.\n  4. **Retry Failed Executions**\n\n     * Configure the HTTP Request node to retry failed executions using the session details.\n  5. **Batch Processing**\n\n     * Use the Split in Batches node to process multiple failed executions in batches.\n\n\n\n## How to customize this workflow\n\nTailor the workflow to fit your specific needs:\n\n  * **Adjust Schedule Frequency**\n\n    * Modify the schedule trigger to run at different intervals (e.g., every 30 minutes).\n  * **Add Notifications**\n\n    * Integrate email or Slack notifications to alert teams about failed retries.\n  * **Refine Error Filtering**\n\n    * Customize the filtering logic to exclude specific types of failed executions.\n  * **Scale Batch Size**\n\n    * Adjust the batch size in the Split in Batches node to optimize performance.\n\n\n\n## Conclusion\n\nThe **Auto-Retry Engine: Error Recovery Workflow** is a powerful tool for automating error recovery in **n8n** workflows. By reducing manual intervention and ensuring failed executions are retried automatically, this workflow enhances **system reliability** and **operational efficiency**. Whether you're managing a few workflows or a complex automation ecosystem, this workflow ensures your processes run **smoothly** and **consistently**.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>Workflow Documentation: Auto-Retry Engine – Error Recovery Workflow</h1>\n<h2>Detailed Description</h2>\n<p>The <strong>Auto-Retry Engine: Error Recovery Workflow</strong> is designed to automate the process of identifying and retrying failed executions in <strong>n8n</strong> workflows. By leveraging scheduled triggers, API integrations, and conditional logic, this workflow ensures that any failed executions are automatically retried on an <strong>hourly basis</strong>. This reduces manual intervention, improves system reliability, and ensures smoother workflow operations.</p>\n<h2>Who is this for?</h2>\n<p>This workflow is ideal for:</p>\n<ul>\n<li><strong>Automation Engineers</strong>: Managing and maintaining workflows with minimal manual intervention.</li>\n<li><strong>DevOps Teams</strong>: Ensuring high availability and reliability of automated processes.</li>\n<li><strong>IT Administrators</strong>: Reducing downtime and improving system performance by automating error recovery.</li>\n</ul>\n<h2>What problem does this workflow solve?</h2>\n<ul>\n<li><strong>Manual Error Handling</strong>: Eliminates the need for manual monitoring and retrying of failed executions.</li>\n<li><strong>Improved Reliability</strong>: Automatically retries failed executions, reducing downtime and improving workflow success rates.</li>\n<li><strong>Time Efficiency</strong>: Saves time by automating repetitive error recovery tasks, allowing teams to focus on higher-priority work.</li>\n</ul>\n<h2>What this workflow does</h2>\n<p>This workflow automates the following steps:</p>\n<ol>\n<li><strong>Scheduled Monitoring</strong>: Checks for failed executions hourly using a schedule trigger.</li>\n<li><strong>Error Filtering</strong>: Identifies executions that have failed and filters out those that have already been successfully retried.</li>\n<li><strong>Authentication</strong>: Logs into the n8n instance using API credentials to retrieve session details.</li>\n<li><strong>Automatic Retry</strong>: Retries the failed executions using the n8n API.</li>\n<li><strong>Batch Processing</strong>: Processes multiple failed executions in batches to avoid overloading the system.</li>\n</ol>\n<h2>Setup</h2>\n<h3>Prerequisites</h3>\n<p>To use this workflow, you’ll need:</p>\n<ul>\n<li><strong>n8n Account</strong>: To create and run the workflow.</li>\n<li><strong>n8n API Credentials</strong>: For logging into the n8n instance and retrying executions.</li>\n<li><strong>HTTP Request Node</strong>: Configured to interact with the n8n API.</li>\n<li><strong>Schedule Trigger</strong>: Set to run the workflow hourly.</li>\n</ul>\n<h3>Setup Process</h3>\n<ol>\n<li>\n<p><strong>Configure Schedule Trigger</strong></p>\n<ul>\n<li>Set the trigger to run hourly to check for failed executions.</li>\n</ul>\n</li>\n<li>\n<p><strong>Set Login Credentials</strong></p>\n<ul>\n<li>Add your n8n instance URL, username, and password in the Set Node.</li>\n</ul>\n</li>\n<li>\n<p><strong>Integrate n8n API</strong></p>\n<ul>\n<li>Use the HTTP Request node to log into the n8n instance and retrieve session details.</li>\n</ul>\n</li>\n<li>\n<p><strong>Retry Failed Executions</strong></p>\n<ul>\n<li>Configure the HTTP Request node to retry failed executions using the session details.</li>\n</ul>\n</li>\n<li>\n<p><strong>Batch Processing</strong></p>\n<ul>\n<li>Use the Split in Batches node to process multiple failed executions in batches.</li>\n</ul>\n</li>\n</ol>\n<h2>How to customize this workflow</h2>\n<p>Tailor the workflow to fit your specific needs:</p>\n<ul>\n<li>\n<p><strong>Adjust Schedule Frequency</strong></p>\n<ul>\n<li>Modify the schedule trigger to run at different intervals (e.g., every 30 minutes).</li>\n</ul>\n</li>\n<li>\n<p><strong>Add Notifications</strong></p>\n<ul>\n<li>Integrate email or Slack notifications to alert teams about failed retries.</li>\n</ul>\n</li>\n<li>\n<p><strong>Refine Error Filtering</strong></p>\n<ul>\n<li>Customize the filtering logic to exclude specific types of failed executions.</li>\n</ul>\n</li>\n<li>\n<p><strong>Scale Batch Size</strong></p>\n<ul>\n<li>Adjust the batch size in the Split in Batches node to optimize performance.</li>\n</ul>\n</li>\n</ul>\n<h2>Conclusion</h2>\n<p>The <strong>Auto-Retry Engine: Error Recovery Workflow</strong> is a powerful tool for automating error recovery in <strong>n8n</strong> workflows. By reducing manual intervention and ensuring failed executions are retried automatically, this workflow enhances <strong>system reliability</strong> and <strong>operational efficiency</strong>. Whether you're managing a few workflows or a complex automation ecosystem, this workflow ensures your processes run <strong>smoothly</strong> and <strong>consistently</strong>.</p>\n</div><!--]-->"
}