{
  "title": "Email Notifications to Telegram using Temporary HTML URL Hosting via GitHub Gist",
  "url": "https://n8n.io/workflows/2080-email-notifications-to-telegram-using-temporary-html-url-hosting-via-github-gist/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "Nskha",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"dbd43d88d26a9e30d8aadc002c9e77f1400c683dd34efe3778d43d27250dde50\"},\"nodes\":[{\"id\":\"1c7b05e0-d82b-4851-a1ec-713093cdf489\",\"name\":\"Email Trigger (IMAP)\",\"type\":\"n8n-nodes-base.emailReadImap\",\"position\":[540,660],\"parameters\":{\"format\":\"resolved\",\"options\":{\"forceReconnect\":60,\"customEmailConfig\":\"[\\\"UNSEEN\\\"]\"}},\"typeVersion\":2},{\"id\":\"734424e6-d292-47d7-abb9-9630bdc00e35\",\"name\":\"Telegram\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1140,660],\"parameters\":{\"text\":\"=📧 <b>You've got mail!</b>\\n\\nA new email has arrived from this address: <code>{{ $node[\\\"Email Trigger (IMAP)\\\"].json[\\\"from\\\"][\\\"value\\\"][\\\"0\\\"][\\\"address\\\"] }}</code>\\n\\n🌐 A secert HTML page has been created for it, where you can preview the message by following the link below 👇\",\"chatId\":\"<Your Chat ID Here>\",\"replyMarkup\":\"inlineKeyboard\",\"inlineKeyboard\":{\"rows\":[{\"row\":{\"buttons\":[{\"text\":\"={{ $('Github Gist').item.json.files[\\\"email.html\\\"].filename }}\",\"additionalFields\":{\"url\":\"={{'http://emails.nskha.com/?iloven8n=nskha&id='+ $('Github Gist').item.json.id}}\"}}]}}]},\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":true,\"disable_web_page_preview\":true}},\"typeVersion\":1.1},{\"id\":\"260c6ba6-1922-4bcb-bd5e-20b307ac638d\",\"name\":\"Github Gist\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Save HTML content\",\"position\":[840,660],\"parameters\":{\"url\":\"https://api.github.com/gists\",\"method\":\"POST\",\"options\":{\"redirect\":{\"redirect\":{}}},\"jsonBody\":\"={\\n  \\\"description\\\": \\\"{{ $json.date }} - from {{ JSON.stringify($json.from.value[0].address).slice(1, -1) }} - to {{ JSON.stringify($json.to.value[0].address).slice(1, -1) }}\\\",\\n  \\\"public\\\": false,\\n  \\\"files\\\": {\\n    \\\"email.html\\\": {\\n      \\\"content\\\": \\\"{{ JSON.stringify($json.html).slice(1, -1) }}\\\"\\n    }\\n  }\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"headerParameters\":{\"parameters\":[{\"name\":\"Accept\",\"value\":\"application/vnd.github+json\"}]},\"nodeCredentialType\":\"githubApi\"},\"notesInFlow\":true,\"typeVersion\":4.1},{\"id\":\"0a77d236-e387-4458-a9cc-9ff7977ba4aa\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,440],\"parameters\":{\"color\":7,\"width\":872,\"height\":626.9128738621571,\"content\":\"## Simple Conversion of Emails into HTML Webpages\\nTo-do:\\n* Configure your GitHub credentials through `Predefined Credential Type` => `GitHub API`.\\n* Add your Telegram credentials by providing your `Chat ID`.\\n* [**Optional**] You can host this [small project](https://github.com/Automations-Project/Emails/tree/main) on your own domain using GitHub Pages.\\n\\n ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌  ‌ ‌ ‌  ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ![image](https://cdn.statically.io/gh/Automations-Project/Emails/main/iloven8n.min.svg)\\n\\n\\n\\n\\n\\n\\n\\n ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌  ‌ ‌ ‌  ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ![image](https://cdn.statically.io/gh/Automations-Project/Emails/main/iloven8n%E2%80%8C.min.svg)\"},\"typeVersion\":1},{\"id\":\"f69cf395-0050-44b3-a713-61f0cc5977ad\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"notes\":\"Delete within 3h\",\"position\":[540,900],\"webhookId\":\"c5202512-f84e-44b4-b357-9ee2124bd507\",\"parameters\":{\"amount\":3},\"notesInFlow\":true,\"typeVersion\":1},{\"id\":\"c6067792-4fc2-4ced-bb04-6c5449a533ab\",\"name\":\"Telegram ‌\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1140,900],\"parameters\":{\"chatId\":\"<Your Chat ID Here>\",\"messageId\":\"={{ $('Telegram').item.json.result.message_id }}\",\"operation\":\"deleteMessage\"},\"typeVersion\":1.1},{\"id\":\"ebfe89fb-b0a3-4826-a72b-3fb8baa473c4\",\"name\":\"Github Gist ‌\",\"type\":\"n8n-nodes-base.httpRequest\",\"notes\":\"Remove HTML content\",\"position\":[840,900],\"parameters\":{\"url\":\"=https://api.github.com/gists/{{ $item(\\\"0\\\").$node[\\\"Github Gist\\\"].json[\\\"id\\\"] }}\",\"method\":\"DELETE\",\"options\":{\"redirect\":{\"redirect\":{}}},\"sendHeaders\":true,\"authentication\":\"predefinedCredentialType\",\"headerParameters\":{\"parameters\":[{\"name\":\"Accept\",\"value\":\"application/vnd.github+json\"}]},\"nodeCredentialType\":\"githubApi\"},\"notesInFlow\":true,\"typeVersion\":4.1}],\"pinData\":{},\"connections\":{\"Wait\":{\"main\":[[{\"node\":\"Github Gist ‌\",\"type\":\"main\",\"index\":0}]]},\"Telegram\":{\"main\":[[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"Github Gist\":{\"main\":[[{\"node\":\"Telegram\",\"type\":\"main\",\"index\":0}]]},\"Github Gist ‌\":{\"main\":[[{\"node\":\"Telegram ‌\",\"type\":\"main\",\"index\":0}]]},\"Email Trigger (IMAP)\":{\"main\":[[{\"node\":\"Github Gist\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Overview\n\nThis workflow automates the process of notifying users about new emails via Telegram and temporarily hosting the email content on a secret HTML page. It is ideal for users who need immediate notifications and a secure, temporary web view of their email content.\n\n## Use Cases\n\n  * Immediate notification of new emails in Telegram with the ability to preview the email content in a secure, temporary HTML format.\n  * Automation for users who need to keep track of their emails without constantly checking their email client.\n  * Useful for teams or individuals who require instant updates on critical emails and prefer a quick preview through a web interface.\n\n\n\n## My Personal Use Case: Secure Subscription Sharing\n\nFrom time to time, I find myself wanting to share my paid subscriptions with friends, but giving out OTP codes manually or sharing my email isn't a good idea due to security concerns. I attempted to use the IMAP node to integrate with Telegram secret channel for this purpose but encountered numerous problems, such as difficulties in scraping content from emails. Additionally, the Telegram API sometimes rejects certain special characters found within email contents. After facing these challenges, I discovered that rendering emails as HTML pages and sharing them directly is the most effective solution. This approach bypasses the issues with character limitations and content scraping, providing a seamless way to share subscription benefits securely.\n\n## Services/APIs Used\n\nService/API | Node Type | Description  \n---|---|---  \nIMAP Email Server | Email Trigger (IMAP) | Triggers the workflow on receiving a new email.  \nTelegram API | Telegram | Sends notifications and manages messages in Telegram.  \nGitHub Gist API | HTTP Request (Github Gist) | Temporarily hosts email content on GitHub Gist.  \nGitHub Gist API (Deletion) | HTTP Request (Github Gist ‌) | Deletes the temporary GitHub Gist after a specified time.  \nWait | Wait | Delays the workflow for a specified period.  \n  \n## Configuration Steps\n\n  1. **Email Trigger (IMAP):** Configure your IMAP email credentials to enable the workflow to check for new emails.\n  2. **Telegram Nodes:** Insert your Telegram bot's API credentials and your chat ID in both Telegram nodes to send and delete messages.\n  3. **Github Gist Nodes:** Provide your GitHub API credentials to create and delete Gists. Ensure the GitHub token has the necessary permissions to create and delete Gists.\n  4. **Wait Node:** Adjust the wait time according to your preference for how long the email content should be accessible via the HTML page.\n\n\n\n## Screenshot\n\n![Workflow Screenshot](https://cdn.statically.io/gh/Automations-Project/n8n-templates/main/Email%20Notifications%20to%20Telegram%20using%20Temporary%20HTML%20Hosting%20via%20GitHub%20Gist/preview.png)\n\n## Additional Notes\n\n  * Ensure all credentials are securely stored and have the minimum necessary permissions for the workflow to function.\n  * Test the workflow with non-sensitive emails to ensure it operates as expected before using it with critical email accounts.\n  * Consider the privacy and security implications of temporarily hosting email content on GitHub Gist.\n\n\n\nFor any questions or issues, refer to the respective API documentation for each service used or consult the n8n community for support.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h2>Overview</h2>\n<p>This workflow automates the process of notifying users about new emails via Telegram and temporarily hosting the email content on a secret HTML page. It is ideal for users who need immediate notifications and a secure, temporary web view of their email content.</p>\n<h2>Use Cases</h2>\n<ul>\n<li>Immediate notification of new emails in Telegram with the ability to preview the email content in a secure, temporary HTML format.</li>\n<li>Automation for users who need to keep track of their emails without constantly checking their email client.</li>\n<li>Useful for teams or individuals who require instant updates on critical emails and prefer a quick preview through a web interface.</li>\n</ul>\n<h2>My Personal Use Case: Secure Subscription Sharing</h2>\n<p>From time to time, I find myself wanting to share my paid subscriptions with friends, but giving out OTP codes manually or sharing my email isn't a good idea due to security concerns. I attempted to use the IMAP node to integrate with Telegram secret channel for this purpose but encountered numerous problems, such as difficulties in scraping content from emails. Additionally, the Telegram API sometimes rejects certain special characters found within email contents. After facing these challenges, I discovered that rendering emails as HTML pages and sharing them directly is the most effective solution. This approach bypasses the issues with character limitations and content scraping, providing a seamless way to share subscription benefits securely.</p>\n<h2>Services/APIs Used</h2>\n<table>\n<thead>\n<tr>\n<th>Service/API</th>\n<th>Node Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>IMAP Email Server</td>\n<td>Email Trigger (IMAP)</td>\n<td>Triggers the workflow on receiving a new email.</td>\n</tr>\n<tr>\n<td>Telegram API</td>\n<td>Telegram</td>\n<td>Sends notifications and manages messages in Telegram.</td>\n</tr>\n<tr>\n<td>GitHub Gist API</td>\n<td>HTTP Request (Github Gist)</td>\n<td>Temporarily hosts email content on GitHub Gist.</td>\n</tr>\n<tr>\n<td>GitHub Gist API (Deletion)</td>\n<td>HTTP Request (Github Gist ‌)</td>\n<td>Deletes the temporary GitHub Gist after a specified time.</td>\n</tr>\n<tr>\n<td>Wait</td>\n<td>Wait</td>\n<td>Delays the workflow for a specified period.</td>\n</tr>\n</tbody>\n</table>\n<h2>Configuration Steps</h2>\n<ol>\n<li><strong>Email Trigger (IMAP):</strong> Configure your IMAP email credentials to enable the workflow to check for new emails.</li>\n<li><strong>Telegram Nodes:</strong> Insert your Telegram bot's API credentials and your chat ID in both Telegram nodes to send and delete messages.</li>\n<li><strong>Github Gist Nodes:</strong> Provide your GitHub API credentials to create and delete Gists. Ensure the GitHub token has the necessary permissions to create and delete Gists.</li>\n<li><strong>Wait Node:</strong> Adjust the wait time according to your preference for how long the email content should be accessible via the HTML page.</li>\n</ol>\n<h2>Screenshot</h2>\n<p><img src=\"https://cdn.statically.io/gh/Automations-Project/n8n-templates/main/Email%20Notifications%20to%20Telegram%20using%20Temporary%20HTML%20Hosting%20via%20GitHub%20Gist/preview.png\" alt=\"Workflow Screenshot\"></p>\n<h2>Additional Notes</h2>\n<ul>\n<li>Ensure all credentials are securely stored and have the minimum necessary permissions for the workflow to function.</li>\n<li>Test the workflow with non-sensitive emails to ensure it operates as expected before using it with critical email accounts.</li>\n<li>Consider the privacy and security implications of temporarily hosting email content on GitHub Gist.</li>\n</ul>\n<p>For any questions or issues, refer to the respective API documentation for each service used or consult the n8n community for support.</p>\n</div><!--]-->"
}