{
  "title": "Attach a default error handler to all active workflows",
  "url": "https://n8n.io/workflows/2312-attach-a-default-error-handler-to-all-active-workflows/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "bartv",
  "publish_date": "Last update 8 months ago",
  "publish_date_absolute": "2024-09-22",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"78ab5e476ecaa1f377d804637c3e86d3fd449c31126b69159de63d266513b694\"},\"nodes\":[{\"id\":\"d46a710d-0d0e-4040-b2b2-a2bd2e2410ff\",\"name\":\"Error Trigger\",\"type\":\"n8n-nodes-base.errorTrigger\",\"position\":[440,520],\"parameters\":{},\"typeVersion\":1},{\"id\":\"2e3a9cf6-9a9f-4f11-ab53-e3fa9c393e1f\",\"name\":\"n8n\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[900,180],\"parameters\":{\"filters\":{},\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"27\",\"name\":\"n8n account\"}},\"typeVersion\":1},{\"id\":\"7fc93f47-24ee-4000-ac3f-eb2746a926bb\",\"name\":\"Gmail\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[660,520],\"parameters\":{\"sendTo\":\"=(your email address)\",\"message\":\"={{ $json.execution.url }}\",\"options\":{},\"subject\":\"=[n8n] workflow failed:  {{ $json.workflow.name }}\"},\"credentials\":{\"gmailOAuth2\":{\"id\":\"3\",\"name\":\"gmail bart@blendernation.com\"}},\"typeVersion\":2.1},{\"id\":\"25ed8ec8-2c28-498a-a951-c5ef1b2a2c59\",\"name\":\"get error handler\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[660,180],\"parameters\":{\"operation\":\"get\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"27\",\"name\":\"n8n account\"}},\"typeVersion\":1},{\"id\":\"44713be9-786a-4bff-b562-a23146792995\",\"name\":\"n8n | update\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[1500,180],\"parameters\":{\"operation\":\"update\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"requestOptions\":{},\"workflowObject\":\"={{ JSON.stringify($json) }}\"},\"credentials\":{\"n8nApi\":{\"id\":\"27\",\"name\":\"n8n account\"}},\"typeVersion\":1},{\"id\":\"be27247a-71e5-4204-9c7c-2692d8a82c8b\",\"name\":\"set fields\",\"type\":\"n8n-nodes-base.code\",\"position\":[1300,180],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"const data = $json\\n\\ndata.settings.errorWorkflow = $('get error handler').item.json.id ;\\ndelete data.settings.callerPolicy;\\n\\nreturn {\\n  id: data.id,\\n  name: data.name,\\n  nodes: data.nodes,\\n  connections: data.connections,\\n  settings: data.settings\\n}\"},\"typeVersion\":2},{\"id\":\"d8774911-f4b2-4198-838b-2d0b89002e25\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,400],\"parameters\":{\"width\":483.4744075807993,\"height\":308.64949804469416,\"content\":\"## Default Error Handler\\n\\nUpdate this to your preferred notification mechanism\"},\"typeVersion\":1},{\"id\":\"0baa0fc3-4d5e-4507-bd5d-65ebce68178f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[605.0603083429507,126.84319830832769],\"parameters\":{\"width\":232.91556831986873,\"height\":216.67545344104974,\"content\":\"get ID of self\"},\"typeVersion\":1},{\"id\":\"fabb0db7-7364-4349-8563-952c9f0e07b2\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[440,180],\"parameters\":{\"rule\":{\"interval\":[{}]}},\"typeVersion\":1.2},{\"id\":\"dd1e0036-1093-4160-adad-ed1b0c1b3548\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,125.83113663973751],\"parameters\":{\"width\":214.6984582852457,\"height\":219.7116384468202,\"content\":\"Runs every day at midnight to update new workflows\"},\"typeVersion\":1},{\"id\":\"aca838c8-ff3e-4630-824b-a6d1d8414326\",\"name\":\"active && no error handler set && not this  handler workflow\",\"type\":\"n8n-nodes-base.if\",\"position\":[1100,180],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"290fd302-4e2d-44d6-8a8a-14a0b8f2c360\",\"operator\":{\"type\":\"string\",\"operation\":\"notExists\",\"singleValue\":true},\"leftValue\":\"={{ $json.settings.errorWorkflow }}\",\"rightValue\":\"=Default Error Handler\"},{\"id\":\"2a5799e9-2030-4281-bf11-e7f9777906c5\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.id }}\",\"rightValue\":\"={{ $('get error handler').item.json.id }}\"},{\"id\":\"8bc4c2a0-e094-4426-8ae6-71b6e4fa9842\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.active }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2}],\"pinData\":{},\"connections\":{\"n8n\":{\"main\":[[{\"node\":\"active && no error handler set && not this  handler workflow\",\"type\":\"main\",\"index\":0}]]},\"set fields\":{\"main\":[[{\"node\":\"n8n | update\",\"type\":\"main\",\"index\":0}]]},\"Error Trigger\":{\"main\":[[{\"node\":\"Gmail\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"get error handler\",\"type\":\"main\",\"index\":0}]]},\"get error handler\":{\"main\":[[{\"node\":\"n8n\",\"type\":\"main\",\"index\":0}]]},\"active && no error handler set && not this  handler workflow\":{\"main\":[[{\"node\":\"set fields\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**How it works:**\n\nDid you ever miss any errors in your workflow executions? I did! And I usually only realised a few days or weeks later. 🙈\n\nThis template attaches a default error workflow to all your active workflows. From now on, you'll receive a notification whenever a workflow errors and you'll have peace of mind again.\n\nIt runs every night at midnight so you never have to think of this again. Of course, you can also run it manually.\n\n**Steps to set up:**\n\n  1. Update the Gmail note with your own email address, or replace it with any other notification mechanism. You can also use Slack, Discord, Telegram or text messages..\n  2. Activate the workflow.\n  3. Relax.\n\n\n\n**Caveats:**\n\nI did not add any rate limiting, so if you have a workflow that runs very frequently and it errors... well let's say your mailbox will not be a nice place anymore.\n\n**Ideas for improvement?**\n\nIf you have any suggestions for improvement, feel free to reach out to me at [bart@n8n.io](mailto:bart@n8n.io).\n\nEnjoy!\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><strong>How it works:</strong></p>\n<p>Did you ever miss any errors in your workflow executions? I did! And I usually only realised a few days or weeks later. 🙈</p>\n<p>This template attaches a default error workflow to all your active workflows. From now on, you'll receive a notification whenever a workflow errors and you'll have peace of mind again.</p>\n<p>It runs every night at midnight so you never have to think of this again. Of course, you can also run it manually.</p>\n<p><strong>Steps to set up:</strong></p>\n<ol>\n<li>Update the Gmail note with your own email address, or replace it with any other notification mechanism. You can also use Slack, Discord, Telegram or text messages..</li>\n<li>Activate the workflow.</li>\n<li>Relax.</li>\n</ol>\n<p><strong>Caveats:</strong></p>\n<p>I did not add any rate limiting, so if you have a workflow that runs very frequently and it errors... well let's say your mailbox will not be a nice place anymore.</p>\n<p><strong>Ideas for improvement?</strong></p>\n<p>If you have any suggestions for improvement, feel free to reach out to me at <a href=\"mailto:bart@n8n.io\" rel=\"ugc nofollow\">bart@n8n.io</a>.</p>\n<p>Enjoy!</p>\n</div><!--]-->",
  "readme_zh": "**运作原理：**\n\n你是否曾在工作流执行时漏掉某些错误？我有过！而且通常要几天甚至几周后才会发现。🙈  \n\n这个模板会为你所有活跃的工作流附加一个默认的错误处理流程。从此，每当工作流出错时，你都会收到通知，让你高枕无忧。  \n\n它会在每晚午夜自动运行，你再也不用为此操心。当然，你也可以手动触发它。  \n\n**设置步骤：**  \n\n1. 在Gmail笔记中更新为你自己的邮箱地址，或替换为其他通知方式（如Slack、Discord、Telegram或短信）。  \n2. 激活该工作流。  \n3. 放松心情。  \n\n**注意事项：**  \n\n我没有设置频率限制，所以如果你的某个工作流运行极其频繁且持续报错……嗯，你的邮箱可能会变得不太美观。  \n\n**改进建议？**  \n\n如有任何优化想法，欢迎通过[bart@n8n.io](mailto:bart@n8n.io)联系我。  \n\n祝使用愉快！",
  "title_zh": "为所有活跃工作流附加默认错误处理程序",
  "publish_date_zh": "最后更新于8个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"78ab5e476ecaa1f377d804637c3e86d3fd449c31126b69159de63d266513b694\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"d46a710d-0d0e-4040-b2b2-a2bd2e2410ff\",\n      \"name\": \"Error Trigger\",\n      \"type\": \"n8n-nodes-base.errorTrigger\",\n      \"position\": [\n        440,\n        520\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2e3a9cf6-9a9f-4f11-ab53-e3fa9c393e1f\",\n      \"name\": \"n8n\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        900,\n        180\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"27\",\n          \"name\": \"n8n account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7fc93f47-24ee-4000-ac3f-eb2746a926bb\",\n      \"name\": \"Gmail\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        660,\n        520\n      ],\n      \"parameters\": {\n        \"sendTo\": \"=(your email address)\",\n        \"message\": \"={{ $json.execution.url }}\",\n        \"options\": {},\n        \"subject\": \"=[n8n] workflow failed:  {{ $json.workflow.name }}\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"3\",\n          \"name\": \"gmail bart@blendernation.com\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"25ed8ec8-2c28-498a-a951-c5ef1b2a2c59\",\n      \"name\": \"get error handler\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        660,\n        180\n      ],\n      \"parameters\": {\n        \"operation\": \"get\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"27\",\n          \"name\": \"n8n account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"44713be9-786a-4bff-b562-a23146792995\",\n      \"name\": \"n8n | update\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        1500,\n        180\n      ],\n      \"parameters\": {\n        \"operation\": \"update\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"requestOptions\": {},\n        \"workflowObject\": \"={{ JSON.stringify($json) }}\"\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"27\",\n          \"name\": \"n8n account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"be27247a-71e5-4204-9c7c-2692d8a82c8b\",\n      \"name\": \"set fields\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1300,\n        180\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"const data = $json\\n\\ndata.settings.errorWorkflow = $('get error handler').item.json.id ;\\ndelete data.settings.callerPolicy;\\n\\nreturn {\\n  id: data.id,\\n  name: data.name,\\n  nodes: data.nodes,\\n  connections: data.connections,\\n  settings: data.settings\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"d8774911-f4b2-4198-838b-2d0b89002e25\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        400\n      ],\n      \"parameters\": {\n        \"width\": 483.4744075807993,\n        \"height\": 308.64949804469416,\n        \"content\": \"## 默认错误处理程序\\n\\n更新此处以使用您偏好的通知机制\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0baa0fc3-4d5e-4507-bd5d-65ebce68178f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        605.0603083429507,\n        126.84319830832769\n      ],\n      \"parameters\": {\n        \"width\": 232.91556831986873,\n        \"height\": 216.67545344104974,\n        \"content\": \"获取自身ID\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fabb0db7-7364-4349-8563-952c9f0e07b2\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        440,\n        180\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"dd1e0036-1093-4160-adad-ed1b0c1b3548\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        125.83113663973751\n      ],\n      \"parameters\": {\n        \"width\": 214.6984582852457,\n        \"height\": 219.7116384468202,\n        \"content\": \"每天午夜运行以更新新工作流程\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aca838c8-ff3e-4630-824b-a6d1d8414326\",\n      \"name\": \"active && no error handler set && not this  handler workflow\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1100,\n        180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"290fd302-4e2d-44d6-8a8a-14a0b8f2c360\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notExists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.settings.errorWorkflow }}\",\n              \"rightValue\": \"=Default Error Handler\"\n            },\n            {\n              \"id\": \"2a5799e9-2030-4281-bf11-e7f9777906c5\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $json.id }}\",\n              \"rightValue\": \"={{ $('get error handler').item.json.id }}\"\n            },\n            {\n              \"id\": \"8bc4c2a0-e094-4426-8ae6-71b6e4fa9842\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.active }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"n8n\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"active && no error handler set && not this  handler workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"set fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"n8n | update\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Error Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"get error handler\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get error handler\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"n8n\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"active && no error handler set && not this  handler workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}