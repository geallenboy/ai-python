{
  "title": "National Weather Service 7-Day Forecast in Slack",
  "url": "https://n8n.io/workflows/2947-national-weather-service-7-day-forecast-in-slack/",
  "category": "Other",
  "category_url": "https://n8n.io/workflows/categories/other/?sort=createdAt:desc",
  "author": "Alex Kim",
  "publish_date": "Last update 2 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"B6UHILmjPWa7ViQ4\",\"meta\":{\"instanceId\":\"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\"templateCredsSetupCompleted\":true},\"name\":\"Weather via Slack\",\"tags\":[{\"id\":\"2KlkHxhULPP42BS6\",\"name\":\"App 72\",\"createdAt\":\"2025-02-19T21:15:27.390Z\",\"updatedAt\":\"2025-02-19T21:15:27.390Z\"},{\"id\":\"aw8suPYTKfXDtMZl\",\"name\":\"Utility\",\"createdAt\":\"2025-02-10T14:41:49.045Z\",\"updatedAt\":\"2025-02-10T14:41:49.045Z\"}],\"nodes\":[{\"id\":\"9aea370b-7eb9-4742-9663-6628513e4de3\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,-300],\"webhookId\":\"41a60a4f-66d0-433b-aa43-b225dffa6761\",\"parameters\":{\"path\":\"slack1\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"c982487f-076a-48e8-9a35-78e8fbfb8936\",\"name\":\"Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[560,-300],\"webhookId\":\"4840f197-e116-4ef5-9372-0abd063e4aad\",\"parameters\":{\"text\":\"={{\\n  JSON.parse($node[\\\"NWS1\\\"].json.data).properties.periods\\n  .map(period => \\n    `*${period.name}*\\\\n` +\\n    `Temp: ${period.temperature}¬∞${period.temperatureUnit}\\\\n` +\\n    `Wind: ${period.windSpeed} ${period.windDirection}\\\\n` +\\n    `Forecast: ${period.shortForecast}`\\n  )\\n  .join(\\\"\\\\n\\\\n\\\")\\n}}\\n\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C0889718P8S\",\"cachedResultName\":\"n8n\"},\"otherOptions\":{},\"authentication\":\"oAuth2\"},\"credentials\":{\"slackOAuth2Api\":{\"id\":\"GSiEiuKBz8GR5qiD\",\"name\":\"AlexK Slack account\"}},\"typeVersion\":2.3},{\"id\":\"7d42112a-0590-4a09-ba0e-dbdf1eddccf2\",\"name\":\"OpenStreetMap\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-100,-300],\"parameters\":{\"url\":\"https://nominatim.openstreetmap.org/search\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendQuery\":true,\"sendHeaders\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"q\",\"value\":\"={{ $('Webhook').item.json.body.text }}\"},{\"name\":\"format\",\"value\":\"json\"}]},\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2},{\"id\":\"565a0123-9059-4e6e-be97-96e0875c1b84\",\"name\":\"NWS\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[120,-300],\"parameters\":{\"url\":\"=https://api.weather.gov/points/{{ $json.body[0].lat }},{{ $json.body[0].lon }}\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2},{\"id\":\"3505e6c2-6e66-4abd-a1bb-75a1d8fc9a08\",\"name\":\"NWS1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[340,-300],\"parameters\":{\"url\":\"=https://api.weather.gov/gridpoints/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridId : \\\"\\\"}}\\n/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridX : \\\"\\\"}}\\n,{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridY : \\\"\\\"}}\\n/forecast\",\"options\":{\"response\":{\"response\":{\"fullResponse\":true}}},\"sendHeaders\":true,\"headerParameters\":{\"parameters\":[{\"name\":\"User-Agent\",\"value\":\"alexk1919 (alex@alexk1919.com)\"}]}},\"typeVersion\":4.2}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"4244c90f-02e9-42fc-9873-3f8074f6ecf4\",\"connections\":{\"NWS\":{\"main\":[[{\"node\":\"NWS1\",\"type\":\"main\",\"index\":0}]]},\"NWS1\":{\"main\":[[{\"node\":\"Slack\",\"type\":\"main\",\"index\":0}]]},\"Slack\":{\"main\":[[]]},\"Webhook\":{\"main\":[[{\"node\":\"OpenStreetMap\",\"type\":\"main\",\"index\":0}]]},\"OpenStreetMap\":{\"main\":[[{\"node\":\"NWS\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Weather via Slack üå¶Ô∏èüí¨\n\n## Overview\n\nThis workflow provides real-time weather updates via Slack using a **custom Slack command** :  \n`/weather [cityname]`\n\nUsers can type this command in Slack (e.g., `/weather New York`), and the workflow will fetch and post the latest forecast, including temperature, wind conditions, and a short weather summary.\n\nWhile this workflow is designed for Slack, users can modify it to send weather updates via **email, Discord, Microsoft Teams, or any other communication platform**.\n\n## How It Works\n\n  1. **Webhook Trigger** ‚Äì The workflow is triggered when a user runs `/weather [cityname]` in Slack.\n  2. **Geocoding with OpenStreetMap** ‚Äì The city name is converted into latitude and longitude coordinates.\n  3. **Weather Data from NOAA** ‚Äì The coordinates are used to retrieve detailed weather data from the **National Weather Service (NWS)** API.\n  4. **Formatted Weather Report** ‚Äì The workflow extracts relevant weather details, such as: \n     * Temperature (¬∞F/¬∞C)\n     * Wind speed and direction\n     * Short forecast summary\n  5. **Slack Notification** ‚Äì The weather forecast is posted back to the Slack channel in a structured format.\n\n\n\n## Requirements\n\n  * A **custom Slack app** with: \n    * The ability to create a **Slash Command (`/weather`)**\n    * OAuth permissions to post messages in Slack\n  * An **n8n instance** to host and execute the workflow\n\n\n\n## Customization\n\n  * Replace Slack messaging with **email, Discord, Microsoft Teams, Telegram, or another service**.\n  * Modify the weather data format for different output preferences.\n  * Set up scheduled weather updates for specific locations.\n\n\n\n## Use Cases\n\n  * Instantly check the weather for any location directly in Slack.\n  * Automate weather reports for team members or projects.\n  * Useful for remote teams, outdoor event planning, or general weather tracking.\n\n\n\n## Setup Instructions\n\n  1. **Create a custom Slack app** : \n     * Go to [api.slack.com/apps](https://api.slack.com/apps) and create a new app.\n     * Add a **Slash Command** (`/weather`) with the webhook URL from n8n.\n     * Enable OAuth scopes for sending messages.\n  2. **Deploy the webhook** ‚Äì Ensure it can receive and process Slack commands.\n  3. **Run the workflow** ‚Äì Type `/weather [cityname]` in Slack and receive instant weather updates.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>Weather via Slack üå¶Ô∏èüí¨</h1>\n<h2>Overview</h2>\n<p>This workflow provides real-time weather updates via Slack using a <strong>custom Slack command</strong>:<br>\n<code>/weather [cityname]</code></p>\n<p>Users can type this command in Slack (e.g., <code>/weather New York</code>), and the workflow will fetch and post the latest forecast, including temperature, wind conditions, and a short weather summary.</p>\n<p>While this workflow is designed for Slack, users can modify it to send weather updates via <strong>email, Discord, Microsoft Teams, or any other communication platform</strong>.</p>\n<h2>How It Works</h2>\n<ol>\n<li><strong>Webhook Trigger</strong> ‚Äì The workflow is triggered when a user runs <code>/weather [cityname]</code> in Slack.</li>\n<li><strong>Geocoding with OpenStreetMap</strong> ‚Äì The city name is converted into latitude and longitude coordinates.</li>\n<li><strong>Weather Data from NOAA</strong> ‚Äì The coordinates are used to retrieve detailed weather data from the <strong>National Weather Service (NWS)</strong> API.</li>\n<li><strong>Formatted Weather Report</strong> ‚Äì The workflow extracts relevant weather details, such as:\n<ul>\n<li>Temperature (¬∞F/¬∞C)</li>\n<li>Wind speed and direction</li>\n<li>Short forecast summary</li>\n</ul>\n</li>\n<li><strong>Slack Notification</strong> ‚Äì The weather forecast is posted back to the Slack channel in a structured format.</li>\n</ol>\n<h2>Requirements</h2>\n<ul>\n<li>A <strong>custom Slack app</strong> with:\n<ul>\n<li>The ability to create a <strong>Slash Command (<code>/weather</code>)</strong></li>\n<li>OAuth permissions to post messages in Slack</li>\n</ul>\n</li>\n<li>An <strong>n8n instance</strong> to host and execute the workflow</li>\n</ul>\n<h2>Customization</h2>\n<ul>\n<li>Replace Slack messaging with <strong>email, Discord, Microsoft Teams, Telegram, or another service</strong>.</li>\n<li>Modify the weather data format for different output preferences.</li>\n<li>Set up scheduled weather updates for specific locations.</li>\n</ul>\n<h2>Use Cases</h2>\n<ul>\n<li>Instantly check the weather for any location directly in Slack.</li>\n<li>Automate weather reports for team members or projects.</li>\n<li>Useful for remote teams, outdoor event planning, or general weather tracking.</li>\n</ul>\n<h2>Setup Instructions</h2>\n<ol>\n<li><strong>Create a custom Slack app</strong>:\n<ul>\n<li>Go to <a href=\"https://api.slack.com/apps\" rel=\"ugc nofollow\" target=\"_blank\">api.slack.com/apps</a> and create a new app.</li>\n<li>Add a <strong>Slash Command</strong> (<code>/weather</code>) with the webhook URL from n8n.</li>\n<li>Enable OAuth scopes for sending messages.</li>\n</ul>\n</li>\n<li><strong>Deploy the webhook</strong> ‚Äì Ensure it can receive and process Slack commands.</li>\n<li><strong>Run the workflow</strong> ‚Äì Type <code>/weather [cityname]</code> in Slack and receive instant weather updates.</li>\n</ol>\n</div><!--]-->"
}