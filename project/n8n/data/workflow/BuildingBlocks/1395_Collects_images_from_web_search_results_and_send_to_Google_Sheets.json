{
  "title": "Collects images from web search results and send to Google Sheets",
  "url": "https://n8n.io/workflows/1395-collects-images-from-web-search-results-and-send-to-google-sheets/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Lorena",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-06",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"name\":\"AWS Rekognition\",\"type\":\"n8n-nodes-base.awsRekognition\",\"position\":[680,700],\"parameters\":{\"type\":\"detectText\",\"binaryData\":true,\"additionalFields\":{}},\"credentials\":{\"aws\":{\"id\":\"9\",\"name\":\"aws\"}},\"typeVersion\":1},{\"name\":\"HTTP Request\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[500,700],\"parameters\":{\"url\":\"https://www.nicepng.com/png/detail/54-542069_motivational-quotes-png.png\",\"options\":{},\"responseFormat\":\"file\",\"queryParametersUi\":{\"parameter\":[]},\"headerParametersUi\":{\"parameter\":[]}},\"typeVersion\":1},{\"name\":\"HTTP Request1\",\"type\":\"n8n-nodes-base.httpRequest\",\"disabled\":true,\"position\":[500,860],\"parameters\":{\"url\":\"https://www.googleapis.com/customsearch/v1?key=[YOUR_KEY]&cx=[YOUR_CX]&q=office&searchType=image\",\"options\":{},\"queryParametersUi\":{\"parameter\":[]},\"headerParametersUi\":{\"parameter\":[]}},\"typeVersion\":1},{\"name\":\"Set1\",\"type\":\"n8n-nodes-base.set\",\"position\":[860,700],\"parameters\":{\"values\":{\"number\":[],\"string\":[{\"name\":\"img_name\",\"value\":\"={{$node[\\\"HTTP Request\\\"].binary.data.fileName}}\"},{\"name\":\"img_link\",\"value\":\"={{$node[\\\"HTTP Request\\\"].parameter[\\\"url\\\"]}}\"},{\"name\":\"img_txt\",\"value\":\"={{$json[\\\"TextDetections\\\"][1][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][2][\\\"DetectedText\\\"]}}{{$json[\\\"TextDetections\\\"][3][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][4][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][5][\\\"DetectedText\\\"]}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Function1\",\"type\":\"n8n-nodes-base.function\",\"position\":[1040,700],\"parameters\":{\"functionCode\":\"for (item of items) {\\n  item.json.lowerText = $node[\\\"Set1\\\"].json[\\\"img_txt\\\"].toLowerCase();\\n}\\nconsole.log('Done!');\\n\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Google Sheets1\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1220,700],\"parameters\":{\"options\":{},\"sheetId\":\"qwertz\",\"operation\":\"append\",\"authentication\":\"oAuth2\"},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"2\",\"name\":\"google_sheets_oauth\"}},\"typeVersion\":1}],\"connections\":{\"Set1\":{\"main\":[[{\"node\":\"Function1\",\"type\":\"main\",\"index\":0}]]},\"Function1\":{\"main\":[[{\"node\":\"Google Sheets1\",\"type\":\"main\",\"index\":0}]]},\"HTTP Request\":{\"main\":[[{\"node\":\"AWS Rekognition\",\"type\":\"main\",\"index\":0}]]},\"AWS Rekognition\":{\"main\":[[{\"node\":\"Set1\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow collects images from web search results on a specific query, analyzes the image for labels, formats the text, and adds the information in Google Sheets.\n\n  * **HTTP Request node** gets images from the web.\n  * **AWS Rekognition node** analyzes the images (in this case, it detects text in an image).\n  * **Set node** sets the values necessary for the data set.\n  * **Function node** transforms the text detected in the image to lower case.\n  * **Google Sheets node** adds the image information to a sheet that serves as data set.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This workflow collects images from web search results on a specific query, analyzes the image for labels, formats the text, and adds the information in Google Sheets.</p>\n<p></p>\n<ul>\n<li><strong>HTTP Request node</strong> gets images from the web.</li>\n<li><strong>AWS Rekognition node</strong> analyzes the images (in this case, it detects text in an image).</li>\n<li><strong>Set node</strong> sets the values necessary for the data set.</li>\n<li><strong>Function node</strong> transforms the text detected in the image to lower case.</li>\n<li><strong>Google Sheets node</strong> adds the image information to a sheet that serves as data set.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "该工作流程针对特定搜索词从网络搜索结果中采集图像，分析图像标签，格式化文本，并将信息录入Google表格。\n\n  * **HTTP请求节点** 从网络获取图像\n  * **AWS Rekognition节点** 分析图像（本案例中用于识别图中文字）\n  * **Set节点** 设置数据集所需数值\n  * **Function节点** 将识别出的文字转为小写格式\n  * **Google Sheets节点** 将图像信息添加至作为数据集的电子表格",
  "title_zh": "从网络搜索结果中收集图片并发送至Google表格",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"name\": \"AWS Rekognition\",\n      \"type\": \"n8n-nodes-base.awsRekognition\",\n      \"position\": [\n        680,\n        700\n      ],\n      \"parameters\": {\n        \"type\": \"detectText\",\n        \"binaryData\": true,\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"aws\": {\n          \"id\": \"9\",\n          \"name\": \"aws\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTTP Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        500,\n        700\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.nicepng.com/png/detail/54-542069_motivational-quotes-png.png\",\n        \"options\": {},\n        \"responseFormat\": \"file\",\n        \"queryParametersUi\": {\n          \"parameter\": []\n        },\n        \"headerParametersUi\": {\n          \"parameter\": []\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTTP Request1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"disabled\": true,\n      \"position\": [\n        500,\n        860\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.googleapis.com/customsearch/v1?key=[YOUR_KEY]&cx=[YOUR_CX]&q=office&searchType=image\",\n        \"options\": {},\n        \"queryParametersUi\": {\n          \"parameter\": []\n        },\n        \"headerParametersUi\": {\n          \"parameter\": []\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        860,\n        700\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [],\n          \"string\": [\n            {\n              \"name\": \"img_name\",\n              \"value\": \"={{$node[\\\"HTTP Request\\\"].binary.data.fileName}}\"\n            },\n            {\n              \"name\": \"img_link\",\n              \"value\": \"={{$node[\\\"HTTP Request\\\"].parameter[\\\"url\\\"]}}\"\n            },\n            {\n              \"name\": \"img_txt\",\n              \"value\": \"={{$json[\\\"TextDetections\\\"][1][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][2][\\\"DetectedText\\\"]}}{{$json[\\\"TextDetections\\\"][3][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][4][\\\"DetectedText\\\"]}} {{$json[\\\"TextDetections\\\"][5][\\\"DetectedText\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function1\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1040,\n        700\n      ],\n      \"parameters\": {\n        \"functionCode\": \"for (item of items) {\\n  item.json.lowerText = $node[\\\"Set1\\\"].json[\\\"img_txt\\\"].toLowerCase();\\n}\\nconsole.log('Done!');\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Google Sheets1\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1220,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetId\": \"qwertz\",\n        \"operation\": \"append\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"2\",\n          \"name\": \"google_sheets_oauth\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Set1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AWS Rekognition\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AWS Rekognition\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}