{
  "title": "Merge multiple runs into one",
  "url": "https://n8n.io/workflows/1814-merge-multiple-runs-into-one/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Tom",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-07",
  "content": "",
  "workflow_json": "{\"id\":\"ynTqojfUnGpG2rBP\",\"meta\":{\"instanceId\":\"bd0e051174def82b88b5cd547222662900558d74b239c4048ea0f6b7ed61c642\"},\"name\":\"Merge multiple runs into one\",\"tags\":[],\"nodes\":[{\"id\":\"a42e0906-2d44-4b9b-b4fa-63ab3c2a6abf\",\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[120,340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"220df874-90fd-4cb0-aea5-f238d33a7bcc\",\"name\":\"Customer Datastore\",\"type\":\"n8n-nodes-base.n8nTrainingCustomerDatastore\",\"position\":[340,340],\"parameters\":{\"operation\":\"getAllPeople\"},\"typeVersion\":1},{\"id\":\"e2819ff4-9ba8-4af4-8249-1edc018493ff\",\"name\":\"Wait\",\"type\":\"n8n-nodes-base.wait\",\"position\":[780,340],\"webhookId\":\"bfa744d6-ed39-4788-a6b5-836600f368bc\",\"parameters\":{\"unit\":\"seconds\"},\"typeVersion\":1},{\"id\":\"e4c50762-d7f0-420b-8043-44060cd51451\",\"name\":\"Done looping?\",\"type\":\"n8n-nodes-base.if\",\"position\":[1220,340],\"parameters\":{\"conditions\":{\"boolean\":[{\"value1\":\"={{$node[\\\"Loop Over Items\\\"].context[\\\"noItemsLeft\\\"]}}\",\"value2\":true}]}},\"typeVersion\":1},{\"id\":\"9e506657-6788-40f1-9fa0-55bd9db77ecc\",\"name\":\"Merge loop items\",\"type\":\"n8n-nodes-base.code\",\"position\":[1440,340],\"parameters\":{\"jsCode\":\"let results = [],\\n  i = 0;\\n\\ndo {\\n  try {\\n    results = results.concat($(\\\"NoOp\\\").all(0, i));\\n  } catch (error) {\\n    return results;\\n  }\\n  i++;\\n} while (true);\\n\"},\"typeVersion\":1},{\"id\":\"1b6dcb04-5945-48fb-925e-370ee1154df7\",\"name\":\"NoOp\",\"type\":\"n8n-nodes-base.noOp\",\"position\":[1000,340],\"parameters\":{},\"typeVersion\":1},{\"id\":\"28809ed2-1465-4a12-b11b-fe1498b7e045\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[600,340],\"parameters\":{\"options\":{}},\"typeVersion\":3}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"0fd71e8c-7938-43a3-acec-fe746a183f9c\",\"connections\":{\"NoOp\":{\"main\":[[{\"node\":\"Done looping?\",\"type\":\"main\",\"index\":0}]]},\"Wait\":{\"main\":[[{\"node\":\"NoOp\",\"type\":\"main\",\"index\":0}]]},\"Done looping?\":{\"main\":[[{\"node\":\"Merge loop items\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Loop Over Items\":{\"main\":[[],[{\"node\":\"Wait\",\"type\":\"main\",\"index\":0}]]},\"Customer Datastore\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Customer Datastore\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This is a workflow that might come handy after using loops. They usually leave you with items spread across different \"runs\". The Code node in this example workflow merges them into a single run, so you have a single list of items which is often easier to work with.\n\nSimply adjust the node name inside the Code node as needed.\n\nThe idea is based on [this](https://n8n.io/workflows/1160-merge-data-for-multiple-executions/) older workflow template.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This is a workflow that might come handy after using loops. They usually leave you with items spread across different \"runs\". The Code node in this example workflow merges them into a single run, so you have a single list of items which is often easier to work with.</p>\n<p>Simply adjust the node name inside the Code node as needed.</p>\n<p>The idea is based on <a href=\"https://n8n.io/workflows/1160-merge-data-for-multiple-executions/\" rel=\"ugc nofollow\" target=\"_blank\">this</a> older workflow template.</p>\n</div><!--]-->",
  "readme_zh": "这是一个在使用循环后可能会派上用场的工作流程。循环操作通常会让数据项分散在不同的\"运行批次\"中。示例工作流中的代码节点将这些数据合并到单一运行批次，从而生成一个统一的列表，这样处理起来通常会更方便。\n\n只需根据需要调整代码节点内的节点名称即可。\n\n这个思路源自[这个](https://n8n.io/workflows/1160-merge-data-for-multiple-executions/)较早的工作流模板。",
  "title_zh": "将多次运行合并为一次",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": \"ynTqojfUnGpG2rBP\",\n  \"meta\": {\n    \"instanceId\": \"bd0e051174def82b88b5cd547222662900558d74b239c4048ea0f6b7ed61c642\"\n  },\n  \"name\": \"Merge multiple runs into one\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"a42e0906-2d44-4b9b-b4fa-63ab3c2a6abf\",\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        120,\n        340\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"220df874-90fd-4cb0-aea5-f238d33a7bcc\",\n      \"name\": \"Customer Datastore\",\n      \"type\": \"n8n-nodes-base.n8nTrainingCustomerDatastore\",\n      \"position\": [\n        340,\n        340\n      ],\n      \"parameters\": {\n        \"operation\": \"getAllPeople\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2819ff4-9ba8-4af4-8249-1edc018493ff\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        780,\n        340\n      ],\n      \"webhookId\": \"bfa744d6-ed39-4788-a6b5-836600f368bc\",\n      \"parameters\": {\n        \"unit\": \"seconds\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e4c50762-d7f0-420b-8043-44060cd51451\",\n      \"name\": \"Done looping?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1220,\n        340\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": \"={{$node[\\\"Loop Over Items\\\"].context[\\\"noItemsLeft\\\"]}}\",\n              \"value2\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9e506657-6788-40f1-9fa0-55bd9db77ecc\",\n      \"name\": \"Merge loop items\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1440,\n        340\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let results = [],\\n  i = 0;\\n\\ndo {\\n  try {\\n    results = results.concat($(\\\"NoOp\\\").all(0, i));\\n  } catch (error) {\\n    return results;\\n  }\\n  i++;\\n} while (true);\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1b6dcb04-5945-48fb-925e-370ee1154df7\",\n      \"name\": \"NoOp\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1000,\n        340\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"28809ed2-1465-4a12-b11b-fe1498b7e045\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        600,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"0fd71e8c-7938-43a3-acec-fe746a183f9c\",\n  \"connections\": {\n    \"NoOp\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Done looping?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NoOp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Done looping?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge loop items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Customer Datastore\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Customer Datastore\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}