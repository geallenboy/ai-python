{
  "title": "Verify Telegram Channel Subscriptions with Access Control using Postgres",
  "url": "https://n8n.io/workflows/3615-verify-telegram-channel-subscriptions-with-access-control-using-postgres/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Andrew",
  "publish_date": "Last update 12 days ago",
  "publish_date_absolute": "2025-04-24",
  "content": "",
  "workflow_json": "{\"id\":\"At3piGg3jQlWocQ0\",\"meta\":{\"instanceId\":\"888b5b52ac2aa3f8f1bab6800cae8fce6f3d7947e840e64245b5198449908655\",\"templateCredsSetupCompleted\":true},\"name\":\"TG-Bot-Module-Check_Subscription-v4-db-sell-full\",\"tags\":[{\"id\":\"EwFGeL3ePPNgm0R7\",\"name\":\"telegram\",\"createdAt\":\"2025-02-10T18:10:47.435Z\",\"updatedAt\":\"2025-02-10T18:10:47.435Z\"},{\"id\":\"XPad0ERjSdqfxG52\",\"name\":\"module\",\"createdAt\":\"2025-03-31T08:11:00.151Z\",\"updatedAt\":\"2025-03-31T08:11:00.151Z\"},{\"id\":\"2ocrWSzdKoCOU2AC\",\"name\":\"sell\",\"createdAt\":\"2025-04-19T15:39:51.859Z\",\"updatedAt\":\"2025-04-19T15:39:51.859Z\"}],\"nodes\":[{\"id\":\"a7919674-7ee6-48a2-a016-d3e5fb8d11cb\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,140],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"e5cfe2c0-221b-46a0-afad-071fb40b1c84\",\"name\":\"Get Subscription statuses\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2820,-1980],\"webhookId\":\"55bb75a5-c9d5-4cec-a3de-d7bcf9205d75\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"f49053b9-9ac3-4b0d-9452-6564dd6583b9\",\"name\":\"Get Channels\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[2600,-1980],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"4635c188-483f-4622-b0fc-61f9bd2fbd50\",\"name\":\"Union statuses\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[3040,-1980],\"parameters\":{},\"typeVersion\":1},{\"id\":\"63b098c5-d263-44ce-8e97-25f65a336117\",\"name\":\"Check\",\"type\":\"n8n-nodes-base.if\",\"position\":[3260,-1980],\"parameters\":{},\"executeOnce\":true,\"typeVersion\":2.2,\"alwaysOutputData\":false},{\"id\":\"01a28e03-3afb-444f-a1ec-4d91f4ae445a\",\"name\":\"Check failed\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[3480,-1780],\"webhookId\":\"3b1f1918-46ea-49c3-b741-263ccf7d82ad\",\"parameters\":{},\"executeOnce\":true,\"typeVersion\":1.2},{\"id\":\"3ef42885-7096-4bca-b46b-e6e6098fd204\",\"name\":\"Get File\",\"type\":\"n8n-nodes-base.googleDrive\",\"disabled\":true,\"position\":[3480,-2180],\"parameters\":{},\"executeOnce\":false,\"typeVersion\":3},{\"id\":\"85dac9aa-c453-49f8-888a-9d868715ed43\",\"name\":\"Download File\",\"type\":\"n8n-nodes-base.googleDrive\",\"disabled\":true,\"position\":[3700,-2180],\"parameters\":{},\"typeVersion\":3},{\"id\":\"f62b58f5-2c43-48c6-8421-5db9b1270411\",\"name\":\"Add Channel\",\"type\":\"n8n-nodes-base.postgres\",\"onError\":\"continueErrorOutput\",\"position\":[1940,-780],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"5379c208-1b79-48d2-9c4b-448cf97cf911\",\"name\":\"Variables TG\",\"type\":\"n8n-nodes-base.set\",\"position\":[160,-180],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"52d70635-add3-4f08-8754-10be51121fcc\",\"name\":\"Initialization\",\"type\":\"n8n-nodes-base.set\",\"position\":[400,-180],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"e994a732-e39d-4ccf-a16b-917c04d2857d\",\"name\":\"Telegram Trigger\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[-60,-180],\"webhookId\":\"809e5116-a193-4afc-83d3-37c9cbce58cc\",\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"555e8dbe-19a9-4ff4-9eab-8625f062788c\",\"name\":\"Get Bot Status\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[840,-380],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"f6c60730-4534-46d7-ac21-aa2e6c60a25b\",\"name\":\"Define flow\",\"type\":\"n8n-nodes-base.switch\",\"position\":[1060,-420],\"parameters\":{},\"typeVersion\":3.2,\"alwaysOutputData\":false},{\"id\":\"04d84bd6-9684-4e0c-8d27-07bb193b16c0\",\"name\":\"Commands\",\"type\":\"n8n-nodes-base.switch\",\"position\":[1500,-1260],\"parameters\":{},\"retryOnFail\":false,\"typeVersion\":3.2},{\"id\":\"7e061558-50d7-4ecc-be0c-7df9b3afdc70\",\"name\":\"Channel Exists\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2160,-780],\"webhookId\":\"76e016a2-1140-4188-8604-228ebf6bdf2e\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"8c71e3cc-0646-43b0-a5f7-8f3adb900bd3\",\"name\":\"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1940,-1380],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"b24e4e29-0142-412a-aee8-daa834915130\",\"name\":\"Request Add Channel\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1720,-1380],\"webhookId\":\"0176253b-d769-47ed-a87a-64b8bc12d16f\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"01859e62-69b7-4ada-a5ff-b6ef7ff72677\",\"name\":\"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL1\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1940,-1180],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"fe963f1a-73b8-4afd-a01d-c283d8ff6c91\",\"name\":\"Request Delete Channel\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1720,-1180],\"webhookId\":\"912db76f-817b-43fd-bb50-47cd96246ff8\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"ce4685ca-63fa-4962-bf6c-037f6c15e4e7\",\"name\":\"Request New Delete Channel\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2160,-580],\"webhookId\":\"f94be931-c212-40ba-b153-027f035d4d5b\",\"parameters\":{},\"executeOnce\":true,\"typeVersion\":1.2},{\"id\":\"d0aa6264-f929-42ac-a614-00eaf6d651a2\",\"name\":\"Request New Add Channel\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2160,-980],\"webhookId\":\"20371a10-6111-4adc-b5ac-761350b6a3d7\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"8a10c59e-a8f2-42b4-bc3a-1863e8e125ec\",\"name\":\"Channel Not Exists\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2160,-380],\"webhookId\":\"bfb33130-79bf-4dda-b691-cd045ef3db02\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"dfed929b-975d-494b-9aa9-73938b6d857a\",\"name\":\"Delete Channel\",\"type\":\"n8n-nodes-base.postgres\",\"onError\":\"continueErrorOutput\",\"position\":[1940,-580],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"bb12a749-78e1-4714-820a-5720e990ccf6\",\"name\":\"Get Channels \",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1720,-1580],\"parameters\":{},\"typeVersion\":2.5,\"alwaysOutputData\":true},{\"id\":\"e3d23352-7be0-4d1f-80e3-53ee22d2ce9c\",\"name\":\"Add Divide Channels\",\"type\":\"n8n-nodes-base.summarize\",\"position\":[1940,-1580],\"parameters\":{},\"typeVersion\":1.1},{\"id\":\"697ea427-4f9e-40ee-b7db-0a331ad7b216\",\"name\":\"Channels\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[2160,-1580],\"webhookId\":\"ededf0ab-5b67-4992-a817-7f1792bf36ed\",\"parameters\":{},\"executeOnce\":true,\"typeVersion\":1.2},{\"id\":\"9e0607a1-72cb-4424-8632-f978e3faf528\",\"name\":\"Define Type\",\"type\":\"n8n-nodes-base.switch\",\"position\":[620,-380],\"parameters\":{},\"typeVersion\":3.2},{\"id\":\"a03415cd-1f3a-453f-a19c-91d547d43330\",\"name\":\"Update bot status on START\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1060,-780],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"4a9856ca-0ace-4f2c-a7b2-138886f142d5\",\"name\":\"Buttons\",\"type\":\"n8n-nodes-base.switch\",\"position\":[840,-780],\"parameters\":{},\"typeVersion\":3.2,\"alwaysOutputData\":false},{\"id\":\"e98dddbd-5d2f-4ae5-b24c-1ef663cbf244\",\"name\":\"Success\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1280,-780],\"webhookId\":\"748d3746-a859-4481-add4-f961563c3ef9\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"2af1329e-7e60-445a-9567-f25feccef426\",\"name\":\"Get Channels  \",\"type\":\"n8n-nodes-base.postgres\",\"position\":[1500,-380],\"parameters\":{},\"typeVersion\":2.5,\"alwaysOutputData\":true},{\"id\":\"5e91b148-a095-4238-8d29-5f81337fdaee\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[1720,-380],\"parameters\":{},\"typeVersion\":2.2},{\"id\":\"b6a8d046-d63f-4a94-b6f7-b50c59228662\",\"name\":\"Welcome message Referal\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1940,-1980],\"webhookId\":\"e3232618-af57-499a-8a09-2a67e9d13f9d\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"03fc7662-d1fa-49b0-8574-a727f7aea2fd\",\"name\":\"Welcome message Manager\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1940,-1780],\"webhookId\":\"72fdfc11-adee-4111-9754-e0c9a9096433\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"9de886ca-0e1b-4bcc-94e4-48bacb84b1f7\",\"name\":\"Upsert bot status on START\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[2160,-1780],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"ea3fbe94-f0db-42bf-8418-988252e8137d\",\"name\":\"Referal?\",\"type\":\"n8n-nodes-base.if\",\"position\":[1720,-1780],\"parameters\":{},\"typeVersion\":2.2},{\"id\":\"f872e8ee-a4d3-48ff-a8ad-a8c2693de284\",\"name\":\"Update bot status and referal\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[2160,-1980],\"parameters\":{},\"typeVersion\":2.5},{\"id\":\"34f90c75-eb5e-4aa8-b8c2-b31234805738\",\"name\":\"Get Referal\",\"type\":\"n8n-nodes-base.postgres\",\"position\":[2380,-1980],\"parameters\":{},\"typeVersion\":2.5,\"alwaysOutputData\":true},{\"id\":\"8b5373a2-7bb6-4d5f-876b-73f255cf5da7\",\"name\":\"Check success\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[3480,-1980],\"webhookId\":\"8a3ab6e4-e327-43d0-bbcc-af62ee69bfec\",\"parameters\":{},\"executeOnce\":true,\"typeVersion\":1.2},{\"id\":\"d1dbf21a-9ad4-4ef6-93d5-f0afecefc081\",\"name\":\"Check success + File\",\"type\":\"n8n-nodes-base.telegram\",\"disabled\":true,\"position\":[3920,-2180],\"webhookId\":\"585738a3-d849-47af-a118-c38d70b14204\",\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"57798b03-2661-4842-a547-b9d42b10b98c\",\"name\":\"Is Admin?\",\"type\":\"n8n-nodes-base.if\",\"position\":[620,-180],\"parameters\":{},\"typeVersion\":2.2},{\"id\":\"a0878b73-7fa6-4cac-8410-ea6bdacc9964\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,-500],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"bbb66815-c58a-40a1-b425-669f94a20c34\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,-180],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"203853e7-5df1-4305-82d8-9a1a2416ff38\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-500,140],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"2142c115-ceca-4a1c-811f-12cca4b35069\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"Delete Channel\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Channel Not Exists\",\"type\":\"main\",\"index\":0}]]},\"Check\":{\"main\":[[{\"node\":\"Get File\",\"type\":\"main\",\"index\":0},{\"node\":\"Check success\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Check failed\",\"type\":\"main\",\"index\":0}]]},\"Buttons\":{\"main\":[[{\"node\":\"Update bot status on START\",\"type\":\"main\",\"index\":0}]]},\"Channels\":{\"main\":[[]]},\"Commands\":{\"main\":[[],[{\"node\":\"Referal?\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Channels \",\"type\":\"main\",\"index\":0}],[{\"node\":\"Request Add Channel\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Request Delete Channel\",\"type\":\"main\",\"index\":0}]]},\"Get File\":{\"main\":[[{\"node\":\"Download File\",\"type\":\"main\",\"index\":0}]]},\"Referal?\":{\"main\":[[{\"node\":\"Welcome message Referal\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Welcome message Manager\",\"type\":\"main\",\"index\":0}]]},\"Is Admin?\":{\"main\":[[{\"node\":\"Define Type\",\"type\":\"main\",\"index\":0}]]},\"Add Channel\":{\"main\":[[{\"node\":\"Request New Add Channel\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Channel Exists\",\"type\":\"main\",\"index\":0}]]},\"Define Type\":{\"main\":[[{\"node\":\"Buttons\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Bot Status\",\"type\":\"main\",\"index\":0}]]},\"Define flow\":{\"main\":[[{\"node\":\"Commands\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Add Channel\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Channels  \",\"type\":\"main\",\"index\":0}],[]]},\"Get Referal\":{\"main\":[[{\"node\":\"Get Channels\",\"type\":\"main\",\"index\":0}]]},\"Get Channels\":{\"main\":[[{\"node\":\"Get Subscription statuses\",\"type\":\"main\",\"index\":0}]]},\"Variables TG\":{\"main\":[[{\"node\":\"Initialization\",\"type\":\"main\",\"index\":0}]]},\"Download File\":{\"main\":[[{\"node\":\"Check success + File\",\"type\":\"main\",\"index\":0}]]},\"Get Channels \":{\"main\":[[{\"node\":\"Add Divide Channels\",\"type\":\"main\",\"index\":0}]]},\"Delete Channel\":{\"main\":[[{\"node\":\"Request New Delete Channel\",\"type\":\"main\",\"index\":0}],[]]},\"Get Bot Status\":{\"main\":[[{\"node\":\"Define flow\",\"type\":\"main\",\"index\":0}]]},\"Get Channels  \":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Initialization\":{\"main\":[[{\"node\":\"Is Admin?\",\"type\":\"main\",\"index\":0}]]},\"Union statuses\":{\"main\":[[{\"node\":\"Check\",\"type\":\"main\",\"index\":0}]]},\"Telegram Trigger\":{\"main\":[[{\"node\":\"Variables TG\",\"type\":\"main\",\"index\":0}]]},\"Add Divide Channels\":{\"main\":[[{\"node\":\"Channels\",\"type\":\"main\",\"index\":0}]]},\"Request Add Channel\":{\"main\":[[{\"node\":\"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL\",\"type\":\"main\",\"index\":0}]]},\"Check success + File\":{\"main\":[[]]},\"Request Delete Channel\":{\"main\":[[{\"node\":\"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL1\",\"type\":\"main\",\"index\":0}]]},\"Welcome message Manager\":{\"main\":[[{\"node\":\"Upsert bot status on START\",\"type\":\"main\",\"index\":0}]]},\"Welcome message Referal\":{\"main\":[[{\"node\":\"Update bot status and referal\",\"type\":\"main\",\"index\":0}]]},\"Get Subscription statuses\":{\"main\":[[{\"node\":\"Union statuses\",\"type\":\"main\",\"index\":0}]]},\"Update bot status on START\":{\"main\":[[{\"node\":\"Success\",\"type\":\"main\",\"index\":0}]]},\"Update bot status and referal\":{\"main\":[[{\"node\":\"Get Referal\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Who is this for?\n\nThis workflow is for Telegram bot developers or marketers who want to verify user subscriptions to specific Telegram channels and optionally reward them with downloadable files.\n\n### What problem is this workflow solving?\n\nThis workflow ensures users have subscribed to required Telegram channels before they are granted access to resources or rewards, such as Google Drive files. It automates the subscription verification process, saving time and reducing manual effort.\n\n### What this workflow does\n\n  * Verifies if a user is subscribed to specific Telegram channels.\n  * Allows adding and removing channel IDs for verification.\n  * Sends referral links to users for subscription checks.\n  * Optionally grants access to Google Drive files upon successful verification (currently inactive)\n\n\n\n### Setup\n\n  1. **Add the bot to your Telegram channels as an admin** – this is required for the bot to check subscription status.\n  2. **Add channel IDs via the bot** – these are the channels users will need to subscribe to.\n  3. **Send the referral link** to users you want to verify.\n  4. **Remove channels anytime** from the subscription check list if needed.\n  5. **Create tables in Postgres** : \n     * Replace `\"n8n\"` in the provided SQL script with your DB schema name.\n     * Run the script in your Postgres DB.\n  6. **Add credentials** : \n     * Telegram\n     * Postgres\n\n\n\n### How to customize this workflow to your needs\n\n  * Modify the SQL script to suit your existing database structure.\n  * Adjust the logic to enable or disable file delivery from Google Drive.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h3>Who is this for?</h3>\n<p>This workflow is for Telegram bot developers or marketers who want to verify user subscriptions to specific Telegram channels and optionally reward them with downloadable files.</p>\n<h3>What problem is this workflow solving?</h3>\n<p>This workflow ensures users have subscribed to required Telegram channels before they are granted access to resources or rewards, such as Google Drive files. It automates the subscription verification process, saving time and reducing manual effort.</p>\n<h3>What this workflow does</h3>\n<ul>\n<li>Verifies if a user is subscribed to specific Telegram channels.</li>\n<li>Allows adding and removing channel IDs for verification.</li>\n<li>Sends referral links to users for subscription checks.</li>\n<li>Optionally grants access to Google Drive files upon successful verification (currently inactive)</li>\n</ul>\n<h3>Setup</h3>\n<ol>\n<li><strong>Add the bot to your Telegram channels as an admin</strong> – this is required for the bot to check subscription status.</li>\n<li><strong>Add channel IDs via the bot</strong> – these are the channels users will need to subscribe to.</li>\n<li><strong>Send the referral link</strong> to users you want to verify.</li>\n<li><strong>Remove channels anytime</strong> from the subscription check list if needed.</li>\n<li><strong>Create tables in Postgres</strong>:\n<ul>\n<li>Replace <code>\"n8n\"</code> in the provided SQL script with your DB schema name.</li>\n<li>Run the script in your Postgres DB.</li>\n</ul>\n</li>\n<li><strong>Add credentials</strong>:\n<ul>\n<li>Telegram</li>\n<li>Postgres</li>\n</ul>\n</li>\n</ol>\n<h3>How to customize this workflow to your needs</h3>\n<ul>\n<li>Modify the SQL script to suit your existing database structure.</li>\n<li>Adjust the logic to enable or disable file delivery from Google Drive.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### 适用对象\n\n本工作流面向需要验证用户是否订阅特定Telegram频道的机器人开发者或营销人员，并可选择性地通过可下载文件奖励用户。\n\n### 解决的问题\n\n该工作流确保用户在获取资源（如Google Drive文件）或奖励前，必须订阅指定的Telegram频道。通过自动化订阅验证流程，显著节省时间并减少人工操作。\n\n### 核心功能\n\n  * 验证用户是否订阅指定Telegram频道\n  * 支持动态添加/移除待验证频道ID\n  * 向用户发送含订阅检查功能的推荐链接\n  * 验证通过后可选择性开放Google Drive文件访问权限（当前未激活）\n\n### 配置步骤\n\n  1. **将机器人添加为频道管理员** —— 这是检查订阅状态的必要权限\n  2. **通过机器人添加频道ID** —— 这些是用户需要订阅的目标频道\n  3. **发送推荐链接** 给待验证用户\n  4. **随时移除频道** 从订阅检查列表中\n  5. **创建Postgres数据表**：\n     * 将SQL脚本中的`\"n8n\"`替换为您的数据库模式名称\n     * 在Postgres数据库中执行该脚本\n  6. **添加凭证**：\n     * Telegram\n     * Postgres\n\n### 自定义调整建议\n\n  * 根据现有数据库结构修改SQL脚本\n  * 调整逻辑以启用/禁用Google Drive文件分发功能",
  "title_zh": "使用Postgres实现带访问控制的Telegram频道订阅验证",
  "publish_date_zh": "上次更新于12天前",
  "workflow_json_zh": "{\n  \"id\": \"At3piGg3jQlWocQ0\",\n  \"meta\": {\n    \"instanceId\": \"888b5b52ac2aa3f8f1bab6800cae8fce6f3d7947e840e64245b5198449908655\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"TG-Bot-Module-Check_Subscription-v4-db-sell-full\",\n  \"tags\": [\n    {\n      \"id\": \"EwFGeL3ePPNgm0R7\",\n      \"name\": \"telegram\",\n      \"createdAt\": \"2025-02-10T18:10:47.435Z\",\n      \"updatedAt\": \"2025-02-10T18:10:47.435Z\"\n    },\n    {\n      \"id\": \"XPad0ERjSdqfxG52\",\n      \"name\": \"module\",\n      \"createdAt\": \"2025-03-31T08:11:00.151Z\",\n      \"updatedAt\": \"2025-03-31T08:11:00.151Z\"\n    },\n    {\n      \"id\": \"2ocrWSzdKoCOU2AC\",\n      \"name\": \"sell\",\n      \"createdAt\": \"2025-04-19T15:39:51.859Z\",\n      \"updatedAt\": \"2025-04-19T15:39:51.859Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"a7919674-7ee6-48a2-a016-d3e5fb8d11cb\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        140\n      ],\n      \"parameters\": {\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e5cfe2c0-221b-46a0-afad-071fb40b1c84\",\n      \"name\": \"Get Subscription statuses\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2820,\n        -1980\n      ],\n      \"webhookId\": \"55bb75a5-c9d5-4cec-a3de-d7bcf9205d75\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"f49053b9-9ac3-4b0d-9452-6564dd6583b9\",\n      \"name\": \"Get Channels\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2600,\n        -1980\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"4635c188-483f-4622-b0fc-61f9bd2fbd50\",\n      \"name\": \"Union statuses\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        3040,\n        -1980\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63b098c5-d263-44ce-8e97-25f65a336117\",\n      \"name\": \"Check\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        3260,\n        -1980\n      ],\n      \"parameters\": {},\n      \"executeOnce\": true,\n      \"typeVersion\": 2.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"01a28e03-3afb-444f-a1ec-4d91f4ae445a\",\n      \"name\": \"Check failed\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        3480,\n        -1780\n      ],\n      \"webhookId\": \"3b1f1918-46ea-49c3-b741-263ccf7d82ad\",\n      \"parameters\": {},\n      \"executeOnce\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"3ef42885-7096-4bca-b46b-e6e6098fd204\",\n      \"name\": \"Get File\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"disabled\": true,\n      \"position\": [\n        3480,\n        -2180\n      ],\n      \"parameters\": {},\n      \"executeOnce\": false,\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"85dac9aa-c453-49f8-888a-9d868715ed43\",\n      \"name\": \"Download File\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"disabled\": true,\n      \"position\": [\n        3700,\n        -2180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"f62b58f5-2c43-48c6-8421-5db9b1270411\",\n      \"name\": \"Add Channel\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1940,\n        -780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"5379c208-1b79-48d2-9c4b-448cf97cf911\",\n      \"name\": \"Variables TG\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        160,\n        -180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"52d70635-add3-4f08-8754-10be51121fcc\",\n      \"name\": \"Initialization\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        400,\n        -180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e994a732-e39d-4ccf-a16b-917c04d2857d\",\n      \"name\": \"Telegram Trigger\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        -60,\n        -180\n      ],\n      \"webhookId\": \"809e5116-a193-4afc-83d3-37c9cbce58cc\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"555e8dbe-19a9-4ff4-9eab-8625f062788c\",\n      \"name\": \"Get Bot Status\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        840,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"f6c60730-4534-46d7-ac21-aa2e6c60a25b\",\n      \"name\": \"Define flow\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1060,\n        -420\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"04d84bd6-9684-4e0c-8d27-07bb193b16c0\",\n      \"name\": \"Commands\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1500,\n        -1260\n      ],\n      \"parameters\": {},\n      \"retryOnFail\": false,\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"7e061558-50d7-4ecc-be0c-7df9b3afdc70\",\n      \"name\": \"Channel Exists\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2160,\n        -780\n      ],\n      \"webhookId\": \"76e016a2-1140-4188-8604-228ebf6bdf2e\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"8c71e3cc-0646-43b0-a5f7-8f3adb900bd3\",\n      \"name\": \"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1940,\n        -1380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"b24e4e29-0142-412a-aee8-daa834915130\",\n      \"name\": \"Request Add Channel\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1720,\n        -1380\n      ],\n      \"webhookId\": \"0176253b-d769-47ed-a87a-64b8bc12d16f\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"01859e62-69b7-4ada-a5ff-b6ef7ff72677\",\n      \"name\": \"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL1\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1940,\n        -1180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"fe963f1a-73b8-4afd-a01d-c283d8ff6c91\",\n      \"name\": \"Request Delete Channel\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1720,\n        -1180\n      ],\n      \"webhookId\": \"912db76f-817b-43fd-bb50-47cd96246ff8\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"ce4685ca-63fa-4962-bf6c-037f6c15e4e7\",\n      \"name\": \"Request New Delete Channel\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2160,\n        -580\n      ],\n      \"webhookId\": \"f94be931-c212-40ba-b153-027f035d4d5b\",\n      \"parameters\": {},\n      \"executeOnce\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d0aa6264-f929-42ac-a614-00eaf6d651a2\",\n      \"name\": \"Request New Add Channel\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2160,\n        -980\n      ],\n      \"webhookId\": \"20371a10-6111-4adc-b5ac-761350b6a3d7\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"8a10c59e-a8f2-42b4-bc3a-1863e8e125ec\",\n      \"name\": \"Channel Not Exists\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2160,\n        -380\n      ],\n      \"webhookId\": \"bfb33130-79bf-4dda-b691-cd045ef3db02\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"dfed929b-975d-494b-9aa9-73938b6d857a\",\n      \"name\": \"Delete Channel\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1940,\n        -580\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"bb12a749-78e1-4714-820a-5720e990ccf6\",\n      \"name\": \"Get Channels \",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1720,\n        -1580\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"e3d23352-7be0-4d1f-80e3-53ee22d2ce9c\",\n      \"name\": \"Add Divide Channels\",\n      \"type\": \"n8n-nodes-base.summarize\",\n      \"position\": [\n        1940,\n        -1580\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"697ea427-4f9e-40ee-b7db-0a331ad7b216\",\n      \"name\": \"Channels\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2160,\n        -1580\n      ],\n      \"webhookId\": \"ededf0ab-5b67-4992-a817-7f1792bf36ed\",\n      \"parameters\": {},\n      \"executeOnce\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"9e0607a1-72cb-4424-8632-f978e3faf528\",\n      \"name\": \"Define Type\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        620,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"a03415cd-1f3a-453f-a19c-91d547d43330\",\n      \"name\": \"Update bot status on START\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1060,\n        -780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"4a9856ca-0ace-4f2c-a7b2-138886f142d5\",\n      \"name\": \"Buttons\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        840,\n        -780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"e98dddbd-5d2f-4ae5-b24c-1ef663cbf244\",\n      \"name\": \"Success\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1280,\n        -780\n      ],\n      \"webhookId\": \"748d3746-a859-4481-add4-f961563c3ef9\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"2af1329e-7e60-445a-9567-f25feccef426\",\n      \"name\": \"Get Channels  \",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1500,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"5e91b148-a095-4238-8d29-5f81337fdaee\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1720,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"b6a8d046-d63f-4a94-b6f7-b50c59228662\",\n      \"name\": \"Welcome message Referal\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1940,\n        -1980\n      ],\n      \"webhookId\": \"e3232618-af57-499a-8a09-2a67e9d13f9d\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"03fc7662-d1fa-49b0-8574-a727f7aea2fd\",\n      \"name\": \"Welcome message Manager\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1940,\n        -1780\n      ],\n      \"webhookId\": \"72fdfc11-adee-4111-9754-e0c9a9096433\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"9de886ca-0e1b-4bcc-94e4-48bacb84b1f7\",\n      \"name\": \"Upsert bot status on START\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2160,\n        -1780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"ea3fbe94-f0db-42bf-8418-988252e8137d\",\n      \"name\": \"Referal?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1720,\n        -1780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"f872e8ee-a4d3-48ff-a8ad-a8c2693de284\",\n      \"name\": \"Update bot status and referal\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2160,\n        -1980\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5\n    },\n    {\n      \"id\": \"34f90c75-eb5e-4aa8-b8c2-b31234805738\",\n      \"name\": \"Get Referal\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2380,\n        -1980\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.5,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"8b5373a2-7bb6-4d5f-876b-73f255cf5da7\",\n      \"name\": \"Check success\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        3480,\n        -1980\n      ],\n      \"webhookId\": \"8a3ab6e4-e327-43d0-bbcc-af62ee69bfec\",\n      \"parameters\": {},\n      \"executeOnce\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d1dbf21a-9ad4-4ef6-93d5-f0afecefc081\",\n      \"name\": \"Check success + File\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"disabled\": true,\n      \"position\": [\n        3920,\n        -2180\n      ],\n      \"webhookId\": \"585738a3-d849-47af-a118-c38d70b14204\",\n      \"parameters\": {},\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"57798b03-2661-4842-a547-b9d42b10b98c\",\n      \"name\": \"Is Admin?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        620,\n        -180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a0878b73-7fa6-4cac-8410-ea6bdacc9964\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -500,\n        -500\n      ],\n      \"parameters\": {\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bbb66815-c58a-40a1-b425-669f94a20c34\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -500,\n        -180\n      ],\n      \"parameters\": {\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"203853e7-5df1-4305-82d8-9a1a2416ff38\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -500,\n        140\n      ],\n      \"parameters\": {\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"2142c115-ceca-4a1c-811f-12cca4b35069\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Delete Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Channel Not Exists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get File\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Check success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Check failed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Buttons\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update bot status on START\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Channels\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Commands\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Referal?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Channels \",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Request Add Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Request Delete Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Referal?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Welcome message Referal\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Welcome message Manager\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Admin?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Define Type\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add Channel\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Request New Add Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Channel Exists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Define Type\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Buttons\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Bot Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Define flow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Commands\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Channels  \",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        []\n      ]\n    },\n    \"Get Referal\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Channels\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Channels\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Subscription statuses\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Variables TG\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Initialization\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check success + File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Channels \": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Divide Channels\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Delete Channel\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Request New Delete Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        []\n      ]\n    },\n    \"Get Bot Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Define flow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Channels  \": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Initialization\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Admin?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Union statuses\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Variables TG\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add Divide Channels\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Channels\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Request Add Channel\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check success + File\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Request Delete Channel\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update bot status on CHECK SUBSCRIPTION REQUEST CHANNEL1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Welcome message Manager\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upsert bot status on START\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Welcome message Referal\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update bot status and referal\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Subscription statuses\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Union statuses\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update bot status on START\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update bot status and referal\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Referal\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}