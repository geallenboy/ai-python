{
  "title": "Working with dates and times",
  "url": "https://n8n.io/workflows/1744-working-with-dates-and-times/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Jonathan",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-06",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[1140,780],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1480,760],\"parameters\":{\"width\":560,\"height\":400,\"content\":\"## 2. Advanced way: Using Expressions\\nIn this `Set` node, we set dates using [Luxon expressions](https://docs.n8n.io/code-examples/expressions/luxon/) for the following formats:\\n\\nNow - `{{$now}}`\\nCurrent time with seconds - `{{$now.toLocaleString(DateTime.TIME_WITH_SECONDS)}}`\\nToday - `{{$today}}`\\nTomorrow - `{{$today.plus({days: 1})}}`\\nOne hour ago - `{{$now.minus({hours: 1})}}`\\nWeekday name - `{{$today.weekdayLong}}`\\n\\n\"},\"typeVersion\":1},{\"name\":\"Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,780],\"parameters\":{\"width\":420,\"height\":100,\"content\":\"### Click the `Execute Workflow` button and double click on the nodes to see the input and output items.\"},\"typeVersion\":1},{\"name\":\"12 Hours from now\",\"type\":\"n8n-nodes-base.dateTime\",\"position\":[1520,580],\"parameters\":{\"value\":\"={{$now}}\",\"action\":\"calculate\",\"options\":{},\"duration\":12,\"timeUnit\":\"hours\"},\"typeVersion\":1},{\"name\":\"Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1480,400],\"parameters\":{\"width\":560,\"height\":340,\"content\":\"## 1. Simple Way: Using the Date & Time node\\nThere are two actions available within the `Date & Time` node:\\n1. Calculating a date - adding/substracting minutes,hours, days, etc.\\n2. Formatting a date\\n\\n\"},\"typeVersion\":1},{\"name\":\"Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1980,860],\"parameters\":{\"width\":480,\"height\":320,\"content\":\"### 2.1 Working with an existing time string\\nAs items pass between nodes, n8n saves dates as ISO strings. This means that in order to work with the data as a date again, we need to convert it back using `DateTime.fromISO('yyyy-mm-dd')`\\n. Once doing that, we are able to apply date and time function again such as : `{{DateTime.fromISO($json[\\\"Now\\\"]).toFormat('yyyy LLL dd')}}`\"},\"typeVersion\":1},{\"name\":\"Set times\",\"type\":\"n8n-nodes-base.set\",\"position\":[1520,1020],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Now\",\"value\":\"={{$now}}\"},{\"name\":\"Current time with seconds\",\"value\":\"={{$now.toLocaleString(DateTime.TIME_WITH_SECONDS)}}\"},{\"name\":\"Today\",\"value\":\"={{$today}}\"},{\"name\":\"Tomorrow\",\"value\":\"={{$today.plus({days: 1})}}\"},{\"name\":\"One hour from now\",\"value\":\"={{$now.minus({hours: 1})}}\"},{\"name\":\"Weekday\",\"value\":\"={{$today.weekdayLong}}\"}]},\"options\":{}},\"typeVersion\":1},{\"name\":\"Edit times\",\"type\":\"n8n-nodes-base.set\",\"position\":[2080,1020],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Current time\",\"value\":\"={{DateTime.fromISO($json[\\\"Now\\\"])}}\"},{\"name\":\"Current time formatted\",\"value\":\"={{DateTime.fromISO($json[\\\"Now\\\"]).toFormat('yyyy LLL dd')}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Format - MMMM DD YY\",\"type\":\"n8n-nodes-base.dateTime\",\"position\":[1760,580],\"parameters\":{\"value\":\"={{$now}}\",\"options\":{},\"toFormat\":\"MMMM DD YYYY\"},\"typeVersion\":1}],\"connections\":{\"Set times\":{\"main\":[[{\"node\":\"Edit times\",\"type\":\"main\",\"index\":0}]]},\"12 Hours from now\":{\"main\":[[{\"node\":\"Format - MMMM DD YY\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Set times\",\"type\":\"main\",\"index\":0},{\"node\":\"12 Hours from now\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Task:**  \nHandle dates and times in your workflow\n\n**Why:**  \nDate and time formats can be hard to work with, we have 2 main ways of doing that with n8n that cover all the main needs\n\n**Main use cases:**\n\n  * Change date format\n  * Set custom dates (incl. now and today)\n  * Date math\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><strong>Task:</strong><br>\nHandle dates and times in your workflow</p>\n<p><strong>Why:</strong><br>\nDate and time formats can be hard to work with, we have 2 main ways of doing that with n8n that cover all the main needs</p>\n<p><strong>Main use cases:</strong></p>\n<ul>\n<li>Change date format</li>\n<li>Set custom dates (incl. now and today)</li>\n<li>Date math</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "**任务：**  \n在您的工作流程中处理日期和时间  \n\n**原因：**  \n日期和时间格式可能难以处理，我们提供了两种主要方法通过n8n来满足所有核心需求  \n\n**主要应用场景：**  \n\n* 更改日期格式  \n* 设置自定义日期（包括当前日期和今天）  \n* 日期计算",
  "title_zh": "处理日期和时间",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[1140,780],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1480,760],\"parameters\":{\"width\":560,\"height\":400,\"content\":\"## 2. 高级方法：使用表达式\\n在此`Set`节点中，我们使用[Luxon表达式](https://docs.n8n.io/code-examples/expressions/luxon/)为以下格式设置日期：\\n\\n当前时间 - `{{$now}}`\\n带秒的当前时间 - `{{$now.toLocaleString(DateTime.TIME_WITH_SECONDS)}}`\\n今天 - `{{$today}}`\\n明天 - `{{$today.plus({days: 1})}}`\\n一小时前 - `{{$now.minus({hours: 1})}}`\\n星期名称 - `{{$today.weekdayLong}}`\"},\"typeVersion\":1},{\"name\":\"Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,780],\"parameters\":{\"width\":420,\"height\":100,\"content\":\"### 点击`执行工作流`按钮，然后双击节点查看输入和输出项。\"},\"typeVersion\":1},{\"name\":\"12 Hours from now\",\"type\":\"n8n-nodes-base.dateTime\",\"position\":[1520,580],\"parameters\":{\"value\":\"={{$now}}\",\"action\":\"calculate\",\"options\":{},\"duration\":12,\"timeUnit\":\"hours\"},\"typeVersion\":1},{\"name\":\"Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1480,400],\"parameters\":{\"width\":560,\"height\":340,\"content\":\"## 1. 简单方法：使用日期与时间节点  \\n`日期与时间`节点内提供两种操作：  \\n1. 计算日期——增加/减少分钟、小时、天数等  \\n2. 格式化日期\"},\"typeVersion\":1},{\"name\":\"Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1980,860],\"parameters\":{\"width\":480,\"height\":320,\"content\":\"### 2.1 处理现有时间字符串  \\n当数据在节点间传递时，n8n会将日期保存为ISO格式字符串。这意味着要重新将数据作为日期处理，我们需要使用`DateTime.fromISO('yyyy-mm-dd')`将其转换回来。完成转换后，就可以再次应用日期和时间函数，例如：`{{DateTime.fromISO($json[\\\"Now\\\"]).toFormat('yyyy LLL dd')}}`\"},\"typeVersion\":1},{\"name\":\"Set times\",\"type\":\"n8n-nodes-base.set\",\"position\":[1520,1020],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Now\",\"value\":\"={{$now}}\"},{\"name\":\"Current time with seconds\",\"value\":\"={{$now.toLocaleString(DateTime.TIME_WITH_SECONDS)}}\"},{\"name\":\"Today\",\"value\":\"={{$today}}\"},{\"name\":\"Tomorrow\",\"value\":\"={{$today.plus({days: 1})}}\"},{\"name\":\"One hour from now\",\"value\":\"={{$now.minus({hours: 1})}}\"},{\"name\":\"Weekday\",\"value\":\"={{$today.weekdayLong}}\"}]},\"options\":{}},\"typeVersion\":1},{\"name\":\"Edit times\",\"type\":\"n8n-nodes-base.set\",\"position\":[2080,1020],\"parameters\":{\"values\":{\"string\":[{\"name\":\"Current time\",\"value\":\"={{DateTime.fromISO($json[\\\"Now\\\"])}}\"},{\"name\":\"Current time formatted\",\"value\":\"={{DateTime.fromISO($json[\\\"Now\\\"]).toFormat('yyyy LLL dd')}}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Format - MMMM DD YY\",\"type\":\"n8n-nodes-base.dateTime\",\"position\":[1760,580],\"parameters\":{\"value\":\"={{$now}}\",\"options\":{},\"toFormat\":\"MMMM DD YYYY\"},\"typeVersion\":1}],\"connections\":{\"Set times\":{\"main\":[[{\"node\":\"Edit times\",\"type\":\"main\",\"index\":0}]]},\"12 Hours from now\":{\"main\":[[{\"node\":\"Format - MMMM DD YY\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Set times\",\"type\":\"main\",\"index\":0},{\"node\":\"12 Hours from now\",\"type\":\"main\",\"index\":0}]]}}}"
}