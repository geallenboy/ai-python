{
  "title": "Reusable Subworkflow Zip Multiple Files Dynamically (Compress)",
  "url": "https://n8n.io/workflows/2690-reusable-subworkflow-zip-multiple-files-dynamically-compress/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Simon",
  "publish_date": "Last update 4 months ago",
  "publish_date_absolute": "2025-01-07",
  "content": "",
  "workflow_json": "{\"id\":\"r3qHlCVCczqTw3pP\",\"meta\":{\"instanceId\":\"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\"},\"name\":\"Zip multiple files\",\"tags\":[],\"nodes\":[{\"id\":\"8de50ed2-b298-4701-8747-f6c7158fa15f\",\"name\":\"Execute Workflow Trigger\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[0,0],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5e03dfdd-696e-4a04-99e9-4094ae4371ac\",\"name\":\"Compression\",\"type\":\"n8n-nodes-base.compression\",\"position\":[460,0],\"parameters\":{\"fileName\":\"=data{{$now.format('yyyy-MM-dd-tt')}}.zip\",\"operation\":\"compress\",\"binaryPropertyName\":\"={{ $json.binary_keys }}\"},\"typeVersion\":1.1},{\"id\":\"e25abf55-fb05-47d0-ba65-9b4e2f08d856\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,-100],\"parameters\":{\"height\":360,\"content\":\"## About\\nUse me as modular workflow. Instead of building me fixed in your workflow. Just call me when you need me.\\n\\n\\n## Input\\nInput can be multiple files \\n-imgaes\\n-pdfs\\n-xlsx,csv....\\n\\n## Output\\nSingle zip file\"},\"typeVersion\":1},{\"id\":\"db7b6475-25b5-44de-b37e-70b75c91455e\",\"name\":\"Prepare Output\",\"type\":\"n8n-nodes-base.set\",\"position\":[680,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"b0c3c3db-584a-48c9-b0ca-7f527d35f5a4\",\"name\":\"fileName\",\"type\":\"string\",\"value\":\"={{ $binary.data.fileName.replaceAll(\\\" \\\",\\\"\\\") }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"6cf6b9ba-e5a3-4d5f-a539-e84d839f7e99\",\"name\":\"Code Magic\",\"type\":\"n8n-nodes-base.code\",\"position\":[240,0],\"parameters\":{\"jsCode\":\"let binaries = {}, binary_keys = [];\\n\\nfor (const [index, inputItem] of Object.entries($input.all())) {\\n  binaries[`data_${index}`] = inputItem.binary.data;\\n  binary_keys.push(`data_${index}`);\\n}\\n\\nreturn [{\\n    json: {\\n        binary_keys: binary_keys.join(',')\\n    },\\n    binary: binaries\\n}];\\n\"},\"typeVersion\":2}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"16f64706-0a2a-4f9f-a96f-f149a4874ae4\",\"connections\":{\"Code Magic\":{\"main\":[[{\"node\":\"Compression\",\"type\":\"main\",\"index\":0}]]},\"Compression\":{\"main\":[[{\"node\":\"Prepare Output\",\"type\":\"main\",\"index\":0}]]},\"Execute Workflow Trigger\":{\"main\":[[{\"node\":\"Code Magic\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# ğŸ“¦ Zip Multiple Files Dynamically\n\nThis template enables you to dynamically bundle multiple files into a ZIP archive. Designed to be used as a **Subworkflow** , itâ€™s modular, flexible, and easy to integrate into various workflows. The output is a single ZIP file with a name that includes the current date, time, and fileName.\n\nShoutout:  \nCode from: [Tom (mutedjam)](https://n8n.io/creators/mutedjam/)\n\n* * *\n\n### ğŸ‘¤ **Who is this for?**\n\nThis workflow is perfect for:\n\n  * ğŸš€ Businesses automating file archiving tasks.\n  * ğŸ’» Developers managing files programmatically.\n  * ğŸ“‚ Anyone needing a reusable solution for bundling files into ZIP archives.\n\n\n\n* * *\n\n### â“ **What problem is this workflow solving?**\n\nManually zipping multiple files is:\n\n  * ğŸ•’ Time-consuming.\n  * ğŸ¤” Prone to errors.\n\n\n\nThis workflow automates the process and, as a **Subworkflow** , ensures:\n\n  * âš¡ Consistent file archiving across different workflows.\n  * ğŸ› ï¸ Reduced manual effort.\n  * ğŸ“ˆ Streamlined integration into existing automation.\n\n\n\n* * *\n\n### ğŸ”§ **What this workflow does**\n\n  1. ğŸ—‚ï¸ Dynamically collects binary files from the input.\n  2. ğŸ“¦ Bundles them into a single ZIP archive.\n  3. ğŸ•’ Names the ZIP file with the current date, time, and a customizable `fileName`.\n  4. âœ… Outputs the ZIP file, ready for storage or further processing.\n\n\n\n* * *\n\n### âš™ï¸ **Setup**\n\n  1. ğŸ”— Add this Subworkflow to your existing workflows.\n  2. ğŸ“¥ Pass the binary files as input to the Subworkflow.\n  3. â–¶ï¸ Call the Subworkflow to generate a ZIP file.\n\n\n\n* * *\n\n### ğŸ› ï¸ **How to customize this workflow to your needs**\n\n  * **ğŸŒ File Sources** : Adjust the input nodes in your parent workflow to connect to your preferred file sources.\n  * **ğŸ“ File Naming** : Customize the logic for the output `fileName` in the Subworkflow.\n  * **ğŸš€ Additional Use Cases** : Use this Subworkflow in various scenarios, such as: \n    * âœ‰ï¸ Sending ZIP files via email.\n    * â˜ï¸ Uploading ZIP files to cloud storage.\n    * ğŸ”„ Triggering further automation.\n\n\n\n* * *\n\n### ğŸ‰ **Why use this as a Subworkflow?**\n\nInstead of building a fixed ZIP functionality for every workflow, this template offers a **reusable solution** that can be integrated into many different workflows effortlessly. Save time and ensure consistency across your automation projects! ğŸ’¡\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h1>ğŸ“¦ Zip Multiple Files Dynamically</h1>\n<p>This template enables you to dynamically bundle multiple files into a ZIP archive. Designed to be used as a <strong>Subworkflow</strong>, itâ€™s modular, flexible, and easy to integrate into various workflows. The output is a single ZIP file with a name that includes the current date, time, and fileName.</p>\n<p>Shoutout:<br>\nCode from: <a href=\"https://n8n.io/creators/mutedjam/\" rel=\"ugc nofollow\" target=\"_blank\">Tom (mutedjam)</a></p>\n<hr>\n<h3>ğŸ‘¤ <strong>Who is this for?</strong></h3>\n<p>This workflow is perfect for:</p>\n<ul>\n<li>ğŸš€ Businesses automating file archiving tasks.</li>\n<li>ğŸ’» Developers managing files programmatically.</li>\n<li>ğŸ“‚ Anyone needing a reusable solution for bundling files into ZIP archives.</li>\n</ul>\n<hr>\n<h3>â“ <strong>What problem is this workflow solving?</strong></h3>\n<p>Manually zipping multiple files is:</p>\n<ul>\n<li>ğŸ•’ Time-consuming.</li>\n<li>ğŸ¤” Prone to errors.</li>\n</ul>\n<p>This workflow automates the process and, as a <strong>Subworkflow</strong>, ensures:</p>\n<ul>\n<li>âš¡ Consistent file archiving across different workflows.</li>\n<li>ğŸ› ï¸ Reduced manual effort.</li>\n<li>ğŸ“ˆ Streamlined integration into existing automation.</li>\n</ul>\n<hr>\n<h3>ğŸ”§ <strong>What this workflow does</strong></h3>\n<ol>\n<li>ğŸ—‚ï¸ Dynamically collects binary files from the input.</li>\n<li>ğŸ“¦ Bundles them into a single ZIP archive.</li>\n<li>ğŸ•’ Names the ZIP file with the current date, time, and a customizable <code>fileName</code>.</li>\n<li>âœ… Outputs the ZIP file, ready for storage or further processing.</li>\n</ol>\n<hr>\n<h3>âš™ï¸ <strong>Setup</strong></h3>\n<ol>\n<li>ğŸ”— Add this Subworkflow to your existing workflows.</li>\n<li>ğŸ“¥ Pass the binary files as input to the Subworkflow.</li>\n<li>â–¶ï¸ Call the Subworkflow to generate a ZIP file.</li>\n</ol>\n<hr>\n<h3>ğŸ› ï¸ <strong>How to customize this workflow to your needs</strong></h3>\n<ul>\n<li><strong>ğŸŒ File Sources</strong>: Adjust the input nodes in your parent workflow to connect to your preferred file sources.</li>\n<li><strong>ğŸ“ File Naming</strong>: Customize the logic for the output <code>fileName</code> in the Subworkflow.</li>\n<li><strong>ğŸš€ Additional Use Cases</strong>: Use this Subworkflow in various scenarios, such as:\n<ul>\n<li>âœ‰ï¸ Sending ZIP files via email.</li>\n<li>â˜ï¸ Uploading ZIP files to cloud storage.</li>\n<li>ğŸ”„ Triggering further automation.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3>ğŸ‰ <strong>Why use this as a Subworkflow?</strong></h3>\n<p>Instead of building a fixed ZIP functionality for every workflow, this template offers a <strong>reusable solution</strong> that can be integrated into many different workflows effortlessly. Save time and ensure consistency across your automation projects! ğŸ’¡</p>\n</div><!--]-->",
  "readme_zh": "# ğŸ“¦ Zip Multiple Files Dynamically\n\nThis template enables you to dynamically bundle multiple files into a ZIP archive. Designed to be used as a **Subworkflow** , itâ€™s modular, flexible, and easy to integrate into various workflows. The output is a single ZIP file with a name that includes the current date, time, and fileName.\n\nShoutout:  \nCode from: [Tom (mutedjam)](https://n8n.io/creators/mutedjam/)\n\n* * *\n\n### ğŸ‘¤ **Who is this for?**\n\nThis workflow is perfect for:\n\n  * ğŸš€ Businesses automating file archiving tasks.\n  * ğŸ’» Developers managing files programmatically.\n  * ğŸ“‚ Anyone needing a reusable solution for bundling files into ZIP archives.\n\n\n\n* * *\n\n### â“ **What problem is this workflow solving?**\n\nManually zipping multiple files is:\n\n  * ğŸ•’ Time-consuming.\n  * ğŸ¤” Prone to errors.\n\n\n\nThis workflow automates the process and, as a **Subworkflow** , ensures:\n\n  * âš¡ Consistent file archiving across different workflows.\n  * ğŸ› ï¸ Reduced manual effort.\n  * ğŸ“ˆ Streamlined integration into existing automation.\n\n\n\n* * *\n\n### ğŸ”§ **What this workflow does**\n\n  1. ğŸ—‚ï¸ Dynamically collects binary files from the input.\n  2. ğŸ“¦ Bundles them into a single ZIP archive.\n  3. ğŸ•’ Names the ZIP file with the current date, time, and a customizable `fileName`.\n  4. âœ… Outputs the ZIP file, ready for storage or further processing.\n\n\n\n* * *\n\n### âš™ï¸ **Setup**\n\n  1. ğŸ”— Add this Subworkflow to your existing workflows.\n  2. ğŸ“¥ Pass the binary files as input to the Subworkflow.\n  3. â–¶ï¸ Call the Subworkflow to generate a ZIP file.\n\n\n\n* * *\n\n### ğŸ› ï¸ **How to customize this workflow to your needs**\n\n  * **ğŸŒ File Sources** : Adjust the input nodes in your parent workflow to connect to your preferred file sources.\n  * **ğŸ“ File Naming** : Customize the logic for the output `fileName` in the Subworkflow.\n  * **ğŸš€ Additional Use Cases** : Use this Subworkflow in various scenarios, such as: \n    * âœ‰ï¸ Sending ZIP files via email.\n    * â˜ï¸ Uploading ZIP files to cloud storage.\n    * ğŸ”„ Triggering further automation.\n\n\n\n* * *\n\n### ğŸ‰ **Why use this as a Subworkflow?**\n\nInstead of building a fixed ZIP functionality for every workflow, this template offers a **reusable solution** that can be integrated into many different workflows effortlessly. Save time and ensure consistency across your automation projects! ğŸ’¡\n",
  "title_zh": "å¯é‡å¤ä½¿ç”¨çš„å­å·¥ä½œæµï¼šåŠ¨æ€å‹ç¼©å¤šä¸ªæ–‡ä»¶ï¼ˆæ‰“åŒ…ï¼‰",
  "publish_date_zh": "æœ€åæ›´æ–°äº4ä¸ªæœˆå‰",
  "workflow_json_zh": "{\n  \"id\": \"r3qHlCVCczqTw3pP\",\n  \"meta\": {\n    \"instanceId\": \"1bc0f4fa5e7d17ac362404cbb49337e51e5061e019cfa24022a8667c1f1ce287\"\n  },\n  \"name\": \"Zip multiple files\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"8de50ed2-b298-4701-8747-f6c7158fa15f\",\n      \"name\": \"Execute Workflow Trigger\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5e03dfdd-696e-4a04-99e9-4094ae4371ac\",\n      \"name\": \"Compression\",\n      \"type\": \"n8n-nodes-base.compression\",\n      \"position\": [\n        460,\n        0\n      ],\n      \"parameters\": {\n        \"fileName\": \"=data{{$now.format('yyyy-MM-dd-tt')}}.zip\",\n        \"operation\": \"compress\",\n        \"binaryPropertyName\": \"={{ $json.binary_keys }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e25abf55-fb05-47d0-ba65-9b4e2f08d856\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        -100\n      ],\n      \"parameters\": {\n        \"height\": 360,\n        \"content\": \"## å…³äº\\nå°†æˆ‘ä½œä¸ºæ¨¡å—åŒ–å·¥ä½œæµä½¿ç”¨ã€‚æ— éœ€å°†æˆ‘å›ºå®šå†…ç½®äºæ‚¨çš„å·¥ä½œæµç¨‹ä¸­ï¼Œåªéœ€åœ¨éœ€è¦æ—¶è°ƒç”¨å³å¯ã€‚\\n\\n## è¾“å…¥\\næ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼è¾“å…¥ï¼š\\n- å›¾ç‰‡\\n- PDFæ–‡æ¡£\\n- Excelè¡¨æ ¼ï¼ˆxlsxï¼‰ã€CSVæ–‡ä»¶...\\n\\n## è¾“å‡º\\nç”Ÿæˆå•ä¸ªå‹ç¼©åŒ…ï¼ˆzipæ–‡ä»¶ï¼‰\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"db7b6475-25b5-44de-b37e-70b75c91455e\",\n      \"name\": \"Prepare Output\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        680,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"b0c3c3db-584a-48c9-b0ca-7f527d35f5a4\",\n              \"name\": \"fileName\",\n              \"type\": \"string\",\n              \"value\": \"={{ $binary.data.fileName.replaceAll(\\\" \\\",\\\"\\\") }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"6cf6b9ba-e5a3-4d5f-a539-e84d839f7e99\",\n      \"name\": \"Code Magic\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        240,\n        0\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let binaries = {}, binary_keys = [];\\n\\nfor (const [index, inputItem] of Object.entries($input.all())) {\\n  binaries[`data_${index}`] = inputItem.binary.data;\\n  binary_keys.push(`data_${index}`);\\n}\\n\\nreturn [{\\n    json: {\\n        binary_keys: binary_keys.join(',')\\n    },\\n    binary: binaries\\n}];\\n\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"16f64706-0a2a-4f9f-a96f-f149a4874ae4\",\n  \"connections\": {\n    \"Code Magic\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compression\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Compression\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Prepare Output\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute Workflow Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code Magic\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}