{
  "title": "Get Multiple Attachments from Gmail and upload them to GDrive",
  "url": "https://n8n.io/workflows/2348-get-multiple-attachments-from-gmail-and-upload-them-to-gdrive/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Ria",
  "publish_date": "Last update 8 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"1a23006df50de49624f69e85993be557d137b6efe723a867a7d68a84e0b32704\"},\"nodes\":[{\"id\":\"3c7ae816-6ce2-4b6b-893e-75c6b8756555\",\"name\":\"Trigger - New Email\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"notes\":\"has:attachment\",\"position\":[680,300],\"parameters\":{\"simple\":false,\"filters\":{\"q\":\"has:attachment\"},\"options\":{\"downloadAttachments\":true},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]}},\"notesInFlow\":true,\"typeVersion\":1.1},{\"id\":\"b87b2211-03d3-4742-98c9-977ae4a8d581\",\"name\":\"attach binary data outputs\",\"type\":\"n8n-nodes-base.function\",\"position\":[900,300],\"parameters\":{\"functionCode\":\"let results = [];\\n\\nfor (item of items) {\\n    for (key of Object.keys(item.binary)) {\\n        results.push({\\n            json: {\\n                fileName: item.binary[key].fileName\\n            },\\n            binary: {\\n                data: item.binary[key],\\n            }\\n        });\\n    }\\n}\\n\\nreturn results;\"},\"typeVersion\":1},{\"id\":\"f8e19c97-0983-4365-bc63-179605050ef2\",\"name\":\"upload files to google drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1140,300],\"parameters\":{\"name\":\"={{ $json.fileName.split(\\\".\\\")[0] + \\\"-\\\" + $('Trigger - New Email').item.json.from.value[0].address + \\\".\\\" + $json.fileName.split(\\\".\\\")[1]}}\",\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"options\":{},\"folderId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"root\",\"cachedResultUrl\":\"https://drive.google.com/drive\",\"cachedResultName\":\"/ (Root folder)\"}},\"typeVersion\":3}],\"pinData\":{},\"connections\":{\"Trigger - New Email\":{\"main\":[[{\"node\":\"attach binary data outputs\",\"type\":\"main\",\"index\":0}]]},\"attach binary data outputs\":{\"main\":[[{\"node\":\"upload files to google drive\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This is a simple template to show how to extract multiple email attachments and return them as an iterable output.\n\n## How it works:\n\nThe **Gmail Trigger** node detects any new email that has attachments. The **Code** node will then extract them as binary files and attaches them to the item. They can then be uploaded via the **Google Drive** node.\n\n## Setup steps:\n\n  * add your Gmail Credentials\n  * add your Google Drive Credentials\n  * Follow the official [n8n Documentation](https://docs.n8n.io/integrations/builtin/credentials/google/) for help\n\n\n\n## Feedback & Questions\n\nIf you have any questions or feedback about this workflow - Feel free to get in touch at [ria@n8n.io](mailto:ria@n8n.io)\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This is a simple template to show how to extract multiple email attachments and return them as an iterable output.</p>\n<h2>How it works:</h2>\n<p>The <strong>Gmail Trigger</strong> node detects any new email that has attachments. The <strong>Code</strong> node will then extract them as binary files and attaches them to the item. They can then be uploaded via the <strong>Google Drive</strong> node.</p>\n<h2>Setup steps:</h2>\n<ul>\n<li>add your Gmail Credentials</li>\n<li>add your Google Drive Credentials</li>\n<li>Follow the official <a href=\"https://docs.n8n.io/integrations/builtin/credentials/google/\" rel=\"ugc nofollow\" target=\"_blank\">n8n Documentation</a> for help</li>\n</ul>\n<h2>Feedback &amp; Questions</h2>\n<p>If you have any questions or feedback about this workflow - Feel free to get in touch at <a href=\"mailto:ria@n8n.io\" rel=\"ugc nofollow\">ria@n8n.io</a></p>\n</div><!--]-->"
}