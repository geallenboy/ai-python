{
  "title": "Push your public IP to Namecheaps Dynamic DNS",
  "url": "https://n8n.io/workflows/1576-push-your-public-ip-to-namecheaps-dynamic-dns/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Mario",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-07",
  "content": "",
  "workflow_json": "{\"id\":3,\"name\":\"NameCheap Dynamic DNS (DDNS)\",\"nodes\":[{\"name\":\"Cron\",\"type\":\"n8n-nodes-base.cron\",\"position\":[380,300],\"parameters\":{\"triggerTimes\":{\"item\":[{\"mode\":\"everyX\",\"unit\":\"minutes\",\"value\":15}]}},\"typeVersion\":1},{\"name\":\"Checks IP if new\",\"type\":\"n8n-nodes-base.function\",\"position\":[740,300],\"parameters\":{\"functionCode\":\"const staticData = getWorkflowStaticData('global');\\nconst newItem = items.map(item => item.json[\\\"ip\\\"]);\\nconst ildItem = staticData.ildItem; \\n\\nif (!ildItem) {\\n  staticData.ildItem = newItem;\\n  return items;\\n}\\n\\n\\nconst actualnewItem = newItem.filter((id) => !ildItem.includes(id));\\nconst actualItem = items.filter((data) => actualnewItem.includes(data.json['ip']));\\nstaticData.ildItem = [...actualnewItem, ...ildItem];\\n\\nreturn actualItem;\"},\"typeVersion\":1},{\"name\":\"subdomains\",\"type\":\"n8n-nodes-base.function\",\"position\":[1100,300],\"parameters\":{\"functionCode\":\"items[0].json = {\\n    value: [\\n        {id: \\\"subdomain1\\\"},\\n        {id: \\\"subdomain2\\\"},\\n        {id: \\\"subdomain3\\\"}\\n    ]\\n};\\nreturn items;\"},\"typeVersion\":1},{\"name\":\"Loops trough Subdomain list\",\"type\":\"n8n-nodes-base.function\",\"position\":[1280,300],\"parameters\":{\"functionCode\":\"const newItems = [];\\n\\nfor (const item of items[0].json.value) {\\n  newItems.push({json: item});\\n}\\n\\nreturn newItems;\"},\"typeVersion\":1},{\"name\":\"Send data to Namecheap\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1460,300],\"parameters\":{\"url\":\"=https://dynamicdns.park-your-domain.com/update?host={{$node[\\\"Loops trough Subdomain list\\\"].parameter[\\\"functionCode\\\"]}}test&domain={{$node[\\\"yourdomain.com\\\"].parameter[\\\"values\\\"][\\\"string\\\"][0][\\\"value\\\"]}}&password={{$node[\\\"yourdomain.com\\\"].parameter[\\\"values\\\"][\\\"string\\\"][1][\\\"value\\\"]}}&ip={{$node[\\\"Get Public IP address\\\"].json[\\\"ip\\\"]}}\",\"options\":{},\"responseFormat\":\"string\"},\"typeVersion\":1},{\"name\":\"Get Public IP address\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[560,300],\"parameters\":{\"url\":\"https://api.ipify.org?format=json\",\"options\":{},\"jsonParameters\":true,\"allowUnauthorizedCerts\":true},\"retryOnFail\":true,\"typeVersion\":1,\"continueOnFail\":true},{\"name\":\"yourdomain.com\",\"type\":\"n8n-nodes-base.set\",\"position\":[920,300],\"parameters\":{\"values\":{\"string\":[{\"name\":\"domain\",\"value\":\"yourdomain.com\"},{\"name\":\"password\",\"value\":\"your-namecheap-ddns-password\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1}],\"active\":false,\"settings\":{},\"connections\":{\"Cron\":{\"main\":[[{\"node\":\"Get Public IP address\",\"type\":\"main\",\"index\":0}]]},\"subdomains\":{\"main\":[[{\"node\":\"Loops trough Subdomain list\",\"type\":\"main\",\"index\":0}]]},\"yourdomain.com\":{\"main\":[[{\"node\":\"subdomains\",\"type\":\"main\",\"index\":0}]]},\"Checks IP if new\":{\"main\":[[{\"node\":\"yourdomain.com\",\"type\":\"main\",\"index\":0}]]},\"Get Public IP address\":{\"main\":[[{\"node\":\"Checks IP if new\",\"type\":\"main\",\"index\":0}]]},\"Loops trough Subdomain list\":{\"main\":[[{\"node\":\"Send data to Namecheap\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Template to get your public IP address and push it to Namecheaps Dynamic DNS per subdomain.\n\n  1. Open \"[yourdomain.com](http://yourdomain.com)\"\n  2. Insert your domain and your Namecheap DDNS password\n  3. Open \"subdomains\"\n  4. Replaces and insert your subdomains\n  5. Execute Workflow\n\n\n\nHave fun!\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>Template to get your public IP address and push it to Namecheaps Dynamic DNS per subdomain.</p>\n<ol>\n<li>Open \"<a href=\"http://yourdomain.com\" rel=\"ugc nofollow\" target=\"_blank\">yourdomain.com</a>\"</li>\n<li>Insert your domain and your Namecheap DDNS password</li>\n<li>Open \"subdomains\"</li>\n<li>Replaces and insert your subdomains</li>\n<li>Execute Workflow</li>\n</ol>\n<p>Have fun!</p>\n</div><!--]-->",
  "readme_zh": "获取公网IP地址并推送至Namecheap动态DNS子域名的模板指南：\n\n1. 访问\"[yourdomain.com](http://yourdomain.com)\"  \n2. 输入您的域名及Namecheap动态DNS密码  \n3. 打开\"子域名管理\"选项  \n4. 替换并填写您的子域名信息  \n5. 执行工作流程  \n\n祝您使用愉快！",
  "title_zh": "将您的公共IP推送到Namecheap的动态DNS",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\n  \"id\": 3,\n  \"name\": \"NameCheap Dynamic DNS (DDNS)\",\n  \"nodes\": [\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        380,\n        300\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 15\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Checks IP if new\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        740,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const staticData = getWorkflowStaticData('global');\\nconst newItem = items.map(item => item.json[\\\"ip\\\"]);\\nconst ildItem = staticData.ildItem; \\n\\nif (!ildItem) {\\n  staticData.ildItem = newItem;\\n  return items;\\n}\\n\\n\\nconst actualnewItem = newItem.filter((id) => !ildItem.includes(id));\\nconst actualItem = items.filter((data) => actualnewItem.includes(data.json['ip']));\\nstaticData.ildItem = [...actualnewItem, ...ildItem];\\n\\nreturn actualItem;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"subdomains\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1100,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"items[0].json = {\\n    value: [\\n        {id: \\\"subdomain1\\\"},\\n        {id: \\\"subdomain2\\\"},\\n        {id: \\\"subdomain3\\\"}\\n    ]\\n};\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Loops trough Subdomain list\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1280,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const newItems = [];\\n\\nfor (const item of items[0].json.value) {\\n  newItems.push({json: item});\\n}\\n\\nreturn newItems;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Send data to Namecheap\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1460,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"=https://dynamicdns.park-your-domain.com/update?host={{$node[\\\"Loops trough Subdomain list\\\"].parameter[\\\"functionCode\\\"]}}test&domain={{$node[\\\"yourdomain.com\\\"].parameter[\\\"values\\\"][\\\"string\\\"][0][\\\"value\\\"]}}&password={{$node[\\\"yourdomain.com\\\"].parameter[\\\"values\\\"][\\\"string\\\"][1][\\\"value\\\"]}}&ip={{$node[\\\"Get Public IP address\\\"].json[\\\"ip\\\"]}}\",\n        \"options\": {},\n        \"responseFormat\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Public IP address\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        560,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.ipify.org?format=json\",\n        \"options\": {},\n        \"jsonParameters\": true,\n        \"allowUnauthorizedCerts\": true\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"continueOnFail\": true\n    },\n    {\n      \"name\": \"yourdomain.com\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        920,\n        300\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"domain\",\n              \"value\": \"yourdomain.com\"\n            },\n            {\n              \"name\": \"password\",\n              \"value\": \"your-namecheap-ddns-password\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Public IP address\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"subdomains\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loops trough Subdomain list\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"yourdomain.com\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"subdomains\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Checks IP if new\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"yourdomain.com\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Public IP address\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Checks IP if new\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loops trough Subdomain list\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send data to Namecheap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}