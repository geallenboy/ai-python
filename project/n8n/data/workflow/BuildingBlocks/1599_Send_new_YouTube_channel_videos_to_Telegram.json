{
  "title": "Send new YouTube channel videos to Telegram",
  "url": "https://n8n.io/workflows/1599-send-new-youtube-channel-videos-to-telegram/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Alessio",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[500,510],\"parameters\":{\"values\":{\"string\":[{\"name\":\"id\",\"value\":\"={{$node[\\\"GetVideosYT\\\"].json[\\\"id\\\"][\\\"videoId\\\"]}}\"},{\"name\":\"url\",\"value\":\"=https://youtu.be/{{$node[\\\"GetVideosYT\\\"].json[\\\"id\\\"][\\\"videoId\\\"]}}\"},{\"name\":\"title\",\"value\":\"={{$node[\\\"GetVideosYT\\\"].json[\\\"snippet\\\"][\\\"title\\\"]}}\"}],\"boolean\":[]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Function\",\"type\":\"n8n-nodes-base.function\",\"position\":[640,510],\"parameters\":{\"functionCode\":\"const new_items = [];\\nconst data = this.getWorkflowStaticData('node');\\n\\ndata.ids = data.ids || [];\\n\\nfor (var i=0; i<items.length; i++) {\\n  if (data.ids.includes(items[i].json.id)) {\\n    break;\\n  } else {\\n    new_items.push({json: {id: items[i].json.id, url: items[i].json.url, title: items[i].json.title}});\\n  }\\n}\\n\\ndata.ids = items.map(item => item.json.id)\\nreturn new_items;\\n\"},\"typeVersion\":1},{\"name\":\"CheckTime\",\"type\":\"n8n-nodes-base.interval\",\"position\":[210,510],\"parameters\":{\"unit\":\"minutes\",\"interval\":30},\"typeVersion\":1},{\"name\":\"GetVideosYT\",\"type\":\"n8n-nodes-base.youTube\",\"position\":[370,510],\"parameters\":{\"limit\":4,\"filters\":{\"channelId\":\"UCTe5YtigJdZZ3i-za6IkbGQ\"},\"options\":{\"order\":\"date\"},\"resource\":\"video\"},\"credentials\":{\"youTubeOAuth2Api\":\"tubo\"},\"typeVersion\":1},{\"name\":\"SendVideo\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[790,510],\"parameters\":{\"text\":\"=Nuovo video di almi su YouTube!\\n<b>{{$node[\\\"Function\\\"].json[\\\"title\\\"]}}</b>\\n\\n{{$node[\\\"Function\\\"].json[\\\"url\\\"]}}\",\"chatId\":\"-1001178002763\",\"additionalFields\":{\"parse_mode\":\"HTML\"}},\"credentials\":{\"telegramApi\":\"bot raspino\"},\"typeVersion\":1}],\"connections\":{\"Set\":{\"main\":[[{\"node\":\"Function\",\"type\":\"main\",\"index\":0}]]},\"Function\":{\"main\":[[{\"node\":\"SendVideo\",\"type\":\"main\",\"index\":0}]]},\"CheckTime\":{\"main\":[[{\"node\":\"GetVideosYT\",\"type\":\"main\",\"index\":0}]]},\"GetVideosYT\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "![](https://hostux.pics/images/2022/04/17/image8c74c187fe43f155.png)  \nA simple node to send new YouTube videos from a channel to a Telegram chat (private, group or channel).  \n**CheckTime** : set how often videos should be fetched from YouTube. Default is 30 minutes.  \n**GetVideosYT** : this node will fetch the list of videos from a given channel. Here you need to specify on \"Limit\" the number of videos to fetch, and on \"Channel ID\" the ID of the desired channel (it should be the ending part of the URL). You need Google OAuth2 credentials to make it work. A guide is available [here](https://docs.n8n.io/integrations/credentials/google/). (If you use n8n's tunneling, you may need to adjust the OAuth callback URL on Google Cloud Platform)  \n**Set** : this node will set some variables to work easily with the next nodes. You shouldn't edit this.  \n**Function** : this node checks if the video was seen previously by the workflow, so that it won't be published a second time on Telegram. You shouldn't edit this.  \n**SendVideo** : this node sends the message to Telegram. You need to set your bot's credentials ([guide here](https://docs.n8n.io/integrations/credentials/telegram)), specify the Chat ID to send the message ([how to get](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.telegram/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.telegram#how-do-i-get-the-chat-id)) and personalize the Text of your message.\n\nThis workflow works correctly only when it's activated. If you manually execute the workflow, it will send every time the latest videos.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p><img src=\"https://hostux.pics/images/2022/04/17/image8c74c187fe43f155.png\" alt=\"\"><br>\nA simple node to send new YouTube videos from a channel to a Telegram chat (private, group or channel).<br>\n<strong>CheckTime</strong>: set how often videos should be fetched from YouTube. Default is 30 minutes.<br>\n<strong>GetVideosYT</strong>: this node will fetch the list of videos from a given channel. Here you need to specify on \"Limit\" the number of videos to fetch, and on \"Channel ID\" the ID of the desired channel (it should be the ending part of the URL). You need Google OAuth2 credentials to make it work. A guide is available <a href=\"https://docs.n8n.io/integrations/credentials/google/\" rel=\"ugc nofollow\" target=\"_blank\">here</a>. (If you use n8n's tunneling, you may need to adjust the OAuth callback URL on Google Cloud Platform)<br>\n<strong>Set</strong>: this node will set some variables to work easily with the next nodes. You shouldn't edit this.<br>\n<strong>Function</strong>: this node checks if the video was seen previously by the workflow, so that it won't be published a second time on Telegram. You shouldn't edit this.<br>\n<strong>SendVideo</strong>: this node sends the message to Telegram. You need to set your bot's credentials (<a href=\"https://docs.n8n.io/integrations/credentials/telegram\" rel=\"ugc nofollow\" target=\"_blank\">guide here</a>), specify the Chat ID to send the message (<a href=\"https://docs.n8n.io/integrations/nodes/n8n-nodes-base.telegram/?utm_source=n8n_app&amp;utm_medium=node_settings_modal-credential_link&amp;utm_campaign=n8n-nodes-base.telegram#how-do-i-get-the-chat-id\" rel=\"ugc nofollow\" target=\"_blank\">how to get</a>) and personalize the Text of your message.</p>\n<p>This workflow works correctly only when it's activated. If you manually execute the workflow, it will send every time the latest videos.</p>\n</div><!--]-->"
}