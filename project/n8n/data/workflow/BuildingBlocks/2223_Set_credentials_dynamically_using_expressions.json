{
  "title": "Set credentials dynamically using expressions",
  "url": "https://n8n.io/workflows/2223-set-credentials-dynamically-using-expressions/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Deborah",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"name\":\"Dynamic credentials using expressions\",\"nodes\":[{\"id\":\"cc6f2b1e-0ed0-4d22-8a44-d7223ba283b4\",\"name\":\"n8n Form Trigger\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[560,520],\"webhookId\":\"da4071f2-7550-4dae-aa48-8bced4291643\",\"parameters\":{\"path\":\"da4071f2-7550-4dae-aa48-8bced4291643\",\"formTitle\":\"Test dynamic credentials\",\"formFields\":{\"values\":[{\"fieldLabel\":\"Enter your NASA API key\",\"requiredField\":true}]},\"responseMode\":\"responseNode\",\"formDescription\":\"This form is for testing an n8n workflow that demonstrates setting credentials with expressions.\"},\"typeVersion\":2},{\"id\":\"ef336bae-3d4f-419c-ab5c-b9f0de89f170\",\"name\":\"NASA\",\"type\":\"n8n-nodes-base.nasa\",\"position\":[900,520],\"parameters\":{\"additionalFields\":{}},\"credentials\":{\"nasaApi\":{\"id\":\"QDDBOZOD6k3ijL5t\",\"name\":\"NASA account\"}},\"typeVersion\":1},{\"id\":\"143bcdb6-aca0-4dd8-9204-9777271cd230\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1220,520],\"parameters\":{\"options\":{},\"redirectURL\":\"={{ $json.url }}\",\"respondWith\":\"redirect\"},\"typeVersion\":1},{\"id\":\"0a0dee23-fa16-4f09-b5e0-856f47fb53d0\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[120,140],\"parameters\":{\"color\":4,\"width\":322,\"height\":564,\"content\":\"This workflow shows how to set credentials dynamically using expressions.\\n\\n\\nFirst, set up your NASA credential: \\n\\n1. Create a new NASA credential.\\n1. Hover over **API Key**.\\n1. Toggle **Expression** on.\\n1. In the **API Key** field, enter `{{ $json[\\\"Enter your NASA API key\\\"] }}`.\\n\\n\\nThen, test the workflow:\\n\\n1. Get an [API key from NASA](https://api.nasa.gov/)\\n2. Select **Test workflow**\\n3. Enter your key using the form.\\n4. The workflow runs and sends you to the NASA picture of the day.\\n\\n\\nFor more information on expressions, refer to [n8n documentation | Expressions](https://docs.n8n.io/code/expressions/).\"},\"typeVersion\":1},{\"id\":\"dd766e32-334d-4e46-9daa-7800b134a3a5\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[500,380],\"parameters\":{\"height\":319,\"content\":\"User submits an API key using the form\"},\"typeVersion\":1},{\"id\":\"3d8f02e6-e029-41dc-89ad-0f5cffe09348\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,380],\"parameters\":{\"color\":5,\"height\":319,\"content\":\"The workflow passes the key to the NASA node. You can reference the value using the expression `$json[\\\"Enter your NASA API key\\\"]`. This is also available to the node credential. \"},\"typeVersion\":1},{\"id\":\"096eb6ab-c276-4687-9dc0-50e16a8f709a\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1140,380],\"parameters\":{\"height\":319,\"content\":\"The Respond to Webhook node controls the form response (in this example, redirecting the user to an image)\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"NASA\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]},\"n8n Form Trigger\":{\"main\":[[{\"node\":\"NASA\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## How it works\n\nThis workflow shows how to set credentials dynamically using expressions. It accepts an API key via a form, then uses it in the NASA node to authenticate a request.\n\n## Setup steps\n\nFirst, set up your NASA credential:\n\n  1. Create a new NASA credential.\n  2. Hover over **API Key**.\n  3. Toggle **Expression** on.\n  4. In the **API Key** field, enter `{{ $json[\"Enter your NASA API key\"] }}`.\n\n\n\nThen, test the workflow:\n\n  1. Get an [API key from NASA](https://api.nasa.gov/)\n  2. Select **Test workflow**\n  3. Enter your key using the form.\n  4. The workflow runs and sends you to the NASA picture of the day.\n\n\n\nFor more information on expressions, refer to [n8n documentation | Expressions](https://docs.n8n.io/code/expressions/).\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><h2>How it works</h2>\n<p>This workflow shows how to set credentials dynamically using expressions. It accepts an API key via a form, then uses it in the NASA node to authenticate a request.</p>\n<h2>Setup steps</h2>\n<p>First, set up your NASA credential:</p>\n<ol>\n<li>Create a new NASA credential.</li>\n<li>Hover over <strong>API Key</strong>.</li>\n<li>Toggle <strong>Expression</strong> on.</li>\n<li>In the <strong>API Key</strong> field, enter <code>{{ $json[\"Enter your NASA API key\"] }}</code>.</li>\n</ol>\n<p>Then, test the workflow:</p>\n<ol>\n<li>Get an <a href=\"https://api.nasa.gov/\" rel=\"ugc nofollow\" target=\"_blank\">API key from NASA</a></li>\n<li>Select <strong>Test workflow</strong></li>\n<li>Enter your key using the form.</li>\n<li>The workflow runs and sends you to the NASA picture of the day.</li>\n</ol>\n<p>For more information on expressions, refer to <a href=\"https://docs.n8n.io/code/expressions/\" rel=\"ugc nofollow\" target=\"_blank\">n8n documentation | Expressions</a>.</p>\n</div><!--]-->",
  "readme_zh": "## 工作原理\n\n该工作流演示了如何通过表达式动态设置凭证。它通过表单接收API密钥，随后在NASA节点中使用该密钥完成请求认证。\n\n## 配置步骤\n\n首先配置NASA凭证：\n\n1. 新建NASA凭证\n2. 将鼠标悬停在**API密钥**字段\n3. 启用**表达式**开关\n4. 在**API密钥**字段输入`{{ $json[\"输入NASA API密钥\"] }}`\n\n\n接着测试工作流：\n\n1. 获取[NASA API密钥](https://api.nasa.gov/)\n2. 点击**测试工作流**\n3. 通过表单输入密钥\n4. 工作流将运行并跳转至NASA每日天文图页面\n\n\n更多表达式相关说明，请参阅[n8n官方文档 | 表达式](https://docs.n8n.io/code/expressions/)。",
  "title_zh": "使用表达式动态设置凭据",
  "publish_date_zh": "最后一次更新于一年前",
  "workflow_json_zh": "{\"name\":\"Dynamic credentials using expressions\",\"nodes\":[{\"id\":\"cc6f2b1e-0ed0-4d22-8a44-d7223ba283b4\",\"name\":\"n8n Form Trigger\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[560,520],\"webhookId\":\"da4071f2-7550-4dae-aa48-8bced4291643\",\"parameters\":{\"path\":\"da4071f2-7550-4dae-aa48-8bced4291643\",\"formTitle\":\"Test dynamic credentials\",\"formFields\":{\"values\":[{\"fieldLabel\":\"Enter your NASA API key\",\"requiredField\":true}]},\"responseMode\":\"responseNode\",\"formDescription\":\"This form is for testing an n8n workflow that demonstrates setting credentials with expressions.\"},\"typeVersion\":2},{\"id\":\"ef336bae-3d4f-419c-ab5c-b9f0de89f170\",\"name\":\"NASA\",\"type\":\"n8n-nodes-base.nasa\",\"position\":[900,520],\"parameters\":{\"additionalFields\":{}},\"credentials\":{\"nasaApi\":{\"id\":\"QDDBOZOD6k3ijL5t\",\"name\":\"NASA account\"}},\"typeVersion\":1},{\"id\":\"143bcdb6-aca0-4dd8-9204-9777271cd230\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1220,520],\"parameters\":{\"options\":{},\"redirectURL\":\"={{ $json.url }}\",\"respondWith\":\"redirect\"},\"typeVersion\":1},{\"id\":\"0a0dee23-fa16-4f09-b5e0-856f47fb53d0\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[120,140],\"parameters\":{\"color\":4,\"width\":322,\"height\":564,\"content\":\"此工作流程展示了如何利用表达式动态设置凭据。\\n\\n首先，配置您的NASA凭证：\\n\\n1. 新建一个NASA凭证项  \\n2. 将鼠标悬停在**API密钥**输入框上  \\n3. 启用**表达式**切换开关  \\n4. 在**API密钥**字段中输入表达式：`{{ $json[\\\"输入您的NASA API密钥\\\"] }}`\\n\\n接着测试工作流程：\\n\\n1. 获取[NASA API密钥](https://api.nasa.gov/)  \\n2. 点击**测试工作流**  \\n3. 通过表单输入您的密钥  \\n4. 工作流将运行并带您查看NASA当日天文图片  \\n\\n更多关于表达式的使用说明，请参阅[n8n官方文档 | 表达式指南](https://docs.n8n.io/code/expressions/)。\"},\"typeVersion\":1},{\"id\":\"dd766e32-334d-4e46-9daa-7800b134a3a5\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[500,380],\"parameters\":{\"height\":319,\"content\":\"用户通过表单提交API密钥\"},\"typeVersion\":1},{\"id\":\"3d8f02e6-e029-41dc-89ad-0f5cffe09348\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,380],\"parameters\":{\"color\":5,\"height\":319,\"content\":\"工作流将密钥传递至NASA节点。您可通过表达式`$json[\\\"输入您的NASA API密钥\\\"]`引用该值。此密钥同样适用于节点凭证。\"},\"typeVersion\":1},{\"id\":\"096eb6ab-c276-4687-9dc0-50e16a8f709a\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1140,380],\"parameters\":{\"height\":319,\"content\":\"响应Webhook节点控制表单的响应（在此示例中，将用户重定向至一张图片）。\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"NASA\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]},\"n8n Form Trigger\":{\"main\":[[{\"node\":\"NASA\",\"type\":\"main\",\"index\":0}]]}}}"
}