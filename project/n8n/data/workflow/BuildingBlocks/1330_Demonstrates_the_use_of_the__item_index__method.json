{
  "title": "Demonstrates the use of the $item(index) method",
  "url": "https://n8n.io/workflows/1330-demonstrates-the-use-of-the-dollaritemindex-method/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Harshil Agrawal",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"name\":\"On clicking 'execute'\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[250,300],\"parameters\":{},\"typeVersion\":1},{\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[450,300],\"parameters\":{\"values\":{\"string\":[{\"name\":\"apiKey\",\"value\":\"n8n-secret-keey\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"name\":\"Customer Datastore\",\"type\":\"n8n-nodes-base.n8nTrainingCustomerDatastore\",\"position\":[650,300],\"parameters\":{\"operation\":\"getAllPeople\",\"returnAll\":true},\"typeVersion\":1},{\"name\":\"HTTP Request\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[850,300],\"parameters\":{\"url\":\"https://webhook.site/f99d65ab-8959-4466-a427-cdd0ad482220\",\"options\":{},\"requestMethod\":\"POST\",\"bodyParametersUi\":{\"parameter\":[{\"name\":\"name\",\"value\":\"={{$json[\\\"name\\\"]}}\"}]},\"headerParametersUi\":{\"parameter\":[{\"name\":\"api-key\",\"value\":\"={{ $item(0).$node[\\\"Set\\\"].json[\\\"apiKey\\\"] }}\"}]}},\"typeVersion\":1}],\"connections\":{\"Set\":{\"main\":[[{\"node\":\"Customer Datastore\",\"type\":\"main\",\"index\":0}]]},\"Customer Datastore\":{\"main\":[[{\"node\":\"HTTP Request\",\"type\":\"main\",\"index\":0}]]},\"On clicking 'execute'\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow demonstrates the use of the `$item(index)` method. This method is useful when you want to reference an item at a particular index.\n\nThis example workflow makes POST HTTP requests to a dummy URL.\n\n**Set node:** This node is used to set the API key that will be used in the workflow later. This node returns a single item. This node can be replaced with other nodes, based on the use case.\n\n**Customer Datastore node:** This node returns the data of customers that will be sent in the body of the HTTP request. This node returns 5 items. This node can be replaced with other nodes, based on the use case.\n\n**HTTP Request node:** This node uses the information from both the Set node and the Customer Datastore node. Since, the node will run 5 times, once for each item of the Customer Datastore node, you need to reference the API Key 5 times. However, the Set node returns the API Key only once. Using the expression `{{ $item(0).$node[\"Set\"].json[\"apiKey\"] }}` you tell n8n to use the same API Key for all the 5 requests.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This workflow demonstrates the use of the <code>$item(index)</code> method. This method is useful when you want to reference an item at a particular index.</p>\n<p>This example workflow makes POST HTTP requests to a dummy URL.</p>\n<p></p>\n<p><strong>Set node:</strong> This node is used to set the API key that will be used in the workflow later. This node returns a single item. This node can be replaced with other nodes, based on the use case.</p>\n<p><strong>Customer Datastore node:</strong> This node returns the data of customers that will be sent in the body of the HTTP request. This node returns 5 items. This node can be replaced with other nodes, based on the use case.</p>\n<p><strong>HTTP Request node:</strong> This node uses the information from both the Set node and the Customer Datastore node. Since, the node will run 5 times, once for each item of the Customer Datastore node, you need to reference the API Key 5 times. However, the Set node returns the API Key only once. Using the expression <code>{{ $item(0).$node[\"Set\"].json[\"apiKey\"] }}</code> you tell n8n to use the same API Key for all the 5 requests.</p>\n</div><!--]-->"
}