{
  "title": "Upload leads from a CSV file to Pipedrive CRM",
  "url": "https://n8n.io/workflows/1787-upload-leads-from-a-csv-file-to-pipedrive-crm/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "n8n Team",
  "publish_date": "Last update 10 months ago",
  "publish_date_absolute": "2024-07-07",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"4eea70f6789129b82c5f438f374db25affb0eba28902cc3663e308cff7659044\"},\"nodes\":[{\"id\":\"97b052c3-2a98-4dee-973a-f170a5e575c8\",\"name\":\"Google Drive Trigger\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[960,140],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":\"1uQ0YnGnQNzIaWGdTt2UBT58tTy8xDlpW\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"36\",\"name\":\"Hilary's Google Drive account\"}},\"typeVersion\":1},{\"id\":\"1e82f8f8-175d-4493-a3a9-35380431d91c\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1180,140],\"parameters\":{\"fileId\":\"={{ $json[\\\"id\\\"] }}\",\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"36\",\"name\":\"Hilary's Google Drive account\"}},\"typeVersion\":2},{\"id\":\"fb36224d-4acb-4aba-9543-dd534e76477f\",\"name\":\"Spreadsheet File\",\"type\":\"n8n-nodes-base.spreadsheetFile\",\"position\":[1400,140],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"323b2a18-fc98-4b73-9c7f-421780f04e94\",\"name\":\"Pipedrive\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1540,400],\"parameters\":{\"filters\":{},\"resource\":\"lead\",\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"executeOnce\":true,\"typeVersion\":1},{\"id\":\"80d9733e-ccfb-4140-981f-8b818c4b9e70\",\"name\":\"Pipedrive1\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1920,380],\"parameters\":{\"personId\":\"={{ $json[\\\"person_id\\\"] }}\",\"resource\":\"person\",\"operation\":\"get\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"57197318-b0a9-4f15-9e10-f3750a60936c\",\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1720,400],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{ $json[\\\"person_id\\\"] }}\",\"operation\":\"larger\"}]}},\"typeVersion\":1},{\"id\":\"e5592e1d-da1f-4536-b816-3a6df764cd0a\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2140,100],\"parameters\":{\"mode\":\"removeKeyMatches\",\"propertyName1\":\"Email address\",\"propertyName2\":\"email[0].value\"},\"typeVersion\":1},{\"id\":\"29918402-d224-411d-b563-44d68c5b1c10\",\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[2360,100],\"parameters\":{\"values\":{\"string\":[{\"name\":\"company\",\"value\":\"={{ $json[\\\"Company name\\\"] }}\"},{\"name\":\"name\",\"value\":\"={{ $json[\\\"First name\\\"] }} {{ $json[\\\"Last name\\\"] }}\"},{\"name\":\"email\",\"value\":\"={{ $json[\\\"Email address\\\"] }}\"},{\"name\":\"employees\",\"value\":\"={{ $json[\\\"Company size\\\"] }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"a3c83915-3b87-41ec-ba3b-5db1134b1763\",\"name\":\"Create Organization\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[2840,100],\"parameters\":{\"name\":\"={{ $json[\\\"company\\\"] }}\",\"resource\":\"organization\",\"additionalFields\":{}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"e8f0a561-cc7a-4302-83dc-8c4a407b9b53\",\"name\":\"Create Person\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3180,100],\"parameters\":{\"name\":\"={{ $node[\\\"Set\\\"].json[\\\"name\\\"] }}\",\"resource\":\"person\",\"additionalFields\":{\"email\":[\"={{ $node[\\\"Set\\\"].json[\\\"email\\\"] }}\"],\"org_id\":\"={{ $json[\\\"id\\\"] }}\",\"customProperties\":{\"property\":[{\"name\":\"0bf0c49725830779ff146f5a087853d959dee064\",\"value\":\"LinkedIn_Ad\"}]}}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"7c038ae1-030e-4047-b4af-d13333ed14af\",\"name\":\"Create Lead\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3380,100],\"parameters\":{\"title\":\"={{$node[\\\"Set\\\"].json[\\\"company\\\"]}} lead\",\"resource\":\"lead\",\"organization_id\":\"={{$node[\\\"Create Organization\\\"].json.id}}\",\"additionalFields\":{\"owner_id\":12672788,\"person_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"46a433d1-0248-4208-89d2-747644e1face\",\"name\":\"Create Note\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3580,100],\"parameters\":{\"content\":\"=\\nCompany Size:\\n{{$node[\\\"Set\\\"].json[\\\"employees\\\"]}}\",\"resource\":\"note\",\"additionalFields\":{\"lead_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Pipedrive1\",\"type\":\"main\",\"index\":0}]]},\"Set\":{\"main\":[[{\"node\":\"Create Organization\",\"type\":\"main\",\"index\":0}]]},\"Merge\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]},\"Pipedrive\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Pipedrive1\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"Create Lead\":{\"main\":[[{\"node\":\"Create Note\",\"type\":\"main\",\"index\":0}]]},\"Google Drive\":{\"main\":[[{\"node\":\"Spreadsheet File\",\"type\":\"main\",\"index\":0}]]},\"Create Person\":{\"main\":[[{\"node\":\"Create Lead\",\"type\":\"main\",\"index\":0}]]},\"Spreadsheet File\":{\"main\":[[{\"node\":\"Pipedrive\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Create Organization\":{\"main\":[[{\"node\":\"Create Person\",\"type\":\"main\",\"index\":0}]]},\"Google Drive Trigger\":{\"main\":[[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow gets leads' contacts from a CSV file and adds it to the Pipedrive CRM by creating an organization and a person. The CSV file in this workflow serves as a universal connector allowing you to export contacts from any platform like LinkedIn, Facebook, etc.\n\n## Prerequisites\n\n  * Google account and [Google credentials](https://docs.n8n.io/integrations/builtin/credentials/google/)\n  * Pipedrive account and [Pipedrive credentials](https://docs.n8n.io/integrations/builtin/credentials/pipedrive/)\n\n\n\n## How it works\n\n  1. The Google Drive Trigger node starts the workflow when a new CSV file is uploaded to a specific folder in Google Drive.\n  2. Google Drive node downloads the CSV file.\n  3. Spreadsheet File node reads data from the CSV file and sends the output to the Merge node. This Spreadsheet File's output becomes the input 1 for the Merge node.\n  4. Meanwhile, the Pipedrive node gets the same list of contacts from the CSV file.\n  5. IF node checks if Pipedrive has these contacts already created previously and sends the checked results to the Merge node. These results arrive at the Merge node as input 2.\n  6. Merge node compares two inputs via email and removes the matches.\n  7. Pipedrive node creates new contacts based on the data provided by the Merge node with necessary details such as organization and notes.\n\n\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This workflow gets leads' contacts from a CSV file and adds it to the Pipedrive CRM by creating an organization and a person. The CSV file in this workflow serves as a universal connector allowing you to export contacts from any platform like LinkedIn, Facebook, etc.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>Google account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/google/\" rel=\"ugc nofollow\" target=\"_blank\">Google credentials</a></li>\n<li>Pipedrive account and <a href=\"https://docs.n8n.io/integrations/builtin/credentials/pipedrive/\" rel=\"ugc nofollow\" target=\"_blank\">Pipedrive credentials</a></li>\n</ul>\n<h2>How it works</h2>\n<ol>\n<li>The Google Drive Trigger node starts the workflow when a new CSV file is uploaded to a specific folder in Google Drive.</li>\n<li>Google Drive node downloads the CSV file.</li>\n<li>Spreadsheet File node reads data from the CSV file and sends the output to the Merge node. This Spreadsheet File's output becomes the input 1 for the Merge node.</li>\n<li>Meanwhile, the Pipedrive node gets the same list of contacts from the CSV file.</li>\n<li>IF node checks if Pipedrive has these contacts already created previously and sends the checked results to the Merge node. These results arrive at the Merge node as input 2.</li>\n<li>Merge node compares two inputs via email and removes the matches.</li>\n<li>Pipedrive node creates new contacts based on the data provided by the Merge node with necessary details such as organization and notes.</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "该工作流程从CSV文件中获取潜在客户联系方式，并通过创建组织机构和人员记录将其添加至Pipedrive客户关系管理系统。本流程中的CSV文件作为通用连接器，支持从领英、脸书等任意平台导出联系人数据。\n\n## 前置条件\n\n* 谷歌账号及[谷歌凭证](https://docs.n8n.io/integrations/builtin/credentials/google/)\n* Pipedrive账号及[Pipedrive凭证](https://docs.n8n.io/integrations/builtin/credentials/pipedrive/)\n\n## 运行机制\n\n1. 当谷歌网盘指定文件夹上传新CSV文件时，谷歌驱动器触发节点启动工作流\n2. 谷歌驱动器节点下载CSV文件\n3. 电子表格文件节点读取CSV数据并传送至合并节点，其输出作为合并节点的输入源1\n4. 同时Pipedrive节点从CSV获取相同联系人列表\n5. 条件判断节点检查Pipedrive是否已存在这些联系人，验证结果作为输入源2传送至合并节点\n6. 合并节点通过电子邮件比对两个输入源并剔除重复项\n7. Pipedrive节点根据合并节点提供的数据（含组织机构、备注等必要字段）创建新联系人",
  "title_zh": "将CSV文件中的潜在客户上传至Pipedrive CRM",
  "publish_date_zh": "最后更新于10个月前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"4eea70f6789129b82c5f438f374db25affb0eba28902cc3663e308cff7659044\"},\"nodes\":[{\"id\":\"97b052c3-2a98-4dee-973a-f170a5e575c8\",\"name\":\"Google Drive Trigger\",\"type\":\"n8n-nodes-base.googleDriveTrigger\",\"position\":[960,140],\"parameters\":{\"event\":\"fileCreated\",\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]},\"triggerOn\":\"specificFolder\",\"folderToWatch\":\"1uQ0YnGnQNzIaWGdTt2UBT58tTy8xDlpW\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"36\",\"name\":\"Hilary's Google Drive account\"}},\"typeVersion\":1},{\"id\":\"1e82f8f8-175d-4493-a3a9-35380431d91c\",\"name\":\"Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[1180,140],\"parameters\":{\"fileId\":\"={{ $json[\\\"id\\\"] }}\",\"options\":{},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"36\",\"name\":\"Hilary's Google Drive account\"}},\"typeVersion\":2},{\"id\":\"fb36224d-4acb-4aba-9543-dd534e76477f\",\"name\":\"Spreadsheet File\",\"type\":\"n8n-nodes-base.spreadsheetFile\",\"position\":[1400,140],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"323b2a18-fc98-4b73-9c7f-421780f04e94\",\"name\":\"Pipedrive\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1540,400],\"parameters\":{\"filters\":{},\"resource\":\"lead\",\"operation\":\"getAll\",\"returnAll\":true},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"executeOnce\":true,\"typeVersion\":1},{\"id\":\"80d9733e-ccfb-4140-981f-8b818c4b9e70\",\"name\":\"Pipedrive1\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[1920,380],\"parameters\":{\"personId\":\"={{ $json[\\\"person_id\\\"] }}\",\"resource\":\"person\",\"operation\":\"get\"},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"57197318-b0a9-4f15-9e10-f3750a60936c\",\"name\":\"IF\",\"type\":\"n8n-nodes-base.if\",\"position\":[1720,400],\"parameters\":{\"conditions\":{\"number\":[{\"value1\":\"={{ $json[\\\"person_id\\\"] }}\",\"operation\":\"larger\"}]}},\"typeVersion\":1},{\"id\":\"e5592e1d-da1f-4536-b816-3a6df764cd0a\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2140,100],\"parameters\":{\"mode\":\"removeKeyMatches\",\"propertyName1\":\"Email address\",\"propertyName2\":\"email[0].value\"},\"typeVersion\":1},{\"id\":\"29918402-d224-411d-b563-44d68c5b1c10\",\"name\":\"Set\",\"type\":\"n8n-nodes-base.set\",\"position\":[2360,100],\"parameters\":{\"values\":{\"string\":[{\"name\":\"company\",\"value\":\"={{ $json[\\\"Company name\\\"] }}\"},{\"name\":\"name\",\"value\":\"={{ $json[\\\"First name\\\"] }} {{ $json[\\\"Last name\\\"] }}\"},{\"name\":\"email\",\"value\":\"={{ $json[\\\"Email address\\\"] }}\"},{\"name\":\"employees\",\"value\":\"={{ $json[\\\"Company size\\\"] }}\"}]},\"options\":{},\"keepOnlySet\":true},\"typeVersion\":1},{\"id\":\"a3c83915-3b87-41ec-ba3b-5db1134b1763\",\"name\":\"Create Organization\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[2840,100],\"parameters\":{\"name\":\"={{ $json[\\\"company\\\"] }}\",\"resource\":\"organization\",\"additionalFields\":{}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"e8f0a561-cc7a-4302-83dc-8c4a407b9b53\",\"name\":\"Create Person\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3180,100],\"parameters\":{\"name\":\"={{ $node[\\\"Set\\\"].json[\\\"name\\\"] }}\",\"resource\":\"person\",\"additionalFields\":{\"email\":[\"={{ $node[\\\"Set\\\"].json[\\\"email\\\"] }}\"],\"org_id\":\"={{ $json[\\\"id\\\"] }}\",\"customProperties\":{\"property\":[{\"name\":\"0bf0c49725830779ff146f5a087853d959dee064\",\"value\":\"LinkedIn_Ad\"}]}}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"7c038ae1-030e-4047-b4af-d13333ed14af\",\"name\":\"Create Lead\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3380,100],\"parameters\":{\"title\":\"={{$node[\\\"Set\\\"].json[\\\"company\\\"]}} lead\",\"resource\":\"lead\",\"organization_id\":\"={{$node[\\\"Create Organization\\\"].json.id}}\",\"additionalFields\":{\"owner_id\":12672788,\"person_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1},{\"id\":\"46a433d1-0248-4208-89d2-747644e1face\",\"name\":\"Create Note\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[3580,100],\"parameters\":{\"content\":\"=\\nCompany Size:\\n{{$node[\\\"Set\\\"].json[\\\"employees\\\"]}}\",\"resource\":\"note\",\"additionalFields\":{\"lead_id\":\"={{$json.id}}\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"22\",\"name\":\"n8n Production\"}},\"typeVersion\":1}],\"connections\":{\"IF\":{\"main\":[[{\"node\":\"Pipedrive1\",\"type\":\"main\",\"index\":0}]]},\"Set\":{\"main\":[[{\"node\":\"Create Organization\",\"type\":\"main\",\"index\":0}]]},\"Merge\":{\"main\":[[{\"node\":\"Set\",\"type\":\"main\",\"index\":0}]]},\"Pipedrive\":{\"main\":[[{\"node\":\"IF\",\"type\":\"main\",\"index\":0}]]},\"Pipedrive1\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]},\"Create Lead\":{\"main\":[[{\"node\":\"Create Note\",\"type\":\"main\",\"index\":0}]]},\"Google Drive\":{\"main\":[[{\"node\":\"Spreadsheet File\",\"type\":\"main\",\"index\":0}]]},\"Create Person\":{\"main\":[[{\"node\":\"Create Lead\",\"type\":\"main\",\"index\":0}]]},\"Spreadsheet File\":{\"main\":[[{\"node\":\"Pipedrive\",\"type\":\"main\",\"index\":0},{\"node\":\"Merge\",\"type\":\"main\",\"index\":0}]]},\"Create Organization\":{\"main\":[[{\"node\":\"Create Person\",\"type\":\"main\",\"index\":0}]]},\"Google Drive Trigger\":{\"main\":[[{\"node\":\"Google Drive\",\"type\":\"main\",\"index\":0}]]}}}"
}