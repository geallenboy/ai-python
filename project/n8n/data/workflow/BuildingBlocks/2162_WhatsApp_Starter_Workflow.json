{
  "title": "WhatsApp Starter Workflow",
  "url": "https://n8n.io/workflows/2162-whatsapp-starter-workflow/",
  "category": "BuildingBlocks",
  "category_url": "https://n8n.io/workflows/categories/building-blocks/?sort=createdAt:desc",
  "author": "Yulia",
  "publish_date": "Last update a year ago",
  "publish_date_absolute": "",
  "content": "",
  "workflow_json": "{\"id\":\"yxv7OYbDEnqsqfa9\",\"meta\":{\"instanceId\":\"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\"},\"name\":\"WhatsApp starter workflow\",\"tags\":[],\"nodes\":[{\"id\":\"9b385dfe-fa67-4c2c-83df-e3e02c0ff796\",\"name\":\"Verify\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[700,180],\"webhookId\":\"793f285b-9da7-4a5e-97ce-f0976c113db5\",\"parameters\":{\"path\":\"1fea1f5f-81c0-48ad-ae13-41e0f8e474ed\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":1.1},{\"id\":\"676efc61-c875-4675-a843-20f98ef1a642\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[920,180],\"parameters\":{\"options\":{},\"respondWith\":\"text\",\"responseBody\":\"={{ $json.query['hub.challenge'] }}\"},\"typeVersion\":1},{\"id\":\"8dd6d094-415c-40d7-ad2b-4ed9f2d23232\",\"name\":\"Echo the message back\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[1140,540],\"parameters\":{\"textBody\":\"=Echo back: {{ $json.body.entry[0].changes[0].value.messages[0].text.body }}\",\"operation\":\"send\",\"phoneNumberId\":\"244242975437240\",\"additionalFields\":{},\"recipientPhoneNumber\":\"={{ $json.body.entry[0].changes[0].value.messages[0].from }}\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"dy22WXWn0Xz4WRby\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"cd9e2cfd-9589-4390-95fd-f0bc3960d60c\",\"name\":\"Is message?\",\"type\":\"n8n-nodes-base.if\",\"position\":[920,540],\"parameters\":{\"options\":{\"looseTypeValidation\":true},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8a765e57-8e39-4547-a99a-0458df2b75f4\",\"operator\":{\"type\":\"object\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.body.entry[0].changes[0].value.messages[0] }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"20939289-3c4f-467a-b0e9-bf7e6d42cc18\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,46],\"parameters\":{\"width\":618,\"height\":272,\"content\":\"## Verify Webhook\\n* Go to your [Meta for Developers App page](https://developers.facebook.com/apps/), navigate to the App settings\\n* Add a **production webhook URL** as a new Callback URL\\n* *Verify* webhook receives a GET Request and sends back a verification code\\n\"},\"typeVersion\":1},{\"id\":\"36ffeb5b-165a-4723-8250-a4feb9123140\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,360],\"parameters\":{\"width\":619,\"height\":343,\"content\":\"## Main flow\\n* *Respond* webhook receives various POST Requests from Meta regarding WhatsApp messages (user messages + status notifications)\\n* Check if the incoming JSON contains user message\\n* Echo back the text message to the user. This is a custom message, not a WhatsApp Business template message\"},\"typeVersion\":1},{\"id\":\"aa234bca-c8db-43c6-9aeb-02aef6a084e5\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[240,260],\"parameters\":{\"color\":3,\"width\":405,\"height\":177,\"content\":\"## Important!\\n### Configure the webhook nodes this way:\\n* Make sure that both *Verify* and *Respond* have the same URL\\n* *Verify* should have GET HTTP Method\\n* *Respond* should have POST HTTP Method\"},\"typeVersion\":1},{\"id\":\"2370b81a-0721-42fd-8893-e3ee02e20278\",\"name\":\"Respond\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[700,540],\"webhookId\":\"c4cbc1c4-e1f5-4ea5-bd9a-c5f697493985\",\"parameters\":{\"path\":\"1fea1f5f-81c0-48ad-ae13-41e0f8e474ed\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1.1}],\"active\":true,\"pinData\":{},\"settings\":{\"callerPolicy\":\"workflowsFromSameOwner\",\"executionOrder\":\"v1\",\"saveManualExecutions\":true,\"saveDataSuccessExecution\":\"all\"},\"versionId\":\"0d254e91-2ad0-4f38-97d5-fec5057043ea\",\"connections\":{\"Verify\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]},\"Respond\":{\"main\":[[{\"node\":\"Is message?\",\"type\":\"main\",\"index\":0}]]},\"Is message?\":{\"main\":[[{\"node\":\"Echo the message back\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n workflow is designed for working with the WhatsApp Business platform. It allows to send custom replies via WhatsApp in response to incoming user messages.\n\n💡 Take a look at the step-by-step tutorial on [how to create a WhatsApp bot](https://blog.n8n.io/whatsapp-bot/).\n\nThe workflow consists of two parts:\n\n  1. The first Verify webhook sends back verification challenge string. You will need this part during the setup process on the Meta for Developers portal:\n\n\n\n![wf_explain.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain_96a3349e4e.png)\n\n  * Select your App\n  * Go to WhatsApp Configuration\n  * Click on the Edit button in the Webhook session\n  * Enter your production webhook URL, provide Verify token (can be any text string)\n  * Remember to activate the n8n workflow!\n  * Finally press \"Verify and save\"\n\n\n\n![wf_explain2.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain2_0b0a39a97f.png)\n\n  1. Once the webhook is verified, the Respond webhook receives various POST requests from Meta regarding WhatsApp messages (user messages and status notifications).\n\n\n\nThe workflow checks whether the incoming JSON contains a user message. If this is the case, it sends the text message back to the user. This is a custom message, not a WhatsApp Business template.\n",
  "readme_html": "<!--[--><div data-v-50766329=\"\"><p>This n8n workflow is designed for working with the WhatsApp Business platform. It allows to send custom replies via WhatsApp in response to incoming user messages.</p>\n<p>💡 Take a look at the step-by-step tutorial on <a href=\"https://blog.n8n.io/whatsapp-bot/\" rel=\"ugc nofollow\" target=\"_blank\">how to create a WhatsApp bot</a>.</p>\n<p>The workflow consists of two parts:</p>\n<ol>\n<li>The first Verify webhook sends back verification challenge string. You will need this part during the setup process on the Meta for Developers portal:</li>\n</ol>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain_96a3349e4e.png\" alt=\"wf_explain.png\"></p>\n<ul>\n<li>Select your App</li>\n<li>Go to WhatsApp Configuration</li>\n<li>Click on the Edit button in the Webhook session</li>\n<li>Enter your production webhook URL, provide Verify token (can be any text string)</li>\n<li>Remember to activate the n8n workflow!</li>\n<li>Finally press \"Verify and save\"</li>\n</ul>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain2_0b0a39a97f.png\" alt=\"wf_explain2.png\"></p>\n<ol>\n<li>Once the webhook is verified, the Respond webhook receives various POST requests from Meta regarding WhatsApp messages (user messages and status notifications).</li>\n</ol>\n<p>The workflow checks whether the incoming JSON contains a user message. If this is the case, it sends the text message back to the user. This is a custom message, not a WhatsApp Business template.</p>\n</div><!--]-->",
  "readme_zh": "此n8n工作流专为WhatsApp商业平台设计，可实现根据用户消息自动发送定制化回复。\n\n💡 查看分步教程了解[如何创建WhatsApp机器人](https://blog.n8n.io/whatsapp-bot/)。\n\n工作流包含两个部分：\n\n1. 首个验证Webhook会返回验证挑战字符串。在Meta开发者门户进行设置时需要此部分：\n\n![wf_explain.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain_96a3349e4e.png)\n\n* 选择您的应用\n* 进入WhatsApp配置\n* 点击Webhook会话中的编辑按钮\n* 输入生产环境Webhook URL，提供验证令牌（可为任意文本字符串）\n* 切记激活n8n工作流！\n* 最后点击\"验证并保存\"\n\n![wf_explain2.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/wf_explain2_0b0a39a97f.png)\n\n2. Webhook验证通过后，响应Webhook将接收来自Meta的各类POST请求（包括用户消息和状态通知）。\n\n工作流会检测传入JSON是否包含用户消息。若存在用户消息，则向用户返回文本回复。此为自定义消息，非WhatsApp商业模板。",
  "title_zh": "WhatsApp 启动工作流程",
  "publish_date_zh": "上次更新于一年前",
  "workflow_json_zh": "{\"id\":\"yxv7OYbDEnqsqfa9\",\"meta\":{\"instanceId\":\"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\"},\"name\":\"WhatsApp starter workflow\",\"tags\":[],\"nodes\":[{\"id\":\"9b385dfe-fa67-4c2c-83df-e3e02c0ff796\",\"name\":\"Verify\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[700,180],\"webhookId\":\"793f285b-9da7-4a5e-97ce-f0976c113db5\",\"parameters\":{\"path\":\"1fea1f5f-81c0-48ad-ae13-41e0f8e474ed\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":1.1},{\"id\":\"676efc61-c875-4675-a843-20f98ef1a642\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[920,180],\"parameters\":{\"options\":{},\"respondWith\":\"text\",\"responseBody\":\"={{ $json.query['hub.challenge'] }}\"},\"typeVersion\":1},{\"id\":\"8dd6d094-415c-40d7-ad2b-4ed9f2d23232\",\"name\":\"Echo the message back\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[1140,540],\"parameters\":{\"textBody\":\"=Echo back: {{ $json.body.entry[0].changes[0].value.messages[0].text.body }}\",\"operation\":\"send\",\"phoneNumberId\":\"244242975437240\",\"additionalFields\":{},\"recipientPhoneNumber\":\"={{ $json.body.entry[0].changes[0].value.messages[0].from }}\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"dy22WXWn0Xz4WRby\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"cd9e2cfd-9589-4390-95fd-f0bc3960d60c\",\"name\":\"Is message?\",\"type\":\"n8n-nodes-base.if\",\"position\":[920,540],\"parameters\":{\"options\":{\"looseTypeValidation\":true},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8a765e57-8e39-4547-a99a-0458df2b75f4\",\"operator\":{\"type\":\"object\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.body.entry[0].changes[0].value.messages[0] }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2},{\"id\":\"20939289-3c4f-467a-b0e9-bf7e6d42cc18\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,46],\"parameters\":{\"width\":618,\"height\":272,\"content\":\"## 验证Webhook\\n* 访问您的[Meta开发者应用页面](https://developers.facebook.com/apps/)，进入应用设置\\n* 添加**生产环境webhook URL**作为新的回调地址\\n* *验证*webhook是否收到GET请求并返回验证码\"},\"typeVersion\":1},{\"id\":\"36ffeb5b-165a-4723-8250-a4feb9123140\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,360],\"parameters\":{\"width\":619,\"height\":343,\"content\":\"## 主要流程\\n* *Respond* webhook接收来自Meta关于WhatsApp消息（用户消息+状态通知）的各种POST请求\\n* 检查传入的JSON是否包含用户消息\\n* 将文本消息原样返回给用户。此为自定义消息，非WhatsApp商务模板消息\"},\"typeVersion\":1},{\"id\":\"aa234bca-c8db-43c6-9aeb-02aef6a084e5\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[240,260],\"parameters\":{\"color\":3,\"width\":405,\"height\":177,\"content\":\"## 重要提示！\\n### 请按以下方式配置Webhook节点：\\n* 确保*验证*和*响应*使用相同的URL\\n* *验证*应设置为GET请求方法\\n* *响应*应设置为POST请求方法\"},\"typeVersion\":1},{\"id\":\"2370b81a-0721-42fd-8893-e3ee02e20278\",\"name\":\"Respond\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[700,540],\"webhookId\":\"c4cbc1c4-e1f5-4ea5-bd9a-c5f697493985\",\"parameters\":{\"path\":\"1fea1f5f-81c0-48ad-ae13-41e0f8e474ed\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":1.1}],\"active\":true,\"pinData\":{},\"settings\":{\"callerPolicy\":\"workflowsFromSameOwner\",\"executionOrder\":\"v1\",\"saveManualExecutions\":true,\"saveDataSuccessExecution\":\"all\"},\"versionId\":\"0d254e91-2ad0-4f38-97d5-fec5057043ea\",\"connections\":{\"Verify\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]},\"Respond\":{\"main\":[[{\"node\":\"Is message?\",\"type\":\"main\",\"index\":0}]]},\"Is message?\":{\"main\":[[{\"node\":\"Echo the message back\",\"type\":\"main\",\"index\":0}]]}}}"
}