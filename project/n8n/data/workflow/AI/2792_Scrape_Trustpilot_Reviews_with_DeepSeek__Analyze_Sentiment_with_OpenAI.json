{
  "title": "Scrape Trustpilot Reviews with DeepSeek, Analyze Sentiment with OpenAI",
  "url": "https://n8n.io/workflows/2792-scrape-trustpilot-reviews-with-deepseek-analyze-sentiment-with-openai/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Davide",
  "publish_date": "Last update 3 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"w434EiZ2z7klQAyp\",\"meta\":{\"instanceId\":\"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\"templateCredsSetupCompleted\":true},\"name\":\"Scrape Trustpilot Reviews with DeepSeek, Analyze Sentiment with OpenAI\",\"tags\":[{\"id\":\"2VG6RbmUdJ2VZbrj\",\"name\":\"Google Drive\",\"createdAt\":\"2024-12-04T16:50:56.177Z\",\"updatedAt\":\"2024-12-04T16:50:56.177Z\"},{\"id\":\"paTcf5QZDJsC2vKY\",\"name\":\"OpenAI\",\"createdAt\":\"2024-12-04T16:52:10.768Z\",\"updatedAt\":\"2024-12-04T16:52:10.768Z\"}],\"nodes\":[{\"id\":\"095a8e10-1630-4a1a-b6c9-7950ae1ed803\",\"name\":\"Split Out\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[320,-380],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"recensioni\"},\"typeVersion\":1},{\"id\":\"6ff4dd9d-eedd-4d84-b13a-b3c0db717409\",\"name\":\"Information Extractor\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[-440,140],\"parameters\":{\"text\":\"=You need to extract the review from the following HTML:  {{ $json.recensione }}\",\"options\":{\"systemPromptTemplate\":\"You are a review expert. You need to extract only the required information and report it without changing anything.\\nAll the required information is in the text.\"},\"attributes\":{\"attributes\":[{\"name\":\"autore\",\"required\":true,\"description\":\"Extract the name of the review author\"},{\"name\":\"valutazione\",\"type\":\"number\",\"required\":true,\"description\":\"Extract the rating given to the review (from 1 to 5)\"},{\"name\":\"data\",\"required\":true,\"description\":\"Extract review date in YYYY-MM-DD format\"},{\"name\":\"titolo\",\"required\":true,\"description\":\"Extract the review title\"},{\"name\":\"testo\",\"required\":true,\"description\":\"Extract the review text\"},{\"name\":\"n_recensioni\",\"type\":\"number\",\"required\":true,\"description\":\"Extract the total number of reviews made by the user\"},{\"name\":\"nazione\",\"required\":true,\"description\":\"Extract the country of the user who wrote the review. Must be two characters\"}]}},\"typeVersion\":1},{\"id\":\"0036f3b1-4832-4a35-8694-0893475a4119\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[60,-100],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ab666549-4eec-40e2-a702-0575c094a2d4\",\"operator\":{\"type\":\"string\",\"operation\":\"empty\",\"singleValue\":true},\"leftValue\":\"={{ $json.Valutazione }}\",\"rightValue\":\"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\"}]},\"looseTypeValidation\":true},\"executeOnce\":false,\"typeVersion\":2.2},{\"id\":\"5423b55d-eb6c-41c6-9b26-410e3c92b85d\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-700,-380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"506cdaa1-e0ba-4f29-b137-69d321b13c94\",\"name\":\"Limit1\",\"type\":\"n8n-nodes-base.limit\",\"position\":[540,-380],\"parameters\":{\"maxItems\":3},\"typeVersion\":1},{\"id\":\"40f1e30d-8aed-4995-b4e4-2239248bd6e7\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,-480],\"parameters\":{\"width\":212.25249169435213,\"height\":245.55481727574733,\"content\":\"Change to the name of the company registered on Trustpilot and the maximum number of pages to scrape\"},\"typeVersion\":1},{\"id\":\"e6d2fec1-7255-4270-86b4-6d6f39f44ccb\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,80],\"parameters\":{\"width\":381,\"height\":177,\"content\":\"Extract all information with DeepSeek (remember to change base_url with https://api.deepseek.com/v1)\"},\"typeVersion\":1},{\"id\":\"af5e962c-4faf-41cc-a8b8-2fbb145b7af6\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,-160],\"parameters\":{\"width\":501.28903654485043,\"height\":195.84053156146172,\"content\":\"Check if the review has already been saved to Google Drive\"},\"typeVersion\":1},{\"id\":\"400dff0c-8b2e-4fe2-933e-1f4d14624ca1\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,80],\"parameters\":{\"width\":301.27574750830576,\"height\":177.34219269102988,\"content\":\"Analyze review sentiment\"},\"typeVersion\":1},{\"id\":\"52757ade-4206-40f9-bf4f-c3aefb004d2e\",\"name\":\"Set Parameters\",\"type\":\"n8n-nodes-base.set\",\"position\":[-440,-380],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"556e201d-242a-4c0e-bc13-787c2b60f800\",\"name\":\"company_id\",\"type\":\"string\",\"value\":\"COMPANY\"},{\"id\":\"a1f239df-df08-41d8-8b78-d6502266a581\",\"name\":\"max_page\",\"type\":\"number\",\"value\":2}]}},\"typeVersion\":3.4},{\"id\":\"cd7e9d36-7ecd-4d9c-b552-8f46b0cfcc03\",\"name\":\"Get reviews\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-200,-380],\"parameters\":{\"url\":\"=https://it.trustpilot.com/review/{{ $json.company_id }}\",\"options\":{\"pagination\":{\"pagination\":{\"parameters\":{\"parameters\":[{\"name\":\"page\",\"value\":\"={{ $pageCount + 1 }}\"}]},\"maxRequests\":\"={{ $json.max_page }}\",\"requestInterval\":5000,\"limitPagesFetched\":true}}},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"sort\",\"value\":\"recency\"}]}},\"typeVersion\":4.2},{\"id\":\"476ff7b6-ab30-4674-a7fe-b032128ee51a\",\"name\":\"Extract\",\"type\":\"n8n-nodes-base.html\",\"position\":[60,-380],\"parameters\":{\"options\":{},\"operation\":\"extractHtmlContent\",\"extractionValues\":{\"values\":[{\"key\":\"recensioni\",\"attribute\":\"href\",\"cssSelector\":\"article section a\",\"returnArray\":true,\"returnValue\":\"attribute\"}]}},\"typeVersion\":1.2},{\"id\":\"a2a35455-7d3e-4c4c-aa66-6cbbd48d867a\",\"name\":\"Get rows\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-200,-100],\"parameters\":{\"options\":{},\"filtersUI\":{\"values\":[{\"lookupValue\":\"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\",\"lookupColumn\":\"Id\"}]},\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Foglio1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Trustpilot Review\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"JYR6a64Qecd6t8Hb\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"2d507fe6-a4fc-42ff-97ff-dfd552c651ab\",\"name\":\"Get Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-440,-100],\"parameters\":{\"columns\":{\"value\":{\"Id\":\"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\"},\"schema\":[{\"id\":\"Id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Data\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Data\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Nome\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Nome\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Titolo\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Titolo\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Testo\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Testo\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Località\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Località\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"N. Recensioni\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"N. Recensioni\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"URL\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Valutazione\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Valutazione\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Sentiment\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Sentiment\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"Id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Foglio1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Trustpilot Reviews\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"JYR6a64Qecd6t8Hb\",\"name\":\"Google Sheets account\"}},\"executeOnce\":false,\"typeVersion\":4.5},{\"id\":\"0a1fab6e-96b7-403b-884e-f67be6e23fa5\",\"name\":\"Get Single review\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[320,-120],\"parameters\":{\"url\":\"=https://it.trustpilot.com{{ $('Split Out').item.json.recensioni }}\",\"options\":{}},\"typeVersion\":4.2,\"alwaysOutputData\":false},{\"id\":\"7d322d76-1032-405a-9d46-2958761a184d\",\"name\":\"Extract review\",\"type\":\"n8n-nodes-base.html\",\"position\":[540,-120],\"parameters\":{\"options\":{},\"operation\":\"extractHtmlContent\",\"extractionValues\":{\"values\":[{\"key\":\"recensione\",\"cssSelector\":\"article\",\"returnArray\":true}]}},\"typeVersion\":1.2},{\"id\":\"952484e5-8e87-4eb3-99a6-5bf26c701ba8\",\"name\":\"Update sheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[520,120],\"parameters\":{\"columns\":{\"value\":{\"Id\":\"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\",\"URL\":\"=https://it.trustpilot.com{{ $('Split Out').item.json.recensioni }}\",\"Data\":\"={{ $('Information Extractor').item.json.output.data }}\",\"Nome\":\"={{ $json.output.autore }}\",\"Testo\":\"={{ $('Information Extractor').item.json.output.testo }}\",\"Titolo\":\"={{ $('Information Extractor').item.json.output.titolo }}\",\"Località\":\"={{ $('Information Extractor').item.json.output.nazione }}\",\"Sentiment\":\"={{ $json.sentimentAnalysis.category }}\",\"Valutazione\":\"={{ $('Information Extractor').item.json.output.valutazione }}\",\"N. Recensioni\":\"={{ $('Information Extractor').item.json.output.n_recensioni }}\"},\"schema\":[{\"id\":\"Id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Data\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Data\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Nome\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Nome\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Titolo\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Titolo\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Testo\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Testo\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Località\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Località\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"N. Recensioni\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"N. Recensioni\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"URL\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Valutazione\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Valutazione\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Sentiment\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Sentiment\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"Id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"appendOrUpdate\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Foglio1\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\"cachedResultUrl\":\"\",\"cachedResultName\":\"Trustpilot Reviews\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"JYR6a64Qecd6t8Hb\",\"name\":\"Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"eb853885-816d-4df7-b5ac-900fa89d3df9\",\"name\":\"Sentiment Analysis\",\"type\":\"@n8n/n8n-nodes-langchain.sentimentAnalysis\",\"position\":[60,140],\"parameters\":{\"options\":{\"categories\":\"Positive, Neutral, Negative\",\"systemPromptTemplate\":\"You are highly intelligent and accurate sentiment analyzer. Analyze the sentiment of the provided text. Categorize it into one of the following: {categories}. Use the provided formatting instructions. Only output the JSON.\"},\"inputText\":\"={{ $json.output.testo }}\"},\"typeVersion\":1},{\"id\":\"79f1b9ea-6297-4735-9c0f-9f28dd65efa0\",\"name\":\"DeepSeek Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-460,320],\"parameters\":{\"model\":\"deepseek-reasoner\",\"options\":{\"baseURL\":\"https://api.deepseek.com/v1\"}},\"credentials\":{\"openAiApi\":{\"id\":\"97Cz4cqyiy1RdcQL\",\"name\":\"DeepSeek\"}},\"typeVersion\":1},{\"id\":\"159cc88e-1dd3-4bba-a3c8-59a9aad14c88\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[40,320],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"CDX6QM4gLYanh0P4\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"43c8ee74-159c-4217-9cb4-554c63a3b183\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"Get Single review\",\"type\":\"main\",\"index\":0}]]},\"Limit1\":{\"main\":[[{\"node\":\"Get Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Extract\":{\"main\":[[{\"node\":\"Split Out\",\"type\":\"main\",\"index\":0}]]},\"Get rows\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Split Out\":{\"main\":[[{\"node\":\"Limit1\",\"type\":\"main\",\"index\":0}]]},\"Get reviews\":{\"main\":[[{\"node\":\"Extract\",\"type\":\"main\",\"index\":0}]]},\"Extract review\":{\"main\":[[{\"node\":\"Information Extractor\",\"type\":\"main\",\"index\":0}]]},\"Set Parameters\":{\"main\":[[{\"node\":\"Get reviews\",\"type\":\"main\",\"index\":0}]]},\"Get Google Sheets\":{\"main\":[[{\"node\":\"Get rows\",\"type\":\"main\",\"index\":0}]]},\"Get Single review\":{\"main\":[[{\"node\":\"Extract review\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Sentiment Analysis\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Sentiment Analysis\":{\"main\":[[{\"node\":\"Update sheet\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Update sheet\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Update sheet\",\"type\":\"main\",\"index\":0}]]},\"DeepSeek Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Information Extractor\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Information Extractor\":{\"main\":[[{\"node\":\"Sentiment Analysis\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Set Parameters\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### **Workflow Overview**\n\nThis workflow automates the process of **scraping Trustpilot reviews** , extracting key details, analyzing sentiment, and saving the results to **Google Sheets**. It uses **OpenAI** for sentiment analysis and **HTML parsing** for review extraction.\n\n* * *\n\n### **How It Works**\n\n#### **1\\. Scrape Trustpilot Reviews**\n\n  * **HTTP Request** : \n    * Fetches review pages from Trustpilot (`https://it.trustpilot.com/review/{{company_id}}`).\n    * Paginates through pages (up to `max_page` limit).\n  * **HTML Parsing** : \n    * Extracts review URLs using CSS selectors\n    * Splits the URLs into individual review links.\n\n\n\n#### **2\\. Extract Review Details**\n\n  * **Information Extractor** : \n    * Uses DeepSeek to extract structured data from the review: \n      * **Author** : Name of the reviewer.\n      * **Rating** : Numeric rating (1-5).\n      * **Date** : Review date in `YYYY-MM-DD` format.\n      * **Title** : Review title.\n      * **Text** : Full review text.\n      * **Total Reviews** : Number of reviews by the user.\n      * **Country** : Reviewer’s country (2-letter code).\n\n\n\n#### **3\\. Sentiment Analysis**\n\n  * **Sentiment Analysis Node** : \n    * Uses OpenAI to classify the review text as **Positive** , **Neutral** , or **Negative**.\n    * Example output:\n          \n          {  \n            \"category\": \"Positive\",  \n            \"confidence\": 0.95  \n          }  \n          \n\n\n\n\n#### **4\\. Save to Google Sheets**\n\n  * **Google Sheets Node** : \n    * Appends or updates the extracted data to a Google Sheet\n\n\n\n* * *\n\n### **Set Up Steps**\n\n#### **1\\. Configure Trustpilot Scraping**\n\n  * **Edit Fields1 Node** : \n    * Set `company_id` to the Trustpilot company name\n    * Set `max_page` to limit the number of pages scraped.\n\n\n\n#### **2\\. Configure Google Sheets**\n\n  * **Google Sheets Node** : \n    * Update the `documentId` with your Google Sheet ID\n    * Ensure the sheet has the required columns (`Id`, `Data`, `Nome`, etc.).\n\n\n\n#### **3\\. Configure OpenAI**\n\n  * **OpenAI Chat Model Node** : \n    * Add your OpenAI API key.\n  * **Sentiment Analysis Node** : \n    * Ensure the `categories` match your desired sentiment labels (`Positive, Neutral, Negative`).\n\n\n\n* * *\n\n### **Key Components**\n\n  * **Nodes** : \n    * **HTTP Request/HTML** : Scrape and parse Trustpilot reviews.\n    * **Information Extractor** : Extract structured review data using DeepSeek.\n    * **Sentiment Analysis** : Classify review sentiment.\n    * **Google Sheets** : Save and update review data.\n  * **Credentials** : \n    * OpenAI API key.\n    * DeepSeek API key.\n    * Google Sheets OAuth2.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h3><strong>Workflow Overview</strong></h3>\n<p>This workflow automates the process of <strong>scraping Trustpilot reviews</strong>, extracting key details, analyzing sentiment, and saving the results to <strong>Google Sheets</strong>. It uses <strong>OpenAI</strong> for sentiment analysis and <strong>HTML parsing</strong> for review extraction.</p>\n<hr>\n<h3><strong>How It Works</strong></h3>\n<h4><strong>1. Scrape Trustpilot Reviews</strong></h4>\n<ul>\n<li><strong>HTTP Request</strong>:\n<ul>\n<li>Fetches review pages from Trustpilot (<code>https://it.trustpilot.com/review/{{company_id}}</code>).</li>\n<li>Paginates through pages (up to <code>max_page</code> limit).</li>\n</ul>\n</li>\n<li><strong>HTML Parsing</strong>:\n<ul>\n<li>Extracts review URLs using CSS selectors</li>\n<li>Splits the URLs into individual review links.</li>\n</ul>\n</li>\n</ul>\n<h4><strong>2. Extract Review Details</strong></h4>\n<ul>\n<li><strong>Information Extractor</strong>:\n<ul>\n<li>Uses DeepSeek to extract structured data from the review:\n<ul>\n<li><strong>Author</strong>: Name of the reviewer.</li>\n<li><strong>Rating</strong>: Numeric rating (1-5).</li>\n<li><strong>Date</strong>: Review date in <code>YYYY-MM-DD</code> format.</li>\n<li><strong>Title</strong>: Review title.</li>\n<li><strong>Text</strong>: Full review text.</li>\n<li><strong>Total Reviews</strong>: Number of reviews by the user.</li>\n<li><strong>Country</strong>: Reviewer’s country (2-letter code).</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><strong>3. Sentiment Analysis</strong></h4>\n<ul>\n<li><strong>Sentiment Analysis Node</strong>:\n<ul>\n<li>Uses OpenAI to classify the review text as <strong>Positive</strong>, <strong>Neutral</strong>, or <strong>Negative</strong>.</li>\n<li>Example output:<pre><code>{  \n  \"category\": \"Positive\",  \n  \"confidence\": 0.95  \n}  \n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h4><strong>4. Save to Google Sheets</strong></h4>\n<ul>\n<li><strong>Google Sheets Node</strong>:\n<ul>\n<li>Appends or updates the extracted data to a Google Sheet</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>Set Up Steps</strong></h3>\n<h4><strong>1. Configure Trustpilot Scraping</strong></h4>\n<ul>\n<li><strong>Edit Fields1 Node</strong>:\n<ul>\n<li>Set <code>company_id</code> to the Trustpilot company name</li>\n<li>Set <code>max_page</code> to limit the number of pages scraped.</li>\n</ul>\n</li>\n</ul>\n<h4><strong>2. Configure Google Sheets</strong></h4>\n<ul>\n<li><strong>Google Sheets Node</strong>:\n<ul>\n<li>Update the <code>documentId</code> with your Google Sheet ID</li>\n<li>Ensure the sheet has the required columns (<code>Id</code>, <code>Data</code>, <code>Nome</code>, etc.).</li>\n</ul>\n</li>\n</ul>\n<h4><strong>3. Configure OpenAI</strong></h4>\n<ul>\n<li><strong>OpenAI Chat Model Node</strong>:\n<ul>\n<li>Add your OpenAI API key.</li>\n</ul>\n</li>\n<li><strong>Sentiment Analysis Node</strong>:\n<ul>\n<li>Ensure the <code>categories</code> match your desired sentiment labels (<code>Positive, Neutral, Negative</code>).</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>Key Components</strong></h3>\n<ul>\n<li><strong>Nodes</strong>:\n<ul>\n<li><strong>HTTP Request/HTML</strong>: Scrape and parse Trustpilot reviews.</li>\n<li><strong>Information Extractor</strong>: Extract structured review data using DeepSeek.</li>\n<li><strong>Sentiment Analysis</strong>: Classify review sentiment.</li>\n<li><strong>Google Sheets</strong>: Save and update review data.</li>\n</ul>\n</li>\n<li><strong>Credentials</strong>:\n<ul>\n<li>OpenAI API key.</li>\n<li>DeepSeek API key.</li>\n<li>Google Sheets OAuth2.</li>\n</ul>\n</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### **工作流程概述**\n\n该工作流程自动化了**抓取Trustpilot评论**、提取关键信息、分析情感并将结果保存至**Google表格**的全过程。它利用**OpenAI**进行情感分析，并通过**HTML解析**提取评论内容。\n\n* * *\n\n### **工作原理**\n\n#### **1\\. 抓取Trustpilot评论**\n\n  * **HTTP请求**： \n    * 从Trustpilot获取评论页面（`https://it.trustpilot.com/review/{{company_id}}`）。\n    * 分页遍历（最多`max_page`页）。\n  * **HTML解析**： \n    * 使用CSS选择器提取评论URL。\n    * 将URL拆分为单独的评论链接。",
  "title_zh": "利用DeepSeek抓取Trustpilot评论，通过OpenAI进行情感分析",
  "publish_date_absolute": "2025-01-30",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\n  \"id\": \"w434EiZ2z7klQAyp\",\n  \"meta\": {\n    \"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Scrape Trustpilot Reviews with DeepSeek, Analyze Sentiment with OpenAI\",\n  \"tags\": [\n    {\n      \"id\": \"2VG6RbmUdJ2VZbrj\",\n      \"name\": \"Google Drive\",\n      \"createdAt\": \"2024-12-04T16:50:56.177Z\",\n      \"updatedAt\": \"2024-12-04T16:50:56.177Z\"\n    },\n    {\n      \"id\": \"paTcf5QZDJsC2vKY\",\n      \"name\": \"OpenAI\",\n      \"createdAt\": \"2024-12-04T16:52:10.768Z\",\n      \"updatedAt\": \"2024-12-04T16:52:10.768Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"095a8e10-1630-4a1a-b6c9-7950ae1ed803\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        320,\n        -380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"recensioni\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6ff4dd9d-eedd-4d84-b13a-b3c0db717409\",\n      \"name\": \"Information Extractor\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        -440,\n        140\n      ],\n      \"parameters\": {\n        \"text\": \"=You need to extract the review from the following HTML:  {{ $json.recensione }}\",\n        \"options\": {\n          \"systemPromptTemplate\": \"You are a review expert. You need to extract only the required information and report it without changing anything.\\nAll the required information is in the text.\"\n        },\n        \"attributes\": {\n          \"attributes\": [\n            {\n              \"name\": \"autore\",\n              \"required\": true,\n              \"description\": \"Extract the name of the review author\"\n            },\n            {\n              \"name\": \"valutazione\",\n              \"type\": \"number\",\n              \"required\": true,\n              \"description\": \"Extract the rating given to the review (from 1 to 5)\"\n            },\n            {\n              \"name\": \"data\",\n              \"required\": true,\n              \"description\": \"Extract review date in YYYY-MM-DD format\"\n            },\n            {\n              \"name\": \"titolo\",\n              \"required\": true,\n              \"description\": \"Extract the review title\"\n            },\n            {\n              \"name\": \"testo\",\n              \"required\": true,\n              \"description\": \"Extract the review text\"\n            },\n            {\n              \"name\": \"n_recensioni\",\n              \"type\": \"number\",\n              \"required\": true,\n              \"description\": \"Extract the total number of reviews made by the user\"\n            },\n            {\n              \"name\": \"nazione\",\n              \"required\": true,\n              \"description\": \"Extract the country of the user who wrote the review. Must be two characters\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0036f3b1-4832-4a35-8694-0893475a4119\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        60,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"loose\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"ab666549-4eec-40e2-a702-0575c094a2d4\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.Valutazione }}\",\n              \"rightValue\": \"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\"\n            }\n          ]\n        },\n        \"looseTypeValidation\": true\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"5423b55d-eb6c-41c6-9b26-410e3c92b85d\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -700,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"506cdaa1-e0ba-4f29-b137-69d321b13c94\",\n      \"name\": \"Limit1\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        540,\n        -380\n      ],\n      \"parameters\": {\n        \"maxItems\": 3\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"40f1e30d-8aed-4995-b4e4-2239248bd6e7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        -480\n      ],\n      \"parameters\": {\n        \"width\": 212.25249169435213,\n        \"height\": 245.55481727574733,\n        \"content\": \"更改为Trustpilot上注册的公司名称以及要抓取的最大页面数\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e6d2fec1-7255-4270-86b4-6d6f39f44ccb\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 381,\n        \"height\": 177,\n        \"content\": \"使用DeepSeek提取所有信息（记得将base_url更改为https://api.deepseek.com/v1）\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af5e962c-4faf-41cc-a8b8-2fbb145b7af6\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        -160\n      ],\n      \"parameters\": {\n        \"width\": 501.28903654485043,\n        \"height\": 195.84053156146172,\n        \"content\": \"检查评论是否已保存至Google Drive\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"400dff0c-8b2e-4fe2-933e-1f4d14624ca1\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 301.27574750830576,\n        \"height\": 177.34219269102988,\n        \"content\": \"分析评论情感\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"52757ade-4206-40f9-bf4f-c3aefb004d2e\",\n      \"name\": \"Set Parameters\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -440,\n        -380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"556e201d-242a-4c0e-bc13-787c2b60f800\",\n              \"name\": \"company_id\",\n              \"type\": \"string\",\n              \"value\": \"COMPANY\"\n            },\n            {\n              \"id\": \"a1f239df-df08-41d8-8b78-d6502266a581\",\n              \"name\": \"max_page\",\n              \"type\": \"number\",\n              \"value\": 2\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"cd7e9d36-7ecd-4d9c-b552-8f46b0cfcc03\",\n      \"name\": \"Get reviews\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -200,\n        -380\n      ],\n      \"parameters\": {\n        \"url\": \"=https://it.trustpilot.com/review/{{ $json.company_id }}\",\n        \"options\": {\n          \"pagination\": {\n            \"pagination\": {\n              \"parameters\": {\n                \"parameters\": [\n                  {\n                    \"name\": \"page\",\n                    \"value\": \"={{ $pageCount + 1 }}\"\n                  }\n                ]\n              },\n              \"maxRequests\": \"={{ $json.max_page }}\",\n              \"requestInterval\": 5000,\n              \"limitPagesFetched\": true\n            }\n          }\n        },\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"sort\",\n              \"value\": \"recency\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"476ff7b6-ab30-4674-a7fe-b032128ee51a\",\n      \"name\": \"Extract\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        60,\n        -380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"recensioni\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"article section a\",\n              \"returnArray\": true,\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"a2a35455-7d3e-4c4c-aa66-6cbbd48d867a\",\n      \"name\": \"Get rows\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -200,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupValue\": \"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\",\n              \"lookupColumn\": \"Id\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Foglio1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Trustpilot Review\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"2d507fe6-a4fc-42ff-97ff-dfd552c651ab\",\n      \"name\": \"Get Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -440,\n        -100\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Id\": \"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Data\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Data\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Nome\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Nome\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Titolo\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Titolo\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Testo\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Testo\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Località\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Località\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"N. Recensioni\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"N. Recensioni\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Valutazione\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Valutazione\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Sentiment\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"Id\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Foglio1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Trustpilot Reviews\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"0a1fab6e-96b7-403b-884e-f67be6e23fa5\",\n      \"name\": \"Get Single review\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        320,\n        -120\n      ],\n      \"parameters\": {\n        \"url\": \"=https://it.trustpilot.com{{ $('Split Out').item.json.recensioni }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"7d322d76-1032-405a-9d46-2958761a184d\",\n      \"name\": \"Extract review\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        540,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"recensione\",\n              \"cssSelector\": \"article\",\n              \"returnArray\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"952484e5-8e87-4eb3-99a6-5bf26c701ba8\",\n      \"name\": \"Update sheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        520,\n        120\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Id\": \"={{ $('Split Out').item.json.recensioni.replace('/reviews/','') }}\",\n            \"URL\": \"=https://it.trustpilot.com{{ $('Split Out').item.json.recensioni }}\",\n            \"Data\": \"={{ $('Information Extractor').item.json.output.data }}\",\n            \"Nome\": \"={{ $json.output.autore }}\",\n            \"Testo\": \"={{ $('Information Extractor').item.json.output.testo }}\",\n            \"Titolo\": \"={{ $('Information Extractor').item.json.output.titolo }}\",\n            \"Località\": \"={{ $('Information Extractor').item.json.output.nazione }}\",\n            \"Sentiment\": \"={{ $json.sentimentAnalysis.category }}\",\n            \"Valutazione\": \"={{ $('Information Extractor').item.json.output.valutazione }}\",\n            \"N. Recensioni\": \"={{ $('Information Extractor').item.json.output.n_recensioni }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Data\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Data\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Nome\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Nome\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Titolo\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Titolo\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Testo\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Testo\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Località\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Località\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"N. Recensioni\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"N. Recensioni\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Valutazione\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Valutazione\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Sentiment\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"Id\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Foglio1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1QZhQqg79-HVBQh8Y2ihMq67UIYIRrJFKLQalcFvtDaY\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"Trustpilot Reviews\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"eb853885-816d-4df7-b5ac-900fa89d3df9\",\n      \"name\": \"Sentiment Analysis\",\n      \"type\": \"@n8n/n8n-nodes-langchain.sentimentAnalysis\",\n      \"position\": [\n        60,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"categories\": \"Positive, Neutral, Negative\",\n          \"systemPromptTemplate\": \"You are highly intelligent and accurate sentiment analyzer. Analyze the sentiment of the provided text. Categorize it into one of the following: {categories}. Use the provided formatting instructions. Only output the JSON.\"\n        },\n        \"inputText\": \"={{ $json.output.testo }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"79f1b9ea-6297-4735-9c0f-9f28dd65efa0\",\n      \"name\": \"DeepSeek Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -460,\n        320\n      ],\n      \"parameters\": {\n        \"model\": \"deepseek-reasoner\",\n        \"options\": {\n          \"baseURL\": \"https://api.deepseek.com/v1\"\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"97Cz4cqyiy1RdcQL\",\n          \"name\": \"DeepSeek\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"159cc88e-1dd3-4bba-a3c8-59a9aad14c88\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        40,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"43c8ee74-159c-4217-9cb4-554c63a3b183\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Single review\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get rows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get reviews\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract review\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Parameters\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get reviews\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get rows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Single review\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract review\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Sentiment Analysis\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sentiment Analysis\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"DeepSeek Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Information Extractor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sentiment Analysis\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Parameters\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}