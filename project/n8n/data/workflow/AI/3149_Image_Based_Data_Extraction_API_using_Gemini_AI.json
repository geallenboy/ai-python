{
  "title": "Image-Based Data Extraction API using Gemini AI",
  "url": "https://n8n.io/workflows/3149-image-based-data-extraction-api-using-gemini-ai/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Srinivasan KB",
  "publish_date": "Last update 2 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"YKZBEx4DTf0KGEBR\",\"meta\":{\"instanceId\":\"f5267db717c7383a3924a6083f6b9950be64cf36e2b4e9421d42eb2121922a14\"},\"name\":\"Image-Based Data Extraction API using Gemini AI\",\"tags\":[],\"nodes\":[{\"id\":\"e3448003-5c62-4da6-8fcc-6817915dcbb8\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[40,40],\"webhookId\":\"18118afb-7fd2-47a5-a474-50813c5b20c8\",\"parameters\":{\"path\":\"data-extractor\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"3682c6bf-3442-4fba-ab6c-ae29e361ef93\",\"name\":\"Respond to Webhook\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[1180,40],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"bfa352d0-68a9-4f33-be54-254a5df22664\",\"name\":\"Get image from URL\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[280,40],\"parameters\":{\"url\":\"={{ $json.body.image_url }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"c6c8de12-08dc-42e8-9c0e-86e04c7cacc0\",\"name\":\"Call Gemini API (Flash Lite) with Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[760,40],\"parameters\":{\"url\":\"=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"contents\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"parts\\\": [\\n        {\\n          \\\"inlineData\\\": {\\n            \\\"data\\\": \\\"{{$json.data1}}\\\",\\n            \\\"mimeType\\\": \\\"image/jpeg\\\"\\n          }\\n        }\\n      ]\\n    },\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"parts\\\": [\\n        {\\n          \\\"text\\\": \\\"check this\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"systemInstruction\\\": {\\n    \\\"role\\\": \\\"user\\\",\\n    \\\"parts\\\": [\\n      {\\n        \\\"text\\\": \\\"{{ $('Webhook').first().json.body.Requirement}}\\\"\\n      }\\n    ]\\n  },\\n  \\\"generationConfig\\\": {\\n    \\\"temperature\\\": 1,\\n    \\\"topK\\\": 40,\\n    \\\"topP\\\": 0.95,\\n    \\\"maxOutputTokens\\\": 8192,\\n    \\\"responseMimeType\\\": \\\"application/json\\\",\\n    \\\"responseSchema\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {{ $('Webhook').first().json.body.properties.toJsonString()}}\\n    }\\n  }\\n}\\n\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"googlePalmApi\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"MhMVz0OkKPSPX2Wn\",\"name\":\"Gemini API Srinivasan Online\"}},\"typeVersion\":4.2},{\"id\":\"06b0f807-aeba-44d6-bb1d-dfa1d50e1082\",\"name\":\"Edit fields to output required data alone\",\"type\":\"n8n-nodes-base.set\",\"position\":[980,40],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"4a2f1343-4b5d-4de8-b04b-5640e0a38d27\",\"name\":\"result\",\"type\":\"string\",\"value\":\"={{ $json.candidates[0].content.parts[0].text.parseJson()}}\"}]}},\"typeVersion\":3.4},{\"id\":\"8c69dba2-f67c-4f8b-be18-02a414fd2ead\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,280],\"parameters\":{\"color\":5,\"width\":820,\"height\":420,\"content\":\"## Sample API Call (cURL) \\n```\\ncurl --request GET \\\\\\n  --url https://your_domain.com/webhook/data-extractor \\\\\\n  --data '{\\n  \\\"image_url\\\":\\\"https://www.immihelp.com/nri/images/sample-pan-card-front.jpg\\\",\\n  \\\"Requirement\\\":\\\"extract the details from the image\\\",\\n  \\\"properties\\\": {\\n        \\\"PAN Number\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Name\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Date of Birth\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Valid\\\": {\\n          \\\"type\\\": \\\"boolean\\\"\\n        }\\n      }\\n}'\\n```\"},\"typeVersion\":1},{\"id\":\"8839f0d7-306f-4dc2-aca5-6ca529e1a2ff\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,740],\"parameters\":{\"color\":5,\"width\":1240,\"height\":140,\"content\":\"## Sample Output\\n```\\n{\\n  \\\"result\\\": \\\"{\\\\\\\"Date of Birth\\\\\\\":\\\\\\\"23/11/1974\\\\\\\",\\\\\\\"Name\\\\\\\":\\\\\\\"RAHUL GUPTA\\\\\\\",\\\\\\\"PAN Number\\\\\\\":\\\\\\\"ABCDE1234F\\\\\\\",\\\\\\\"Valid\\\\\\\":true}\\\"\\n}\\n```\"},\"typeVersion\":1},{\"id\":\"df733e11-f194-4878-a514-47ddc9811281\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,-520],\"parameters\":{\"width\":940,\"height\":440,\"content\":\"## Convert the workflow into an Endpoint\\n\\nThis n8n workflow provides a ready-to-use API endpoint for extracting structured data from images. The API takes an image URL as input, processes it using an AI-powered OCR model, and returns relevant extracted details in a structured JSON format.\\n\\n- The workflow converts the image to base64 before processing.\\n- It utilizes an AI-powered model (Gemini API) for text extraction.\\n- The output is formatted to include only the required fields.\\n- You can customize the extraction criteria by modifying the request parameters.\\n- Supports integration with various applications for automated data entry and processing.\\n\\nIt can be used for various use cases, such as:\\n\\n- Document OCR (ID cards, invoices, receipts)\\n- Text Extraction from Images\\n- Automated Form Processing\\n- Business Card Data Extraction\\n\\nSimply send a GET request with an image URL, define the extraction requirements, and receive structured JSON data in response.\\n\\n\"},\"typeVersion\":1},{\"id\":\"aecf7331-6341-411e-8906-e42fc0ef264a\",\"name\":\"Transform image to base64\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[520,40],\"parameters\":{\"options\":{\"encoding\":\"ascii\"},\"operation\":\"binaryToPropery\",\"destinationKey\":\"data1\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"b1fad586-998c-47ce-9921-e59527da029a\",\"connections\":{\"Webhook\":{\"main\":[[{\"node\":\"Get image from URL\",\"type\":\"main\",\"index\":0}]]},\"Get image from URL\":{\"main\":[[{\"node\":\"Transform image to base64\",\"type\":\"main\",\"index\":0}]]},\"Transform image to base64\":{\"main\":[[{\"node\":\"Call Gemini API (Flash Lite) with Image\",\"type\":\"main\",\"index\":0}]]},\"Call Gemini API (Flash Lite) with Image\":{\"main\":[[{\"node\":\"Edit fields to output required data alone\",\"type\":\"main\",\"index\":0}]]},\"Edit fields to output required data alone\":{\"main\":[[{\"node\":\"Respond to Webhook\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n workflow provides a ready-to-use API endpoint for extracting structured data from images. It processes an image URL using an AI-powered OCR model and returns the extracted details in a structured JSON format.\n\n### **Use Cases**\n\n  * **Document OCR** – Extract details from ID cards, invoices, receipts, etc.\n  * **Text Extraction from Images** – Process screenshots, scanned documents, and photos.\n  * **Automated Form Processing** – Digitize and capture information from paper forms.\n  * **Business Card Data Extraction** – Extract names, emails, and phone numbers from business cards.\n\n\n\n## How It Works\n\n  1. Send a GET request with an image URL and define the required extraction parameters.\n  2. The image is converted to base64 for processing.\n  3. The AI model (Gemini API - Flash Lite) extracts relevant text.\n  4. The response returns structured JSON data containing only the requested fields.\n\n\n\n## Features\n\n✔️ **No-Code API Setup** – Easily integrate into any application.  \n✔️ **Customizable Extraction** – Modify the request parameters to fit your needs.  \n✔️ **AI-Powered OCR** – Uses advanced models for accurate text recognition.  \n✔️ **Automated Processing** – Ideal for document processing and digitization.\n\n## Integration\n\n  * Works with any frontend/backend system that supports API calls.\n  * Can be used for workflow automation in CRM, ERP, and document management solutions.\n  * Supports further customization based on specific OCR requirements.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This n8n workflow provides a ready-to-use API endpoint for extracting structured data from images. It processes an image URL using an AI-powered OCR model and returns the extracted details in a structured JSON format.</p>\n<h3><strong>Use Cases</strong></h3>\n<ul>\n<li><strong>Document OCR</strong> – Extract details from ID cards, invoices, receipts, etc.</li>\n<li><strong>Text Extraction from Images</strong> – Process screenshots, scanned documents, and photos.</li>\n<li><strong>Automated Form Processing</strong> – Digitize and capture information from paper forms.</li>\n<li><strong>Business Card Data Extraction</strong> – Extract names, emails, and phone numbers from business cards.</li>\n</ul>\n<h2>How It Works</h2>\n<ol>\n<li>Send a GET request with an image URL and define the required extraction parameters.</li>\n<li>The image is converted to base64 for processing.</li>\n<li>The AI model (Gemini API - Flash Lite) extracts relevant text.</li>\n<li>The response returns structured JSON data containing only the requested fields.</li>\n</ol>\n<h2>Features</h2>\n<p>✔️ <strong>No-Code API Setup</strong> – Easily integrate into any application.<br>\n✔️ <strong>Customizable Extraction</strong> – Modify the request parameters to fit your needs.<br>\n✔️ <strong>AI-Powered OCR</strong> – Uses advanced models for accurate text recognition.<br>\n✔️ <strong>Automated Processing</strong> – Ideal for document processing and digitization.</p>\n<h2>Integration</h2>\n<ul>\n<li>Works with any frontend/backend system that supports API calls.</li>\n<li>Can be used for workflow automation in CRM, ERP, and document management solutions.</li>\n<li>Supports further customization based on specific OCR requirements.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "该n8n工作流提供了一个开箱即用的API接口，用于从图像中提取结构化数据。它通过AI驱动的OCR模型处理图片URL，并以结构化JSON格式返回提取的详细信息。\n\n### **应用场景**\n\n  * **文档OCR** – 从身份证、发票、收据等文件中提取关键信息  \n  * **图像文本提取** – 处理截图、扫描文档及照片中的文字内容  \n  * **自动化表单处理** – 将纸质表格数字化并捕获信息  \n  * **名片数据提取** – 从商务名片中获取姓名、邮箱、电话号码等  \n\n## 工作原理\n\n  1. 发送携带图片URL的GET请求，并定义所需提取参数  \n  2. 图像将被转换为base64格式进行处理  \n  3. AI模型（Gemini API - Flash Lite）提取相关文本  \n  4. 响应返回仅包含目标字段的结构化JSON数据  \n\n## 核心特性\n\n✔️ **零代码API配置** – 轻松集成至任意应用系统  \n✔️ **可定制化提取** – 根据需求调整请求参数  \n✔️ **AI增强OCR** – 采用先进模型实现精准文字识别  \n✔️ **自动化处理** – 完美适配文档处理与数字化场景  \n\n## 集成方案\n\n  * 兼容所有支持API调用的前后端系统  \n  * 适用于CRM、ERP及文档管理解决方案的工作流自动化  \n  * 支持根据特定OCR需求进行深度定制",
  "title_zh": "基于Gemini AI的图片数据提取API",
  "publish_date_absolute": "2025-03-07",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"id\": \"YKZBEx4DTf0KGEBR\",\n  \"meta\": {\n    \"instanceId\": \"f5267db717c7383a3924a6083f6b9950be64cf36e2b4e9421d42eb2121922a14\"\n  },\n  \"name\": \"Image-Based Data Extraction API using Gemini AI\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"e3448003-5c62-4da6-8fcc-6817915dcbb8\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        40,\n        40\n      ],\n      \"webhookId\": \"18118afb-7fd2-47a5-a474-50813c5b20c8\",\n      \"parameters\": {\n        \"path\": \"data-extractor\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3682c6bf-3442-4fba-ab6c-ae29e361ef93\",\n      \"name\": \"Respond to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1180,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"bfa352d0-68a9-4f33-be54-254a5df22664\",\n      \"name\": \"Get image from URL\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        280,\n        40\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.body.image_url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"c6c8de12-08dc-42e8-9c0e-86e04c7cacc0\",\n      \"name\": \"Call Gemini API (Flash Lite) with Image\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        760,\n        40\n      ],\n      \"parameters\": {\n        \"url\": \"=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"contents\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"parts\\\": [\\n        {\\n          \\\"inlineData\\\": {\\n            \\\"data\\\": \\\"{{$json.data1}}\\\",\\n            \\\"mimeType\\\": \\\"image/jpeg\\\"\\n          }\\n        }\\n      ]\\n    },\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"parts\\\": [\\n        {\\n          \\\"text\\\": \\\"check this\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"systemInstruction\\\": {\\n    \\\"role\\\": \\\"user\\\",\\n    \\\"parts\\\": [\\n      {\\n        \\\"text\\\": \\\"{{ $('Webhook').first().json.body.Requirement}}\\\"\\n      }\\n    ]\\n  },\\n  \\\"generationConfig\\\": {\\n    \\\"temperature\\\": 1,\\n    \\\"topK\\\": 40,\\n    \\\"topP\\\": 0.95,\\n    \\\"maxOutputTokens\\\": 8192,\\n    \\\"responseMimeType\\\": \\\"application/json\\\",\\n    \\\"responseSchema\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {{ $('Webhook').first().json.body.properties.toJsonString()}}\\n    }\\n  }\\n}\\n\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"googlePalmApi\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"MhMVz0OkKPSPX2Wn\",\n          \"name\": \"Gemini API Srinivasan Online\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"06b0f807-aeba-44d6-bb1d-dfa1d50e1082\",\n      \"name\": \"Edit fields to output required data alone\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        980,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4a2f1343-4b5d-4de8-b04b-5640e0a38d27\",\n              \"name\": \"result\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts[0].text.parseJson()}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"8c69dba2-f67c-4f8b-be18-02a414fd2ead\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        20,\n        280\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 820,\n        \"height\": 420,\n        \"content\": \"## Sample API Call (cURL) \\n```\\ncurl --request GET \\\\\\n  --url https://your_domain.com/webhook/data-extractor \\\\\\n  --data '{\\n  \\\"image_url\\\":\\\"https://www.immihelp.com/nri/images/sample-pan-card-front.jpg\\\",\\n  \\\"Requirement\\\":\\\"extract the details from the image\\\",\\n  \\\"properties\\\": {\\n        \\\"PAN Number\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Name\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Date of Birth\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        \\\"Valid\\\": {\\n          \\\"type\\\": \\\"boolean\\\"\\n        }\\n      }\\n}'\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8839f0d7-306f-4dc2-aca5-6ca529e1a2ff\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        20,\n        740\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1240,\n        \"height\": 140,\n        \"content\": \"## 示例输出\\n```\\n{\\n  \\\"result\\\": \\\"{\\\\\\\"出生日期\\\\\\\":\\\\\\\"1974年11月23日\\\\\\\",\\\\\\\"姓名\\\\\\\":\\\\\\\"拉胡尔·古普塔\\\\\\\",\\\\\\\"永久账号\\\\\\\":\\\\\\\"ABCDE1234F\\\\\\\",\\\\\\\"有效性\\\\\\\":true}\\\"\\n}\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"df733e11-f194-4878-a514-47ddc9811281\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        -520\n      ],\n      \"parameters\": {\n        \"width\": 940,\n        \"height\": 440,\n        \"content\": \"## 将工作流转换为API端点\\n\\n该n8n工作流提供了一个开箱即用的API接口，用于从图像中提取结构化数据。该API接收图片URL作为输入，通过AI驱动的OCR模型进行处理，并以结构化JSON格式返回相关提取信息。\\n\\n- 工作流在处理前会将图像转为base64格式\\n- 采用AI驱动模型（Gemini API）进行文本提取\\n- 输出结果经过格式化，仅包含必要字段\\n- 可通过修改请求参数自定义提取规则\\n- 支持与各类应用集成，实现自动化数据录入与处理\\n\\n典型应用场景包括：\\n- 文档OCR（身份证件、发票、收据）\\n- 图像文本提取\\n- 自动化表单处理\\n- 名片信息抓取\\n\\n只需发送携带图片URL的GET请求并定义提取需求，即可获取结构化JSON格式的返回数据。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aecf7331-6341-411e-8906-e42fc0ef264a\",\n      \"name\": \"Transform image to base64\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        520,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"encoding\": \"ascii\"\n        },\n        \"operation\": \"binaryToPropery\",\n        \"destinationKey\": \"data1\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"b1fad586-998c-47ce-9921-e59527da029a\",\n  \"connections\": {\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get image from URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get image from URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Transform image to base64\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Transform image to base64\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Call Gemini API (Flash Lite) with Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Call Gemini API (Flash Lite) with Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit fields to output required data alone\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit fields to output required data alone\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}