{
  "title": "AI-Powered Telegram Task Manager with MCP Server",
  "url": "https://n8n.io/workflows/3656-ai-powered-telegram-task-manager-with-mcp-server/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/",
  "author": "Francis Njenga",
  "publish_date": "Last update 4 days ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"be27b2af86ae3a5dc19ef2a1947644c0aec45fd8c88f29daa7dea6f0ce537691\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"ca8b122d-1739-4377-ac99-e20dd2341342\",\"name\":\"Incoming Message\",\"type\":\"n8n-nodes-base.telegramTrigger\",\"position\":[-1020,-320],\"webhookId\":\"75921955-c8ed-4ff6-8de2-e436c6bbe69d\",\"parameters\":{\"updates\":[\"message\"],\"additionalFields\":{}},\"credentials\":{\"telegramApi\":{\"id\":\"ayMpCvQ69GjrbPdP\",\"name\":\"gatu_pa_bot\"}},\"typeVersion\":1.2},{\"id\":\"68f7568b-e677-454b-a1e8-6c07a05e7570\",\"name\":\"MCP Server Trigger\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[-860,240],\"webhookId\":\"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\",\"parameters\":{\"path\":\"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\"},\"typeVersion\":1},{\"id\":\"635b8ecc-0f50-477d-8e19-631f868e30f6\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[340,-320],\"parameters\":{\"options\":{\"systemMessage\":\"=You are a helpful assistant. Whenever askes to update a task, call the get_tasks tools first to retrieve the appropriate task ids then use that to update the tasks.\\n\\nToday's date: {{ $now }}\\n\"}},\"typeVersion\":1.8},{\"id\":\"ab7740dc-bac2-4044-8317-40d90252d992\",\"name\":\"MCP Client\",\"type\":\"@n8n/n8n-nodes-langchain.mcpClientTool\",\"position\":[540,-100],\"parameters\":{\"sseEndpoint\":\"https://ai.gatuservices.info/mcp/562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee/sse\"},\"typeVersion\":1},{\"id\":\"5298eee0-747a-496a-a3a2-e395f7c1caa1\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[300,-100],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"lcpI0YZU9bebg3uW\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"c5b7e10d-2d7c-403c-bcb5-a10033252f97\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[420,-100],\"parameters\":{\"sessionKey\":\"={{ $('Incoming Message').item.json.message.from.id }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":20},\"typeVersion\":1.3},{\"id\":\"06d2e8c8-3912-45cd-a074-4eea27c2e5eb\",\"name\":\"chatInput\",\"type\":\"n8n-nodes-base.set\",\"position\":[80,-220],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"ab70dc2d-35d0-4742-988f-ed7077633467\",\"name\":\"chatInput\",\"type\":\"string\",\"value\":\"={{ $json.message.text }}\"},{\"id\":\"6439fc2c-dc2d-41fc-b8a3-b33ef80d2878\",\"name\":\"id\",\"type\":\"number\",\"value\":\"={{ $json.message.from.id }}\"}]}},\"typeVersion\":3.4},{\"id\":\"a9309816-8c1d-435c-ad49-2e45053718c1\",\"name\":\"create_todays_task\",\"type\":\"n8n-nodes-base.googleTasksTool\",\"position\":[-1020,460],\"parameters\":{\"task\":\"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\",\"title\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', `Title summary of the task to be done`, 'string') }}\",\"additionalFields\":{\"notes\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\",\"dueDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\",\"completed\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"}},\"credentials\":{\"googleTasksOAuth2Api\":{\"id\":\"8sBGA2BWJuF6SObU\",\"name\":\"Connected Account\"}},\"typeVersion\":1},{\"id\":\"ad6cfc1a-7094-434a-98d1-a6f030067091\",\"name\":\"chatOutput\",\"type\":\"n8n-nodes-base.set\",\"position\":[740,-320],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"df6bd510-e63f-41b1-b5b4-d2c612d5b8d0\",\"name\":\"chatOutput\",\"type\":\"string\",\"value\":\"={{ $json.output }}\"}]}},\"typeVersion\":3.4},{\"id\":\"e342066f-3cf8-4926-94df-798e831226be\",\"name\":\"sendMessage\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[960,-320],\"webhookId\":\"c5eb133f-338f-4918-8e49-83ac339d841b\",\"parameters\":{\"text\":\"={{ $json.chatOutput }}\",\"chatId\":\"={{ $('Incoming Message').item.json.message.chat.id }}\",\"additionalFields\":{\"appendAttribution\":false,\"disable_notification\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"ayMpCvQ69GjrbPdP\",\"name\":\"gatu_pa_bot\"}},\"typeVersion\":1.2},{\"id\":\"e4a1bc16-549f-46a2-92a8-a06e6023089c\",\"name\":\"create_upcoming_task\",\"type\":\"n8n-nodes-base.googleTasksTool\",\"position\":[-900,460],\"parameters\":{\"task\":\"OFVvNlh6ZmhScHVvNll4dw\",\"title\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', `Title summary of the task to be done`, 'string') }}\",\"additionalFields\":{\"notes\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\",\"dueDate\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\",\"completed\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"}},\"credentials\":{\"googleTasksOAuth2Api\":{\"id\":\"8sBGA2BWJuF6SObU\",\"name\":\"Connected Account\"}},\"typeVersion\":1},{\"id\":\"df71bb02-016d-4d56-b80d-404a60c0e7cf\",\"name\":\"complete_task\",\"type\":\"n8n-nodes-base.googleTasksTool\",\"position\":[-780,460],\"parameters\":{\"task\":\"RS1rbkNCS2JsdVFnVl80cg\",\"taskId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Task_ID', `The task id tom be marked as completed. Get it from the get tasks tool`, 'string') }}\",\"operation\":\"update\",\"updateFields\":{}},\"credentials\":{\"googleTasksOAuth2Api\":{\"id\":\"8sBGA2BWJuF6SObU\",\"name\":\"Connected Account\"}},\"typeVersion\":1},{\"id\":\"a33812bd-986e-4762-87a0-199ff8a7c9aa\",\"name\":\"get_todays_tasks\",\"type\":\"n8n-nodes-base.googleTasksTool\",\"position\":[-660,460],\"parameters\":{\"task\":\"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\",\"operation\":\"getAll\",\"returnAll\":true,\"additionalFields\":{}},\"credentials\":{\"googleTasksOAuth2Api\":{\"id\":\"8sBGA2BWJuF6SObU\",\"name\":\"Connected Account\"}},\"typeVersion\":1},{\"id\":\"dcb3a6c9-5d7c-4fe6-8b52-f07cf74cfa0c\",\"name\":\"get_upcoming_tasks\",\"type\":\"n8n-nodes-base.googleTasksTool\",\"position\":[-540,460],\"parameters\":{\"task\":\"OFVvNlh6ZmhScHVvNll4dw\",\"operation\":\"getAll\",\"returnAll\":true,\"additionalFields\":{}},\"credentials\":{\"googleTasksOAuth2Api\":{\"id\":\"8sBGA2BWJuF6SObU\",\"name\":\"Connected Account\"}},\"typeVersion\":1},{\"id\":\"ce63c24a-ce2f-4e06-8ae5-7de75540d438\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[-800,-320],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"Voice Note\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"8415cc8d-65a2-448e-a106-1ceb54634dfd\",\"operator\":{\"type\":\"object\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.message.voice }}\",\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{\"fallbackOutput\":\"extra\"}},\"typeVersion\":3.2},{\"id\":\"a58488c3-38b8-4492-9f13-a900c7697812\",\"name\":\"audio_id\",\"type\":\"n8n-nodes-base.set\",\"position\":[-580,-420],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"eb7f5d62-e4f3-4b4e-9f1b-6c329feafb3e\",\"name\":\"file_id\",\"type\":\"string\",\"value\":\"={{ $json.message.voice.file_id }}\"},{\"id\":\"803031b8-6b21-47fa-b339-ad674ccbbb1e\",\"name\":\"file_unique_id\",\"type\":\"string\",\"value\":\"={{ $json.message.voice.file_unique_id }}\"}]}},\"typeVersion\":3.4},{\"id\":\"83c2ecae-b601-4669-b820-b5c35d3f936e\",\"name\":\"download_audio\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[-360,-420],\"webhookId\":\"c2dbc0eb-0f3a-4f11-9525-804bd5bef4b1\",\"parameters\":{\"fileId\":\"={{ $json.file_id }}\",\"resource\":\"file\"},\"credentials\":{\"telegramApi\":{\"id\":\"ayMpCvQ69GjrbPdP\",\"name\":\"gatu_pa_bot\"}},\"typeVersion\":1.2},{\"id\":\"4a496e3a-2e3a-4ce0-9344-192847de1760\",\"name\":\"transcribeAudio\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[-140,-420],\"parameters\":{\"options\":{},\"resource\":\"audio\",\"operation\":\"transcribe\"},\"credentials\":{\"openAiApi\":{\"id\":\"lcpI0YZU9bebg3uW\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.8},{\"id\":\"38b6aa37-d279-4b1b-be42-7f7cc1bbe688\",\"name\":\"audioInput\",\"type\":\"n8n-nodes-base.set\",\"position\":[80,-420],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"d57b4fc2-10f7-46cd-a89c-0021a92f41d1\",\"name\":\"chatInput\",\"type\":\"string\",\"value\":\"={{ $json.text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"e524f12f-205f-4fc8-b2f0-b308ec4066b7\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1060,-500],\"parameters\":{\"color\":4,\"width\":2180,\"height\":540,\"content\":\"## Main Function to Receive and Send Telegram Messages\\n\"},\"typeVersion\":1},{\"id\":\"709b252a-b5e8-4c7e-8bcd-a7092d588070\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1060,140],\"parameters\":{\"color\":3,\"width\":640,\"height\":480,\"content\":\"## MCP Server to Carry Out Actions\"},\"typeVersion\":1}],\"pinData\":{\"Incoming Message\":[{\"message\":{\"chat\":{\"id\":6043747866,\"type\":\"private\",\"first_name\":\"Gatu\"},\"date\":1745294191,\"from\":{\"id\":6043747866,\"is_bot\":false,\"first_name\":\"Gatu\",\"language_code\":\"en\"},\"voice\":{\"file_id\":\"AwACAgQAAxkBAAMYaAcTb6Sm3bpJ_8Cc2q1q4vC7MLYAAg8ZAAJAOjlQQhWQOxUBqfU2BA\",\"duration\":2,\"file_size\":9854,\"mime_type\":\"audio/ogg\",\"file_unique_id\":\"AgADDxkAAkA6OVA\"},\"message_id\":24},\"update_id\":656804764}]},\"connections\":{\"Switch\":{\"main\":[[{\"node\":\"audio_id\",\"type\":\"main\",\"index\":0}],[{\"node\":\"chatInput\",\"type\":\"main\",\"index\":0}]]},\"AI Agent\":{\"main\":[[{\"node\":\"chatOutput\",\"type\":\"main\",\"index\":0}]]},\"audio_id\":{\"main\":[[{\"node\":\"download_audio\",\"type\":\"main\",\"index\":0}]]},\"chatInput\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"MCP Client\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"audioInput\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"chatOutput\":{\"main\":[[{\"node\":\"sendMessage\",\"type\":\"main\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"complete_task\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"download_audio\":{\"main\":[[{\"node\":\"transcribeAudio\",\"type\":\"main\",\"index\":0}]]},\"transcribeAudio\":{\"main\":[[{\"node\":\"audioInput\",\"type\":\"main\",\"index\":0}]]},\"Incoming Message\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"get_todays_tasks\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"create_todays_task\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"get_upcoming_tasks\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]},\"create_upcoming_task\":{\"ai_tool\":[[{\"node\":\"MCP Server Trigger\",\"type\":\"ai_tool\",\"index\":0}]]}}}",
  "readme": "## Detailed Description\n\nThe ToDo App workflow is designed to streamline task management through Telegram and Google Tasks integration. This workflow allows users to create, update, and manage tasks via Telegram messages, leveraging AI capabilities to enhance user interaction. The expected outcome is a seamless experience where users can manage their tasks efficiently without needing to switch between applications.\n\n## Who is this for?\n\nThis workflow is intended for:\n\n  * **Individuals** looking for an efficient way to manage their tasks directly from Telegram.\n  * **Teams** that require a collaborative task management solution integrated with Google Tasks.\n  * **Developers** interested in automating task management processes using n8n and Telegram.\n\n\n\n## What problem does this workflow solve?\n\nManaging tasks can often be cumbersome, especially when switching between different applications. This workflow addresses the following problems:\n\n  * **Fragmented Task Management** : Users can manage tasks directly from Telegram, reducing the need to switch to Google Tasks.\n  * **Inefficient Communication** : By integrating AI, users can interact with the task management system in a conversational manner, making it more intuitive.\n  * **Task Updates** : Users can easily update task statuses and details through simple messages, enhancing productivity.\n\n\n\n## What this workflow does\n\nThe ToDo App workflow performs the following functions:\n\n  1. **Incoming Message Handling** : Listens for messages sent to a Telegram bot.\n  2. **Task Creation** : Allows users to create new tasks based on their messages.\n  3. **Task Updates** : Users can update existing tasks by sending specific commands.\n  4. **Task Retrieval** : Retrieves today's and upcoming tasks from Google Tasks.\n  5. **Voice Note Transcription** : Supports voice messages, converting them into text for task management.\n  6. **AI Assistance** : Utilizes an AI agent to assist users in managing their tasks effectively.\n\n\n\n## Setup\n\n### Prerequisites\n\nBefore setting up the workflow, ensure you have the following:\n\n  * **n8n Account** : Sign up for an n8n account if you don't have one.\n  * **Telegram Bot** : Create a Telegram bot and obtain the API token.\n  * **Google Tasks API** : Set up Google Tasks API and obtain OAuth2 credentials.\n  * **OpenAI API Key** : Sign up for OpenAI and obtain an API key for AI functionalities.\n\n\n\n### Setup Process\n\n  * Upload the JSON for this workflow and setup the authentication for the different tools.\n\n\n\n## How to customize this workflow\n\nTo adapt the ToDo App workflow to different needs, consider the following customizations:\n\n  * **Change Task Management Platform** : If you prefer a different task management tool, replace the Google Tasks nodes with your preferred service's API.\n  * **Modify AI Responses** : Adjust the AI agent's system message to change how it interacts with users.\n  * **Add Additional Commands** : Expand the workflow by adding more commands for different task management functionalities (e.g., deleting tasks).\n  * **Integrate Other Messaging Platforms** : If you want to use a different messaging service, replace the Telegram nodes with the appropriate nodes for that service.\n\n\n\n## Conclusion\n\nThe ToDo App workflow provides a powerful solution for managing tasks through Telegram, enhancing productivity and user experience. By following the setup instructions and customization options, users can tailor the workflow to meet their specific needs, making task management more efficient and accessible.\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h2>Detailed Description</h2>\n<p>The ToDo App workflow is designed to streamline task management through Telegram and Google Tasks integration. This workflow allows users to create, update, and manage tasks via Telegram messages, leveraging AI capabilities to enhance user interaction. The expected outcome is a seamless experience where users can manage their tasks efficiently without needing to switch between applications.</p>\n<h2>Who is this for?</h2>\n<p>This workflow is intended for:</p>\n<ul>\n<li><strong>Individuals</strong> looking for an efficient way to manage their tasks directly from Telegram.</li>\n<li><strong>Teams</strong> that require a collaborative task management solution integrated with Google Tasks.</li>\n<li><strong>Developers</strong> interested in automating task management processes using n8n and Telegram.</li>\n</ul>\n<h2>What problem does this workflow solve?</h2>\n<p>Managing tasks can often be cumbersome, especially when switching between different applications. This workflow addresses the following problems:</p>\n<ul>\n<li><strong>Fragmented Task Management</strong>: Users can manage tasks directly from Telegram, reducing the need to switch to Google Tasks.</li>\n<li><strong>Inefficient Communication</strong>: By integrating AI, users can interact with the task management system in a conversational manner, making it more intuitive.</li>\n<li><strong>Task Updates</strong>: Users can easily update task statuses and details through simple messages, enhancing productivity.</li>\n</ul>\n<h2>What this workflow does</h2>\n<p>The ToDo App workflow performs the following functions:</p>\n<ol>\n<li><strong>Incoming Message Handling</strong>: Listens for messages sent to a Telegram bot.</li>\n<li><strong>Task Creation</strong>: Allows users to create new tasks based on their messages.</li>\n<li><strong>Task Updates</strong>: Users can update existing tasks by sending specific commands.</li>\n<li><strong>Task Retrieval</strong>: Retrieves today's and upcoming tasks from Google Tasks.</li>\n<li><strong>Voice Note Transcription</strong>: Supports voice messages, converting them into text for task management.</li>\n<li><strong>AI Assistance</strong>: Utilizes an AI agent to assist users in managing their tasks effectively.</li>\n</ol>\n<h2>Setup</h2>\n<h3>Prerequisites</h3>\n<p>Before setting up the workflow, ensure you have the following:</p>\n<ul>\n<li><strong>n8n Account</strong>: Sign up for an n8n account if you don't have one.</li>\n<li><strong>Telegram Bot</strong>: Create a Telegram bot and obtain the API token.</li>\n<li><strong>Google Tasks API</strong>: Set up Google Tasks API and obtain OAuth2 credentials.</li>\n<li><strong>OpenAI API Key</strong>: Sign up for OpenAI and obtain an API key for AI functionalities.</li>\n</ul>\n<h3>Setup Process</h3>\n<ul>\n<li>Upload the JSON for this workflow and setup the authentication for the different tools.</li>\n</ul>\n<h2>How to customize this workflow</h2>\n<p>To adapt the ToDo App workflow to different needs, consider the following customizations:</p>\n<ul>\n<li><strong>Change Task Management Platform</strong>: If you prefer a different task management tool, replace the Google Tasks nodes with your preferred service's API.</li>\n<li><strong>Modify AI Responses</strong>: Adjust the AI agent's system message to change how it interacts with users.</li>\n<li><strong>Add Additional Commands</strong>: Expand the workflow by adding more commands for different task management functionalities (e.g., deleting tasks).</li>\n<li><strong>Integrate Other Messaging Platforms</strong>: If you want to use a different messaging service, replace the Telegram nodes with the appropriate nodes for that service.</li>\n</ul>\n<h2>Conclusion</h2>\n<p>The ToDo App workflow provides a powerful solution for managing tasks through Telegram, enhancing productivity and user experience. By following the setup instructions and customization options, users can tailor the workflow to meet their specific needs, making task management more efficient and accessible.</p>\n</div><!--]-->",
  "readme_zh": "## 详细说明\n\n待办事项应用工作流通过整合Telegram与Google Tasks优化任务管理流程。该工作流允许用户通过Telegram消息创建、更新和管理任务，并利用AI能力提升交互体验。最终实现用户无需切换应用即可高效管理任务的流畅体验。\n\n## 适用人群\n\n本工作流适用于：\n\n  * **个人用户**：希望通过Telegram直接管理任务的效率追求者\n  * **团队协作**：需要与Google Tasks集成的协同任务管理解决方案\n  * **开发者群体**：有意使用n8n和Telegram实现任务管理自动化的技术人员\n\n## 解决痛点\n\n传统任务管理常因应用切换导致效率低下，本工作流针对性解决：\n\n  * **任务管理碎片化**：直接在Telegram中操作，减少应用切换\n  * **低效沟通**：AI对话式交互让任务管理更符合自然语言习惯\n  * **状态更新不便**：通过简易消息即可更新任务状态与详情，提升效率\n\n## 功能实现\n\n待办应用工作流具备以下核心功能：\n\n  1. **消息接收**：实时监听Telegram机器人消息\n  2. **任务创建**：根据用户消息生成新任务项\n  3. **任务更新**：支持通过特定指令修改现有任务\n  4. **任务查询**：从Google Tasks获取当日及近期任务\n  5. **语音转文本**：支持语音消息转录为文字任务\n  6. **AI辅助**：智能代理协助用户高效管理任务\n\n## 配置指南\n\n### 环境准备\n\n开始前请确保具备：\n\n  * **n8n账户**：注册n8n服务平台账号\n  * **Telegram机器人**：创建机器人并获取API令牌\n  * **Google Tasks API**：配置OAuth2认证凭据\n  * **OpenAI密钥**：申请API密钥启用AI功能\n\n### 部署流程\n\n  * 上传工作流JSON文件，完成各工具鉴权配置\n\n## 定制方案\n\n根据需求可进行以下个性化调整：\n\n  * **更换任务平台**：替换Google Tasks节点为其他任务管理API\n  * **调整AI响应**：修改智能代理系统消息改变交互风格\n  * **扩展指令集**：新增任务删除等扩展功能指令\n  * **集成其他通讯工具**：适配其他即时通讯平台替代Telegram节点\n\n## 总结展望\n\n待办应用工作流通过Telegram提供了高效的任务管理解决方案。用户可根据配置指引和定制选项，打造符合个性化需求的任务管理系统，让事务管理更智能便捷。",
  "title_zh": "搭载MCP服务器的AI驱动Telegram任务管理器",
  "publish_date_zh": "上次更新于4天前",
  "workflow_json_zh": "{\"meta\": {\"instanceId\": \"be27b2af86ae3a5dc19ef2a1947644c0aec45fd8c88f29daa7dea6f0ce537691\", \"templateCredsSetupCompleted\": true}, \"nodes\": [{\"id\": \"ca8b122d-1739-4377-ac99-e20dd2341342\", \"name\": \"收到消息\", \"type\": \"n8n-nodes-base.telegramTrigger\", \"position\": [-1020, -320], \"webhookId\": \"75921955-c8ed-4ff6-8de2-e436c6bbe69d\", \"parameters\": {\"updates\": [\"message\"], \"additionalFields\": {}}, \"credentials\": {\"telegramApi\": {\"id\": \"ayMpCvQ69GjrbPdP\", \"name\": \"gatu_pa_bot\"}}, \"typeVersion\": 1.2}, {\"id\": \"68f7568b-e677-454b-a1e8-6c07a05e7570\", \"name\": \"MCP服务器触发器\", \"type\": \"@n8n/n8n-nodes-langchain.mcpTrigger\", \"position\": [-860, 240], \"webhookId\": \"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\", \"parameters\": {\"path\": \"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\"}, \"typeVersion\": 1}, {\"id\": \"635b8ecc-0f50-477d-8e19-631f868e30f6\", \"name\": \"AI代理\", \"type\": \"@n8n/n8n-nodes-langchain.agent\", \"position\": [340, -320], \"parameters\": {\"options\": {\"systemMessage\": \"=You are a helpful assistant. Whenever askes to update a task, call the get_tasks tools first to retrieve the appropriate task ids then use that to update the tasks.\\n\\nToday's date: {{ $now }}\\n\"}}, \"typeVersion\": 1.8}, {\"id\": \"ab7740dc-bac2-4044-8317-40d90252d992\", \"name\": \"MCP客户端\", \"type\": \"@n8n/n8n-nodes-langchain.mcpClientTool\", \"position\": [540, -100], \"parameters\": {\"sseEndpoint\": \"https://ai.gatuservices.info/mcp/562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee/sse\"}, \"typeVersion\": 1}, {\"id\": \"5298eee0-747a-496a-a3a2-e395f7c1caa1\", \"name\": \"OpenAI 聊天模型\", \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\", \"position\": [300, -100], \"parameters\": {\"model\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"gpt-4o-mini\"}, \"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"lcpI0YZU9bebg3uW\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.2}, {\"id\": \"c5b7e10d-2d7c-403c-bcb5-a10033252f97\", \"name\": \"简单记忆\", \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\", \"position\": [420, -100], \"parameters\": {\"sessionKey\": \"={{ $('收到的消息').item.json.message.from.id }}\", \"sessionIdType\": \"自定义键\", \"contextWindowLength\": 20}, \"typeVersion\": 1.3}, {\"id\": \"06d2e8c8-3912-45cd-a074-4eea27c2e5eb\", \"name\": \"聊天输入\", \"type\": \"n8n-nodes-base.set\", \"position\": [80, -220], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"ab70dc2d-35d0-4742-988f-ed7077633467\", \"name\": \"chatInput\", \"type\": \"string\", \"value\": \"={{ $json.message.text }}\"}, {\"id\": \"6439fc2c-dc2d-41fc-b8a3-b33ef80d2878\", \"name\": \"id\", \"type\": \"number\", \"value\": \"={{ $json.message.from.id }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"a9309816-8c1d-435c-ad49-2e45053718c1\", \"name\": \"创建今日任务\", \"type\": \"n8n-nodes-base.googleTasksTool\", \"position\": [-1020, 460], \"parameters\": {\"task\": \"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\", \"title\": \"=任务待办事项标题摘要\", \"additionalFields\": {\"notes\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\", \"dueDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\", \"completed\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"}}, \"credentials\": {\"googleTasksOAuth2Api\": {\"id\": \"8sBGA2BWJuF6SObU\", \"name\": \"Connected Account\"}}, \"typeVersion\": 1}, {\"id\": \"ad6cfc1a-7094-434a-98d1-a6f030067091\", \"name\": \"聊天输出\", \"type\": \"n8n-nodes-base.set\", \"position\": [740, -320], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"df6bd510-e63f-41b1-b5b4-d2c612d5b8d0\", \"name\": \"chatOutput\", \"type\": \"string\", \"value\": \"={{ $json.output }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"e342066f-3cf8-4926-94df-798e831226be\", \"name\": \"发送消息\", \"type\": \"n8n-nodes-base.telegram\", \"position\": [960, -320], \"webhookId\": \"c5eb133f-338f-4918-8e49-83ac339d841b\", \"parameters\": {\"text\": \"= {{ $json.chatOutput }}\", \"chatId\": \"={{ $('收到的消息').item.json.message.chat.id }}\", \"additionalFields\": {\"appendAttribution\": false, \"disable_notification\": false}}, \"credentials\": {\"telegramApi\": {\"id\": \"ayMpCvQ69GjrbPdP\", \"name\": \"gatu_pa_bot\"}}, \"typeVersion\": 1.2}, {\"id\": \"e4a1bc16-549f-46a2-92a8-a06e6023089c\", \"name\": \"创建即将到来的任务\", \"type\": \"n8n-nodes-base.googleTasksTool\", \"position\": [-900, 460], \"parameters\": {\"task\": \"由于您提供的文本“OFVvNlh6ZmhScHVvNll4dw”看起来像是一串编码或随机字符，没有明确的上下文或含义，我无法进行有意义的翻译。如果您能提供更多背景信息或确认这是否为某种编码（如Base64等），我可以尝试进一步协助解码或翻译。 \\n\\n如果这是需要直接转写的字符串，直译为中文为：\\nOFVvNlh6ZmhScHVvNll4dw\", \"title\": \"={{ /*n8n自动生成-AI覆盖*/ $fromAI('标题', `待完成任务标题摘要`, '字符串') }}\", \"additionalFields\": {\"notes\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\", \"dueDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\", \"completed\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"}}, \"credentials\": {\"googleTasksOAuth2Api\": {\"id\": \"8sBGA2BWJuF6SObU\", \"name\": \"Connected Account\"}}, \"typeVersion\": 1}, {\"id\": \"df71bb02-016d-4d56-b80d-404a60c0e7cf\", \"name\": \"完成任务\", \"type\": \"n8n-nodes-base.googleTasksTool\", \"position\": [-780, 460], \"parameters\": {\"task\": \"RS1rbkNCS2JsdVFnVl80cg\", \"taskId\": \"={{ /*n8n自动生成-AI覆盖*/ $fromAI('任务_ID', `要标记为已完成的任务ID。从获取任务工具中获取`, '字符串') }}\", \"operation\": \"更新\", \"updateFields\": {}}, \"credentials\": {\"googleTasksOAuth2Api\": {\"id\": \"8sBGA2BWJuF6SObU\", \"name\": \"Connected Account\"}}, \"typeVersion\": 1}, {\"id\": \"a33812bd-986e-4762-87a0-199ff8a7c9aa\", \"name\": \"获取今日任务\", \"type\": \"n8n-nodes-base.googleTasksTool\", \"position\": [-660, 460], \"parameters\": {\"task\": \"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\", \"operation\": \"获取全部\", \"returnAll\": true, \"additionalFields\": {}}, \"credentials\": {\"googleTasksOAuth2Api\": {\"id\": \"8sBGA2BWJuF6SObU\", \"name\": \"Connected Account\"}}, \"typeVersion\": 1}, {\"id\": \"dcb3a6c9-5d7c-4fe6-8b52-f07cf74cfa0c\", \"name\": \"获取即将到来的任务\", \"type\": \"n8n-nodes-base.googleTasksTool\", \"position\": [-540, 460], \"parameters\": {\"task\": \"无法翻译，该内容似乎为加密或编码字符串。\", \"operation\": \"获取全部\", \"returnAll\": true, \"additionalFields\": {}}, \"credentials\": {\"googleTasksOAuth2Api\": {\"id\": \"8sBGA2BWJuF6SObU\", \"name\": \"Connected Account\"}}, \"typeVersion\": 1}, {\"id\": \"ce63c24a-ce2f-4e06-8ae5-7de75540d438\", \"name\": \"开关\", \"type\": \"n8n-nodes-base.switch\", \"position\": [-800, -320], \"parameters\": {\"rules\": {\"values\": [{\"outputKey\": \"Voice Note\", \"conditions\": {\"options\": {\"version\": 2, \"leftValue\": \"\", \"caseSensitive\": true, \"typeValidation\": \"strict\"}, \"combinator\": \"and\", \"conditions\": [{\"id\": \"8415cc8d-65a2-448e-a106-1ceb54634dfd\", \"operator\": {\"type\": \"object\", \"operation\": \"exists\", \"singleValue\": true}, \"leftValue\": \"={{ $json.message.voice }}\", \"rightValue\": \"\"}]}, \"renameOutput\": true}]}, \"options\": {\"fallbackOutput\": \"extra\"}}, \"typeVersion\": 3.2}, {\"id\": \"a58488c3-38b8-4492-9f13-a900c7697812\", \"name\": \"音频ID\", \"type\": \"n8n-nodes-base.set\", \"position\": [-580, -420], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"eb7f5d62-e4f3-4b4e-9f1b-6c329feafb3e\", \"name\": \"file_id\", \"type\": \"string\", \"value\": \"={{ $json.message.voice.file_id }}\"}, {\"id\": \"803031b8-6b21-47fa-b339-ad674ccbbb1e\", \"name\": \"file_unique_id\", \"type\": \"string\", \"value\": \"={{ $json.message.voice.file_unique_id }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"83c2ecae-b601-4669-b820-b5c35d3f936e\", \"name\": \"下载音频\", \"type\": \"n8n-nodes-base.telegram\", \"position\": [-360, -420], \"webhookId\": \"c2dbc0eb-0f3a-4f11-9525-804bd5bef4b1\", \"parameters\": {\"fileId\": \"={{ $json.文件标识 }}\", \"resource\": \"文件\"}, \"credentials\": {\"telegramApi\": {\"id\": \"ayMpCvQ69GjrbPdP\", \"name\": \"gatu_pa_bot\"}}, \"typeVersion\": 1.2}, {\"id\": \"4a496e3a-2e3a-4ce0-9344-192847de1760\", \"name\": \"转录音频\", \"type\": \"@n8n/n8n-nodes-langchain.openAi\", \"position\": [-140, -420], \"parameters\": {\"options\": {}, \"resource\": \"音频\", \"operation\": \"转录\"}, \"credentials\": {\"openAiApi\": {\"id\": \"lcpI0YZU9bebg3uW\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.8}, {\"id\": \"38b6aa37-d279-4b1b-be42-7f7cc1bbe688\", \"name\": \"音频输入\", \"type\": \"n8n-nodes-base.set\", \"position\": [80, -420], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"d57b4fc2-10f7-46cd-a89c-0021a92f41d1\", \"name\": \"chatInput\", \"type\": \"string\", \"value\": \"={{ $json.text }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"e524f12f-205f-4fc8-b2f0-b308ec4066b7\", \"name\": \"便利贴\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-1060, -500], \"parameters\": {\"color\": 4, \"width\": 2180, \"height\": 540, \"content\": \"## 接收与发送Telegram消息的主函数\"}, \"typeVersion\": 1}, {\"id\": \"709b252a-b5e8-4c7e-8bcd-a7092d588070\", \"name\": \"便利贴1\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-1060, 140], \"parameters\": {\"color\": 3, \"width\": 640, \"height\": 480, \"content\": \"## MCP服务器执行操作\"}, \"typeVersion\": 1}], \"pinData\": {\"Incoming Message\": [{\"message\": {\"chat\": {\"id\": 6043747866, \"type\": \"private\", \"first_name\": \"Gatu\"}, \"date\": 1745294191, \"from\": {\"id\": 6043747866, \"is_bot\": false, \"first_name\": \"Gatu\", \"language_code\": \"en\"}, \"voice\": {\"file_id\": \"AwACAgQAAxkBAAMYaAcTb6Sm3bpJ_8Cc2q1q4vC7MLYAAg8ZAAJAOjlQQhWQOxUBqfU2BA\", \"duration\": 2, \"file_size\": 9854, \"mime_type\": \"audio/ogg\", \"file_unique_id\": \"AgADDxkAAkA6OVA\"}, \"message_id\": 24}, \"update_id\": 656804764}]}, \"connections\": {\"Switch\": {\"main\": [[{\"node\": \"audio_id\", \"type\": \"main\", \"index\": 0}], [{\"node\": \"chatInput\", \"type\": \"main\", \"index\": 0}]]}, \"AI Agent\": {\"main\": [[{\"node\": \"chatOutput\", \"type\": \"main\", \"index\": 0}]]}, \"audio_id\": {\"main\": [[{\"node\": \"download_audio\", \"type\": \"main\", \"index\": 0}]]}, \"chatInput\": {\"main\": [[{\"node\": \"AI Agent\", \"type\": \"main\", \"index\": 0}]]}, \"MCP Client\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"audioInput\": {\"main\": [[{\"node\": \"AI Agent\", \"type\": \"main\", \"index\": 0}]]}, \"chatOutput\": {\"main\": [[{\"node\": \"sendMessage\", \"type\": \"main\", \"index\": 0}]]}, \"Simple Memory\": {\"ai_memory\": [[{\"node\": \"AI Agent\", \"type\": \"ai_memory\", \"index\": 0}]]}, \"complete_task\": {\"ai_tool\": [[{\"node\": \"MCP Server Trigger\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"download_audio\": {\"main\": [[{\"node\": \"transcribeAudio\", \"type\": \"main\", \"index\": 0}]]}, \"transcribeAudio\": {\"main\": [[{\"node\": \"audioInput\", \"type\": \"main\", \"index\": 0}]]}, \"Incoming Message\": {\"main\": [[{\"node\": \"Switch\", \"type\": \"main\", \"index\": 0}]]}, \"get_todays_tasks\": {\"ai_tool\": [[{\"node\": \"MCP Server Trigger\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"OpenAI Chat Model\": {\"ai_languageModel\": [[{\"node\": \"AI Agent\", \"type\": \"ai_languageModel\", \"index\": 0}]]}, \"create_todays_task\": {\"ai_tool\": [[{\"node\": \"MCP Server Trigger\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"get_upcoming_tasks\": {\"ai_tool\": [[{\"node\": \"MCP Server Trigger\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"create_upcoming_task\": {\"ai_tool\": [[{\"node\": \"MCP Server Trigger\", \"type\": \"ai_tool\", \"index\": 0}]]}}}"
}