{
  "title": "Author and Publish Blog Posts From Google Sheets",
  "url": "https://n8n.io/workflows/2873-author-and-publish-blog-posts-from-google-sheets/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Daniel Nolde",
  "publish_date": "Last update 2 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"b0KRVIuuUxE5afHo\",\"meta\":{\"instanceId\":\"98bf0d6aef1dd8b7a752798121440fb171bf7686b95727fd617f43452393daa3\",\"templateCredsSetupCompleted\":true},\"name\":\"Blog Automation TEMPLATE\",\"tags\":[{\"id\":\"uumvgGHY5e6zEL7V\",\"name\":\"Published Template\",\"createdAt\":\"2025-02-10T11:18:10.923Z\",\"updatedAt\":\"2025-02-10T11:18:10.923Z\"}],\"nodes\":[{\"id\":\"20e00146-6bda-4a8a-9544-bf7e5fd4e12e\",\"name\":\"Settings\",\"type\":\"n8n-nodes-base.set\",\"position\":[-420,-160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"528b371f-0fba-4be1-9801-0502652da23e\",\"name\":\"urlSpreadsheet\",\"type\":\"string\",\"value\":\"https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?gid=0#gid=0\"},{\"id\":\"1be018c7-51fe-4ea2-967d-ce47a2e8795c\",\"name\":\"urlWordpress\",\"type\":\"string\",\"value\":\"SUBDOMAIN.wordpress.com\"},{\"id\":\"95377f4f-184b-46a7-94c7-b2313c314cb2\",\"name\":\"wordpressUsername\",\"type\":\"string\",\"value\":\"YourUserName\"},{\"id\":\"fdc99dc6-d9b0-4d2f-b770-1d8b6b360cad\",\"name\":\"wordpressApplicationPassword\",\"type\":\"string\",\"value\":\"y0ur app1 p4ss w0rd\"},{\"id\":\"517cb9ff-24fc-41d6-8bcc-253078f56356\",\"name\":\"sheetSchedule\",\"type\":\"string\",\"value\":\"=Schedule\"},{\"id\":\"584e11da-546b-4472-8674-33ca7e8f4f30\",\"name\":\"sheetConfig\",\"type\":\"string\",\"value\":\"Config\"},{\"id\":\"ba38cb1e-fd97-4aed-9147-1946c318ddab\",\"name\":\"actionPublish\",\"type\":\"string\",\"value\":\"publish\"},{\"id\":\"678394b5-20af-4718-9249-4ff6a3c77018\",\"name\":\"actionUpdate\",\"type\":\"string\",\"value\":\"\"},{\"id\":\"f375b2fa-8772-4313-9d6b-a104edd918b3\",\"name\":\"sheetLog\",\"type\":\"string\",\"value\":\"Log\"},{\"id\":\"3d7f9677-c753-4126-b33a-d78ef701771f\",\"name\":\"\",\"type\":\"string\",\"value\":\"\"}]}},\"typeVersion\":3.4},{\"id\":\"35731842-9215-43df-9009-9b130d663237\",\"name\":\"ScheduleTrigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-620,-280],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"hours\"}]}},\"typeVersion\":1.2},{\"id\":\"4c284d44-ac46-4cdf-9dcb-727b464269a0\",\"name\":\"ManualTrigger\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-620,-100],\"parameters\":{},\"typeVersion\":1},{\"id\":\"b63e7345-67d0-4761-8c1a-49275f34e88d\",\"name\":\"Schedule\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-220,-80],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetSchedule }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"notesInFlow\":true,\"typeVersion\":4.5},{\"id\":\"5fed06a3-3188-4aed-8040-04e245b74e20\",\"name\":\"Config\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,-220],\"parameters\":{\"jsCode\":\"let a = $(\\\"fetchConfig\\\").all();\\nlet params = {};\\na.forEach(p => params[p.json.Key] = p.json.Value);\\n\\nreturn params;\\n\"},\"typeVersion\":2},{\"id\":\"685490c8-6b45-40c2-b4db-e97a81c4be8e\",\"name\":\"fetchConfig\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-220,-220],\"parameters\":{\"options\":{},\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetConfig }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"notesInFlow\":true,\"typeVersion\":4.5},{\"id\":\"52a39db8-f9cc-44bb-9c3e-a9abf5821a04\",\"name\":\"AgentLLM\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-400,440],\"parameters\":{\"model\":\"={{ $json.model }}\",\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"66JEQJ5kJel1P9t3\",\"name\":\"OpenRouter\"}},\"typeVersion\":1.1},{\"id\":\"6a311ac4-032b-42da-b06e-c916209d2843\",\"name\":\"IfScheduledNow\",\"type\":\"n8n-nodes-base.if\",\"position\":[-620,780],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"loose\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"bb707069-b372-4bbd-8ba5-b7f6b492ab9d\",\"operator\":{\"type\":\"number\",\"operation\":\"gte\"},\"leftValue\":\"={{ DateTime.now().ts }}\",\"rightValue\":\"={{ DateTime.fromFormat($json.row.Scheduled, \\\"yyyy-MM-dd HH:mm:ss\\\").ts }}\"}]},\"looseTypeValidation\":true},\"typeVersion\":2.2},{\"id\":\"845e419b-15ad-4548-86c5-44bda0433b71\",\"name\":\"PreparedData\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,-80],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"function replacePlaceholders(text, row, config) {\\n  function checkProp(prop, lookup) {\\n    // console.log('checkProp:' + prop);\\n    if (!lookup.hasOwnProperty(prop)) return false;\\n    let value = lookup[prop];\\n    if (typeof(value) == 'string') {\\n      value = value.trim();\\n      if (value == '') return false;\\n    }\\n    // console.log('checkProp found:', value)\\n    return value;\\n  }\\n  function replaceMatch(fullMatch, prop) { \\n    prop = prop.trim();\\n    // Return the corresponding value\\n    return checkProp(prop, row)\\n        || checkProp(prop, config)\\n        || checkProp(prop + checkProp('Context', row), config)\\n        || `[could not find \\\"${ prop }]\\\"`;\\n  }\\n\\n  if (typeof(text) != 'string') return '';\\n\\n  // Regex to capture {{ ... }}\\n  const pattern = /\\\\{\\\\{\\\\s*([^}]+)\\\\s*\\\\}\\\\}/g\\n  const result = text.replace(pattern, replaceMatch);\\n  return result.trim();\\n}\\n\\nconst row = $json;\\nconst settings = $(\\\"Settings\\\").first().json;\\nconst config = $(\\\"Config\\\").first().json;\\nconst prompt_key = 'prompt_' + row.Action;\\nconst prompt = replacePlaceholders(config[prompt_key], row, config);\\nconst model_key = prompt_key + '_model';\\nconst model = replacePlaceholders(config[model_key], row, config);\\nconst outputFormat = config[prompt_key + '_outputFormat'];\\nconst takeAction = row.Action != row.Status;\\nconst action = row.Action\\n\\n// console.log('prompt', prompt);\\n\\n// console.log(prompt);\\nreturn { takeAction, action, model_key, model, prompt_key, prompt, outputFormat, row, config, settings }\"},\"typeVersion\":2},{\"id\":\"db294805-df67-4266-919f-94fb0f32c593\",\"name\":\"RecombinedDataRow\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,280],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"/**\\n * Attempts to parse the \\\"text\\\" property in a JSON object\\n * that may contain malformed or incorrectly escaped JSON.\\n *\\n * @param {Object} raw - A string to parse.\\n * @returns {Object|null} The parsed JSON object if successful, or null if all attempts fail.\\n */\\nfunction parseTextAsJson(raw) {\\n  // 1) First, try a direct parse.\\n  try {\\n    return JSON.parse(raw);\\n  } catch (e) {\\n    // Continue to next strategy\\n  }\\n\\n  // Common \\\"fix-up\\\" strategies:\\n  // Strategy A: Attempt to remove over-escaped quotes like `\\\\\\\\\\\"` -> `\\\"`\\n  try {\\n    const fixedA = raw.replace(/\\\\\\\\\\\"/g, '\\\"');\\n    return JSON.parse(fixedA);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy B: Remove escaped newlines, tabs, carriage returns if they’re suspected\\n  try {\\n    const fixedB = raw\\n      .replace(/\\\\\\\\n/g, ' ')\\n      .replace(/\\\\\\\\r/g, ' ')\\n      .replace(/\\\\\\\\t/g, ' ');\\n    return JSON.parse(fixedB);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy C: Replace single quotes with double quotes (useful if the JSON was incorrectly quoted).\\n  // NOTE: This is a very rough fix. If your data legitimately includes single quotes you may need\\n  // a more nuanced approach.\\n  try {\\n    const fixedC = raw.replace(/'/g, '\\\"');\\n    return JSON.parse(fixedC);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy D: Combine strategies or chain them if needed:\\n  // For example, single-quote fix plus removing new lines, etc.\\n  try {\\n    let fixedD = raw.replace(/\\\\\\\\\\\"/g, '\\\"');\\n    fixedD = fixedD.replace(/\\\\\\\\n|\\\\\\\\r|\\\\\\\\t/g, ' ');\\n    fixedD = fixedD.replace(/'/g, '\\\"');\\n    return JSON.parse(fixedD);\\n  } catch (e) {\\n    // If all attempts fail, log or handle the error as needed\\n    console.error('Could not parse \\\"text\\\" property as JSON.', e);\\n    return { 'Fulltext': raw };\\n  }\\n}\\n\\nfunction isolateCurlySubstring(str) {\\n  // This pattern greedily matches everything from the first '{' to the last '}'.\\n  const match = str.match(/\\\\{[\\\\s\\\\S]*\\\\}/);\\n  \\n  // If a match is found, return it; otherwise return the entire string.\\n  return match ? match[0] : str;\\n}\\n\\nfunction fixJsonSyntax(str) {\\n  str = str.replace('\\\\\\\"', '\\\"');\\n  str = str\\n        .split(/(\\\"[^\\\"]*\\\"|'[^']*')/)\\n        .map((part, i) => i % 2 ? part : part.replace(/\\\\n/g, \\\" \\\"))\\n        .join(\\\"\\\");\\n  return str;\\n}\\n\\nfunction normalizeLLMOutput(param, iteration = 3) {\\n  // If it's not an object or it's null or an array, just return it as is.\\n  // (In some workflows, you might decide to throw an error or handle differently.)\\n  if (!iteration || typeof param !== 'object' || param === null || Array.isArray(param)) {\\n    return param;\\n  }\\n\\n  // Get the object's own property keys\\n  const keys = Object.keys(param);\\n\\n  // If there's more than one property, we assume it's already the complex object we want.\\n  if (keys.length > 1) {\\n    // console.log('keys > 1 → return param', param);\\n    return param;\\n  }\\n\\n  // If there are no properties, just return it (though this is likely an empty object).\\n  if (keys.length === 0) {\\n    return param;\\n  }\\n\\n  // If there's exactly one property, it might be a JSON-string that we need to parse.\\n  const singleKey = keys[0];\\n  const value = param[singleKey];\\n  // If that single property is a string, fix it and try to parse it as JSON.\\n  if (typeof value === 'string') {\\n    try {\\n      return parseTextAsJson(isolateCurlySubstring(value));\\n    } catch (e) {\\n      console.log('value is string → parse failed with error:', e.toString(), '→ return param:', param, 'value:', value);\\n      // Parsing failed; perhaps it's just a plain string or invalid JSON, so return as is.\\n      return param;\\n    }\\n  }\\n\\n  // Otherwise, repeat this process itratively.\\n  return normalizeLLMOutput(value, iteration-1);\\n}\\n\\nconst preparedData = $(\\\"PreparedData\\\").itemMatching($itemIndex).json;\\nconst row = preparedData.row;\\nlet gen = normalizeLLMOutput($json);\\nlet fulltext = gen.hasOwnProperty('Fulltext') ? gen.Fulltext : gen;\\n\\n// Append any fulltext field returned to the field\\n// in our data row corresponding to the current action. \\ngen[row.Action] = fulltext;\\n\\n// Concatenate any generated fields with those already exisiting\\n// in our data row (using seperator if necessary),\\n// so we don't loose any pre-entered data.\\nconst combined = {};\\nObject.keys(gen).forEach(key => {\\n  const a = String(row[key] ?? \\\"\\\");\\n  const b = String(gen[key]);\\n  combined[key] = (a && b) ? (a + \\\"\\\\n---\\\\n\\\" + b) : (a || b);\\n});\\n\\n// Add the row number and set the new status to the action just performed.\\ncombined.row_number = row.row_number;\\ncombined.Status = row.Action;\\ncombined.model = preparedData.model;\\n\\nreturn combined;\"},\"typeVersion\":2},{\"id\":\"e0c993c1-678f-4236-8976-735cccb49fee\",\"name\":\"SaveBackToSheet\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[480,280],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Topic\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Topic\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Scheduled\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Scheduled\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Status\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Action\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Action\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Context\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Context\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Idea\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Idea\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Content\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Content\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Length\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Length\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Media\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Media\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"LinksInternal\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"LinksInternal\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"LinksExternal\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"LinksExternal\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Sections\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Sections\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"MainPoints\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"MainPoints\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"GuidingPrinciple\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"GuidingPrinciple\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Metaphor\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Metaphor\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Draft\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Draft\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Final\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Final\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"internal notes\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"internal notes\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[\"row_number\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{\"handlingExtraData\":\"ignoreIt\"},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetSchedule }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"e0b982d9-d24e-4fd0-bc03-8642cd4c988b\",\"name\":\"IfActionPublish\",\"type\":\"n8n-nodes-base.if\",\"position\":[500,-80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"c3735d0d-da54-44e7-afe6-fdfacb6117f2\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.row.Action }}\",\"rightValue\":\"={{ $('Settings').item.json.actionPublish }}\"}]}},\"typeVersion\":2.2},{\"id\":\"1d5c2731-61a1-434c-bdf1-294217e4ac1c\",\"name\":\"IfTakeAction\",\"type\":\"n8n-nodes-base.if\",\"position\":[260,-80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"85536861-b213-4567-9c9a-f844a28b5405\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.takeAction }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"aae766a4-d29e-4357-a344-74ee36a382e1\",\"name\":\"IfPromptExists\",\"type\":\"n8n-nodes-base.if\",\"position\":[-600,280],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"73333657-16ed-4b0d-a81f-34add6c22a1b\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $json.prompt }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"5b4c4bdf-8997-4c19-8e95-8c84b725404c\",\"name\":\"Basic LLM Chain\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[-360,280],\"parameters\":{\"text\":\"={{ $json.prompt }}\",\"promptType\":\"define\"},\"typeVersion\":1.5},{\"id\":\"8dc422a3-6b86-4f57-8c4c-df6422f72f57\",\"name\":\"CreatePost\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-220,780],\"parameters\":{\"url\":\"=https://{{ $('Settings').item.json.urlWordpress }}/xmlrpc.php\",\"body\":\"={{ $json.xmlRequestBody }}\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"contentType\":\"raw\",\"sendHeaders\":true,\"rawContentType\":\"text/xml\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"text/xml\"}]}},\"typeVersion\":4.2},{\"id\":\"6ad42453-d56b-4bae-aaf3-eb689df998cc\",\"name\":\"SetToPublish\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[700,780],\"parameters\":{\"columns\":{\"value\":{\"Status\":\"={{ $('Settings').item.json.actionPublish }}\",\"row_number\":\"={{ $('PreparedData').item.json.row.row_number }}\"},\"schema\":[{\"id\":\"ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Topic\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Topic\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Scheduled\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Scheduled\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Status\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Action\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Action\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Context\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Context\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Ideas\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Ideas\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Content\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Content\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Length\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Length\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Media\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Media\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"LinksInternal\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"LinksInternal\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"LinksExternal\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"LinksExternal\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Sections\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Sections\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"MainPoints\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"MainPoints\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"GuidingPrinciple\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"GuidingPrinciple\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Metaphor\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Metaphor\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"Title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"draft\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"draft\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"words\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"words\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"final\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"final\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"words\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"words\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"TeaserTitle\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"TeaserTitle\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"TeaserText\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"TeaserText\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"internal notes\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"internal notes\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"row_number\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"row_number\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"row_number\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"update\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetSchedule }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"a1af0f00-de59-48d4-93d2-9cc20e7f1c1c\",\"name\":\"PrepareXmlPost\",\"type\":\"n8n-nodes-base.code\",\"position\":[-380,780],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"const username = $('Settings').item.json.wordpressUsername;\\nconst password = $('Settings').item.json.wordpressApplicationPassword;\\nconst blogId = 0;\\nconst published = 1; // 0 = draft, 1 = published\\nconst title = $json.row.Title;\\nconst text = $json.row.final;\\n\\n// Helper function to escape XML special characters\\nfunction escapeXml(unsafe) {\\n  return unsafe.replace(/[<>&'\\\"]/g, (c) => {\\n    switch (c) {\\n      case '<': return '&lt;';\\n      case '>': return '&gt;';\\n      case '&': return '&amp;';\\n      case '\\\\'': return '&apos;';\\n      case '\\\"': return '&quot;';\\n      default: return c;\\n    }\\n  });\\n}\\n\\n// Your actual post text, which may contain characters needing escaping\\nconst titleEscaped = escapeXml(title);\\nconst textEscaped = escapeXml(text);\\n\\n// Build the XML payload\\nconst xmlData = `<?xml version=\\\"1.0\\\"?>\\n<methodCall>\\n  <methodName>wp.newPost</methodName>\\n  <params>\\n    <param>\\n      <value><string>${blogId}</string></value>\\n    </param>\\n    <param>\\n      <value><string>${username}</string></value>\\n    </param>\\n    <param>\\n      <value><string>${password}</string></value>\\n    </param>\\n    <param>\\n      <value>\\n        <struct>\\n          <member>\\n            <name>post_title</name>\\n            <value><string>${titleEscaped}</string></value>\\n          </member>\\n          <member>\\n            <name>post_content</name>\\n            <value><string>${textEscaped}</string></value>\\n          </member>\\n        </struct>\\n      </value>\\n    </param>\\n    <param>\\n      <value><boolean>${published}</boolean></value>\\n    </param>\\n  </params>\\n</methodCall>`;\\n\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\n$input.item.json.xmlRequestBody = xmlData;\\n\\nreturn $input.item;\"},\"typeVersion\":2},{\"id\":\"00e6d2ab-6dc4-42ba-8a92-04a35d104908\",\"name\":\"HandleXMLRPCResponse\",\"type\":\"n8n-nodes-base.code\",\"position\":[40,780],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"// Get the XML response from the incoming JSON\\nconst xmlResponse = $json.data;\\n\\n// Helper function to extract a value by matching a regex pattern\\nfunction extractValue(pattern, xml) {\\n  const match = xml.match(pattern);\\n  return match ? match[1] : null;\\n}\\n\\n// Check if the XML contains a fault\\nif (xmlResponse.indexOf(\\\"<fault>\\\") !== -1) {\\n  // Extract the faultCode and faultString using regex\\n  // This regex matches the value inside <int> or <string> for faultCode\\n  const faultCode = extractValue(/<name>faultCode<\\\\/name>\\\\s*<value><(?:int|string)>(.*?)<\\\\/(?:int|string)>/s, xmlResponse);\\n  // This regex extracts the faultString from within <string>\\n  const faultString = extractValue(/<name>faultString<\\\\/name>\\\\s*<value><string>(.*?)<\\\\/string>/s, xmlResponse);\\n  return { 'errorCode': faultCode, 'error': faultString };\\n} else {\\n  // Otherwise, assume a successful response.\\n  // The post ID is contained inside a <string> tag within <params>\\n  const postId = extractValue(/<params>[\\\\s\\\\S]*?<string>(.*?)<\\\\/string>/, xmlResponse);\\n  return { postId };\\n}\"},\"typeVersion\":2},{\"id\":\"23212e92-4ad1-4a8c-8e0a-04d8d2a4511d\",\"name\":\"PostingSuccessful\",\"type\":\"n8n-nodes-base.if\",\"position\":[480,780],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"815d85a1-8f91-4338-977f-503f02c53ea2\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $('HandleXMLRPCResponse').item.json.postId }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"45c786f0-d795-4ed4-b6d2-f005b43e797f\",\"name\":\"LogStatus\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[260,280],\"parameters\":{\"columns\":{\"value\":{\"Date\":\"={{ $now }}\",\"Type\":\"=info\",\"Message\":\"=Status {{ $json.Status }} for row {{ $('PreparedData').item.json.row.row_number }}\"},\"schema\":[{\"id\":\"Date\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Date\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Type\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Type\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Message\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Message\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetLog }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"f58306f5-a5e9-4e44-9c5d-3810e18e6605\",\"name\":\"LogPublished\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[260,780],\"parameters\":{\"columns\":{\"value\":{\"Date\":\"={{ $now }}\",\"Type\":\"={{ $json.errorCode ? 'error' : 'info' }}\",\"Message\":\"=Publishing row {{ $('PreparedData').item.json.row.row_number }}:  {{ $json.postId }}{{ $json.errorCode }}{{ $json.error }}\"},\"schema\":[{\"id\":\"Date\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Date\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Type\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Type\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Message\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Message\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"name\",\"value\":\"={{ $('Settings').item.json.sheetLog }}\"},\"documentId\":{\"__rl\":true,\"mode\":\"url\",\"value\":\"={{ $('Settings').item.json.urlSpreadsheet }}\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"XeXufn5uZvHp3lcX\",\"name\":\"Google Sheets account 2\"}},\"typeVersion\":4.5},{\"id\":\"c227b790-e1ee-4370-9f24-a734443d1e97\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-460,-300],\"parameters\":{\"width\":180,\"height\":360,\"content\":\"## Settings\"},\"typeVersion\":1},{\"id\":\"904da209-68fd-4139-885f-bd3f25034aeb\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-440,180],\"parameters\":{\"color\":3,\"width\":380,\"height\":380,\"content\":\"## Author Blog-Post\\nUsing OpenRouter to make model fully configurable for each authoring stage\"},\"typeVersion\":1},{\"id\":\"29f35bf0-6dd3-4c3c-b688-73eb46781c87\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,-300],\"parameters\":{\"color\":5,\"height\":360,\"content\":\"## Post-process Data\\n{{ Placehoder }} replacement\"},\"typeVersion\":1},{\"id\":\"296c3257-836d-488c-b048-72261180e286\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[220,180],\"parameters\":{\"color\":4,\"width\":180,\"height\":380,\"content\":\"## Log to Sheet\"},\"typeVersion\":1},{\"id\":\"42a06803-087f-4dc4-9dd5-1f0281942a30\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[420,180],\"parameters\":{\"color\":6,\"width\":420,\"height\":380,\"content\":\"## Save Result To Sheet\"},\"typeVersion\":1},{\"id\":\"7a6393e9-ae81-4b9b-856b-7be18f783cf4\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-440,620],\"parameters\":{\"color\":3,\"width\":380,\"height\":380,\"content\":\"## Publish Blog-Post\\nUse a generic XMLHttpRequest with subsequent response handling, since the Wordpress node did not work at all.\"},\"typeVersion\":1},{\"id\":\"2d154bd4-c3bc-4137-90ce-7885bac77c71\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,180],\"parameters\":{\"color\":5,\"height\":380,\"content\":\"## Post-process Data\\nNormalize and re-merge output data structure.  \"},\"typeVersion\":1},{\"id\":\"83834b00-a647-403f-b88a-4c38d9750eb0\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,620],\"parameters\":{\"color\":5,\"height\":380,\"content\":\"## Post-process Data\\nExtract post id or error message from response.\"},\"typeVersion\":1},{\"id\":\"e7494d0b-b796-437e-b977-a5350b1a8dc5\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[220,620],\"parameters\":{\"color\":4,\"width\":180,\"height\":380,\"content\":\"## Log to Sheet\"},\"typeVersion\":1},{\"id\":\"1d036f6a-c6e4-428d-b0ce-1e710eb7d90c\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[420,620],\"parameters\":{\"color\":6,\"width\":420,\"height\":380,\"content\":\"## Save Status To Sheet\"},\"typeVersion\":1},{\"id\":\"105e0743-b4e8-47d7-a4bf-3939df43a43c\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-640,160],\"parameters\":{\"color\":7,\"width\":1500,\"height\":420,\"content\":\"## Authoring\\n## Stage\"},\"typeVersion\":1},{\"id\":\"80fefb90-35b2-4f0b-b4d5-1cca8519361d\",\"name\":\"Sticky Note11\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-640,600],\"parameters\":{\"color\":7,\"width\":1500,\"height\":420,\"content\":\"## Publishing\\n## Stage\"},\"typeVersion\":1},{\"id\":\"99b0a7b7-6513-47b0-af16-ee66d37dd821\",\"name\":\"Sticky Note12\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,-300],\"parameters\":{\"width\":200,\"height\":360,\"content\":\"## Config & Data\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"7005e556-a7ae-484c-af71-57c75abd3e17\",\"connections\":{\"Config\":{\"main\":[[]]},\"AgentLLM\":{\"ai_languageModel\":[[{\"node\":\"Basic LLM Chain\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Schedule\":{\"main\":[[{\"node\":\"PreparedData\",\"type\":\"main\",\"index\":0}]]},\"Settings\":{\"main\":[[{\"node\":\"fetchConfig\",\"type\":\"main\",\"index\":0},{\"node\":\"Schedule\",\"type\":\"main\",\"index\":0}]]},\"LogStatus\":{\"main\":[[{\"node\":\"SaveBackToSheet\",\"type\":\"main\",\"index\":0}]]},\"CreatePost\":{\"main\":[[{\"node\":\"HandleXMLRPCResponse\",\"type\":\"main\",\"index\":0}]]},\"fetchConfig\":{\"main\":[[{\"node\":\"Config\",\"type\":\"main\",\"index\":0}]]},\"IfTakeAction\":{\"main\":[[{\"node\":\"IfActionPublish\",\"type\":\"main\",\"index\":0}]]},\"LogPublished\":{\"main\":[[{\"node\":\"PostingSuccessful\",\"type\":\"main\",\"index\":0}]]},\"PreparedData\":{\"main\":[[{\"node\":\"IfTakeAction\",\"type\":\"main\",\"index\":0}]]},\"SetToPublish\":{\"main\":[[]]},\"ManualTrigger\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]},\"IfPromptExists\":{\"main\":[[{\"node\":\"Basic LLM Chain\",\"type\":\"main\",\"index\":0}]]},\"IfScheduledNow\":{\"main\":[[{\"node\":\"PrepareXmlPost\",\"type\":\"main\",\"index\":0}]]},\"PrepareXmlPost\":{\"main\":[[{\"node\":\"CreatePost\",\"type\":\"main\",\"index\":0}]]},\"Basic LLM Chain\":{\"main\":[[{\"node\":\"RecombinedDataRow\",\"type\":\"main\",\"index\":0}]]},\"IfActionPublish\":{\"main\":[[{\"node\":\"IfScheduledNow\",\"type\":\"main\",\"index\":0}],[{\"node\":\"IfPromptExists\",\"type\":\"main\",\"index\":0}]]},\"SaveBackToSheet\":{\"main\":[[]]},\"ScheduleTrigger\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]},\"PostingSuccessful\":{\"main\":[[{\"node\":\"SetToPublish\",\"type\":\"main\",\"index\":0}]]},\"RecombinedDataRow\":{\"main\":[[{\"node\":\"LogStatus\",\"type\":\"main\",\"index\":0}]]},\"HandleXMLRPCResponse\":{\"main\":[[{\"node\":\"LogPublished\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### What it is:\n\n  * An automation to plan→draft→finalize and publish your textual blog post ideas to your wordpress blog\n  * Works in stages and hand back control to you in between those\n  * You can use a Google Spreadsheet for planning topics and configuring LLM models and prompts\n\n\n\n### What it does:\n\n  * plans→drafts→finalizes blog post topics you specify in a Google Spreadsheet using an LLM with prompts that also ar configured in that spreadsheet (even which model to use)\n  * savs the results in the corresponding  \ncolumns of the \"Schedule\" sheet in the spreadsheet\n  * hands control back to the user for inspecting or changing the results and for setting the next \"Action\" for th workflow\n  * Finally publishes the blog post to your Wordpress instance\n\n\n\n### Limitations\n\n  * Probably _slightly_ over-engineered ;-)\n  * No media generation yet\n  * some LLM models don't work because of their output format\n\n\n\n### How it works:\n\n  * The Workflow is triggered manually or scheduled every hour\n  * It ingests a [Google Spreadsheet](https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?usp=sharing) to get \n    * Config for prompts/context tc\n    * Blog-Topics and their status and next action\n  * Depending on each blog topics \"Status\" and \"Action\" it then either uses an LLM for th next action (\"plan\"→\"draft\"→\"final\" actions) or publishes the written content to your Wordpress instance (\"publish\" actions)\n\n\n\n### Set up steps:\n\n  * Import the workflow\n  * Make your own copy of the [Google Spreadsheet](https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?usp=sharing)\n  * Update the credentials using your individual credentials for: \n    * Google Spreadsheets\n    * OpenRouter\n  * Edit the \"Settings\" node and enter your individual values for \n    * Your spreadsheet copy URL\n    * Your wordpress blog URL\n    * Your wordpress blog username\n    * Your wordpress blog _app_ password (a 4x4 alphanumeric sequence), that you probably have to create first, for which your wordpress user has to have 2-factor-authentication enabled.\n  * In your own copy of the spreadsheet: \n    * individualize the \"Config\" sheet's \"Value\" column for the prompts/context/etc\n    * Populate the \"Schedule\" sheet with at least one line in which you specify \n      * a \"Topic\"\n      * a \"Schedulded\" date (YYYY-MM-DD HH:mm:ss)\n      * a \"Status\" of \"idea\"\n      * an \"Action\" of \"plan\" (to kick off that action)\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h3>What it is:</h3>\n<ul>\n<li>An automation to plan→draft→finalize and publish your textual blog post ideas to your wordpress blog</li>\n<li>Works in stages and hand back control to you in between those</li>\n<li>You can use a Google Spreadsheet for planning topics and configuring LLM models and prompts</li>\n</ul>\n<h3>What it does:</h3>\n<ul>\n<li>plans→drafts→finalizes blog post topics you specify in a Google Spreadsheet using an LLM with prompts that also ar configured in that spreadsheet (even which model to use)</li>\n<li>savs the results in the corresponding<br>\ncolumns of the \"Schedule\" sheet in the spreadsheet</li>\n<li>hands control back to the user for inspecting or changing the results and for setting the next \"Action\" for th workflow</li>\n<li>Finally publishes the blog post to your Wordpress instance</li>\n</ul>\n<h3>Limitations</h3>\n<ul>\n<li>Probably <em>slightly</em> over-engineered ;-)</li>\n<li>No media generation yet</li>\n<li>some LLM models don't work because of their output format</li>\n</ul>\n<h3>How it works:</h3>\n<ul>\n<li>The Workflow is triggered manually or scheduled every hour</li>\n<li>It ingests a <a href=\"https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?usp=sharing\" rel=\"ugc nofollow\" target=\"_blank\">Google Spreadsheet</a> to get\n<ul>\n<li>Config for prompts/context tc</li>\n<li>Blog-Topics and their status and next action</li>\n</ul>\n</li>\n<li>Depending on each blog topics \"Status\" and \"Action\" it then either uses an LLM for th next action (\"plan\"→\"draft\"→\"final\" actions) or publishes the written content to your Wordpress instance (\"publish\" actions)</li>\n</ul>\n<h3>Set up steps:</h3>\n<ul>\n<li>Import the workflow</li>\n<li>Make your own copy of the <a href=\"https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?usp=sharing\" rel=\"ugc nofollow\" target=\"_blank\">Google Spreadsheet</a></li>\n<li>Update the credentials using your individual credentials for:\n<ul>\n<li>Google Spreadsheets</li>\n<li>OpenRouter</li>\n</ul>\n</li>\n<li>Edit the \"Settings\" node and enter your individual values for\n<ul>\n<li>Your spreadsheet copy URL</li>\n<li>Your wordpress blog URL</li>\n<li>Your wordpress blog username</li>\n<li>Your wordpress blog <em>app</em> password (a 4x4 alphanumeric sequence), that you probably have to create first, for which your wordpress user has to have 2-factor-authentication enabled.</li>\n</ul>\n</li>\n<li>In your own copy of the spreadsheet:\n<ul>\n<li>individualize the \"Config\" sheet's \"Value\" column for the prompts/context/etc</li>\n<li>Populate the \"Schedule\" sheet with at least one line in which you specify\n<ul>\n<li>a \"Topic\"</li>\n<li>a \"Schedulded\" date (YYYY-MM-DD HH:mm:ss)</li>\n<li>a \"Status\" of \"idea\"</li>\n<li>an \"Action\" of \"plan\" (to kick off that action)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### 功能概述：\n\n  * 一套自动化流程，用于将您的博客文章构思从规划→草拟→定稿并发布至WordPress博客\n  * 分阶段运行，每个阶段结束后将控制权交还用户\n  * 支持通过谷歌电子表格规划主题、配置大语言模型及提示词",
  "title_zh": "从谷歌表格撰写并发布博客文章",
  "publish_date_absolute": "2025-03-06",
  "publish_date_zh": "最后更新于2个月前",
  "workflow_json_zh": "{\n  \"id\": \"b0KRVIuuUxE5afHo\",\n  \"meta\": {\n    \"instanceId\": \"98bf0d6aef1dd8b7a752798121440fb171bf7686b95727fd617f43452393daa3\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Blog Automation TEMPLATE\",\n  \"tags\": [\n    {\n      \"id\": \"uumvgGHY5e6zEL7V\",\n      \"name\": \"Published Template\",\n      \"createdAt\": \"2025-02-10T11:18:10.923Z\",\n      \"updatedAt\": \"2025-02-10T11:18:10.923Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"20e00146-6bda-4a8a-9544-bf7e5fd4e12e\",\n      \"name\": \"Settings\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -420,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"528b371f-0fba-4be1-9801-0502652da23e\",\n              \"name\": \"urlSpreadsheet\",\n              \"type\": \"string\",\n              \"value\": \"https://docs.google.com/spreadsheets/d/1Kg1-U6mJF4bahH1jCw8kT48MiKz1UMC5n-9q77BHM3Q/edit?gid=0#gid=0\"\n            },\n            {\n              \"id\": \"1be018c7-51fe-4ea2-967d-ce47a2e8795c\",\n              \"name\": \"urlWordpress\",\n              \"type\": \"string\",\n              \"value\": \"SUBDOMAIN.wordpress.com\"\n            },\n            {\n              \"id\": \"95377f4f-184b-46a7-94c7-b2313c314cb2\",\n              \"name\": \"wordpressUsername\",\n              \"type\": \"string\",\n              \"value\": \"YourUserName\"\n            },\n            {\n              \"id\": \"fdc99dc6-d9b0-4d2f-b770-1d8b6b360cad\",\n              \"name\": \"wordpressApplicationPassword\",\n              \"type\": \"string\",\n              \"value\": \"y0ur app1 p4ss w0rd\"\n            },\n            {\n              \"id\": \"517cb9ff-24fc-41d6-8bcc-253078f56356\",\n              \"name\": \"sheetSchedule\",\n              \"type\": \"string\",\n              \"value\": \"=Schedule\"\n            },\n            {\n              \"id\": \"584e11da-546b-4472-8674-33ca7e8f4f30\",\n              \"name\": \"sheetConfig\",\n              \"type\": \"string\",\n              \"value\": \"Config\"\n            },\n            {\n              \"id\": \"ba38cb1e-fd97-4aed-9147-1946c318ddab\",\n              \"name\": \"actionPublish\",\n              \"type\": \"string\",\n              \"value\": \"publish\"\n            },\n            {\n              \"id\": \"678394b5-20af-4718-9249-4ff6a3c77018\",\n              \"name\": \"actionUpdate\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"f375b2fa-8772-4313-9d6b-a104edd918b3\",\n              \"name\": \"sheetLog\",\n              \"type\": \"string\",\n              \"value\": \"Log\"\n            },\n            {\n              \"id\": \"3d7f9677-c753-4126-b33a-d78ef701771f\",\n              \"name\": \"\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"35731842-9215-43df-9009-9b130d663237\",\n      \"name\": \"ScheduleTrigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -620,\n        -280\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"4c284d44-ac46-4cdf-9dcb-727b464269a0\",\n      \"name\": \"ManualTrigger\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -620,\n        -100\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b63e7345-67d0-4761-8c1a-49275f34e88d\",\n      \"name\": \"Schedule\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -220,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetSchedule }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"5fed06a3-3188-4aed-8040-04e245b74e20\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        40,\n        -220\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let a = $(\\\"fetchConfig\\\").all();\\nlet params = {};\\na.forEach(p => params[p.json.Key] = p.json.Value);\\n\\nreturn params;\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"685490c8-6b45-40c2-b4db-e97a81c4be8e\",\n      \"name\": \"fetchConfig\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -220,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetConfig }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"52a39db8-f9cc-44bb-9c3e-a9abf5821a04\",\n      \"name\": \"AgentLLM\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -400,\n        440\n      ],\n      \"parameters\": {\n        \"model\": \"={{ $json.model }}\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"66JEQJ5kJel1P9t3\",\n          \"name\": \"OpenRouter\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"6a311ac4-032b-42da-b06e-c916209d2843\",\n      \"name\": \"IfScheduledNow\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -620,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"loose\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"bb707069-b372-4bbd-8ba5-b7f6b492ab9d\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"gte\"\n              },\n              \"leftValue\": \"={{ DateTime.now().ts }}\",\n              \"rightValue\": \"={{ DateTime.fromFormat($json.row.Scheduled, \\\"yyyy-MM-dd HH:mm:ss\\\").ts }}\"\n            }\n          ]\n        },\n        \"looseTypeValidation\": true\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"845e419b-15ad-4548-86c5-44bda0433b71\",\n      \"name\": \"PreparedData\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        40,\n        -80\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"function replacePlaceholders(text, row, config) {\\n  function checkProp(prop, lookup) {\\n    // console.log('checkProp:' + prop);\\n    if (!lookup.hasOwnProperty(prop)) return false;\\n    let value = lookup[prop];\\n    if (typeof(value) == 'string') {\\n      value = value.trim();\\n      if (value == '') return false;\\n    }\\n    // console.log('checkProp found:', value)\\n    return value;\\n  }\\n  function replaceMatch(fullMatch, prop) { \\n    prop = prop.trim();\\n    // Return the corresponding value\\n    return checkProp(prop, row)\\n        || checkProp(prop, config)\\n        || checkProp(prop + checkProp('Context', row), config)\\n        || `[could not find \\\"${ prop }]\\\"`;\\n  }\\n\\n  if (typeof(text) != 'string') return '';\\n\\n  // Regex to capture {{ ... }}\\n  const pattern = /\\\\{\\\\{\\\\s*([^}]+)\\\\s*\\\\}\\\\}/g\\n  const result = text.replace(pattern, replaceMatch);\\n  return result.trim();\\n}\\n\\nconst row = $json;\\nconst settings = $(\\\"Settings\\\").first().json;\\nconst config = $(\\\"Config\\\").first().json;\\nconst prompt_key = 'prompt_' + row.Action;\\nconst prompt = replacePlaceholders(config[prompt_key], row, config);\\nconst model_key = prompt_key + '_model';\\nconst model = replacePlaceholders(config[model_key], row, config);\\nconst outputFormat = config[prompt_key + '_outputFormat'];\\nconst takeAction = row.Action != row.Status;\\nconst action = row.Action\\n\\n// console.log('prompt', prompt);\\n\\n// console.log(prompt);\\nreturn { takeAction, action, model_key, model, prompt_key, prompt, outputFormat, row, config, settings }\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"db294805-df67-4266-919f-94fb0f32c593\",\n      \"name\": \"RecombinedDataRow\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        40,\n        280\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"/**\\n * Attempts to parse the \\\"text\\\" property in a JSON object\\n * that may contain malformed or incorrectly escaped JSON.\\n *\\n * @param {Object} raw - A string to parse.\\n * @returns {Object|null} The parsed JSON object if successful, or null if all attempts fail.\\n */\\nfunction parseTextAsJson(raw) {\\n  // 1) First, try a direct parse.\\n  try {\\n    return JSON.parse(raw);\\n  } catch (e) {\\n    // Continue to next strategy\\n  }\\n\\n  // Common \\\"fix-up\\\" strategies:\\n  // Strategy A: Attempt to remove over-escaped quotes like `\\\\\\\\\\\"` -> `\\\"`\\n  try {\\n    const fixedA = raw.replace(/\\\\\\\\\\\"/g, '\\\"');\\n    return JSON.parse(fixedA);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy B: Remove escaped newlines, tabs, carriage returns if they’re suspected\\n  try {\\n    const fixedB = raw\\n      .replace(/\\\\\\\\n/g, ' ')\\n      .replace(/\\\\\\\\r/g, ' ')\\n      .replace(/\\\\\\\\t/g, ' ');\\n    return JSON.parse(fixedB);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy C: Replace single quotes with double quotes (useful if the JSON was incorrectly quoted).\\n  // NOTE: This is a very rough fix. If your data legitimately includes single quotes you may need\\n  // a more nuanced approach.\\n  try {\\n    const fixedC = raw.replace(/'/g, '\\\"');\\n    return JSON.parse(fixedC);\\n  } catch (e) {\\n    // Continue\\n  }\\n\\n  // Strategy D: Combine strategies or chain them if needed:\\n  // For example, single-quote fix plus removing new lines, etc.\\n  try {\\n    let fixedD = raw.replace(/\\\\\\\\\\\"/g, '\\\"');\\n    fixedD = fixedD.replace(/\\\\\\\\n|\\\\\\\\r|\\\\\\\\t/g, ' ');\\n    fixedD = fixedD.replace(/'/g, '\\\"');\\n    return JSON.parse(fixedD);\\n  } catch (e) {\\n    // If all attempts fail, log or handle the error as needed\\n    console.error('Could not parse \\\"text\\\" property as JSON.', e);\\n    return { 'Fulltext': raw };\\n  }\\n}\\n\\nfunction isolateCurlySubstring(str) {\\n  // This pattern greedily matches everything from the first '{' to the last '}'.\\n  const match = str.match(/\\\\{[\\\\s\\\\S]*\\\\}/);\\n  \\n  // If a match is found, return it; otherwise return the entire string.\\n  return match ? match[0] : str;\\n}\\n\\nfunction fixJsonSyntax(str) {\\n  str = str.replace('\\\\\\\"', '\\\"');\\n  str = str\\n        .split(/(\\\"[^\\\"]*\\\"|'[^']*')/)\\n        .map((part, i) => i % 2 ? part : part.replace(/\\\\n/g, \\\" \\\"))\\n        .join(\\\"\\\");\\n  return str;\\n}\\n\\nfunction normalizeLLMOutput(param, iteration = 3) {\\n  // If it's not an object or it's null or an array, just return it as is.\\n  // (In some workflows, you might decide to throw an error or handle differently.)\\n  if (!iteration || typeof param !== 'object' || param === null || Array.isArray(param)) {\\n    return param;\\n  }\\n\\n  // Get the object's own property keys\\n  const keys = Object.keys(param);\\n\\n  // If there's more than one property, we assume it's already the complex object we want.\\n  if (keys.length > 1) {\\n    // console.log('keys > 1 → return param', param);\\n    return param;\\n  }\\n\\n  // If there are no properties, just return it (though this is likely an empty object).\\n  if (keys.length === 0) {\\n    return param;\\n  }\\n\\n  // If there's exactly one property, it might be a JSON-string that we need to parse.\\n  const singleKey = keys[0];\\n  const value = param[singleKey];\\n  // If that single property is a string, fix it and try to parse it as JSON.\\n  if (typeof value === 'string') {\\n    try {\\n      return parseTextAsJson(isolateCurlySubstring(value));\\n    } catch (e) {\\n      console.log('value is string → parse failed with error:', e.toString(), '→ return param:', param, 'value:', value);\\n      // Parsing failed; perhaps it's just a plain string or invalid JSON, so return as is.\\n      return param;\\n    }\\n  }\\n\\n  // Otherwise, repeat this process itratively.\\n  return normalizeLLMOutput(value, iteration-1);\\n}\\n\\nconst preparedData = $(\\\"PreparedData\\\").itemMatching($itemIndex).json;\\nconst row = preparedData.row;\\nlet gen = normalizeLLMOutput($json);\\nlet fulltext = gen.hasOwnProperty('Fulltext') ? gen.Fulltext : gen;\\n\\n// Append any fulltext field returned to the field\\n// in our data row corresponding to the current action. \\ngen[row.Action] = fulltext;\\n\\n// Concatenate any generated fields with those already exisiting\\n// in our data row (using seperator if necessary),\\n// so we don't loose any pre-entered data.\\nconst combined = {};\\nObject.keys(gen).forEach(key => {\\n  const a = String(row[key] ?? \\\"\\\");\\n  const b = String(gen[key]);\\n  combined[key] = (a && b) ? (a + \\\"\\\\n---\\\\n\\\" + b) : (a || b);\\n});\\n\\n// Add the row number and set the new status to the action just performed.\\ncombined.row_number = row.row_number;\\ncombined.Status = row.Action;\\ncombined.model = preparedData.model;\\n\\nreturn combined;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"e0c993c1-678f-4236-8976-735cccb49fee\",\n      \"name\": \"SaveBackToSheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        480,\n        280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"ID\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"ID\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Topic\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Topic\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Scheduled\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Scheduled\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Action\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Action\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Context\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Context\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Idea\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Idea\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Content\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Content\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Length\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Length\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Media\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Media\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinksInternal\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"LinksInternal\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinksExternal\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"LinksExternal\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Sections\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Sections\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"MainPoints\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"MainPoints\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"GuidingPrinciple\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"GuidingPrinciple\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Metaphor\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Metaphor\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Draft\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Draft\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Final\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Final\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"internal notes\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"internal notes\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": [\n            \"row_number\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {\n          \"handlingExtraData\": \"ignoreIt\"\n        },\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetSchedule }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"e0b982d9-d24e-4fd0-bc03-8642cd4c988b\",\n      \"name\": \"IfActionPublish\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        500,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c3735d0d-da54-44e7-afe6-fdfacb6117f2\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.row.Action }}\",\n              \"rightValue\": \"={{ $('Settings').item.json.actionPublish }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"1d5c2731-61a1-434c-bdf1-294217e4ac1c\",\n      \"name\": \"IfTakeAction\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        260,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"85536861-b213-4567-9c9a-f844a28b5405\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.takeAction }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"aae766a4-d29e-4357-a344-74ee36a382e1\",\n      \"name\": \"IfPromptExists\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -600,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"73333657-16ed-4b0d-a81f-34add6c22a1b\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.prompt }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"5b4c4bdf-8997-4c19-8e95-8c84b725404c\",\n      \"name\": \"Basic LLM Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        -360,\n        280\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.prompt }}\",\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"8dc422a3-6b86-4f57-8c4c-df6422f72f57\",\n      \"name\": \"CreatePost\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -220,\n        780\n      ],\n      \"parameters\": {\n        \"url\": \"=https://{{ $('Settings').item.json.urlWordpress }}/xmlrpc.php\",\n        \"body\": \"={{ $json.xmlRequestBody }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"raw\",\n        \"sendHeaders\": true,\n        \"rawContentType\": \"text/xml\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"text/xml\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6ad42453-d56b-4bae-aaf3-eb689df998cc\",\n      \"name\": \"SetToPublish\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        700,\n        780\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Status\": \"={{ $('Settings').item.json.actionPublish }}\",\n            \"row_number\": \"={{ $('PreparedData').item.json.row.row_number }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"ID\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"ID\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Topic\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Topic\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Scheduled\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Scheduled\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Action\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Action\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Context\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Context\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Ideas\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Ideas\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Content\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Content\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Length\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Length\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Media\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Media\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinksInternal\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"LinksInternal\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinksExternal\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"LinksExternal\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Sections\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Sections\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"MainPoints\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"MainPoints\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"GuidingPrinciple\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"GuidingPrinciple\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Metaphor\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Metaphor\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"Title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"draft\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"draft\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"words\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"words\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"final\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"final\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"words\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"words\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"TeaserTitle\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"TeaserTitle\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"TeaserText\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"TeaserText\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"internal notes\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"internal notes\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"row_number\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetSchedule }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"a1af0f00-de59-48d4-93d2-9cc20e7f1c1c\",\n      \"name\": \"PrepareXmlPost\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -380,\n        780\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"const username = $('Settings').item.json.wordpressUsername;\\nconst password = $('Settings').item.json.wordpressApplicationPassword;\\nconst blogId = 0;\\nconst published = 1; // 0 = draft, 1 = published\\nconst title = $json.row.Title;\\nconst text = $json.row.final;\\n\\n// Helper function to escape XML special characters\\nfunction escapeXml(unsafe) {\\n  return unsafe.replace(/[<>&'\\\"]/g, (c) => {\\n    switch (c) {\\n      case '<': return '&lt;';\\n      case '>': return '&gt;';\\n      case '&': return '&amp;';\\n      case '\\\\'': return '&apos;';\\n      case '\\\"': return '&quot;';\\n      default: return c;\\n    }\\n  });\\n}\\n\\n// Your actual post text, which may contain characters needing escaping\\nconst titleEscaped = escapeXml(title);\\nconst textEscaped = escapeXml(text);\\n\\n// Build the XML payload\\nconst xmlData = `<?xml version=\\\"1.0\\\"?>\\n<methodCall>\\n  <methodName>wp.newPost</methodName>\\n  <params>\\n    <param>\\n      <value><string>${blogId}</string></value>\\n    </param>\\n    <param>\\n      <value><string>${username}</string></value>\\n    </param>\\n    <param>\\n      <value><string>${password}</string></value>\\n    </param>\\n    <param>\\n      <value>\\n        <struct>\\n          <member>\\n            <name>post_title</name>\\n            <value><string>${titleEscaped}</string></value>\\n          </member>\\n          <member>\\n            <name>post_content</name>\\n            <value><string>${textEscaped}</string></value>\\n          </member>\\n        </struct>\\n      </value>\\n    </param>\\n    <param>\\n      <value><boolean>${published}</boolean></value>\\n    </param>\\n  </params>\\n</methodCall>`;\\n\\n\\n// Add a new field called 'myNewField' to the JSON of the item\\n$input.item.json.xmlRequestBody = xmlData;\\n\\nreturn $input.item;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"00e6d2ab-6dc4-42ba-8a92-04a35d104908\",\n      \"name\": \"HandleXMLRPCResponse\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        40,\n        780\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"// Get the XML response from the incoming JSON\\nconst xmlResponse = $json.data;\\n\\n// Helper function to extract a value by matching a regex pattern\\nfunction extractValue(pattern, xml) {\\n  const match = xml.match(pattern);\\n  return match ? match[1] : null;\\n}\\n\\n// Check if the XML contains a fault\\nif (xmlResponse.indexOf(\\\"<fault>\\\") !== -1) {\\n  // Extract the faultCode and faultString using regex\\n  // This regex matches the value inside <int> or <string> for faultCode\\n  const faultCode = extractValue(/<name>faultCode<\\\\/name>\\\\s*<value><(?:int|string)>(.*?)<\\\\/(?:int|string)>/s, xmlResponse);\\n  // This regex extracts the faultString from within <string>\\n  const faultString = extractValue(/<name>faultString<\\\\/name>\\\\s*<value><string>(.*?)<\\\\/string>/s, xmlResponse);\\n  return { 'errorCode': faultCode, 'error': faultString };\\n} else {\\n  // Otherwise, assume a successful response.\\n  // The post ID is contained inside a <string> tag within <params>\\n  const postId = extractValue(/<params>[\\\\s\\\\S]*?<string>(.*?)<\\\\/string>/, xmlResponse);\\n  return { postId };\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"23212e92-4ad1-4a8c-8e0a-04d8d2a4511d\",\n      \"name\": \"PostingSuccessful\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        480,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"815d85a1-8f91-4338-977f-503f02c53ea2\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('HandleXMLRPCResponse').item.json.postId }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"45c786f0-d795-4ed4-b6d2-f005b43e797f\",\n      \"name\": \"LogStatus\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        260,\n        280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Date\": \"={{ $now }}\",\n            \"Type\": \"=info\",\n            \"Message\": \"=Status {{ $json.Status }} for row {{ $('PreparedData').item.json.row.row_number }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Type\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Type\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Message\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Message\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetLog }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"f58306f5-a5e9-4e44-9c5d-3810e18e6605\",\n      \"name\": \"LogPublished\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        260,\n        780\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Date\": \"={{ $now }}\",\n            \"Type\": \"={{ $json.errorCode ? 'error' : 'info' }}\",\n            \"Message\": \"=Publishing row {{ $('PreparedData').item.json.row.row_number }}:  {{ $json.postId }}{{ $json.errorCode }}{{ $json.error }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Type\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Type\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Message\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Message\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"={{ $('Settings').item.json.sheetLog }}\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"={{ $('Settings').item.json.urlSpreadsheet }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"XeXufn5uZvHp3lcX\",\n          \"name\": \"Google Sheets account 2\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"c227b790-e1ee-4370-9f24-a734443d1e97\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        -300\n      ],\n      \"parameters\": {\n        \"width\": 180,\n        \"height\": 360,\n        \"content\": \"## 设置\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"904da209-68fd-4139-885f-bd3f25034aeb\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 380,\n        \"height\": 380,\n        \"content\": \"## 作者博客文章\\n利用OpenRouter实现每个创作阶段模型的全可配置性\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"29f35bf0-6dd3-4c3c-b688-73eb46781c87\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        -300\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 360,\n        \"content\": \"## 后处理数据\\n{{ 占位符 }} 替换\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"296c3257-836d-488c-b048-72261180e286\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        220,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 180,\n        \"height\": 380,\n        \"content\": \"## 日志转表格\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"42a06803-087f-4dc4-9dd5-1f0281942a30\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 420,\n        \"height\": 380,\n        \"content\": \"## 保存结果到工作表\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7a6393e9-ae81-4b9b-856b-7be18f783cf4\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 380,\n        \"height\": 380,\n        \"content\": \"## 发布博客文章\\n由于Wordpress节点完全无法工作，改用通用的XMLHttpRequest并处理后续响应。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2d154bd4-c3bc-4137-90ce-7885bac77c71\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 380,\n        \"content\": \"## 后处理数据\\n对输出数据结构进行归一化并重新合并。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"83834b00-a647-403f-b88a-4c38d9750eb0\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 380,\n        \"content\": \"## 后处理数据\\n从响应中提取帖子ID或错误信息。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e7494d0b-b796-437e-b977-a5350b1a8dc5\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        220,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 180,\n        \"height\": 380,\n        \"content\": \"## 日志转表格\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1d036f6a-c6e4-428d-b0ce-1e710eb7d90c\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 420,\n        \"height\": 380,\n        \"content\": \"## 保存状态到表格\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"105e0743-b4e8-47d7-a4bf-3939df43a43c\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -640,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1500,\n        \"height\": 420,\n        \"content\": \"## 创作\\n## 阶段\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"80fefb90-35b2-4f0b-b4d5-1cca8519361d\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -640,\n        600\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1500,\n        \"height\": 420,\n        \"content\": \"## 出版\\n## 阶段\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"99b0a7b7-6513-47b0-af16-ee66d37dd821\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        -300\n      ],\n      \"parameters\": {\n        \"width\": 200,\n        \"height\": 360,\n        \"content\": \"## 配置与数据\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"7005e556-a7ae-484c-af71-57c75abd3e17\",\n  \"connections\": {\n    \"Config\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"AgentLLM\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PreparedData\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"fetchConfig\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Schedule\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"LogStatus\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SaveBackToSheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CreatePost\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HandleXMLRPCResponse\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"fetchConfig\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IfTakeAction\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IfActionPublish\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"LogPublished\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PostingSuccessful\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PreparedData\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IfTakeAction\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SetToPublish\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"ManualTrigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IfPromptExists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IfScheduledNow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PrepareXmlPost\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PrepareXmlPost\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CreatePost\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Basic LLM Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"RecombinedDataRow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IfActionPublish\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IfScheduledNow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"IfPromptExists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SaveBackToSheet\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"ScheduleTrigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PostingSuccessful\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SetToPublish\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"RecombinedDataRow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"LogStatus\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HandleXMLRPCResponse\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"LogPublished\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}