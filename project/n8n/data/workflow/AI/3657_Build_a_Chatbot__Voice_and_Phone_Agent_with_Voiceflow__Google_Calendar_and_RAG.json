{
  "title": "Build a Chatbot, Voice and Phone Agent with Voiceflow, Google Calendar and RAG",
  "url": "https://n8n.io/workflows/3657-build-a-chatbot-voice-and-phone-agent-with-voiceflow-google-calendar-and-rag/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/",
  "author": "Davide",
  "publish_date": "Last update 4 days ago",
  "content": "",
  "workflow_json": "{\"id\":\"MMDt8lGtac2oU8nI\",\"meta\":{\"instanceId\":\"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\"templateCredsSetupCompleted\":true},\"name\":\"Build a Chatbot, Voice Agent and Phone Agent with Voiceflow, Google Calendar and RAG\",\"tags\":[],\"nodes\":[{\"id\":\"20605948-5277-4fd7-9ba0-63f645bf2dcc\",\"name\":\"n8n_order\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,-140],\"webhookId\":\"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\"parameters\":{\"path\":\"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"9ef7971e-f679-4d5e-b347-3238d51a06d6\",\"name\":\"Google Calendar\",\"type\":\"n8n-nodes-base.googleCalendar\",\"position\":[300,280],\"parameters\":{\"end\":\"={{ $json.output.end }}\",\"start\":\"={{ $json.output.start }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"info@n3w.it\",\"cachedResultName\":\"info@n3w.it\"},\"additionalFields\":{\"summary\":\"=Event title with {{ $('n8n_appointment').item.json.query.Email }}\",\"description\":\"Event description\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"8RFK3u13g2PJEGa9\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"17b9f162-c4a3-43ec-b640-a68ebc67b0c9\",\"name\":\"OpenAI Chat Model3\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-120,480],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"5b40db3c-6c98-4fea-9c3b-98ba7e13bc30\",\"name\":\"Concert start date\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[-80,280],\"parameters\":{\"text\":\"=Convert this date to a compatible format for Google Calendar APIs for the start date, and for the end date add 1 hour to the start date.\\n\\nHere is the start date:\\n{{ $json.query.Appointment_date }}\",\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.6},{\"id\":\"8931d21a-7c30-40ae-b0b0-1f5f6868b3a3\",\"name\":\"n8n_appointment\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-340,280],\"webhookId\":\"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\"parameters\":{\"path\":\"f5edfe92-649b-40da-ab35-f818ccb55ad4\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"fa3e66ca-de09-496b-be14-483b33386e07\",\"name\":\"Retrive Qdrant Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[20,1280],\"parameters\":{\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"scarperia\",\"cachedResultName\":\"scarperia\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"ea7be112-1949-47b7-b68b-ae2f3a7b1b71\",\"name\":\"Embeddings OpenAI2\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[-20,1460],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"e61ff57f-a109-41e0-87f3-522b1fa78dd6\",\"name\":\"RAG\",\"type\":\"@n8n/n8n-nodes-langchain.toolVectorStore\",\"position\":[180,1080],\"parameters\":{\"name\":\"company_data\",\"description\":\"Retrive data about company knowledge from vector store\"},\"typeVersion\":1},{\"id\":\"fce158b8-73a3-42c1-baf3-9f2ae979fe15\",\"name\":\"OpenAI Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-20,1080],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"e2bcfa68-3642-4e49-89cb-e08faade984c\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[340,1300],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"2a79c66c-040b-4ca2-ad91-a0683d0d2996\",\"name\":\"Retrive Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[60,860],\"parameters\":{\"text\":\"={{ $json.query.Question }}\",\"agent\":\"conversationalAgent\",\"options\":{\"systemMessage\":\"You are an AI-powered assistant for an electronics store. Your primary goal is to assist customers by providing accurate and helpful information about products, troubleshooting tips, and general support. Use the provided knowledge base (retrieved documents) to answer questions with precision and professionalism.\\n\\n**Guidelines**:\\n1. **Product Information**:\\n   - Provide detailed descriptions of products, including specifications, features, and compatibility.\\n   - Highlight key selling points and differences between similar products.\\n   - Mention availability, pricing, and promotions if applicable.\\n\\n2. **Technical Support**:\\n   - Offer step-by-step troubleshooting guides for common issues.\\n   - Suggest solutions for setup, installation, or configuration problems.\\n   - If the issue is complex, recommend contacting the store’s support team for further assistance.\\n\\n3. **Customer Service**:\\n   - Respond politely and professionally to all inquiries.\\n   - If a question is unclear, ask for clarification to provide the best possible answer.\\n   - For order-related questions (e.g., status, returns, or cancellations), guide customers on how to proceed using the store’s systems.\\n\\n4. **Knowledge Base Usage**:\\n   - Always reference the provided knowledge base (retrieved documents) to ensure accuracy.\\n   - If the knowledge base does not contain relevant information, inform the customer and suggest alternative resources or actions.\\n\\n5. **Tone and Style**:\\n   - Use a friendly, approachable, and professional tone.\\n   - Avoid technical jargon unless the customer demonstrates familiarity with the topic.\\n   - Keep responses concise but informative.\\n\\n**Example Interactions**:\\n1. **Product Inquiry**:\\n   - Customer: \\\"What’s the difference between the XYZ Smartwatch and the ABC Smartwatch?\\\"\\n   - AI: \\\"The XYZ Smartwatch features a longer battery life (up to 7 days) and built-in GPS, while the ABC Smartwatch has a brighter AMOLED display and supports wireless charging. Both are compatible with iOS and Android devices. Would you like more details on either product?\\\"\\n\\n2. **Technical Support**:\\n   - Customer: \\\"My wireless router isn’t connecting to the internet.\\\"\\n   - AI: \\\"Please try the following steps: 1) Restart your router and modem. 2) Ensure all cables are securely connected. 3) Check if the router’s LED indicators show a stable connection. If the issue persists, you may need to reset the router to factory settings. Would you like a detailed guide for resetting your router?\\\"\\n\\n3. **Customer Service**:\\n   - Customer: \\\"How do I return a defective product?\\\"\\n   - AI: \\\"To return a defective product, please visit our Returns Portal on our website and enter your order number. You’ll receive a return label and instructions. If you need further assistance, our support team is available at support@electronicsstore.com.\\\"\\n\\n**Limitations**:\\n- If the question is outside the scope of the knowledge base or requires human intervention, inform the customer and provide contact details for the appropriate department.\\n- Do not provide speculative or unverified information. Always rely on the knowledge base or direct the customer to official resources.\"},\"promptType\":\"define\"},\"typeVersion\":1.7},{\"id\":\"be516c9c-d2fb-4dea-9a3b-9674be5ea689\",\"name\":\"n8n_rag\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-360,860],\"webhookId\":\"edb1e894-1210-4902-a34f-a014bbdad8d8\",\"parameters\":{\"path\":\"edb1e894-1210-4902-a34f-a014bbdad8d8\",\"options\":{},\"responseMode\":\"responseNode\"},\"typeVersion\":2},{\"id\":\"2412721d-7353-4a27-8068-5c90872c7a51\",\"name\":\"Tracking response\",\"type\":\"n8n-nodes-base.set\",\"position\":[360,-140],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"86f332ff-7b89-4dd4-8df9-06c081625d33\",\"name\":\"text\",\"type\":\"string\",\"value\":\"=Your order status is: {{ $json.status }}\"}]}},\"typeVersion\":3.4},{\"id\":\"4965d781-1452-42c9-8a84-baacb5abe97f\",\"name\":\"Calendar response\",\"type\":\"n8n-nodes-base.set\",\"position\":[500,280],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0fe6fe50-9263-479a-ab01-ca1d15ce2412\",\"name\":\"text\",\"type\":\"string\",\"value\":\"L'evento è stato creato con successo\"}]}},\"typeVersion\":3.4},{\"id\":\"5311be28-2878-41ce-a70f-4e4aebcea0f9\",\"name\":\"Webhook tracking response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,-140],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"84d8558f-e6fd-400e-ae2e-0b5fec309561\",\"name\":\"API URL Tracking\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[20,-140],\"parameters\":{\"url\":\"URL_TRACKING\",\"options\":{},\"sendBody\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"Order number\",\"value\":\"={{ $json.Order_number }}\"},{\"name\":\"Email\",\"value\":\"={{ $json.Order_number }}\"}]}},\"typeVersion\":4.2},{\"id\":\"32eb8645-c56e-4db4-8870-f28161cba048\",\"name\":\"Webhook calendar response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,280],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"72e7f085-d1e7-4967-aaa5-161ff0e83c06\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[140,480],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"start\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t},\\n\\t\\t\\\"end\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\"\\n\\t\\t}\\n\\t}\\n}\"},\"typeVersion\":1.2},{\"id\":\"3822b875-73f0-4700-8fc4-e4d3285f593a\",\"name\":\"Webhook RAG response\",\"type\":\"n8n-nodes-base.respondToWebhook\",\"position\":[700,860],\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"0b43f63b-3c00-4db4-8b28-9938add9fdbe\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1100,-1320],\"parameters\":{\"width\":1140,\"height\":2200,\"content\":\"# STEP 6 - VOICEFLOW\\n\\n- Register on [Voiceflow](https://www.voiceflow.com/) \\n- Create the workflow as shown in the following image\\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\\n- There are 3 \\\"Captures\\\":\\n-- n8n_order\\n-- n8n_appointment\\n-- n8n_rag\\n- Add in the created functions the url of the corresponding n8n Webhook trigger node\\n- Test your Agent\\n- Get your projectID\\n- In the Widget section choose Chat or Voice and copy the installation script\\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)\\n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\\n\\nPS. You can import a Twilio number to assign it to your agent for becoming a Phone Agent\\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\\n\\n\"},\"typeVersion\":1},{\"id\":\"589165c8-920d-40e3-8e28-50e94dd37555\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-380,-1120],\"parameters\":{},\"typeVersion\":1},{\"id\":\"74c314bb-c445-42f8-8f9d-2ab646486044\",\"name\":\"Qdrant Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\"position\":[600,-1000],\"parameters\":{\"mode\":\"insert\",\"options\":{},\"qdrantCollection\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=\"}},\"credentials\":{\"qdrantApi\":{\"id\":\"iyQ6MQiVaF3VMBmt\",\"name\":\"QdrantApi account\"}},\"typeVersion\":1},{\"id\":\"01c05ac3-ac5c-4f1a-a756-db8de4a30e56\",\"name\":\"Create collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-80,-1260],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"2d7adb45-aae7-4617-b1d1-5a23f3eb3b20\",\"name\":\"Refresh collection\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[-80,-1000],\"parameters\":{\"url\":\"https://QDRANTURL/collections/COLLECTION/points/delete\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"{\\n  \\\"filter\\\": {}\\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"qhny6r5ql9wwotpn\",\"name\":\"Qdrant API (Hetzner)\"}},\"typeVersion\":4.2},{\"id\":\"5e406bd7-8a93-4db2-8d3d-e92e8c9f4f01\",\"name\":\"Get folder\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[140,-1000],\"parameters\":{\"filter\":{\"driveId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"My Drive\",\"cachedResultUrl\":\"https://drive.google.com/drive/my-drive\",\"cachedResultName\":\"My Drive\"},\"folderId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"=test-whatsapp\"}},\"options\":{},\"resource\":\"fileFolder\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account (n3w.it)\"}},\"typeVersion\":3},{\"id\":\"f1f883fb-c9d1-42e6-98c2-791ed85e959f\",\"name\":\"Download Files\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[360,-1000],\"parameters\":{\"fileId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.id }}\"},\"options\":{\"googleFileConversion\":{\"conversion\":{\"docsToFormat\":\"text/plain\"}}},\"operation\":\"download\"},\"credentials\":{\"googleDriveOAuth2Api\":{\"id\":\"HEy5EuZkgPZVEa9w\",\"name\":\"Google Drive account (n3w.it)\"}},\"typeVersion\":3},{\"id\":\"5fd88e03-3638-4d38-8df4-246e4a5f2bda\",\"name\":\"Embeddings OpenAI\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\"position\":[580,-800],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"4zwP0MSr8zkNvvV9\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.1},{\"id\":\"3740a841-e272-44f9-b76d-51fb90137fd3\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[760,-800],\"parameters\":{\"options\":{},\"dataType\":\"binary\"},\"typeVersion\":1},{\"id\":\"075d1038-d1fd-4527-8eda-961f20c7869a\",\"name\":\"Token Splitter\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\"position\":[760,-600],\"parameters\":{\"chunkSize\":300,\"chunkOverlap\":30},\"typeVersion\":1},{\"id\":\"57cc8eaf-26b3-480f-ab5d-c8646519cfa3\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[120,-1320],\"parameters\":{\"color\":6,\"width\":880,\"height\":220,\"content\":\"# STEP 1\\n\\n## Create Qdrant Collection\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"70bc0676-c0ea-4de8-8659-bfb8b0ea653f\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-100,-1060],\"parameters\":{\"color\":4,\"width\":620,\"height\":400,\"content\":\"# STEP 2\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n## Documents vectorization with Qdrant and Google Drive\\nChange:\\n- QDRANTURL\\n- COLLECTION\"},\"typeVersion\":1},{\"id\":\"411c4f55-ae41-49b5-a821-df1a3d8fefec\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,660],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 5\\nIf required retrive the informations by RAG system\"},\"typeVersion\":1},{\"id\":\"49d1fe78-4c38-4508-84c3-3a571ad9a2b0\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-360,-360],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 3\\nIf required retrive the informations by Order system\\n- Set your API URL Tracking service\"},\"typeVersion\":1},{\"id\":\"23d42754-0126-4b3a-91b0-b489ef83b36c\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-360,80],\"parameters\":{\"color\":5,\"width\":1220,\"content\":\"# STEP 4\\nIf required retrive the informations by Appointment system\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"20a19983-4edb-4179-a2d2-e2f53d0daf85\",\"connections\":{\"RAG\":{\"ai_tool\":[[{\"node\":\"Retrive Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"n8n_rag\":{\"main\":[[{\"node\":\"Retrive Agent\",\"type\":\"main\",\"index\":0}]]},\"n8n_order\":{\"main\":[[{\"node\":\"API URL Tracking\",\"type\":\"main\",\"index\":0}]]},\"Get folder\":{\"main\":[[{\"node\":\"Download Files\",\"type\":\"main\",\"index\":0}]]},\"Retrive Agent\":{\"main\":[[{\"node\":\"Webhook RAG response\",\"type\":\"main\",\"index\":0}]]},\"Download Files\":{\"main\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"main\",\"index\":0}]]},\"Token Splitter\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"Google Calendar\":{\"main\":[[{\"node\":\"Calendar response\",\"type\":\"main\",\"index\":0}]]},\"n8n_appointment\":{\"main\":[[{\"node\":\"Concert start date\",\"type\":\"main\",\"index\":0}]]},\"API URL Tracking\":{\"main\":[[{\"node\":\"Tracking response\",\"type\":\"main\",\"index\":0}]]},\"Calendar response\":{\"main\":[[{\"node\":\"Webhook calendar response\",\"type\":\"main\",\"index\":0}]]},\"Embeddings OpenAI\":{\"ai_embedding\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Tracking response\":{\"main\":[[{\"node\":\"Webhook tracking response\",\"type\":\"main\",\"index\":0}]]},\"Concert start date\":{\"main\":[[{\"node\":\"Google Calendar\",\"type\":\"main\",\"index\":0}]]},\"Embeddings OpenAI2\":{\"ai_embedding\":[[{\"node\":\"Retrive Qdrant Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"RAG\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Retrive Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model3\":{\"ai_languageModel\":[[{\"node\":\"Concert start date\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Refresh collection\":{\"main\":[[{\"node\":\"Get folder\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Qdrant Vector Store\",\"type\":\"ai_document\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Concert start date\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Retrive Qdrant Vector Store\":{\"ai_vectorStore\":[[{\"node\":\"RAG\",\"type\":\"ai_vectorStore\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Create collection\",\"type\":\"main\",\"index\":0},{\"node\":\"Refresh collection\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Voiceflow** is a no-code platform that allows you to design, prototype, and deploy conversational assistants across multiple channels—such as **chat** , **voice** , and **phone** —with advanced logic and natural language understanding. It supports integration with APIs, webhooks, and even tools like Twilio for phone agents. It's perfect for building customer support agents, voice bots, or intelligent assistants.\n\nThis workflow connects **n8n** and **Voiceflow** with tools like **Google Calendar** , **Qdrant (vector database)** , **OpenAI** , and an **order tracking API** to power a smart, multi-channel conversational agent.\n\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\n\nThere are 3 main webhook endpoints in n8n that Voiceflow interacts with:\n\n  1. **`n8n_order`** – receives user input related to order tracking, queries an API, and responds with tracking status.\n  2. **`n8n_appointment`** – processes appointment booking, reformats date input using OpenAI, and creates a Google Calendar event.\n  3. **`n8n_rag`** – handles general product/service questions using a RAG (Retrieval-Augmented Generation) system backed by: \n     * **Google Drive** document ingestion,\n     * **Qdrant vector store** for search,\n     * and **OpenAI** models for context-based answers.\n\n\n\nEach webhook is connected to a corresponding **\"Capture\" block** inside Voiceflow, which sends data to n8n and waits for the response.\n\n* * *\n\n### **How It Works**\n\nThis n8n workflow integrates **Voiceflow** for chatbot/voice interactions, **Google Calendar** for appointment scheduling, and **RAG (Retrieval-Augmented Generation)** for knowledge-based responses. Here’s the flow:\n\n  * **Trigger** :\n\n    * Three webhooks (`n8n_order`, `n8n_appointment`, `n8n_rag`) receive inputs from Voiceflow (chat, voice, or phone calls).\n    * Each webhook routes requests to specific functions: \n      * **Order Tracking** : Fetches order status via an external API.\n      * **Appointment Scheduling** : Uses OpenAI to parse dates, creates Google Calendar events, and confirms via WhatsApp.\n      * **RAG System** : Queries a Qdrant vector store (populated with Google Drive documents) to answer customer questions using GPT-4.\n  * **AI Processing** :\n\n    * **OpenAI Chains** : Convert natural language dates to Google Calendar formats and generate responses.\n    * **RAG Pipeline** : Embeds documents (via OpenAI), stores them in Qdrant, and retrieves context-aware answers.\n    * **Voiceflow Integration** : Routes responses back to Voiceflow for multi-channel delivery (chat, voice, or phone).\n  * **Outputs** :\n\n    * Confirmation messages (e.g., \"Event created successfully\").\n    * Dynamic responses for orders, appointments, or product support.\n\n\n\n* * *\n\n### **Setup Steps**\n\n##### **Prerequisites** :\n\n  * **APIs** : \n    * Google Calendar & Drive OAuth credentials.\n    * Qdrant vector database (hosted or cloud).\n    * OpenAI API key (for GPT-4 and embeddings).\n\n\n\n##### **Configuration** :\n\n  1. **Qdrant Setup** :\n\n     * Run the **\"Create collection\"** and **\"Refresh collection\"** nodes to initialize the vector store.\n     * Populate it with documents using the **Google Drive → Qdrant** pipeline (embeddings generated via OpenAI).\n  2. **Voiceflow Webhooks** :\n\n     * Link Voiceflow’s \"Captures\" to n8n’s webhook URLs (`n8n_order`, `n8n_appointment`, `n8n_rag`).\n  3. **Google Calendar** :\n\n     * Authenticate the **Google Calendar node** and set event templates (e.g., `summary`, `description`).\n  4. **RAG System** :\n\n     * Configure the **Qdrant vector store** and **OpenAI embeddings** nodes.\n     * Adjust the **Retrieve Agent** ’s system prompt for domain-specific queries (e.g., electronics store support).\n\n\n\n#### **Optional** :\n\n  * Add Twilio for phone-agent capabilities.\n  * Customize OpenAI prompts for tone/accuracy.\n\n\n\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)  \n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\n\nPS. You can import a Twilio number to assign it to your agent for becoming a Phone Agent\n\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\n\n* * *\n\n### **Need help customizing?**\n\n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/)\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p><strong>Voiceflow</strong> is a no-code platform that allows you to design, prototype, and deploy conversational assistants across multiple channels—such as <strong>chat</strong>, <strong>voice</strong>, and <strong>phone</strong>—with advanced logic and natural language understanding. It supports integration with APIs, webhooks, and even tools like Twilio for phone agents. It's perfect for building customer support agents, voice bots, or intelligent assistants.</p>\n<p>This workflow connects <strong>n8n</strong> and <strong>Voiceflow</strong> with tools like <strong>Google Calendar</strong>, <strong>Qdrant (vector database)</strong>, <strong>OpenAI</strong>, and an <strong>order tracking API</strong> to power a smart, multi-channel conversational agent.</p>\n<p><img src=\"https://i.postimg.cc/3rSPwMn2/langflow.png\" alt=\"image\"></p>\n<p>There are 3 main webhook endpoints in n8n that Voiceflow interacts with:</p>\n<ol>\n<li><strong><code>n8n_order</code></strong> – receives user input related to order tracking, queries an API, and responds with tracking status.</li>\n<li><strong><code>n8n_appointment</code></strong> – processes appointment booking, reformats date input using OpenAI, and creates a Google Calendar event.</li>\n<li><strong><code>n8n_rag</code></strong> – handles general product/service questions using a RAG (Retrieval-Augmented Generation) system backed by:\n<ul>\n<li><strong>Google Drive</strong> document ingestion,</li>\n<li><strong>Qdrant vector store</strong> for search,</li>\n<li>and <strong>OpenAI</strong> models for context-based answers.</li>\n</ul>\n</li>\n</ol>\n<p>Each webhook is connected to a corresponding <strong>\"Capture\" block</strong> inside Voiceflow, which sends data to n8n and waits for the response.</p>\n<hr>\n<h3><strong>How It Works</strong></h3>\n<p>This n8n workflow integrates <strong>Voiceflow</strong> for chatbot/voice interactions, <strong>Google Calendar</strong> for appointment scheduling, and <strong>RAG (Retrieval-Augmented Generation)</strong> for knowledge-based responses. Here’s the flow:</p>\n<ul>\n<li>\n<p><strong>Trigger</strong>:</p>\n<ul>\n<li>Three webhooks (<code>n8n_order</code>, <code>n8n_appointment</code>, <code>n8n_rag</code>) receive inputs from Voiceflow (chat, voice, or phone calls).</li>\n<li>Each webhook routes requests to specific functions:\n<ul>\n<li><strong>Order Tracking</strong>: Fetches order status via an external API.</li>\n<li><strong>Appointment Scheduling</strong>: Uses OpenAI to parse dates, creates Google Calendar events, and confirms via WhatsApp.</li>\n<li><strong>RAG System</strong>: Queries a Qdrant vector store (populated with Google Drive documents) to answer customer questions using GPT-4.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>AI Processing</strong>:</p>\n<ul>\n<li><strong>OpenAI Chains</strong>: Convert natural language dates to Google Calendar formats and generate responses.</li>\n<li><strong>RAG Pipeline</strong>: Embeds documents (via OpenAI), stores them in Qdrant, and retrieves context-aware answers.</li>\n<li><strong>Voiceflow Integration</strong>: Routes responses back to Voiceflow for multi-channel delivery (chat, voice, or phone).</li>\n</ul>\n</li>\n<li>\n<p><strong>Outputs</strong>:</p>\n<ul>\n<li>Confirmation messages (e.g., \"Event created successfully\").</li>\n<li>Dynamic responses for orders, appointments, or product support.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>Setup Steps</strong></h3>\n<h5><strong>Prerequisites</strong>:</h5>\n<ul>\n<li><strong>APIs</strong>:\n<ul>\n<li>Google Calendar &amp; Drive OAuth credentials.</li>\n<li>Qdrant vector database (hosted or cloud).</li>\n<li>OpenAI API key (for GPT-4 and embeddings).</li>\n</ul>\n</li>\n</ul>\n<h5><strong>Configuration</strong>:</h5>\n<ol>\n<li>\n<p><strong>Qdrant Setup</strong>:</p>\n<ul>\n<li>Run the <strong>\"Create collection\"</strong> and <strong>\"Refresh collection\"</strong> nodes to initialize the vector store.</li>\n<li>Populate it with documents using the <strong>Google Drive → Qdrant</strong> pipeline (embeddings generated via OpenAI).</li>\n</ul>\n</li>\n<li>\n<p><strong>Voiceflow Webhooks</strong>:</p>\n<ul>\n<li>Link Voiceflow’s \"Captures\" to n8n’s webhook URLs (<code>n8n_order</code>, <code>n8n_appointment</code>, <code>n8n_rag</code>).</li>\n</ul>\n</li>\n<li>\n<p><strong>Google Calendar</strong>:</p>\n<ul>\n<li>Authenticate the <strong>Google Calendar node</strong> and set event templates (e.g., <code>summary</code>, <code>description</code>).</li>\n</ul>\n</li>\n<li>\n<p><strong>RAG System</strong>:</p>\n<ul>\n<li>Configure the <strong>Qdrant vector store</strong> and <strong>OpenAI embeddings</strong> nodes.</li>\n<li>Adjust the <strong>Retrieve Agent</strong>’s system prompt for domain-specific queries (e.g., electronics store support).</li>\n</ul>\n</li>\n</ol>\n<h4><strong>Optional</strong>:</h4>\n<ul>\n<li>Add Twilio for phone-agent capabilities.</li>\n<li>Customize OpenAI prompts for tone/accuracy.</li>\n</ul>\n<p><img src=\"https://i.postimg.cc/855gyTZP/voiceflow-agent.png\" alt=\"image\"><br>\n<img src=\"https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png\" alt=\"image\"></p>\n<p>PS. You can import a Twilio number to assign it to your agent for becoming a Phone Agent</p>\n<p><img src=\"https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png\" alt=\"image\"></p>\n<hr>\n<h3><strong>Need help customizing?</strong></h3>\n<p><a href=\"mailto:info@n3w.it\" rel=\"ugc nofollow\">Contact me</a> for consulting and support or add me on <a href=\"https://www.linkedin.com/in/davideboizza/\" rel=\"ugc nofollow\" target=\"_blank\">Linkedin</a></p>\n</div><!--]-->",
  "readme_zh": "**Voiceflow** 是一个无代码平台，允许您通过高级逻辑和自然语言理解功能，跨**聊天**、**语音**和**电话**等多渠道设计、原型构建和部署对话助手。它支持与API、Webhook以及Twilio等电话代理工具的集成，非常适合构建客户支持代理、语音机器人或智能助手。\n\n该工作流将**n8n**和**Voiceflow**与**Google Calendar**、**Qdrant（向量数据库）**、**OpenAI**及**订单跟踪API**等工具连接，驱动一个智能的多渠道对话代理。\n\n![image](https://i.postimg.cc/3rSPwMn2/langflow.png)\n\nn8n中有三个主要Webhook端点与Voiceflow交互：\n\n1. **`n8n_order`** ——接收与订单跟踪相关的用户输入，查询API并返回跟踪状态。  \n2. **`n8n_appointment`** ——处理预约预订，使用OpenAI重新格式化日期输入，并创建Google Calendar事件。  \n3. **`n8n_rag`** ——通过以下技术处理一般产品/服务问题：  \n   - **Google Drive**文档导入  \n   - **Qdrant向量存储**实现搜索  \n   - **OpenAI**模型生成基于上下文的答案  \n\n每个Webhook均连接到Voiceflow内部的**“Capture”模块**，该模块将数据发送至n8n并等待响应。\n\n---\n\n### **运作原理**\n\n此n8n工作流整合了**Voiceflow**（用于聊天/语音交互）、**Google Calendar**（用于预约安排）和**RAG（检索增强生成）**（用于知识库响应）。流程如下：\n\n- **触发**：  \n  - 三个Webhook（`n8n_order`、`n8n_appointment`、`n8n_rag`）接收来自Voiceflow（聊天、语音或电话）的输入。  \n  - 每个Webhook将请求路由至特定功能：  \n    - **订单跟踪**：通过外部API获取订单状态。  \n    - **预约安排**：使用OpenAI解析日期，创建Google Calendar事件，并通过WhatsApp确认。  \n    - **RAG系统**：查询Qdrant向量存储（含Google Drive文档）以利用GPT-4回答客户问题。  \n\n- **AI处理**：  \n  - **OpenAI链**：将自然语言日期转换为Google Calendar格式并生成响应。  \n  - **RAG管道**：通过OpenAI嵌入文档，存储至Qdrant，并检索上下文感知答案。  \n  - **Voiceflow集成**：将响应路由回Voiceflow实现多渠道（聊天、语音或电话）交付。  \n\n- **输出**：  \n  - 确认消息（如“事件创建成功”）。  \n  - 针对订单、预约或产品支持的动态响应。  \n\n---\n\n### **配置步骤**\n\n##### **前提条件**：  \n- **API**：  \n  - Google Calendar和Drive的OAuth凭证。  \n  - Qdrant向量数据库（本地或云端）。  \n  - OpenAI API密钥（用于GPT-4和嵌入模型）。  \n\n##### **配置**：  \n1. **Qdrant设置**：  \n   - 运行**“创建集合”**和**“刷新集合”**节点初始化向量存储。  \n   - 通过**Google Drive → Qdrant**管道（嵌入由OpenAI生成）填充文档。  \n2. **Voiceflow Webhook**：  \n   - 将Voiceflow的“Capture”模块链接至n8n的Webhook URL（`n8n_order`、`n8n_appointment`、`n8n_rag`）。  \n3. **Google Calendar**：  \n   - 验证**Google Calendar节点**并设置事件模板（如`summary`、`description`）。  \n4. **RAG系统**：  \n   - 配置**Qdrant向量存储**和**OpenAI嵌入**节点。  \n   - 调整**检索代理**的系统提示以适应领域查询（如电子产品商店支持）。  \n\n#### **可选**：  \n- 集成Twilio实现电话代理功能。  \n- 自定义OpenAI提示以优化语气/准确性。  \n\n![image](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)  \n![image](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)  \n\n附：您可导入Twilio号码并将其分配给代理，使其成为电话代理。  \n\n![image](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)  \n\n---\n\n### **需要定制帮助？**  \n[联系我](mailto:info@n3w.it)获取咨询支持，或通过[LinkedIn](https://www.linkedin.com/in/davideboizza/)添加我。",
  "title_zh": "使用Voiceflow、Google日历和RAG构建聊天机器人、语音及电话代理",
  "publish_date_zh": "最后更新于4天前",
  "workflow_json_zh": "{\"id\": \"MMDt8lGtac2oU8nI\", \"meta\": {\"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\", \"templateCredsSetupCompleted\": true}, \"name\": \"使用Voiceflow、Google日历和RAG构建聊天机器人、语音助手和电话代理\", \"tags\": [], \"nodes\": [{\"id\": \"20605948-5277-4fd7-9ba0-63f645bf2dcc\", \"name\": \"n8n订单\", \"type\": \"n8n-nodes-base.webhook\", \"position\": [-340, -140], \"webhookId\": \"9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\", \"parameters\": {\"path\": \"（注：原文“9ff7a394-5b4b-4790-a96b-c41c4ba27fa5”为随机生成的UUID编码字符串，此类标识符通常无需翻译，直接保留原格式即可。若需中文对应，可译为“唯一标识符”或“UUID编码”，但实际使用中建议不翻译以保持其技术规范性。）  \\n\\n根据要求仅提供翻译，故直接返回原文：  \\n9ff7a394-5b4b-4790-a96b-c41c4ba27fa5\", \"options\": {}, \"responseMode\": \"响应节点\"}, \"typeVersion\": 2}, {\"id\": \"9ef7971e-f679-4d5e-b347-3238d51a06d6\", \"name\": \"谷歌日历\", \"type\": \"n8n-nodes-base.googleCalendar\", \"position\": [300, 280], \"parameters\": {\"end\": \"={{ $json.output.end }}\", \"start\": \"={{ $json.output.start }}\", \"calendar\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"info@n3w.it\", \"cachedResultName\": \"info@n3w.it\"}, \"additionalFields\": {\"summary\": \"=Event title with {{ $('n8n_appointment').item.json.query.Email }}\", \"description\": \"Event description\"}}, \"credentials\": {\"googleCalendarOAuth2Api\": {\"id\": \"8RFK3u13g2PJEGa9\", \"name\": \"Google Calendar account\"}}, \"typeVersion\": 1.3}, {\"id\": \"17b9f162-c4a3-43ec-b640-a68ebc67b0c9\", \"name\": \"OpenAI 聊天模型3\", \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\", \"position\": [-120, 480], \"parameters\": {\"model\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"gpt-4o-mini\"}, \"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"4zwP0MSr8zkNvvV9\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.2}, {\"id\": \"5b40db3c-6c98-4fea-9c3b-98ba7e13bc30\", \"name\": \"音乐会开始日期\", \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\", \"position\": [-80, 280], \"parameters\": {\"text\": \"=将此日期转换为Google Calendar API兼容的格式作为开始日期，并将结束日期设置为开始日期后1小时。\\n\\n开始日期如下：\\n{{ $json.query.Appointment_date }}\", \"promptType\": \"定义\", \"hasOutputParser\": true}, \"typeVersion\": 1.6}, {\"id\": \"8931d21a-7c30-40ae-b0b0-1f5f6868b3a3\", \"name\": \"n8n预约\", \"type\": \"n8n-nodes-base.webhook\", \"position\": [-340, 280], \"webhookId\": \"f5edfe92-649b-40da-ab35-f818ccb55ad4\", \"parameters\": {\"path\": \"（注：原文“f5edfe92-649b-40da-ab35-f818ccb55ad4”为一串无实际语义的UUID编码，通常用于系统标识符或唯一编号。此类代码无需翻译，保持原样即可。）\", \"options\": {}, \"responseMode\": \"响应节点\"}, \"typeVersion\": 2}, {\"id\": \"fa3e66ca-de09-496b-be14-483b33386e07\", \"name\": \"检索Qdrant向量存储\", \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\", \"position\": [20, 1280], \"parameters\": {\"options\": {}, \"qdrantCollection\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"scarperia\", \"cachedResultName\": \"scarperia\"}}, \"credentials\": {\"qdrantApi\": {\"id\": \"iyQ6MQiVaF3VMBmt\", \"name\": \"QdrantApi account\"}}, \"typeVersion\": 1}, {\"id\": \"ea7be112-1949-47b7-b68b-ae2f3a7b1b71\", \"name\": \"嵌入技术 OpenAI2\", \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\", \"position\": [-20, 1460], \"parameters\": {\"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"4zwP0MSr8zkNvvV9\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.2}, {\"id\": \"e61ff57f-a109-41e0-87f3-522b1fa78dd6\", \"name\": \"检索增强生成\", \"type\": \"@n8n/n8n-nodes-langchain.toolVectorStore\", \"position\": [180, 1080], \"parameters\": {\"name\": \"公司数据\", \"description\": \"从向量存储中检索公司知识的相关数据\"}, \"typeVersion\": 1}, {\"id\": \"fce158b8-73a3-42c1-baf3-9f2ae979fe15\", \"name\": \"OpenAI 聊天模型2\", \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\", \"position\": [-20, 1080], \"parameters\": {\"model\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"gpt-4o-mini\"}, \"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"4zwP0MSr8zkNvvV9\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.2}, {\"id\": \"e2bcfa68-3642-4e49-89cb-e08faade984c\", \"name\": \"OpenAI 聊天模型1\", \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\", \"position\": [340, 1300], \"parameters\": {\"model\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"gpt-4o-mini\"}, \"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"4zwP0MSr8zkNvvV9\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.2}, {\"id\": \"2a79c66c-040b-4ca2-ad91-a0683d0d2996\", \"name\": \"检索代理\", \"type\": \"@n8n/n8n-nodes-langchain.agent\", \"position\": [60, 860], \"parameters\": {\"text\": \"= {{ $json.query.问题 }}\", \"agent\": \"对话式代理\", \"options\": {\"systemMessage\": \"You are an AI-powered assistant for an electronics store. Your primary goal is to assist customers by providing accurate and helpful information about products, troubleshooting tips, and general support. Use the provided knowledge base (retrieved documents) to answer questions with precision and professionalism.\\n\\n**Guidelines**:\\n1. **Product Information**:\\n   - Provide detailed descriptions of products, including specifications, features, and compatibility.\\n   - Highlight key selling points and differences between similar products.\\n   - Mention availability, pricing, and promotions if applicable.\\n\\n2. **Technical Support**:\\n   - Offer step-by-step troubleshooting guides for common issues.\\n   - Suggest solutions for setup, installation, or configuration problems.\\n   - If the issue is complex, recommend contacting the store’s support team for further assistance.\\n\\n3. **Customer Service**:\\n   - Respond politely and professionally to all inquiries.\\n   - If a question is unclear, ask for clarification to provide the best possible answer.\\n   - For order-related questions (e.g., status, returns, or cancellations), guide customers on how to proceed using the store’s systems.\\n\\n4. **Knowledge Base Usage**:\\n   - Always reference the provided knowledge base (retrieved documents) to ensure accuracy.\\n   - If the knowledge base does not contain relevant information, inform the customer and suggest alternative resources or actions.\\n\\n5. **Tone and Style**:\\n   - Use a friendly, approachable, and professional tone.\\n   - Avoid technical jargon unless the customer demonstrates familiarity with the topic.\\n   - Keep responses concise but informative.\\n\\n**Example Interactions**:\\n1. **Product Inquiry**:\\n   - Customer: \\\"What’s the difference between the XYZ Smartwatch and the ABC Smartwatch?\\\"\\n   - AI: \\\"The XYZ Smartwatch features a longer battery life (up to 7 days) and built-in GPS, while the ABC Smartwatch has a brighter AMOLED display and supports wireless charging. Both are compatible with iOS and Android devices. Would you like more details on either product?\\\"\\n\\n2. **Technical Support**:\\n   - Customer: \\\"My wireless router isn’t connecting to the internet.\\\"\\n   - AI: \\\"Please try the following steps: 1) Restart your router and modem. 2) Ensure all cables are securely connected. 3) Check if the router’s LED indicators show a stable connection. If the issue persists, you may need to reset the router to factory settings. Would you like a detailed guide for resetting your router?\\\"\\n\\n3. **Customer Service**:\\n   - Customer: \\\"How do I return a defective product?\\\"\\n   - AI: \\\"To return a defective product, please visit our Returns Portal on our website and enter your order number. You’ll receive a return label and instructions. If you need further assistance, our support team is available at support@electronicsstore.com.\\\"\\n\\n**Limitations**:\\n- If the question is outside the scope of the knowledge base or requires human intervention, inform the customer and provide contact details for the appropriate department.\\n- Do not provide speculative or unverified information. Always rely on the knowledge base or direct the customer to official resources.\"}, \"promptType\": \"定义\"}, \"typeVersion\": 1.7}, {\"id\": \"be516c9c-d2fb-4dea-9a3b-9674be5ea689\", \"name\": \"n8n_数据增强检索\", \"type\": \"n8n-nodes-base.webhook\", \"position\": [-360, 860], \"webhookId\": \"edb1e894-1210-4902-a34f-a014bbdad8d8\", \"parameters\": {\"path\": \"（注：原文“edb1e894-1210-4902-a34f-a014bbdad8d8”为一串无实际语义的UUID编码，通常用于系统标识符或唯一编号。此类代码无需翻译，保留原格式即可。）\", \"options\": {}, \"responseMode\": \"响应节点\"}, \"typeVersion\": 2}, {\"id\": \"2412721d-7353-4a27-8068-5c90872c7a51\", \"name\": \"追踪响应\", \"type\": \"n8n-nodes-base.set\", \"position\": [360, -140], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"86f332ff-7b89-4dd4-8df9-06c081625d33\", \"name\": \"text\", \"type\": \"string\", \"value\": \"=Your order status is: {{ $json.status }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"4965d781-1452-42c9-8a84-baacb5abe97f\", \"name\": \"日历回复\", \"type\": \"n8n-nodes-base.set\", \"position\": [500, 280], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"0fe6fe50-9263-479a-ab01-ca1d15ce2412\", \"name\": \"text\", \"type\": \"string\", \"value\": \"L'evento è stato creato con successo\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"5311be28-2878-41ce-a70f-4e4aebcea0f9\", \"name\": \"Webhook 跟踪响应\", \"type\": \"n8n-nodes-base.respondToWebhook\", \"position\": [700, -140], \"parameters\": {\"options\": {}}, \"typeVersion\": 1.1}, {\"id\": \"84d8558f-e6fd-400e-ae2e-0b5fec309561\", \"name\": \"API URL追踪\", \"type\": \"n8n-nodes-base.httpRequest\", \"position\": [20, -140], \"parameters\": {\"url\": \"网址追踪\", \"options\": {}, \"sendBody\": true, \"bodyParameters\": {\"parameters\": [{\"name\": \"Order number\", \"value\": \"={{ $json.Order_number }}\"}, {\"name\": \"Email\", \"value\": \"={{ $json.Order_number }}\"}]}}, \"typeVersion\": 4.2}, {\"id\": \"32eb8645-c56e-4db4-8870-f28161cba048\", \"name\": \"Webhook 日历响应\", \"type\": \"n8n-nodes-base.respondToWebhook\", \"position\": [700, 280], \"parameters\": {\"options\": {}}, \"typeVersion\": 1.1}, {\"id\": \"72e7f085-d1e7-4967-aaa5-161ff0e83c06\", \"name\": \"结构化输出解析器\", \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\", \"position\": [140, 480], \"parameters\": {\"schemaType\": \"手动\", \"inputSchema\": \"{\\n\\t\\\"类型\\\": \\\"对象\\\",\\n\\t\\\"属性\\\": {\\n\\t\\t\\\"开始\\\": {\\n\\t\\t\\t\\\"类型\\\": \\\"字符串\\\"\\n\\t\\t},\\n\\t\\t\\\"结束\\\": {\\n\\t\\t\\t\\\"类型\\\": \\\"字符串\\\"\\n\\t\\t}\\n\\t}\\n}\"}, \"typeVersion\": 1.2}, {\"id\": \"3822b875-73f0-4700-8fc4-e4d3285f593a\", \"name\": \"Webhook RAG 响应\", \"type\": \"n8n-nodes-base.respondToWebhook\", \"position\": [700, 860], \"parameters\": {\"options\": {}}, \"typeVersion\": 1.1}, {\"id\": \"0b43f63b-3c00-4db4-8b28-9938add9fdbe\", \"name\": \"便利贴\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [1100, -1320], \"parameters\": {\"width\": 1140, \"height\": 2200, \"content\": \"# 步骤六 - VOICEFLOW 操作指南\\n\\n- 在[Voiceflow平台](https://www.voiceflow.com/)完成注册\\n- 根据下图示例创建工作流程\\n![流程图](https://i.postimg.cc/3rSPwMn2/langflow.png)\\n- 需设置3个\\\"捕获模块\\\":\\n-- n8n订单模块\\n-- n8n预约模块\\n-- n8n智能检索模块\\n- 在各功能模块中添加对应的n8n网络钩子触发节点URL\\n- 测试您的智能代理\\n- 获取项目ID\\n- 在Widget版块选择文字聊天或语音交互模式，复制安装脚本\\n![代理界面1](https://i.postimg.cc/855gyTZP/voiceflow-agent.png)\\n![代理界面2](https://i.postimg.cc/5Nn4Sk43/voiceflow-agent2.png)\\n\\n注：可导入Twilio电话号码绑定至代理，将其升级为电话客服代理\\n![代理界面3](https://i.postimg.cc/cLymTTFv/voiceflow-agent3.png)\"}, \"typeVersion\": 1}, {\"id\": \"589165c8-920d-40e3-8e28-50e94dd37555\", \"name\": \"点击“测试工作流程”时\", \"type\": \"n8n-nodes-base.manualTrigger\", \"position\": [-380, -1120], \"parameters\": {}, \"typeVersion\": 1}, {\"id\": \"74c314bb-c445-42f8-8f9d-2ab646486044\", \"name\": \"Qdrant 向量存储\", \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\", \"position\": [600, -1000], \"parameters\": {\"mode\": \"插入\", \"options\": {}, \"qdrantCollection\": {\"__rl\": true, \"mode\": \"id\", \"value\": \"=\"}}, \"credentials\": {\"qdrantApi\": {\"id\": \"iyQ6MQiVaF3VMBmt\", \"name\": \"QdrantApi account\"}}, \"typeVersion\": 1}, {\"id\": \"01c05ac3-ac5c-4f1a-a756-db8de4a30e56\", \"name\": \"创建收藏集\", \"type\": \"n8n-nodes-base.httpRequest\", \"position\": [-80, -1260], \"parameters\": {\"url\": \"https://QDRANTURL/collections/COLLECTION\", \"method\": \"邮政\", \"options\": {}, \"jsonBody\": \"{\\n  \\\"过滤器\\\": {}\\n}\", \"sendBody\": true, \"sendHeaders\": true, \"specifyBody\": \"JSON\", \"authentication\": \"通用凭证类型\", \"genericAuthType\": \"HTTP头部认证\", \"headerParameters\": {\"parameters\": [{\"name\": \"Content-Type\", \"value\": \"application/json\"}]}}, \"credentials\": {\"httpHeaderAuth\": {\"id\": \"qhny6r5ql9wwotpn\", \"name\": \"Qdrant API (Hetzner)\"}}, \"typeVersion\": 4.2}, {\"id\": \"2d7adb45-aae7-4617-b1d1-5a23f3eb3b20\", \"name\": \"刷新收藏\", \"type\": \"n8n-nodes-base.httpRequest\", \"position\": [-80, -1000], \"parameters\": {\"url\": \"https://QDRANTURL/collections/COLLECTION/points/delete\", \"method\": \"邮政\", \"options\": {}, \"jsonBody\": \"{\\n  \\\"过滤器\\\": {}\\n}\", \"sendBody\": true, \"sendHeaders\": true, \"specifyBody\": \"JSON\", \"authentication\": \"通用凭证类型\", \"genericAuthType\": \"HTTP头部认证\", \"headerParameters\": {\"parameters\": [{\"name\": \"Content-Type\", \"value\": \"application/json\"}]}}, \"credentials\": {\"httpHeaderAuth\": {\"id\": \"qhny6r5ql9wwotpn\", \"name\": \"Qdrant API (Hetzner)\"}}, \"typeVersion\": 4.2}, {\"id\": \"5e406bd7-8a93-4db2-8d3d-e92e8c9f4f01\", \"name\": \"获取文件夹\", \"type\": \"n8n-nodes-base.googleDrive\", \"position\": [140, -1000], \"parameters\": {\"filter\": {\"driveId\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"My Drive\", \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\", \"cachedResultName\": \"My Drive\"}, \"folderId\": {\"__rl\": true, \"mode\": \"id\", \"value\": \"=test-whatsapp\"}}, \"options\": {}, \"resource\": \"文件文件夹\"}, \"credentials\": {\"googleDriveOAuth2Api\": {\"id\": \"HEy5EuZkgPZVEa9w\", \"name\": \"Google Drive account (n3w.it)\"}}, \"typeVersion\": 3}, {\"id\": \"f1f883fb-c9d1-42e6-98c2-791ed85e959f\", \"name\": \"下载文件\", \"type\": \"n8n-nodes-base.googleDrive\", \"position\": [360, -1000], \"parameters\": {\"fileId\": {\"__rl\": true, \"mode\": \"id\", \"value\": \"={{ $json.id }}\"}, \"options\": {\"googleFileConversion\": {\"conversion\": {\"docsToFormat\": \"text/plain\"}}}, \"operation\": \"下载\"}, \"credentials\": {\"googleDriveOAuth2Api\": {\"id\": \"HEy5EuZkgPZVEa9w\", \"name\": \"Google Drive account (n3w.it)\"}}, \"typeVersion\": 3}, {\"id\": \"5fd88e03-3638-4d38-8df4-246e4a5f2bda\", \"name\": \"嵌入 OpenAI\", \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\", \"position\": [580, -800], \"parameters\": {\"options\": {}}, \"credentials\": {\"openAiApi\": {\"id\": \"4zwP0MSr8zkNvvV9\", \"name\": \"OpenAi account\"}}, \"typeVersion\": 1.1}, {\"id\": \"3740a841-e272-44f9-b76d-51fb90137fd3\", \"name\": \"默认数据加载器\", \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\", \"position\": [760, -800], \"parameters\": {\"options\": {}, \"dataType\": \"二进制\"}, \"typeVersion\": 1}, {\"id\": \"075d1038-d1fd-4527-8eda-961f20c7869a\", \"name\": \"令牌分割器\", \"type\": \"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\", \"position\": [760, -600], \"parameters\": {\"chunkSize\": 300, \"chunkOverlap\": 30}, \"typeVersion\": 1}, {\"id\": \"57cc8eaf-26b3-480f-ab5d-c8646519cfa3\", \"name\": \"便利贴3\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [120, -1320], \"parameters\": {\"color\": 6, \"width\": 880, \"height\": 220, \"content\": \"# 第一步\\n\\n## 创建Qdrant集合\\n需要修改：\\n- QDRANTURL（Qdrant服务地址）\\n- COLLECTION（集合名称）\"}, \"typeVersion\": 1}, {\"id\": \"70bc0676-c0ea-4de8-8659-bfb8b0ea653f\", \"name\": \"便利贴4\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-100, -1060], \"parameters\": {\"color\": 4, \"width\": 620, \"height\": 400, \"content\": \"# 第二步\"}, \"typeVersion\": 1}, {\"id\": \"411c4f55-ae41-49b5-a821-df1a3d8fefec\", \"name\": \"便利贴5\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-380, 660], \"parameters\": {\"color\": 5, \"width\": 1220, \"content\": \"# 步骤5\\n如需通过RAG系统检索信息\"}, \"typeVersion\": 1}, {\"id\": \"49d1fe78-4c38-4508-84c3-3a571ad9a2b0\", \"name\": \"便利贴6\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-360, -360], \"parameters\": {\"color\": 5, \"width\": 1220, \"content\": \"# 步骤三\\n如需通过订单系统获取信息\\n- 设置您的API URL追踪服务\"}, \"typeVersion\": 1}, {\"id\": \"23d42754-0126-4b3a-91b0-b489ef83b36c\", \"name\": \"便利贴7\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-360, 80], \"parameters\": {\"color\": 5, \"width\": 1220, \"content\": \"# 步骤4  \\n如需获取信息，请通过预约系统查询\"}, \"typeVersion\": 1}], \"active\": false, \"pinData\": {}, \"settings\": {\"executionOrder\": \"v1\"}, \"versionId\": \"20a19983-4edb-4179-a2d2-e2f53d0daf85\", \"connections\": {\"RAG\": {\"ai_tool\": [[{\"node\": \"Retrive Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"n8n_rag\": {\"main\": [[{\"node\": \"Retrive Agent\", \"type\": \"main\", \"index\": 0}]]}, \"n8n_order\": {\"main\": [[{\"node\": \"API URL Tracking\", \"type\": \"main\", \"index\": 0}]]}, \"Get folder\": {\"main\": [[{\"node\": \"Download Files\", \"type\": \"main\", \"index\": 0}]]}, \"Retrive Agent\": {\"main\": [[{\"node\": \"Webhook RAG response\", \"type\": \"main\", \"index\": 0}]]}, \"Download Files\": {\"main\": [[{\"node\": \"Qdrant Vector Store\", \"type\": \"main\", \"index\": 0}]]}, \"Token Splitter\": {\"ai_textSplitter\": [[{\"node\": \"Default Data Loader\", \"type\": \"ai_textSplitter\", \"index\": 0}]]}, \"Google Calendar\": {\"main\": [[{\"node\": \"Calendar response\", \"type\": \"main\", \"index\": 0}]]}, \"n8n_appointment\": {\"main\": [[{\"node\": \"Concert start date\", \"type\": \"main\", \"index\": 0}]]}, \"API URL Tracking\": {\"main\": [[{\"node\": \"Tracking response\", \"type\": \"main\", \"index\": 0}]]}, \"Calendar response\": {\"main\": [[{\"node\": \"Webhook calendar response\", \"type\": \"main\", \"index\": 0}]]}, \"Embeddings OpenAI\": {\"ai_embedding\": [[{\"node\": \"Qdrant Vector Store\", \"type\": \"ai_embedding\", \"index\": 0}]]}, \"Tracking response\": {\"main\": [[{\"node\": \"Webhook tracking response\", \"type\": \"main\", \"index\": 0}]]}, \"Concert start date\": {\"main\": [[{\"node\": \"Google Calendar\", \"type\": \"main\", \"index\": 0}]]}, \"Embeddings OpenAI2\": {\"ai_embedding\": [[{\"node\": \"Retrive Qdrant Vector Store\", \"type\": \"ai_embedding\", \"index\": 0}]]}, \"OpenAI Chat Model1\": {\"ai_languageModel\": [[{\"node\": \"RAG\", \"type\": \"ai_languageModel\", \"index\": 0}]]}, \"OpenAI Chat Model2\": {\"ai_languageModel\": [[{\"node\": \"Retrive Agent\", \"type\": \"ai_languageModel\", \"index\": 0}]]}, \"OpenAI Chat Model3\": {\"ai_languageModel\": [[{\"node\": \"Concert start date\", \"type\": \"ai_languageModel\", \"index\": 0}]]}, \"Refresh collection\": {\"main\": [[{\"node\": \"Get folder\", \"type\": \"main\", \"index\": 0}]]}, \"Default Data Loader\": {\"ai_document\": [[{\"node\": \"Qdrant Vector Store\", \"type\": \"ai_document\", \"index\": 0}]]}, \"Structured Output Parser\": {\"ai_outputParser\": [[{\"node\": \"Concert start date\", \"type\": \"ai_outputParser\", \"index\": 0}]]}, \"Retrive Qdrant Vector Store\": {\"ai_vectorStore\": [[{\"node\": \"RAG\", \"type\": \"ai_vectorStore\", \"index\": 0}]]}, \"When clicking ‘Test workflow’\": {\"main\": [[{\"node\": \"Create collection\", \"type\": \"main\", \"index\": 0}, {\"node\": \"Refresh collection\", \"type\": \"main\", \"index\": 0}]]}}}"
}