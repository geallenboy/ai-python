{
  "title": "Creating a AI Slack Bot with Google Gemini",
  "url": "https://n8n.io/workflows/2370-creating-a-ai-slack-bot-with-google-gemini/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Imperol",
  "publish_date": "Last update 8 months ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"84ba6d895254e080ac2b4916d987aa66b000f88d4d919a6b9c76848f9b8a7616\",\"templateId\":\"2370\"},\"nodes\":[{\"id\":\"2ce91ec6-0a8c-438a-8a18-216001c9ee07\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,240],\"parameters\":{\"width\":407.6388140161723,\"height\":490.24769122000794,\"content\":\"## This is a POST Webhook endpoint\\n\\nMake sure to configure this webhook using a https:// wraper and dont use the default http://localhost:5678 as that will not be recognized by your slack webhook\\n\\n\\nOnce the data has been sent to your webhook, the next step will be passing it via an AI Agent to process data based on the queries we pass to our agent.\\n\\nTo have some sort of a memory, be sure to set the slack token to the memory node. This way you can refer to other chats from the history.\\n\\nThe final message is relayed back to slack as a new message. Since we can not wait longer than 3000 ms for slack response, we will create anew message with reference to the input we passed.\\n\\nWe can advance this using the tools or data sources for it to be more custom tailored for your company.\\n\"},\"typeVersion\":1},{\"id\":\"7a0c84a8-90ef-4de8-b120-700c94c35a51\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1180,560],\"parameters\":{\"color\":4,\"width\":221.73584905660368,\"height\":233,\"content\":\"### Conversation history is stored in memory using the body token as the chatsession id\"},\"typeVersion\":1},{\"id\":\"9b843e0e-42a6-4125-8c59-a7d5620a15f7\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[942.5229110512129,560],\"parameters\":{\"color\":4,\"width\":217.47708894878716,\"height\":233,\"content\":\"### The chat LLM to process the prompt. Use any AI model here\"},\"typeVersion\":1},{\"id\":\"4efa968f-ebf5-42ec-80d3-907ef2622c61\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1020,640],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-flash-latest\"},\"typeVersion\":1},{\"id\":\"fd1efd7c-7cd0-4edf-960e-19bd4567293e\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[1260,660],\"parameters\":{\"sessionKey\":\"={{ $('Webhook to receive message').item.json.body.token }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":10},\"typeVersion\":1.2},{\"id\":\"60d1eb77-492d-4a18-8cec-fa3f6ef8d707\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1467.5148247978436,260],\"parameters\":{\"color\":4,\"width\":223.7196765498655,\"height\":236.66152029520293,\"content\":\"### Send the response from AI back to slack channel\\n\"},\"typeVersion\":1},{\"id\":\"186069c0-5c79-4738-9924-de33998658bc\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[840,180],\"parameters\":{\"color\":4,\"width\":561.423180592992,\"height\":340.09703504043114,\"content\":\"## Receive a POST webhook, process data and return response\"},\"typeVersion\":1},{\"id\":\"2bfce117-a769-46e1-a028-ed0c7ba62653\",\"name\":\"Send response back to slack channel\",\"type\":\"n8n-nodes-base.slack\",\"position\":[1540,320],\"parameters\":{\"text\":\"={{ $('Webhook to receive message').item.json.body.user_name }}: {{ $('Webhook to receive message').item.json.body.text }}\\n\\nEffibotics Bot: {{ $json.output.removeMarkdown() }} \",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('Webhook to receive message').item.json.body.channel_id }}\"},\"otherOptions\":{\"mrkdwn\":true,\"sendAsUser\":\"Effibotics Bot\",\"includeLinkToWorkflow\":false}},\"typeVersion\":2.1},{\"id\":\"cfcf2bbc-8ed5-4a9f-8f35-cf2715686ebe\",\"name\":\"Webhook to receive message\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[880,320],\"webhookId\":\"28b84545-96aa-42f5-990b-aa8783a320ca\",\"parameters\":{\"path\":\"slack-bot\",\"options\":{\"responseData\":\"\"},\"httpMethod\":\"POST\"},\"typeVersion\":1},{\"id\":\"dc93e588-fc0b-4561-88a5-e1cccd48323f\",\"name\":\"Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1100,320],\"parameters\":{\"text\":\"={{ $json.body.text }}\",\"options\":{\"systemMessage\":\"You are Effibotics AI personal assistant. Your task will be to provide helpful assistance and advice related to automation and such tasks. \"}},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Agent\":{\"main\":[[{\"node\":\"Send response back to slack channel\",\"type\":\"main\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Webhook to receive message\":{\"main\":[[{\"node\":\"Agent\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This is an example of how we can build a slack bot in a few easy steps\n\nBefore you can start, you need to o a few things\n\n  1. Create a copy of this workflow\n  2. Create a slack bot\n  3. Create a slash command on slack and paste the webhook url to the slack command\n\n\n\n## Note\n\nMake sure to configure this webhook using a https:// wrapper and don't use the default <http://localhost:5678> as that will not be recognized by your slack webhook.\n\nOnce the data has been sent to your webhook, the next step will be passing it via an AI Agent to process data based on the queries we pass to our agent.\n\nTo have some sort of a memory, be sure to set the slack token to the memory node. This way you can refer to other chats from the history.\n\nThe final message is relayed back to slack as a new message. Since we can not wait longer than 3000 ms for slack response, we will create a new message with reference to the input we passed.\n\nWe can advance this using the tools or data sources for it to be more custom tailored for your company.\n\n## Usage\n\nTo use the slackbot, go to slack and click on your set slash command eg /Bob and send your desired message.\n\nThis will send the message to your endpoint and get return the processed results as the message.\n\nIf you would like help setting this up, feel free to reach out to [zacharia@effibotics.com](mailto:zacharia@effibotics.com)\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This is an example of how we can build a slack bot in a few easy steps</p>\n<p>Before you can start, you need to o a few things</p>\n<ol>\n<li>Create a copy of this workflow</li>\n<li>Create a slack bot</li>\n<li>Create a slash command on slack and paste the webhook url to the slack command</li>\n</ol>\n<h2>Note</h2>\n<p>Make sure to configure this webhook using a https:// wrapper and don't use the default <a href=\"http://localhost:5678\" rel=\"ugc nofollow\" target=\"_blank\">http://localhost:5678</a> as that will not be recognized by your slack webhook.</p>\n<p>Once the data has been sent to your webhook, the next step will be passing it via an AI Agent to process data based on the queries we pass to our agent.</p>\n<p>To have some sort of a memory, be sure to set the slack token to the memory node. This way you can refer to other chats from the history.</p>\n<p>The final message is relayed back to slack as a new message. Since we can not wait longer than 3000 ms for slack response, we will create a new message with reference to the input we passed.</p>\n<p>We can advance this using the tools or data sources for it to be more custom tailored for your company.</p>\n<h2>Usage</h2>\n<p>To use the slackbot, go to slack and click on your set slash command eg /Bob and send your desired message.</p>\n<p>This will send the message to your endpoint and get return the processed results as the message.</p>\n<p>If you would like help setting this up, feel free to reach out to <a href=\"mailto:zacharia@effibotics.com\" rel=\"ugc nofollow\">zacharia@effibotics.com</a></p>\n</div><!--]-->",
  "readme_zh": "这是一个演示如何通过简单几步构建Slack机器人的示例\n\n开始前需完成以下准备工作：\n\n1. 复制本工作流程\n2. 创建Slack机器人\n3. 在Slack配置斜杠命令并粘贴webhook链接到指令中\n\n## 重要提示\n\n务必使用https://前缀配置webhook，默认的http://localhost:5678地址将无法被Slack webhook识别。\n\n当数据传送至webhook后，下一步是通过AI代理处理我们传递给代理的查询请求。\n\n若要实现记忆功能，请确保将Slack令牌设置到记忆节点。这样就能引用历史聊天记录。\n\n最终消息会作为新消息传回Slack。由于Slack响应等待时间不能超过3000毫秒，我们将创建包含原始输入引用的新消息。\n\n可通过工具或数据源进行高级定制，使其更符合企业需求。\n\n## 使用说明\n\n在Slack中使用斜杠命令（如/Bob）并发送消息，机器人会将消息发送至终端点并返回处理结果。\n\n如需协助设置，请联系[zacharia@effibotics.com](mailto:zacharia@effibotics.com)",
  "title_zh": "使用Google Gemini创建AI Slack机器人",
  "publish_date_absolute": "2024-08-30",
  "publish_date_zh": "最后更新于8个月前",
  "workflow_json_zh": "{\"meta\":{\"instanceId\":\"84ba6d895254e080ac2b4916d987aa66b000f88d4d919a6b9c76848f9b8a7616\",\"templateId\":\"2370\"},\"nodes\":[{\"id\":\"2ce91ec6-0a8c-438a-8a18-216001c9ee07\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,240],\"parameters\":{\"width\":407.6388140161723,\"height\":490.24769122000794,\"content\":\"## 此为POST类型Webhook端点\\n\\n请务必使用https://前缀配置该webhook，切勿使用默认的http://localhost:5678地址，否则Slack平台将无法识别该链接。\\n\\n当数据成功传输至您的webhook后，下一步需通过AI智能代理处理数据，该代理将根据我们输入的查询指令执行操作。\\n\\n为实现对话记忆功能，请务必将Slack令牌绑定至记忆节点。如此便可调用历史会话记录中的聊天内容。\\n\\n最终处理结果将以新消息形式回传至Slack。由于Slack平台要求响应时间必须控制在3000毫秒内，我们将创建包含原始输入引用的新消息进行回复。\\n\\n您还可以通过集成工具或数据源进一步扩展功能，从而为企业定制更精准的解决方案。\"},\"typeVersion\":1},{\"id\":\"7a0c84a8-90ef-4de8-b120-700c94c35a51\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1180,560],\"parameters\":{\"color\":4,\"width\":221.73584905660368,\"height\":233,\"content\":\"### 对话历史通过使用body令牌作为聊天会话ID存储在内存中\"},\"typeVersion\":1},{\"id\":\"9b843e0e-42a6-4125-8c59-a7d5620a15f7\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[942.5229110512129,560],\"parameters\":{\"color\":4,\"width\":217.47708894878716,\"height\":233,\"content\":\"### 聊天LLM处理提示。在此处使用任何AI模型\"},\"typeVersion\":1},{\"id\":\"4efa968f-ebf5-42ec-80d3-907ef2622c61\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1020,640],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-flash-latest\"},\"typeVersion\":1},{\"id\":\"fd1efd7c-7cd0-4edf-960e-19bd4567293e\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[1260,660],\"parameters\":{\"sessionKey\":\"={{ $('Webhook to receive message').item.json.body.token }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":10},\"typeVersion\":1.2},{\"id\":\"60d1eb77-492d-4a18-8cec-fa3f6ef8d707\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1467.5148247978436,260],\"parameters\":{\"color\":4,\"width\":223.7196765498655,\"height\":236.66152029520293,\"content\":\"### 将AI的响应发送回Slack频道\"},\"typeVersion\":1},{\"id\":\"186069c0-5c79-4738-9924-de33998658bc\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[840,180],\"parameters\":{\"color\":4,\"width\":561.423180592992,\"height\":340.09703504043114,\"content\":\"## 接收POST网络钩子，处理数据并返回响应\"},\"typeVersion\":1},{\"id\":\"2bfce117-a769-46e1-a028-ed0c7ba62653\",\"name\":\"Send response back to slack channel\",\"type\":\"n8n-nodes-base.slack\",\"position\":[1540,320],\"parameters\":{\"text\":\"={{ $('Webhook to receive message').item.json.body.user_name }}: {{ $('Webhook to receive message').item.json.body.text }}\\n\\nEffibotics Bot: {{ $json.output.removeMarkdown() }} \",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('Webhook to receive message').item.json.body.channel_id }}\"},\"otherOptions\":{\"mrkdwn\":true,\"sendAsUser\":\"Effibotics Bot\",\"includeLinkToWorkflow\":false}},\"typeVersion\":2.1},{\"id\":\"cfcf2bbc-8ed5-4a9f-8f35-cf2715686ebe\",\"name\":\"Webhook to receive message\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[880,320],\"webhookId\":\"28b84545-96aa-42f5-990b-aa8783a320ca\",\"parameters\":{\"path\":\"slack-bot\",\"options\":{\"responseData\":\"\"},\"httpMethod\":\"POST\"},\"typeVersion\":1},{\"id\":\"dc93e588-fc0b-4561-88a5-e1cccd48323f\",\"name\":\"Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1100,320],\"parameters\":{\"text\":\"={{ $json.body.text }}\",\"options\":{\"systemMessage\":\"You are Effibotics AI personal assistant. Your task will be to provide helpful assistance and advice related to automation and such tasks. \"}},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Agent\":{\"main\":[[{\"node\":\"Send response back to slack channel\",\"type\":\"main\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Webhook to receive message\":{\"main\":[[{\"node\":\"Agent\",\"type\":\"main\",\"index\":0}]]}}}"
}