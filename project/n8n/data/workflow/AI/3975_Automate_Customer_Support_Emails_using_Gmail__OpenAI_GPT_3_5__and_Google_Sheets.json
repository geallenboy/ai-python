{
  "title": "Automate Customer Support Emails using Gmail, OpenAI GPT-3.5, and Google Sheets",
  "url": "https://n8n.io/workflows/3975-automate-customer-support-emails-using-gmail-openai-gpt-35-and-google-sheets/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?sort=createdAt:desc",
  "author": "Èšugui DragoÈ™",
  "publish_date": "Last update 3 days ago",
  "publish_date_absolute": "2025-05-19",
  "content": "",
  "workflow_json": "{\"id\":\"PBL0Vnp0dTenhlDm\",\"meta\":{\"instanceId\":\"0c91cd2a3133931f13781d4dcd6db321515413596b36e6bddb494176726841a7\"},\"name\":\"Smart-Support-Classifier-Final-V140525.9\",\"tags\":[{\"id\":\"a6b41kNUtX65uzIo\",\"name\":\"tuguidragos.com\",\"createdAt\":\"2025-05-14T18:52:56.055Z\",\"updatedAt\":\"2025-05-14T18:52:56.055Z\"}],\"nodes\":[{\"id\":\"20a686b8-bcb3-4b1e-82c4-777ff21702d4\",\"name\":\"Start Workflow\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[480,40],\"parameters\":{},\"typeVersion\":1},{\"id\":\"9297e730-ce96-48bc-af9c-140713730e5f\",\"name\":\"Fetch New Support Email\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[660,40],\"webhookId\":\"90228d6b-baee-4dcc-a2fb-a16931c8d298\",\"parameters\":{\"filters\":{\"labelIds\":[\"Label_7360154076951125746\"]},\"operation\":\"getAll\",\"authentication\":\"serviceAccount\"},\"typeVersion\":2.1},{\"id\":\"9607cc7a-f74c-447c-a094-bce30ce384e3\",\"name\":\"AI: Categorize Customer Request\",\"type\":\"@n8n/n8n-nodes-langchain.openAi\",\"position\":[840,40],\"parameters\":{\"modelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-3.5-turbo\",\"cachedResultName\":\"GPT-3.5-TURBO\"},\"options\":{},\"messages\":{\"values\":[{\"content\":\"=You are a customer support specialist for a premium streetwear brand.\\n\\nYour task is:\\n1. Read the customer message below.\\n2. Reply in a helpful, friendly and clear tone (do NOT include category or tone in your reply).\\n3. Return a JSON object like this:\\n\\n{\\n  \\\"reply\\\": \\\"...\\\",\\n  \\\"category\\\": \\\"...\\\",   // one of: Complaint, Return, Exchange, Refund, General\\n  \\\"tone\\\": \\\"...\\\"        // one of: calm, happy, confused, nervous, angry, urgent\\n}\\n\\nCustomer message: \\\"{{ $json[\\\"snippet\\\"] }}\\\"\"}]}},\"typeVersion\":1.8},{\"id\":\"0f44581f-cb39-4c7b-90b2-ffe5000a12c6\",\"name\":\"Wait for AI Response\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1200,40],\"webhookId\":\"2e4019c7-4a7a-4613-ae2b-0d83c8ac2258\",\"parameters\":{\"amount\":60},\"typeVersion\":1.1},{\"id\":\"a67f020c-c5c8-4d3d-be3b-eff344025afe\",\"name\":\"Prepare Data for Sheet Entry\",\"type\":\"n8n-nodes-base.set\",\"position\":[1400,40],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"a0f2548d-b19f-4571-885a-fcd1d9717859\",\"name\":\"reply\",\"type\":\"string\",\"value\":\"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).reply}}\"},{\"id\":\"a5dda8a1-824d-4e70-be86-c7f26762efa6\",\"name\":\"category\",\"type\":\"string\",\"value\":\"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).category }}\"},{\"id\":\"500684d5-d743-4612-a32f-33a07303a3a7\",\"name\":\"tone\",\"type\":\"string\",\"value\":\"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).tone }}\"}]}},\"typeVersion\":3.4},{\"id\":\"be051cca-de6b-4a22-84ba-7acddf9fb549\",\"name\":\"Log Request in Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[1600,40],\"parameters\":{\"columns\":{\"value\":{\"Tone\":\"={{ $json[\\\"tone\\\"] }}\",\"Email\":\"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"].match(/<(.+)>/)?.[1] || $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"] }}\",\"Reply\":\"={{ $json[\\\"reply\\\"] }}\",\"Subject\":\"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"Subject\\\"] }}\",\"Category\":\"={{ $json[\\\"category\\\"] }}\",\"Timestamp\":\"={{ $now }}\"},\"schema\":[{\"id\":\"Timestamp\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Timestamp\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Email\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Email\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Subject\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Subject\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Reply\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Reply\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Category\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Category\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Tone\",\"type\":\"string\",\"display\":true,\"required\":false,\"displayName\":\"Tone\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY/edit#gid=0\",\"cachedResultName\":\"log\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY/edit?usp=drivesdk\",\"cachedResultName\":\"Support_Log_SmartClassifier\"},\"authentication\":\"serviceAccount\"},\"typeVersion\":4.5},{\"id\":\"7bf39ed5-5633-4fb4-b938-0523cc56d539\",\"name\":\"Send Auto-Response to Customer\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[1800,40],\"webhookId\":\"bf7651d5-9da5-4c0a-8651-d160f0446e6f\",\"parameters\":{\"sendTo\":\"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"].match(/<(.*)>/)?.[1] || $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"] }}\",\"message\":\"={{ $node[\\\"Log Request in Google Sheets\\\"].json[\\\"Reply\\\"] }}\",\"options\":{},\"subject\":\"=RE: {{ $node[\\\"Fetch New Support Email\\\"].json[\\\"Subject\\\"] }}\",\"emailType\":\"text\",\"authentication\":\"serviceAccount\"},\"typeVersion\":2.1},{\"id\":\"1b529682-bdd3-48c1-ac13-f696d75013ef\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,0],\"parameters\":{\"color\":4,\"width\":2060,\"height\":680,\"content\":\"---\\n\\n## ğŸ“Œ Sticky Notes\\n\\n### 1. Step 1 â€“ Trigger the Workflow\\nStarts the automation manually or on a schedule.\\n\\n### 2. Step 2 â€“ Fetch New Emails\\nUses Gmail to retrieve incoming emails with a specific label or filter.\\n\\n### 3. Step 3 â€“ Classify Email with OpenAI\\nSends the email content to GPT-3.5 to detect the category and suggested response.\\n\\n### 4. Step 4 â€“ Generate Smart Reply\\nUses OpenAI to generate a friendly, clear, and personalized email response.\\n\\n### 5. Step 5 â€“ Send Email to Customer\\nReplies to the customer via Gmail with the AI-generated message.\\n\\n### 6. Step 6 â€“ Log Interaction to Google Sheets\\nLogs all data including timestamp, email address, subject, category, and reply.\\n\\n### 7. Step 7 â€“ Optional Enhancements\\nAdd-ons like Slack notifications, translations, webhook triggers, or error handling.\\n\\n---\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"6b515165-fa86-46aa-96cb-dc51f5beb393\",\"connections\":{\"Start Workflow\":{\"main\":[[{\"node\":\"Fetch New Support Email\",\"type\":\"main\",\"index\":0}]]},\"Wait for AI Response\":{\"main\":[[{\"node\":\"Prepare Data for Sheet Entry\",\"type\":\"main\",\"index\":0}]]},\"Fetch New Support Email\":{\"main\":[[{\"node\":\"AI: Categorize Customer Request\",\"type\":\"main\",\"index\":0}]]},\"Log Request in Google Sheets\":{\"main\":[[{\"node\":\"Send Auto-Response to Customer\",\"type\":\"main\",\"index\":0}]]},\"Prepare Data for Sheet Entry\":{\"main\":[[{\"node\":\"Log Request in Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"AI: Categorize Customer Request\":{\"main\":[[{\"node\":\"Wait for AI Response\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## ğŸ”§ Setup Instructions\n\n  1. **Import** the workflow into n8n\n  2. Set up credentials for: \n     * `Gmail OAuth2`\n     * `Google Sheets (Service Account)`\n     * `OpenAI API Key`\n  3. Update the Gmail node to filter by a label or unread status\n  4. Paste your Google Sheet ID in the Sheet node\n  5. Review the system prompt in the OpenAI node (you can customize tone, language, or instructions)\n  6. Hit \"Execute Workflow\" or schedule it using a cron trigger\n\n\n\n## âš™ï¸ Features\n\n  * ğŸ“¥ Auto-fetch emails from Gmail (new unread threads only)\n  * ğŸ§  Classifies message content using **OpenAI GPT-3.5**\n  * ğŸ·ï¸ Categorizes each email: _Billing_ , _Bug Report_ , _Question_ , etc.\n  * ğŸ“Š Logs structured data into a connected **Google Sheet**\n  * âœ‰ï¸ Sends personalized auto-replies based on category\n  * â±ï¸ Includes optional wait logic to simulate human delay\n  * ğŸ” Easily extendable for ticket systems, CRMs, or Slack alerts\n\n\n\n* * *\n\n## ğŸ”§ Requirements\n\nTo make this template work, youâ€™ll need:\n\n  * âœ… **n8n** account (self-hosted or cloud)\n  * ğŸ” **Google Service Account** (with Sheets API enabled)\n  * ğŸ“© **Gmail** account connected via OAuth2\n  * ğŸ§  **OpenAI API key** (ChatGPT 3.5 or 4.0)\n  * ğŸ“‘ A Google Sheet with columns for: `Date`, `Email`, `Subject`, `Category`, `Reply`\n  * ğŸŒ Basic knowledge of how to create credentials in n8n\n\n\n\n* * *\n\n## ğŸ” What It Looks Like\n\n### ğŸ“¨ Customer Emails\n\nAll incoming messages labeled `N8N-Test` are captured for analysis.\n\n![Customer Inquiry - Emails Received](https://github.com/user-attachments/assets/03ea667a-9fea-493d-9fb1-858b3664862a)\n\n* * *\n\n### âœ‰ï¸ Smart AI Replies\n\nEach customer receives a personalized response, written by OpenAI and sent through Gmail.\n\n![Automated Response - Customer Service Reply](https://github.com/user-attachments/assets/170752c8-77a5-477e-a1e2-9dfe5017f294)\n\n![Email Sent - Customer Response](https://github.com/user-attachments/assets/539dd30c-60d1-4523-a6e3-c4401c5b40b0)\n\n* * *\n\n### ğŸ“Š Logged in Google Sheets\n\nA full history of conversations is stored with category and tone.. ideal for analytics or reporting.\n\n![Logged in Google Sheets](https://github.com/user-attachments/assets/404ff5de-0ab3-4639-b9a5-3de33f778db7)\n\n* * *\n\n## ğŸ¥ Watch Full Demo\n\nâ¡ï¸ [Click to watch the full video on Vimeo](https://vimeo.com/1070420977/417e0490c5?share=copy)\n\n* * *\n\n## ğŸ’¡ Use Case\n\nThis system is perfect for:\n\n  * E-commerce brands handling repetitive support requests\n  * Small teams who want to reduce support response time\n  * Any business looking to automate customer service without losing personalization\n\n\n\n* * *\n\n## ğŸ”§ Setup Instructions\n\n  1. **Import** the workflow into n8n\n  2. Set up credentials for: \n     * `Gmail OAuth2`\n     * `Google Sheets (Service Account)`\n     * `OpenAI API Key`\n  3. Update the Gmail node to filter by a label or unread status\n  4. Paste your Google Sheet ID in the Sheet node\n  5. Review the system prompt in the OpenAI node (you can customize tone, language, or instructions)\n  6. Hit \"Execute Workflow\" or schedule it using a cron trigger\n\n\n\n* * *\n\n## ğŸ› ï¸ Customization Guidance\n\nWant to adapt it to your use case?\n\n  * Change categories in the OpenAI prompt (`Billing`, `Bug Report`, etc.)\n  * Add conditional logic to forward certain categories to Slack or Discord\n  * Save attachments or original email in a database\n  * Translate replies into other languages using a translation node\n  * Add filters based on subject or sender for more precise targeting\n\n\n\n* * *\n\nğŸ’¬ Have questions? Want this workflow customized for your business?\n\n[â†’ Contact Me](mailto:contact@tuguidragos.com)  \n[â†’ Visit tuguidragos.com](https://tuguidragos.com)\n",
  "readme_html": "<!--[--><div data-v-859c7806=\"\"><h2>ğŸ”§ Setup Instructions</h2>\n<ol>\n<li><strong>Import</strong> the workflow into n8n</li>\n<li>Set up credentials for:\n<ul>\n<li><code>Gmail OAuth2</code></li>\n<li><code>Google Sheets (Service Account)</code></li>\n<li><code>OpenAI API Key</code></li>\n</ul>\n</li>\n<li>Update the Gmail node to filter by a label or unread status</li>\n<li>Paste your Google Sheet ID in the Sheet node</li>\n<li>Review the system prompt in the OpenAI node (you can customize tone, language, or instructions)</li>\n<li>Hit \"Execute Workflow\" or schedule it using a cron trigger</li>\n</ol>\n<h2>âš™ï¸ Features</h2>\n<ul>\n<li>ğŸ“¥ Auto-fetch emails from Gmail (new unread threads only)</li>\n<li>ğŸ§  Classifies message content using <strong>OpenAI GPT-3.5</strong></li>\n<li>ğŸ·ï¸ Categorizes each email: <em>Billing</em>, <em>Bug Report</em>, <em>Question</em>, etc.</li>\n<li>ğŸ“Š Logs structured data into a connected <strong>Google Sheet</strong></li>\n<li>âœ‰ï¸ Sends personalized auto-replies based on category</li>\n<li>â±ï¸ Includes optional wait logic to simulate human delay</li>\n<li>ğŸ” Easily extendable for ticket systems, CRMs, or Slack alerts</li>\n</ul>\n<hr>\n<h2>ğŸ”§ Requirements</h2>\n<p>To make this template work, youâ€™ll need:</p>\n<ul>\n<li>âœ… <strong>n8n</strong> account (self-hosted or cloud)</li>\n<li>ğŸ” <strong>Google Service Account</strong> (with Sheets API enabled)</li>\n<li>ğŸ“© <strong>Gmail</strong> account connected via OAuth2</li>\n<li>ğŸ§  <strong>OpenAI API key</strong> (ChatGPT 3.5 or 4.0)</li>\n<li>ğŸ“‘ A Google Sheet with columns for: <code>Date</code>, <code>Email</code>, <code>Subject</code>, <code>Category</code>, <code>Reply</code></li>\n<li>ğŸŒ Basic knowledge of how to create credentials in n8n</li>\n</ul>\n<hr>\n<h2>ğŸ” What It Looks Like</h2>\n<h3>ğŸ“¨ Customer Emails</h3>\n<p>All incoming messages labeled <code>N8N-Test</code> are captured for analysis.</p>\n<p><img src=\"https://github.com/user-attachments/assets/03ea667a-9fea-493d-9fb1-858b3664862a\" alt=\"Customer Inquiry - Emails Received\"></p>\n<hr>\n<h3>âœ‰ï¸ Smart AI Replies</h3>\n<p>Each customer receives a personalized response, written by OpenAI and sent through Gmail.</p>\n<p><img src=\"https://github.com/user-attachments/assets/170752c8-77a5-477e-a1e2-9dfe5017f294\" alt=\"Automated Response - Customer Service Reply\"></p>\n<p><img src=\"https://github.com/user-attachments/assets/539dd30c-60d1-4523-a6e3-c4401c5b40b0\" alt=\"Email Sent - Customer Response\"></p>\n<hr>\n<h3>ğŸ“Š Logged in Google Sheets</h3>\n<p>A full history of conversations is stored with category and tone.. ideal for analytics or reporting.</p>\n<p><img src=\"https://github.com/user-attachments/assets/404ff5de-0ab3-4639-b9a5-3de33f778db7\" alt=\"Logged in Google Sheets\"></p>\n<hr>\n<h2>ğŸ¥ Watch Full Demo</h2>\n<p>â¡ï¸ <a href=\"https://vimeo.com/1070420977/417e0490c5?share=copy\" rel=\"ugc nofollow\" target=\"_blank\">Click to watch the full video on Vimeo</a></p>\n<hr>\n<h2>ğŸ’¡ Use Case</h2>\n<p>This system is perfect for:</p>\n<ul>\n<li>E-commerce brands handling repetitive support requests</li>\n<li>Small teams who want to reduce support response time</li>\n<li>Any business looking to automate customer service without losing personalization</li>\n</ul>\n<hr>\n<h2>ğŸ”§ Setup Instructions</h2>\n<ol>\n<li><strong>Import</strong> the workflow into n8n</li>\n<li>Set up credentials for:\n<ul>\n<li><code>Gmail OAuth2</code></li>\n<li><code>Google Sheets (Service Account)</code></li>\n<li><code>OpenAI API Key</code></li>\n</ul>\n</li>\n<li>Update the Gmail node to filter by a label or unread status</li>\n<li>Paste your Google Sheet ID in the Sheet node</li>\n<li>Review the system prompt in the OpenAI node (you can customize tone, language, or instructions)</li>\n<li>Hit \"Execute Workflow\" or schedule it using a cron trigger</li>\n</ol>\n<hr>\n<h2>ğŸ› ï¸ Customization Guidance</h2>\n<p>Want to adapt it to your use case?</p>\n<ul>\n<li>Change categories in the OpenAI prompt (<code>Billing</code>, <code>Bug Report</code>, etc.)</li>\n<li>Add conditional logic to forward certain categories to Slack or Discord</li>\n<li>Save attachments or original email in a database</li>\n<li>Translate replies into other languages using a translation node</li>\n<li>Add filters based on subject or sender for more precise targeting</li>\n</ul>\n<hr>\n<p>ğŸ’¬ Have questions? Want this workflow customized for your business?</p>\n<p><a href=\"mailto:contact@tuguidragos.com\" rel=\"ugc nofollow\">â†’ Contact Me</a><br>\n<a href=\"https://tuguidragos.com\" rel=\"ugc nofollow\" target=\"_blank\">â†’ Visit tuguidragos.com</a></p>\n</div><!--]-->",
  "readme_zh": "## ğŸ”§ é…ç½®è¯´æ˜\n\n  1. **å¯¼å…¥**å·¥ä½œæµè‡³n8nå¹³å°\n  2. é…ç½®ä»¥ä¸‹å‡­è¯ï¼š \n     * `Gmail OAuth2`\n     * `Google Sheetsï¼ˆæœåŠ¡è´¦å·ï¼‰`\n     * `OpenAI APIå¯†é’¥`\n  3. åœ¨GmailèŠ‚ç‚¹è®¾ç½®é‚®ä»¶è¿‡æ»¤æ¡ä»¶ï¼ˆæ ‡ç­¾æˆ–æœªè¯»çŠ¶æ€ï¼‰\n  4. åœ¨SheetèŠ‚ç‚¹ç²˜è´´ä½ çš„è°·æ­Œè¡¨æ ¼ID\n  5. æ£€æŸ¥OpenAIèŠ‚ç‚¹çš„ç³»ç»Ÿæç¤ºï¼ˆå¯è‡ªå®šä¹‰è¯­æ°”ã€è¯­è¨€æˆ–æŒ‡ä»¤ï¼‰\n  6. ç‚¹å‡»\"æ‰§è¡Œå·¥ä½œæµ\"æˆ–é€šè¿‡å®šæ—¶è§¦å‘å™¨è®¾ç½®è‡ªåŠ¨è¿è¡Œ",
  "title_zh": "åˆ©ç”¨Gmailã€OpenAI GPT-3.5å’ŒGoogleè¡¨æ ¼å®ç°å®¢æˆ·æ”¯æŒé‚®ä»¶è‡ªåŠ¨åŒ–å¤„ç†",
  "publish_date_zh": "æœ€åæ›´æ–°äº3å¤©å‰",
  "workflow_json_zh": "{\n  \"id\": \"PBL0Vnp0dTenhlDm\",\n  \"meta\": {\n    \"instanceId\": \"0c91cd2a3133931f13781d4dcd6db321515413596b36e6bddb494176726841a7\"\n  },\n  \"name\": \"Smart-Support-Classifier-Final-V140525.9\",\n  \"tags\": [\n    {\n      \"id\": \"a6b41kNUtX65uzIo\",\n      \"name\": \"tuguidragos.com\",\n      \"createdAt\": \"2025-05-14T18:52:56.055Z\",\n      \"updatedAt\": \"2025-05-14T18:52:56.055Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"20a686b8-bcb3-4b1e-82c4-777ff21702d4\",\n      \"name\": \"Start Workflow\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        480,\n        40\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9297e730-ce96-48bc-af9c-140713730e5f\",\n      \"name\": \"Fetch New Support Email\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        660,\n        40\n      ],\n      \"webhookId\": \"90228d6b-baee-4dcc-a2fb-a16931c8d298\",\n      \"parameters\": {\n        \"filters\": {\n          \"labelIds\": [\n            \"Label_7360154076951125746\"\n          ]\n        },\n        \"operation\": \"getAll\",\n        \"authentication\": \"serviceAccount\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"9607cc7a-f74c-447c-a094-bce30ce384e3\",\n      \"name\": \"AI: Categorize Customer Request\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        840,\n        40\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-3.5-turbo\",\n          \"cachedResultName\": \"GPT-3.5-TURBO\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=You are a customer support specialist for a premium streetwear brand.\\n\\nYour task is:\\n1. Read the customer message below.\\n2. Reply in a helpful, friendly and clear tone (do NOT include category or tone in your reply).\\n3. Return a JSON object like this:\\n\\n{\\n  \\\"reply\\\": \\\"...\\\",\\n  \\\"category\\\": \\\"...\\\",   // one of: Complaint, Return, Exchange, Refund, General\\n  \\\"tone\\\": \\\"...\\\"        // one of: calm, happy, confused, nervous, angry, urgent\\n}\\n\\nCustomer message: \\\"{{ $json[\\\"snippet\\\"] }}\\\"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"0f44581f-cb39-4c7b-90b2-ffe5000a12c6\",\n      \"name\": \"Wait for AI Response\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1200,\n        40\n      ],\n      \"webhookId\": \"2e4019c7-4a7a-4613-ae2b-0d83c8ac2258\",\n      \"parameters\": {\n        \"amount\": 60\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"a67f020c-c5c8-4d3d-be3b-eff344025afe\",\n      \"name\": \"Prepare Data for Sheet Entry\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1400,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"a0f2548d-b19f-4571-885a-fcd1d9717859\",\n              \"name\": \"reply\",\n              \"type\": \"string\",\n              \"value\": \"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).reply}}\"\n            },\n            {\n              \"id\": \"a5dda8a1-824d-4e70-be86-c7f26762efa6\",\n              \"name\": \"category\",\n              \"type\": \"string\",\n              \"value\": \"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).category }}\"\n            },\n            {\n              \"id\": \"500684d5-d743-4612-a32f-33a07303a3a7\",\n              \"name\": \"tone\",\n              \"type\": \"string\",\n              \"value\": \"={{ JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).tone }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"be051cca-de6b-4a22-84ba-7acddf9fb549\",\n      \"name\": \"Log Request in Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1600,\n        40\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Tone\": \"={{ $json[\\\"tone\\\"] }}\",\n            \"Email\": \"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"].match(/<(.+)>/)?.[1] || $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"] }}\",\n            \"Reply\": \"={{ $json[\\\"reply\\\"] }}\",\n            \"Subject\": \"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"Subject\\\"] }}\",\n            \"Category\": \"={{ $json[\\\"category\\\"] }}\",\n            \"Timestamp\": \"={{ $now }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Timestamp\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Timestamp\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Subject\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Subject\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Reply\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Reply\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Category\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Category\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Tone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Tone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY/edit#gid=0\",\n          \"cachedResultName\": \"log\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1UtGOIpiTxYyAOIj_8-u8k0mWaEgCmAIzfKcvd0bGZsY/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Support_Log_SmartClassifier\"\n        },\n        \"authentication\": \"serviceAccount\"\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"7bf39ed5-5633-4fb4-b938-0523cc56d539\",\n      \"name\": \"Send Auto-Response to Customer\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1800,\n        40\n      ],\n      \"webhookId\": \"bf7651d5-9da5-4c0a-8651-d160f0446e6f\",\n      \"parameters\": {\n        \"sendTo\": \"={{ $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"].match(/<(.*)>/)?.[1] || $node[\\\"Fetch New Support Email\\\"].json[\\\"From\\\"] }}\",\n        \"message\": \"={{ $node[\\\"Log Request in Google Sheets\\\"].json[\\\"Reply\\\"] }}\",\n        \"options\": {},\n        \"subject\": \"=RE: {{ $node[\\\"Fetch New Support Email\\\"].json[\\\"Subject\\\"] }}\",\n        \"emailType\": \"text\",\n        \"authentication\": \"serviceAccount\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"1b529682-bdd3-48c1-ac13-f696d75013ef\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 2060,\n        \"height\": 680,\n        \"content\": \"## ğŸ“Œ æ“ä½œæŒ‡å—\\n\\n### 1. ç¬¬ä¸€æ­¥ â€“ è§¦å‘å·¥ä½œæµ\\næ‰‹åŠ¨æˆ–æŒ‰é¢„å®šè®¡åˆ’å¯åŠ¨è‡ªåŠ¨åŒ–æµç¨‹ã€‚\\n\\n### 2. ç¬¬äºŒæ­¥ â€“ è·å–æ–°é‚®ä»¶\\né€šè¿‡Gmailæ”¶å–å¸¦æœ‰ç‰¹å®šæ ‡ç­¾æˆ–è¿‡æ»¤æ¡ä»¶çš„æ¥ä¿¡ã€‚\\n\\n### 3. ç¬¬ä¸‰æ­¥ â€“ ç”¨OpenAIåˆ†ç±»é‚®ä»¶\\nå°†é‚®ä»¶å†…å®¹å‘é€è‡³GPT-3.5ï¼Œè¯†åˆ«é‚®ä»¶ç±»åˆ«å¹¶è·å–å›å¤å»ºè®®ã€‚\\n\\n### 4. ç¬¬å››æ­¥ â€“ ç”Ÿæˆæ™ºèƒ½å›å¤\\nåˆ©ç”¨OpenAIåˆ›å»ºå‹å¥½ã€æ¸…æ™°ä¸”ä¸ªæ€§åŒ–çš„é‚®ä»¶å›å¤å†…å®¹ã€‚\\n\\n### 5. ç¬¬äº”æ­¥ â€“ å‘å®¢æˆ·å‘é€é‚®ä»¶\\né€šè¿‡Gmailå°†AIç”Ÿæˆçš„å›å¤å‘é€ç»™å®¢æˆ·ã€‚\\n\\n### 6. ç¬¬å…­æ­¥ â€“ è®°å½•äº¤äº’è‡³è°·æ­Œè¡¨æ ¼\\nä¿å­˜æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬æ—¶é—´æˆ³ã€é‚®ç®±åœ°å€ã€ä¸»é¢˜ã€åˆ†ç±»åŠå›å¤å†…å®¹ã€‚\\n\\n### 7. ç¬¬ä¸ƒæ­¥ â€“ å¯é€‰å¢å¼ºåŠŸèƒ½\\né™„åŠ åŠŸèƒ½å¦‚Slacké€šçŸ¥ã€ç¿»è¯‘æœåŠ¡ã€Webhookè§¦å‘æˆ–é”™è¯¯å¤„ç†æœºåˆ¶ã€‚\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"6b515165-fa86-46aa-96cb-dc51f5beb393\",\n  \"connections\": {\n    \"Start Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch New Support Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait for AI Response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Prepare Data for Sheet Entry\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch New Support Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI: Categorize Customer Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Log Request in Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Auto-Response to Customer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Prepare Data for Sheet Entry\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Log Request in Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI: Categorize Customer Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait for AI Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}