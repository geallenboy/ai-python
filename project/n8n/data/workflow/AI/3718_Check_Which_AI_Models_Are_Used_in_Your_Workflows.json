{
  "title": "Check Which AI Models Are Used in Your Workflows",
  "url": "https://n8n.io/workflows/3718-check-which-ai-models-are-used-in-your-workflows/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "darrell_tw",
  "publish_date": "Last update a day ago",
  "content": "",
  "workflow_json": "{\"id\":\"I2qMAcQET7isaqYD\",\"meta\":{\"instanceId\":\"fddb3e91967f1012c95dd02bf5ad21f279fc44715f47a7a96a33433621caa253\",\"templateCredsSetupCompleted\":true},\"name\":\"n8napi-check-workflow-which-model-is-using\",\"tags\":[],\"nodes\":[{\"id\":\"a027dc3c-b3a2-45f6-9126-dbec39f55b39\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-880,-40],\"parameters\":{},\"typeVersion\":1},{\"id\":\"0aafc781-6847-4b5d-8f80-3bd457f16db3\",\"name\":\"Loop Over Items\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[-220,-40],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"242d1965-d1e3-4b74-8064-53ea56118e94\",\"name\":\"Edit Fields-set_model_data\",\"type\":\"n8n-nodes-base.set\",\"position\":[460,80],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3c08b3a3-092d-4f88-81ef-7a7b3acf47b2\",\"name\":\"node_name\",\"type\":\"string\",\"value\":\"={{ $json.name }}\"},{\"id\":\"9b060fdb-f6a6-444a-a28d-deeacb21b3d3\",\"name\":\"model\",\"type\":\"string\",\"value\":\"={{ $json?.parameters?.model?.value || $json?.parameters?.model ||  $json?.parameters?.modelId?.cachedResultName }}\"},{\"id\":\"848c0e23-0aa6-4cf5-8a64-abe38351b63a\",\"name\":\"workflow_name\",\"type\":\"string\",\"value\":\"={{ $('Loop Over Items').item.json.name }}\"},{\"id\":\"cf3fea4e-4e22-4bd5-930b-6b8d25afbf9a\",\"name\":\"workflow_id\",\"type\":\"string\",\"value\":\"={{ $('Loop Over Items').item.json.id }}\"},{\"id\":\"8a8a2a83-d742-4450-b5ed-2089047076d8\",\"name\":\"workflow_url\",\"type\":\"string\",\"value\":\"={Your n8n domain}/workflow/{{ $('Loop Over Items').item.json.id }}\"}]}},\"typeVersion\":3.4},{\"id\":\"9693eb8b-4ce5-4d4b-984d-a77098896bc3\",\"name\":\"Google Sheets-Clear Sheet Data\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[-440,-220],\"parameters\":{\"operation\":\"clear\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI/edit#gid=0\",\"cachedResultName\":\"data\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI/edit?usp=drivesdk\",\"cachedResultName\":\"n8n-check-workflow-use-what-ai-model\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"tufEzuSTEveV3tuA\",\"name\":\"(Personal)Google Sheets account\"}},\"executeOnce\":true,\"typeVersion\":4.5,\"alwaysOutputData\":false},{\"id\":\"d325597e-b12f-427c-ba18-f69fa6ec9ed4\",\"name\":\"n8n-get all workflow\",\"type\":\"n8n-nodes-base.n8n\",\"position\":[-660,-40],\"parameters\":{\"filters\":{},\"requestOptions\":{}},\"credentials\":{\"n8nApi\":{\"id\":\"dXWG3XrAfEA64tjh\",\"name\":\"n8n account\"}},\"typeVersion\":1},{\"id\":\"f8fba3ae-f4f3-4db3-bd0f-7caa84fd6cee\",\"name\":\"Filter-get workflow contain modelid\",\"type\":\"n8n-nodes-base.filter\",\"position\":[-440,-40],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"f7433843-53c6-4e77-8f51-c70921342a0f\",\"operator\":{\"type\":\"string\",\"operation\":\"contains\"},\"leftValue\":\"={{ $json.nodes.toJsonString() }}\",\"rightValue\":\"modelId\"},{\"id\":\"8a9ff036-dc80-4b55-919b-e2dba22667cf\",\"operator\":{\"type\":\"string\",\"operation\":\"notEquals\"},\"leftValue\":\"={{ $json.id }}\",\"rightValue\":\"={{ $workflow.id }}\"}]}},\"typeVersion\":2.2},{\"id\":\"727dd95d-c788-4cae-8b25-4ffeff705579\",\"name\":\"Split Out-nodes\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[-40,80],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"nodes\"},\"typeVersion\":1,\"alwaysOutputData\":true},{\"id\":\"5a9d8012-a559-4c06-a3f9-be1a7b8f7ce6\",\"name\":\"Filter-node contain modelId\",\"type\":\"n8n-nodes-base.filter\",\"position\":[180,80],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"or\",\"conditions\":[{\"id\":\"5c06371f-9bc4-4fdd-bac2-9b9cdc28f77c\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.parameters.modelId.value.toString() }}\",\"rightValue\":\"\"},{\"id\":\"6888c3a4-c988-48a1-aefc-d359f2ffeef5\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.parameters.model.toString() }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2,\"alwaysOutputData\":true},{\"id\":\"d4301765-8855-46fe-b2a2-06b03577a3b9\",\"name\":\"Google Sheets-Save node and workflow data\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[700,80],\"parameters\":{\"columns\":{\"value\":{},\"schema\":[{\"id\":\"node_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"node_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"modelId_value\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"modelId_value\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"modelId_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"modelId_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"workflow_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"workflow_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"workflow_id\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"workflow_id\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"workflow_url\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"workflow_url\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"autoMapInputData\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"append\",\"sheetName\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gid=0\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI/edit#gid=0\",\"cachedResultName\":\"data\"},\"documentId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI\",\"cachedResultUrl\":\"https://docs.google.com/spreadsheets/d/1iMh0C-Niu1ko4-u2BHo0cgGeVQKcYHflBzRxtbWJiRI/edit?usp=drivesdk\",\"cachedResultName\":\"n8n-check-workflow-use-what-ai-model\"}},\"credentials\":{\"googleSheetsOAuth2Api\":{\"id\":\"tufEzuSTEveV3tuA\",\"name\":\"(Personal)Google Sheets account\"}},\"typeVersion\":4.5},{\"id\":\"78ae0f64-d6fa-46f6-a09f-e0a6bd6d21df\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,-40],\"parameters\":{\"width\":260,\"height\":320,\"content\":\"## Change to your n8n domain here\\n\\n\"},\"typeVersion\":1},{\"id\":\"2b8853d8-0436-4347-9c44-df45fcacfbd4\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-920,-160],\"parameters\":{\"color\":3,\"width\":420,\"height\":320,\"content\":\"## Be careful\\nif you have more than 100 workflows. It might have performance issue.\\n\"},\"typeVersion\":1},{\"id\":\"611a6d7f-3955-43b5-b029-e738be2372cd\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-920,-440],\"parameters\":{\"color\":7,\"width\":340,\"height\":240,\"content\":\"## Created by darrell_tw_ \\n\\nAn engineer now focus on AI and Automation\\n\\n### contact me with following:\\n[X](https://x.com/darrell_tw_)\\n[Threads](https://www.threads.net/@darrell_tw_)\\n[Instagram](https://www.instagram.com/darrell_tw_/)\\n[Website](https://www.darrelltw.com/)\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"8c129490-0fba-4519-9ec3-ddabd0a843b0\",\"connections\":{\"Loop Over Items\":{\"main\":[[],[{\"node\":\"Split Out-nodes\",\"type\":\"main\",\"index\":0}]]},\"Split Out-nodes\":{\"main\":[[{\"node\":\"Filter-node contain modelId\",\"type\":\"main\",\"index\":0}]]},\"n8n-get all workflow\":{\"main\":[[{\"node\":\"Filter-get workflow contain modelid\",\"type\":\"main\",\"index\":0},{\"node\":\"Google Sheets-Clear Sheet Data\",\"type\":\"main\",\"index\":0}]]},\"Edit Fields-set_model_data\":{\"main\":[[{\"node\":\"Google Sheets-Save node and workflow data\",\"type\":\"main\",\"index\":0}]]},\"Filter-node contain modelId\":{\"main\":[[{\"node\":\"Edit Fields-set_model_data\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"n8n-get all workflow\",\"type\":\"main\",\"index\":0}]]},\"Filter-get workflow contain modelid\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]},\"Google Sheets-Save node and workflow data\":{\"main\":[[{\"node\":\"Loop Over Items\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## How it works\n\n  * Fetch all workflows from your n8n instance.\n  * Filter workflows that contain nodes with a `modelId` setting.\n  * Extract the node names, model IDs, model names, workflow names, and workflow URLs.\n  * Save the extracted information into a connected **Google Sheet**.\n\n\n\n# Set up steps\n\n  1. Connect your **n8n API** credentials.\n  2. Connect your **Google Sheets** account.\n  3. Replace `\"Your n8n domain\"` with your actual domain URL.\n  4. Use this [Google Sheet template](https://docs.google.com/spreadsheets/d/1vl_Xj9QLGE04XMimmJzj1V0vJgP3j18duhsIziVNx_A/copy) to create a new sheet for results.\n  5. Setup typically takes **5 minutes**.\n  6. Be cautious: if you have over 100 workflows, performance may be impacted.\n\n\n\n## Notes\n\n  * Sticky notes inside the workflow provide extra guidance.\n  * This workflow clears old sheet data before writing new results.\n  * Make sure your n8n instance allows API access.\n\n\n\n## Result Example\n\n![Screenshot_20250426_215018_VOGw3C702x.jpg](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_20250426_215018_VO_Gw3_C70_2x_7bc122e283.jpg)\n\nUpdate:  \nIt didn't detect the AI model in tool originally. Now it's fixed!\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h2>How it works</h2>\n<ul>\n<li>Fetch all workflows from your n8n instance.</li>\n<li>Filter workflows that contain nodes with a <code>modelId</code> setting.</li>\n<li>Extract the node names, model IDs, model names, workflow names, and workflow URLs.</li>\n<li>Save the extracted information into a connected <strong>Google Sheet</strong>.</li>\n</ul>\n<h1>Set up steps</h1>\n<ol>\n<li>Connect your <strong>n8n API</strong> credentials.</li>\n<li>Connect your <strong>Google Sheets</strong> account.</li>\n<li>Replace <code>\"Your n8n domain\"</code> with your actual domain URL.</li>\n<li>Use this <a href=\"https://docs.google.com/spreadsheets/d/1vl_Xj9QLGE04XMimmJzj1V0vJgP3j18duhsIziVNx_A/copy\" rel=\"ugc nofollow\" target=\"_blank\">Google Sheet template</a> to create a new sheet for results.</li>\n<li>Setup typically takes <strong>5 minutes</strong>.</li>\n<li>Be cautious: if you have over 100 workflows, performance may be impacted.</li>\n</ol>\n<h2>Notes</h2>\n<ul>\n<li>Sticky notes inside the workflow provide extra guidance.</li>\n<li>This workflow clears old sheet data before writing new results.</li>\n<li>Make sure your n8n instance allows API access.</li>\n</ul>\n<h2>Result Example</h2>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_20250426_215018_VO_Gw3_C70_2x_7bc122e283.jpg\" alt=\"Screenshot_20250426_215018_VOGw3C702x.jpg\"></p>\n<p>Update:<br>\nIt didn't detect the AI model in tool originally. Now it's fixed!</p>\n</div><!--]-->"
}