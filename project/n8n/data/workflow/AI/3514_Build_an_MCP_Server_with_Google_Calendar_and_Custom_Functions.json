{
  "title": "Build an MCP Server with Google Calendar and Custom Functions",
  "url": "https://n8n.io/workflows/3514-build-an-mcp-server-with-google-calendar-and-custom-functions/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/",
  "author": "Solomon",
  "publish_date": "Last update 16 days ago",
  "content": "",
  "workflow_json": "{\"id\":\"8n0VYmvJgISwezyz\",\"meta\":{\"instanceId\":\"cf0c5836fa3beacaef0de12624775e6f153c527586d6a910f5e2be3bb2e519a3\",\"templateCredsSetupCompleted\":true},\"name\":\"Build your first AI MCP Server\",\"tags\":[],\"nodes\":[{\"id\":\"f734e72b-1954-44e8-8633-47b6fa69bfc7\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[-440,-160],\"parameters\":{\"options\":{\"systemMessage\":\"=You are a helpful assistant.\\nCurrent datetime is {{ $now.toString() }}\"}},\"typeVersion\":1.8},{\"id\":\"02c66e36-63e6-48f5-a26a-2c7b1eaf2400\",\"name\":\"SearchEvent\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[1180,200],\"parameters\":{\"limit\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Limit', ``, 'number') }}\",\"options\":{},\"timeMax\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}\",\"timeMin\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gmsalomao2@gmail.com\",\"cachedResultName\":\"gmsalomao2@gmail.com\"},\"operation\":\"getAll\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"imp2lyvMg9IpuCwC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"5956abba-4458-480c-997f-416126dc8c10\",\"name\":\"CreateEvent\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[1300,200],\"parameters\":{\"end\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}\",\"start\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gmsalomao2@gmail.com\",\"cachedResultName\":\"gmsalomao2@gmail.com\"},\"additionalFields\":{\"summary\":\"={{ $fromAI(\\\"event_title\\\", \\\"The event title\\\", \\\"string\\\") }}\",\"description\":\"={{ $fromAI(\\\"event_description\\\", \\\"The event description\\\", \\\"string\\\") }}\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"imp2lyvMg9IpuCwC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"f12fd8d6-1600-4516-bbb0-a0a893e2ff25\",\"name\":\"UpdateEvent\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[1420,200],\"parameters\":{\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gmsalomao2@gmail.com\",\"cachedResultName\":\"gmsalomao2@gmail.com\"},\"operation\":\"update\",\"updateFields\":{\"end\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}\",\"start\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}\",\"summary\":\"={{ $fromAI(\\\"event_title\\\", \\\"The event title\\\", \\\"string\\\") }}\",\"description\":\"={{ $fromAI(\\\"event_description\\\", \\\"The event description\\\", \\\"string\\\") }}\"}},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"imp2lyvMg9IpuCwC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"b9c6d019-cf0a-4192-b063-e94322f12dae\",\"name\":\"DeleteEvent\",\"type\":\"n8n-nodes-base.googleCalendarTool\",\"position\":[1540,200],\"parameters\":{\"eventId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\"options\":{},\"calendar\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gmsalomao2@gmail.com\",\"cachedResultName\":\"gmsalomao2@gmail.com\"},\"operation\":\"delete\"},\"credentials\":{\"googleCalendarOAuth2Api\":{\"id\":\"imp2lyvMg9IpuCwC\",\"name\":\"Google Calendar account\"}},\"typeVersion\":1.3},{\"id\":\"48e028c3-392f-429c-9e71-a3cbdb342a99\",\"name\":\"Google Calendar MCP\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[1180,0],\"webhookId\":\"f9d9d5ea-6f83-42c8-ae50-ee6c71789bca\",\"parameters\":{\"path\":\"my-calendar\"},\"typeVersion\":1},{\"id\":\"fede10f5-e75b-4851-834f-f248f07a5559\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[560,900],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"function_name\"},{\"name\":\"payload\",\"type\":\"object\"}]}},\"typeVersion\":1.1},{\"id\":\"bc77345e-e6e0-4529-97f0-872eb96d1631\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[780,880],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"UPPERCASE\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ab18304c-4f73-430f-b9fa-2ce4d098e1fa\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.function_name }}\",\"rightValue\":\"uppercase\"}]},\"renameOutput\":true},{\"outputKey\":\"LOWERCASE\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"606bda79-f401-4de2-be9d-51368c794479\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.function_name }}\",\"rightValue\":\"lowercase\"}]},\"renameOutput\":true},{\"outputKey\":\"RANDOM DATA\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"4b22e689-e652-47d2-b737-7be00da9f185\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.function_name }}\",\"rightValue\":\"random_user_data\"}]},\"renameOutput\":true},{\"outputKey\":\"JOKE\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"27a75a2c-8058-4a7c-85c1-898cabeac4a1\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $json.function_name }}\",\"rightValue\":\"joke\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"abc580fa-3293-443d-a3a3-5d12c0655be2\",\"name\":\"Convert Text to Upper Case\",\"type\":\"n8n-nodes-base.set\",\"position\":[1120,540],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"42333f26-8e14-438a-9965-eec31bf4b6a3\",\"name\":\"converted_text\",\"type\":\"string\",\"value\":\"={{ $json.payload.text.toUpperCase() }}\"}]}},\"typeVersion\":3.4},{\"id\":\"37d2337c-3ccf-4c34-8284-5acc6cbb89fe\",\"name\":\"Convert Text to Lower Case\",\"type\":\"n8n-nodes-base.set\",\"position\":[1120,740],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"42333f26-8e14-438a-9965-eec31bf4b6a3\",\"name\":\"converted_text\",\"type\":\"string\",\"value\":\"={{ $json.payload.text.toLowerCase() }}\"}]}},\"typeVersion\":3.4},{\"id\":\"138d2f10-deca-41c7-bec0-8a7727993d44\",\"name\":\"Convert Text\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[560,200],\"parameters\":{\"name\":\"convert_text_case\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Call this tool to convert text to lower case or upper case.\",\"workflowInputs\":{\"value\":{\"payload\":\"={\\n  \\\"text\\\": \\\"{{ $fromAI(\\\"text_to_convert\\\", \\\"The text to convert\\\", \\\"string\\\") }}\\\"\\n}\\n\",\"function_name\":\"={{ $fromAI(\\\"function_name\\\", \\\"Either lowercase or uppercase\\\", \\\"string\\\") }}\"},\"schema\":[{\"id\":\"function_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"function_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"payload\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"payload\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"bf198087-b571-4de3-a174-c53b769c1326\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[-640,-160],\"webhookId\":\"7b02318f-1c6b-4f2a-9a4f-b17fa69ea680\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"df4435ad-0512-4a50-9eaf-2aef566c5fdb\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[-340,60],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"60745d31-1892-45c1-82b2-bb67386f4384\",\"name\":\"Calendar MCP\",\"type\":\"@n8n/n8n-nodes-langchain.mcpClientTool\",\"position\":[200,80],\"parameters\":{\"sseEndpoint\":\"https://n8n.yourdomain/mcp/my-calendar/sse\"},\"typeVersion\":1},{\"id\":\"17bef416-fd54-47da-87c7-afd7e6fa5345\",\"name\":\"My Functions\",\"type\":\"@n8n/n8n-nodes-langchain.mcpClientTool\",\"position\":[40,80],\"parameters\":{\"sseEndpoint\":\"https://n8n.yourdomain/mcp/my-functions/sse\"},\"typeVersion\":1},{\"id\":\"d883db20-c3d9-47bf-b19b-85098067054a\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[440,-160],\"parameters\":{\"color\":3,\"width\":620,\"height\":520,\"content\":\"## Activate the workflow to make the MCP Trigger work\\nIn order to make the MCP server available, you need to activate the workflow.\\n\\nThen copy the Production URL of the MCP Trigger and paste it in the corresponding MCP Client tool.\"},\"typeVersion\":1},{\"id\":\"83b21003-eced-444c-ae5c-2fe77ed31fa9\",\"name\":\"My Functions Server\",\"type\":\"@n8n/n8n-nodes-langchain.mcpTrigger\",\"position\":[560,0],\"webhookId\":\"83f72547-18b7-4f02-846b-27bf39d1efff\",\"parameters\":{\"path\":\"my-functions\"},\"typeVersion\":1},{\"id\":\"4bc297bc-8ded-4e6e-aa2d-de2f41659864\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,-160],\"parameters\":{\"color\":7,\"width\":440,\"height\":520,\"content\":\"## MCP Clients\\nFor every tool here you need to obtain he corresponding Production URL from the MCP Triggers on the right 👉\"},\"typeVersion\":1},{\"id\":\"2ad20ab6-b8a6-4427-af03-fbc512f0aa3c\",\"name\":\"Random user data\",\"type\":\"n8n-nodes-base.debugHelper\",\"position\":[1120,1040],\"parameters\":{\"category\":\"randomData\",\"randomDataCount\":\"={{ $json.payload.number }}\"},\"typeVersion\":1},{\"id\":\"84435164-94c8-4093-8578-81d5a870bef5\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1360,-160],\"parameters\":{\"color\":7,\"width\":620,\"height\":640,\"content\":\"# Try these example requests with the AI Agent\\n\\n### My Functions MCP\\n1. Use your tools to convert this text to lower case: `EXAMPLE TeXt`\\n\\n2. Use your tools to convert this text to upper case: `example TeXt`\\n\\n3. Generate 5 random user data, please.\\n\\n4. Please obtain 3 jokes.\\n\\n\\n\\n\\n### Calendar MCP\\n5. What is my schedule for next week?\\n\\n6. I have a meeting with John tomorrow at 2pm. Please add it to my Calendar.\\n\\n7. Adjust the time of my meeting with John tomorrow from 2pm to 4pm, please.\\n\\n8. Cancel my meeting with John, tomorrow.\"},\"typeVersion\":1},{\"id\":\"d678dc07-1c44-4bdb-9707-dc544cd813b2\",\"name\":\"Generate random user data\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[720,200],\"parameters\":{\"name\":\"random_user_data\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Generate random user data\",\"workflowInputs\":{\"value\":{\"payload\":\"={\\n  \\\"number\\\": {{ $fromAI(\\\"amount\\\", \\\"The amount of user data to generate in integer format\\\", \\\"number\\\") }}\\n}\",\"function_name\":\"random_user_data\"},\"schema\":[{\"id\":\"function_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"function_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"payload\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"payload\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"38f22f69-c6e0-49d8-837c-64e72743ffbf\",\"name\":\"Return only some fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[1340,1040],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"b4548cbe-f3fc-4911-901a-d73182d710a9\",\"name\":\"First name\",\"type\":\"string\",\"value\":\"={{ $json.firstname }}\"},{\"id\":\"6e573a27-ef03-4254-8f9b-2c471e1540c2\",\"name\":\"Last name\",\"type\":\"string\",\"value\":\"={{ $json.lastname }}\"},{\"id\":\"ac5b5806-bf8e-4e1a-a47d-e7180d31e98a\",\"name\":\"Email\",\"type\":\"string\",\"value\":\"={{ $json.email }}\"}]}},\"typeVersion\":3.4},{\"id\":\"a66e8f27-ebf5-460b-898f-b91017d37883\",\"name\":\"Joke Request\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1120,1240],\"parameters\":{\"url\":\"=https://official-joke-api.appspot.com/jokes/random/{{ $json.payload.number }}\",\"options\":{}},\"typeVersion\":4.2},{\"id\":\"98205665-4b35-4850-9f37-df1688edde85\",\"name\":\"Random Jokes\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[880,200],\"parameters\":{\"name\":\"obtain_jokes\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Call this tool to obtain random jokes\",\"workflowInputs\":{\"value\":{\"payload\":\"={\\n  \\\"number\\\": {{ $fromAI(\\\"amount\\\", \\\"The amount of jokes to request\\\", \\\"number\\\") }}\\n}\",\"function_name\":\"joke\"},\"schema\":[{\"id\":\"function_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"function_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"payload\",\"type\":\"object\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"payload\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"643221de-4ec5-45c2-818d-e754e2b76377\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[440,380],\"parameters\":{\"color\":7,\"width\":1260,\"height\":1060,\"content\":\"## The My Functions MCP calls this sub-workflow every time.\\nA subworkflow is a separate workflow that can be called by other workflows and is able to receive parameters.\\nLearn more about sub-workflows **[here](https://docs.n8n.io/flow-logic/subworkflows/)**\"},\"typeVersion\":1},{\"id\":\"ff5dafdc-02f2-4a40-a803-044e18f6d680\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1080,-160],\"parameters\":{\"color\":5,\"width\":620,\"height\":520,\"content\":\"## Google Calendar tools require credentials\\nIf you don't have your Google Credentials set up in n8n yet, watch [this](https://www.youtube.com/watch?v=3Ai1EPznlAc) video to learn how to do it.\\n\\nIf you are using n8n Cloud plans, it's very intuitive to setup and you may not even need the tutorial.\"},\"typeVersion\":1},{\"id\":\"cb113628-48c3-4be7-8306-c60e92bbd295\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1360,500],\"parameters\":{\"color\":7,\"width\":620,\"height\":580,\"content\":\"# Author\\n![Solomon](https://gravatar.com/avatar/79aa147f090807fe0f618fb47a1de932669e385bb0c84bf3a7f891ae7d174256?r=pg&d=retro&size=200)\\n### Solomon\\nFreelance consultant from Brazil, specializing in automations and data analysis. I work with select clients, addressing their toughest projects.\\n\\nCurrently running the [Scrapes community](https://www.skool.com/scrapes/about?ref=21f10ad99f4d46ba9b8aaea8c9f58c34) with Simon 💪\\n\\nFor business inquiries, email me at automations.solomon@gmail.com\\nOr message me on [Telegram](https://t.me/salomaoguilherme) for a faster response.\\n\\n## Check out my other templates\\n### 👉 https://n8n.io/creators/solomon/\\n\"},\"typeVersion\":1},{\"id\":\"83f39d92-73a8-480f-bf66-0996a54c39b9\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1360,1100],\"parameters\":{\"width\":620,\"height\":180,\"content\":\"# Need help?\\nFor getting help with this workflow, please create a topic on the community forums here:\\nhttps://community.n8n.io/c/questions/\"},\"typeVersion\":1},{\"id\":\"d6dfab2b-3c55-40b1-ac84-2a30650089f2\",\"name\":\"OpenAI 4o\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-480,60],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o\",\"cachedResultName\":\"gpt-4o\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"1OcDEFHmAarBeW0G\",\"name\":\"n8n-testing2\"}},\"typeVersion\":1.2},{\"id\":\"7452095e-d893-40c0-a099-302572dcc513\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-640,180],\"parameters\":{\"color\":7,\"height\":240,\"content\":\"## Why model 4o? 👆\\nAfter testing 4o-mini it had some difficulties handling the calendar requests, while the 4o model handled it with ease.\\n\\nDepending on your prompt and tools, 4o-mini might be able to work well too, but it requires further testing.\"},\"typeVersion\":1},{\"id\":\"33687586-79d7-4a59-bec0-09fd09bc0a7d\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1360,-320],\"parameters\":{\"color\":4,\"width\":3060,\"height\":140,\"content\":\"\"},\"typeVersion\":1},{\"id\":\"02d2a399-36ca-4580-8442-59a7752e3808\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-240,-280],\"parameters\":{\"color\":4,\"width\":800,\"height\":80,\"content\":\"# Learn How to Build an MCP Server and Client\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{\"When Executed by Another Workflow\":[{\"json\":{\"payload\":{\"number\":5},\"function_name\":\"joke\"}}]},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"1da3b8d6-0a3e-472d-84f3-06771229901f\",\"connections\":{\"Switch\":{\"main\":[[{\"node\":\"Convert Text to Upper Case\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Convert Text to Lower Case\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Random user data\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Joke Request\",\"type\":\"main\",\"index\":0}]]},\"OpenAI 4o\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"CreateEvent\":{\"ai_tool\":[[{\"node\":\"Google Calendar MCP\",\"type\":\"ai_tool\",\"index\":0}]]},\"DeleteEvent\":{\"ai_tool\":[[{\"node\":\"Google Calendar MCP\",\"type\":\"ai_tool\",\"index\":0}]]},\"SearchEvent\":{\"ai_tool\":[[{\"node\":\"Google Calendar MCP\",\"type\":\"ai_tool\",\"index\":0}]]},\"UpdateEvent\":{\"ai_tool\":[[{\"node\":\"Google Calendar MCP\",\"type\":\"ai_tool\",\"index\":0}]]},\"Calendar MCP\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Convert Text\":{\"ai_tool\":[[{\"node\":\"My Functions Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"My Functions\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Random Jokes\":{\"ai_tool\":[[{\"node\":\"My Functions Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Random user data\":{\"main\":[[{\"node\":\"Return only some fields\",\"type\":\"main\",\"index\":0}]]},\"Generate random user data\":{\"ai_tool\":[[{\"node\":\"My Functions Server\",\"type\":\"ai_tool\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Learn how to build an MCP Server and Client in n8n with official nodes.\n\n> ⚠ Requires n8n version 1.88.0 or higher.\n\nIn this example, we use Google Calendar and custom functions as two separate MCP Servers, demonstrating how to integrate both native and custom tools.\n\n### How it works\n\nThe AI Agent connects to two MCP Servers. Each MCP Trigger (Server) generates a URL exposing its tools. This URL is used by an MCP Client linked to the AI Agent.\n\nWhenever you make changes to the tools, there’s no need to modify the MCP Client. It automatically keeps the AI Agent informed on how to use each tool, even if you change them over time.\n\nThat’s the power of MCP 🙌\n\n### Who is this template for\n\nAnyone looking to use MCP with their AI Agents.\n\n### How to set up\n\nInstructions are included within the workflow itself.\n\n### Check out my other templates\n\n👉 [**https://n8n.io/creators/solomon/**](https://n8n.io/creators/solomon/)\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>Learn how to build an MCP Server and Client in n8n with official nodes.</p>\n<blockquote>\n<p>⚠ Requires n8n version 1.88.0 or higher.</p>\n</blockquote>\n<p>In this example, we use Google Calendar and custom functions as two separate MCP Servers, demonstrating how to integrate both native and custom tools.</p>\n<h3>How it works</h3>\n<p>The AI Agent connects to two MCP Servers. Each MCP Trigger (Server) generates a URL exposing its tools. This URL is used by an MCP Client linked to the AI Agent.</p>\n<p>Whenever you make changes to the tools, there’s no need to modify the MCP Client. It automatically keeps the AI Agent informed on how to use each tool, even if you change them over time.</p>\n<p>That’s the power of MCP 🙌</p>\n<h3>Who is this template for</h3>\n<p>Anyone looking to use MCP with their AI Agents.</p>\n<h3>How to set up</h3>\n<p>Instructions are included within the workflow itself.</p>\n<h3>Check out my other templates</h3>\n<p>👉 <a href=\"https://n8n.io/creators/solomon/\" rel=\"ugc nofollow\" target=\"_blank\"><strong>https://n8n.io/creators/solomon/</strong></a></p>\n</div><!--]-->",
  "readme_zh": "学习如何利用官方节点在n8n中构建MCP服务器与客户端\n\n> ⚠ 需n8n 1.88.0或更高版本\n\n本示例使用Google日历和自定义函数作为两个独立的MCP服务器，演示如何同时集成原生工具与自定义工具。\n\n### 运作原理\nAI智能体连接至两个MCP服务器。每个MCP触发器（服务器）会生成一个暴露其工具的URL，该URL由关联AI智能体的MCP客户端调用。\n\n当工具发生变更时，您无需修改MCP客户端。它能自动保持AI智能体对各工具使用方式的实时同步——即便工具后续被修改也依然有效。\n\n这就是MCP的强大之处 🙌\n\n### 适用人群\n所有需要在AI智能体中使用MCP的开发者\n\n### 配置方法\n工作流内部已包含详细指引\n\n### 探索更多模板\n👉 [**https://n8n.io/creators/solomon/**](https://n8n.io/creators/solomon/)",
  "title_zh": "使用Google日历和自定义功能构建MCP服务器",
  "publish_date_absolute": "2025-04-20",
  "publish_date_zh": "上次更新于16天前",
  "workflow_json_zh": "{\n  \"id\": \"8n0VYmvJgISwezyz\",\n  \"meta\": {\n    \"instanceId\": \"cf0c5836fa3beacaef0de12624775e6f153c527586d6a910f5e2be3bb2e519a3\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Build your first AI MCP Server\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"f734e72b-1954-44e8-8633-47b6fa69bfc7\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        -440,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"systemMessage\": \"=You are a helpful assistant.\\nCurrent datetime is {{ $now.toString() }}\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"02c66e36-63e6-48f5-a26a-2c7b1eaf2400\",\n      \"name\": \"SearchEvent\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        1180,\n        200\n      ],\n      \"parameters\": {\n        \"limit\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Limit', ``, 'number') }}\",\n        \"options\": {},\n        \"timeMax\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}\",\n        \"timeMin\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gmsalomao2@gmail.com\",\n          \"cachedResultName\": \"gmsalomao2@gmail.com\"\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"imp2lyvMg9IpuCwC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"5956abba-4458-480c-997f-416126dc8c10\",\n      \"name\": \"CreateEvent\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        1300,\n        200\n      ],\n      \"parameters\": {\n        \"end\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}\",\n        \"start\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gmsalomao2@gmail.com\",\n          \"cachedResultName\": \"gmsalomao2@gmail.com\"\n        },\n        \"additionalFields\": {\n          \"summary\": \"={{ $fromAI(\\\"event_title\\\", \\\"The event title\\\", \\\"string\\\") }}\",\n          \"description\": \"={{ $fromAI(\\\"event_description\\\", \\\"The event description\\\", \\\"string\\\") }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"imp2lyvMg9IpuCwC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"f12fd8d6-1600-4516-bbb0-a0a893e2ff25\",\n      \"name\": \"UpdateEvent\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        1420,\n        200\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gmsalomao2@gmail.com\",\n          \"cachedResultName\": \"gmsalomao2@gmail.com\"\n        },\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"end\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}\",\n          \"start\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}\",\n          \"summary\": \"={{ $fromAI(\\\"event_title\\\", \\\"The event title\\\", \\\"string\\\") }}\",\n          \"description\": \"={{ $fromAI(\\\"event_description\\\", \\\"The event description\\\", \\\"string\\\") }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"imp2lyvMg9IpuCwC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"b9c6d019-cf0a-4192-b063-e94322f12dae\",\n      \"name\": \"DeleteEvent\",\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"position\": [\n        1540,\n        200\n      ],\n      \"parameters\": {\n        \"eventId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}\",\n        \"options\": {},\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gmsalomao2@gmail.com\",\n          \"cachedResultName\": \"gmsalomao2@gmail.com\"\n        },\n        \"operation\": \"delete\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"imp2lyvMg9IpuCwC\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"48e028c3-392f-429c-9e71-a3cbdb342a99\",\n      \"name\": \"Google Calendar MCP\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpTrigger\",\n      \"position\": [\n        1180,\n        0\n      ],\n      \"webhookId\": \"f9d9d5ea-6f83-42c8-ae50-ee6c71789bca\",\n      \"parameters\": {\n        \"path\": \"my-calendar\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fede10f5-e75b-4851-834f-f248f07a5559\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        560,\n        900\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"function_name\"\n            },\n            {\n              \"name\": \"payload\",\n              \"type\": \"object\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"bc77345e-e6e0-4529-97f0-872eb96d1631\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        780,\n        880\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"UPPERCASE\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"ab18304c-4f73-430f-b9fa-2ce4d098e1fa\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.function_name }}\",\n                    \"rightValue\": \"uppercase\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"LOWERCASE\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"606bda79-f401-4de2-be9d-51368c794479\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.function_name }}\",\n                    \"rightValue\": \"lowercase\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"RANDOM DATA\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"4b22e689-e652-47d2-b737-7be00da9f185\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.function_name }}\",\n                    \"rightValue\": \"random_user_data\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"JOKE\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"27a75a2c-8058-4a7c-85c1-898cabeac4a1\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.function_name }}\",\n                    \"rightValue\": \"joke\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"abc580fa-3293-443d-a3a3-5d12c0655be2\",\n      \"name\": \"Convert Text to Upper Case\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1120,\n        540\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"42333f26-8e14-438a-9965-eec31bf4b6a3\",\n              \"name\": \"converted_text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.payload.text.toUpperCase() }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"37d2337c-3ccf-4c34-8284-5acc6cbb89fe\",\n      \"name\": \"Convert Text to Lower Case\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1120,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"42333f26-8e14-438a-9965-eec31bf4b6a3\",\n              \"name\": \"converted_text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.payload.text.toLowerCase() }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"138d2f10-deca-41c7-bec0-8a7727993d44\",\n      \"name\": \"Convert Text\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        560,\n        200\n      ],\n      \"parameters\": {\n        \"name\": \"convert_text_case\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Call this tool to convert text to lower case or upper case.\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"payload\": \"={\\n  \\\"text\\\": \\\"{{ $fromAI(\\\"text_to_convert\\\", \\\"The text to convert\\\", \\\"string\\\") }}\\\"\\n}\\n\",\n            \"function_name\": \"={{ $fromAI(\\\"function_name\\\", \\\"Either lowercase or uppercase\\\", \\\"string\\\") }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"function_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"function_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"payload\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"payload\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"bf198087-b571-4de3-a174-c53b769c1326\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        -640,\n        -160\n      ],\n      \"webhookId\": \"7b02318f-1c6b-4f2a-9a4f-b17fa69ea680\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"df4435ad-0512-4a50-9eaf-2aef566c5fdb\",\n      \"name\": \"Simple Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        -340,\n        60\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"60745d31-1892-45c1-82b2-bb67386f4384\",\n      \"name\": \"Calendar MCP\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpClientTool\",\n      \"position\": [\n        200,\n        80\n      ],\n      \"parameters\": {\n        \"sseEndpoint\": \"https://n8n.yourdomain/mcp/my-calendar/sse\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17bef416-fd54-47da-87c7-afd7e6fa5345\",\n      \"name\": \"My Functions\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpClientTool\",\n      \"position\": [\n        40,\n        80\n      ],\n      \"parameters\": {\n        \"sseEndpoint\": \"https://n8n.yourdomain/mcp/my-functions/sse\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d883db20-c3d9-47bf-b19b-85098067054a\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 620,\n        \"height\": 520,\n        \"content\": \"## 激活工作流以使MCP触发器生效\\n为使MCP服务器可用，您需要激活工作流。\\n\\n然后复制MCP触发器的生产URL，并将其粘贴到相应的MCP客户端工具中。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"83b21003-eced-444c-ae5c-2fe77ed31fa9\",\n      \"name\": \"My Functions Server\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpTrigger\",\n      \"position\": [\n        560,\n        0\n      ],\n      \"webhookId\": \"83f72547-18b7-4f02-846b-27bf39d1efff\",\n      \"parameters\": {\n        \"path\": \"my-functions\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4bc297bc-8ded-4e6e-aa2d-de2f41659864\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 440,\n        \"height\": 520,\n        \"content\": \"## MCP客户端\\n此处每个工具都需要从右侧👉的MCP触发器获取对应的生产环境URL\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2ad20ab6-b8a6-4427-af03-fbc512f0aa3c\",\n      \"name\": \"Random user data\",\n      \"type\": \"n8n-nodes-base.debugHelper\",\n      \"position\": [\n        1120,\n        1040\n      ],\n      \"parameters\": {\n        \"category\": \"randomData\",\n        \"randomDataCount\": \"={{ $json.payload.number }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"84435164-94c8-4093-8578-81d5a870bef5\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1360,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 620,\n        \"height\": 640,\n        \"content\": \"# 尝试用AI助手处理这些示例请求\\n\\n### 我的功能控制面板\\n1. 使用工具将以下文本转为小写：`EXAMPLE TeXt`\\n\\n2. 使用工具将以下文本转为大写：`example TeXt`\\n\\n3. 请生成5组随机用户数据\\n\\n4. 请获取3个笑话\\n\\n### 日历控制面板\\n5. 我下周的日程安排是什么？\\n\\n6. 明天下午2点我和约翰有个会议，请添加到我的日历\\n\\n7. 请将明天与约翰的会议时间从下午2点调整到4点\\n\\n8. 取消我明天与约翰的会议\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d678dc07-1c44-4bdb-9707-dc544cd813b2\",\n      \"name\": \"Generate random user data\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        720,\n        200\n      ],\n      \"parameters\": {\n        \"name\": \"random_user_data\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Generate random user data\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"payload\": \"={\\n  \\\"number\\\": {{ $fromAI(\\\"amount\\\", \\\"The amount of user data to generate in integer format\\\", \\\"number\\\") }}\\n}\",\n            \"function_name\": \"random_user_data\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"function_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"function_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"payload\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"payload\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"38f22f69-c6e0-49d8-837c-64e72743ffbf\",\n      \"name\": \"Return only some fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1340,\n        1040\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"b4548cbe-f3fc-4911-901a-d73182d710a9\",\n              \"name\": \"First name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.firstname }}\"\n            },\n            {\n              \"id\": \"6e573a27-ef03-4254-8f9b-2c471e1540c2\",\n              \"name\": \"Last name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.lastname }}\"\n            },\n            {\n              \"id\": \"ac5b5806-bf8e-4e1a-a47d-e7180d31e98a\",\n              \"name\": \"Email\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.email }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a66e8f27-ebf5-460b-898f-b91017d37883\",\n      \"name\": \"Joke Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1120,\n        1240\n      ],\n      \"parameters\": {\n        \"url\": \"=https://official-joke-api.appspot.com/jokes/random/{{ $json.payload.number }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"98205665-4b35-4850-9f37-df1688edde85\",\n      \"name\": \"Random Jokes\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        880,\n        200\n      ],\n      \"parameters\": {\n        \"name\": \"obtain_jokes\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Call this tool to obtain random jokes\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"payload\": \"={\\n  \\\"number\\\": {{ $fromAI(\\\"amount\\\", \\\"The amount of jokes to request\\\", \\\"number\\\") }}\\n}\",\n            \"function_name\": \"joke\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"function_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"function_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"payload\",\n              \"type\": \"object\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"payload\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"643221de-4ec5-45c2-818d-e754e2b76377\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        380\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1260,\n        \"height\": 1060,\n        \"content\": \"## My Functions MCP 每次都会调用此子工作流\\n子工作流是一个独立的工作流程，可被其他工作流调用，并能够接收参数。\\n了解更多关于子工作流的信息，请访问**[此处](https://docs.n8n.io/flow-logic/subworkflows/)**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ff5dafdc-02f2-4a40-a803-044e18f6d680\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 620,\n        \"height\": 520,\n        \"content\": \"## Google Calendar 工具需要凭据\\n若您尚未在n8n中设置Google凭据，请观看[此视频](https://www.youtube.com/watch?v=3Ai1EPznlAc)了解配置方法。\\n\\n若您使用n8n云服务套餐，设置过程将极为直观，甚至无需观看教程。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cb113628-48c3-4be7-8306-c60e92bbd295\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1360,\n        500\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 620,\n        \"height\": 580,\n        \"content\": \"# 作者\\n![所罗门](https://gravatar.com/avatar/79aa147f090807fe0f618fb47a1de932669e385bb0c84bf3a7f891ae7d174256?r=pg&d=retro&size=200)\\n### 所罗门\\n来自巴西的自由顾问，专精自动化与数据分析。我为精选客户服务，解决他们最具挑战性的项目。\\n\\n目前与西蒙共同运营[Scrapes社区](https://www.skool.com/scrapes/about?ref=21f10ad99f4d46ba9b8aaea8c9f58c34) 💪\\n\\n商务合作请发送邮件至 automations.solomon@gmail.com  \\n或通过[Telegram](https://t.me/salomaoguilherme)联系获取更快速响应。\\n\\n## 查看我的其他模板\\n### 👉 https://n8n.io/creators/solomon/\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"83f39d92-73a8-480f-bf66-0996a54c39b9\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1360,\n        1100\n      ],\n      \"parameters\": {\n        \"width\": 620,\n        \"height\": 180,\n        \"content\": \"# 需要帮助？\\n如需获取此工作流程的帮助，请在社区论坛上创建主题：\\nhttps://community.n8n.io/c/questions/\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d6dfab2b-3c55-40b1-ac84-2a30650089f2\",\n      \"name\": \"OpenAI 4o\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -480,\n        60\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"gpt-4o\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"1OcDEFHmAarBeW0G\",\n          \"name\": \"n8n-testing2\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"7452095e-d893-40c0-a099-302572dcc513\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -640,\n        180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"height\": 240,\n        \"content\": \"## 为何选择4o模型？👆  \\n测试4o-mini后发现，它在处理日历请求时有些吃力，而4o模型则能轻松应对。  \\n\\n根据你的提示词和工具配置，4o-mini或许也能胜任，但这需要进一步测试验证。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"33687586-79d7-4a59-bec0-09fd09bc0a7d\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1360,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 3060,\n        \"height\": 140,\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"02d2a399-36ca-4580-8442-59a7752e3808\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -240,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 800,\n        \"height\": 80,\n        \"content\": \"# 学习如何构建MCP服务器与客户端\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {\n    \"When Executed by Another Workflow\": [\n      {\n        \"json\": {\n          \"payload\": {\n            \"number\": 5\n          },\n          \"function_name\": \"joke\"\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1da3b8d6-0a3e-472d-84f3-06771229901f\",\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert Text to Upper Case\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Convert Text to Lower Case\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Random user data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Joke Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI 4o\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CreateEvent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Google Calendar MCP\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"DeleteEvent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Google Calendar MCP\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SearchEvent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Google Calendar MCP\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"UpdateEvent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Google Calendar MCP\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Calendar MCP\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert Text\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"My Functions Server\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"My Functions\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Random Jokes\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"My Functions Server\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simple Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Random user data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return only some fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate random user data\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"My Functions Server\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}