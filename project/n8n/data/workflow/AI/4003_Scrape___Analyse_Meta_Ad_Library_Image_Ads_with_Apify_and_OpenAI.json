{
  "title": "Scrape & Analyse Meta Ad Library Image Ads with Apify and OpenAI",
  "url": "https://n8n.io/workflows/4003-scrape-and-analyse-meta-ad-library-image-ads-with-apify-and-openai/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?sort=createdAt:desc",
  "author": "Daniel Setzermann",
  "publish_date": "Last update 5 days ago",
  "publish_date_absolute": "2025-05-17",
  "content": "",
  "workflow_json": "{\"id\":\"ERIlxRN2QNARj3RZ\",\"meta\":{\"instanceId\":\"0aee4372a556f3e4774323f4ed89755880cea473443f0948966509bbf55dec04\",\"templateCredsSetupCompleted\":true},\"name\":\"Scrape & Analyze Meta Ad Library Image Ads with OpenAI and store results in Google Sheets\",\"tags\":[],\"nodes\":[{\"id\":\"0d98546f-9c0b-475d-81d3-d63c5dd18bc4\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-120,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"54f05394-221a-4e50-b4f5-50e4b7b4cc8a\",\"name\":\"Settings\",\"type\":\"n8n-nodes-base.set\",\"position\":[80,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"3cac5c6a-bd72-4c39-9232-5926e4ef1cd0\",\"name\":\"Clean Prompt\",\"type\":\"n8n-nodes-base.code\",\"position\":[280,380],\"parameters\":{},\"typeVersion\":2},{\"id\":\"a6418f56-233c-410e-8186-ff40a993c980\",\"name\":\"Scrape Meta Ad Library with Apify\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[480,380],\"parameters\":{},\"typeVersion\":4.2},{\"id\":\"a5502f95-ecc4-47d9-a6ef-0d17257f8255\",\"name\":\"Pass relevant Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[1700,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"32a72f8f-ae54-4c3c-8d1a-5859a5360275\",\"name\":\"Calculate Runtime in Days\",\"type\":\"n8n-nodes-base.set\",\"position\":[720,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"4e8f97f3-b65b-4bf3-ab30-8572af490dda\",\"name\":\"Sort by Reach or Days Running\",\"type\":\"n8n-nodes-base.sort\",\"position\":[940,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"b709b632-647c-4ff8-8f0a-f1f7163841ef\",\"name\":\"Filter only Image Ads\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1180,380],\"parameters\":{},\"typeVersion\":2.2},{\"id\":\"20255e0f-f34c-4499-b2e4-c19330047998\",\"name\":\"Limit Images to Analyze\",\"type\":\"n8n-nodes-base.limit\",\"position\":[1440,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"4ccd7e75-f124-481f-be20-2d2dd7b811f9\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[2380,320],\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"66e268d4-5db5-485d-ba63-f48af4557429\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[2560,320],\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"8edfd824-8571-4cc7-b1f4-2172e3d0ad47\",\"name\":\"Download Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1960,380],\"parameters\":{},\"typeVersion\":4.2},{\"id\":\"dcc7f234-14f8-4e71-8c2f-2f6611b1126d\",\"name\":\"Analyze Image Contents\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"maxTries\":2,\"position\":[2380,80],\"parameters\":{},\"retryOnFail\":true,\"typeVersion\":1.8},{\"id\":\"2b3dbff9-da61-4f94-a77a-0728456e5c4e\",\"name\":\"Save Image to Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2440,580],\"parameters\":{},\"typeVersion\":3},{\"id\":\"34c28c32-a4d2-49da-a2e9-f97bbb131031\",\"name\":\"Merge Data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2820,360],\"parameters\":{},\"typeVersion\":3.1},{\"id\":\"7e2af3a6-2129-4dc0-a88a-92672191b66b\",\"name\":\"Store Data in Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[3120,360],\"parameters\":{},\"typeVersion\":4.5},{\"id\":\"0ba0d9b7-2b83-4131-87d1-66c68c8c776b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,260],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"69c089a0-df87-4723-8362-fb8c198fc130\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2360,780],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"30c23991-ebad-444e-a9da-7fc782c99739\",\"connections\":{\"Settings\":{\"main\":[[{\"node\":\"Clean Prompt\",\"type\":\"main\",\"index\":0}]]},\"Merge Data\":{\"main\":[[{\"node\":\"Store Data in Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Clean Prompt\":{\"main\":[[{\"node\":\"Scrape Meta Ad Library with Apify\",\"type\":\"main\",\"index\":0}]]},\"Download Image\":{\"main\":[[{\"node\":\"Save Image to Google Drive\",\"type\":\"main\",\"index\":0},{\"node\":\"Analyze Image Contents\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Analyze Image Contents\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Pass relevant Fields\":{\"main\":[[{\"node\":\"Download Image\",\"type\":\"main\",\"index\":0}]]},\"Filter only Image Ads\":{\"main\":[[{\"node\":\"Limit Images to Analyze\",\"type\":\"main\",\"index\":0}]]},\"Analyze Image Contents\":{\"main\":[[{\"node\":\"Merge Data\",\"type\":\"main\",\"index\":0}]]},\"Limit Images to Analyze\":{\"main\":[[{\"node\":\"Pass relevant Fields\",\"type\":\"main\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Analyze Image Contents\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Calculate Runtime in Days\":{\"main\":[[{\"node\":\"Sort by Reach or Days Running\",\"type\":\"main\",\"index\":0}]]},\"Save Image to Google Drive\":{\"main\":[[{\"node\":\"Merge Data\",\"type\":\"main\",\"index\":1}]]},\"Store Data in Google Sheets\":{\"main\":[[]]},\"Sort by Reach or Days Running\":{\"main\":[[{\"node\":\"Filter only Image Ads\",\"type\":\"main\",\"index\":0}]]},\"Scrape Meta Ad Library with Apify\":{\"main\":[[{\"node\":\"Calculate Runtime in Days\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "**Meta Image Ads Analyzer**  \nThis n8n template builds an automated system to scrape, analyze, and extract insights from Meta advertising content. The workflow uses AI to perform deep analysis of image ads and organize the results in a structured format.\n\n**How it works**\n\n  * The workflow connects to Facebook's Ad Library to scrape image ads based on a specified page ID.\n  * Images are filtered by reach and days running, then processed through OpenAI's GPT-4o to analyze their content.\n  * Each image ad is systematically analyzed to extract key components: visual description, hook elements, main offer, call-to-action, and psychological triggers.\n  * Results are processed through an AI agent that structures the data into standardized fields.\n  * Original images are saved to Google Drive for reference.\n  * All analysis and metadata are saved to a Google Sheet for easy access and further processing.\n\n\n\n**How to use**  \nOnce you've set up your credentials and configured the output:\n\n  * Enter the Meta Ad Library URL you want to analyze in the Settings node.\n  * Adjust the maximum number of ads to scrape and analyze based on your needs (defaults: 300 to scrape, 10 to analyze).\n  * Configure the Google Drive folder to save the original ad images.\n  * Ensure your Google Sheets connection is set up to receive the structured analysis.\n  * Click \"Test Workflow\" to start the analysis process.\n\n\n\n**Requirements**\n\n  * Apify account (for Meta Ad Library scraping)\n  * OpenAI API key (for image analysis)\n  * Google Drive and Google Sheets access\n\n\n\n**Customizing this workflow**\n\n  * Modify the AI prompts in the \"Analyze Image Contents\" node to extract different information from the images.\n  * Adjust the output formats in the Structured Output Parser node.\n  * Change the Google Sheets mapping to match your desired output structure.\n  * Increase the number of ads analyzed for more comprehensive research.\n  * Filter ads based on different criteria by modifying the \"Filter only Image Ads\" node.\n\n\n",
  "readme_html": "<!--[--><div data-v-859c7806=\"\"><p><strong>Meta Image Ads Analyzer</strong><br>\nThis n8n template builds an automated system to scrape, analyze, and extract insights from Meta advertising content. The workflow uses AI to perform deep analysis of image ads and organize the results in a structured format.</p>\n<p><strong>How it works</strong></p>\n<ul>\n<li>The workflow connects to Facebook's Ad Library to scrape image ads based on a specified page ID.</li>\n<li>Images are filtered by reach and days running, then processed through OpenAI's GPT-4o to analyze their content.</li>\n<li>Each image ad is systematically analyzed to extract key components: visual description, hook elements, main offer, call-to-action, and psychological triggers.</li>\n<li>Results are processed through an AI agent that structures the data into standardized fields.</li>\n<li>Original images are saved to Google Drive for reference.</li>\n<li>All analysis and metadata are saved to a Google Sheet for easy access and further processing.</li>\n</ul>\n<p><strong>How to use</strong><br>\nOnce you've set up your credentials and configured the output:</p>\n<ul>\n<li>Enter the Meta Ad Library URL you want to analyze in the Settings node.</li>\n<li>Adjust the maximum number of ads to scrape and analyze based on your needs (defaults: 300 to scrape, 10 to analyze).</li>\n<li>Configure the Google Drive folder to save the original ad images.</li>\n<li>Ensure your Google Sheets connection is set up to receive the structured analysis.</li>\n<li>Click \"Test Workflow\" to start the analysis process.</li>\n</ul>\n<p><strong>Requirements</strong></p>\n<ul>\n<li>Apify account (for Meta Ad Library scraping)</li>\n<li>OpenAI API key (for image analysis)</li>\n<li>Google Drive and Google Sheets access</li>\n</ul>\n<p><strong>Customizing this workflow</strong></p>\n<ul>\n<li>Modify the AI prompts in the \"Analyze Image Contents\" node to extract different information from the images.</li>\n<li>Adjust the output formats in the Structured Output Parser node.</li>\n<li>Change the Google Sheets mapping to match your desired output structure.</li>\n<li>Increase the number of ads analyzed for more comprehensive research.</li>\n<li>Filter ads based on different criteria by modifying the \"Filter only Image Ads\" node.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "**Meta图片广告分析工具**  \n本n8n模板构建了一个自动化系统，用于抓取、分析Meta广告内容并提取关键信息。该工作流运用人工智能对图片广告进行深度解析，并将结果以结构化格式整理输出。\n\n**运作原理**\n\n  * 工作流连接Facebook广告资料库，根据指定页面ID抓取图片广告\n  * 按覆盖范围和投放天数筛选图片后，通过OpenAI的GPT-4o模型进行内容分析\n  * 系统化解析每张图片广告的核心要素：视觉描述、吸引点、核心卖点、行动号召及心理诱因\n  * AI代理对数据进行结构化处理，生成标准化字段\n  * 原始广告图片保存至Google Drive备查\n  * 所有分析结果与元数据存入Google表格，便于查阅与进一步处理\n\n**使用指南**  \n完成凭证设置与输出配置后：\n\n  * 在设置节点输入待分析的Meta广告库URL\n  * 根据需求调整抓取/分析的广告数量上限（默认值：抓取300条，分析10条）\n  * 配置Google Drive文件夹用于存储原始广告图片\n  * 确保Google Sheets连接正常以接收结构化分析结果\n  * 点击\"测试工作流\"启动分析流程\n\n**环境要求**\n\n  * Apify账号（用于Meta广告库抓取）\n  * OpenAI API密钥（用于图片分析）\n  * Google Drive及Google Sheets访问权限\n\n**自定义调整**\n\n  * 修改\"分析图片内容\"节点中的AI提示词以提取不同信息\n  * 调整结构化输出解析节点的输出格式\n  * 更改Google Sheets字段映射以匹配目标输出结构\n  * 增加分析广告数量可获得更全面的调研数据\n  * 通过修改\"仅筛选图片广告\"节点变更广告筛选条件",
  "title_zh": "使用Apify和OpenAI抓取与分析Meta广告库中的图片广告",
  "publish_date_zh": "上次更新于5天前",
  "workflow_json_zh": "{\"id\":\"ERIlxRN2QNARj3RZ\",\"meta\":{\"instanceId\":\"0aee4372a556f3e4774323f4ed89755880cea473443f0948966509bbf55dec04\",\"templateCredsSetupCompleted\":true},\"name\":\"Scrape & Analyze Meta Ad Library Image Ads with OpenAI and store results in Google Sheets\",\"tags\":[],\"nodes\":[{\"id\":\"0d98546f-9c0b-475d-81d3-d63c5dd18bc4\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-120,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"54f05394-221a-4e50-b4f5-50e4b7b4cc8a\",\"name\":\"Settings\",\"type\":\"n8n-nodes-base.set\",\"position\":[80,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"3cac5c6a-bd72-4c39-9232-5926e4ef1cd0\",\"name\":\"Clean Prompt\",\"type\":\"n8n-nodes-base.code\",\"position\":[280,380],\"parameters\":{},\"typeVersion\":2},{\"id\":\"a6418f56-233c-410e-8186-ff40a993c980\",\"name\":\"Scrape Meta Ad Library with Apify\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[480,380],\"parameters\":{},\"typeVersion\":4.2},{\"id\":\"a5502f95-ecc4-47d9-a6ef-0d17257f8255\",\"name\":\"Pass relevant Fields\",\"type\":\"n8n-nodes-base.set\",\"position\":[1700,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"32a72f8f-ae54-4c3c-8d1a-5859a5360275\",\"name\":\"Calculate Runtime in Days\",\"type\":\"n8n-nodes-base.set\",\"position\":[720,380],\"parameters\":{},\"typeVersion\":3.4},{\"id\":\"4e8f97f3-b65b-4bf3-ab30-8572af490dda\",\"name\":\"Sort by Reach or Days Running\",\"type\":\"n8n-nodes-base.sort\",\"position\":[940,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"b709b632-647c-4ff8-8f0a-f1f7163841ef\",\"name\":\"Filter only Image Ads\",\"type\":\"n8n-nodes-base.filter\",\"position\":[1180,380],\"parameters\":{},\"typeVersion\":2.2},{\"id\":\"20255e0f-f34c-4499-b2e4-c19330047998\",\"name\":\"Limit Images to Analyze\",\"type\":\"n8n-nodes-base.limit\",\"position\":[1440,380],\"parameters\":{},\"typeVersion\":1},{\"id\":\"4ccd7e75-f124-481f-be20-2d2dd7b811f9\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[2380,320],\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"66e268d4-5db5-485d-ba63-f48af4557429\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[2560,320],\"parameters\":{},\"typeVersion\":1.2},{\"id\":\"8edfd824-8571-4cc7-b1f4-2172e3d0ad47\",\"name\":\"Download Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1960,380],\"parameters\":{},\"typeVersion\":4.2},{\"id\":\"dcc7f234-14f8-4e71-8c2f-2f6611b1126d\",\"name\":\"Analyze Image Contents\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"maxTries\":2,\"position\":[2380,80],\"parameters\":{},\"retryOnFail\":true,\"typeVersion\":1.8},{\"id\":\"2b3dbff9-da61-4f94-a77a-0728456e5c4e\",\"name\":\"Save Image to Google Drive\",\"type\":\"n8n-nodes-base.googleDrive\",\"position\":[2440,580],\"parameters\":{},\"typeVersion\":3},{\"id\":\"34c28c32-a4d2-49da-a2e9-f97bbb131031\",\"name\":\"Merge Data\",\"type\":\"n8n-nodes-base.merge\",\"position\":[2820,360],\"parameters\":{},\"typeVersion\":3.1},{\"id\":\"7e2af3a6-2129-4dc0-a88a-92672191b66b\",\"name\":\"Store Data in Google Sheets\",\"type\":\"n8n-nodes-base.googleSheets\",\"position\":[3120,360],\"parameters\":{},\"typeVersion\":4.5},{\"id\":\"0ba0d9b7-2b83-4131-87d1-66c68c8c776b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[20,260],\"parameters\":{\"content\":\"\"},\"typeVersion\":1},{\"id\":\"69c089a0-df87-4723-8362-fb8c198fc130\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2360,780],\"parameters\":{\"content\":\"\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"30c23991-ebad-444e-a9da-7fc782c99739\",\"connections\":{\"Settings\":{\"main\":[[{\"node\":\"Clean Prompt\",\"type\":\"main\",\"index\":0}]]},\"Merge Data\":{\"main\":[[{\"node\":\"Store Data in Google Sheets\",\"type\":\"main\",\"index\":0}]]},\"Clean Prompt\":{\"main\":[[{\"node\":\"Scrape Meta Ad Library with Apify\",\"type\":\"main\",\"index\":0}]]},\"Download Image\":{\"main\":[[{\"node\":\"Save Image to Google Drive\",\"type\":\"main\",\"index\":0},{\"node\":\"Analyze Image Contents\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Analyze Image Contents\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Pass relevant Fields\":{\"main\":[[{\"node\":\"Download Image\",\"type\":\"main\",\"index\":0}]]},\"Filter only Image Ads\":{\"main\":[[{\"node\":\"Limit Images to Analyze\",\"type\":\"main\",\"index\":0}]]},\"Analyze Image Contents\":{\"main\":[[{\"node\":\"Merge Data\",\"type\":\"main\",\"index\":0}]]},\"Limit Images to Analyze\":{\"main\":[[{\"node\":\"Pass relevant Fields\",\"type\":\"main\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"Analyze Image Contents\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Calculate Runtime in Days\":{\"main\":[[{\"node\":\"Sort by Reach or Days Running\",\"type\":\"main\",\"index\":0}]]},\"Save Image to Google Drive\":{\"main\":[[{\"node\":\"Merge Data\",\"type\":\"main\",\"index\":1}]]},\"Store Data in Google Sheets\":{\"main\":[[]]},\"Sort by Reach or Days Running\":{\"main\":[[{\"node\":\"Filter only Image Ads\",\"type\":\"main\",\"index\":0}]]},\"Scrape Meta Ad Library with Apify\":{\"main\":[[{\"node\":\"Calculate Runtime in Days\",\"type\":\"main\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Settings\",\"type\":\"main\",\"index\":0}]]}}}"
}