{
  "title": "Qualify replies from Pipedrive persons with AI",
  "url": "https://n8n.io/workflows/2039-qualify-replies-from-pipedrive-persons-with-ai/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Mark de Jonge",
  "publish_date": "Last update a year ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"0bd9e607aabfd58640f9f5a370e768a7755e93315179f5bcc6d1f8f114b3567a\"},\"nodes\":[{\"id\":\"97b36168-7fa8-4a97-a6cc-c42496918c4c\",\"name\":\"Search Person in CRM\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[-880,400],\"parameters\":{\"term\":\"={{ $json.from.value[0].address }}\",\"limit\":1,\"resource\":\"person\",\"operation\":\"search\",\"additionalFields\":{\"includeFields\":\"\"}},\"credentials\":{\"pipedriveApi\":{\"id\":\"MdJQDtRDHnpwuVYP\",\"name\":\"Pipedrive LinkedUp\"}},\"typeVersion\":1},{\"id\":\"2a17582b-9375-4a01-87d9-a50f573b83db\",\"name\":\"In campaign?\",\"type\":\"n8n-nodes-base.if\",\"position\":[-420,400],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.in_campaign }}\",\"value2\":\"True\"}]}},\"typeVersion\":1},{\"id\":\"2a8d509f-8ac2-4f45-a905-f34552833381\",\"name\":\"Get person from CRM\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[-640,400],\"parameters\":{\"personId\":\"={{ $json.id }}\",\"resource\":\"person\",\"operation\":\"get\",\"resolveProperties\":true},\"credentials\":{\"pipedriveApi\":{\"id\":\"MdJQDtRDHnpwuVYP\",\"name\":\"Pipedrive LinkedUp\"}},\"typeVersion\":1},{\"id\":\"b9c6f3d3-1a6d-4144-8e77-3a3c6e5282d8\",\"name\":\"Is interested?\",\"type\":\"n8n-nodes-base.openAi\",\"position\":[-180,380],\"parameters\":{\"model\":\"gpt-4\",\"prompt\":{\"messages\":[{\"content\":\"=You are the best sales development representative in the world. You send cold email messages daily to CEOs and founders of companies. You do this to persuade them to make contact. This could be a phone call or a video meeting. \\n\\nYour task is to assess whether someone is interested in meeting up or calling sometime. You do this by attentively evaluating their response.\\n\\nThis is the email:\\n{{ $('Get email').item.json.text }}\\n\\nThe response format should be:\\n{\\\"interested\\\": [yes/no],\\n\\\"reason\\\": reason\\n}\\n\\nJSON:\"}]},\"options\":{},\"resource\":\"chat\"},\"credentials\":{\"openAiApi\":{\"id\":\"qPBzqgpCRxncJ90K\",\"name\":\"OpenAi account 2\"}},\"typeVersion\":1},{\"id\":\"f1eb438d-f002-4082-8481-51565df13f5c\",\"name\":\"Get email\",\"type\":\"n8n-nodes-base.set\",\"position\":[-1100,400],\"parameters\":{\"fields\":{\"values\":[{\"name\":\"email\",\"stringValue\":\"={{ $json.text }}\"}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"78461c36-ba54-4f0f-a38e-183bfafa576c\",\"name\":\"Create deal in CRM\",\"type\":\"n8n-nodes-base.pipedrive\",\"position\":[460,360],\"parameters\":{\"title\":\"={{ $('Get person from CRM').item.json.Name }} Deal\",\"additionalFields\":{}},\"credentials\":{\"pipedriveApi\":{\"id\":\"MdJQDtRDHnpwuVYP\",\"name\":\"Pipedrive LinkedUp\"}},\"typeVersion\":1},{\"id\":\"efe07661-9afc-4184-b558-e1f547b6721f\",\"name\":\"IF interested\",\"type\":\"n8n-nodes-base.if\",\"position\":[240,380],\"parameters\":{\"conditions\":{\"string\":[{\"value1\":\"={{ $json.interested }}\",\"value2\":\"yes\"}]}},\"typeVersion\":1},{\"id\":\"7c2b7b59-9d68-4d8c-9b9f-a36ea47526c9\",\"name\":\"Get response\",\"type\":\"n8n-nodes-base.code\",\"position\":[20,380],\"parameters\":{\"mode\":\"runOnceForEachItem\",\"jsCode\":\"let interested = JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).interested\\nlet reason = JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).reason\\n\\nreturn {json:{\\n  interested: interested,\\n  reason: reason\\n}}\"},\"typeVersion\":1},{\"id\":\"53f51f8c-5995-4bcd-a038-3018834942e6\",\"name\":\"Email box 1\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"position\":[-1300,400],\"parameters\":{\"simple\":false,\"filters\":{\"labelIds\":[]},\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]}},\"typeVersion\":1},{\"id\":\"bb1254ec-676a-4edc-bf4a-a1c66bac78bb\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1880,360],\"parameters\":{\"width\":452.37174177689576,\"height\":462.1804790107177,\"content\":\"## About the workflow\\nThe workflow reads every reply that is received from a cold email campaign and qualifies if the lead is interested in a meeting. If the lead is interested, a deal is made in pipedrive. You can add as many email inboxes as you need!\\n\\n## Setup:\\n- Add credentials to the Gmail, OpenAI and Pipedrive Nodes.\\n- Add a in_campaign field in Pipedrive for persons. In Pipedrive click on your credentials at the top right, go to company settings > Data fields > Person and click on add custom field. Single option [TRUE/FALSE].\\n- If you have only one email inbox, you can delete one of the Gmail nodes.\\n- If you have more than two email inboxes, you can duplicate a Gmail node as many times as you like. Just connect it to the Get email node, and you are good to go!\\n- In the Gmail inbox nodes, select Inbox under label names and uncheck Simplify.\"},\"typeVersion\":1},{\"id\":\"c1aaee97-11f4-4e9d-9a71-90ca3f5773a9\",\"name\":\"Email box 2\",\"type\":\"n8n-nodes-base.gmailTrigger\",\"position\":[-1300,600],\"parameters\":{\"simple\":false,\"filters\":{\"labelIds\":[]},\"options\":{},\"pollTimes\":{\"item\":[{\"mode\":\"everyMinute\"}]}},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Get email\":{\"main\":[[{\"node\":\"Search Person in CRM\",\"type\":\"main\",\"index\":0}]]},\"Email box 1\":{\"main\":[[{\"node\":\"Get email\",\"type\":\"main\",\"index\":0}]]},\"Email box 2\":{\"main\":[[{\"node\":\"Get email\",\"type\":\"main\",\"index\":0}]]},\"Get response\":{\"main\":[[{\"node\":\"IF interested\",\"type\":\"main\",\"index\":0}]]},\"In campaign?\":{\"main\":[[{\"node\":\"Is interested?\",\"type\":\"main\",\"index\":0}]]},\"IF interested\":{\"main\":[[{\"node\":\"Create deal in CRM\",\"type\":\"main\",\"index\":0}]]},\"Is interested?\":{\"main\":[[{\"node\":\"Get response\",\"type\":\"main\",\"index\":0}]]},\"Get person from CRM\":{\"main\":[[{\"node\":\"In campaign?\",\"type\":\"main\",\"index\":0}]]},\"Search Person in CRM\":{\"main\":[[{\"node\":\"Get person from CRM\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## About the workflow\n\nThe workflow reads every reply that is received from a cold email campaign and qualifies if the lead is interested in a meeting. If the lead is interested, a deal is made in pipedrive. You can add as many email inboxes as you need!\n\n## Setup:\n\n  * Add credentials to the Gmail, OpenAI and Pipedrive Nodes.\n  * Add a in_campaign field in Pipedrive for persons. In Pipedrive click on your credentials at the top right, go to company settings > Data fields > Person and click on add custom field. Single option [TRUE/FALSE].\n  * If you have only one email inbox, you can delete one of the Gmail nodes.\n  * If you have more than two email inboxes, you can duplicate a Gmail node as many times as you like. Just connect it to the Get email node, and you are good to go!\n  * In the Gmail inbox nodes, select Inbox under label names and uncheck Simplify.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h2>About the workflow</h2>\n<p>The workflow reads every reply that is received from a cold email campaign and qualifies if the lead is interested in a meeting. If the lead is interested, a deal is made in pipedrive. You can add as many email inboxes as you need!</p>\n<h2>Setup:</h2>\n<ul>\n<li>Add credentials to the Gmail, OpenAI and Pipedrive Nodes.</li>\n<li>Add a in_campaign field in Pipedrive for persons. In Pipedrive click on your credentials at the top right, go to company settings &gt; Data fields &gt; Person and click on add custom field. Single option [TRUE/FALSE].</li>\n<li>If you have only one email inbox, you can delete one of the Gmail nodes.</li>\n<li>If you have more than two email inboxes, you can duplicate a Gmail node as many times as you like. Just connect it to the Get email node, and you are good to go!</li>\n<li>In the Gmail inbox nodes, select Inbox under label names and uncheck Simplify.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "## 关于工作流程\n\n该工作流会读取冷邮件营销活动中收到的每一封回复，并判断潜在客户是否有意向会面。若客户表现出兴趣，系统将在Pipedrive中创建交易。您可根据需要添加任意数量的邮箱账号！\n\n## 设置步骤：\n\n* 为Gmail、OpenAI和Pipedrive节点配置登录凭证\n* 在Pipedrive人员信息中添加\"in_campaign\"字段：点击右上角账户图标进入公司设置 > 数据字段 > 人员模块，添加单选类型[TRUE/FALSE]的自定义字段\n* 若仅有一个邮箱账号，可删除其中一个Gmail节点\n* 如需配置两个以上邮箱账号，可无限复制Gmail节点，只需将其连接至\"Get email\"节点即可立即生效\n* 在Gmail收件箱节点中，选择\"收件箱\"标签名称，并取消勾选\"简化模式\"\n\n（注：根据技术文档翻译规范，保留关键平台名称\"Pipedrive/Gmail/OpenAI\"等专有名词不译；\"deal\"译为\"交易\"符合CRM系统术语；\"TRUE/FALSE\"保持大写格式与开发文档惯例一致；\"uncheck Simplify\"采用功能界面常见的\"取消勾选简化模式\"译法）",
  "title_zh": "利用AI筛选Pipedrive人员的合格回复",
  "publish_date_absolute": "",
  "publish_date_zh": "上次更新于一年前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"0bd9e607aabfd58640f9f5a370e768a7755e93315179f5bcc6d1f8f114b3567a\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"97b36168-7fa8-4a97-a6cc-c42496918c4c\",\n      \"name\": \"Search Person in CRM\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        -880,\n        400\n      ],\n      \"parameters\": {\n        \"term\": \"={{ $json.from.value[0].address }}\",\n        \"limit\": 1,\n        \"resource\": \"person\",\n        \"operation\": \"search\",\n        \"additionalFields\": {\n          \"includeFields\": \"\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"MdJQDtRDHnpwuVYP\",\n          \"name\": \"Pipedrive LinkedUp\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2a17582b-9375-4a01-87d9-a50f573b83db\",\n      \"name\": \"In campaign?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -420,\n        400\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.in_campaign }}\",\n              \"value2\": \"True\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2a8d509f-8ac2-4f45-a905-f34552833381\",\n      \"name\": \"Get person from CRM\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        -640,\n        400\n      ],\n      \"parameters\": {\n        \"personId\": \"={{ $json.id }}\",\n        \"resource\": \"person\",\n        \"operation\": \"get\",\n        \"resolveProperties\": true\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"MdJQDtRDHnpwuVYP\",\n          \"name\": \"Pipedrive LinkedUp\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b9c6f3d3-1a6d-4144-8e77-3a3c6e5282d8\",\n      \"name\": \"Is interested?\",\n      \"type\": \"n8n-nodes-base.openAi\",\n      \"position\": [\n        -180,\n        380\n      ],\n      \"parameters\": {\n        \"model\": \"gpt-4\",\n        \"prompt\": {\n          \"messages\": [\n            {\n              \"content\": \"=You are the best sales development representative in the world. You send cold email messages daily to CEOs and founders of companies. You do this to persuade them to make contact. This could be a phone call or a video meeting. \\n\\nYour task is to assess whether someone is interested in meeting up or calling sometime. You do this by attentively evaluating their response.\\n\\nThis is the email:\\n{{ $('Get email').item.json.text }}\\n\\nThe response format should be:\\n{\\\"interested\\\": [yes/no],\\n\\\"reason\\\": reason\\n}\\n\\nJSON:\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"resource\": \"chat\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"qPBzqgpCRxncJ90K\",\n          \"name\": \"OpenAi account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f1eb438d-f002-4082-8481-51565df13f5c\",\n      \"name\": \"Get email\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1100,\n        400\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"email\",\n              \"stringValue\": \"={{ $json.text }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"78461c36-ba54-4f0f-a38e-183bfafa576c\",\n      \"name\": \"Create deal in CRM\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        460,\n        360\n      ],\n      \"parameters\": {\n        \"title\": \"={{ $('Get person from CRM').item.json.Name }} Deal\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"MdJQDtRDHnpwuVYP\",\n          \"name\": \"Pipedrive LinkedUp\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"efe07661-9afc-4184-b558-e1f547b6721f\",\n      \"name\": \"IF interested\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        240,\n        380\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.interested }}\",\n              \"value2\": \"yes\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7c2b7b59-9d68-4d8c-9b9f-a36ea47526c9\",\n      \"name\": \"Get response\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        20,\n        380\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"let interested = JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).interested\\nlet reason = JSON.parse($json[\\\"message\\\"][\\\"content\\\"]).reason\\n\\nreturn {json:{\\n  interested: interested,\\n  reason: reason\\n}}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"53f51f8c-5995-4bcd-a038-3018834942e6\",\n      \"name\": \"Email box 1\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        -1300,\n        400\n      ],\n      \"parameters\": {\n        \"simple\": false,\n        \"filters\": {\n          \"labelIds\": []\n        },\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bb1254ec-676a-4edc-bf4a-a1c66bac78bb\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1880,\n        360\n      ],\n      \"parameters\": {\n        \"width\": 452.37174177689576,\n        \"height\": 462.1804790107177,\n        \"content\": \"## 关于工作流程\\n该工作流会读取冷邮件营销活动中收到的每一封回复，并判断潜在客户是否有意向参加会议。若客户表现出兴趣，系统将在Pipedrive中创建交易记录。您可以根据需要添加任意数量的邮箱账号！\\n\\n## 设置步骤：\\n- 为Gmail、OpenAI和Pipedrive节点配置登录凭证\\n- 在Pipedrive人员模块中添加\\\"in_campaign\\\"字段：点击右上角账户图标进入公司设置 > 数据字段 > 人员模块 > 添加自定义字段（单选类型[TRUE/FALSE]）\\n- 若仅需监控单个邮箱，可删除其中一个Gmail节点\\n- 如需监控更多邮箱账号，可无限复制Gmail节点，只需将其连接至\\\"获取邮件\\\"节点即可立即生效\\n- 在Gmail收件箱节点中：选择标签名称为\\\"Inbox\\\"，并取消勾选\\\"简化\\\"选项\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c1aaee97-11f4-4e9d-9a71-90ca3f5773a9\",\n      \"name\": \"Email box 2\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        -1300,\n        600\n      ],\n      \"parameters\": {\n        \"simple\": false,\n        \"filters\": {\n          \"labelIds\": []\n        },\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Get email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search Person in CRM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email box 1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email box 2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF interested\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"In campaign?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is interested?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF interested\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create deal in CRM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is interested?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get person from CRM\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"In campaign?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search Person in CRM\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get person from CRM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}