{
  "title": "Integrating AI with Open-Meteo API for Enhanced Weather Forecasting",
  "url": "https://n8n.io/workflows/2692-integrating-ai-with-open-meteo-api-for-enhanced-weather-forecasting/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Davi Saranszky Mesquita",
  "publish_date": "Last update 3 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"Nfh274NHoDy7pB4M\",\"meta\":{\"instanceId\":\"00493e38fecfc163cb182114bc2fab90114038eb9aad665a7a752d076920d3d5\",\"templateCredsSetupCompleted\":true},\"name\":\"Integrating AI with Open-Meteo API for Enhanced Weather Forecasting\",\"tags\":[],\"nodes\":[{\"id\":\"80debfe0-c591-4ba1-aca1-068adac62aa9\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[100,-300],\"webhookId\":\"4a44e974-db62-4727-9913-12a22bc88e01\",\"parameters\":{\"public\":true,\"options\":{\"title\":\"N8N 👋\",\"subtitle\":\"Weather Assistant: Example of Tools Using ChatGPT\",\"allowFileUploads\":false,\"loadPreviousSession\":\"memory\"},\"initialMessages\":\"Type like this: Weather Forecast for the Next 7 Days in São Paulo\"},\"typeVersion\":1.1},{\"id\":\"ec375027-1c0d-438b-9fca-7bc4fbef2479\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[420,-60],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"bhRvwBXztNmJVObo\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"bd2f5967-8188-4b1f-9255-8008870aaf7b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,-640],\"parameters\":{\"color\":5,\"width\":500,\"height\":720,\"content\":\"## Integrating AI with Open-Meteo API for Enhanced Weather Forecasting\\n\\n## Use case\\n\\n### Workshop\\n\\nWe are using this workflow in our workshops to teach how to use Tools a.k.a functions with artificial intelligence. In this specific case, we will use a generic \\\"AI Agent\\\" node to illustrate that it could use other models from different data providers.\\n\\n### Enhanced Weather Forecasting\\n\\nIn this small example, it's easy to demonstrate how to obtain weather forecast results from the Open-Meteo site to accurately display the upcoming days.\\n\\nThis can be used to plan travel decisions, for example.\\n\\n## What this workflow does\\n\\n1. We will make an HTTP request to find out the geographic coordinates of a city.\\n2. Then, we will make other HTTP requests to discover the weather for the upcoming days.\\n\\nIn this workshop, we demonstrate that the AI will be able to determine which tool to call first—it will first call the geolocation tool and then the weather forecast tool. All of this within a single client conversation call.\\n\\n\\n## Setup\\n\\nInsert an OpenAI Key and activate the workflow.\\n\\nby Davi Saranszky Mesquita\\nhttps://www.linkedin.com/in/mesquitadavi/\"},\"typeVersion\":1},{\"id\":\"3cfeea52-a310-4101-8377-0f393bf54c8d\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[60,-440],\"parameters\":{\"width\":340,\"height\":220,\"content\":\"## Create an Hosted Web Chat\\n\\n### And setup the trigger!\\n\\nExample: https://website/webhook/4a4..../chat\"},\"typeVersion\":1},{\"id\":\"55713ffc-da61-4594-99f4-ca6b448cbee2\",\"name\":\"Generic AI Tool Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[440,-300],\"parameters\":{\"options\":{}},\"typeVersion\":1.7},{\"id\":\"7f608ddc-87bb-4e54-84a8-4db6b7f95011\",\"name\":\"Chat Memory Buffer\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[200,-60],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"77f82443-1efe-47d3-92ec-aa193853c8a5\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[320,0],\"parameters\":{\"width\":260,\"content\":\"-\\n\\n\\n## Setup OpenAI Key\"},\"typeVersion\":1},{\"id\":\"ed37ea94-3cff-47cb-bf45-bce620b0f056\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[780,60],\"parameters\":{\"color\":4,\"width\":280,\"height\":360,\"content\":\"### Open Meteo SPEC - City Geolocation\\n\\nThis tool will go to the URL https://geocoding-api.open-meteo.com/v1/search to fetch the geolocation data of the city, and I only need to get the name of the city.\\n\\nSo, I will ask the user to input the name of the city and pass some pre-existing information, such as returning only the first city and returning in JSON format.\\n\\n- name (By Model) - And placeholder - The parameter that the AI will need to fill in as required.\\n\\n- count - 1 by default because I want only the first city.\\n\\n- format - Putting JSON for no specific reason, but OpenAI could figure out how to process that information.\"},\"typeVersion\":1},{\"id\":\"f9b0e65d-a85e-4511-bdd2-adf54b1c039d\",\"name\":\"A tool to get the weather forecast based on geolocation\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[1100,-160],\"parameters\":{\"url\":\"https://api.open-meteo.com/v1/forecast\",\"sendQuery\":true,\"parametersQuery\":{\"values\":[{\"name\":\"latitude\"},{\"name\":\"longitude\"},{\"name\":\"daily\",\"value\":\"temperature_2m_max,precipitation_sum\",\"valueProvider\":\"fieldValue\"},{\"name\":\"timezone\",\"value\":\"GMT\",\"valueProvider\":\"fieldValue\"},{\"name\":\"forecast_days\"}]},\"toolDescription\":\"To get forecast of next [forecast_days] input the geolocation of an City\",\"placeholderDefinitions\":{\"values\":[{\"name\":\"longitude\",\"type\":\"number\",\"description\":\"longitude\"},{\"name\":\"latitude\",\"type\":\"number\",\"description\":\"latitude\"},{\"name\":\"forecast_days\",\"type\":\"number\",\"description\":\"forecast_days number of days ahead\"}]}},\"typeVersion\":1.1},{\"id\":\"76382491-dd75-4b51-a2d8-cb9782246af8\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1240,-220],\"parameters\":{\"color\":4,\"width\":280,\"height\":320,\"content\":\"### Open Meteo SPEC - Weather Forecast\\n\\nThis tool will go to the Open Meteo site with the geolocation information at https://api.open-meteo.com/v1/forecast\\n\\nIt will pass the information on latitude, longitude, and the number of days for which it will bring data.\\n\\nThere are many default pieces of information within, but the focus is not to explain the Open Meteo API.\\n\\nVariables like latitude, longitude, and forecast_days are self-explanatory for OpenAI, making it the easiest tool to configure.\\n\\n- latitude (By Model) and Placeholder\\n- longitude (By Model) and Placeholder\\n- forecast_days (By Model) and Placeholder\\n\"},\"typeVersion\":1},{\"id\":\"1c8087ce-6800-4ece-8234-23914e21a692\",\"name\":\"A tool for inputting the city and obtaining geolocation\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[820,-100],\"parameters\":{\"url\":\"=https://geocoding-api.open-meteo.com/v1/search\",\"sendQuery\":true,\"parametersQuery\":{\"values\":[{\"name\":\"name\"},{\"name\":\"count\",\"value\":\"1\",\"valueProvider\":\"fieldValue\"},{\"name\":\"format\",\"value\":\"json\",\"valueProvider\":\"fieldValue\"}]},\"toolDescription\":\"Input the City and get geolocation, geocode or coordinates from Requested City\",\"placeholderDefinitions\":{\"values\":[{\"name\":\"name\",\"type\":\"string\",\"description\":\"Requested City\"}]}},\"typeVersion\":1.1},{\"id\":\"15ae7421-eff9-4677-b8cf-b7bbb5d2385e\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-100,340],\"parameters\":{\"color\":3,\"width\":840,\"height\":80,\"content\":\"## Within N8N, there will be a chat button to test, or you can use the external chat link from the trigger.\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"778e2544-db78-4836-8bd1-771f333a621c\",\"connections\":{\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Chat Memory Buffer\":{\"ai_memory\":[[{\"node\":\"When chat message received\",\"type\":\"ai_memory\",\"index\":0},{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"main\",\"index\":0}]]},\"A tool for inputting the city and obtaining geolocation\":{\"ai_tool\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"A tool to get the weather forecast based on geolocation\":{\"ai_tool\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_tool\",\"index\":0}]]}}}",
  "readme": "## Use case\n\n### Workshop\n\nWe are using this workflow in our workshops to teach how to use Tools a.k.a functions with artificial intelligence. In this specific case, we will use a generic \"AI Agent\" node to illustrate that it could use other models from different data providers.\n\n### Enhanced Weather Forecasting\n\nIn this small example, it's easy to demonstrate how to obtain weather forecast results from the Open-Meteo site to accurately display the upcoming days.\n\nThis can be used to plan travel decisions, for example.\n\n## What this workflow does\n\n  1. We will make an HTTP request to find out the geographic coordinates of a city.\n  2. Then, we will make other HTTP requests to discover the weather for the upcoming days.\n\n\n\nIn this workshop, we demonstrate that the AI will be able to determine which tool to call first—it will first call the geolocation tool and then the weather forecast tool. All of this within a single client conversation call.\n\n## Setup\n\nInsert an OpenAI Key and activate the workflow.\n\nby Davi Saranszky Mesquita  \n<https://www.linkedin.com/in/mesquitadavi/>\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h2>Use case</h2>\n<h3>Workshop</h3>\n<p>We are using this workflow in our workshops to teach how to use Tools a.k.a functions with artificial intelligence. In this specific case, we will use a generic \"AI Agent\" node to illustrate that it could use other models from different data providers.</p>\n<h3>Enhanced Weather Forecasting</h3>\n<p>In this small example, it's easy to demonstrate how to obtain weather forecast results from the Open-Meteo site to accurately display the upcoming days.</p>\n<p>This can be used to plan travel decisions, for example.</p>\n<h2>What this workflow does</h2>\n<ol>\n<li>We will make an HTTP request to find out the geographic coordinates of a city.</li>\n<li>Then, we will make other HTTP requests to discover the weather for the upcoming days.</li>\n</ol>\n<p>In this workshop, we demonstrate that the AI will be able to determine which tool to call first—it will first call the geolocation tool and then the weather forecast tool. All of this within a single client conversation call.</p>\n<h2>Setup</h2>\n<p>Insert an OpenAI Key and activate the workflow.</p>\n<p>by Davi Saranszky Mesquita<br>\n<a href=\"https://www.linkedin.com/in/mesquitadavi/\" rel=\"ugc nofollow\" target=\"_blank\">https://www.linkedin.com/in/mesquitadavi/</a></p>\n</div><!--]-->",
  "readme_zh": "## 使用场景\n\n### 工作坊\n\n我们在工作坊中运用此流程教学如何结合人工智能使用工具（即功能函数）。本案例将使用通用\"AI代理\"节点，展示其可调用不同数据服务商的多类模型。\n\n### 增强版天气预报\n\n这个小范例能清晰演示如何从Open-Meteo网站获取天气预报数据，精准展示未来数日天气状况。\n\n该功能可应用于旅行规划等决策场景。\n\n## 流程说明\n\n1. 发起HTTP请求获取城市地理坐标\n2. 通过后续HTTP请求查询未来数日天气数据\n\n## 核心演示\n\n本工作坊将展示AI如何自主判断工具调用顺序——先调用地理定位工具，再调用天气预报工具。整个过程仅需单次客户端会话调用即可完成。\n\n## 配置步骤\n\n1. 填入OpenAI密钥\n2. 激活工作流\n\n作者：Davi Saranszky Mesquita  \n<https://www.linkedin.com/in/mesquitadavi/>",
  "title_zh": "结合AI与Open-Meteo API以提升天气预报精准度",
  "publish_date_absolute": "2025-02-06",
  "publish_date_zh": "最后更新于3个月前",
  "workflow_json_zh": "{\"id\":\"Nfh274NHoDy7pB4M\",\"meta\":{\"instanceId\":\"00493e38fecfc163cb182114bc2fab90114038eb9aad665a7a752d076920d3d5\",\"templateCredsSetupCompleted\":true},\"name\":\"Integrating AI with Open-Meteo API for Enhanced Weather Forecasting\",\"tags\":[],\"nodes\":[{\"id\":\"80debfe0-c591-4ba1-aca1-068adac62aa9\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[100,-300],\"webhookId\":\"4a44e974-db62-4727-9913-12a22bc88e01\",\"parameters\":{\"public\":true,\"options\":{\"title\":\"N8N 👋\",\"subtitle\":\"Weather Assistant: Example of Tools Using ChatGPT\",\"allowFileUploads\":false,\"loadPreviousSession\":\"memory\"},\"initialMessages\":\"Type like this: Weather Forecast for the Next 7 Days in São Paulo\"},\"typeVersion\":1.1},{\"id\":\"ec375027-1c0d-438b-9fca-7bc4fbef2479\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[420,-60],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"bhRvwBXztNmJVObo\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"bd2f5967-8188-4b1f-9255-8008870aaf7b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,-640],\"parameters\":{\"color\":5,\"width\":500,\"height\":720,\"content\":\"## 结合AI与Open-Meteo API实现增强型天气预报\\n\\n## 应用场景\\n\\n### 工作坊教学\\n我们在工作坊中采用该流程，教授如何利用工具（即函数）与人工智能协同工作。本案例将使用通用\\\"AI代理\\\"节点，展示其调用不同数据提供商模型的能力。\\n\\n### 增强天气预报\\n通过这个简明案例，清晰演示如何从Open-Meteo平台获取天气预报数据，精准展示未来数日气象状况。该功能可应用于旅行规划等决策场景。\\n\\n## 工作流机制\\n\\n1. 发起HTTP请求获取城市地理坐标\\n2. 基于坐标发起后续HTTP请求查询未来天气\\n\\n本工作坊重点展示AI的智能决策能力：它能自主判断工具调用顺序——先调用地理定位工具，再调用天气预报工具，整个过程仅需单次客户端会话交互。\\n\\n## 配置说明\\n插入OpenAI密钥并激活工作流\\n\\n作者：Davi Saranszky Mesquita\\n领英主页：https://www.linkedin.com/in/mesquitadavi/\"},\"typeVersion\":1},{\"id\":\"3cfeea52-a310-4101-8377-0f393bf54c8d\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[60,-440],\"parameters\":{\"width\":340,\"height\":220,\"content\":\"## 创建托管网页聊天\\n\\n### 并设置触发器！\\n\\n示例：https://网站/webhook/4a4..../chat\"},\"typeVersion\":1},{\"id\":\"55713ffc-da61-4594-99f4-ca6b448cbee2\",\"name\":\"Generic AI Tool Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[440,-300],\"parameters\":{\"options\":{}},\"typeVersion\":1.7},{\"id\":\"7f608ddc-87bb-4e54-84a8-4db6b7f95011\",\"name\":\"Chat Memory Buffer\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[200,-60],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"77f82443-1efe-47d3-92ec-aa193853c8a5\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[320,0],\"parameters\":{\"width\":260,\"content\":\"- 设置OpenAI密钥\"},\"typeVersion\":1},{\"id\":\"ed37ea94-3cff-47cb-bf45-bce620b0f056\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[780,60],\"parameters\":{\"color\":4,\"width\":280,\"height\":360,\"content\":\"### Open Meteo 规范 - 城市地理定位\\n\\n该工具将访问网址 https://geocoding-api.open-meteo.com/v1/search 以获取城市的地理位置数据，而我只需要获取城市的名称。\\n\\n因此，我会要求用户输入城市名称，并传递一些预设信息，例如仅返回第一个城市并以 JSON 格式返回。\\n\\n- name（由模型填写） - 以及占位符 - AI 需要按要求填写的参数。\\n\\n- count - 默认为 1，因为我只需要第一个城市。\\n\\n- format - 设置为 JSON，没有特别原因，但 OpenAI 可以处理该信息。\"},\"typeVersion\":1},{\"id\":\"f9b0e65d-a85e-4511-bdd2-adf54b1c039d\",\"name\":\"A tool to get the weather forecast based on geolocation\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[1100,-160],\"parameters\":{\"url\":\"https://api.open-meteo.com/v1/forecast\",\"sendQuery\":true,\"parametersQuery\":{\"values\":[{\"name\":\"latitude\"},{\"name\":\"longitude\"},{\"name\":\"daily\",\"value\":\"temperature_2m_max,precipitation_sum\",\"valueProvider\":\"fieldValue\"},{\"name\":\"timezone\",\"value\":\"GMT\",\"valueProvider\":\"fieldValue\"},{\"name\":\"forecast_days\"}]},\"toolDescription\":\"To get forecast of next [forecast_days] input the geolocation of an City\",\"placeholderDefinitions\":{\"values\":[{\"name\":\"longitude\",\"type\":\"number\",\"description\":\"longitude\"},{\"name\":\"latitude\",\"type\":\"number\",\"description\":\"latitude\"},{\"name\":\"forecast_days\",\"type\":\"number\",\"description\":\"forecast_days number of days ahead\"}]}},\"typeVersion\":1.1},{\"id\":\"76382491-dd75-4b51-a2d8-cb9782246af8\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1240,-220],\"parameters\":{\"color\":4,\"width\":280,\"height\":320,\"content\":\"### Open Meteo 规范 - 天气预报\\n\\n此工具将访问 Open Meteo 网站，通过地理位置信息获取数据，网址为：https://api.open-meteo.com/v1/forecast\\n\\n它将传递纬度、经度以及需要获取数据的天数信息。\\n\\n虽然其中包含许多默认信息，但重点并非解释 Open Meteo API。\\n\\n对于 OpenAI 来说，像纬度、经度和 forecast_days（预报天数）这样的变量不言自明，这使得它成为最容易配置的工具。\\n\\n- 纬度（由模型提供）和占位符  \\n- 经度（由模型提供）和占位符  \\n- forecast_days（预报天数，由模型提供）和占位符\"},\"typeVersion\":1},{\"id\":\"1c8087ce-6800-4ece-8234-23914e21a692\",\"name\":\"A tool for inputting the city and obtaining geolocation\",\"type\":\"@n8n/n8n-nodes-langchain.toolHttpRequest\",\"position\":[820,-100],\"parameters\":{\"url\":\"=https://geocoding-api.open-meteo.com/v1/search\",\"sendQuery\":true,\"parametersQuery\":{\"values\":[{\"name\":\"name\"},{\"name\":\"count\",\"value\":\"1\",\"valueProvider\":\"fieldValue\"},{\"name\":\"format\",\"value\":\"json\",\"valueProvider\":\"fieldValue\"}]},\"toolDescription\":\"Input the City and get geolocation, geocode or coordinates from Requested City\",\"placeholderDefinitions\":{\"values\":[{\"name\":\"name\",\"type\":\"string\",\"description\":\"Requested City\"}]}},\"typeVersion\":1.1},{\"id\":\"15ae7421-eff9-4677-b8cf-b7bbb5d2385e\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-100,340],\"parameters\":{\"color\":3,\"width\":840,\"height\":80,\"content\":\"## 在N8N中会有一个聊天按钮用于测试，或者你也可以使用触发器提供的外部聊天链接。\"},\"typeVersion\":1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"778e2544-db78-4836-8bd1-771f333a621c\",\"connections\":{\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Chat Memory Buffer\":{\"ai_memory\":[[{\"node\":\"When chat message received\",\"type\":\"ai_memory\",\"index\":0},{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"main\",\"index\":0}]]},\"A tool for inputting the city and obtaining geolocation\":{\"ai_tool\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"A tool to get the weather forecast based on geolocation\":{\"ai_tool\":[[{\"node\":\"Generic AI Tool Agent\",\"type\":\"ai_tool\",\"index\":0}]]}}}"
}