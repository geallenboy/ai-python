{
  "title": "Chinese Translator via Line x OpenRouter (Text & Image)",
  "url": "https://n8n.io/workflows/3211-chinese-translator-via-line-x-openrouter-text-and-image/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "lin@davoy.tech",
  "publish_date": "Last update a month ago",
  "content": "",
  "workflow_json": "{\"id\":\"iFkGAiVn3yBlykIG\",\"meta\":{\"instanceId\":\"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\"},\"name\":\"Chinese Translator\",\"tags\":[{\"id\":\"IhTa6egt1w8uqn9Z\",\"name\":\"_ACTIVE\",\"createdAt\":\"2025-03-12T05:07:05.060Z\",\"updatedAt\":\"2025-03-12T05:07:05.060Z\"},{\"id\":\"0xpEHcJjNRRRMtEj\",\"name\":\"lin\",\"createdAt\":\"2025-03-12T05:06:24.112Z\",\"updatedAt\":\"2025-03-12T05:06:24.112Z\"},{\"id\":\"Q0IWVCdrzoxXDC7z\",\"name\":\"error_linlinmhee_line\",\"createdAt\":\"2025-03-12T06:37:16.225Z\",\"updatedAt\":\"2025-03-12T06:37:16.225Z\"},{\"id\":\"U1ozjO3iXQZWUyfG\",\"name\":\"_Blueprint\",\"createdAt\":\"2025-03-12T06:24:40.268Z\",\"updatedAt\":\"2025-03-12T06:24:40.268Z\"}],\"nodes\":[{\"id\":\"3ebfb7f1-b655-405b-8bde-0219fa92d09c\",\"name\":\"Line Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-260,-20],\"webhookId\":\"b2b119e6-6de5-4684-9a51-4706a1c20caf\",\"parameters\":{\"path\":\"cn\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"63ae844f-dfc3-4e8f-97d0-c0ec4be7858f\",\"name\":\"Line Loading Animation\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[120,-20],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/chat/loading/start\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n    \\\"chatId\\\": \\\"{{ $json.body.events[0].source.userId }}\\\",\\n    \\\"loadingSeconds\\\": 60\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"7e4cc2a0-958c-4111-909c-fba75a428d5e\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":560,\"content\":\"**Webhook from Line**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nYou need to set-up this webhook at Line Manager or Line Developer Console\\n\\nYou'll need to copy Webhook URL from this node to put in Line Console\\n\\nAlso, don't forget to remove 'test' part when going for production\\n\\nhttps://developers.line.biz/en/docs/messaging-api/receiving-messages/\\n\"},\"typeVersion\":1},{\"id\":\"767827b2-fbca-4dbb-b392-749c25a56c93\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":560,\"content\":\"**Line Loading Animation**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis node is to only give ... loading animation back in Line.\\n\\nIt seems stupid but it actually tells user that the workflow is running and you are not left waiting without hope\\n\\nTo authorize, you can fill in the Line Token in the node here, or you can you header authorization (shown at the 'reply message' node)\\n\\nhttps://developers.line.biz/en/docs/messaging-api/use-loading-indicator/\"},\"typeVersion\":1},{\"id\":\"8cdafc15-3bf8-45e9-8081-901d5c5a7880\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1200,-540],\"parameters\":{\"color\":2,\"width\":360,\"height\":420,\"content\":\"**OpenRouter.ai**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis is to call LLMs model at Openrouter.ai \\n\\nYou can use it to call ChatGPT, Lllama, Qwen, Deepseek, and much more with just standardized API call and top-up only once\\n\\nhttps://openrouter.ai/docs/quickstart\"},\"typeVersion\":1},{\"id\":\"3e2f4acf-771c-4d55-a13e-b4c874136574\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1580,-540],\"parameters\":{\"color\":4,\"width\":360,\"height\":420,\"content\":\"**Line Reply**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nThis node is to send reply message via Line\\n\\nhttps://developers.line.biz/en/docs/messaging-api/sending-messages/\\n\"},\"typeVersion\":1},{\"id\":\"b17eddaf-da3e-4e21-ab33-9e71f385d734\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-380,-200],\"parameters\":{\"color\":5,\"width\":780,\"height\":80,\"content\":\"## You can test this workflow by adding Line @405jtfqs\"},\"typeVersion\":1},{\"id\":\"5ce9db0a-0c84-48df-828c-591d01a47bc8\",\"name\":\"Switch\",\"type\":\"n8n-nodes-base.switch\",\"position\":[500,-20],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"text\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9f8075cf-8f3f-419f-ae0a-833ee29fc063\",\"operator\":{\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\"rightValue\":\"text\"}]},\"renameOutput\":true},{\"outputKey\":\"img\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"b7770f5b-dfb5-4b7a-8dc1-4404337dbfde\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\"rightValue\":\"image\"}]},\"renameOutput\":true},{\"outputKey\":\"audio\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9faa9dd4-32ce-4287-b7e5-885a42a62e32\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\"rightValue\":\"audio\"}]},\"renameOutput\":true},{\"outputKey\":\"else\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"f4dbfa6a-a7f8-4c32-a94d-da384f37c0d1\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":true,\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{}},\"typeVersion\":3.2},{\"id\":\"30e52c17-5231-43df-8da7-e5eb20e88846\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[380,-100],\"parameters\":{\"color\":5,\"width\":360,\"height\":560,\"content\":\"**Router for Text, Image, Voice, and others\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"e580dcf4-ad46-4a2a-a881-51e6ae71a236\",\"name\":\"Get Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[840,-40],\"parameters\":{\"url\":\"=https://api-data.line.me/v2/bot/message/{{ $('Line Webhook').item.json.body.events[0].message.id }}/content\",\"options\":{},\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"b0efee4c-0904-4774-b962-aee11886e8c7\",\"name\":\"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1320,0],\"parameters\":{\"url\":\"https://openrouter.ai/api/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"qwen/qwen2.5-vl-72b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english for all the text in the image\\\"\\n    },\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"image_url\\\",\\n          \\\"image_url\\\": {\\n            \\\"url\\\": \\\"data:image/jpeg;base64,{{ $json.img_prompt }}\\\"\\n          }\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"7Y8q0dS2Y1fcvzTl\",\"name\":\"OpenRouter.ai\"}},\"typeVersion\":4.2},{\"id\":\"b7fc7675-f8d7-4e7e-bec3-f9c626ba1728\",\"name\":\"OpenRouter: qwen/qwen-2.5-72b-instruct:free\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1320,-460],\"parameters\":{\"url\":\"https://openrouter.ai/api/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"qwen/qwen-2.5-72b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english. if the input is in english, you will translate and also provide chinese character, pinyin and translation in english for each word\\\"\\n    },\\n     {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].message.text }}\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"7Y8q0dS2Y1fcvzTl\",\"name\":\"OpenRouter.ai\"}},\"typeVersion\":4.2},{\"id\":\"84ad9eae-c6fc-4a02-b5cc-0a0b1755d5a8\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1580,-100],\"parameters\":{\"color\":4,\"width\":360,\"height\":300,\"content\":\"**Line Reply**\\nSimilar to above but from different route\"},\"typeVersion\":1},{\"id\":\"dade001e-80c6-4add-9c6c-e4583f7fcf72\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1200,-100],\"parameters\":{\"color\":2,\"width\":360,\"height\":300,\"content\":\"**OpenRouter.ai**\\nWe will use image as prompt and change the model to support image. \\n\"},\"typeVersion\":1},{\"id\":\"54157315-3898-4e48-9598-1a5533803674\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[780,-100],\"parameters\":{\"color\":6,\"width\":380,\"height\":300,\"content\":\"**Pre-processing**\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nWe need to use get media API to get the data from Line and also move it to base64 file to prompt\"},\"typeVersion\":1},{\"id\":\"df058683-5649-4143-b3ce-e39c7b209065\",\"name\":\"Extract from File\",\"type\":\"n8n-nodes-base.extractFromFile\",\"position\":[1000,-40],\"parameters\":{\"options\":{},\"operation\":\"binaryToPropery\",\"destinationKey\":\"img_prompt\"},\"typeVersion\":1},{\"id\":\"23a1ee09-d967-45de-a87a-bf7bc5473f53\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[940,240],\"parameters\":{\"color\":4,\"width\":360,\"height\":420,\"content\":\"**Line Reply**\\nTo reply that message is not supported\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},\"typeVersion\":1},{\"id\":\"9d968370-6c55-480a-b09b-a16e55b855a3\",\"name\":\"Line Reply (image)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1700,0],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/reply\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"fed14d64-d3ea-4a17-98d5-28d889ac4ffa\",\"name\":\"Line Reply (Text)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1700,-460],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/reply\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"22b0359f-66f8-4a6a-b2b9-5a516f235aef\",\"name\":\"Line Reply (Not Supported 2)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1060,500],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/reply\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"Please try again. Message type is not supported\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2},{\"id\":\"a5d4ad30-71b8-4544-88a0-5cfbb0a79013\",\"name\":\"Line Reply (Not Supported 1)\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1060,320],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/reply\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"Please try again. Message type is not supported\\\"\\n    }\\n  ]\\n} \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"3IEOzxKOUr6OEXyU\",\"name\":\"Line @405jtfqs LazyChinese\"}},\"typeVersion\":4.2}],\"active\":true,\"pinData\":{},\"settings\":{\"timezone\":\"Asia/Bangkok\",\"callerPolicy\":\"workflowsFromSameOwner\",\"errorWorkflow\":\"A8HoJ5iCrAMPbsLh\",\"executionOrder\":\"v1\"},\"versionId\":\"7e072a04-5169-4bfd-8391-2797f4714d0c\",\"connections\":{\"Switch\":{\"main\":[[{\"node\":\"OpenRouter: qwen/qwen-2.5-72b-instruct:free\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Image\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Line Reply (Not Supported 1)\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Line Reply (Not Supported 2)\",\"type\":\"main\",\"index\":0}]]},\"Get Image\":{\"main\":[[{\"node\":\"Extract from File\",\"type\":\"main\",\"index\":0}]]},\"Line Webhook\":{\"main\":[[{\"node\":\"Line Loading Animation\",\"type\":\"main\",\"index\":0}]]},\"Extract from File\":{\"main\":[[{\"node\":\"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\",\"type\":\"main\",\"index\":0}]]},\"Line Loading Animation\":{\"main\":[[{\"node\":\"Switch\",\"type\":\"main\",\"index\":0}]]},\"OpenRouter: qwen/qwen-2.5-72b-instruct:free\":{\"main\":[[{\"node\":\"Line Reply (Text)\",\"type\":\"main\",\"index\":0}]]},\"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\":{\"main\":[[{\"node\":\"Line Reply (image)\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This workflow template, \"Chinese Translator via Line x OpenRouter (Text & Image)\" is designed to provide seamless Chinese translation services directly within the LINE messaging platform. By integrating with [OpenRouter.ai](http://OpenRouter.ai) and advanced language models like Qwen, this workflow translates text or images containing Chinese characters into pinyin and English translations, making it an invaluable tool for language learners, travelers, and businesses operating in multilingual environments.\n\n## This template is ideal for:\n\n  * Language Learners: Who want to practice Chinese by receiving instant translations of text or images.\n  * Travelers: Looking for quick translations of Chinese signs, menus, or documents while abroad.\n  * Educators: Teaching Chinese language courses and needing tools to assist students with translations.\n  * Businesses: Operating in multilingual markets and requiring efficient communication tools.\n  * Automation Enthusiasts: Seeking to build intelligent chatbots that can handle language translation tasks.\n\n\n\n## What Problem Does This Workflow Solve?\n\nTranslating Chinese text or images into English and pinyin can be challenging, especially for beginners or those without access to reliable translation tools. This workflow solves that problem by:\n\n  * Automatically detecting and translating text or images containing Chinese characters.  \nProviding accurate translations in both pinyin and English for better comprehension.\n  * Supporting multiple input formats (text, images) to cater to diverse user needs.  \nSending replies directly to users via the LINE messaging platform , ensuring accessibility and ease of use.\n\n\n\n## What This Workflow Does\n\n  1. **Receive Messages via LINE Webhook**  \nThe workflow is triggered when a user sends a message (text, image, or other types) to the LINE bot.\n  2. **Display Loading Animation**  \nA loading animation is displayed to reassure the user that their request is being processed.\n  3. **Route Input Types**  \nThe workflow uses a Switch node to determine the type of input (text, image, or unsupported formats).\n\n\n  * If the input is text , it is sent to the [OpenRouter.ai](http://OpenRouter.ai) API for translation.\n  * If the input is an image , the workflow extracts the image content, converts it to base64, and sends it to the API for translation.\n  * Unsupported formats trigger a polite response indicating the limitation.\n\n\n  1. **Translate Content Using[OpenRouter.ai](http://OpenRouter.ai)**  \nThe workflow leverages Qwen models from [OpenRouter.ai](http://OpenRouter.ai) to generate translations:\n\n\n  * For text inputs, it provides Chinese characters , pinyin , and English translations .\n  * For images, it extracts and translates using the qwen-VL model which can take images\n\n\n  1. **Reply with Translations**  \nThe translated content is formatted and sent back to the user via the LINE Reply API.\n\n\n\n## Setup Guide\n\n**Pre-Requisites**\n\n  * Access to the LINE Developers Console to configure your webhook and channel access token.\n  * An [OpenRouter.ai](http://OpenRouter.ai) account with credentials to access Qwen models.\n  * Basic knowledge of APIs, webhooks, and JSON formatting.\n\n\n\n**Step-by-Step Setup**\n\n  1. Configure the LINE Webhook:  \nGo to the LINE Developers Console and set up a webhook to receive incoming messages.  \nCopy the Webhook URL from the Line Webhook node and paste it into the LINE Console.  \nRemove any \"test\" configurations when moving to production.\n  2. Set Up [OpenRouter.ai](http://OpenRouter.ai):  \nCreate an account on [OpenRouter.ai](http://OpenRouter.ai) and obtain your API credentials.  \nConnect your credentials to the OpenRouter nodes in the workflow.\n  3. Test the Workflow:  \nSimulate sending text or images to the LINE bot to verify that translations are processed and replied correctly.\n\n\n\n## How to Customize This Workflow to Your Needs\n\n  * Add More Languages: Extend the workflow to support additional languages by modifying the API calls.\n  * Enhance Image Processing: Integrate more advanced OCR tools to improve text extraction from complex images.\n  * Customize Responses: Modify the reply format to include additional details, such as grammar explanations or cultural context.\n  * Expand Use Cases: Adapt the workflow for specific industries, such as tourism or e-commerce, by tailoring the translations to relevant vocabulary.\n\n\n\n## Why Use This Template?\n\n  * Real-Time Translation: Provides instant translations of text and images, improving user experience and accessibility.\n  * Multimodal Support: Handles both text and image inputs, catering to diverse user needs.\n  * Scalable: Easily integrate into existing systems or scale to support multiple users and workflows.\n  * Customizable: Tailor the workflow to suit your specific audience or industry requirements.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This workflow template, \"Chinese Translator via Line x OpenRouter (Text &amp; Image)\" is designed to provide seamless Chinese translation services directly within the LINE messaging platform. By integrating with <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a> and advanced language models like Qwen, this workflow translates text or images containing Chinese characters into pinyin and English translations, making it an invaluable tool for language learners, travelers, and businesses operating in multilingual environments.</p>\n<h2>This template is ideal for:</h2>\n<ul>\n<li>Language Learners: Who want to practice Chinese by receiving instant translations of text or images.</li>\n<li>Travelers: Looking for quick translations of Chinese signs, menus, or documents while abroad.</li>\n<li>Educators: Teaching Chinese language courses and needing tools to assist students with translations.</li>\n<li>Businesses: Operating in multilingual markets and requiring efficient communication tools.</li>\n<li>Automation Enthusiasts: Seeking to build intelligent chatbots that can handle language translation tasks.</li>\n</ul>\n<h2>What Problem Does This Workflow Solve?</h2>\n<p>Translating Chinese text or images into English and pinyin can be challenging, especially for beginners or those without access to reliable translation tools. This workflow solves that problem by:</p>\n<ul>\n<li>Automatically detecting and translating text or images containing Chinese characters.<br>\nProviding accurate translations in both pinyin and English for better comprehension.</li>\n<li>Supporting multiple input formats (text, images) to cater to diverse user needs.<br>\nSending replies directly to users via the LINE messaging platform , ensuring accessibility and ease of use.</li>\n</ul>\n<h2>What This Workflow Does</h2>\n<ol>\n<li><strong>Receive Messages via LINE Webhook</strong><br>\nThe workflow is triggered when a user sends a message (text, image, or other types) to the LINE bot.</li>\n<li><strong>Display Loading Animation</strong><br>\nA loading animation is displayed to reassure the user that their request is being processed.</li>\n<li><strong>Route Input Types</strong><br>\nThe workflow uses a Switch node to determine the type of input (text, image, or unsupported formats).</li>\n</ol>\n<ul>\n<li>If the input is text , it is sent to the <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a> API for translation.</li>\n<li>If the input is an image , the workflow extracts the image content, converts it to base64, and sends it to the API for translation.</li>\n<li>Unsupported formats trigger a polite response indicating the limitation.</li>\n</ul>\n<ol>\n<li><strong>Translate Content Using <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a></strong><br>\nThe workflow leverages Qwen models from <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a> to generate translations:</li>\n</ol>\n<ul>\n<li>For text inputs, it provides Chinese characters , pinyin , and English translations .</li>\n<li>For images, it extracts and translates using the qwen-VL model which can take images</li>\n</ul>\n<ol>\n<li><strong>Reply with Translations</strong><br>\nThe translated content is formatted and sent back to the user via the LINE Reply API.</li>\n</ol>\n<h2>Setup Guide</h2>\n<p><strong>Pre-Requisites</strong></p>\n<ul>\n<li>Access to the LINE Developers Console to configure your webhook and channel access token.</li>\n<li>An <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a> account with credentials to access Qwen models.</li>\n<li>Basic knowledge of APIs, webhooks, and JSON formatting.</li>\n</ul>\n<p><strong>Step-by-Step Setup</strong></p>\n<ol>\n<li>Configure the LINE Webhook:<br>\nGo to the LINE Developers Console and set up a webhook to receive incoming messages.<br>\nCopy the Webhook URL from the Line Webhook node and paste it into the LINE Console.<br>\nRemove any \"test\" configurations when moving to production.</li>\n<li>Set Up <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a>:<br>\nCreate an account on <a href=\"http://OpenRouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">OpenRouter.ai</a> and obtain your API credentials.<br>\nConnect your credentials to the OpenRouter nodes in the workflow.</li>\n<li>Test the Workflow:<br>\nSimulate sending text or images to the LINE bot to verify that translations are processed and replied correctly.</li>\n</ol>\n<h2>How to Customize This Workflow to Your Needs</h2>\n<ul>\n<li>Add More Languages: Extend the workflow to support additional languages by modifying the API calls.</li>\n<li>Enhance Image Processing: Integrate more advanced OCR tools to improve text extraction from complex images.</li>\n<li>Customize Responses: Modify the reply format to include additional details, such as grammar explanations or cultural context.</li>\n<li>Expand Use Cases: Adapt the workflow for specific industries, such as tourism or e-commerce, by tailoring the translations to relevant vocabulary.</li>\n</ul>\n<h2>Why Use This Template?</h2>\n<ul>\n<li>Real-Time Translation: Provides instant translations of text and images, improving user experience and accessibility.</li>\n<li>Multimodal Support: Handles both text and image inputs, catering to diverse user needs.</li>\n<li>Scalable: Easily integrate into existing systems or scale to support multiple users and workflows.</li>\n<li>Customizable: Tailor the workflow to suit your specific audience or industry requirements.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "该工作流模板“LINE x OpenRouter 中文翻译助手（支持图文）”专为在LINE即时通讯平台内提供无缝中文翻译服务而设计。通过集成[OpenRouter.ai](http://OpenRouter.ai)平台及Qwen等先进语言模型，可将包含中文的文本或图片即时转换为拼音与英文翻译，是语言学习者、跨国旅行者及多语言商务场景的实用工具。\n\n## 适用场景\n\n* **语言学习者**：通过即时获取中文图文翻译辅助学习\n* **出境旅客**：快速翻译路标、菜单、文件等中文内容\n* **教育工作者**：中文课程教学中辅助学生理解翻译\n* **跨国企业**：多语言市场运营中提升沟通效率\n* **自动化开发者**：构建具备智能翻译功能的聊天机器人\n\n## 核心价值\n\n针对中文图文转译英文及拼音的痛点，本方案提供：\n* 自动识别并翻译含中文的图文内容\n* 同步输出拼音与英文的双重译注\n* 支持文本/图片多格式输入\n* 通过LINE平台直接返回结果，操作便捷\n\n## 工作流程\n\n1. **LINE Webhook接收**  \n用户向LINE机器人发送消息（文字/图片等）触发流程\n2. **加载动画展示**  \n显示处理状态提升用户体验\n3. **输入类型分流**  \n通过Switch节点判断输入类型：\n   - 文本内容：发送至[OpenRouter.ai](http://OpenRouter.ai) API翻译\n   - 图片内容：转码为base64后提交翻译\n   - 不支持格式：返回友好提示\n4. **智能翻译引擎**  \n调用Qwen系列模型实现：\n   - 文本输入：输出中文原文+拼音标注+英文翻译\n   - 图片输入：通过qwen-VL模型实现图文转换翻译\n5. **结果返回**  \n通过LINE Reply API格式化输出翻译结果\n\n## 配置指南\n\n**前期准备**\n* LINE Developers Console配置权限\n* [OpenRouter.ai](http://OpenRouter.ai)账号及API密钥\n* 基础API/JSON知识\n\n**部署步骤**\n1. 配置LINE Webhook  \n   - 在开发者控制台设置接收消息的Webhook  \n   - 绑定Line Webhook节点提供的URL  \n   - 生产环境需移除测试配置\n2. 设置OpenRouter  \n   - 注册账号并获取API凭证  \n   - 将凭证接入工作流对应节点\n3. 功能测试  \n   - 模拟发送图文消息验证翻译准确性\n\n## 定制化建议\n\n* **多语言扩展**：修改API调用支持更多语种\n* **图像处理增强**：集成高级OCR工具提升复杂图片识别率\n* **回复模板优化**：增加语法解析、文化背景等附加信息\n* **垂直场景适配**：针对旅游/电商等行业定制专业术语库\n\n## 模板优势\n\n* **实时响应**：毫秒级图文翻译体验\n* **多模态处理**：全面支持文字/图像双输入\n* **弹性扩展**：轻松对接现有系统架构\n* **灵活定制**：可根据行业需求深度适配\n\n（注：所有超链接保留原始英文格式以确保功能正常调用）",
  "title_zh": "通过Line x OpenRouter的中文翻译器（支持文本与图片）",
  "publish_date_absolute": "",
  "publish_date_zh": "最后一次更新于一个月前",
  "workflow_json_zh": "{\n  \"id\": \"iFkGAiVn3yBlykIG\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\"\n  },\n  \"name\": \"Chinese Translator\",\n  \"tags\": [\n    {\n      \"id\": \"IhTa6egt1w8uqn9Z\",\n      \"name\": \"_ACTIVE\",\n      \"createdAt\": \"2025-03-12T05:07:05.060Z\",\n      \"updatedAt\": \"2025-03-12T05:07:05.060Z\"\n    },\n    {\n      \"id\": \"0xpEHcJjNRRRMtEj\",\n      \"name\": \"lin\",\n      \"createdAt\": \"2025-03-12T05:06:24.112Z\",\n      \"updatedAt\": \"2025-03-12T05:06:24.112Z\"\n    },\n    {\n      \"id\": \"Q0IWVCdrzoxXDC7z\",\n      \"name\": \"error_linlinmhee_line\",\n      \"createdAt\": \"2025-03-12T06:37:16.225Z\",\n      \"updatedAt\": \"2025-03-12T06:37:16.225Z\"\n    },\n    {\n      \"id\": \"U1ozjO3iXQZWUyfG\",\n      \"name\": \"_Blueprint\",\n      \"createdAt\": \"2025-03-12T06:24:40.268Z\",\n      \"updatedAt\": \"2025-03-12T06:24:40.268Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"3ebfb7f1-b655-405b-8bde-0219fa92d09c\",\n      \"name\": \"Line Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -260,\n        -20\n      ],\n      \"webhookId\": \"b2b119e6-6de5-4684-9a51-4706a1c20caf\",\n      \"parameters\": {\n        \"path\": \"cn\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"63ae844f-dfc3-4e8f-97d0-c0ec4be7858f\",\n      \"name\": \"Line Loading Animation\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        120,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/chat/loading/start\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"chatId\\\": \\\"{{ $json.body.events[0].source.userId }}\\\",\\n    \\\"loadingSeconds\\\": 60\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7e4cc2a0-958c-4111-909c-fba75a428d5e\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**来自Line的Webhook**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"767827b2-fbca-4dbb-b392-749c25a56c93\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**Line加载动画**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8cdafc15-3bf8-45e9-8081-901d5c5a7880\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        -540\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 360,\n        \"height\": 420,\n        \"content\": \"**OpenRouter.ai**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3e2f4acf-771c-4d55-a13e-b4c874136574\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1580,\n        -540\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 420,\n        \"content\": \"**Line 回复**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b17eddaf-da3e-4e21-ab33-9e71f385d734\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -200\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 780,\n        \"height\": 80,\n        \"content\": \"## 你可以通过添加Line @405jtfqs来测试这个工作流程\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5ce9db0a-0c84-48df-828c-591d01a47bc8\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        500,\n        -20\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"text\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"9f8075cf-8f3f-419f-ae0a-833ee29fc063\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\n                    \"rightValue\": \"text\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"img\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"b7770f5b-dfb5-4b7a-8dc1-4404337dbfde\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\n                    \"rightValue\": \"image\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"audio\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"9faa9dd4-32ce-4287-b7e5-885a42a62e32\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Line Webhook').item.json.body.events[0].message.type }}\",\n                    \"rightValue\": \"audio\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"else\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"f4dbfa6a-a7f8-4c32-a94d-da384f37c0d1\",\n                    \"operator\": {\n                      \"type\": \"boolean\",\n                      \"operation\": \"true\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": true,\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"30e52c17-5231-43df-8da7-e5eb20e88846\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 360,\n        \"height\": 560,\n        \"content\": \"**文本、图像、语音等多模态路由器\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e580dcf4-ad46-4a2a-a881-51e6ae71a236\",\n      \"name\": \"Get Image\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        840,\n        -40\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api-data.line.me/v2/bot/message/{{ $('Line Webhook').item.json.body.events[0].message.id }}/content\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"b0efee4c-0904-4774-b962-aee11886e8c7\",\n      \"name\": \"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1320,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://openrouter.ai/api/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"qwen/qwen2.5-vl-72b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english for all the text in the image\\\"\\n    },\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"image_url\\\",\\n          \\\"image_url\\\": {\\n            \\\"url\\\": \\\"data:image/jpeg;base64,{{ $json.img_prompt }}\\\"\\n          }\\n        }\\n      ]\\n    }\\n  ]\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"7Y8q0dS2Y1fcvzTl\",\n          \"name\": \"OpenRouter.ai\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"b7fc7675-f8d7-4e7e-bec3-f9c626ba1728\",\n      \"name\": \"OpenRouter: qwen/qwen-2.5-72b-instruct:free\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1320,\n        -460\n      ],\n      \"parameters\": {\n        \"url\": \"https://openrouter.ai/api/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"qwen/qwen-2.5-72b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"system\\\",\\n      \\\"content\\\": \\\"please provide chinese character, pinyin and translation in english. if the input is in english, you will translate and also provide chinese character, pinyin and translation in english for each word\\\"\\n    },\\n     {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].message.text }}\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"7Y8q0dS2Y1fcvzTl\",\n          \"name\": \"OpenRouter.ai\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"84ad9eae-c6fc-4a02-b5cc-0a0b1755d5a8\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1580,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 300,\n        \"content\": \"**线路回复**\\n与上述类似，但路径不同\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dade001e-80c6-4add-9c6c-e4583f7fcf72\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 360,\n        \"height\": 300,\n        \"content\": \"**OpenRouter.ai**\\n我们将使用图片作为提示，并调整模型以支持图像输入。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"54157315-3898-4e48-9598-1a5533803674\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        780,\n        -100\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 380,\n        \"height\": 300,\n        \"content\": \"**预处理**\\n\\n我们需要使用获取媒体API从Line获取数据，并将其转换为base64文件以便提示。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"df058683-5649-4143-b3ce-e39c7b209065\",\n      \"name\": \"Extract from File\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        1000,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"binaryToPropery\",\n        \"destinationKey\": \"img_prompt\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"23a1ee09-d967-45de-a87a-bf7bc5473f53\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 360,\n        \"height\": 420,\n        \"content\": \"**线路回复**\\n回复该消息不被支持\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9d968370-6c55-480a-b09b-a16e55b855a3\",\n      \"name\": \"Line Reply (image)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1700,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/reply\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"fed14d64-d3ea-4a17-98d5-28d889ac4ffa\",\n      \"name\": \"Line Reply (Text)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1700,\n        -460\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/reply\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"22b0359f-66f8-4a6a-b2b9-5a516f235aef\",\n      \"name\": \"Line Reply (Not Supported 2)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1060,\n        500\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/reply\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"Please try again. Message type is not supported\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a5d4ad30-71b8-4544-88a0-5cfbb0a79013\",\n      \"name\": \"Line Reply (Not Supported 1)\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1060,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/reply\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"replyToken\\\": \\\"{{ $('Line Webhook').item.json.body.events[0].replyToken }}\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"Please try again. Message type is not supported\\\"\\n    }\\n  ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"3IEOzxKOUr6OEXyU\",\n          \"name\": \"Line @405jtfqs LazyChinese\"\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Bangkok\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"errorWorkflow\": \"A8HoJ5iCrAMPbsLh\",\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"7e072a04-5169-4bfd-8391-2797f4714d0c\",\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenRouter: qwen/qwen-2.5-72b-instruct:free\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Line Reply (Not Supported 1)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Line Reply (Not Supported 2)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract from File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Line Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Loading Animation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract from File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Line Loading Animation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenRouter: qwen/qwen-2.5-72b-instruct:free\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Reply (Text)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenRouter : qwen/qwen2.5-vl-72b-instruct:free\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Reply (image)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}