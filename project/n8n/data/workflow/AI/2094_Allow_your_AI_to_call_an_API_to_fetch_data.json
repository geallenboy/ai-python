{
  "title": "Allow your AI to call an API to fetch data",
  "url": "https://n8n.io/workflows/2094-allow-your-ai-to-call-an-api-to-fetch-data/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Deborah",
  "publish_date": "Last update a month ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"12061ba0-24f8-4853-9898-c8710b118959\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,500],\"parameters\":{\"color\":7,\"width\":1260,\"height\":635,\"content\":\"### Sub-workflow: Custom tool\\nThe agent above can call this workflow. It calls an example API called \\\"Bored API\\\" and returns a string with an activity idea.\"},\"typeVersion\":1},{\"id\":\"4a2101f4-de86-4b2c-9fbc-5a75e73e3a26\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,0],\"parameters\":{\"color\":7,\"width\":927.5,\"height\":486.5625,\"content\":\"### Main workflow: AI agent using custom tool\"},\"typeVersion\":1},{\"id\":\"102ec972-1784-4b89-be6f-1d4bd8f85cf1\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[660,240],\"parameters\":{\"color\":5,\"width\":177,\"height\":199,\"content\":\"**This tool calls the sub-workflow below**\"},\"typeVersion\":1},{\"id\":\"707d76f1-0b45-4347-b16a-3b66906711bc\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[300,240],\"parameters\":{\"color\":2,\"width\":170,\"height\":191,\"content\":\"**Set your credentials**\"},\"typeVersion\":1},{\"id\":\"d2a9637b-d988-4978-a112-4b96f279f0c0\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[280,840],\"parameters\":{\"color\":2,\"width\":170,\"height\":190,\"content\":\"**Set your credentials**\"},\"typeVersion\":1},{\"id\":\"02f5308b-61db-467d-84f4-8b2ae8655dfd\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-160,80],\"parameters\":{\"color\":4,\"width\":185.9375,\"height\":214.8397420554627,\"content\":\"## Try it out\\n\\nSelect **Chat** at the bottom and enter:\\n\\n_Hi! Please suggest something to do. I feel like learning something new._\"},\"typeVersion\":1},{\"id\":\"c012dfad-0ed8-4072-9c57-24f48aadd620\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[960,920],\"parameters\":{\"width\":280,\"height\":145,\"content\":\"## Next steps\\n\\nLearn more about [Advanced AI in n8n](https://docs.n8n.io/advanced-ai/)\"},\"typeVersion\":1},{\"id\":\"39e0c9eb-5736-46a0-b4ce-64425f56ba8c\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"position\":[160,80],\"webhookId\":\"34e91943-c4e0-4a87-8a0f-68cbd2bca3fb\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"38dad34c-116b-4673-b338-6fbf1d019bab\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[340,300],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"78af18c4-3541-4ff2-8526-fb186614051b\",\"name\":\"Simple Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[520,300],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"45f17ad3-f7da-4d98-a597-f66c2efdbbea\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[120,660],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"chatInput\"}]}},\"typeVersion\":1.1},{\"id\":\"135ac846-fcc7-4754-8127-6a810b76594a\",\"name\":\"OpenAI Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[320,900],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"8e9d8b39-a7a4-44fb-8ac4-0555e632f0df\",\"name\":\"Work out activity type and number of people1\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[340,660],\"parameters\":{\"text\":\"={{ $('When Executed by Another Workflow').item.json.chatInput }}\",\"options\":{},\"schemaType\":\"manual\",\"inputSchema\":\"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"required\\\": [\\\"type\\\",\\\"participants\\\"],\\n  \\\"properties\\\": {\\n    \\\"type\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {\\n        \\\"data\\\": {\\n          \\\"enum\\\": [\\\"education\\\", \\\"recreational\\\",\\\"social\\\",\\\"diy\\\",\\\"charity\\\",\\\"cooking\\\",\\\"relaxation\\\",\\\"music\\\",\\\"busywork\\\"]\\n        }\\n      }\\n    },\\n    \\\"participants\\\": {\\n      \\\"type\\\": \\\"number\\\"\\n    }\\n  }\\n}\"},\"typeVersion\":1},{\"id\":\"312f12d9-db30-48b0-aca3-a6c3a0250b2d\",\"name\":\"Call the API\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,660],\"parameters\":{\"url\":\"https://bored-api.appbrewery.com/filter\",\"options\":{},\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"type\",\"value\":\"={{ $json.output.type.data }}\"},{\"name\":\"participicants\",\"value\":\"={{ $json.output.participants }}\"}]}},\"typeVersion\":4.2},{\"id\":\"0e97b6c1-3291-44a2-bf35-39335b9b90a1\",\"name\":\"Activity Tool\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[700,300],\"parameters\":{\"name\":\"activity_tool\",\"workflowId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $workflow.id }}\"},\"description\":\"Suggest an activity for a person to do. Use this tool if someone is bored, or asking for ideas of things to do.\",\"workflowInputs\":{\"value\":{\"chatInput\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}\"},\"schema\":[{\"id\":\"chatInput\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"chatInput\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2},{\"id\":\"256b8adc-ef71-40da-a40c-10a1045c9d7d\",\"name\":\"Set 'response' value\",\"type\":\"n8n-nodes-base.set\",\"position\":[1060,660],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"c78b10cd-7d6d-4512-ad0b-6f6ec3c706b2\",\"name\":\"response\",\"type\":\"string\",\"value\":\"={{ $json.data }}\"}]}},\"typeVersion\":3.4},{\"id\":\"ede9e3c2-c3ce-44bd-92be-51eb90d086dc\",\"name\":\"Combine\",\"type\":\"n8n-nodes-base.aggregate\",\"position\":[880,660],\"parameters\":{\"include\":\"specifiedFields\",\"options\":{},\"aggregate\":\"aggregateAllItemData\",\"fieldsToInclude\":\"activity\"},\"typeVersion\":1},{\"id\":\"b4b49c7f-5491-416c-98d1-518372329c77\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[420,80],\"parameters\":{\"options\":{}},\"typeVersion\":1.8}],\"pinData\":{},\"connections\":{\"Combine\":{\"main\":[[{\"node\":\"Set 'response' value\",\"type\":\"main\",\"index\":0}]]},\"Call the API\":{\"main\":[[{\"node\":\"Combine\",\"type\":\"main\",\"index\":0}]]},\"Activity Tool\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Simple Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"OpenAI Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Work out activity type and number of people1\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"When chat message received\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Work out activity type and number of people1\",\"type\":\"main\",\"index\":0}]]},\"Work out activity type and number of people1\":{\"main\":[[{\"node\":\"Call the API\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "Use n8n to bring data from any API to your AI. This workflow uses the [Chat Trigger](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/) to provide the chat interface, and the [Custom n8n Workflow Tool](https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolworkflow/) to call a second workflow that calls the API.\n\nThe second workflow uses AI functionality to refine the API request based on the user's query. It then makes an API call, and returns the response to the main workflow.\n\nThis workflow is used in [Advanced AI examples | Call an API to fetch data](https://docs.n8n.io/advanced-ai/examples/api-workflow-tool/) in the documentation.\n\nTo use this workflow:\n\n  1. Load it into your n8n instance.\n  2. Add your credentials as prompted by the notes.\n\n\n\n**Requires n8n 1.28.0 or above**\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>Use n8n to bring data from any API to your AI. This workflow uses the <a href=\"https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/\" rel=\"ugc nofollow\" target=\"_blank\">Chat Trigger</a> to provide the chat interface, and the <a href=\"https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolworkflow/\" rel=\"ugc nofollow\" target=\"_blank\">Custom n8n Workflow Tool</a> to call a second workflow that calls the API.</p>\n<p>The second workflow uses AI functionality to refine the API request based on the user's query. It then makes an API call, and returns the response to the main workflow.</p>\n<p>This workflow is used in <a href=\"https://docs.n8n.io/advanced-ai/examples/api-workflow-tool/\" rel=\"ugc nofollow\" target=\"_blank\">Advanced AI examples | Call an API to fetch data</a> in the documentation.</p>\n<p>To use this workflow:</p>\n<ol>\n<li>Load it into your n8n instance.</li>\n<li>Add your credentials as prompted by the notes.</li>\n</ol>\n<p><strong>Requires n8n 1.28.0 or above</strong></p>\n</div><!--]-->",
  "readme_zh": "使用n8n将任何API的数据接入你的AI。该工作流采用[聊天触发器节点](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/)提供对话界面，并通过[自定义n8n工作流工具节点](https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolworkflow/)调用另一个执行API请求的子工作流。\n\n子工作流运用AI功能根据用户查询优化API请求，发起调用后将响应返回主工作流。\n\n此工作流应用案例详见文档中的[高级AI示例|调用API获取数据](https://docs.n8n.io/advanced-ai/examples/api-workflow-tool/)。\n\n使用步骤：\n1. 将工作流导入n8n实例\n2. 按提示添加凭证信息\n\n**需n8n 1.28.0及以上版本**",
  "title_zh": "让你的AI调用API来获取数据",
  "publish_date_absolute": "",
  "publish_date_zh": "上次更新于一个月前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"12061ba0-24f8-4853-9898-c8710b118959\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        500\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1260,\n        \"height\": 635,\n        \"content\": \"### 子工作流：自定义工具\\n上述代理可调用此工作流程。该流程会调用名为\\\"Bored API\\\"的示例接口，并返回一个包含活动建议的字符串。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4a2101f4-de86-4b2c-9fbc-5a75e73e3a26\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 927.5,\n        \"height\": 486.5625,\n        \"content\": \"### 主要工作流程：AI代理使用自定义工具\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"102ec972-1784-4b89-be6f-1d4bd8f85cf1\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 177,\n        \"height\": 199,\n        \"content\": \"**此工具调用以下子工作流程**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"707d76f1-0b45-4347-b16a-3b66906711bc\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        300,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 170,\n        \"height\": 191,\n        \"content\": \"**设置您的凭据**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d2a9637b-d988-4978-a112-4b96f279f0c0\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        280,\n        840\n      ],\n      \"parameters\": {\n        \"color\": 2,\n        \"width\": 170,\n        \"height\": 190,\n        \"content\": \"**设置您的凭据**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"02f5308b-61db-467d-84f4-8b2ae8655dfd\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -160,\n        80\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 185.9375,\n        \"height\": 214.8397420554627,\n        \"content\": \"## 试试看\\n\\n点击底部的**聊天**按钮，输入：\\n\\n_你好！请推荐些事情做。我想学点新东西。_\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c012dfad-0ed8-4072-9c57-24f48aadd620\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        960,\n        920\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 145,\n        \"content\": \"## 后续步骤\\n\\n了解更多关于 [n8n中的高级AI功能](https://docs.n8n.io/zh-hans/advanced-ai/)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"39e0c9eb-5736-46a0-b4ce-64425f56ba8c\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        160,\n        80\n      ],\n      \"webhookId\": \"34e91943-c4e0-4a87-8a0f-68cbd2bca3fb\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"38dad34c-116b-4673-b338-6fbf1d019bab\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        340,\n        300\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"78af18c4-3541-4ff2-8526-fb186614051b\",\n      \"name\": \"Simple Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        520,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"45f17ad3-f7da-4d98-a597-f66c2efdbbea\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        120,\n        660\n      ],\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"chatInput\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"135ac846-fcc7-4754-8127-6a810b76594a\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        320,\n        900\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"8e9d8b39-a7a4-44fb-8ac4-0555e632f0df\",\n      \"name\": \"Work out activity type and number of people1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        340,\n        660\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $('When Executed by Another Workflow').item.json.chatInput }}\",\n        \"options\": {},\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"required\\\": [\\\"type\\\",\\\"participants\\\"],\\n  \\\"properties\\\": {\\n    \\\"type\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {\\n        \\\"data\\\": {\\n          \\\"enum\\\": [\\\"education\\\", \\\"recreational\\\",\\\"social\\\",\\\"diy\\\",\\\"charity\\\",\\\"cooking\\\",\\\"relaxation\\\",\\\"music\\\",\\\"busywork\\\"]\\n        }\\n      }\\n    },\\n    \\\"participants\\\": {\\n      \\\"type\\\": \\\"number\\\"\\n    }\\n  }\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"312f12d9-db30-48b0-aca3-a6c3a0250b2d\",\n      \"name\": \"Call the API\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        660\n      ],\n      \"parameters\": {\n        \"url\": \"https://bored-api.appbrewery.com/filter\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"type\",\n              \"value\": \"={{ $json.output.type.data }}\"\n            },\n            {\n              \"name\": \"participicants\",\n              \"value\": \"={{ $json.output.participants }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0e97b6c1-3291-44a2-bf35-39335b9b90a1\",\n      \"name\": \"Activity Tool\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        700,\n        300\n      ],\n      \"parameters\": {\n        \"name\": \"activity_tool\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Suggest an activity for a person to do. Use this tool if someone is bored, or asking for ideas of things to do.\",\n        \"workflowInputs\": {\n          \"value\": {\n            \"chatInput\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"chatInput\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"chatInput\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"256b8adc-ef71-40da-a40c-10a1045c9d7d\",\n      \"name\": \"Set 'response' value\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1060,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c78b10cd-7d6d-4512-ad0b-6f6ec3c706b2\",\n              \"name\": \"response\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"ede9e3c2-c3ce-44bd-92be-51eb90d086dc\",\n      \"name\": \"Combine\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        880,\n        660\n      ],\n      \"parameters\": {\n        \"include\": \"specifiedFields\",\n        \"options\": {},\n        \"aggregate\": \"aggregateAllItemData\",\n        \"fieldsToInclude\": \"activity\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b4b49c7f-5491-416c-98d1-518372329c77\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        420,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.8\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Combine\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set 'response' value\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Call the API\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Combine\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Activity Tool\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simple Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Work out activity type and number of people1\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Work out activity type and number of people1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Work out activity type and number of people1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Call the API\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}