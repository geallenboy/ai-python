{
  "title": "ğŸ‹ğŸ¤– DeepSeek AI Agent + Telegram + LONG TERM Memory ğŸ§ ",
  "url": "https://n8n.io/workflows/2864-deepseek-ai-agent-telegram-long-term-memory/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Joseph LePage",
  "publish_date": "Last update 3 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"rtsvydad1MOCryia\",\"meta\":{\"instanceId\":\"31e69f7f4a77bf465b805824e303232f0227212ae922d12133a0f96ffeab4fef\"},\"name\":\"ğŸ‹ğŸ¤– DeepSeek AI Agent + Telegram + LONG TERM Memory ğŸ§ \",\"tags\":[],\"nodes\":[{\"id\":\"23b50c07-39a8-4166-ab13-9683b3ee25e6\",\"name\":\"Check User & Chat ID\",\"type\":\"n8n-nodes-base.if\",\"position\":[-80,160],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"5fe3c0d8-bd61-4943-b152-9e6315134520\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Listen for Telegram Events').item.json.body.message.from.first_name }}\",\"rightValue\":\"={{ $json.first_name }}\"},{\"id\":\"98a0ea91-0567-459c-bbce-06abc14a49ce\",\"operator\":{\"name\":\"filter.operator.equals\",\"type\":\"string\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Listen for Telegram Events').item.json.body.message.from.last_name }}\",\"rightValue\":\"={{ $json.last_name }}\"},{\"id\":\"18a96c1f-f2a0-4a2a-b789-606763df4423\",\"operator\":{\"type\":\"number\",\"operation\":\"equals\"},\"leftValue\":\"={{ $('Listen for Telegram Events').item.json.body.message.from.id }}\",\"rightValue\":\"={{ $json.id }}\"}]},\"looseTypeValidation\":\"=\"},\"typeVersion\":2.2},{\"id\":\"ecbc13fe-305d-4cdd-b35c-3e119e8e8b5d\",\"name\":\"Error message\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[160,440],\"parameters\":{\"text\":\"=Unable to process your message.\",\"chatId\":\"={{ $json.body.message.chat.id }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"pAIFhguJlkO3c7aQ\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"be722bc7-0b22-4892-967c-fdd398a7b129\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-540,-20],\"parameters\":{\"color\":6,\"width\":949,\"height\":652,\"content\":\"# Receive Telegram Message with Webhook\"},\"typeVersion\":1},{\"id\":\"a3866585-bfee-4025-a8f4-f06fde16171a\",\"name\":\"Listen for Telegram Events\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-480,160],\"webhookId\":\"097f36f3-1574-44f9-815f-58387e3b20bf\",\"parameters\":{\"path\":\"wbot\",\"options\":{\"binaryPropertyName\":\"data\"},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"f70571d5-3680-4616-90fa-3358b0883368\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-1380,-20],\"parameters\":{\"color\":7,\"width\":800,\"height\":860,\"content\":\"# How to set up a Telegram Bot WebHook\\n\\n## WebHook Setup Process\\n\\n**Basic Concept**\\nA WebHook allows your Telegram bot to automatically receive updates instead of manually polling the Bot API.\\n\\n**Setup Method**\\nTo set a WebHook, make a GET request using this URL format:\\n```\\nhttps://api.telegram.org/bot{my_bot_token}/setWebhook?url={url_to_send_updates_to}\\n```\\nWhere:\\n- `my_bot_token`: Your bot token from BotFather\\n- `url_to_send_updates_to`: Your HTTPS endpoint that handles bot updates\\n\\n\\n**Verification**\\nTo verify the WebHook setup, use:\\n```\\nhttps://api.telegram.org/bot{my_bot_token}/getWebhookInfo\\n```\\n\\nA successful response looks like:\\n```json\\n{\\n \\\"ok\\\": true,\\n \\\"result\\\": {\\n   \\\"url\\\": \\\"https://www.example.com/my-telegram-bot/\\\",\\n   \\\"has_custom_certificate\\\": false,\\n   \\\"pending_update_count\\\": 0,\\n   \\\"max_connections\\\": 40\\n }\\n}\\n```\\n\\n\\nThis method provides a simple and efficient way to handle Telegram bot updates automatically through webhooks rather than manual polling.\"},\"typeVersion\":1},{\"id\":\"2b6149d5-ffd6-46ef-9840-149508251a77\",\"name\":\"Validation\",\"type\":\"n8n-nodes-base.set\",\"position\":[-260,160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0cea6da1-652a-4c1e-94c3-30608ced90f8\",\"name\":\"first_name\",\"type\":\"string\",\"value\":\"FirstName\"},{\"id\":\"b90280c6-3e36-49ca-9e7e-e15c42d256cc\",\"name\":\"last_name\",\"type\":\"string\",\"value\":\"LastName\"},{\"id\":\"f6d86283-16ca-447e-8427-7d3d190babc0\",\"name\":\"id\",\"type\":\"number\",\"value\":12345667891}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"41c965ea-b67d-4d6b-82e4-0e57f5fc13bb\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-320,100],\"parameters\":{\"color\":7,\"width\":420,\"height\":260,\"content\":\"## Validate Telegram User\\n\"},\"typeVersion\":1},{\"id\":\"164f5e91-1958-4dc5-b38c-db1cec0579d4\",\"name\":\"Message Router\",\"type\":\"n8n-nodes-base.switch\",\"position\":[160,160],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"audio\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"operator\":{\"type\":\"object\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.body.message.voice }}\",\"rightValue\":\"\"}]},\"renameOutput\":true},{\"outputKey\":\"text\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"342f0883-d959-44a2-b80d-379e39c76218\",\"operator\":{\"type\":\"string\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.body.message.text }}\",\"rightValue\":\"\"}]},\"renameOutput\":true},{\"outputKey\":\"image\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ded3a600-f861-413a-8892-3fc5ea935ecb\",\"operator\":{\"type\":\"array\",\"operation\":\"exists\",\"singleValue\":true},\"leftValue\":\"={{ $json.body.message.photo }}\",\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{\"fallbackOutput\":\"extra\"}},\"typeVersion\":3.2},{\"id\":\"7947173d-39fa-4d4b-9b1e-60de809a9950\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"onError\":\"continueErrorOutput\",\"position\":[860,340],\"parameters\":{\"text\":\"={{ $('Message Router').item.json.body.message.text }}\",\"options\":{\"systemMessage\":\"=## ROLE  \\nYou are a friendly, attentive, and helpful AI assistant. Your primary goal is to assist the user while maintaining a personalized and engaging interaction. The current user's first name is **{{ $json.body.message.from.first_name }}**.\\n\\n---\\n\\n## RULES  \\n\\n1. **Memory Management**:  \\n   - When the user sends a new message, evaluate whether it contains noteworthy or personal information (e.g., preferences, habits, goals, or important events).  \\n   - If such information is identified, use the **Save Memory** tool to store this data in memory.  \\n   - Always send a meaningful response back to the user, even if your primary action was saving information. This response should not reveal that information was stored but should acknowledge or engage with the userâ€™s input naturally.\\n\\n2. **Context Awareness**:  \\n   - Use stored memories to provide contextually relevant and personalized responses.  \\n   - Always consider the **date and time** when a memory was collected to ensure your responses are up-to-date and accurate.\\n\\n3. **User-Centric Responses**:  \\n   - Tailor your responses based on the user's preferences and past interactions.  \\n   - Be proactive in recalling relevant details from memory when appropriate but avoid overwhelming the user with unnecessary information.\\n\\n4. **Privacy and Sensitivity**:  \\n   - Handle all user data with care and sensitivity. Avoid making assumptions or sharing stored information unless it directly enhances the conversation or task at hand.\\n\\n5. **Fallback Responses**:  \\n   - **IMPORTANT** If no specific task or question arises from the userâ€™s message (e.g., when only saving information), respond in a way that keeps the conversation flowing naturally. For example:\\n     - Acknowledge their input: â€œThanks for sharing that!â€ \\n     - Provide a friendly follow-up: â€œIs there anything else I can help you with today?â€\\n   - DO NOT tell Jokes as a fall back response.\\n\\n---\\n\\n## TOOLS  \\n\\n### Save Memory  \\n- Use this tool to store summarized, concise, and meaningful information about the user.  \\n- Extract key details from user messages that could enhance future interactions (e.g., likes/dislikes, important dates, hobbies).  \\n- Ensure that the summary is clear and devoid of unnecessary details.\\n\\n---\\n\\n## MEMORIES  \\n\\n### Recent Noteworthy Memories  \\nHere are the most recent memories collected from the user, including their date and time of collection:  \\n\\n**{{ $('Retrieve Long Term Memories').item.json.content }}**\\n\\n### Guidelines for Using Memories:  \\n- Prioritize recent memories but do not disregard older ones if they remain relevant.  \\n- Cross-reference memories to maintain consistency in your responses. For example, if a user shares conflicting preferences over time, clarify or adapt accordingly.\\n\\n---\\n\\n## ADDITIONAL INSTRUCTIONS  \\n\\n- Think critically before responding to ensure your answers are thoughtful and accurate.  \\n- Strive to build trust with the user by being consistent, reliable, and personable in your interactions.  \\n- Avoid robotic or overly formal language; aim for a conversational tone that aligns with being \\\"friendly and helpful.\\\"  \\n\"},\"promptType\":\"define\"},\"typeVersion\":1.7,\"alwaysOutputData\":true},{\"id\":\"6111c771-d8af-4586-8829-213d86dc4f47\",\"name\":\"Merge\",\"type\":\"n8n-nodes-base.merge\",\"position\":[860,100],\"parameters\":{\"mode\":\"combine\",\"options\":{},\"combineBy\":\"combineAll\"},\"typeVersion\":3},{\"id\":\"94a01b4f-549d-4e49-88e0-143c90dd200e\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[920,780],\"parameters\":{\"sessionKey\":\"={{ $json.id }}\",\"sessionIdType\":\"customKey\",\"contextWindowLength\":50},\"typeVersion\":1.3},{\"id\":\"d1182e11-025e-4885-abb1-b76a9b617b84\",\"name\":\"When chat message received\",\"type\":\"@n8n/n8n-nodes-langchain.chatTrigger\",\"disabled\":true,\"position\":[-480,420],\"webhookId\":\"701ddc24-2637-466e-9789-5d47145333a8\",\"parameters\":{\"options\":{}},\"typeVersion\":1.1},{\"id\":\"97d4cdcd-b016-44aa-882c-eb2ec38968eb\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[440,-20],\"parameters\":{\"color\":5,\"width\":1033,\"height\":1029,\"content\":\"# Process Text Message\"},\"typeVersion\":1},{\"id\":\"73156ecc-af5f-4e3d-82c6-4668db52b511\",\"name\":\"Telegram Response\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1240,160],\"parameters\":{\"text\":\"={{ $json.output }}\",\"chatId\":\"={{ $('Listen for Telegram Events').item.json.body.message.chat.id }}\",\"additionalFields\":{\"parse_mode\":\"HTML\",\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"pAIFhguJlkO3c7aQ\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"5f342299-40fe-44cf-9b58-8a9d3bfac1df\",\"name\":\"Save Long Term Memories\",\"type\":\"n8n-nodes-base.googleDocsTool\",\"position\":[1260,780],\"parameters\":{\"actionsUi\":{\"actionFields\":[{\"text\":\"= Memory: {{ $fromAI('memory') }} - Date: {{ $now }} \",\"action\":\"insert\"}]},\"operation\":\"update\",\"documentURL\":\"[Google Doc ID]\",\"descriptionType\":\"manual\",\"toolDescription\":\"Save memories\"},\"credentials\":{\"googleDocsOAuth2Api\":{\"id\":\"YWEHuG28zOt532MQ\",\"name\":\"Google Docs account\"}},\"typeVersion\":2},{\"id\":\"aba001a8-68f9-4870-9cd0-60a4c59ecd5b\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,220],\"parameters\":{\"color\":4,\"width\":300,\"height\":340,\"content\":\"## Retrieve Long Term Memories\\nGoogle Docs\"},\"typeVersion\":1},{\"id\":\"e5ec71ec-9527-4ccd-87c3-3aa2f09192e8\",\"name\":\"Retrieve Long Term Memories\",\"type\":\"n8n-nodes-base.googleDocs\",\"position\":[560,360],\"parameters\":{\"operation\":\"get\",\"documentURL\":\"[Google Doc ID]\"},\"credentials\":{\"googleDocsOAuth2Api\":{\"id\":\"YWEHuG28zOt532MQ\",\"name\":\"Google Docs account\"}},\"typeVersion\":2,\"alwaysOutputData\":true},{\"id\":\"4764383a-3c4b-4e64-b391-5dc9fb4b9de6\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[820,660],\"parameters\":{\"width\":280,\"height\":320,\"content\":\"## Save To Current Chat Memory (Optional)\"},\"typeVersion\":1},{\"id\":\"e11995b8-e061-4b40-b4b6-9ec03c7e5a06\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1160,660],\"parameters\":{\"color\":4,\"width\":280,\"height\":320,\"content\":\"## Save Long Term Memories\\nGoogle Docs\"},\"typeVersion\":1},{\"id\":\"1b53aef2-ca99-409b-bd10-3fc1fd87f540\",\"name\":\"Response Error message\",\"type\":\"n8n-nodes-base.telegram\",\"position\":[1240,360],\"parameters\":{\"text\":\"=Unable to process your message.\",\"chatId\":\"={{ $('Listen for Telegram Events').item.json.body.message.chat.id }}\",\"additionalFields\":{\"appendAttribution\":false}},\"credentials\":{\"telegramApi\":{\"id\":\"pAIFhguJlkO3c7aQ\",\"name\":\"Telegram account\"}},\"typeVersion\":1.2},{\"id\":\"e5d79084-d7f1-44fd-a1db-73cc76a148ec\",\"name\":\"Sticky Note12\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-60,660],\"parameters\":{\"color\":7,\"width\":820,\"height\":600,\"content\":\"# DeepSeek API Call\\n\\nThe DeepSeek API uses an API format compatible with OpenAI. By modifying the configuration, you can use the OpenAI SDK or softwares compatible with the OpenAI API to access the DeepSeek API.\\n\\nhttps://api-docs.deepseek.com/\\n\\n## Configuration Parameters\\n\\n| Parameter | Value |\\n|-----------|--------|\\n| base_url | https://api.deepseek.com |\\n| api_key | https://platform.deepseek.com/api_keys |\\n\\n\\n\\n## Important Notes\\n\\n- To be compatible with OpenAI, you can also use `https://api.deepseek.com/v1` as the base_url. Note that the v1 here has NO relationship with the model's version.\\n\\n- The deepseek-chat model has been upgraded to DeepSeek-V3. The API remains unchanged. You can invoke DeepSeek-V3 by specifying `model='deepseek-chat'`.\\n\\n- deepseek-reasoner is the latest reasoning model, DeepSeek-R1, released by DeepSeek. You can invoke DeepSeek-R1 by specifying `model='deepseek-reasoner'`.\"},\"typeVersion\":1},{\"id\":\"af14e803-44a5-4b0e-a675-b1e860bf6d29\",\"name\":\"DeepSeek-R1 Reasoning\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[440,880],\"parameters\":{\"model\":\"=deepseek-reasoner\",\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"MSl7SdcvZe0SqCYI\",\"name\":\"deepseek\"}},\"typeVersion\":1.1},{\"id\":\"e8be6a32-ba4c-4895-b34b-c5e7d0ded5e8\",\"name\":\"DeepSeek-V3   Chat\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[600,880],\"parameters\":{\"model\":\"=deepseek-chat\",\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"MSl7SdcvZe0SqCYI\",\"name\":\"deepseek\"}},\"typeVersion\":1.1}],\"active\":false,\"pinData\":{},\"settings\":{\"timezone\":\"America/Vancouver\",\"callerPolicy\":\"workflowsFromSameOwner\",\"executionOrder\":\"v1\"},\"versionId\":\"2e669c98-e6ad-42f0-a642-de05e372937e\",\"connections\":{\"Merge\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"AI Agent\":{\"main\":[[{\"node\":\"Telegram Response\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Response Error message\",\"type\":\"main\",\"index\":0}]]},\"Validation\":{\"main\":[[{\"node\":\"Check User & Chat ID\",\"type\":\"main\",\"index\":0}]]},\"Message Router\":{\"main\":[[],[{\"node\":\"Merge\",\"type\":\"main\",\"index\":0},{\"node\":\"Retrieve Long Term Memories\",\"type\":\"main\",\"index\":0}],[],[{\"node\":\"Error message\",\"type\":\"main\",\"index\":0}]]},\"DeepSeek-V3   Chat\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Check User & Chat ID\":{\"main\":[[{\"node\":\"Message Router\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Error message\",\"type\":\"main\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[]]},\"Save Long Term Memories\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Listen for Telegram Events\":{\"main\":[[{\"node\":\"Validation\",\"type\":\"main\",\"index\":0}]]},\"When chat message received\":{\"main\":[[]]},\"Retrieve Long Term Memories\":{\"main\":[[{\"node\":\"Merge\",\"type\":\"main\",\"index\":1}]]}}}",
  "readme": "This n8n workflow template is designed to integrate a DeepSeek AI agent with Telegram, incorporating long-term memory capabilities for personalized and context-aware responses. Here's a detailed breakdown:\n\n* * *\n\n## Core Features\n\n**Telegram Integration**\n\n  * Uses a webhook to receive messages from Telegram users.\n  * Validates user identity and message content before processing.\n\n\n\n**AI-Powered Responses**\n\n  * Employs DeepSeek's AI models for conversational interactions.\n  * Includes memory capabilities to personalize responses based on past interactions.\n\n\n\n**Error Handling**\n\n  * Sends an error message if the input cannot be processed.\n\n\n\n* * *\n\n## Model Options ğŸ§ \n\n  * **DeepSeek-V3 Chat** : Handles general conversational tasks.\n  * **DeepSeek-R1 Reasoning** : Provides advanced reasoning capabilities for complex queries.\n  * **Memory Buffer Window** : Maintains session context for ongoing conversations.\n\n\n\n* * *\n\n## Quick Setup ğŸ› ï¸\n\n### Telegram Webhook Configuration\n\n  1. Set up a webhook using the Telegram Bot API:\n         \n         https://api.telegram.org/bot{my_bot_token}/setWebhook?url={url_to_send_updates_to}\n         \n\nReplace `{my_bot_token}` with your bot's token and `{url_to_send_updates_to}` with your n8n webhook URL.\n  2. Verify the webhook setup using:\n         \n         https://api.telegram.org/bot{my_bot_token}/getWebhookInfo\n         \n\n\n\n\n### DeepSeek API Configuration\n\n  1. Base URL: `https://api.deepseek.com`\n  2. Obtain your API key from the DeepSeek platform.\n\n\n\n* * *\n\n## Implementation Details ğŸ”§\n\n### User Validation\n\n  * The workflow validates the user's first name, last name, and ID using data from incoming Telegram messages.\n  * Only authorized users proceed to the next steps.\n\n\n\n### Message Routing\n\n  * Routes messages based on their type (text, audio, or image) using a switch node.\n  * Ensures appropriate handling for each message format.\n\n\n\n### AI Agent Interaction\n\n  * Processes text input using DeepSeek-V3 or DeepSeek-R1 models.\n  * Customizable system prompts define the AI's behavior and rules, ensuring user-centric and context-aware responses.\n\n\n\n### Memory Management\n\n  * Retrieves long-term memories stored in Google Docs to enhance personalization.\n  * Saves new memories based on user interactions, ensuring continuity across sessions.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This n8n workflow template is designed to integrate a DeepSeek AI agent with Telegram, incorporating long-term memory capabilities for personalized and context-aware responses. Here's a detailed breakdown:</p>\n<hr>\n<h2>Core Features</h2>\n<p><strong>Telegram Integration</strong></p>\n<ul>\n<li>Uses a webhook to receive messages from Telegram users.</li>\n<li>Validates user identity and message content before processing.</li>\n</ul>\n<p><strong>AI-Powered Responses</strong></p>\n<ul>\n<li>Employs DeepSeek's AI models for conversational interactions.</li>\n<li>Includes memory capabilities to personalize responses based on past interactions.</li>\n</ul>\n<p><strong>Error Handling</strong></p>\n<ul>\n<li>Sends an error message if the input cannot be processed.</li>\n</ul>\n<hr>\n<h2>Model Options ğŸ§ </h2>\n<ul>\n<li><strong>DeepSeek-V3 Chat</strong>: Handles general conversational tasks.</li>\n<li><strong>DeepSeek-R1 Reasoning</strong>: Provides advanced reasoning capabilities for complex queries.</li>\n<li><strong>Memory Buffer Window</strong>: Maintains session context for ongoing conversations.</li>\n</ul>\n<hr>\n<h2>Quick Setup ğŸ› ï¸</h2>\n<h3>Telegram Webhook Configuration</h3>\n<ol>\n<li>Set up a webhook using the Telegram Bot API:<pre><code>https://api.telegram.org/bot{my_bot_token}/setWebhook?url={url_to_send_updates_to}\n</code></pre>\nReplace <code>{my_bot_token}</code> with your bot's token and <code>{url_to_send_updates_to}</code> with your n8n webhook URL.</li>\n<li>Verify the webhook setup using:<pre><code>https://api.telegram.org/bot{my_bot_token}/getWebhookInfo\n</code></pre>\n</li>\n</ol>\n<h3>DeepSeek API Configuration</h3>\n<ol>\n<li>Base URL: <code>https://api.deepseek.com</code></li>\n<li>Obtain your API key from the DeepSeek platform.</li>\n</ol>\n<hr>\n<h2>Implementation Details ğŸ”§</h2>\n<h3>User Validation</h3>\n<ul>\n<li>The workflow validates the user's first name, last name, and ID using data from incoming Telegram messages.</li>\n<li>Only authorized users proceed to the next steps.</li>\n</ul>\n<h3>Message Routing</h3>\n<ul>\n<li>Routes messages based on their type (text, audio, or image) using a switch node.</li>\n<li>Ensures appropriate handling for each message format.</li>\n</ul>\n<h3>AI Agent Interaction</h3>\n<ul>\n<li>Processes text input using DeepSeek-V3 or DeepSeek-R1 models.</li>\n<li>Customizable system prompts define the AI's behavior and rules, ensuring user-centric and context-aware responses.</li>\n</ul>\n<h3>Memory Management</h3>\n<ul>\n<li>Retrieves long-term memories stored in Google Docs to enhance personalization.</li>\n<li>Saves new memories based on user interactions, ensuring continuity across sessions.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "è¯¥n8nå·¥ä½œæµæ¨¡æ¿æ—¨åœ¨å°†DeepSeek AIæ™ºèƒ½ä½“ä¸Telegramé›†æˆï¼Œå…·å¤‡é•¿æœŸè®°å¿†åŠŸèƒ½ï¼Œå¯æä¾›ä¸ªæ€§åŒ–ä¸”ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å“åº”ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è¯´æ˜ï¼š\n\n* * *\n\n## æ ¸å¿ƒåŠŸèƒ½\n\n**Telegramé›†æˆ**\n\n  * é€šè¿‡Webhookæ¥æ”¶Telegramç”¨æˆ·æ¶ˆæ¯\n  * å¤„ç†å‰éªŒè¯ç”¨æˆ·èº«ä»½åŠæ¶ˆæ¯å†…å®¹æœ‰æ•ˆæ€§\n\n**AIæ™ºèƒ½å“åº”**\n\n  * é‡‡ç”¨DeepSeek AIæ¨¡å‹è¿›è¡Œå¯¹è¯äº¤äº’\n  * å…·å¤‡è®°å¿†åŠŸèƒ½ï¼Œå¯æ ¹æ®å†å²äº¤äº’å®ç°ä¸ªæ€§åŒ–å›å¤\n\n**é”™è¯¯å¤„ç†**\n\n  * å½“è¾“å…¥æ— æ³•å¤„ç†æ—¶å‘é€é”™è¯¯æç¤º\n\n* * *\n\n## æ¨¡å‹é€‰é¡¹ ğŸ§ \n\n  * **DeepSeek-V3èŠå¤©æ¨¡å‹**ï¼šå¤„ç†é€šç”¨å¯¹è¯ä»»åŠ¡\n  * **DeepSeek-R1æ¨ç†æ¨¡å‹**ï¼šä¸ºå¤æ‚æŸ¥è¯¢æä¾›é«˜çº§æ¨ç†èƒ½åŠ›\n  * **è®°å¿†ç¼“å†²çª—å£**ï¼šç»´æŒä¼šè¯ä¸Šä¸‹æ–‡ä»¥å®ç°è¿ç»­å¯¹è¯\n\n* * *\n\n## å¿«é€Ÿé…ç½® ğŸ› ï¸\n\n### Telegram Webhookè®¾ç½®\n\n  1. ä½¿ç”¨Telegram Bot APIè®¾ç½®Webhookï¼š\n         \n         https://api.telegram.org/bot{æœºå™¨äººä»¤ç‰Œ}/setWebhook?url={æ¥æ”¶æ›´æ–°çš„URL}\n         \n  å°†`{æœºå™¨äººä»¤ç‰Œ}`æ›¿æ¢ä¸ºæ‚¨çš„Bot Tokenï¼Œ`{æ¥æ”¶æ›´æ–°çš„URL}`æ›¿æ¢ä¸ºn8nçš„Webhookåœ°å€\n  2. é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯Webhookè®¾ç½®ï¼š\n         \n         https://api.telegram.org/bot{æœºå™¨äººä»¤ç‰Œ}/getWebhookInfo\n         \n\n### DeepSeek APIé…ç½®\n\n  1. åŸºç¡€URLï¼š`https://api.deepseek.com`\n  2. ä»DeepSeekå¹³å°è·å–APIå¯†é’¥\n\n* * *\n\n## å®ç°ç»†èŠ‚ ğŸ”§\n\n### ç”¨æˆ·éªŒè¯\n\n  * é€šè¿‡Telegramæ¶ˆæ¯æ•°æ®éªŒè¯ç”¨æˆ·å§“åå’ŒID\n  * ä»…å…è®¸æˆæƒç”¨æˆ·è¿›å…¥åç»­æµç¨‹\n\n### æ¶ˆæ¯è·¯ç”±\n\n  * ä½¿ç”¨switchèŠ‚ç‚¹æ ¹æ®æ¶ˆæ¯ç±»å‹ï¼ˆæ–‡æœ¬/éŸ³é¢‘/å›¾ç‰‡ï¼‰è¿›è¡Œè·¯ç”±\n  * ç¡®ä¿ä¸åŒæ ¼å¼æ¶ˆæ¯å¾—åˆ°æ­£ç¡®å¤„ç†\n\n### AIæ™ºèƒ½ä½“äº¤äº’\n\n  * ä½¿ç”¨DeepSeek-V3æˆ–DeepSeek-R1æ¨¡å‹å¤„ç†æ–‡æœ¬è¾“å…¥\n  * å¯è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ï¼Œå®šä¹‰AIè¡Œä¸ºè§„åˆ™ï¼Œç¡®ä¿ç”¨æˆ·ä¸­å¿ƒåŒ–ä¸”ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å“åº”\n\n### è®°å¿†ç®¡ç†\n\n  * ä»Googleæ–‡æ¡£æ£€ç´¢é•¿æœŸè®°å¿†ä»¥å¢å¼ºä¸ªæ€§åŒ–\n  * æ ¹æ®ç”¨æˆ·äº¤äº’ä¿å­˜æ–°è®°å¿†ï¼Œå®ç°è·¨ä¼šè¯è¿ç»­æ€§",
  "title_zh": "ğŸ‹ğŸ¤– DeepSeek AI æ™ºèƒ½ä½“ + Telegram + é•¿æœŸè®°å¿† ğŸ§ ",
  "publish_date_absolute": "2025-02-07",
  "publish_date_zh": "æœ€åæ›´æ–°äº3ä¸ªæœˆå‰",
  "workflow_json_zh": "{\n  \"id\": \"rtsvydad1MOCryia\",\n  \"meta\": {\n    \"instanceId\": \"31e69f7f4a77bf465b805824e303232f0227212ae922d12133a0f96ffeab4fef\"\n  },\n  \"name\": \"ğŸ‹ğŸ¤– DeepSeek AI Agent + Telegram + LONG TERM Memory ğŸ§ \",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"23b50c07-39a8-4166-ab13-9683b3ee25e6\",\n      \"name\": \"Check User & Chat ID\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -80,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"5fe3c0d8-bd61-4943-b152-9e6315134520\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('Listen for Telegram Events').item.json.body.message.from.first_name }}\",\n              \"rightValue\": \"={{ $json.first_name }}\"\n            },\n            {\n              \"id\": \"98a0ea91-0567-459c-bbce-06abc14a49ce\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('Listen for Telegram Events').item.json.body.message.from.last_name }}\",\n              \"rightValue\": \"={{ $json.last_name }}\"\n            },\n            {\n              \"id\": \"18a96c1f-f2a0-4a2a-b789-606763df4423\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('Listen for Telegram Events').item.json.body.message.from.id }}\",\n              \"rightValue\": \"={{ $json.id }}\"\n            }\n          ]\n        },\n        \"looseTypeValidation\": \"=\"\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"ecbc13fe-305d-4cdd-b35c-3e119e8e8b5d\",\n      \"name\": \"Error message\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        160,\n        440\n      ],\n      \"parameters\": {\n        \"text\": \"=Unable to process your message.\",\n        \"chatId\": \"={{ $json.body.message.chat.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"pAIFhguJlkO3c7aQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"be722bc7-0b22-4892-967c-fdd398a7b129\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -540,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 949,\n        \"height\": 652,\n        \"content\": \"# é€šè¿‡Webhookæ¥æ”¶Telegramæ¶ˆæ¯\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a3866585-bfee-4025-a8f4-f06fde16171a\",\n      \"name\": \"Listen for Telegram Events\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -480,\n        160\n      ],\n      \"webhookId\": \"097f36f3-1574-44f9-815f-58387e3b20bf\",\n      \"parameters\": {\n        \"path\": \"wbot\",\n        \"options\": {\n          \"binaryPropertyName\": \"data\"\n        },\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f70571d5-3680-4616-90fa-3358b0883368\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1380,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 800,\n        \"height\": 860,\n        \"content\": \"# å¦‚ä½•è®¾ç½®Telegramæœºå™¨äººWebHook\\n\\n## WebHookè®¾ç½®æµç¨‹\\n\\n**åŸºæœ¬æ¦‚å¿µ**\\nWebHookå¯ä»¥è®©æ‚¨çš„Telegramæœºå™¨äººè‡ªåŠ¨æ¥æ”¶æ›´æ–°ï¼Œè€Œæ— éœ€æ‰‹åŠ¨è½®è¯¢Bot APIã€‚\\n\\n**è®¾ç½®æ–¹æ³•**\\né€šè¿‡ä»¥ä¸‹URLæ ¼å¼å‘èµ·GETè¯·æ±‚å³å¯è®¾ç½®WebHookï¼š\\n```\\nhttps://api.telegram.org/bot{æœºå™¨äººä»¤ç‰Œ}/setWebhook?url={æ¥æ”¶æ›´æ–°çš„ç½‘å€}\\n```\\nå…¶ä¸­ï¼š\\n- `æœºå™¨äººä»¤ç‰Œ`ï¼šä»BotFatherè·å–çš„æœºå™¨äººtoken\\n- `æ¥æ”¶æ›´æ–°çš„ç½‘å€`ï¼šå¤„ç†æœºå™¨äººæ›´æ–°çš„HTTPSç«¯ç‚¹\\n\\n**éªŒè¯è®¾ç½®**\\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯WebHookæ˜¯å¦è®¾ç½®æˆåŠŸï¼š\\n```\\nhttps://api.telegram.org/bot{æœºå™¨äººä»¤ç‰Œ}/getWebhookInfo\\n```\\n\\næˆåŠŸå“åº”ç¤ºä¾‹å¦‚ä¸‹ï¼š\\n```json\\n{\\n \\\"ok\\\": true,\\n \\\"result\\\": {\\n   \\\"url\\\": \\\"https://www.example.com/my-telegram-bot/\\\",\\n   \\\"has_custom_certificate\\\": false,\\n   \\\"pending_update_count\\\": 0,\\n   \\\"max_connections\\\": 40\\n }\\n}\\n```\\n\\nè¯¥æ–¹æ³•é€šè¿‡webhookè‡ªåŠ¨å¤„ç†Telegramæœºå™¨äººæ›´æ–°ï¼Œç›¸æ¯”æ‰‹åŠ¨è½®è¯¢æ›´åŠ ç®€å•é«˜æ•ˆã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2b6149d5-ffd6-46ef-9840-149508251a77\",\n      \"name\": \"Validation\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -260,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"0cea6da1-652a-4c1e-94c3-30608ced90f8\",\n              \"name\": \"first_name\",\n              \"type\": \"string\",\n              \"value\": \"FirstName\"\n            },\n            {\n              \"id\": \"b90280c6-3e36-49ca-9e7e-e15c42d256cc\",\n              \"name\": \"last_name\",\n              \"type\": \"string\",\n              \"value\": \"LastName\"\n            },\n            {\n              \"id\": \"f6d86283-16ca-447e-8427-7d3d190babc0\",\n              \"name\": \"id\",\n              \"type\": \"number\",\n              \"value\": 12345667891\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"41c965ea-b67d-4d6b-82e4-0e57f5fc13bb\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -320,\n        100\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 420,\n        \"height\": 260,\n        \"content\": \"## éªŒè¯Telegramç”¨æˆ·\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"164f5e91-1958-4dc5-b38c-db1cec0579d4\",\n      \"name\": \"Message Router\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        160,\n        160\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"audio\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"object\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.body.message.voice }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"text\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"342f0883-d959-44a2-b80d-379e39c76218\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.body.message.text }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"image\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"ded3a600-f861-413a-8892-3fc5ea935ecb\",\n                    \"operator\": {\n                      \"type\": \"array\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.body.message.photo }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\"\n        }\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"7947173d-39fa-4d4b-9b1e-60de809a9950\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        860,\n        340\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $('Message Router').item.json.body.message.text }}\",\n        \"options\": {\n          \"systemMessage\": \"=## ROLE  \\nYou are a friendly, attentive, and helpful AI assistant. Your primary goal is to assist the user while maintaining a personalized and engaging interaction. The current user's first name is **{{ $json.body.message.from.first_name }}**.\\n\\n---\\n\\n## RULES  \\n\\n1. **Memory Management**:  \\n   - When the user sends a new message, evaluate whether it contains noteworthy or personal information (e.g., preferences, habits, goals, or important events).  \\n   - If such information is identified, use the **Save Memory** tool to store this data in memory.  \\n   - Always send a meaningful response back to the user, even if your primary action was saving information. This response should not reveal that information was stored but should acknowledge or engage with the userâ€™s input naturally.\\n\\n2. **Context Awareness**:  \\n   - Use stored memories to provide contextually relevant and personalized responses.  \\n   - Always consider the **date and time** when a memory was collected to ensure your responses are up-to-date and accurate.\\n\\n3. **User-Centric Responses**:  \\n   - Tailor your responses based on the user's preferences and past interactions.  \\n   - Be proactive in recalling relevant details from memory when appropriate but avoid overwhelming the user with unnecessary information.\\n\\n4. **Privacy and Sensitivity**:  \\n   - Handle all user data with care and sensitivity. Avoid making assumptions or sharing stored information unless it directly enhances the conversation or task at hand.\\n\\n5. **Fallback Responses**:  \\n   - **IMPORTANT** If no specific task or question arises from the userâ€™s message (e.g., when only saving information), respond in a way that keeps the conversation flowing naturally. For example:\\n     - Acknowledge their input: â€œThanks for sharing that!â€ \\n     - Provide a friendly follow-up: â€œIs there anything else I can help you with today?â€\\n   - DO NOT tell Jokes as a fall back response.\\n\\n---\\n\\n## TOOLS  \\n\\n### Save Memory  \\n- Use this tool to store summarized, concise, and meaningful information about the user.  \\n- Extract key details from user messages that could enhance future interactions (e.g., likes/dislikes, important dates, hobbies).  \\n- Ensure that the summary is clear and devoid of unnecessary details.\\n\\n---\\n\\n## MEMORIES  \\n\\n### Recent Noteworthy Memories  \\nHere are the most recent memories collected from the user, including their date and time of collection:  \\n\\n**{{ $('Retrieve Long Term Memories').item.json.content }}**\\n\\n### Guidelines for Using Memories:  \\n- Prioritize recent memories but do not disregard older ones if they remain relevant.  \\n- Cross-reference memories to maintain consistency in your responses. For example, if a user shares conflicting preferences over time, clarify or adapt accordingly.\\n\\n---\\n\\n## ADDITIONAL INSTRUCTIONS  \\n\\n- Think critically before responding to ensure your answers are thoughtful and accurate.  \\n- Strive to build trust with the user by being consistent, reliable, and personable in your interactions.  \\n- Avoid robotic or overly formal language; aim for a conversational tone that aligns with being \\\"friendly and helpful.\\\"  \\n\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"6111c771-d8af-4586-8829-213d86dc4f47\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        860,\n        100\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineAll\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"94a01b4f-549d-4e49-88e0-143c90dd200e\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        920,\n        780\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"={{ $json.id }}\",\n        \"sessionIdType\": \"customKey\",\n        \"contextWindowLength\": 50\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"d1182e11-025e-4885-abb1-b76a9b617b84\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        -480,\n        420\n      ],\n      \"webhookId\": \"701ddc24-2637-466e-9789-5d47145333a8\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"97d4cdcd-b016-44aa-882c-eb2ec38968eb\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 1033,\n        \"height\": 1029,\n        \"content\": \"# å¤„ç†æ–‡æœ¬æ¶ˆæ¯\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"73156ecc-af5f-4e3d-82c6-4668db52b511\",\n      \"name\": \"Telegram Response\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1240,\n        160\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.output }}\",\n        \"chatId\": \"={{ $('Listen for Telegram Events').item.json.body.message.chat.id }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"pAIFhguJlkO3c7aQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"5f342299-40fe-44cf-9b58-8a9d3bfac1df\",\n      \"name\": \"Save Long Term Memories\",\n      \"type\": \"n8n-nodes-base.googleDocsTool\",\n      \"position\": [\n        1260,\n        780\n      ],\n      \"parameters\": {\n        \"actionsUi\": {\n          \"actionFields\": [\n            {\n              \"text\": \"= Memory: {{ $fromAI('memory') }} - Date: {{ $now }} \",\n              \"action\": \"insert\"\n            }\n          ]\n        },\n        \"operation\": \"update\",\n        \"documentURL\": \"[Google Doc ID]\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Save memories\"\n      },\n      \"credentials\": {\n        \"googleDocsOAuth2Api\": {\n          \"id\": \"YWEHuG28zOt532MQ\",\n          \"name\": \"Google Docs account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"aba001a8-68f9-4870-9cd0-60a4c59ecd5b\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        220\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 300,\n        \"height\": 340,\n        \"content\": \"## æ£€ç´¢é•¿æœŸè®°å¿†\\nè°·æ­Œæ–‡æ¡£\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e5ec71ec-9527-4ccd-87c3-3aa2f09192e8\",\n      \"name\": \"Retrieve Long Term Memories\",\n      \"type\": \"n8n-nodes-base.googleDocs\",\n      \"position\": [\n        560,\n        360\n      ],\n      \"parameters\": {\n        \"operation\": \"get\",\n        \"documentURL\": \"[Google Doc ID]\"\n      },\n      \"credentials\": {\n        \"googleDocsOAuth2Api\": {\n          \"id\": \"YWEHuG28zOt532MQ\",\n          \"name\": \"Google Docs account\"\n        }\n      },\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"4764383a-3c4b-4e64-b391-5dc9fb4b9de6\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        660\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 320,\n        \"content\": \"## ä¿å­˜è‡³å½“å‰èŠå¤©è®°å¿†ï¼ˆå¯é€‰ï¼‰\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e11995b8-e061-4b40-b4b6-9ec03c7e5a06\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1160,\n        660\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 280,\n        \"height\": 320,\n        \"content\": \"## ä¿å­˜é•¿æœŸè®°å¿†\\nè°·æ­Œæ–‡æ¡£\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1b53aef2-ca99-409b-bd10-3fc1fd87f540\",\n      \"name\": \"Response Error message\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1240,\n        360\n      ],\n      \"parameters\": {\n        \"text\": \"=Unable to process your message.\",\n        \"chatId\": \"={{ $('Listen for Telegram Events').item.json.body.message.chat.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"pAIFhguJlkO3c7aQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e5d79084-d7f1-44fd-a1db-73cc76a148ec\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        660\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 820,\n        \"height\": 600,\n        \"content\": \"# DeepSeek API è°ƒç”¨è¯´æ˜\\n\\nDeepSeek API é‡‡ç”¨å…¼å®¹ OpenAI çš„ API æ ¼å¼ï¼Œé€šè¿‡ä¿®æ”¹é…ç½®å³å¯ä½¿ç”¨ OpenAI SDK æˆ–å…¼å®¹ OpenAI API çš„è½¯ä»¶æ¥è°ƒç”¨ DeepSeek APIã€‚\\n\\nhttps://api-docs.deepseek.com/\\n\\n## é…ç½®å‚æ•°\\n\\n| å‚æ•°é¡¹      | å‚æ•°å€¼                                  |\\n|------------|----------------------------------------|\\n| base_url   | https://api.deepseek.com               |\\n| api_key    | https://platform.deepseek.com/api_keys |\\n\\n## é‡è¦è¯´æ˜\\n\\n- ä¸ºä¿æŒä¸ OpenAI å…¼å®¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `https://api.deepseek.com/v1` ä½œä¸º base_urlã€‚è¯·æ³¨æ„æ­¤å¤„çš„ v1 ä¸æ¨¡å‹ç‰ˆæœ¬æ— å…³ã€‚\\n\\n- deepseek-chat æ¨¡å‹å·²å‡çº§ä¸º DeepSeek-V3 ç‰ˆæœ¬ã€‚API è°ƒç”¨æ–¹å¼ä¿æŒä¸å˜ï¼Œæ‚¨ä»å¯é€šè¿‡æŒ‡å®š `model='deepseek-chat'` æ¥è°ƒç”¨ DeepSeek-V3ã€‚\\n\\n- deepseek-reasoner æ˜¯ DeepSeek æœ€æ–°å‘å¸ƒçš„å¤§æ¨¡å‹ DeepSeek-R1ï¼ˆæ¨ç†ä¸“ç”¨ï¼‰ï¼Œæ‚¨å¯é€šè¿‡æŒ‡å®š `model='deepseek-reasoner'` æ¥è°ƒç”¨ DeepSeek-R1ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af14e803-44a5-4b0e-a675-b1e860bf6d29\",\n      \"name\": \"DeepSeek-R1 Reasoning\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        440,\n        880\n      ],\n      \"parameters\": {\n        \"model\": \"=deepseek-reasoner\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"MSl7SdcvZe0SqCYI\",\n          \"name\": \"deepseek\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e8be6a32-ba4c-4895-b34b-c5e7d0ded5e8\",\n      \"name\": \"DeepSeek-V3   Chat\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        600,\n        880\n      ],\n      \"parameters\": {\n        \"model\": \"=deepseek-chat\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"MSl7SdcvZe0SqCYI\",\n          \"name\": \"deepseek\"\n        }\n      },\n      \"typeVersion\": 1.1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"America/Vancouver\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"2e669c98-e6ad-42f0-a642-de05e372937e\",\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Response Error message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Validation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check User & Chat ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Message Router\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Retrieve Long Term Memories\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [],\n        [\n          {\n            \"node\": \"Error message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"DeepSeek-V3   Chat\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check User & Chat ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Message Router\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        []\n      ]\n    },\n    \"Save Long Term Memories\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Listen for Telegram Events\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Validation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Retrieve Long Term Memories\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    }\n  }\n}"
}