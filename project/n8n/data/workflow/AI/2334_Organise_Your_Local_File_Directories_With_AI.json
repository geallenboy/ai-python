{
  "title": "Organise Your Local File Directories With AI",
  "url": "https://n8n.io/workflows/2334-organise-your-local-file-directories-with-ai/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Jimleuk",
  "publish_date": "Last update 8 months ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"26ba763460b97c249b82942b23b6384876dfeb9327513332e743c5f6219c2b8e\"},\"nodes\":[{\"id\":\"c92e3d01-4385-4e99-a9a7-77279b3d9cb3\",\"name\":\"Local File Trigger\",\"type\":\"n8n-nodes-base.localFileTrigger\",\"position\":[720,120],\"parameters\":{\"path\":\"/home/node/host_mount/shared_drive\",\"events\":[\"add\"],\"options\":{\"awaitWriteFinish\":true},\"triggerOn\":\"folder\"},\"typeVersion\":1},{\"id\":\"a08f5acc-ee46-49e7-be4d-99edc95ab41f\",\"name\":\"Get Files and Folders\",\"type\":\"n8n-nodes-base.executeCommand\",\"position\":[1200,120],\"parameters\":{\"command\":\"=ls -p {{ $json.directory }} | grep -v / || true; \\\\\\necho \\\"===\\\"; \\\\\\nls -p {{ $json.directory }} | grep / || true;\"},\"typeVersion\":1},{\"id\":\"f3ab100a-986d-49bc-aeb5-979f16b2fd46\",\"name\":\"Files and Folders to Array\",\"type\":\"n8n-nodes-base.set\",\"position\":[1380,120],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"ad893795-cae8-4418-99e0-2c68126337d3\",\"name\":\"files\",\"type\":\"array\",\"value\":\"={{ $json.stdout.split('===')[0].split('\\\\n').filter(item => !item.endsWith('Zone.Identifier')).compact() }}\"},{\"id\":\"0e7e8571-6b86-481d-a20c-3a7c621c562f\",\"name\":\"folders\",\"type\":\"array\",\"value\":\"={{ $json.stdout.split('===')[1].split('\\\\n').compact() }}\"}]}},\"typeVersion\":3.3},{\"id\":\"56c4a8b4-c5b0-4e2f-806b-fef5fb5260b5\",\"name\":\"Mistral Cloud Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatMistralCloud\",\"position\":[1860,240],\"parameters\":{\"model\":\"mistral-small-2402\",\"options\":{}},\"credentials\":{\"mistralCloudApi\":{\"id\":\"EIl2QxhXAS9Hkg37\",\"name\":\"Mistral Cloud account\"}},\"typeVersion\":1},{\"id\":\"0d586481-904d-4fbd-9b53-77bc2faf08dd\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[2040,240],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n\\t\\\"type\\\": \\\"array\\\",\\n\\t\\\"items\\\": {\\n    \\t\\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"folder\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"files\\\": {\\n            \\\"type\\\": \\\"array\\\",\\n            \\\"items\\\": { \\\"type\\\": \\\"string\\\" }\\n          }\\n\\t\\t}\\n    }\\n}\"},\"typeVersion\":1.2},{\"id\":\"86025668-aac9-49a2-92ff-ce15df16488c\",\"name\":\"Set Variables\",\"type\":\"n8n-nodes-base.set\",\"position\":[940,120],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"35ea70c4-8669-4975-a68d-bbaa094713c0\",\"name\":\"directory\",\"type\":\"string\",\"value\":\"={{ $('Local File Trigger').params.path }}\"}]}},\"typeVersion\":3.3},{\"id\":\"457bfd30-5cca-417a-88d3-666afe567fd5\",\"name\":\"Move Files into Folders\",\"type\":\"n8n-nodes-base.executeCommand\",\"position\":[2560,140],\"parameters\":{\"command\":\"=directory=\\\"{{ $('Set Variables').item.json.directory }}\\\"\\nsubdirectory=\\\"$directory/{{ $json.folder }}\\\";\\nfile_list=\\\"{{ $json.files.join(' ') }}\\\";\\n\\n# create subdirectory if not exists\\nmkdir -p $subdirectory;\\n\\n# for each suggestion, move the file into the subdirectory.\\n# If the file in the subdirectory exists, then we'll rename the current file by adding a small random string to the end of the filename.\\nfor filename in $file_list; do\\n    if [ -e \\\"$subdirectory/$filename\\\" ]; then\\n        mv \\\"$directory/$filename-$RANDOM\\\" -t $subdirectory;\\n    else\\n        mv \\\"$directory/$filename\\\" -t $subdirectory;\\n    fi\\ndone\",\"executeOnce\":false},\"typeVersion\":1},{\"id\":\"e9a610bf-b2ae-4b98-870a-2e63790a3b5f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[635.4233386400999,-161.84747801133517],\"parameters\":{\"color\":7,\"width\":483.7926535356806,\"height\":501.2939838391483,\"content\":\"## Step 1. Select the target folder\\n[Read more about local file trigger](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.localfiletrigger)\\n\\nIn this workflow, we'll monitor a specific folder on disk that n8n has access to. Since we're using docker, we can either use the n8n volume or mount a folder from the host machine.\\n\\nThe local file trigger is useful to execute the workflow whenever changes are made to our target folder.\"},\"typeVersion\":1},{\"id\":\"c8961322-a6da-4fc0-a46d-6119c5eac2b0\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1140,-54.28207683557787],\"parameters\":{\"color\":7,\"width\":583.2857596176409,\"height\":391.527066537946,\"content\":\"## Step 2. Identify files that need to be organised\\n[Read more about Execute Command node](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand)\\n\\nFor all Files in the root level of our selected target folder, we want  them to be sorted and moved into categorised subdirectories. In this step, we'll use linux commands to get a list of files and folders currently present in the target folder.\"},\"typeVersion\":1},{\"id\":\"6e31b2d1-288c-479b-8dd8-a171ecd03dea\",\"name\":\"If Has Target Files...\",\"type\":\"n8n-nodes-base.if\",\"position\":[1560,120],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"9be5a175-e7aa-4d68-9ddc-8b43b43e2d37\",\"operator\":{\"type\":\"array\",\"operation\":\"lengthGte\",\"rightType\":\"number\"},\"leftValue\":\"={{ $json.files }}\",\"rightValue\":\"={{ 1 }}\"}]}},\"typeVersion\":2},{\"id\":\"07fd70ca-9126-4846-a2b0-4f3a8fc5eb69\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1760,-107.13740439436373],\"parameters\":{\"color\":7,\"width\":631.2649908751414,\"height\":506.8242545618477,\"content\":\"## Step 3. Using Mistral AI to organise our target folder\\n[Read more about Mistral AI](https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatmistralcloud)\\n\\nUsing Mistral AI as our AI file manager, it can help us suggest which files go into which categorised subdirectory. If the subdirectory doesn't exist, Mistral can also suggest one to be created.\"},\"typeVersion\":1},{\"id\":\"2ca9a56c-ed1b-4f16-b207-7229c8d90b76\",\"name\":\"Get Suggestions to List\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[2200,80],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"output\"},\"typeVersion\":1},{\"id\":\"29d425df-e513-429a-802f-02ad3ad86344\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2420,-62.701160902940615],\"parameters\":{\"color\":7,\"width\":401.0065589583014,\"height\":374.8503908496576,\"content\":\"## Step 4. Move the files into subdirectories\\n[Read more about Execute Command node](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand)\\n\\nFor this step, we'll use the execute command node to execute a shellscript to move the files into their respective subdirectories.\"},\"typeVersion\":1},{\"id\":\"a2ee79ea-6b0d-46c0-876f-8cfe12130a62\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[240,-160],\"parameters\":{\"width\":372.51107341403605,\"height\":422.70324544339167,\"content\":\"## Try It Out!\\n### This workflow does the following:\\n* Monitors a target folder for changes using the local file trigger\\n* identifies all files and subdirectories in the target folder and passes this to Mistral AI\\n* Mistral AI suggests where to move top level files into which subdirectories. It can also suggest subdirectories tp create if none are suitable.\\n* Finally, we take the AI's suggestions are perform the move operations using the execute command node.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\\n\\nHappy Hacking!\"},\"typeVersion\":1},{\"id\":\"a0db31b1-10e2-40bb-9ec6-b91569bf1072\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[174.82571715185748,280],\"parameters\":{\"color\":3,\"width\":438.23697639546396,\"height\":97.88076166036412,\"content\":\"### ğŸš¨ Warning! Potential destructive operations ahead!\\nThis workflow manipulates the filesystem. Always make backups of your files before running local workflows.\"},\"typeVersion\":1},{\"id\":\"c932813c-913c-47bd-a4ba-79056bc6dfd7\",\"name\":\"AI File Manager\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[1860,80],\"parameters\":{\"text\":\"=Here is the list of current files in the directory:\\n{{ $json.files.map(file => `* ${file}`).join('\\\\n') }}\\n\\nHere is the list of current folders in the directory:\\n{{ $json.folders.length ? $json.folders.map(item => `* ${item}`).join('\\\\n') : 'There are currently no directories' }}\\n\\nGroup the current files using the filename as a hint and decide which of the current folders should they be moved to. If there are no current folders, then suggest a folder to be created.\\n\\nIf you can't decide which folder to put the file in, the file should be moved to the misc folder.\",\"messages\":{\"messageValues\":[{\"message\":\"You manage a linux directory on behalf of the user.\"}]},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.4}],\"pinData\":{},\"connections\":{\"Set Variables\":{\"main\":[[{\"node\":\"Get Files and Folders\",\"type\":\"main\",\"index\":0}]]},\"AI File Manager\":{\"main\":[[{\"node\":\"Get Suggestions to List\",\"type\":\"main\",\"index\":0}]]},\"Local File Trigger\":{\"main\":[[{\"node\":\"Set Variables\",\"type\":\"main\",\"index\":0}]]},\"Get Files and Folders\":{\"main\":[[{\"node\":\"Files and Folders to Array\",\"type\":\"main\",\"index\":0}]]},\"If Has Target Files...\":{\"main\":[[{\"node\":\"AI File Manager\",\"type\":\"main\",\"index\":0}]]},\"Get Suggestions to List\":{\"main\":[[{\"node\":\"Move Files into Folders\",\"type\":\"main\",\"index\":0}]]},\"Mistral Cloud Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI File Manager\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"AI File Manager\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Files and Folders to Array\":{\"main\":[[{\"node\":\"If Has Target Files...\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "If you have a shared or personal drive location with a high frequency of files created by humans, it can become difficult to organise. This may not matter... until you need to search for something!\n\nThis n8n workflow works with the local filesystem to target the messy folder and categorise as well as organise its files into sub directories automatically.\n\n## Disclaimer\n\nUnfortunately due to the intended use-case, this workflow will not work on n8n Cloud and a self-hosted version of n8n is required.\n\n## How it works\n\n  * Uses the local file trigger to activate once a new file is introduced to the directory\n  * The new file's filename and filetype are analysed using AI to determine the best location to move this file.\n  * The AI assess the current subdirectories as to not create duplicates. If a relevant subdirectory is not found, a new subdirectory is suggested.\n  * Finally, an Execute Command node uses the AI's suggestions to move the new file into the correct location.\n\n\n\n## Requirements\n\n  * Self-hosted version of n8n. The nodes used in this workflow only work in the self-hosted version.\n  * If you are using docker, you must create a [bind mount](https://docs.docker.com/storage/bind-mounts/) to a host directory.\n  * [Mistral.ai](http://Mistral.ai) account for LLM model\n\n\n\n## Customise this workflow\n\nIf the frequency of files created is high enough, you may not want the trigger to active on every new file created event. Switch to a timer to avoid concurrency issues.\n\n## Want to go fully local?\n\nA version of this workflow is available which uses Ollama instead. You can download this template here:  \n<https://drive.google.com/file/d/1iqJ_zCGussXpfaUBYGrN5opziEFAEQMu/view?usp=sharing>\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>If you have a shared or personal drive location with a high frequency of files created by humans, it can become difficult to organise. This may not matter... until you need to search for something!</p>\n<p>This n8n workflow works with the local filesystem to target the messy folder and categorise as well as organise its files into sub directories automatically.</p>\n<h2>Disclaimer</h2>\n<p>Unfortunately due to the intended use-case, this workflow will not work on n8n Cloud and a self-hosted version of n8n is required.</p>\n<h2>How it works</h2>\n<ul>\n<li>Uses the local file trigger to activate once a new file is introduced to the directory</li>\n<li>The new file's filename and filetype are analysed using AI to determine the best location to move this file.</li>\n<li>The AI assess the current subdirectories as to not create duplicates. If a relevant subdirectory is not found, a new subdirectory is suggested.</li>\n<li>Finally, an Execute Command node uses the AI's suggestions to move the new file into the correct location.</li>\n</ul>\n<h2>Requirements</h2>\n<ul>\n<li>Self-hosted version of n8n. The nodes used in this workflow only work in the self-hosted version.</li>\n<li>If you are using docker, you must create a <a href=\"https://docs.docker.com/storage/bind-mounts/\" rel=\"ugc nofollow\" target=\"_blank\">bind mount</a> to a host directory.</li>\n<li><a href=\"http://Mistral.ai\" rel=\"ugc nofollow\" target=\"_blank\">Mistral.ai</a> account for LLM model</li>\n</ul>\n<h2>Customise this workflow</h2>\n<p>If the frequency of files created is high enough, you may not want the trigger to active on every new file created event. Switch to a timer to avoid concurrency issues.</p>\n<h2>Want to go fully local?</h2>\n<p>A version of this workflow is available which uses Ollama instead. You can download this template here:<br>\n<a href=\"https://drive.google.com/file/d/1iqJ_zCGussXpfaUBYGrN5opziEFAEQMu/view?usp=sharing\" rel=\"ugc nofollow\" target=\"_blank\">https://drive.google.com/file/d/1iqJ_zCGussXpfaUBYGrN5opziEFAEQMu/view?usp=sharing</a></p>\n</div><!--]-->",
  "readme_zh": "è‹¥æ‚¨æ‹¥æœ‰ä¸€ä¸ªå…±äº«æˆ–ä¸ªäººå­˜å‚¨ä½ç½®ï¼Œå…¶ä¸­é¢‘ç¹äº§ç”Ÿäººå·¥åˆ›å»ºçš„æ–‡ä»¶ï¼Œæ•´ç†å·¥ä½œå¯èƒ½ä¼šå˜å¾—æ£˜æ‰‹ã€‚è¿™ç§æƒ…å†µæˆ–è®¸æ— å…³ç´§è¦â€”â€”ç›´åˆ°æ‚¨éœ€è¦æœç´¢æŸä¸ªæ–‡ä»¶æ—¶ï¼\n\nè¿™ä¸ªn8nå·¥ä½œæµé€šè¿‡ä¸æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿåä½œï¼Œä¸“é—¨é’ˆå¯¹æ‚ä¹±æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨å°†å…¶æ–‡ä»¶åˆ†ç±»å¹¶æ•´ç†è‡³ç›¸åº”å­ç›®å½•ä¸­ã€‚\n\n## å…è´£å£°æ˜\n\nç”±äºä½¿ç”¨åœºæ™¯é™åˆ¶ï¼Œè¯¥å·¥ä½œæµæ— æ³•åœ¨n8näº‘å¹³å°ä¸Šè¿è¡Œï¼Œå¿…é¡»ä½¿ç”¨è‡ªæ‰˜ç®¡ç‰ˆæœ¬çš„n8nã€‚\n\n## è¿ä½œåŸç†\n\n* é‡‡ç”¨æœ¬åœ°æ–‡ä»¶è§¦å‘å™¨æœºåˆ¶ï¼Œå½“ç›®å½•ä¸­å‡ºç°æ–°æ–‡ä»¶æ—¶è‡ªåŠ¨æ¿€æ´»\n* é€šè¿‡AIåˆ†ææ–°æ–‡ä»¶çš„æ–‡ä»¶åå’Œç±»å‹ï¼Œæ™ºèƒ½åˆ¤å®šæœ€ä½³å­˜æ”¾ä½ç½®\n* AIä¼šè¯„ä¼°ç°æœ‰å­ç›®å½•ç»“æ„ä»¥é¿å…é‡å¤åˆ›å»ºã€‚è‹¥æœªæ‰¾åˆ°ç›¸å…³å­ç›®å½•ï¼Œå°†å»ºè®®æ–°å»º\n* æœ€ç»ˆé€šè¿‡æ‰§è¡Œå‘½ä»¤èŠ‚ç‚¹ï¼Œæ ¹æ®AIå»ºè®®å°†æ–°æ–‡ä»¶ç§»è‡³æ­£ç¡®ä½ç½®\n\n## å¿…å¤‡æ¡ä»¶\n\n* è‡ªæ‰˜ç®¡ç‰ˆn8nï¼ˆå·¥ä½œæµä¸­çš„èŠ‚ç‚¹ä»…æ”¯æŒè‡ªæ‰˜ç®¡ç‰ˆæœ¬ï¼‰\n* è‹¥ä½¿ç”¨Dockerï¼Œéœ€ä¸ºå®¿ä¸»æœºç›®å½•åˆ›å»º[ç»‘å®šæŒ‚è½½](https://docs.docker.com/storage/bind-mounts/)\n* [Mistral.ai](http://Mistral.ai)è´¦æˆ·ï¼ˆç”¨äºLLMæ¨¡å‹ï¼‰\n\n## è‡ªå®šä¹‰è®¾ç½®\n\nè‹¥æ–‡ä»¶ç”Ÿæˆé¢‘ç‡è¿‡é«˜ï¼Œå¯æ”¹ç”¨å®šæ—¶è§¦å‘å™¨æ›¿ä»£æ–‡ä»¶åˆ›å»ºäº‹ä»¶è§¦å‘å™¨ï¼Œä»¥é¿å…å¹¶å‘é—®é¢˜ã€‚\n\n## æƒ³è¦å®Œå…¨æœ¬åœ°åŒ–è¿è¡Œï¼Ÿ\n\næˆ‘ä»¬æä¾›ä½¿ç”¨Ollamaæ›¿ä»£æ–¹æ¡ˆçš„ç‰ˆæœ¬ï¼Œæ¨¡æ¿ä¸‹è½½åœ°å€ï¼š  \n<https://drive.google.com/file/d/1iqJ_zCGussXpfaUBYGrN5opziEFAEQMu/view?usp=sharing>",
  "title_zh": "ç”¨AIæ•´ç†æ‚¨çš„æœ¬åœ°æ–‡ä»¶ç›®å½•",
  "publish_date_absolute": "2024-08-30",
  "publish_date_zh": "æœ€åæ›´æ–°äº8ä¸ªæœˆå‰",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"26ba763460b97c249b82942b23b6384876dfeb9327513332e743c5f6219c2b8e\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"c92e3d01-4385-4e99-a9a7-77279b3d9cb3\",\n      \"name\": \"Local File Trigger\",\n      \"type\": \"n8n-nodes-base.localFileTrigger\",\n      \"position\": [\n        720,\n        120\n      ],\n      \"parameters\": {\n        \"path\": \"/home/node/host_mount/shared_drive\",\n        \"events\": [\n          \"add\"\n        ],\n        \"options\": {\n          \"awaitWriteFinish\": true\n        },\n        \"triggerOn\": \"folder\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a08f5acc-ee46-49e7-be4d-99edc95ab41f\",\n      \"name\": \"Get Files and Folders\",\n      \"type\": \"n8n-nodes-base.executeCommand\",\n      \"position\": [\n        1200,\n        120\n      ],\n      \"parameters\": {\n        \"command\": \"=ls -p {{ $json.directory }} | grep -v / || true; \\\\\\necho \\\"===\\\"; \\\\\\nls -p {{ $json.directory }} | grep / || true;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f3ab100a-986d-49bc-aeb5-979f16b2fd46\",\n      \"name\": \"Files and Folders to Array\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1380,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ad893795-cae8-4418-99e0-2c68126337d3\",\n              \"name\": \"files\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.stdout.split('===')[0].split('\\\\n').filter(item => !item.endsWith('Zone.Identifier')).compact() }}\"\n            },\n            {\n              \"id\": \"0e7e8571-6b86-481d-a20c-3a7c621c562f\",\n              \"name\": \"folders\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.stdout.split('===')[1].split('\\\\n').compact() }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"56c4a8b4-c5b0-4e2f-806b-fef5fb5260b5\",\n      \"name\": \"Mistral Cloud Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatMistralCloud\",\n      \"position\": [\n        1860,\n        240\n      ],\n      \"parameters\": {\n        \"model\": \"mistral-small-2402\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d586481-904d-4fbd-9b53-77bc2faf08dd\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        2040,\n        240\n      ],\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n\\t\\\"type\\\": \\\"array\\\",\\n\\t\\\"items\\\": {\\n    \\t\\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"folder\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"files\\\": {\\n            \\\"type\\\": \\\"array\\\",\\n            \\\"items\\\": { \\\"type\\\": \\\"string\\\" }\\n          }\\n\\t\\t}\\n    }\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"86025668-aac9-49a2-92ff-ce15df16488c\",\n      \"name\": \"Set Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        940,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"35ea70c4-8669-4975-a68d-bbaa094713c0\",\n              \"name\": \"directory\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Local File Trigger').params.path }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"457bfd30-5cca-417a-88d3-666afe567fd5\",\n      \"name\": \"Move Files into Folders\",\n      \"type\": \"n8n-nodes-base.executeCommand\",\n      \"position\": [\n        2560,\n        140\n      ],\n      \"parameters\": {\n        \"command\": \"=directory=\\\"{{ $('Set Variables').item.json.directory }}\\\"\\nsubdirectory=\\\"$directory/{{ $json.folder }}\\\";\\nfile_list=\\\"{{ $json.files.join(' ') }}\\\";\\n\\n# create subdirectory if not exists\\nmkdir -p $subdirectory;\\n\\n# for each suggestion, move the file into the subdirectory.\\n# If the file in the subdirectory exists, then we'll rename the current file by adding a small random string to the end of the filename.\\nfor filename in $file_list; do\\n    if [ -e \\\"$subdirectory/$filename\\\" ]; then\\n        mv \\\"$directory/$filename-$RANDOM\\\" -t $subdirectory;\\n    else\\n        mv \\\"$directory/$filename\\\" -t $subdirectory;\\n    fi\\ndone\",\n        \"executeOnce\": false\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e9a610bf-b2ae-4b98-870a-2e63790a3b5f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        635.4233386400999,\n        -161.84747801133517\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 483.7926535356806,\n        \"height\": 501.2939838391483,\n        \"content\": \"## ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹\\n[è¯¦ç»†äº†è§£æœ¬åœ°æ–‡ä»¶è§¦å‘å™¨](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.localfiletrigger)\\n\\nåœ¨æœ¬å·¥ä½œæµä¸­ï¼Œæˆ‘ä»¬å°†ç›‘æ§n8nå¯è®¿é—®çš„ç£ç›˜ç‰¹å®šç›®å½•ã€‚ç”±äºä½¿ç”¨dockerç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨n8næ•°æ®å·æˆ–æŒ‚è½½å®¿ä¸»æœºçš„æ–‡ä»¶å¤¹ã€‚\\n\\nå½“ç›®æ ‡æ–‡ä»¶å¤¹å†…å®¹å‘ç”Ÿå˜æ›´æ—¶ï¼Œæœ¬åœ°æ–‡ä»¶è§¦å‘å™¨èƒ½æœ‰æ•ˆå¯åŠ¨å·¥ä½œæµæ‰§è¡Œã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c8961322-a6da-4fc0-a46d-6119c5eac2b0\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1140,\n        -54.28207683557787\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 583.2857596176409,\n        \"height\": 391.527066537946,\n        \"content\": \"## ç¬¬äºŒæ­¥ï¼šè¯†åˆ«éœ€æ•´ç†çš„æ–‡ä»¶  \\n[è¯¦ç»†äº†è§£æ‰§è¡Œå‘½ä»¤èŠ‚ç‚¹](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand)  \\n\\nå¯¹äºç›®æ ‡æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶åˆ†ç±»å¹¶ç§»åŠ¨åˆ°å¯¹åº”çš„å­ç›®å½•ä¸­ã€‚åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Linuxå‘½ä»¤è·å–ç›®æ ‡æ–‡ä»¶å¤¹å½“å‰åŒ…å«çš„æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e31b2d1-288c-479b-8dd8-a171ecd03dea\",\n      \"name\": \"If Has Target Files...\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1560,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9be5a175-e7aa-4d68-9ddc-8b43b43e2d37\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"lengthGte\",\n                \"rightType\": \"number\"\n              },\n              \"leftValue\": \"={{ $json.files }}\",\n              \"rightValue\": \"={{ 1 }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"07fd70ca-9126-4846-a2b0-4f3a8fc5eb69\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1760,\n        -107.13740439436373\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 631.2649908751414,\n        \"height\": 506.8242545618477,\n        \"content\": \"## ç¬¬ä¸‰æ­¥ï¼šè¿ç”¨Mistral AIæ•´ç†ç›®æ ‡æ–‡ä»¶å¤¹\\n[è¿›ä¸€æ­¥äº†è§£Mistral AI](https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatmistralcloud)\\n\\nå°†Mistral AIä½œä¸ºæ™ºèƒ½æ–‡ä»¶ç®¡ç†åŠ©æ‰‹ï¼Œå®ƒèƒ½ååŠ©æˆ‘ä»¬åˆ¤æ–­æ–‡ä»¶åº”å½’å…¥å“ªä¸ªåˆ†ç±»å­ç›®å½•ã€‚è‹¥å¯¹åº”å­ç›®å½•ä¸å­˜åœ¨ï¼ŒMistralè¿˜èƒ½å»ºè®®åˆ›å»ºæ–°ç›®å½•ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2ca9a56c-ed1b-4f16-b207-7229c8d90b76\",\n      \"name\": \"Get Suggestions to List\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        2200,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"output\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"29d425df-e513-429a-802f-02ad3ad86344\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2420,\n        -62.701160902940615\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 401.0065589583014,\n        \"height\": 374.8503908496576,\n        \"content\": \"## æ­¥éª¤4. å°†æ–‡ä»¶ç§»è‡³å­ç›®å½•\\n[è¯¦ç»†äº†è§£æ‰§è¡Œå‘½ä»¤èŠ‚ç‚¹](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand)\\n\\nåœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ‰§è¡Œå‘½ä»¤èŠ‚ç‚¹è¿è¡Œä¸€ä¸ªshellè„šæœ¬ï¼Œå°†æ–‡ä»¶ç§»åŠ¨åˆ°å®ƒä»¬å„è‡ªçš„å­ç›®å½•ä¸­ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a2ee79ea-6b0d-46c0-876f-8cfe12130a62\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        240,\n        -160\n      ],\n      \"parameters\": {\n        \"width\": 372.51107341403605,\n        \"height\": 422.70324544339167,\n        \"content\": \"## è¯•è¯•çœ‹å§ï¼\\n### è¯¥å·¥ä½œæµç¨‹å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š\\n* é€šè¿‡æœ¬åœ°æ–‡ä»¶è§¦å‘å™¨ç›‘æ§ç›®æ ‡æ–‡ä»¶å¤¹çš„å˜åŠ¨\\n* è¯†åˆ«ç›®æ ‡æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ï¼Œå¹¶å°†ä¿¡æ¯ä¼ é€’è‡³Mistral AI\\n* Mistral AIä¼šå»ºè®®å°†é¡¶å±‚æ–‡ä»¶ç§»è‡³å“ªä¸ªå­ç›®å½•ï¼Œè‹¥æ— åˆé€‚å­ç›®å½•è¿˜å¯å»ºè®®æ–°å»º\\n* æœ€åé€šè¿‡æ‰§è¡Œå‘½ä»¤èŠ‚ç‚¹ï¼Œæ ¹æ®AIå»ºè®®å®Œæˆæ–‡ä»¶ç§»åŠ¨æ“ä½œ\\n\\n### éœ€è¦å¸®åŠ©ï¼Ÿ\\nåŠ å…¥[Discordè®¨è®ºç¾¤](https://discord.com/invite/XPKeKXeB7d) æˆ–è®¿é—®[å®˜æ–¹è®ºå›](https://community.n8n.io/)æé—®ï¼\\n\\nç¥æ‚¨æ¢ç´¢æ„‰å¿«ï¼\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a0db31b1-10e2-40bb-9ec6-b91569bf1072\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        174.82571715185748,\n        280\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 438.23697639546396,\n        \"height\": 97.88076166036412,\n        \"content\": \"### ğŸš¨ è­¦å‘Šï¼å³å°†æ‰§è¡Œæ½œåœ¨ç ´åæ€§æ“ä½œï¼\\næ­¤å·¥ä½œæµæ¶‰åŠæ–‡ä»¶ç³»ç»Ÿæ“ä½œã€‚è¿è¡Œæœ¬åœ°å·¥ä½œæµå‰ï¼Œè¯·åŠ¡å¿…å¤‡ä»½æ‚¨çš„æ–‡ä»¶ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c932813c-913c-47bd-a4ba-79056bc6dfd7\",\n      \"name\": \"AI File Manager\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1860,\n        80\n      ],\n      \"parameters\": {\n        \"text\": \"=Here is the list of current files in the directory:\\n{{ $json.files.map(file => `* ${file}`).join('\\\\n') }}\\n\\nHere is the list of current folders in the directory:\\n{{ $json.folders.length ? $json.folders.map(item => `* ${item}`).join('\\\\n') : 'There are currently no directories' }}\\n\\nGroup the current files using the filename as a hint and decide which of the current folders should they be moved to. If there are no current folders, then suggest a folder to be created.\\n\\nIf you can't decide which folder to put the file in, the file should be moved to the misc folder.\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"You manage a linux directory on behalf of the user.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.4\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Set Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Files and Folders\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI File Manager\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Suggestions to List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Local File Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Files and Folders\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Files and Folders to Array\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If Has Target Files...\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI File Manager\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Suggestions to List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Move Files into Folders\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral Cloud Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI File Manager\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"AI File Manager\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Files and Folders to Array\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If Has Target Files...\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}