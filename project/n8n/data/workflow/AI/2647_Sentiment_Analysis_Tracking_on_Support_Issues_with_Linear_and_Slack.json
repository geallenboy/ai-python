{
  "title": "Sentiment Analysis Tracking on Support Issues with Linear and Slack",
  "url": "https://n8n.io/workflows/2647-sentiment-analysis-tracking-on-support-issues-with-linear-and-slack/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Jimleuk",
  "publish_date": "Last update 4 months ago",
  "content": "",
  "workflow_json": "{\"nodes\":[{\"id\":\"82fd6023-2cc3-416e-83b7-fda24d07d77a\",\"name\":\"Issues to List\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[40,-100],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"data.issues.nodes\"},\"typeVersion\":1},{\"id\":\"9cc77786-e14f-47c6-a3cf-60c2830612e6\",\"name\":\"OpenAI Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[360,80],\"parameters\":{\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1},{\"id\":\"821d4a60-81a4-4915-9c13-3d978cc0114b\",\"name\":\"Combine Sentiment Analysis\",\"type\":\"n8n-nodes-base.set\",\"position\":[700,-80],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={{\\n{\\n  ...$('Issues to List').item.json,\\n  ...$json.output\\n}\\n}}\"},\"typeVersion\":3.4},{\"id\":\"fe6560f6-2e1b-4442-a2af-bd5a1623f213\",\"name\":\"Sentiment over Issue Comments\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[360,-80],\"parameters\":{\"text\":\"={{\\n$json.comments.nodes.map(node => [\\n  `${node.user.displayName} commented on ${node.createdAt}:`,\\n   node.body\\n].join('\\\\n')).join('---\\\\n')\\n}}\",\"options\":{},\"attributes\":{\"attributes\":[{\"name\":\"sentiment\",\"required\":true,\"description\":\"One of positive, negative or neutral\"},{\"name\":\"sentimentSummary\",\"description\":\"Describe the sentiment of the conversation\"}]}},\"typeVersion\":1},{\"id\":\"4fd0345d-e5bf-426d-8403-e2217e19bbea\",\"name\":\"Copy of Issue\",\"type\":\"n8n-nodes-base.set\",\"position\":[1200,-60],\"parameters\":{\"mode\":\"raw\",\"options\":{},\"jsonOutput\":\"={{ $json }}\"},\"typeVersion\":3.4},{\"id\":\"6d103d67-451e-4780-8f52-f4dba4b42860\",\"name\":\"For Each Issue...\",\"type\":\"n8n-nodes-base.splitInBatches\",\"position\":[1020,-60],\"parameters\":{\"options\":{}},\"typeVersion\":3},{\"id\":\"032702d9-27d8-4735-b978-20b55bc1a74f\",\"name\":\"Get Existing Sentiment\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1380,-60],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appViDaeaFw4qv9La\",\"cachedResultUrl\":\"https://airtable.com/appViDaeaFw4qv9La\",\"cachedResultName\":\"Sentiment Analysis over Issue Comments\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblhO0sfRhKP6ibS8\",\"cachedResultUrl\":\"https://airtable.com/appViDaeaFw4qv9La/tblhO0sfRhKP6ibS8\",\"cachedResultName\":\"Table 1\"},\"options\":{\"fields\":[\"Issue ID\",\"Current Sentiment\"]},\"operation\":\"search\",\"filterByFormula\":\"={Issue ID} = '{{ $json.identifier || 'XYZ' }}'\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1,\"alwaysOutputData\":true},{\"id\":\"f2ded6fa-8b0f-4a34-868c-13c19f725c98\",\"name\":\"Update Row\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[1560,-60],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appViDaeaFw4qv9La\",\"cachedResultUrl\":\"https://airtable.com/appViDaeaFw4qv9La\",\"cachedResultName\":\"Sentiment Analysis over Issue Comments\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblhO0sfRhKP6ibS8\",\"cachedResultUrl\":\"https://airtable.com/appViDaeaFw4qv9La/tblhO0sfRhKP6ibS8\",\"cachedResultName\":\"Table 1\"},\"columns\":{\"value\":{\"Summary\":\"={{ $('Copy of Issue').item.json.sentimentSummary || '' }}\",\"Assigned\":\"={{ $('Copy of Issue').item.json.assignee.name }}\",\"Issue ID\":\"={{ $('Copy of Issue').item.json.identifier }}\",\"Issue Title\":\"={{ $('Copy of Issue').item.json.title }}\",\"Issue Created\":\"={{ $('Copy of Issue').item.json.createdAt }}\",\"Issue Updated\":\"={{ $('Copy of Issue').item.json.updatedAt }}\",\"Current Sentiment\":\"={{ $('Copy of Issue').item.json.sentiment.toSentenceCase() }}\",\"Previous Sentiment\":\"={{ !$json.isEmpty() ? $json['Current Sentiment'] : 'N/A' }}\"},\"schema\":[{\"id\":\"id\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"id\",\"defaultMatch\":true},{\"id\":\"Issue ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Issue ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Previous Sentiment\",\"type\":\"options\",\"display\":true,\"options\":[{\"name\":\"Positive\",\"value\":\"Positive\"},{\"name\":\"Negative\",\"value\":\"Negative\"},{\"name\":\"Neutral\",\"value\":\"Neutral\"},{\"name\":\"N/A\",\"value\":\"N/A\"}],\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Previous Sentiment\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Current Sentiment\",\"type\":\"options\",\"display\":true,\"options\":[{\"name\":\"Positive\",\"value\":\"Positive\"},{\"name\":\"Negative\",\"value\":\"Negative\"},{\"name\":\"Neutral\",\"value\":\"Neutral\"},{\"name\":\"N/A\",\"value\":\"N/A\"}],\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Current Sentiment\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Summary\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Summary\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Issue Title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Issue Title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Issue Created\",\"type\":\"dateTime\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Issue Created\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Issue Updated\",\"type\":\"dateTime\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Issue Updated\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Assigned\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Assigned\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Created\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"Created\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Last Modified\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"Last Modified\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"Issue ID\"]},\"options\":{},\"operation\":\"upsert\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"e6fb0b8f-2469-4b66-b9e2-f4f3c0a613af\",\"name\":\"Airtable Trigger\",\"type\":\"n8n-nodes-base.airtableTrigger\",\"position\":[1900,-40],\"parameters\":{\"baseId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"appViDaeaFw4qv9La\"},\"tableId\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"tblhO0sfRhKP6ibS8\"},\"pollTimes\":{\"item\":[{\"mode\":\"everyHour\"}]},\"triggerField\":\"Current Sentiment\",\"authentication\":\"airtableTokenApi\",\"additionalFields\":{}},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":1},{\"id\":\"669762c4-860b-43ad-b677-72d4564e1c29\",\"name\":\"Sentiment Transition\",\"type\":\"n8n-nodes-base.switch\",\"position\":[2080,-40],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"NON-NEGATIVE to NEGATIVE\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.fields[\\\"Previous Sentiment\\\"] !== 'Negative' && $json.fields[\\\"Current Sentiment\\\"] === 'Negative' }}\",\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{\"fallbackOutput\":\"none\"}},\"typeVersion\":3.2},{\"id\":\"2fbcfbea-3989-459b-8ca7-b65c130a479b\",\"name\":\"Fetch Active Linear Issues\",\"type\":\"n8n-nodes-base.graphql\",\"position\":[-140,-100],\"parameters\":{\"query\":\"=query (\\n  $filter: IssueFilter\\n) {\\n  issues(\\n    filter: $filter\\n  ) {\\n    nodes {\\n      id\\n      identifier\\n      title\\n      description\\n      url\\n      createdAt\\n      updatedAt\\n      assignee {\\n        name\\n      }\\n      comments {\\n        nodes {\\n          id\\n          createdAt\\n          user {\\n            displayName\\n          }\\n          body\\n        }\\n      }\\n    }\\n  }\\n}\",\"endpoint\":\"https://api.linear.app/graphql\",\"variables\":\"={{\\n{\\n  \\\"filter\\\": {\\n    updatedAt: { gte: $now.minus(30, 'minutes').toISO() }\\n  }\\n}\\n}}\",\"requestFormat\":\"json\",\"authentication\":\"headerAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"XME2Ubkuy9hpPEM5\",\"name\":\"Linear.app (heightio)\"}},\"typeVersion\":1},{\"id\":\"aaf1c25e-c398-4715-88bf-bd98daafc10f\",\"name\":\"Schedule Trigger\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[-340,-100],\"parameters\":{\"rule\":{\"interval\":[{\"field\":\"minutes\",\"minutesInterval\":30}]}},\"typeVersion\":1.2},{\"id\":\"b3e2df39-90ce-4ebf-aa68-05499965ec30\",\"name\":\"Deduplicate Notifications\",\"type\":\"n8n-nodes-base.removeDuplicates\",\"position\":[2280,-40],\"parameters\":{\"options\":{},\"operation\":\"removeItemsSeenInPreviousExecutions\",\"dedupeValue\":\"={{ $json.fields[\\\"Issue ID\\\"] }}:{{ $json.fields['Last Modified'] }}\"},\"typeVersion\":2},{\"id\":\"2a116475-32cd-4c9d-bfc1-3bd494f79a49\",\"name\":\"Report Issue Negative Transition\",\"type\":\"n8n-nodes-base.slack\",\"position\":[2480,-40],\"webhookId\":\"612f1001-3fcc-480b-a835-05f9e2d56a5f\",\"parameters\":{\"text\":\"={{ $('Deduplicate Notifications').all().length }} Issues have transitions to Negative Sentiment\",\"select\":\"channel\",\"blocksUi\":\"={{\\n{\\n  \\\"blocks\\\": [\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n          \\\"type\\\": \\\"mrkdwn\\\",\\n          \\\"text\\\": \\\":rotating_light: The following Issues transitioned to Negative Sentiment\\\"\\n      }\\n    },\\n    {\\n        \\\"type\\\": \\\"divider\\\"\\n    },\\n    ...($('Deduplicate Notifications').all().map(item => (\\n      {\\n        \\\"type\\\": \\\"section\\\",\\n        \\\"text\\\": {\\n            \\\"type\\\": \\\"mrkdwn\\\",\\n            \\\"text\\\": `*<https://linear.app/myOrg/issue/${$json.fields['Issue ID']}|${$json.fields['Issue ID']} ${$json.fields['Issue Title']}>*\\\\n${$json.fields.Summary}`\\n        }\\n      }\\n    )))\\n  ]\\n}\\n}}\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C0749JVFERK\",\"cachedResultName\":\"n8n-tickets\"},\"messageType\":\"block\",\"otherOptions\":{}},\"credentials\":{\"slackApi\":{\"id\":\"VfK3js0YdqBdQLGP\",\"name\":\"Slack account\"}},\"executeOnce\":true,\"typeVersion\":2.3},{\"id\":\"1f3d30b6-de31-45a8-a872-554c339f112f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-420,-320],\"parameters\":{\"color\":7,\"width\":660,\"height\":440,\"content\":\"## 1. Continuously Monitor Active Linear Issues\\n[Learn more about the GraphQL node](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.graphql)\\n\\nTo keep up with the latest changes in our active Linear tickets, we'll need to use Linear's GraphQL endpoint because filtering is currently unavailable in the official Linear.app node.\\n\\nFor this demonstration, we'll check for updated tickets every 30mins.\"},\"typeVersion\":1},{\"id\":\"9024512d-5cb9-4e9f-b6e1-495d1a32118a\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[260,-320],\"parameters\":{\"color\":7,\"width\":640,\"height\":560,\"content\":\"## 2. Sentiment Analysis on Current Issue Activity\\n[Learn more about the Information Extractor node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.information-extractor)\\n\\nWith our recently updated posts, we can use our AI to perform a quick sentiment analysis on the ongoing conversation to check the overall mood of the support issue. This is a great way to check how things are generally going in the support queue; positive should be normal but negative could indicate some uncomfortableness or even frustration.\"},\"typeVersion\":1},{\"id\":\"233ebd6d-38cb-4f2d-84b5-29c97d30d77b\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[920,-320],\"parameters\":{\"color\":7,\"width\":840,\"height\":560,\"content\":\"## 3. Capture and Track Results in Airtable\\n[Learn more about the Airtable node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.airtable)\\n\\nNext, we can capture this analysis in our insights database as means for human review. When the issue is new, we can create a new row but if the issue exists, we will update it's existing row instead.\\n\\nWhen updating an existing row, we move its previous \\\"current sentiment\\\" value into the \\\"previous sentiment\\\" column and replace with our new current sentiment. This gives us a \\\"sentiment transition\\\" which will be useful in the next step.\\n\\nCheck out the Airtable here: https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL\"},\"typeVersion\":1},{\"id\":\"a2229225-b580-43cb-b234-4f69cb5924fd\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1800,-320],\"parameters\":{\"color\":7,\"width\":920,\"height\":560,\"content\":\"## 4. Get Notified when Sentiment becomes Negative\\n[Learn more about the Slack node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/)\\n\\nA good use-case for tracking sentiment transitions could be to be alerted if ever an issue moves from a non-negative sentiment to a negative one. This could be a signal of issue handling troubles which may require attention before it escalates.\\n\\nIn this demonstration, we use the Airtable trigger to catch rows which have their sentiment column updated and check for the non-negative-to-negative sentiment transition using the switch node. For those matching rows, we combine add send a notification via slack. A cool trick is to use the \\\"remove duplication\\\" node to prevent repeat notifications for the same updates - here we combine the Linear issue key and the row's last modified date.\"},\"typeVersion\":1},{\"id\":\"6f26769e-ec5d-46d0-ae0a-34148b24e6a2\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-940,-720],\"parameters\":{\"width\":480,\"height\":840,\"content\":\"## Try It Out!\\n### This n8n template performs continous monitoring on Linear Issue conversations performing sentiment analysis and alerting when the sentiment becomes negative.\\nThis is helpful to quickly identify difficult customer support situations early and prioritising them before they get out of hand.\\n\\n## How it works\\n* A scheduled trigger is used to fetch recently updated issues in Linear using the GraphQL node.\\n* Each issue's comments thread is passed into a simple Information Extractor node to identify the overall sentiment.\\n* The resulting sentiment analysis combined with the some issue details are uploaded to Airtable for review.\\n* When the template is re-run at a later date, each issue is re-analysed for sentiment\\n* Each issue's new sentiment state is saved to the airtable whilst its previous state is moved to the \\\"previous sentiment\\\" column.\\n* An Airtable trigger is used to watch for recently updated rows\\n* Each matching Airtable row is filtered to check if it has a previous non-negative state but now has a negative state in its current sentiment.\\n* The results are sent via notification to a team slack channel for priority.\\n\\n**Check out the sample Airtable here**: https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL\\n\\n## How to use\\n* Modify the GraphQL filter to fetch issues to a relevant issue type, team or person.\\n* Update the Slack channel to ensure messages are sent to the correct location.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\\n\\nHappy Hacking!\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Update Row\":{\"main\":[[{\"node\":\"For Each Issue...\",\"type\":\"main\",\"index\":0}]]},\"Copy of Issue\":{\"main\":[[{\"node\":\"Get Existing Sentiment\",\"type\":\"main\",\"index\":0}]]},\"Issues to List\":{\"main\":[[{\"node\":\"Sentiment over Issue Comments\",\"type\":\"main\",\"index\":0}]]},\"Airtable Trigger\":{\"main\":[[{\"node\":\"Sentiment Transition\",\"type\":\"main\",\"index\":0}]]},\"Schedule Trigger\":{\"main\":[[{\"node\":\"Fetch Active Linear Issues\",\"type\":\"main\",\"index\":0}]]},\"For Each Issue...\":{\"main\":[[],[{\"node\":\"Copy of Issue\",\"type\":\"main\",\"index\":0}]]},\"OpenAI Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Sentiment over Issue Comments\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Sentiment Transition\":{\"main\":[[{\"node\":\"Deduplicate Notifications\",\"type\":\"main\",\"index\":0}]]},\"Get Existing Sentiment\":{\"main\":[[{\"node\":\"Update Row\",\"type\":\"main\",\"index\":0}]]},\"Deduplicate Notifications\":{\"main\":[[{\"node\":\"Report Issue Negative Transition\",\"type\":\"main\",\"index\":0}]]},\"Combine Sentiment Analysis\":{\"main\":[[{\"node\":\"For Each Issue...\",\"type\":\"main\",\"index\":0}]]},\"Fetch Active Linear Issues\":{\"main\":[[{\"node\":\"Issues to List\",\"type\":\"main\",\"index\":0}]]},\"Sentiment over Issue Comments\":{\"main\":[[{\"node\":\"Combine Sentiment Analysis\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "This n8n template monitors active support issues in Linear.app to track the mood of their ongoing conversation between reporter and assignee using Sentiment Analysis. When sentiment dips into the negative, a notification is sent via Slack to alert the team.\n\n## How it works\n\n  * A scheduled trigger is used to fetch recently updated issues in Linear using the GraphQL node.\n  * Each issue's comments thread is passed into a simple Information Extractor node to identify the overall sentiment.\n  * The resulting sentiment analysis combined with the some issue details are uploaded to Airtable for review.\n  * When the template is re-run at a later date, each issue is re-analysed for sentiment\n  * Each issue's new sentiment state is saved to the airtable whilst its previous state is moved to the \"previous sentiment\" column.\n  * An Airtable trigger is used to watch for recently updated rows\n  * Each matching Airtable row is filtered to check if it has a previous non-negative state but now has a negative state in its current sentiment.\n  * The results are sent via notification to a team slack channel for priority.\n\n\n\n**Check out the sample Airtable here** : <https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL>\n\n## How to use\n\n  * Modify the GraphQL filter to fetch issues to a relevant issue type, team or person.\n  * Update the Slack channel to ensure messages are sent to the correct location or persons.\n  * The Airtable also serves to give a snapshot of Sentiment across support tickets for a given period. It's possible to use this to assess the daily operations.\n\n\n\n## Requirements\n\n  * Linear for issue tracking (but feel free to use another system if preferred)\n  * Airtable for Database\n  * OpenAI for LLM and Sentiment Analysis\n\n\n\n## Customising the workflow\n\n  * Add more granular levels of sentiment to reduce the number of alerts.\n  * Explore different types of sentiment based on issue types and customer types. This may help prioritise alerts and response.\n  * Run across teams or categories of issues to get an overview of sentiment across the support organisation.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This n8n template monitors active support issues in Linear.app to track the mood of their ongoing conversation between reporter and assignee using Sentiment Analysis. When sentiment dips into the negative, a notification is sent via Slack to alert the team.</p>\n<h2>How it works</h2>\n<ul>\n<li>A scheduled trigger is used to fetch recently updated issues in Linear using the GraphQL node.</li>\n<li>Each issue's comments thread is passed into a simple Information Extractor node to identify the overall sentiment.</li>\n<li>The resulting sentiment analysis combined with the some issue details are uploaded to Airtable for review.</li>\n<li>When the template is re-run at a later date, each issue is re-analysed for sentiment</li>\n<li>Each issue's new sentiment state is saved to the airtable whilst its previous state is moved to the \"previous sentiment\" column.</li>\n<li>An Airtable trigger is used to watch for recently updated rows</li>\n<li>Each matching Airtable row is filtered to check if it has a previous non-negative state but now has a negative state in its current sentiment.</li>\n<li>The results are sent via notification to a team slack channel for priority.</li>\n</ul>\n<p><strong>Check out the sample Airtable here</strong>: <a href=\"https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL\" rel=\"ugc nofollow\" target=\"_blank\">https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL</a></p>\n<h2>How to use</h2>\n<ul>\n<li>Modify the GraphQL filter to fetch issues to a relevant issue type, team or person.</li>\n<li>Update the Slack channel to ensure messages are sent to the correct location or persons.</li>\n<li>The Airtable also serves to give a snapshot of Sentiment across support tickets for a given period. It's possible to use this to assess the daily operations.</li>\n</ul>\n<h2>Requirements</h2>\n<ul>\n<li>Linear for issue tracking (but feel free to use another system if preferred)</li>\n<li>Airtable for Database</li>\n<li>OpenAI for LLM and Sentiment Analysis</li>\n</ul>\n<h2>Customising the workflow</h2>\n<ul>\n<li>Add more granular levels of sentiment to reduce the number of alerts.</li>\n<li>Explore different types of sentiment based on issue types and customer types. This may help prioritise alerts and response.</li>\n<li>Run across teams or categories of issues to get an overview of sentiment across the support organisation.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "该n8n模板用于监控Linear.app中的活跃支持问题，通过情感分析追踪报告者与处理人之间对话的情绪变化。当情绪倾向转为负面时，系统会通过Slack发送通知提醒团队。\n\n## 运作原理\n\n* 定时触发器通过GraphQL节点获取Linear最近更新的问题\n* 每个问题的评论内容经信息提取节点分析整体情绪倾向\n* 情感分析结果与问题详情一并上传至Airtable存档\n* 模板再次运行时将重新分析每个问题的情绪状态\n* 新情绪状态更新至Airtable，原状态移至\"先前情绪\"列\n* Airtable触发器监测新增修改记录\n* 筛选出\"先前非负面→当前负面\"的状态变化记录\n* 最终通过Slack频道向团队发送优先处理通知\n\n**查看Airtable示例**：<https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL>\n\n## 使用指南\n\n* 调整GraphQL筛选器以获取特定类型/团队/负责人的问题\n* 更新Slack频道确保通知发送至正确接收方\n* Airtable还可生成指定时段内支持工单的情绪概览，可用于日常运营评估\n\n## 系统要求\n\n* 问题追踪系统（推荐Linear，可替换为其他系统）\n* Airtable数据库\n* OpenAI语言模型（用于情感分析）\n\n## 流程定制建议\n\n* 增加情绪分级维度以减少警报频次\n* 根据问题类型/客户类型采用差异化分析模型，优化警报优先级\n* 跨团队/跨类别运行分析，获取整体支持体系情绪态势",
  "title_zh": "支持问题的线性与Slack情绪分析追踪",
  "publish_date_absolute": "2025-01-07",
  "publish_date_zh": "最后更新于4个月前",
  "workflow_json_zh": "{\n  \"nodes\": [\n    {\n      \"id\": \"82fd6023-2cc3-416e-83b7-fda24d07d77a\",\n      \"name\": \"Issues to List\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        40,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data.issues.nodes\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9cc77786-e14f-47c6-a3cf-60c2830612e6\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        360,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"821d4a60-81a4-4915-9c13-3d978cc0114b\",\n      \"name\": \"Combine Sentiment Analysis\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        700,\n        -80\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{\\n{\\n  ...$('Issues to List').item.json,\\n  ...$json.output\\n}\\n}}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"fe6560f6-2e1b-4442-a2af-bd5a1623f213\",\n      \"name\": \"Sentiment over Issue Comments\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        360,\n        -80\n      ],\n      \"parameters\": {\n        \"text\": \"={{\\n$json.comments.nodes.map(node => [\\n  `${node.user.displayName} commented on ${node.createdAt}:`,\\n   node.body\\n].join('\\\\n')).join('---\\\\n')\\n}}\",\n        \"options\": {},\n        \"attributes\": {\n          \"attributes\": [\n            {\n              \"name\": \"sentiment\",\n              \"required\": true,\n              \"description\": \"One of positive, negative or neutral\"\n            },\n            {\n              \"name\": \"sentimentSummary\",\n              \"description\": \"Describe the sentiment of the conversation\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4fd0345d-e5bf-426d-8403-e2217e19bbea\",\n      \"name\": \"Copy of Issue\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1200,\n        -60\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{ $json }}\"\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"6d103d67-451e-4780-8f52-f4dba4b42860\",\n      \"name\": \"For Each Issue...\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1020,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"032702d9-27d8-4735-b978-20b55bc1a74f\",\n      \"name\": \"Get Existing Sentiment\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1380,\n        -60\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appViDaeaFw4qv9La\",\n          \"cachedResultUrl\": \"https://airtable.com/appViDaeaFw4qv9La\",\n          \"cachedResultName\": \"Sentiment Analysis over Issue Comments\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblhO0sfRhKP6ibS8\",\n          \"cachedResultUrl\": \"https://airtable.com/appViDaeaFw4qv9La/tblhO0sfRhKP6ibS8\",\n          \"cachedResultName\": \"Table 1\"\n        },\n        \"options\": {\n          \"fields\": [\n            \"Issue ID\",\n            \"Current Sentiment\"\n          ]\n        },\n        \"operation\": \"search\",\n        \"filterByFormula\": \"={Issue ID} = '{{ $json.identifier || 'XYZ' }}'\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"f2ded6fa-8b0f-4a34-868c-13c19f725c98\",\n      \"name\": \"Update Row\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1560,\n        -60\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appViDaeaFw4qv9La\",\n          \"cachedResultUrl\": \"https://airtable.com/appViDaeaFw4qv9La\",\n          \"cachedResultName\": \"Sentiment Analysis over Issue Comments\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblhO0sfRhKP6ibS8\",\n          \"cachedResultUrl\": \"https://airtable.com/appViDaeaFw4qv9La/tblhO0sfRhKP6ibS8\",\n          \"cachedResultName\": \"Table 1\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"Summary\": \"={{ $('Copy of Issue').item.json.sentimentSummary || '' }}\",\n            \"Assigned\": \"={{ $('Copy of Issue').item.json.assignee.name }}\",\n            \"Issue ID\": \"={{ $('Copy of Issue').item.json.identifier }}\",\n            \"Issue Title\": \"={{ $('Copy of Issue').item.json.title }}\",\n            \"Issue Created\": \"={{ $('Copy of Issue').item.json.createdAt }}\",\n            \"Issue Updated\": \"={{ $('Copy of Issue').item.json.updatedAt }}\",\n            \"Current Sentiment\": \"={{ $('Copy of Issue').item.json.sentiment.toSentenceCase() }}\",\n            \"Previous Sentiment\": \"={{ !$json.isEmpty() ? $json['Current Sentiment'] : 'N/A' }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true\n            },\n            {\n              \"id\": \"Issue ID\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Issue ID\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Previous Sentiment\",\n              \"type\": \"options\",\n              \"display\": true,\n              \"options\": [\n                {\n                  \"name\": \"Positive\",\n                  \"value\": \"Positive\"\n                },\n                {\n                  \"name\": \"Negative\",\n                  \"value\": \"Negative\"\n                },\n                {\n                  \"name\": \"Neutral\",\n                  \"value\": \"Neutral\"\n                },\n                {\n                  \"name\": \"N/A\",\n                  \"value\": \"N/A\"\n                }\n              ],\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Previous Sentiment\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Current Sentiment\",\n              \"type\": \"options\",\n              \"display\": true,\n              \"options\": [\n                {\n                  \"name\": \"Positive\",\n                  \"value\": \"Positive\"\n                },\n                {\n                  \"name\": \"Negative\",\n                  \"value\": \"Negative\"\n                },\n                {\n                  \"name\": \"Neutral\",\n                  \"value\": \"Neutral\"\n                },\n                {\n                  \"name\": \"N/A\",\n                  \"value\": \"N/A\"\n                }\n              ],\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Current Sentiment\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Summary\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Summary\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Issue Title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Issue Title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Issue Created\",\n              \"type\": \"dateTime\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Issue Created\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Issue Updated\",\n              \"type\": \"dateTime\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Issue Updated\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Assigned\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Assigned\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Created\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Created\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Last Modified\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Last Modified\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"Issue ID\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"upsert\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"e6fb0b8f-2469-4b66-b9e2-f4f3c0a613af\",\n      \"name\": \"Airtable Trigger\",\n      \"type\": \"n8n-nodes-base.airtableTrigger\",\n      \"position\": [\n        1900,\n        -40\n      ],\n      \"parameters\": {\n        \"baseId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"appViDaeaFw4qv9La\"\n        },\n        \"tableId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"tblhO0sfRhKP6ibS8\"\n        },\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyHour\"\n            }\n          ]\n        },\n        \"triggerField\": \"Current Sentiment\",\n        \"authentication\": \"airtableTokenApi\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"669762c4-860b-43ad-b677-72d4564e1c29\",\n      \"name\": \"Sentiment Transition\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        2080,\n        -40\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"NON-NEGATIVE to NEGATIVE\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"boolean\",\n                      \"operation\": \"true\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.fields[\\\"Previous Sentiment\\\"] !== 'Negative' && $json.fields[\\\"Current Sentiment\\\"] === 'Negative' }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"none\"\n        }\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"2fbcfbea-3989-459b-8ca7-b65c130a479b\",\n      \"name\": \"Fetch Active Linear Issues\",\n      \"type\": \"n8n-nodes-base.graphql\",\n      \"position\": [\n        -140,\n        -100\n      ],\n      \"parameters\": {\n        \"query\": \"=query (\\n  $filter: IssueFilter\\n) {\\n  issues(\\n    filter: $filter\\n  ) {\\n    nodes {\\n      id\\n      identifier\\n      title\\n      description\\n      url\\n      createdAt\\n      updatedAt\\n      assignee {\\n        name\\n      }\\n      comments {\\n        nodes {\\n          id\\n          createdAt\\n          user {\\n            displayName\\n          }\\n          body\\n        }\\n      }\\n    }\\n  }\\n}\",\n        \"endpoint\": \"https://api.linear.app/graphql\",\n        \"variables\": \"={{\\n{\\n  \\\"filter\\\": {\\n    updatedAt: { gte: $now.minus(30, 'minutes').toISO() }\\n  }\\n}\\n}}\",\n        \"requestFormat\": \"json\",\n        \"authentication\": \"headerAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"XME2Ubkuy9hpPEM5\",\n          \"name\": \"Linear.app (heightio)\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aaf1c25e-c398-4715-88bf-bd98daafc10f\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -340,\n        -100\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"minutes\",\n              \"minutesInterval\": 30\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"b3e2df39-90ce-4ebf-aa68-05499965ec30\",\n      \"name\": \"Deduplicate Notifications\",\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"position\": [\n        2280,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"removeItemsSeenInPreviousExecutions\",\n        \"dedupeValue\": \"={{ $json.fields[\\\"Issue ID\\\"] }}:{{ $json.fields['Last Modified'] }}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"2a116475-32cd-4c9d-bfc1-3bd494f79a49\",\n      \"name\": \"Report Issue Negative Transition\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        2480,\n        -40\n      ],\n      \"webhookId\": \"612f1001-3fcc-480b-a835-05f9e2d56a5f\",\n      \"parameters\": {\n        \"text\": \"={{ $('Deduplicate Notifications').all().length }} Issues have transitions to Negative Sentiment\",\n        \"select\": \"channel\",\n        \"blocksUi\": \"={{\\n{\\n  \\\"blocks\\\": [\\n    {\\n      \\\"type\\\": \\\"section\\\",\\n      \\\"text\\\": {\\n          \\\"type\\\": \\\"mrkdwn\\\",\\n          \\\"text\\\": \\\":rotating_light: The following Issues transitioned to Negative Sentiment\\\"\\n      }\\n    },\\n    {\\n        \\\"type\\\": \\\"divider\\\"\\n    },\\n    ...($('Deduplicate Notifications').all().map(item => (\\n      {\\n        \\\"type\\\": \\\"section\\\",\\n        \\\"text\\\": {\\n            \\\"type\\\": \\\"mrkdwn\\\",\\n            \\\"text\\\": `*<https://linear.app/myOrg/issue/${$json.fields['Issue ID']}|${$json.fields['Issue ID']} ${$json.fields['Issue Title']}>*\\\\n${$json.fields.Summary}`\\n        }\\n      }\\n    )))\\n  ]\\n}\\n}}\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C0749JVFERK\",\n          \"cachedResultName\": \"n8n-tickets\"\n        },\n        \"messageType\": \"block\",\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"VfK3js0YdqBdQLGP\",\n          \"name\": \"Slack account\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"1f3d30b6-de31-45a8-a872-554c339f112f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -420,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 660,\n        \"height\": 440,\n        \"content\": \"## 1. 持续监控活跃的Linear问题单\\n[了解更多GraphQL节点信息](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.graphql)\\n\\n由于官方Linear.app节点暂不支持筛选功能，我们需要通过Linear的GraphQL接口来实时追踪活跃问题单的最新动态。\\n\\n本示例将设置每30分钟自动检查一次问题单更新状态。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9024512d-5cb9-4e9f-b6e1-495d1a32118a\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        260,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 640,\n        \"height\": 560,\n        \"content\": \"## 2. 当前工单活动的情感分析\\n[了解更多关于信息提取器节点的信息](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.information-extractor)\\n\\n借助我们最新更新的帖子内容，可以利用AI对当前对话进行快速情感分析，以评估支持工单的整体情绪基调。这是监测支持队列整体状况的有效方式——积极情绪属于正常现象，而消极情绪则可能暗示用户存在不适甚至沮丧情绪。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"233ebd6d-38cb-4f2d-84b5-29c97d30d77b\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        920,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 840,\n        \"height\": 560,\n        \"content\": \"## 3. 在Airtable中记录与追踪结果\\n[了解更多Airtable节点功能](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.airtable)\\n\\n接下来，我们可以将分析结果记录到洞察数据库中，以便人工审核。若为新问题则创建新行，若问题已存在则更新原有行。\\n\\n更新现有行时，我们会将原\\\"当前情绪值\\\"移至\\\"先前情绪值\\\"列，并填入新检测值。这样形成的\\\"情绪变迁记录\\\"将在后续步骤中发挥作用。\\n\\n查看Airtable表格：https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a2229225-b580-43cb-b234-4f69cb5924fd\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1800,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 920,\n        \"height\": 560,\n        \"content\": \"## 4. 当情绪转为负面时获取通知\\n[了解更多关于Slack节点的信息](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/)\\n\\n追踪情绪变化的一个典型应用场景是：当某个问题从非负面情绪转变为负面情绪时触发警报。这可能是问题处理出现困难的信号，需要在事态升级前予以关注。\\n\\n在本演示中，我们使用Airtable触发器捕捉情感列被更新的数据行，并通过switch节点检测从非负面到负面情绪的转变。对于匹配的数据行，我们会组合信息并通过Slack发送通知。其中有个实用技巧是使用\\\"去重\\\"节点防止对相同更新重复发送通知——这里我们结合了Linear问题编号和数据行的最后修改日期作为去重依据。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f26769e-ec5d-46d0-ae0a-34148b24e6a2\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -940,\n        -720\n      ],\n      \"parameters\": {\n        \"width\": 480,\n        \"height\": 840,\n        \"content\": \"## 试试看吧！\\n### 该n8n模板可对Linear问题讨论区进行持续监控，执行情感分析并在情绪转为负面时发出警报。\\n此功能有助于快速识别棘手的客户支持情况，并在事态失控前优先处理。\\n\\n## 工作原理\\n* 使用计划触发器通过GraphQL节点获取Linear中最近更新的问题\\n* 每个问题的评论内容会传入简易信息提取节点进行整体情绪判断\\n* 情感分析结果与问题详情将上传至Airtable供审核\\n* 当模板再次运行时，系统会重新分析每个问题的情绪状态\\n* 新情绪状态存入Airtable，旧状态则移至\\\"先前情绪\\\"列\\n* 通过Airtable触发器监测最近更新的记录\\n* 筛选出\\\"先前非负面但当前转为负面\\\"状态的记录\\n* 最终结果将通过通知发送至团队Slack频道进行优先处理\\n\\n**查看Airtable示例**：https://airtable.com/appViDaeaFw4qv9La/shrq6HgeYzpW6uwXL\\n\\n## 使用方法\\n* 调整GraphQL筛选器以获取相关类型/团队/人员的问题\\n* 更新Slack频道确保消息发送至正确位置\\n\\n### 需要帮助？\\n加入[Discord](https://discord.com/invite/XPKeKXeB7d)或访问[论坛](https://community.n8n.io/)提问！\\n\\n祝您使用愉快！\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Update Row\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For Each Issue...\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Copy of Issue\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Existing Sentiment\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Issues to List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sentiment over Issue Comments\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Airtable Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sentiment Transition\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Active Linear Issues\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"For Each Issue...\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Copy of Issue\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Sentiment over Issue Comments\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sentiment Transition\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Deduplicate Notifications\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Existing Sentiment\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Row\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Deduplicate Notifications\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Report Issue Negative Transition\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Combine Sentiment Analysis\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For Each Issue...\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Active Linear Issues\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Issues to List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sentiment over Issue Comments\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Combine Sentiment Analysis\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}