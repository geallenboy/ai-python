{
  "title": "Create AI-Ready Vector Datasets for LLMs with Bright Data, Gemini & Pinecone",
  "url": "https://n8n.io/workflows/3542-create-ai-ready-vector-datasets-for-llms-with-bright-data-gemini-and-pinecone/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Ranjan Dailata",
  "publish_date": "Last update 12 days ago",
  "content": "",
  "workflow_json": "{\"id\":\"3Lih0LVosR8dZbla\",\"meta\":{\"instanceId\":\"885b4fb4a6a9c2cb5621429a7b972df0d05bb724c20ac7dac7171b62f1c7ef40\",\"templateCredsSetupCompleted\":true},\"name\":\"Create AI-Ready Vector Datasets for LLMs with Bright Data, Gemini & Pinecone\",\"tags\":[{\"id\":\"Kujft2FOjmOVQAmJ\",\"name\":\"Engineering\",\"createdAt\":\"2025-04-09T01:31:00.558Z\",\"updatedAt\":\"2025-04-09T01:31:00.558Z\"},{\"id\":\"ZOwtAMLepQaGW76t\",\"name\":\"Building Blocks\",\"createdAt\":\"2025-04-13T15:23:40.462Z\",\"updatedAt\":\"2025-04-13T15:23:40.462Z\"},{\"id\":\"ddPkw7Hg5dZhQu2w\",\"name\":\"AI\",\"createdAt\":\"2025-04-13T05:38:08.053Z\",\"updatedAt\":\"2025-04-13T05:38:08.053Z\"}],\"nodes\":[{\"id\":\"0a468953-e348-420e-a6b3-c55fb20d3cbf\",\"name\":\"When clicking ‘Test workflow’\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[200,-710],\"parameters\":{},\"typeVersion\":1},{\"id\":\"3725e480-246f-4f32-b0a7-b946cacbe830\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[1236,-60],\"parameters\":{\"text\":\"=Format the below search result\\n\\n{{ $json.output.search_result }}\",\"options\":{},\"promptType\":\"define\",\"hasOutputParser\":true},\"typeVersion\":1.8},{\"id\":\"30a12b8e-02f5-4b2e-bf9f-20fd9658405e\",\"name\":\"Pinecone Vector Store\",\"type\":\"@n8n/n8n-nodes-langchain.vectorStorePinecone\",\"position\":[1628,-10],\"parameters\":{\"mode\":\"insert\",\"options\":{},\"pineconeIndex\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"hacker-news\",\"cachedResultName\":\"hacker-news\"}},\"credentials\":{\"pineconeApi\":{\"id\":\"wdfRQ6NE8yjCDFhY\",\"name\":\"PineconeApi account\"}},\"typeVersion\":1.1},{\"id\":\"1738dea6-fa4f-4a8d-a6fb-2f01feb1a6d5\",\"name\":\"Embeddings Google Gemini\",\"type\":\"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini\",\"position\":[1612,210],\"parameters\":{\"modelName\":\"models/text-embedding-004\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"YeO7dHZnuGBVQKVZ\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"e6443541-de71-4d26-ad58-d7c72868a190\",\"name\":\"Default Data Loader\",\"type\":\"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\"position\":[1760,220],\"parameters\":{\"options\":{},\"jsonData\":\"={{ $('Information Extractor with Data Formatter').item.json.output.search_result }}\",\"jsonMode\":\"expressionData\"},\"typeVersion\":1},{\"id\":\"09ffc8cd-096f-47fe-937d-f8ab4fb41266\",\"name\":\"Recursive Character Text Splitter\",\"type\":\"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\"position\":[1820,410],\"parameters\":{\"options\":{}},\"typeVersion\":1},{\"id\":\"90cc9aa4-0931-4c52-8734-e4e0de820205\",\"name\":\"Google Gemini Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1240,160],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash-exp\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"YeO7dHZnuGBVQKVZ\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"1090a4af-7e5d-446b-a537-3afe48cd4909\",\"name\":\"Google Gemini Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[948,-340],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash-exp\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"YeO7dHZnuGBVQKVZ\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"324c530c-0a03-411e-acb0-d82e9dc635cf\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[948,160],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-2.0-flash-exp\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"YeO7dHZnuGBVQKVZ\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"3226a2d6-ade1-4d6a-95c5-0be4d787a947\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[1400,160],\"parameters\":{\"jsonSchemaExample\":\"[{\\n\\t\\\"id\\\": \\\"<string>\\\",\\n\\t\\\"title\\\": \\\"<string>\\\",\\n    \\\"summary\\\": \\\"<string>\\\",\\n    \\\"keywords\\\": [\\\"\\\"],\\n    \\\"topics\\\": [\\\"\\\"]\\n}]\"},\"typeVersion\":1.2},{\"id\":\"a739a314-900a-4ef7-9cc2-1b65374e2e05\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[40,-360],\"parameters\":{\"width\":480,\"height\":220,\"content\":\"## Note\\nPlease make sure to set the URL for web crawling. \\n\\nWeb-Unlocker Product is being utilized for performing the web scrapping. \\n\\nThis workflow is utilizing the Basic LLM Chain, Information Extraction with the AI Agents for formatting, extracting and persisting the response in PineCone Vector Database\"},\"typeVersion\":1},{\"id\":\"3dca6d46-c423-4fb5-a6e4-c2aa2852d51c\",\"name\":\"Set Fields - URL and Webhook URL\",\"type\":\"n8n-nodes-base.set\",\"notes\":\"Set the URL which you are interested to scrap the data\",\"position\":[420,-710],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"1c132dd6-31e4-453b-a8cf-cad9845fe55b\",\"name\":\"url\",\"type\":\"string\",\"value\":\"https://news.ycombinator.com?product=unlocker&method=api\"},{\"id\":\"90f3272b-d13d-44e2-8b4c-0943648cfce9\",\"name\":\"webhook_url\",\"type\":\"string\",\"value\":\"https://webhook.site/bc804ce5-4a45-4177-a68a-99c80e5c86e6\"}]}},\"notesInFlow\":true,\"typeVersion\":3.4},{\"id\":\"216a3261-a398-484c-9bf4-ca5966b829b6\",\"name\":\"Make a web request\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[640,-260],\"parameters\":{\"url\":\"https://api.brightdata.com/request\",\"method\":\"POST\",\"options\":{},\"sendBody\":true,\"sendHeaders\":true,\"authentication\":\"genericCredentialType\",\"bodyParameters\":{\"parameters\":[{\"name\":\"zone\",\"value\":\"web_unlocker1\"},{\"name\":\"url\",\"value\":\"={{ $json.url }}\"},{\"name\":\"format\",\"value\":\"raw\"}]},\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"kdbqXuxIR8qIxF7y\",\"name\":\"Header Auth account\"}},\"typeVersion\":4.2},{\"id\":\"0c74e21c-3007-4297-b6ab-8ee17f4c6436\",\"name\":\"Structured JSON Data Formatter\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[860,-560],\"parameters\":{\"text\":\"=Format the below response and produce a textual data. Output the response as per the below JSON schema.\\n\\nHere's the input: {{ $json.data }}\\nHere's the JSON schema: \\n\\n[{\\n    \\\"rank\\\": { \\\"type\\\": \\\"integer\\\" },\\n    \\\"title\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"site\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"points\\\": { \\\"type\\\": \\\"integer\\\" },\\n    \\\"user\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"age\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"comments\\\": { \\\"type\\\": \\\"string\\\" }\\n}]\",\"messages\":{\"messageValues\":[{\"message\":\"You are an expert data formatter\"}]},\"promptType\":\"define\"},\"typeVersion\":1.6},{\"id\":\"012d4bb0-2b58-47cd-9cea-b4e0dced9082\",\"name\":\"Webhook for structured data\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1314,-860],\"parameters\":{\"url\":\"={{ $json.webhook_url }}\",\"options\":{},\"sendBody\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"response\",\"value\":\"={{ $json.text }}\"}]}},\"typeVersion\":4.2},{\"id\":\"93b35e5e-6f52-4aeb-8f1b-39cc495beefe\",\"name\":\"Webhook for structured AI agent response\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1750,-660],\"parameters\":{\"url\":\"={{ $json.webhook_url }}\",\"options\":{},\"sendBody\":true,\"bodyParameters\":{\"parameters\":[{\"name\":\"response\",\"value\":\"={{ $json.output }}\"}]}},\"typeVersion\":4.2},{\"id\":\"251b4251-255c-48c6-999b-02227fa2de9b\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[800,-620],\"parameters\":{\"width\":360,\"height\":420,\"content\":\"## AI Data Formatter\\n\"},\"typeVersion\":1},{\"id\":\"f62463cd-6be3-4942-a636-de980a3154b4\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1560,-160],\"parameters\":{\"color\":4,\"width\":520,\"height\":720,\"content\":\"## Vector Database Persistence\\n\"},\"typeVersion\":1},{\"id\":\"ad20cc91-766a-4a57-be54-6f0d09a784eb\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1260,-920],\"parameters\":{\"color\":3,\"width\":680,\"height\":440,\"content\":\"## Webhook Notification Handler\\n\"},\"typeVersion\":1},{\"id\":\"37ab5c0f-d36e-4131-844d-20a22d3f2861\",\"name\":\"Information Extractor with Data Formatter\",\"type\":\"@n8n/n8n-nodes-langchain.informationExtractor\",\"position\":[860,-60],\"parameters\":{\"text\":\"={{ $json.data }}\",\"options\":{\"systemPromptTemplate\":\"You are an expert HTML extractor. Your job is to analyze the search result and extract the content as a collection on items\"},\"attributes\":{\"attributes\":[{\"name\":\"search_result\",\"description\":\"Search Response\"}]}},\"typeVersion\":1},{\"id\":\"e04e189a-8ba9-4ef4-9a49-fc13daf00828\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[800,-160],\"parameters\":{\"color\":5,\"width\":720,\"height\":720,\"content\":\"## Data Extraction/Formatting with the AI Agent\\n\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"799fb406-600d-45a5-b926-24b8844f33a5\",\"connections\":{\"AI Agent\":{\"main\":[[{\"node\":\"Pinecone Vector Store\",\"type\":\"main\",\"index\":0},{\"node\":\"Webhook for structured AI agent response\",\"type\":\"main\",\"index\":0}]]},\"Make a web request\":{\"main\":[[{\"node\":\"Structured JSON Data Formatter\",\"type\":\"main\",\"index\":0},{\"node\":\"Information Extractor with Data Formatter\",\"type\":\"main\",\"index\":0}]]},\"Default Data Loader\":{\"ai_document\":[[{\"node\":\"Pinecone Vector Store\",\"type\":\"ai_document\",\"index\":0}]]},\"Pinecone Vector Store\":{\"ai_tool\":[[]]},\"Embeddings Google Gemini\":{\"ai_embedding\":[[{\"node\":\"Pinecone Vector Store\",\"type\":\"ai_embedding\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"Information Extractor with Data Formatter\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"AI Agent\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"Google Gemini Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Google Gemini Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Structured JSON Data Formatter\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Structured JSON Data Formatter\":{\"main\":[[{\"node\":\"Webhook for structured data\",\"type\":\"main\",\"index\":0}]]},\"Set Fields - URL and Webhook URL\":{\"main\":[[{\"node\":\"Make a web request\",\"type\":\"main\",\"index\":0},{\"node\":\"Webhook for structured data\",\"type\":\"main\",\"index\":0},{\"node\":\"Webhook for structured AI agent response\",\"type\":\"main\",\"index\":0}]]},\"Recursive Character Text Splitter\":{\"ai_textSplitter\":[[{\"node\":\"Default Data Loader\",\"type\":\"ai_textSplitter\",\"index\":0}]]},\"When clicking ‘Test workflow’\":{\"main\":[[{\"node\":\"Set Fields - URL and Webhook URL\",\"type\":\"main\",\"index\":0}]]},\"Information Extractor with Data Formatter\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### Who this is for?\n\nThis workflow enables automated, scalable collection of high-quality, AI-ready data from websites using Bright Data’s Web Unlocker, with a focus on preparing that data for LLM training. Leveraging LLM Chains and AI agents, the system formats and extracts key information, then stores the structured embeddings in a Pinecone vector database.\n\nThis workflow is tailored for:​\n\n  * ML Engineers & Researchers building or fine-tuning domain-specific LLMs.\n\n  * AI Startups needing clean, structured content for product training.\n\n  * Data Teams preparing knowledge bases for enterprise-grade AI apps.\n\n  * LLM-as-a-Service Providers sourcing dynamic web content across niches.\n\n\n\n\n### What problem is this workflow solving?\n\nTraining a large language model (LLM) requires vast amounts of clean, relevant, and structured data. Manual collection is slow, error-prone, and lacks scalability.\n\nThis workflow:\n\n  * Automatically extracts web data from specified URLs.\n\n  * Bypasses anti-bot measures using Bright Data’s Web Unlocker.\n\n  * Formats, cleans, and transforms raw content using LLM agents.\n\n  * Stores semantically searchable vectors in Pinecone.\n\n  * Makes datasets AI-ready for fine-tuning, RAG, or domain-specific training.\n\n\n\n\n### What this workflow does\n\nThis workflow automates the process of collecting, cleaning, and vectorizing web content to create structured, high-quality datasets that are ready to be used for LLM (Large Language Model) training or retrieval-augmented generation (RAG).\n\n  1. Web Crawling with Bright Data Web Unlocker.\n  2. AI Information Extraction and Data Formatting.\n  3. AI Data Formatting to produce a JSON structured data.\n  4. Persistence in Pinecone Vector DB.\n  5. Handle Webhook notification of structured data.\n\n\n\n### Setup\n\n  * Sign up at [Bright Data](https://brightdata.com/).\n  * Navigate to Proxies & Scraping and create a new Web Unlocker zone by selecting Web Unlocker API under Scraping Solutions.\n  * In n8n, configure the Header Auth account under Credentials (Generic Auth Type: Header Authentication).\n  * A Google Gemini API key (or access through Vertex AI or proxy).\n  * Update the LinkedIn URL by navigating to the **Set LinkedIn URL** node.\n  * Update the **Set Fields - URL and Webhook URL** node with the URL for web data extraction and the Webhook notification URL.\n\n\n\n### How to customize this workflow to your needs\n\n  1. Set Your Target URLs. Target sites that are high-quality, domain-specific, and relevant to your LLM's purpose.\n  2. Adjust Bright Data Web Unlocker Settings. Geo-location, Headers / User-Agent strings, Retry rules and proxies.\n  3. Modify the Information Extraction Logic. Change prompts to extract specific attributes. Use structured templates or few-shot examples in prompts.\n  4. Swap the Embedding Model. Use OpenAI, Hugging Face or other your own hosted embedding model API.\n  5. Customize Pinecone Metadata Fields. Store extra fields in Pinecone for better filtering & semantic querying.\n  6. Add Data Validation or Deduplication. Skip duplicates or low-quality content.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h3>Who this is for?</h3>\n<p>This workflow enables automated, scalable collection of high-quality, AI-ready data from websites using Bright Data’s Web Unlocker, with a focus on preparing that data for LLM training. Leveraging LLM Chains and AI agents, the system formats and extracts key information, then stores the structured embeddings in a Pinecone vector database.</p>\n<p>This workflow is tailored for:​</p>\n<ul>\n<li>\n<p>ML Engineers &amp; Researchers building or fine-tuning domain-specific LLMs.</p>\n</li>\n<li>\n<p>AI Startups needing clean, structured content for product training.</p>\n</li>\n<li>\n<p>Data Teams preparing knowledge bases for enterprise-grade AI apps.</p>\n</li>\n<li>\n<p>LLM-as-a-Service Providers sourcing dynamic web content across niches.</p>\n</li>\n</ul>\n<h3>What problem is this workflow solving?</h3>\n<p>Training a large language model (LLM) requires vast amounts of clean, relevant, and structured data. Manual collection is slow, error-prone, and lacks scalability.</p>\n<p>This workflow:</p>\n<ul>\n<li>\n<p>Automatically extracts web data from specified URLs.</p>\n</li>\n<li>\n<p>Bypasses anti-bot measures using Bright Data’s Web Unlocker.</p>\n</li>\n<li>\n<p>Formats, cleans, and transforms raw content using LLM agents.</p>\n</li>\n<li>\n<p>Stores semantically searchable vectors in Pinecone.</p>\n</li>\n<li>\n<p>Makes datasets AI-ready for fine-tuning, RAG, or domain-specific training.</p>\n</li>\n</ul>\n<h3>What this workflow does</h3>\n<p>This workflow automates the process of collecting, cleaning, and vectorizing web content to create structured, high-quality datasets that are ready to be used for LLM (Large Language Model) training or retrieval-augmented generation (RAG).</p>\n<ol>\n<li>Web Crawling with Bright Data Web Unlocker.</li>\n<li>AI Information Extraction and Data Formatting.</li>\n<li>AI Data Formatting to produce a JSON structured data.</li>\n<li>Persistence in Pinecone Vector DB.</li>\n<li>Handle Webhook notification of structured data.</li>\n</ol>\n<h3>Setup</h3>\n<ul>\n<li>Sign up at <a href=\"https://brightdata.com/\" rel=\"ugc nofollow\" target=\"_blank\">Bright Data</a>.</li>\n<li>Navigate to Proxies &amp; Scraping and create a new Web Unlocker zone by selecting Web Unlocker API under Scraping Solutions.</li>\n<li>In n8n, configure the Header Auth account under Credentials (Generic Auth Type: Header Authentication).</li>\n<li>A Google Gemini API key (or access through Vertex AI or proxy).</li>\n<li>Update the LinkedIn URL by navigating to the <strong>Set LinkedIn URL</strong> node.</li>\n<li>Update the <strong>Set Fields - URL and Webhook URL</strong> node with the URL for web data extraction and the Webhook notification URL.</li>\n</ul>\n<h3>How to customize this workflow to your needs</h3>\n<ol>\n<li>Set Your Target URLs. Target sites that are high-quality, domain-specific, and relevant to your LLM's purpose.</li>\n<li>Adjust Bright Data Web Unlocker Settings. Geo-location, Headers / User-Agent strings, Retry rules and proxies.</li>\n<li>Modify the Information Extraction Logic. Change prompts to extract specific attributes. Use structured templates or few-shot examples in prompts.</li>\n<li>Swap the Embedding Model. Use OpenAI, Hugging Face or other your own hosted embedding model API.</li>\n<li>Customize Pinecone Metadata Fields. Store extra fields in Pinecone for better filtering &amp; semantic querying.</li>\n<li>Add Data Validation or Deduplication. Skip duplicates or low-quality content.</li>\n</ol>\n</div><!--]-->",
  "readme_zh": "### 适用对象\n\n本工作流通过Bright Data的Web Unlocker技术，实现自动化、可扩展的高质量AI就绪数据采集，重点为LLM训练准备数据。系统利用LLM链和AI代理对网页信息进行格式化处理与关键内容提取，最终将结构化向量数据存储至Pinecone向量数据库。\n\n本方案专为以下场景设计：\n\n* 正在构建或微调垂直领域大语言模型的机器学习工程师与研究人员\n* 需要洁净结构化内容进行产品训练的AI初创企业\n* 为企业级AI应用准备知识库的数据团队\n* 需要跨领域动态网络内容的LLM即服务提供商\n\n### 核心解决的问题\n\n训练大语言模型(LLM)需要海量洁净、相关且结构化的数据。人工采集方式效率低下、错误率高且难以扩展。\n\n本工作流实现：\n* 自动从指定URL提取网页数据\n* 通过Bright Data Web Unlocker绕过反爬机制\n* 使用LLM代理进行内容格式化与清洗\n* 在Pinecone中存储语义可检索的向量\n* 生成可直接用于微调、RAG或垂直训练的AI就绪数据集\n\n### 工作流功能\n\n本方案自动化完成网络内容采集、清洗与向量化全流程，生成可直接用于LLM训练或检索增强生成(RAG)的高质量结构化数据集：\n\n1. 通过Bright Data Web Unlocker进行网页抓取\n2. AI信息抽取与数据格式化\n3. 生成JSON结构化数据\n4. 存储至Pinecone向量数据库\n5. 结构化数据Webhook通知处理\n\n### 配置说明\n\n* 注册[Bright Data](https://brightdata.com/)账号\n* 进入Proxies & Scraping板块，选择Scraping Solutions下的Web Unlocker API创建新区域\n* 在n8n中配置Header Auth凭证（认证类型选择Header Authentication）\n* 准备Google Gemini API密钥（可通过Vertex AI或代理获取）\n* 在**Set LinkedIn URL**节点更新领英URL\n* 在**Set Fields - URL and Webhook URL**节点配置目标采集URL和Webhook通知地址\n\n### 自定义配置指南\n\n1. **设置目标URL**：选择与LLM用途相关的高质量垂直领域网站\n2. **调整Web Unlocker参数**：地理位置、请求头/UA设置、重试规则及代理配置\n3. **修改信息抽取逻辑**：调整提示词提取特定属性，在提示中使用结构化模板或小样本示例\n4. **切换嵌入模型**：可替换为OpenAI、Hugging Face或自托管嵌入模型API\n5. **定制Pinecone元数据字段**：存储额外字段以增强过滤与语义查询能力\n6. **添加数据验证/去重**：跳过重复内容或低质量数据",
  "title_zh": "利用Bright Data、Gemini与Pinecone为大型语言模型构建AI就绪的向量数据集",
  "publish_date_absolute": "2025-04-24",
  "publish_date_zh": "上次更新于12天前",
  "workflow_json_zh": "{\n  \"id\": \"3Lih0LVosR8dZbla\",\n  \"meta\": {\n    \"instanceId\": \"885b4fb4a6a9c2cb5621429a7b972df0d05bb724c20ac7dac7171b62f1c7ef40\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Create AI-Ready Vector Datasets for LLMs with Bright Data, Gemini & Pinecone\",\n  \"tags\": [\n    {\n      \"id\": \"Kujft2FOjmOVQAmJ\",\n      \"name\": \"Engineering\",\n      \"createdAt\": \"2025-04-09T01:31:00.558Z\",\n      \"updatedAt\": \"2025-04-09T01:31:00.558Z\"\n    },\n    {\n      \"id\": \"ZOwtAMLepQaGW76t\",\n      \"name\": \"Building Blocks\",\n      \"createdAt\": \"2025-04-13T15:23:40.462Z\",\n      \"updatedAt\": \"2025-04-13T15:23:40.462Z\"\n    },\n    {\n      \"id\": \"ddPkw7Hg5dZhQu2w\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2025-04-13T05:38:08.053Z\",\n      \"updatedAt\": \"2025-04-13T05:38:08.053Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"0a468953-e348-420e-a6b3-c55fb20d3cbf\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        200,\n        -710\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3725e480-246f-4f32-b0a7-b946cacbe830\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1236,\n        -60\n      ],\n      \"parameters\": {\n        \"text\": \"=Format the below search result\\n\\n{{ $json.output.search_result }}\",\n        \"options\": {},\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"30a12b8e-02f5-4b2e-bf9f-20fd9658405e\",\n      \"name\": \"Pinecone Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStorePinecone\",\n      \"position\": [\n        1628,\n        -10\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"pineconeIndex\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"hacker-news\",\n          \"cachedResultName\": \"hacker-news\"\n        }\n      },\n      \"credentials\": {\n        \"pineconeApi\": {\n          \"id\": \"wdfRQ6NE8yjCDFhY\",\n          \"name\": \"PineconeApi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"1738dea6-fa4f-4a8d-a6fb-2f01feb1a6d5\",\n      \"name\": \"Embeddings Google Gemini\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini\",\n      \"position\": [\n        1612,\n        210\n      ],\n      \"parameters\": {\n        \"modelName\": \"models/text-embedding-004\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e6443541-de71-4d26-ad58-d7c72868a190\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        1760,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"jsonData\": \"={{ $('Information Extractor with Data Formatter').item.json.output.search_result }}\",\n        \"jsonMode\": \"expressionData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"09ffc8cd-096f-47fe-937d-f8ab4fb41266\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        1820,\n        410\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"90cc9aa4-0931-4c52-8734-e4e0de820205\",\n      \"name\": \"Google Gemini Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1240,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1090a4af-7e5d-446b-a537-3afe48cd4909\",\n      \"name\": \"Google Gemini Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        948,\n        -340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"324c530c-0a03-411e-acb0-d82e9dc635cf\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        948,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3226a2d6-ade1-4d6a-95c5-0be4d787a947\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1400,\n        160\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"[{\\n\\t\\\"id\\\": \\\"<string>\\\",\\n\\t\\\"title\\\": \\\"<string>\\\",\\n    \\\"summary\\\": \\\"<string>\\\",\\n    \\\"keywords\\\": [\\\"\\\"],\\n    \\\"topics\\\": [\\\"\\\"]\\n}]\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"a739a314-900a-4ef7-9cc2-1b65374e2e05\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        40,\n        -360\n      ],\n      \"parameters\": {\n        \"width\": 480,\n        \"height\": 220,\n        \"content\": \"## 注意\\n请确保已设置网络爬取的URL地址。\\n\\n当前正使用Web-Unlocker产品执行网页抓取任务。\\n\\n该工作流采用基础LLM链技术，通过AI智能体进行信息提取与格式化处理，并将响应结果持久化存储至PineCone向量数据库。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3dca6d46-c423-4fb5-a6e4-c2aa2852d51c\",\n      \"name\": \"Set Fields - URL and Webhook URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Set the URL which you are interested to scrap the data\",\n      \"position\": [\n        420,\n        -710\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1c132dd6-31e4-453b-a8cf-cad9845fe55b\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"https://news.ycombinator.com?product=unlocker&method=api\"\n            },\n            {\n              \"id\": \"90f3272b-d13d-44e2-8b4c-0943648cfce9\",\n              \"name\": \"webhook_url\",\n              \"type\": \"string\",\n              \"value\": \"https://webhook.site/bc804ce5-4a45-4177-a68a-99c80e5c86e6\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"216a3261-a398-484c-9bf4-ca5966b829b6\",\n      \"name\": \"Make a web request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        640,\n        -260\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.brightdata.com/request\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"zone\",\n              \"value\": \"web_unlocker1\"\n            },\n            {\n              \"name\": \"url\",\n              \"value\": \"={{ $json.url }}\"\n            },\n            {\n              \"name\": \"format\",\n              \"value\": \"raw\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"kdbqXuxIR8qIxF7y\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0c74e21c-3007-4297-b6ab-8ee17f4c6436\",\n      \"name\": \"Structured JSON Data Formatter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        860,\n        -560\n      ],\n      \"parameters\": {\n        \"text\": \"=Format the below response and produce a textual data. Output the response as per the below JSON schema.\\n\\nHere's the input: {{ $json.data }}\\nHere's the JSON schema: \\n\\n[{\\n    \\\"rank\\\": { \\\"type\\\": \\\"integer\\\" },\\n    \\\"title\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"site\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"points\\\": { \\\"type\\\": \\\"integer\\\" },\\n    \\\"user\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"age\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"comments\\\": { \\\"type\\\": \\\"string\\\" }\\n}]\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"You are an expert data formatter\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"012d4bb0-2b58-47cd-9cea-b4e0dced9082\",\n      \"name\": \"Webhook for structured data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1314,\n        -860\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.webhook_url }}\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"response\",\n              \"value\": \"={{ $json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"93b35e5e-6f52-4aeb-8f1b-39cc495beefe\",\n      \"name\": \"Webhook for structured AI agent response\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1750,\n        -660\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.webhook_url }}\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"response\",\n              \"value\": \"={{ $json.output }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"251b4251-255c-48c6-999b-02227fa2de9b\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        -620\n      ],\n      \"parameters\": {\n        \"width\": 360,\n        \"height\": 420,\n        \"content\": \"## AI数据格式化工具\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f62463cd-6be3-4942-a636-de980a3154b4\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1560,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 520,\n        \"height\": 720,\n        \"content\": \"## 向量数据库持久化\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ad20cc91-766a-4a57-be54-6f0d09a784eb\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1260,\n        -920\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 680,\n        \"height\": 440,\n        \"content\": \"## Webhook 通知处理器\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"37ab5c0f-d36e-4131-844d-20a22d3f2861\",\n      \"name\": \"Information Extractor with Data Formatter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"position\": [\n        860,\n        -60\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.data }}\",\n        \"options\": {\n          \"systemPromptTemplate\": \"You are an expert HTML extractor. Your job is to analyze the search result and extract the content as a collection on items\"\n        },\n        \"attributes\": {\n          \"attributes\": [\n            {\n              \"name\": \"search_result\",\n              \"description\": \"Search Response\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e04e189a-8ba9-4ef4-9a49-fc13daf00828\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 720,\n        \"height\": 720,\n        \"content\": \"## 使用AI代理进行数据提取/格式化\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"799fb406-600d-45a5-b926-24b8844f33a5\",\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Pinecone Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Webhook for structured AI agent response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Make a web request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Structured JSON Data Formatter\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Information Extractor with Data Formatter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Pinecone Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Pinecone Vector Store\": {\n      \"ai_tool\": [\n        []\n      ]\n    },\n    \"Embeddings Google Gemini\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Pinecone Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Information Extractor with Data Formatter\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Structured JSON Data Formatter\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured JSON Data Formatter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Webhook for structured data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Fields - URL and Webhook URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Make a web request\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Webhook for structured data\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Webhook for structured AI agent response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Fields - URL and Webhook URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Information Extractor with Data Formatter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}