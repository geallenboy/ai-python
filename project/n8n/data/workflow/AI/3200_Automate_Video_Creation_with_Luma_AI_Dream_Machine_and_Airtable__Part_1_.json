{
  "title": "Automate Video Creation with Luma AI Dream Machine and Airtable (Part 1)",
  "url": "https://n8n.io/workflows/3200-automate-video-creation-with-luma-ai-dream-machine-and-airtable-part-1/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Alex Kim",
  "publish_date": "Last update a month ago",
  "content": "",
  "workflow_json": "{\"id\":\"2pMoIW58KP6ZeGir\",\"meta\":{\"instanceId\":\"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\"templateCredsSetupCompleted\":true},\"name\":\"Luma AI Dream Machine - Simple v1 - AK\",\"tags\":[{\"id\":\"tUlWC9t8VhwpFaci\",\"name\":\"Alex - WIP\",\"createdAt\":\"2025-02-20T17:17:53.411Z\",\"updatedAt\":\"2025-02-20T17:17:53.411Z\"}],\"nodes\":[{\"id\":\"dbe1dbcc-05a0-4439-869c-157e51a99dd1\",\"name\":\"When clicking â€˜Test workflowâ€™\",\"type\":\"n8n-nodes-base.manualTrigger\",\"position\":[-440,0],\"parameters\":{},\"typeVersion\":1},{\"id\":\"603f7fdd-e590-4a51-b606-a9bb9396a0c0\",\"name\":\"Text 2 Video\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[220,0],\"parameters\":{\"url\":\"https://api.lumalabs.ai/dream-machine/v1/generations\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"ray-2\\\",\\n  \\\"prompt\\\": {{ JSON.stringify($('Global SETTINGS').first().json.video_prompt + \\\"; camera motion: \\\" + $json.action) }},\\n  \\\"aspect_ratio\\\": \\\"{{ $('Global SETTINGS').first().json.aspect_ratio }}\\\",\\n  \\\"duration\\\": \\\"{{ $('Global SETTINGS').item.json.duration }}\\\",\\n  \\\"loop\\\": {{ $('Global SETTINGS').first().json.loop }},\\n  \\\"callback_url\\\": \\\"{{ $('Global SETTINGS').first().json.callback_url }}\\\"\\n  \\n}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\",\"headerParameters\":{\"parameters\":[{\"name\":\"accept\",\"value\":\"application/json\"}]}},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"zzIlODir90EUTwHh\",\"name\":\"Luma Header Auth account\"}},\"typeVersion\":4.2},{\"id\":\"494ac05e-e0c5-465e-b805-2749683ab789\",\"name\":\"RANDOM Camera Motion\",\"type\":\"n8n-nodes-base.code\",\"position\":[0,0],\"parameters\":{\"jsCode\":\"const items = [\\n  \\\"Static\\\",\\n  \\\"Move Left\\\",\\n  \\\"Move Right\\\",\\n  \\\"Move Up\\\",\\n  \\\"Move Down\\\",\\n  \\\"Push In\\\",\\n  \\\"Pull Out\\\",\\n  \\\"Zoom In\\\",\\n  \\\"Zoom Out\\\",\\n  \\\"Pan Left\\\",\\n  \\\"Pan Right\\\",\\n  \\\"Orbit Left\\\",\\n  \\\"Orbit Right\\\",\\n  \\\"Crane Up\\\",\\n  \\\"Crane Down\\\"\\n];\\n\\nconst randomItem = items[Math.floor(Math.random() * items.length)];\\n\\nreturn [{ json: { action: randomItem } }];\\n\"},\"typeVersion\":2},{\"id\":\"30ba7cfc-d2c3-478f-ae01-0a3397ceb439\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-260,-120],\"parameters\":{\"color\":3,\"width\":180,\"content\":\"## Define your SETTINGS here\"},\"typeVersion\":1},{\"id\":\"12924397-b2a4-43a0-8ec5-1b13c0357e40\",\"name\":\"Global SETTINGS\",\"type\":\"n8n-nodes-base.set\",\"position\":[-220,0],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"7064f685-d91f-4049-9fcb-dd7018c1bc8d\",\"name\":\"aspect_ratio\",\"type\":\"string\",\"value\":\"9:16\"},{\"id\":\"3d6d3fe0-4e4a-4d1b-9f6a-08037a4e2785\",\"name\":\"video_prompt\",\"type\":\"string\",\"value\":\"a superhero flying through a volcano\"},{\"id\":\"7ae48bee-0be5-487f-8d6d-ea7fe98fdd36\",\"name\":\"loop\",\"type\":\"string\",\"value\":\"true\"},{\"id\":\"82930db0-971e-4de4-911d-ff5a7fab5d67\",\"name\":\"duration\",\"type\":\"string\",\"value\":\"5s\"},{\"id\":\"b51d9834-87c8-4358-a257-6a02ebe2576d\",\"name\":\"cluster_id\",\"type\":\"string\",\"value\":\"={{ Date.now() + '_' + Math.random().toString(36).slice(2, 10) }}\"},{\"id\":\"8756fe2d-df04-48d4-9cd4-d29b8d9a3ab1\",\"name\":\"airtable_base\",\"type\":\"string\",\"value\":\"appvk87mtcwRve5p5\"},{\"id\":\"a83707ef-3a1c-4b3c-939c-1376bc43cc76\",\"name\":\"airtable_table_generated_videos\",\"type\":\"string\",\"value\":\"tblOzRFWgcsfttRWK\"},{\"id\":\"694528cd-c51e-45ac-8dbe-1b33b347f590\",\"name\":\"callback_url\",\"type\":\"string\",\"value\":\"https://YOURURL.com/luma-ai\"}]}},\"typeVersion\":3.4},{\"id\":\"9f4732b5-8e3e-4fb6-942f-32c72b3eb041\",\"name\":\"ADD Video Info\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[660,0],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('Global SETTINGS').first().json.airtable_base }}\"},\"table\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $('Global SETTINGS').first().json.airtable_table_generated_videos }}\"},\"columns\":{\"value\":{\"Model\":\"={{ $json.model }}\",\"Aspect\":\"={{ $json.request.aspect_ratio }}\",\"Length\":\"={{ $json.request.duration }}\",\"Prompt\":\"={{ $('Global SETTINGS').first().json.video_prompt }}\",\"Status\":\"Done\",\"Cluster ID\":\"={{ $('Global SETTINGS').first().json.cluster_id }}\",\"Resolution\":\"={{ $json.request.resolution }}\",\"Generation ID\":\"={{ $json.id }}\"},\"schema\":[{\"id\":\"Generation ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Generation ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Status\",\"type\":\"options\",\"display\":true,\"options\":[{\"name\":\"Todo\",\"value\":\"Todo\"},{\"name\":\"In progress\",\"value\":\"In progress\"},{\"name\":\"Done\",\"value\":\"Done\"}],\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Content Title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Content Title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Video URL\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Video URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Thumb URL\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Thumb URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Prompt\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Prompt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"VO\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"VO\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Aspect\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Aspect\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Model\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Model\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Resolution\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Resolution\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Length\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Length\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Created\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":true,\"required\":false,\"displayName\":\"Created\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Cluster ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Cluster ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"create\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"yqBrLbgHXLcwqH0p\",\"name\":\"AlexK Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"9923373d-d4ce-42bb-9f2d-34350f64ac5b\",\"name\":\"Execution Data\",\"type\":\"n8n-nodes-base.executionData\",\"position\":[440,0],\"parameters\":{},\"typeVersion\":1},{\"id\":\"5044e1f2-c985-4c3a-9386-f4fe4f85f37b\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-40,-120],\"parameters\":{\"color\":5,\"width\":840,\"content\":\"## This is where the magic happens... \"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"e756199d-31fc-4e2f-8937-3625295a147c\",\"connections\":{\"Text 2 Video\":{\"main\":[[{\"node\":\"Execution Data\",\"type\":\"main\",\"index\":0}]]},\"ADD Video Info\":{\"main\":[[]]},\"Execution Data\":{\"main\":[[{\"node\":\"ADD Video Info\",\"type\":\"main\",\"index\":0}]]},\"Global SETTINGS\":{\"main\":[[{\"node\":\"RANDOM Camera Motion\",\"type\":\"main\",\"index\":0}]]},\"RANDOM Camera Motion\":{\"main\":[[{\"node\":\"Text 2 Video\",\"type\":\"main\",\"index\":0}]]},\"When clicking â€˜Test workflowâ€™\":{\"main\":[[{\"node\":\"Global SETTINGS\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Automate Video Creation with Luma AI Dream Machine and Airtable (Part 1)\n\n## **Description**\n\nThis workflow automates video creation using **Luma AI Dream Machine** and **n8n**. It generates dynamic videos based on custom prompts, random camera motion, and predefined settings, then stores the video and thumbnail URLs in Airtable for easy access and tracking. This automation makes it easy to create high-quality videos at scale with minimal effort.\n\nðŸ‘‰ [Airtable Base Template](https://airtable.com/invite/l?inviteId=invOr5AApOnDOtkhi&inviteToken=72a165d2df1c9a1c82a6144effc626f88ad501e9eaab10a1c2f279c3d7a6faff)  \nðŸŽ¥ [Tutorial Video](https://youtu.be/yFCZYGHM9d8)\n\n* * *\n\n## **Setup**\n\n### **1\\. Luma AI Setup**\n\n  * Create an account with **Luma AI**.\n  * Generate an **API key** from Luma AI for authentication.\n  * Ensure the API key has permission to create and manage video requests.\n\n\n\n### **2\\. Airtable Setup**\n\nCreate an Airtable base with the following fields:\n\n  * **Generation ID** â€“ To match incoming webhook data.\n  * **Status** â€“ Workflow status (e.g., \"Done\").\n  * **Video URL** â€“ Stores the generated video URL.\n  * **Thumbnail URL** â€“ Stores the thumbnail URL.\n  * **Prompt** â€“ The video prompt used in the request.\n  * **Aspect Ratio** â€“ Defines the video format (e.g., 9:16).\n  * **Duration** â€“ Length of the video.\n\n\n\nðŸ‘‰ Use the Airtable template linked above to simplify setup.\n\n### **3\\. n8n Setup**\n\n  * Install n8n (local or cloud).\n  * Set up Luma AI and Airtable credentials in n8n.\n  * Import the workflow and customize the settings based on your needs.\n\n\n\n* * *\n\n## **How It Works**\n\n### 1\\. **Global Settings Configuration**\n\nThe **Set** node defines key settings such as:\n\n  * **Prompt** â€“ Example: \"A crocheted parrot in a crocheted pirate outfit swinging on a crocheted perch.\"\n  * **Aspect Ratio** â€“ Example: \"9:16\"\n  * **Loop** â€“ Example: \"true\"\n  * **Duration** â€“ Example: \"5 seconds\"\n  * **Cluster ID** â€“ Used to group related videos for easy tracking.\n  * **Callback URL** \\- Used for the Webhook workflow in Part 2\n\n\n\n### 2\\. **Random Camera Motion**\n\n  * The **Code** node randomly selects a camera motion (e.g., Zoom In, Pan Left, Crane Up) to create dynamic and visually engaging videos.\n\n\n\n### 3\\. **API Request to Luma AI**\n\n  * The **HTTP Request** node sends a POST request to Luma AIâ€™s API with the following parameters: \n    * **Prompt** â€“ Uses the defined global settings.\n    * **Aspect Ratio** â€“ Matches the target platform (e.g., TikTok or YouTube).\n    * **Duration** â€“ Length of the video.\n    * **Loop** â€“ Determines if the video should loop.\n    * **Callback URL** â€“ Sends a POST response when the video is complete.\n\n\n\n### 4\\. **Capture API Response**\n\n  * Luma AI sends a POST response to the callback URL once video generation is complete.\n  * The response includes: \n    * **Video URL** â€“ Direct link to the video.\n    * **Thumbnail URL** â€“ Link to the video thumbnail.\n    * **Generation ID** â€“ Used to match the record in Airtable.\n\n\n\n### 5\\. **Store in Airtable**\n\n  * The **Airtable** node updates the record with the video and thumbnail URLs.\n  * **Generation ID** is crucial for matching future webhook responses to the correct video record.\n\n\n\n* * *\n\n## **Why This Workflow is Useful**\n\nâœ… Automates high-quality video creation  \nâœ… Reduces manual effort by handling prompt generation and API calls  \nâœ… Random camera motion makes videos more dynamic  \nâœ… Ensures organized tracking with Airtable  \nâœ… Scalable â€“ Ideal for automating large-scale content creation\n\n* * *\n\n## **Next Steps**\n\n  * **Part 2** â€“ Handling webhook responses and updating Airtable automatically.\n  * **Future Enhancements** â€“ Adding more camera motions, multi-platform support, and automated video editing.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h1>Automate Video Creation with Luma AI Dream Machine and Airtable (Part 1)</h1>\n<h2><strong>Description</strong></h2>\n<p>This workflow automates video creation using <strong>Luma AI Dream Machine</strong> and <strong>n8n</strong>. It generates dynamic videos based on custom prompts, random camera motion, and predefined settings, then stores the video and thumbnail URLs in Airtable for easy access and tracking. This automation makes it easy to create high-quality videos at scale with minimal effort.</p>\n<p>ðŸ‘‰ <a href=\"https://airtable.com/invite/l?inviteId=invOr5AApOnDOtkhi&amp;inviteToken=72a165d2df1c9a1c82a6144effc626f88ad501e9eaab10a1c2f279c3d7a6faff\" rel=\"ugc nofollow\" target=\"_blank\">Airtable Base Template</a><br>\nðŸŽ¥ <a href=\"https://youtu.be/yFCZYGHM9d8\" rel=\"ugc nofollow\" target=\"_blank\">Tutorial Video</a></p>\n<hr>\n<h2><strong>Setup</strong></h2>\n<h3><strong>1. Luma AI Setup</strong></h3>\n<ul>\n<li>Create an account with <strong>Luma AI</strong>.</li>\n<li>Generate an <strong>API key</strong> from Luma AI for authentication.</li>\n<li>Ensure the API key has permission to create and manage video requests.</li>\n</ul>\n<h3><strong>2. Airtable Setup</strong></h3>\n<p>Create an Airtable base with the following fields:</p>\n<ul>\n<li><strong>Generation ID</strong> â€“ To match incoming webhook data.</li>\n<li><strong>Status</strong> â€“ Workflow status (e.g., \"Done\").</li>\n<li><strong>Video URL</strong> â€“ Stores the generated video URL.</li>\n<li><strong>Thumbnail URL</strong> â€“ Stores the thumbnail URL.</li>\n<li><strong>Prompt</strong> â€“ The video prompt used in the request.</li>\n<li><strong>Aspect Ratio</strong> â€“ Defines the video format (e.g., 9:16).</li>\n<li><strong>Duration</strong> â€“ Length of the video.</li>\n</ul>\n<p>ðŸ‘‰ Use the Airtable template linked above to simplify setup.</p>\n<h3><strong>3. n8n Setup</strong></h3>\n<ul>\n<li>Install n8n (local or cloud).</li>\n<li>Set up Luma AI and Airtable credentials in n8n.</li>\n<li>Import the workflow and customize the settings based on your needs.</li>\n</ul>\n<hr>\n<h2><strong>How It Works</strong></h2>\n<h3>1. <strong>Global Settings Configuration</strong></h3>\n<p>The <strong>Set</strong> node defines key settings such as:</p>\n<ul>\n<li><strong>Prompt</strong> â€“ Example: \"A crocheted parrot in a crocheted pirate outfit swinging on a crocheted perch.\"</li>\n<li><strong>Aspect Ratio</strong> â€“ Example: \"9:16\"</li>\n<li><strong>Loop</strong> â€“ Example: \"true\"</li>\n<li><strong>Duration</strong> â€“ Example: \"5 seconds\"</li>\n<li><strong>Cluster ID</strong> â€“ Used to group related videos for easy tracking.</li>\n<li><strong>Callback URL</strong> - Used for the Webhook workflow in Part 2</li>\n</ul>\n<h3>2. <strong>Random Camera Motion</strong></h3>\n<ul>\n<li>The <strong>Code</strong> node randomly selects a camera motion (e.g., Zoom In, Pan Left, Crane Up) to create dynamic and visually engaging videos.</li>\n</ul>\n<h3>3. <strong>API Request to Luma AI</strong></h3>\n<ul>\n<li>The <strong>HTTP Request</strong> node sends a POST request to Luma AIâ€™s API with the following parameters:\n<ul>\n<li><strong>Prompt</strong> â€“ Uses the defined global settings.</li>\n<li><strong>Aspect Ratio</strong> â€“ Matches the target platform (e.g., TikTok or YouTube).</li>\n<li><strong>Duration</strong> â€“ Length of the video.</li>\n<li><strong>Loop</strong> â€“ Determines if the video should loop.</li>\n<li><strong>Callback URL</strong> â€“ Sends a POST response when the video is complete.</li>\n</ul>\n</li>\n</ul>\n<h3>4. <strong>Capture API Response</strong></h3>\n<ul>\n<li>Luma AI sends a POST response to the callback URL once video generation is complete.</li>\n<li>The response includes:\n<ul>\n<li><strong>Video URL</strong> â€“ Direct link to the video.</li>\n<li><strong>Thumbnail URL</strong> â€“ Link to the video thumbnail.</li>\n<li><strong>Generation ID</strong> â€“ Used to match the record in Airtable.</li>\n</ul>\n</li>\n</ul>\n<h3>5. <strong>Store in Airtable</strong></h3>\n<ul>\n<li>The <strong>Airtable</strong> node updates the record with the video and thumbnail URLs.</li>\n<li><strong>Generation ID</strong> is crucial for matching future webhook responses to the correct video record.</li>\n</ul>\n<hr>\n<h2><strong>Why This Workflow is Useful</strong></h2>\n<p>âœ… Automates high-quality video creation<br>\nâœ… Reduces manual effort by handling prompt generation and API calls<br>\nâœ… Random camera motion makes videos more dynamic<br>\nâœ… Ensures organized tracking with Airtable<br>\nâœ… Scalable â€“ Ideal for automating large-scale content creation</p>\n<hr>\n<h2><strong>Next Steps</strong></h2>\n<ul>\n<li><strong>Part 2</strong> â€“ Handling webhook responses and updating Airtable automatically.</li>\n<li><strong>Future Enhancements</strong> â€“ Adding more camera motions, multi-platform support, and automated video editing.</li>\n</ul>\n</div><!--]-->"
}