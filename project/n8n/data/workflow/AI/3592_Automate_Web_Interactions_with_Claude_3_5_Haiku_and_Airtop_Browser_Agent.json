{
  "title": "Automate Web Interactions with Claude 3.5 Haiku and Airtop Browser Agent",
  "url": "https://n8n.io/workflows/3592-automate-web-interactions-with-claude-35-haiku-and-airtop-browser-agent/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/",
  "author": "Airtop",
  "publish_date": "Last update 5 days ago",
  "content": "",
  "workflow_json": "{\"id\":\"TS1wT16JCcy1Dt9Q\",\"meta\":{\"instanceId\":\"28a947b92b197fc2524eaba16e57560338657b2b0b5796300b2f1cedc1d0d355\",\"templateCredsSetupCompleted\":true},\"name\":\"Airtop Web Agent\",\"tags\":[{\"id\":\"zGYM9A88nf1YAceR\",\"name\":\"Agent\",\"createdAt\":\"2025-04-16T21:49:22.104Z\",\"updatedAt\":\"2025-04-16T21:49:22.104Z\"},{\"id\":\"zKNO4Omjzfu6J25M\",\"name\":\"Demo\",\"createdAt\":\"2025-04-15T18:59:57.364Z\",\"updatedAt\":\"2025-04-15T18:59:57.364Z\"}],\"nodes\":[{\"id\":\"43e674dd-82e5-49b3-8e4d-f13793e5e6c9\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[220,60],\"parameters\":{\"text\":\"={{ $json.Prompt }}\",\"options\":{\"maxIterations\":20,\"systemMessage\":\"=# Agent goal\\nYou are a smart, advanced web agent connected with tools that allow you to manage a remote web browser. Your goal is to fulfill the human's request.\\n\\n## Start the browser\\nYou should always start by using the `Start browser` tool to get the `sessionId` and `windowId` required by other tools.\\n\\n## Use the `Query` tool\\nYou don't have access to the browser screen but you can call the `Query` tool to get knowladge and hints of the current browser window. This tool accepts queries in natural language and can output information in plain text, markdown or JSON.\\n\\n## Use the `Click` tool\\nUse the `Click` tool to click on an element on the web page. Describe the element in details in the \\\"Element Description\\\" field, Be specific and refer to elements that are on the page. \\n\\n## Use the `Type` tool\\nUse the `Type` tool to type in text boxes. Describe the text box in \\\"Element Description\\\" field and the text to type in the \\\"Text\\\" field. The 'Type' tool is clicking Enter after typing the text so don't send [ENTER] commandes.\\n\\n### Examples for how to use the `Query` tool\\n- Ask something about the current page:\\n  \\\"Is the user logged in? Answer with Yes or No\\\"\\n- Retrieve information:\\n  \\\"Extract all the posts in the page, include the title and copy, output in JSON format\\\"\\n- Get hints on the UI:\\n  \\\"Is there a link to the contact form? If yes, describe the element in detail\\\"\\n\\n\\n## Important\\n- Start by calling `Start browser` to begin using the browser and provide the initial URL\\n- The human ONLY sees your last message\\n- Make sure to include all the important information requested by the human in your LAST message\\n- Call `End session` with the `sessionId` once you have finished using the browser\\n\\n\",\"passthroughBinaryImages\":true,\"returnIntermediateSteps\":false},\"promptType\":\"define\",\"hasOutputParser\":true},\"retryOnFail\":true,\"typeVersion\":1.8,\"waitBetweenTries\":5000},{\"id\":\"5e29189a-2b5a-4193-bff1-f4afe1c4b838\",\"name\":\"Click\",\"type\":\"n8n-nodes-base.airtopTool\",\"position\":[0,280],\"parameters\":{\"resource\":\"interaction\",\"windowId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \\\"The `windowId` returned by the `Open window` tool\\\", 'string') }}\",\"sessionId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \\\"The `sessionId` returned by the `Create session` tool\\\", 'string') }}\",\"descriptionType\":\"manual\",\"toolDescription\":\"Click on any element in the window\",\"additionalFields\":{\"waitForNavigation\":\"load\"},\"elementDescription\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `Describe in detail the element to click on, e.g. The menu item \\\"about us\\\" at the top of the page`, 'string') }}\"},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"85338306-5acd-4e9b-9a02-7fc5e9a03557\",\"name\":\"Query\",\"type\":\"n8n-nodes-base.airtopTool\",\"position\":[120,280],\"parameters\":{\"prompt\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', `Ask anything and request to extract information from the current page, e.g. \\\"Is there any sign-up form? yes or no\\\"`, 'string') }}\",\"resource\":\"extraction\",\"windowId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \\\"The `windowId` returned by the `Open window` tool\\\", 'string') }}\",\"operation\":\"query\",\"sessionId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \\\"The `sessionId` returned by the `Create session` tool\\\", 'string') }}\",\"descriptionType\":\"manual\",\"toolDescription\":\"Query the page, ask and extract information\",\"additionalFields\":{}},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"67cee508-c2c0-423e-b1fb-576de026f3ed\",\"name\":\"Load URL\",\"type\":\"n8n-nodes-base.airtopTool\",\"position\":[240,280],\"parameters\":{\"url\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}\",\"resource\":\"window\",\"windowId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \\\"The `windowId` returned by the `Open window` tool\\\", 'string') }}\",\"operation\":\"load\",\"sessionId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \\\"The `sessionId` returned by the `Create session` tool\\\", 'string') }}\",\"descriptionType\":\"manual\",\"toolDescription\":\"Load a URL into the browser window\",\"additionalFields\":{}},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"05262c94-fb9a-4a51-b1c6-8b4981888850\",\"name\":\"End session\",\"type\":\"n8n-nodes-base.airtopTool\",\"position\":[360,280],\"parameters\":{\"operation\":\"terminate\",\"sessionId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \\\"The `sessionId` returned by the `Create session` tool\\\", 'string') }}\"},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"e1bab1f8-8127-49a2-b3a3-f672c0687ed6\",\"name\":\"Type\",\"type\":\"n8n-nodes-base.airtopTool\",\"position\":[480,280],\"parameters\":{\"text\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}\",\"resource\":\"interaction\",\"windowId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \\\"The `windowId` returned by the `Open window` tool\\\", 'string') }}\",\"operation\":\"type\",\"sessionId\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \\\"The `sessionId` returned by the `Create session` tool\\\", 'string') }}\",\"pressEnterKey\":true,\"descriptionType\":\"manual\",\"toolDescription\":\"Type text into the page's element described\",\"additionalFields\":{},\"elementDescription\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `Describe in detail the element to type into, e.g. The search box at the top of the page`, 'string') }}\"},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"385c94f1-27b4-492b-8224-41d26dbb76b4\",\"name\":\"Start browser\",\"type\":\"@n8n/n8n-nodes-langchain.toolWorkflow\",\"position\":[600,280],\"parameters\":{\"name\":\"Start_Browser\",\"workflowId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"TS1wT16JCcy1Dt9Q\",\"cachedResultName\":\"Airtop Web Agent\"},\"description\":\"Start a new browser session and window\",\"workflowInputs\":{\"value\":{\"url\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('url', `URL to load in the browser window`, 'string') }}\",\"profile_name\":\"={{ $json['Airtop Profile Name (for sites that require authentication)'] }}\"},\"schema\":[{\"id\":\"url\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"url\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"profile_name\",\"type\":\"string\",\"display\":true,\"removed\":false,\"required\":false,\"displayName\":\"profile_name\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"url\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false}},\"typeVersion\":2.1},{\"id\":\"7c646c5f-8c98-49a1-9e37-b04a2fa5b9e3\",\"name\":\"Claude 3.5 Haiku\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatAnthropic\",\"position\":[-120,280],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"claude-3-5-haiku-20241022\",\"cachedResultName\":\"Claude 3.5 Haiku\"},\"options\":{}},\"credentials\":{\"anthropicApi\":{\"id\":\"npcV2ZKvGmXTUIj9\",\"name\":\"Cesar's Key\"}},\"typeVersion\":1.3},{\"id\":\"4e810287-ade5-40c6-af4f-5f7df4b3d928\",\"name\":\"On form submission\",\"type\":\"n8n-nodes-base.formTrigger\",\"position\":[-340,160],\"webhookId\":\"dbbb8b5a-a81c-4cde-9f46-f4808d7f0dc4\",\"parameters\":{\"options\":{},\"formTitle\":\"Instruction for the Web AI Agent\",\"formFields\":{\"values\":[{\"fieldType\":\"textarea\",\"fieldLabel\":\"Prompt\",\"placeholder\":\"e.g. Find the top 10 products in producthunt.com\",\"requiredField\":true},{\"fieldLabel\":\"Airtop Profile Name (for sites that require authentication)\",\"placeholder\":\"e.g. my-airtop-profile\"}]},\"formDescription\":\"Provide detailed instructions to the web AI agent. Use an [Airtop Profile](https://docs.airtop.ai/guides/how-to/saving-a-profile) for websites that need login.\"},\"typeVersion\":2.2},{\"id\":\"5bc4020c-f677-45c2-b9f6-dc6cf847df1e\",\"name\":\"Slack\",\"type\":\"n8n-nodes-base.slack\",\"position\":[520,2100],\"webhookId\":\"72d47d9c-6860-4248-8e83-7790264fdaf2\",\"parameters\":{\"text\":\"={{ $json.data.liveViewUrl }}\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C08E83RDJN9\",\"cachedResultName\":\"n8n-debug\"},\"otherOptions\":{},\"authentication\":\"oAuth2\"},\"credentials\":{\"slackOAuth2Api\":{\"id\":\"QPfv40eAdL5Eax7G\",\"name\":\"Slack account\"}},\"typeVersion\":2.3},{\"id\":\"b68a951d-b45b-46a6-bddc-cd0107fd952d\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-200,1960],\"parameters\":{\"color\":5,\"width\":220,\"height\":300,\"content\":\"## Note\\nThis sub-workflow simplifies the session management for the agent\"},\"typeVersion\":1},{\"id\":\"59479495-e62b-4e30-b42b-039f82c5aab8\",\"name\":\"Structured Output Parser\",\"type\":\"@n8n/n8n-nodes-langchain.outputParserStructured\",\"position\":[720,280],\"parameters\":{\"schemaType\":\"manual\",\"inputSchema\":\"{\\n\\t\\\"type\\\": \\\"object\\\",\\n\\t\\\"properties\\\": {\\n\\t\\t\\\"results\\\": {\\n\\t\\t\\t\\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"Synthesis of the agent's results. Must include all the relevant information related to the user's request\\\"\\n\\t\\t}\\n\\t}\\n}\"},\"typeVersion\":1.2},{\"id\":\"1d0e64b8-18e3-4de2-b089-96deb51b1e9e\",\"name\":\"Output\",\"type\":\"n8n-nodes-base.set\",\"position\":[920,160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"e1d6ab7c-2f45-44fd-9457-bb3046fad4c5\",\"name\":\"output\",\"type\":\"string\",\"value\":\"={{ $json.output.results }}\"}]}},\"typeVersion\":3.4},{\"id\":\"c40e9b06-cac3-4714-b58b-4b60c978f321\",\"name\":\"Session\",\"type\":\"n8n-nodes-base.airtop\",\"position\":[80,2100],\"parameters\":{\"profileName\":\"={{ $json.profile_name }}\"},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"fd8f9014-eff8-45c2-9483-0e6eda4a4979\",\"name\":\"Window\",\"type\":\"n8n-nodes-base.airtop\",\"position\":[300,2100],\"parameters\":{\"url\":\"={{ $('When Executed by Another Workflow').item.json.url }}\",\"resource\":\"window\",\"getLiveView\":true,\"additionalFields\":{}},\"credentials\":{\"airtopApi\":{\"id\":\"3urzXgC1IDRxzgbv\",\"name\":\"Airtop account 2\"}},\"typeVersion\":1},{\"id\":\"a6dbea48-3be2-4b31-9ee8-dba1c7049d3b\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[460,2080],\"parameters\":{\"color\":7,\"width\":220,\"height\":340,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n### See the agent in action\\nEnable this Slack node to receive the URL for the Live View in a message\\n\\n\"},\"typeVersion\":1},{\"id\":\"9e310e8c-910e-431f-9919-94a06eb2eca0\",\"name\":\"Return IDs\",\"type\":\"n8n-nodes-base.set\",\"position\":[740,2100],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"0a0680af-39bd-4bc7-b9cd-84c1766c79a1\",\"name\":\"sessionId\",\"type\":\"string\",\"value\":\"={{ $('Session').item.json.sessionId }}\"},{\"id\":\"13940ee8-c1d4-4718-a7b4-176c44c097b7\",\"name\":\"windowId\",\"type\":\"string\",\"value\":\"={{ $('Window').item.json.data.windowId }}\"},{\"id\":\"a0f2005c-2cd2-4a8d-891b-a4759b72a124\",\"name\":\"output\",\"type\":\"string\",\"value\":\"Session and window created successfully\"}]}},\"typeVersion\":3.4},{\"id\":\"a84101b9-165f-47f4-bbc4-8705abfb6e41\",\"name\":\"When Executed by Another Workflow\",\"type\":\"n8n-nodes-base.executeWorkflowTrigger\",\"position\":[-140,2100],\"parameters\":{\"workflowInputs\":{\"values\":[{\"name\":\"url\"},{\"name\":\"profile_name\"}]}},\"typeVersion\":1.1},{\"id\":\"b32534f6-3b62-4961-9d54-1e3e288fc185\",\"name\":\"Slack1\",\"type\":\"n8n-nodes-base.slack\",\"position\":[1180,160],\"webhookId\":\"72d47d9c-6860-4248-8e83-7790264fdaf2\",\"parameters\":{\"text\":\"={{ $json.output }}\",\"select\":\"channel\",\"channelId\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"C08E83RDJN9\",\"cachedResultName\":\"n8n-debug\"},\"otherOptions\":{},\"authentication\":\"oAuth2\"},\"credentials\":{\"slackOAuth2Api\":{\"id\":\"QPfv40eAdL5Eax7G\",\"name\":\"Slack account 2\"}},\"typeVersion\":2.3}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"685b3999-f85a-43fa-8bff-21f9ddbbebd7\",\"connections\":{\"Type\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Click\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Query\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Slack\":{\"main\":[[{\"node\":\"Return IDs\",\"type\":\"main\",\"index\":0}]]},\"Output\":{\"main\":[[{\"node\":\"Slack1\",\"type\":\"main\",\"index\":0}]]},\"Window\":{\"main\":[[{\"node\":\"Slack\",\"type\":\"main\",\"index\":0}]]},\"Session\":{\"main\":[[{\"node\":\"Window\",\"type\":\"main\",\"index\":0}]]},\"AI Agent\":{\"main\":[[{\"node\":\"Output\",\"type\":\"main\",\"index\":0}]]},\"Load URL\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"End session\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Start browser\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Claude 3.5 Haiku\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"On form submission\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Structured Output Parser\":{\"ai_outputParser\":[[{\"node\":\"AI Agent\",\"type\":\"ai_outputParser\",\"index\":0}]]},\"When Executed by Another Workflow\":{\"main\":[[{\"node\":\"Session\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "### About this AI Agent\n\nThis workflow is designed to automate web interactions by simulating a human user, using a combination of the Agent node and AI tools powered by Airtop.\n\n### How does this workflow works?\n\n**Form Submission Trigger** : The workflow starts with a form submission trigger node named \"On form submission\". This node collects user instructions for the web AI agent, including a prompt and an optional Airtop profile name for sites requiring authentication.\n\n**AI Agent** : The core of the workflow is the \"AI Agent\" node, which uses a smart web agent to manage a remote web browser. It is designed to fulfill user requests by interacting with the browser through various tools.\n\n#### Browser Session Management\n\n**Start Browser** : The \"Start browser\" node initiates a new browser session and window. It is essential for obtaining the sessionId and windowId required for subsequent operations.  \nSession and Window Management: The workflow includes nodes for creating and managing browser sessions and windows, such as \"Session\" and \"Window\".  \nWeb Interaction Tools:\n\n**Load URL** : This node loads a specified URL into the browser window.  \nQuery: The \"Query\" node allows the agent to ask questions and extract information from the current web page.  \nClick: This node simulates clicking on elements within the web page.  \nType: The \"Type\" node types text into specified elements on the page.  \nSession Termination: The \"End session\" node is used to terminate the browser session once the tasks are completed.\n\n#### Output Handling\n\n**Structured Output Parser** : This node processes the agent's results into a structured format.\n\n**Output** : The final results are set and prepared for output.  \nSlack Integration: Although currently disabled, there is a \"Slack\" node intended to send messages to a Slack channel, potentially for notifications or live view URLs.\n\n### Seting up your agent\n\n**Airtop API Credentials** :  \nUsers must have valid Airtop API credentials to interact with the web browser tools. This includes nodes like \"Click\", \"Query\", \"Load URL\", \"End session\", \"Type\", \"Session\", and \"Window\".  \nSlack API Credentials (Optional):\n\nIf users want to enable Slack notifications, they need to configure Slack OAuth2 credentials. The Slack node is currently disabled but can be used to send messages to a Slack channel.  \nAnthropic API Credentials:\n\nThe \"Claude 3.5 Haiku\" node requires Anthropic API credentials. Users need to have access to this API to utilize the language model features.\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h3>About this AI Agent</h3>\n<p>This workflow is designed to automate web interactions by simulating a human user, using a combination of the Agent node and AI tools powered by Airtop.</p>\n<h3>How does this workflow works?</h3>\n<p><strong>Form Submission Trigger</strong>: The workflow starts with a form submission trigger node named \"On form submission\". This node collects user instructions for the web AI agent, including a prompt and an optional Airtop profile name for sites requiring authentication.</p>\n<p><strong>AI Agent</strong>: The core of the workflow is the \"AI Agent\" node, which uses a smart web agent to manage a remote web browser. It is designed to fulfill user requests by interacting with the browser through various tools.</p>\n<h4>Browser Session Management</h4>\n<p><strong>Start Browser</strong>: The \"Start browser\" node initiates a new browser session and window. It is essential for obtaining the sessionId and windowId required for subsequent operations.<br>\nSession and Window Management: The workflow includes nodes for creating and managing browser sessions and windows, such as \"Session\" and \"Window\".<br>\nWeb Interaction Tools:</p>\n<p><strong>Load URL</strong>: This node loads a specified URL into the browser window.<br>\nQuery: The \"Query\" node allows the agent to ask questions and extract information from the current web page.<br>\nClick: This node simulates clicking on elements within the web page.<br>\nType: The \"Type\" node types text into specified elements on the page.<br>\nSession Termination: The \"End session\" node is used to terminate the browser session once the tasks are completed.</p>\n<h4>Output Handling</h4>\n<p><strong>Structured Output Parser</strong>: This node processes the agent's results into a structured format.</p>\n<p><strong>Output</strong>: The final results are set and prepared for output.<br>\nSlack Integration: Although currently disabled, there is a \"Slack\" node intended to send messages to a Slack channel, potentially for notifications or live view URLs.</p>\n<h3>Seting up your agent</h3>\n<p><strong>Airtop API Credentials</strong>:<br>\nUsers must have valid Airtop API credentials to interact with the web browser tools. This includes nodes like \"Click\", \"Query\", \"Load URL\", \"End session\", \"Type\", \"Session\", and \"Window\".<br>\nSlack API Credentials (Optional):</p>\n<p>If users want to enable Slack notifications, they need to configure Slack OAuth2 credentials. The Slack node is currently disabled but can be used to send messages to a Slack channel.<br>\nAnthropic API Credentials:</p>\n<p>The \"Claude 3.5 Haiku\" node requires Anthropic API credentials. Users need to have access to this API to utilize the language model features.</p>\n</div><!--]-->",
  "readme_zh": "### 关于此AI智能体\n\n本工作流通过模拟人类用户行为实现网页交互自动化，结合智能体节点与Airtop驱动的AI工具协同运作。\n\n### 工作流原理\n\n**表单提交触发器**  \n工作流始于名为\"表单提交时\"的触发节点。该节点收集用户对网页AI智能体的操作指令，包括提示语及需要认证站点的可选Airtop个人资料名称。\n\n**AI智能体核心**  \n\"AI智能体\"节点作为中枢，通过智能网页代理管理远程浏览器，运用多种工具实现用户请求的网页交互。\n\n#### 浏览器会话管理\n\n**启动浏览器**  \n\"启动浏览器\"节点初始化新会话窗口，获取后续操作必需的sessionId与windowId参数。  \n会话窗口管理：包含\"会话\"和\"窗口\"等节点实现浏览器会话的全生命周期管理。\n\n**网页交互工具集**  \n- 加载网址：将指定URL载入浏览器窗口  \n- 查询：从当前页面提取信息或提出问题  \n- 点击：模拟网页元素点击操作  \n- 输入：向指定页面元素键入文本  \n- 会话终止：\"结束会话\"节点完成操作后关闭浏览器会话\n\n#### 输出处理\n\n**结构化输出解析器**  \n将智能体返回结果转换为结构化数据格式。\n\n**最终输出**  \n设置并准备最终输出结果。  \nSlack集成：当前禁用的\"Slack\"节点设计用于向频道发送消息（如通知或实时视图链接）。\n\n### 配置指南\n\n**Airtop API凭证**  \n使用网页浏览器工具（点击/查询/加载网址/结束会话/输入/会话/窗口等节点）需配置有效API凭证。\n\n**Slack API凭证（可选）**  \n启用Slack通知需配置OAuth2凭证，当前禁用节点可用于向频道推送消息。\n\n**Anthropic API凭证**  \n\"Claude 3.5 Haiku\"节点需配置该API凭证以启用语言模型功能。",
  "title_zh": "使用Claude 3.5 Haiku与Airtop浏览器代理实现网页交互自动化",
  "publish_date_zh": "上次更新于5天前",
  "workflow_json_zh": "{\"id\": \"TS1wT16JCcy1Dt9Q\", \"meta\": {\"instanceId\": \"28a947b92b197fc2524eaba16e57560338657b2b0b5796300b2f1cedc1d0d355\", \"templateCredsSetupCompleted\": true}, \"name\": \"Airtop 网页代理\", \"tags\": [{\"id\": \"zGYM9A88nf1YAceR\", \"name\": \"Agent\", \"createdAt\": \"2025-04-16T21:49:22.104Z\", \"updatedAt\": \"2025-04-16T21:49:22.104Z\"}, {\"id\": \"zKNO4Omjzfu6J25M\", \"name\": \"Demo\", \"createdAt\": \"2025-04-15T18:59:57.364Z\", \"updatedAt\": \"2025-04-15T18:59:57.364Z\"}], \"nodes\": [{\"id\": \"43e674dd-82e5-49b3-8e4d-f13793e5e6c9\", \"name\": \"AI代理\", \"type\": \"@n8n/n8n-nodes-langchain.agent\", \"position\": [220, 60], \"parameters\": {\"text\": \"= {{ $json.提示 }}\", \"options\": {\"maxIterations\": 20, \"systemMessage\": \"=# Agent goal\\nYou are a smart, advanced web agent connected with tools that allow you to manage a remote web browser. Your goal is to fulfill the human's request.\\n\\n## Start the browser\\nYou should always start by using the `Start browser` tool to get the `sessionId` and `windowId` required by other tools.\\n\\n## Use the `Query` tool\\nYou don't have access to the browser screen but you can call the `Query` tool to get knowladge and hints of the current browser window. This tool accepts queries in natural language and can output information in plain text, markdown or JSON.\\n\\n## Use the `Click` tool\\nUse the `Click` tool to click on an element on the web page. Describe the element in details in the \\\"Element Description\\\" field, Be specific and refer to elements that are on the page. \\n\\n## Use the `Type` tool\\nUse the `Type` tool to type in text boxes. Describe the text box in \\\"Element Description\\\" field and the text to type in the \\\"Text\\\" field. The 'Type' tool is clicking Enter after typing the text so don't send [ENTER] commandes.\\n\\n### Examples for how to use the `Query` tool\\n- Ask something about the current page:\\n  \\\"Is the user logged in? Answer with Yes or No\\\"\\n- Retrieve information:\\n  \\\"Extract all the posts in the page, include the title and copy, output in JSON format\\\"\\n- Get hints on the UI:\\n  \\\"Is there a link to the contact form? If yes, describe the element in detail\\\"\\n\\n\\n## Important\\n- Start by calling `Start browser` to begin using the browser and provide the initial URL\\n- The human ONLY sees your last message\\n- Make sure to include all the important information requested by the human in your LAST message\\n- Call `End session` with the `sessionId` once you have finished using the browser\\n\\n\", \"passthroughBinaryImages\": true, \"returnIntermediateSteps\": false}, \"promptType\": \"定义\", \"hasOutputParser\": true}, \"retryOnFail\": true, \"typeVersion\": 1.8, \"waitBetweenTries\": 5000}, {\"id\": \"5e29189a-2b5a-4193-bff1-f4afe1c4b838\", \"name\": \"点击\", \"type\": \"n8n-nodes-base.airtopTool\", \"position\": [0, 280], \"parameters\": {\"resource\": \"互动\", \"windowId\": \"=`Open window`工具返回的`windowId`\", \"sessionId\": \"=`Create session`工具返回的`sessionId`\", \"descriptionType\": \"手动\", \"toolDescription\": \"点击窗口中的任意元素\", \"additionalFields\": {\"waitForNavigation\": \"load\"}, \"elementDescription\": \"={{ /*n8n自动生成-AI覆盖*/ $fromAI('Element_Description', `详细描述需要点击的元素，例如：页面顶部的“关于我们”菜单项`, 'string') }}\"}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"85338306-5acd-4e9b-9a02-7fc5e9a03557\", \"name\": \"查询\", \"type\": \"n8n-nodes-base.airtopTool\", \"position\": [120, 280], \"parameters\": {\"prompt\": \"={{ /*n8n自动生成-AI覆盖*/ $fromAI('提示', `询问任何内容并请求从当前页面提取信息，例如“是否有注册表单？有或没有”`, '字符串') }}\", \"resource\": \"提取\", \"windowId\": \"=`Open window`工具返回的`windowId`\", \"operation\": \"查询\", \"sessionId\": \"=`创建会话`工具返回的`sessionId`\", \"descriptionType\": \"手动\", \"toolDescription\": \"查询页面，询问并提取信息\", \"additionalFields\": {}}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"67cee508-c2c0-423e-b1fb-576de026f3ed\", \"name\": \"加载网址\", \"type\": \"n8n-nodes-base.airtopTool\", \"position\": [240, 280], \"parameters\": {\"url\": \"={{ /*n8n自动生成-来自AI覆盖*/ $fromAI('URL', ``, '字符串') }}\", \"resource\": \"窗户\", \"windowId\": \"由“打开窗口”工具返回的`windowId`\", \"operation\": \"负载\", \"sessionId\": \"由“创建会话”工具返回的`sessionId`\", \"descriptionType\": \"手册\", \"toolDescription\": \"将URL加载到浏览器窗口中\", \"additionalFields\": {}}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"05262c94-fb9a-4a51-b1c6-8b4981888850\", \"name\": \"结束会话\", \"type\": \"n8n-nodes-base.airtopTool\", \"position\": [360, 280], \"parameters\": {\"operation\": \"终止\", \"sessionId\": \"=`sessionId`由`创建会话`工具返回\"}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"e1bab1f8-8127-49a2-b3a3-f672c0687ed6\", \"name\": \"类型\", \"type\": \"n8n-nodes-base.airtopTool\", \"position\": [480, 280], \"parameters\": {\"text\": \"=\", \"resource\": \"互动\", \"windowId\": \"=`Open window`工具返回的`windowId`\", \"operation\": \"类型\", \"sessionId\": \"=`sessionId`由`创建会话`工具返回\", \"pressEnterKey\": true, \"descriptionType\": \"手动\", \"toolDescription\": \"将文本输入到所描述的页面元素中\", \"additionalFields\": {}, \"elementDescription\": \"={{ /*n8n自动生成-来自AI覆盖*/ $fromAI('Element_Description', `详细描述需要输入内容的元素，例如：页面顶部的搜索框`, 'string') }}\"}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"385c94f1-27b4-492b-8224-41d26dbb76b4\", \"name\": \"启动浏览器\", \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\", \"position\": [600, 280], \"parameters\": {\"name\": \"启动浏览器\", \"workflowId\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"TS1wT16JCcy1Dt9Q\", \"cachedResultName\": \"Airtop Web Agent\"}, \"description\": \"开启一个新的浏览器会话和窗口\", \"workflowInputs\": {\"value\": {\"url\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('url', `URL to load in the browser window`, 'string') }}\", \"profile_name\": \"={{ $json['Airtop Profile Name (for sites that require authentication)'] }}\"}, \"schema\": [{\"id\": \"url\", \"type\": \"string\", \"display\": true, \"removed\": false, \"required\": false, \"displayName\": \"url\", \"defaultMatch\": false, \"canBeUsedToMatch\": true}, {\"id\": \"profile_name\", \"type\": \"string\", \"display\": true, \"removed\": false, \"required\": false, \"displayName\": \"profile_name\", \"defaultMatch\": false, \"canBeUsedToMatch\": true}], \"mappingMode\": \"defineBelow\", \"matchingColumns\": [\"url\"], \"attemptToConvertTypes\": false, \"convertFieldsToString\": false}}, \"typeVersion\": 2.1}, {\"id\": \"7c646c5f-8c98-49a1-9e37-b04a2fa5b9e3\", \"name\": \"克劳德3.5俳句\", \"type\": \"@n8n/n8n-nodes-langchain.lmChatAnthropic\", \"position\": [-120, 280], \"parameters\": {\"model\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"claude-3-5-haiku-20241022\", \"cachedResultName\": \"Claude 3.5 Haiku\"}, \"options\": {}}, \"credentials\": {\"anthropicApi\": {\"id\": \"npcV2ZKvGmXTUIj9\", \"name\": \"Cesar's Key\"}}, \"typeVersion\": 1.3}, {\"id\": \"4e810287-ade5-40c6-af4f-5f7df4b3d928\", \"name\": \"表单提交时\", \"type\": \"n8n-nodes-base.formTrigger\", \"position\": [-340, 160], \"webhookId\": \"dbbb8b5a-a81c-4cde-9f46-f4808d7f0dc4\", \"parameters\": {\"options\": {}, \"formTitle\": \"网页AI代理的操作指南\", \"formFields\": {\"values\": [{\"fieldType\": \"textarea\", \"fieldLabel\": \"Prompt\", \"placeholder\": \"e.g. Find the top 10 products in producthunt.com\", \"requiredField\": true}, {\"fieldLabel\": \"Airtop Profile Name (for sites that require authentication)\", \"placeholder\": \"e.g. my-airtop-profile\"}]}, \"formDescription\": \"向网络AI代理提供详细的操作指南。对于需要登录的网站，请使用[Airtop个人配置文件](https://docs.airtop.ai/guides/how-to/saving-a-profile)。\"}, \"typeVersion\": 2.2}, {\"id\": \"5bc4020c-f677-45c2-b9f6-dc6cf847df1e\", \"name\": \"Slack\", \"type\": \"n8n-nodes-base.slack\", \"position\": [520, 2100], \"webhookId\": \"72d47d9c-6860-4248-8e83-7790264fdaf2\", \"parameters\": {\"text\": \"={{ $json.data.liveViewUrl }}\", \"select\": \"频道\", \"channelId\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"C08E83RDJN9\", \"cachedResultName\": \"n8n-debug\"}, \"otherOptions\": {}, \"authentication\": \"OAuth2\"}, \"credentials\": {\"slackOAuth2Api\": {\"id\": \"QPfv40eAdL5Eax7G\", \"name\": \"Slack account\"}}, \"typeVersion\": 2.3}, {\"id\": \"b68a951d-b45b-46a6-bddc-cd0107fd952d\", \"name\": \"便利贴1\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [-200, 1960], \"parameters\": {\"color\": 5, \"width\": 220, \"height\": 300, \"content\": \"## 说明\\n此子流程简化了代理的会话管理\"}, \"typeVersion\": 1}, {\"id\": \"59479495-e62b-4e30-b42b-039f82c5aab8\", \"name\": \"结构化输出解析器\", \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\", \"position\": [720, 280], \"parameters\": {\"schemaType\": \"手动\", \"inputSchema\": \"{\\n\\t\\\"类型\\\": \\\"对象\\\",\\n\\t\\\"属性\\\": {\\n\\t\\t\\\"结果\\\": {\\n\\t\\t\\t\\\"类型\\\": \\\"字符串\\\",\\n\\t\\t\\t\\\"描述\\\": \\\"代理执行结果的综合报告。必须包含与用户请求相关的所有重要信息\\\"\\n\\t\\t}\\n\\t}\\n}\"}, \"typeVersion\": 1.2}, {\"id\": \"1d0e64b8-18e3-4de2-b089-96deb51b1e9e\", \"name\": \"输出\", \"type\": \"n8n-nodes-base.set\", \"position\": [920, 160], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"e1d6ab7c-2f45-44fd-9457-bb3046fad4c5\", \"name\": \"output\", \"type\": \"string\", \"value\": \"={{ $json.output.results }}\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"c40e9b06-cac3-4714-b58b-4b60c978f321\", \"name\": \"会议\", \"type\": \"n8n-nodes-base.airtop\", \"position\": [80, 2100], \"parameters\": {\"profileName\": \"={{ $json.个人资料名称 }}\"}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"fd8f9014-eff8-45c2-9483-0e6eda4a4979\", \"name\": \"窗户\", \"type\": \"n8n-nodes-base.airtop\", \"position\": [300, 2100], \"parameters\": {\"url\": \"={{ $('由其他工作流执行时').item.json.url }}\", \"resource\": \"窗户\", \"getLiveView\": true, \"additionalFields\": {}}, \"credentials\": {\"airtopApi\": {\"id\": \"3urzXgC1IDRxzgbv\", \"name\": \"Airtop account 2\"}}, \"typeVersion\": 1}, {\"id\": \"a6dbea48-3be2-4b31-9ee8-dba1c7049d3b\", \"name\": \"便利贴\", \"type\": \"n8n-nodes-base.stickyNote\", \"position\": [460, 2080], \"parameters\": {\"color\": 7, \"width\": 220, \"height\": 340, \"content\": \"### 查看代理运行情况\\n启用此Slack节点以接收包含实时视图URL的消息\"}, \"typeVersion\": 1}, {\"id\": \"9e310e8c-910e-431f-9919-94a06eb2eca0\", \"name\": \"返回ID\", \"type\": \"n8n-nodes-base.set\", \"position\": [740, 2100], \"parameters\": {\"options\": {}, \"assignments\": {\"assignments\": [{\"id\": \"0a0680af-39bd-4bc7-b9cd-84c1766c79a1\", \"name\": \"sessionId\", \"type\": \"string\", \"value\": \"={{ $('Session').item.json.sessionId }}\"}, {\"id\": \"13940ee8-c1d4-4718-a7b4-176c44c097b7\", \"name\": \"windowId\", \"type\": \"string\", \"value\": \"={{ $('Window').item.json.data.windowId }}\"}, {\"id\": \"a0f2005c-2cd2-4a8d-891b-a4759b72a124\", \"name\": \"output\", \"type\": \"string\", \"value\": \"Session and window created successfully\"}]}}, \"typeVersion\": 3.4}, {\"id\": \"a84101b9-165f-47f4-bbc4-8705abfb6e41\", \"name\": \"当由另一个工作流执行时\", \"type\": \"n8n-nodes-base.executeWorkflowTrigger\", \"position\": [-140, 2100], \"parameters\": {\"workflowInputs\": {\"values\": [{\"name\": \"url\"}, {\"name\": \"profile_name\"}]}}, \"typeVersion\": 1.1}, {\"id\": \"b32534f6-3b62-4961-9d54-1e3e288fc185\", \"name\": \"Slack1\", \"type\": \"n8n-nodes-base.slack\", \"position\": [1180, 160], \"webhookId\": \"72d47d9c-6860-4248-8e83-7790264fdaf2\", \"parameters\": {\"text\": \"={{ $json.output }}\", \"select\": \"频道\", \"channelId\": {\"__rl\": true, \"mode\": \"list\", \"value\": \"C08E83RDJN9\", \"cachedResultName\": \"n8n-debug\"}, \"otherOptions\": {}, \"authentication\": \"OAuth2\"}, \"credentials\": {\"slackOAuth2Api\": {\"id\": \"QPfv40eAdL5Eax7G\", \"name\": \"Slack account 2\"}}, \"typeVersion\": 2.3}], \"active\": true, \"pinData\": {}, \"settings\": {\"executionOrder\": \"v1\"}, \"versionId\": \"685b3999-f85a-43fa-8bff-21f9ddbbebd7\", \"connections\": {\"Type\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"Click\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"Query\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"Slack\": {\"main\": [[{\"node\": \"Return IDs\", \"type\": \"main\", \"index\": 0}]]}, \"Output\": {\"main\": [[{\"node\": \"Slack1\", \"type\": \"main\", \"index\": 0}]]}, \"Window\": {\"main\": [[{\"node\": \"Slack\", \"type\": \"main\", \"index\": 0}]]}, \"Session\": {\"main\": [[{\"node\": \"Window\", \"type\": \"main\", \"index\": 0}]]}, \"AI Agent\": {\"main\": [[{\"node\": \"Output\", \"type\": \"main\", \"index\": 0}]]}, \"Load URL\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"End session\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"Start browser\": {\"ai_tool\": [[{\"node\": \"AI Agent\", \"type\": \"ai_tool\", \"index\": 0}]]}, \"Claude 3.5 Haiku\": {\"ai_languageModel\": [[{\"node\": \"AI Agent\", \"type\": \"ai_languageModel\", \"index\": 0}]]}, \"On form submission\": {\"main\": [[{\"node\": \"AI Agent\", \"type\": \"main\", \"index\": 0}]]}, \"Structured Output Parser\": {\"ai_outputParser\": [[{\"node\": \"AI Agent\", \"type\": \"ai_outputParser\", \"index\": 0}]]}, \"When Executed by Another Workflow\": {\"main\": [[{\"node\": \"Session\", \"type\": \"main\", \"index\": 0}]]}}}"
}