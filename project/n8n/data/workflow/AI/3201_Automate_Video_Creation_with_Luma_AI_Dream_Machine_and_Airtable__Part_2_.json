{
  "title": "Automate Video Creation with Luma AI Dream Machine and Airtable (Part 2)",
  "url": "https://n8n.io/workflows/3201-automate-video-creation-with-luma-ai-dream-machine-and-airtable-part-2/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Alex Kim",
  "publish_date": "Last update a month ago",
  "content": "",
  "workflow_json": "{\"id\":\"rYuhIChQyjpGNvuR\",\"meta\":{\"instanceId\":\"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\"},\"name\":\"Luma AI - Webhook Response v1 - AK\",\"tags\":[{\"id\":\"6rb8rVhKZj4t0Kne\",\"name\":\"Current\",\"createdAt\":\"2025-02-04T18:13:17.427Z\",\"updatedAt\":\"2025-02-04T18:13:17.427Z\"}],\"nodes\":[{\"id\":\"cb03e151-9931-4917-bf6f-2a1c9e06b896\",\"name\":\"Webhook\",\"type\":\"n8n-nodes-base.webhook\",\"position\":[-560,120],\"webhookId\":\"cea413b3-fa80-454e-b7c9-ec284a795984\",\"parameters\":{\"path\":\"luma-ai-response\",\"options\":{},\"httpMethod\":\"POST\"},\"typeVersion\":2},{\"id\":\"33a93e0d-3424-480b-9b55-9124d826b233\",\"name\":\"Video JSON\",\"type\":\"n8n-nodes-base.set\",\"position\":[-360,120],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"3280111c-573a-4ed0-8a7e-da263558f3d5\",\"name\":\"video_json\",\"type\":\"string\",\"value\":\"={{ $json }}\"},{\"id\":\"63a091f2-5a4d-410c-87ec-2ad8f3db8480\",\"name\":\"luma_video\",\"type\":\"string\",\"value\":\"={{ $json.body.assets.video }}\"},{\"id\":\"4425f709-12c7-4aeb-b957-c419f79eb5fd\",\"name\":\"luma_thumb\",\"type\":\"string\",\"value\":\"={{ $json.body.assets.image }}\"},{\"id\":\"b1eb986c-76af-462f-a685-209bcdc14baa\",\"name\":\"gen_id\",\"type\":\"string\",\"value\":\"={{ $json.id }}\"}]},\"includeOtherFields\":true},\"typeVersion\":3.4},{\"id\":\"103b3a52-dc99-46b4-9d8e-41fa413b7c7b\",\"name\":\"Execution Data\",\"type\":\"n8n-nodes-base.executionData\",\"position\":[480,20],\"parameters\":{},\"typeVersion\":1},{\"id\":\"90f163dd-1b59-4a6c-a5ca-00c52cffacdd\",\"name\":\"If\",\"type\":\"n8n-nodes-base.if\",\"position\":[-160,120],\"parameters\":{\"options\":{},\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"ac05d685-5af4-40cf-a4c6-3b717c36d8c5\",\"operator\":{\"type\":\"string\",\"operation\":\"notEmpty\",\"singleValue\":true},\"leftValue\":\"={{ $('Video JSON').first().json.body.assets.video }}\",\"rightValue\":\"\"}]}},\"typeVersion\":2.2},{\"id\":\"9ace2252-e3e0-4321-92c5-1cfcf1b97ebf\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[0,-100],\"parameters\":{\"color\":3,\"width\":220,\"content\":\"## Define your SETTINGS here\"},\"typeVersion\":1},{\"id\":\"116048ff-d444-4808-b533-116614386c0c\",\"name\":\"Global SETTINGS\",\"type\":\"n8n-nodes-base.set\",\"position\":[60,20],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"5e5089e8-6b94-4d2a-aa51-2b8f9caca7c3\",\"name\":\"airtable_base\",\"type\":\"string\",\"value\":\"appvk87mtcwRve5p5\"},{\"id\":\"26b5a452-7797-4c84-bd9e-285df13f7089\",\"name\":\"airtable_table_generated_videos\",\"type\":\"string\",\"value\":\"tblOzRFWgcsfttRWK\"},{\"id\":\"0dc3ad30-cb06-47b0-8b03-5bd98ac377bf\",\"name\":\"airtable_table_article_writer\",\"type\":\"string\",\"value\":\"tblVTpv8JG5lZRiF2\"}]}},\"typeVersion\":3.4},{\"id\":\"449983cc-ed22-4544-a3df-1e1f7087c810\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-820,0],\"parameters\":{\"color\":3,\"width\":400,\"content\":\"## Make sure this URL for the Webhook matches that in Part 1 of this series\"},\"typeVersion\":1},{\"id\":\"eee48ffe-dddc-41c9-ae8d-ca75cd8ce31c\",\"name\":\"ADD Video and Thumbnail URL\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[280,20],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.airtable_base }}\"},\"table\":{\"__rl\":true,\"mode\":\"id\",\"value\":\"={{ $json.airtable_table_generated_videos }}\"},\"columns\":{\"value\":{\"Status\":\"Done\",\"Thumb URL\":\"={{ $('If').first().json.body.assets.image }}\",\"Video URL\":\"={{ $('If').first().json.body.assets.video }}\",\"Generation ID\":\"={{ $('If').first().json.body.id }}\"},\"schema\":[{\"id\":\"Generation ID\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Generation ID\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Status\",\"type\":\"options\",\"display\":true,\"options\":[{\"name\":\"Todo\",\"value\":\"Todo\"},{\"name\":\"In progress\",\"value\":\"In progress\"},{\"name\":\"Done\",\"value\":\"Done\"}],\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Status\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Content Title\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Content Title\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Video URL\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Video URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Thumb URL\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Thumb URL\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Prompt\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Prompt\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Aspect\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Aspect\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Model\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Model\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Resolution\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Resolution\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Length\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"Length\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"Generation ID\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"update\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"yqBrLbgHXLcwqH0p\",\"name\":\"AlexK Airtable Personal Access Token account\"}},\"typeVersion\":2.1}],\"active\":true,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"82de5303-0dcf-416e-8823-e2a7eff4c5f8\",\"connections\":{\"If\":{\"main\":[[{\"node\":\"Global SETTINGS\",\"type\":\"main\",\"index\":0}]]},\"Webhook\":{\"main\":[[{\"node\":\"Video JSON\",\"type\":\"main\",\"index\":0}]]},\"Video JSON\":{\"main\":[[{\"node\":\"If\",\"type\":\"main\",\"index\":0}]]},\"Global SETTINGS\":{\"main\":[[{\"node\":\"ADD Video and Thumbnail URL\",\"type\":\"main\",\"index\":0}]]},\"ADD Video and Thumbnail URL\":{\"main\":[[{\"node\":\"Execution Data\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "# Automate Video Creation with Luma AI Dream Machine and Airtable (Part 2)\n\n## **Description**\n\nThis is the second part of the Luma AI Dream Machine automation. It captures the webhook response from Luma AI after video generation is complete, processes the data, and automatically updates Airtable with the video and thumbnail URLs. This completes the end-to-end automation for video creation and tracking.\n\nðŸ‘‰ [Airtable Base Template](https://airtable.com/invite/l?inviteId=invOr5AApOnDOtkhi&inviteToken=72a165d2df1c9a1c82a6144effc626f88ad501e9eaab10a1c2f279c3d7a6faff)  \nðŸ‘‰ [Tutorial Video](https://youtu.be/yFCZYGHM9d8)\n\n* * *\n\n## **Setup**\n\n### **1\\. Luma AI Setup**\n\n  * Ensure youâ€™ve created an account with **Luma AI** and generated an **API key**.\n  * Confirm that the API key has permission to manage video requests.\n\n\n\n### **2\\. Airtable Setup**\n\nMake sure your Airtable base includes the following fields (set up in Part 1):\n\n  * Use the **Airtable Base Template** linked above to simplify setup.\n  * **Generation ID** â€“ To match incoming webhook data.\n  * **Status** â€“ Workflow status (e.g., \"Done\").\n  * **Video URL** â€“ Stores the generated video URL.\n  * **Thumbnail URL** â€“ Stores the thumbnail URL.\n\n\n\n### **3\\. n8n Setup**\n\n  * Ensure that the n8n workflow from **Part 1** is set up and configured.\n  * Import this workflow and connect it to the webhook callback from Luma AI.\n\n\n\n* * *\n\n## **How It Works**\n\n### 1\\. **Webhook Trigger**\n\n  * The **Webhook** node listens for a POST response from Luma AI once video generation is finished.\n  * The response includes: \n    * **Video URL** â€“ Direct link to the video.\n    * **Thumbnail URL** â€“ Link to the video thumbnail.\n    * **Generation ID** â€“ Used to match the record in Airtable.\n\n\n\n### 2\\. **Process Webhook Data**\n\n  * The **Set** node extracts the video data from the webhook response.\n  * The **If** node checks if the video URL is valid before proceeding.\n\n\n\n### 3\\. **Store in Airtable**\n\n  * The **Airtable** node updates the record with: \n    * **Video URL** â€“ Direct link to the video.\n    * **Thumbnail URL** â€“ Link to the video thumbnail.\n    * **Status** â€“ Marked as \"Done.\"\n  * Uses the **Generation ID** to match and update the correct record.\n\n\n\n* * *\n\n## **Why This Workflow is Useful**\n\nâœ… Automates the completion step for video creation  \nâœ… Ensures accurate record-keeping by matching generation IDs  \nâœ… Simplifies the process of managing and organizing video content  \nâœ… Reduces manual effort by automating the update process\n\n* * *\n\n## **Next Steps**\n\n  * **Future Enhancements** â€“ Adding more complex post-processing, video trimming, and multi-platform publishing.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h1>Automate Video Creation with Luma AI Dream Machine and Airtable (Part 2)</h1>\n<h2><strong>Description</strong></h2>\n<p>This is the second part of the Luma AI Dream Machine automation. It captures the webhook response from Luma AI after video generation is complete, processes the data, and automatically updates Airtable with the video and thumbnail URLs. This completes the end-to-end automation for video creation and tracking.</p>\n<p>ðŸ‘‰ <a href=\"https://airtable.com/invite/l?inviteId=invOr5AApOnDOtkhi&amp;inviteToken=72a165d2df1c9a1c82a6144effc626f88ad501e9eaab10a1c2f279c3d7a6faff\" rel=\"ugc nofollow\" target=\"_blank\">Airtable Base Template</a><br>\nðŸ‘‰ <a href=\"https://youtu.be/yFCZYGHM9d8\" rel=\"ugc nofollow\" target=\"_blank\">Tutorial Video</a></p>\n<hr>\n<h2><strong>Setup</strong></h2>\n<h3><strong>1. Luma AI Setup</strong></h3>\n<ul>\n<li>Ensure youâ€™ve created an account with <strong>Luma AI</strong> and generated an <strong>API key</strong>.</li>\n<li>Confirm that the API key has permission to manage video requests.</li>\n</ul>\n<h3><strong>2. Airtable Setup</strong></h3>\n<p>Make sure your Airtable base includes the following fields (set up in Part 1):</p>\n<ul>\n<li>Use the <strong>Airtable Base Template</strong> linked above to simplify setup.</li>\n<li><strong>Generation ID</strong> â€“ To match incoming webhook data.</li>\n<li><strong>Status</strong> â€“ Workflow status (e.g., \"Done\").</li>\n<li><strong>Video URL</strong> â€“ Stores the generated video URL.</li>\n<li><strong>Thumbnail URL</strong> â€“ Stores the thumbnail URL.</li>\n</ul>\n<h3><strong>3. n8n Setup</strong></h3>\n<ul>\n<li>Ensure that the n8n workflow from <strong>Part 1</strong> is set up and configured.</li>\n<li>Import this workflow and connect it to the webhook callback from Luma AI.</li>\n</ul>\n<hr>\n<h2><strong>How It Works</strong></h2>\n<h3>1. <strong>Webhook Trigger</strong></h3>\n<ul>\n<li>The <strong>Webhook</strong> node listens for a POST response from Luma AI once video generation is finished.</li>\n<li>The response includes:\n<ul>\n<li><strong>Video URL</strong> â€“ Direct link to the video.</li>\n<li><strong>Thumbnail URL</strong> â€“ Link to the video thumbnail.</li>\n<li><strong>Generation ID</strong> â€“ Used to match the record in Airtable.</li>\n</ul>\n</li>\n</ul>\n<h3>2. <strong>Process Webhook Data</strong></h3>\n<ul>\n<li>The <strong>Set</strong> node extracts the video data from the webhook response.</li>\n<li>The <strong>If</strong> node checks if the video URL is valid before proceeding.</li>\n</ul>\n<h3>3. <strong>Store in Airtable</strong></h3>\n<ul>\n<li>The <strong>Airtable</strong> node updates the record with:\n<ul>\n<li><strong>Video URL</strong> â€“ Direct link to the video.</li>\n<li><strong>Thumbnail URL</strong> â€“ Link to the video thumbnail.</li>\n<li><strong>Status</strong> â€“ Marked as \"Done.\"</li>\n</ul>\n</li>\n<li>Uses the <strong>Generation ID</strong> to match and update the correct record.</li>\n</ul>\n<hr>\n<h2><strong>Why This Workflow is Useful</strong></h2>\n<p>âœ… Automates the completion step for video creation<br>\nâœ… Ensures accurate record-keeping by matching generation IDs<br>\nâœ… Simplifies the process of managing and organizing video content<br>\nâœ… Reduces manual effort by automating the update process</p>\n<hr>\n<h2><strong>Next Steps</strong></h2>\n<ul>\n<li><strong>Future Enhancements</strong> â€“ Adding more complex post-processing, video trimming, and multi-platform publishing.</li>\n</ul>\n</div><!--]-->"
}