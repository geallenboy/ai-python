{
  "title": "Custom Deal Recommendations by Email using Forms, Bright Data & GPT-4o-mini",
  "url": "https://n8n.io/workflows/3304-custom-deal-recommendations-by-email-using-forms-bright-data-and-gpt-4o-mini/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Miquel Colomer",
  "publish_date": "Last update a month ago",
  "content": "",
  "workflow_json": "",
  "readme": "![image.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png)\n\nThis **n8n workflow template** automates the process of collecting and delivering the **\"Top Deals of the Day\" from MediaMarkt** , tailored to user preferences. By combining **user-submitted forms** , **Bright Data web scraping** , **GPT-4o-mini deal generation** , and **email delivery** , this workflow sends **personalized product recommendations** straight to a user‚Äôs inbox.\n\n> ‚ö†Ô∏è _Note: This workflow uses community nodes (Bright Data and Document Generator) which only work on**self-hosted n8n instances**_.\n\n* * *\n\n### üöÄ **What It Does**\n\n  * Collects user preferences via a form (categories + email)\n  * Scrapes MediaMarkt‚Äôs deals page using Bright Data\n  * Uses GPT-4o-mini (OpenAI) to recommend top deals\n  * Generates a structured HTML email using a template\n  * Sends the personalized deals directly via email\n\n\n\n* * *\n\n### üß© **Community Node Integration**\n\nWe created and used the following community nodes:\n\n  * **[Bright Data](https://www.npmjs.com/package/n8n-nodes-brightdata)** ‚Äì To scrape MediaMarkt deals using proxy-based scraping\n  * **[Document Generator](https://www.npmjs.com/package/n8n-nodes-document-generator)** ‚Äì To generate a templated HTML document from deal data\n\n\n\nThese nodes are **not available in n8n Cloud** and require **self-hosted n8n**.\n\n* * *\n\n### üõ†Ô∏è **Step-by-Step Setup**\n\n  1. **Install Community Nodes**  \nMake sure you're on a self-hosted n8n instance. Install:\n\n     * `n8n-nodes-brightdata`\n     * `n8n-nodes-document-generator`\n  2. **Configure Credentials**\n\n     * **Bright Data API Key** (Proxy + Scraping setup)\n     * **OpenAI API Key** (GPT-4o-mini access)\n     * **SMTP Credentials** for sending emails\n  3. **Customize the Form**  \nAdapt the form node to collect desired categories and email addresses. Typical categories include appliances, phones, laptops, etc.\n\n  4. **Design Your HTML Template**  \nIn the Document Generator node, you can tweak the HTML/CSS to change how deals appear in the final email.\n\n  5. **Test the Workflow**  \nSubmit the form with test data and check that the entire flow‚Äîfrom scraping to email‚Äîexecutes as expected.\n\n\n\n\n* * *\n\n### üß† **How It Works: Workflow Overview**\n\n  1. **User Interaction via Form**  \nUsers select product categories and enter their email. This triggers the workflow.\n\n  2. **Data Extraction via Bright Data**  \nBright Data scrapes the [MediaMarkt offers page](https://www.mediamarkt.es/es/campaign/campanas-y-ofertas) and returns HTML content.\n\n  3. **HTML Parsing**  \nKey elements like product names, prices, and links are extracted for processing.\n\n  4. **GPT-4o-mini Recommendation Generation**  \nThe extracted data is sent to OpenAI (GPT-4o-mini), which filters, ranks, and enhances deals based on the user‚Äôs preferences.\n\n  5. **Data Structuring & Split**  \nThe result is split into individual deal items to be formatted.\n\n  6. **HTML Document Creation**  \nDocument Generator populates a clean HTML template with the top recommended deals.\n\n  7. **Email Delivery**  \nThe final document is emailed via SMTP to the user with a friendly message.\n\n\n\n\n* * *\n\n### üì® **Final Output**\n\nUsers receive a **custom HTML email** featuring a curated list of top MediaMarkt deals based on their selected categories.\n\n* * *\n\n### üîê **Credentials Used**\n\n  * **Bright Data API** ‚Äì Web scraping with proxy support\n  * **OpenAI API** ‚Äì Generating personalized recommendations\n  * **SMTP** ‚Äì Sending personalized deal emails\n\n\n\n* * *\n\n### ‚ú® **Customization Tips**\n\n  * **Change the Data Source** : You can adapt this to scrape other e-commerce sites.\n  * **Update the Email Template** : Make it match your branding or include images.\n  * **Extend the Form** : Add preferences like price range or specific brands.\n  * **Add Scheduling** : Use Cron to run the workflow daily or weekly.\n\n\n\n* * *\n\n### ‚ùìQuestions?\n\nTemplate and node created by [**Miquel Colomer**](https://www.linkedin.com/in/miquelcolomersalas/) and [**n8nhackers.com**](https://n8nhackers.com).\n\nNeed help customizing or deploying? [**Contact us**](mailto:contact@n8nhackers.com) for consulting and support.\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/image_894ddc3942.png\" alt=\"image.png\"></p>\n<p>This <strong>n8n workflow template</strong> automates the process of collecting and delivering the <strong>\"Top Deals of the Day\" from MediaMarkt</strong>, tailored to user preferences. By combining <strong>user-submitted forms</strong>, <strong>Bright Data web scraping</strong>, <strong>GPT-4o-mini deal generation</strong>, and <strong>email delivery</strong>, this workflow sends <strong>personalized product recommendations</strong> straight to a user‚Äôs inbox.</p>\n<blockquote>\n<p>‚ö†Ô∏è <em>Note: This workflow uses community nodes (Bright Data and Document Generator) which only work on <strong>self-hosted n8n instances</strong></em>.</p>\n</blockquote>\n<hr>\n<h3>üöÄ <strong>What It Does</strong></h3>\n<ul>\n<li>Collects user preferences via a form (categories + email)</li>\n<li>Scrapes MediaMarkt‚Äôs deals page using Bright Data</li>\n<li>Uses GPT-4o-mini (OpenAI) to recommend top deals</li>\n<li>Generates a structured HTML email using a template</li>\n<li>Sends the personalized deals directly via email</li>\n</ul>\n<hr>\n<h3>üß© <strong>Community Node Integration</strong></h3>\n<p>We created and used the following community nodes:</p>\n<ul>\n<li><strong><a href=\"https://www.npmjs.com/package/n8n-nodes-brightdata\" rel=\"ugc nofollow\" target=\"_blank\">Bright Data</a></strong> ‚Äì To scrape MediaMarkt deals using proxy-based scraping</li>\n<li><strong><a href=\"https://www.npmjs.com/package/n8n-nodes-document-generator\" rel=\"ugc nofollow\" target=\"_blank\">Document Generator</a></strong> ‚Äì To generate a templated HTML document from deal data</li>\n</ul>\n<p>These nodes are <strong>not available in n8n Cloud</strong> and require <strong>self-hosted n8n</strong>.</p>\n<hr>\n<h3>üõ†Ô∏è <strong>Step-by-Step Setup</strong></h3>\n<ol>\n<li>\n<p><strong>Install Community Nodes</strong><br>\nMake sure you're on a self-hosted n8n instance. Install:</p>\n<ul>\n<li><code>n8n-nodes-brightdata</code></li>\n<li><code>n8n-nodes-document-generator</code></li>\n</ul>\n</li>\n<li>\n<p><strong>Configure Credentials</strong></p>\n<ul>\n<li><strong>Bright Data API Key</strong> (Proxy + Scraping setup)</li>\n<li><strong>OpenAI API Key</strong> (GPT-4o-mini access)</li>\n<li><strong>SMTP Credentials</strong> for sending emails</li>\n</ul>\n</li>\n<li>\n<p><strong>Customize the Form</strong><br>\nAdapt the form node to collect desired categories and email addresses. Typical categories include appliances, phones, laptops, etc.</p>\n</li>\n<li>\n<p><strong>Design Your HTML Template</strong><br>\nIn the Document Generator node, you can tweak the HTML/CSS to change how deals appear in the final email.</p>\n</li>\n<li>\n<p><strong>Test the Workflow</strong><br>\nSubmit the form with test data and check that the entire flow‚Äîfrom scraping to email‚Äîexecutes as expected.</p>\n</li>\n</ol>\n<hr>\n<h3>üß† <strong>How It Works: Workflow Overview</strong></h3>\n<ol>\n<li>\n<p><strong>User Interaction via Form</strong><br>\nUsers select product categories and enter their email. This triggers the workflow.</p>\n</li>\n<li>\n<p><strong>Data Extraction via Bright Data</strong><br>\nBright Data scrapes the <a href=\"https://www.mediamarkt.es/es/campaign/campanas-y-ofertas\" rel=\"ugc nofollow\" target=\"_blank\">MediaMarkt offers page</a> and returns HTML content.</p>\n</li>\n<li>\n<p><strong>HTML Parsing</strong><br>\nKey elements like product names, prices, and links are extracted for processing.</p>\n</li>\n<li>\n<p><strong>GPT-4o-mini Recommendation Generation</strong><br>\nThe extracted data is sent to OpenAI (GPT-4o-mini), which filters, ranks, and enhances deals based on the user‚Äôs preferences.</p>\n</li>\n<li>\n<p><strong>Data Structuring &amp; Split</strong><br>\nThe result is split into individual deal items to be formatted.</p>\n</li>\n<li>\n<p><strong>HTML Document Creation</strong><br>\nDocument Generator populates a clean HTML template with the top recommended deals.</p>\n</li>\n<li>\n<p><strong>Email Delivery</strong><br>\nThe final document is emailed via SMTP to the user with a friendly message.</p>\n</li>\n</ol>\n<hr>\n<h3>üì® <strong>Final Output</strong></h3>\n<p>Users receive a <strong>custom HTML email</strong> featuring a curated list of top MediaMarkt deals based on their selected categories.</p>\n<hr>\n<h3>üîê <strong>Credentials Used</strong></h3>\n<ul>\n<li><strong>Bright Data API</strong> ‚Äì Web scraping with proxy support</li>\n<li><strong>OpenAI API</strong> ‚Äì Generating personalized recommendations</li>\n<li><strong>SMTP</strong> ‚Äì Sending personalized deal emails</li>\n</ul>\n<hr>\n<h3>‚ú® <strong>Customization Tips</strong></h3>\n<ul>\n<li><strong>Change the Data Source</strong>: You can adapt this to scrape other e-commerce sites.</li>\n<li><strong>Update the Email Template</strong>: Make it match your branding or include images.</li>\n<li><strong>Extend the Form</strong>: Add preferences like price range or specific brands.</li>\n<li><strong>Add Scheduling</strong>: Use Cron to run the workflow daily or weekly.</li>\n</ul>\n<hr>\n<h3>‚ùìQuestions?</h3>\n<p>Template and node created by <a href=\"https://www.linkedin.com/in/miquelcolomersalas/\" rel=\"ugc nofollow\" target=\"_blank\"><strong>Miquel Colomer</strong></a> and <a href=\"https://n8nhackers.com\" rel=\"ugc nofollow\" target=\"_blank\"><strong>n8nhackers.com</strong></a>.</p>\n<p>Need help customizing or deploying? <a href=\"mailto:contact@n8nhackers.com\" rel=\"ugc nofollow\"><strong>Contact us</strong></a> for consulting and support.</p>\n</div><!--]-->"
}