{
  "title": "Respond to WhatsApp Messages with AI Like a Pro!",
  "url": "https://n8n.io/workflows/2466-respond-to-whatsapp-messages-with-ai-like-a-pro/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Jimleuk",
  "publish_date": "Last update 5 months ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\"},\"nodes\":[{\"id\":\"38ffe41a-ecdf-4bb4-bd55-51998abab0f5\",\"name\":\"WhatsApp Trigger\",\"type\":\"n8n-nodes-base.whatsAppTrigger\",\"position\":[220,300],\"webhookId\":\"0b1b3a9b-2f6a-4f5a-8385-6365d96f4802\",\"parameters\":{\"updates\":[\"messages\"]},\"credentials\":{\"whatsAppTriggerApi\":{\"id\":\"H3uYNtpeczKMqtYm\",\"name\":\"WhatsApp OAuth account\"}},\"typeVersion\":1},{\"id\":\"a35ac268-eff0-46cd-ac4e-c9b047a3f893\",\"name\":\"Get Audio URL\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[1020,-160],\"parameters\":{\"resource\":\"media\",\"operation\":\"mediaUrlGet\",\"mediaGetId\":\"={{ $json.audio.id }}\",\"requestOptions\":{}},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"a3be543c-949c-4443-bf82-e0d00419ae23\",\"name\":\"Get Video URL\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[1020,200],\"parameters\":{\"resource\":\"media\",\"operation\":\"mediaUrlGet\",\"mediaGetId\":\"={{ $json.video.id }}\",\"requestOptions\":{}},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"dd3cd0e7-0d1e-40cf-8120-aba0d1646d6d\",\"name\":\"Get Image URL\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[1020,540],\"parameters\":{\"resource\":\"media\",\"operation\":\"mediaUrlGet\",\"mediaGetId\":\"={{ $json.image.id }}\",\"requestOptions\":{}},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"a3505c93-2719-4a11-8813-39844fe0dd1a\",\"name\":\"Download Video\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1180,200],\"parameters\":{\"url\":\"={{ $json.url }}\",\"options\":{},\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"whatsAppApi\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":4.2},{\"id\":\"b22e3a7d-5fa1-4b8d-be08-b59f5bb5c417\",\"name\":\"Download Audio\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1180,-160],\"parameters\":{\"url\":\"={{ $json.url }}\",\"options\":{},\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"whatsAppApi\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":4.2},{\"id\":\"dcadbd30-598e-443b-a3a7-10d7f9210f49\",\"name\":\"Download Image\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1180,540],\"parameters\":{\"url\":\"={{ $json.url }}\",\"options\":{},\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"whatsAppApi\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":4.2},{\"id\":\"d38b6f73-272e-4833-85fc-46ce0db91f6a\",\"name\":\"Window Buffer Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[2380,560],\"parameters\":{\"sessionKey\":\"=whatsapp-tutorial-{{ $json.from }}\",\"sessionIdType\":\"customKey\"},\"typeVersion\":1.2},{\"id\":\"3459f96b-c0de-4514-9d53-53a9b40d534e\",\"name\":\"Get User's Message\",\"type\":\"n8n-nodes-base.set\",\"position\":[2080,380],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"d990cbd6-a408-4ec4-a889-41be698918d9\",\"name\":\"message_type\",\"type\":\"string\",\"value\":\"={{ $('Split Out Message Parts').item.json.type }}\"},{\"id\":\"23b785c3-f38e-4706-80b7-51f333bba3bd\",\"name\":\"message_text\",\"type\":\"string\",\"value\":\"={{ $json.text }}\"},{\"id\":\"6e83f9a7-cf75-4182-b2d2-3151e8af76b9\",\"name\":\"from\",\"type\":\"string\",\"value\":\"={{ $('WhatsApp Trigger').item.json.messages[0].from }}\"},{\"id\":\"da4b602a-28ca-4b0d-a747-c3d3698c3731\",\"name\":\"message_caption\",\"type\":\"string\",\"value\":\"={{ $('Redirect Message Types').item.json.video && $('Redirect Message Types').item.json.video.caption || '' }}\\n{{ $('Redirect Message Types').item.json.image && $('Redirect Message Types').item.json.image.caption || ''}}\\n{{ $('Redirect Message Types').item.json.audio && $('Redirect Message Types').item.json.audio.caption || ''}}\"}]}},\"typeVersion\":3.4},{\"id\":\"7a4c9905-37f0-4cfe-a928-91c7e38914b9\",\"name\":\"Split Out Message Parts\",\"type\":\"n8n-nodes-base.splitOut\",\"position\":[460,300],\"parameters\":{\"options\":{},\"fieldToSplitOut\":\"messages\"},\"typeVersion\":1},{\"id\":\"f2ecc9a9-bdd9-475d-be0c-43594d0cb613\",\"name\":\"Wikipedia\",\"type\":\"@n8n/n8n-nodes-langchain.toolWikipedia\",\"position\":[2500,560],\"parameters\":{},\"typeVersion\":1},{\"id\":\"325dac6d-6698-41e0-8d2f-9ac5d84c245e\",\"name\":\"Redirect Message Types\",\"type\":\"n8n-nodes-base.switch\",\"position\":[740,380],\"parameters\":{\"rules\":{\"values\":[{\"outputKey\":\"Audio Message\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.type == 'audio' && Boolean($json.audio) }}\",\"rightValue\":\"audio\"}]},\"renameOutput\":true},{\"outputKey\":\"Video Message\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"82aa5ff4-c9b6-4187-a27e-c7c5d9bfdda0\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.type == 'video' && Boolean($json.video) }}\",\"rightValue\":\"\"}]},\"renameOutput\":true},{\"outputKey\":\"Image Message\",\"conditions\":{\"options\":{\"version\":2,\"leftValue\":\"\",\"caseSensitive\":true,\"typeValidation\":\"strict\"},\"combinator\":\"and\",\"conditions\":[{\"id\":\"05b30af4-967b-4824-abdc-84a8292ac0e5\",\"operator\":{\"type\":\"boolean\",\"operation\":\"true\",\"singleValue\":true},\"leftValue\":\"={{ $json.type == 'image' && Boolean($json.image) }}\",\"rightValue\":\"\"}]},\"renameOutput\":true}]},\"options\":{\"fallbackOutput\":\"extra\",\"renameFallbackOutput\":\"Text Message\"}},\"typeVersion\":3.2},{\"id\":\"b25c7d65-b9ea-4f90-8516-1747130501b2\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[220,20],\"parameters\":{\"color\":7,\"width\":335.8011507479863,\"height\":245.72612197928734,\"content\":\"## 1. WhatsApp Trigger\\n[Learn more about the WhatsApp Trigger](https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.whatsapptrigger)\\n\\nTo start receiving WhatsApp messages in your workflow, there are quite a few steps involved so be sure to follow the n8n documentation. When we recieve WhatsApp messages, we'll split out the messages part of the payload and handle them depending on the message type using the Switch node.\"},\"typeVersion\":1},{\"id\":\"0d3d721e-fefc-4b50-abe1-0dd504c962ff\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1020,-280],\"parameters\":{\"color\":7,\"width\":356.65822784810103,\"height\":97.23360184119679,\"content\":\"### 2. Transcribe Audio Messages ğŸ’¬\\nFor audio messages or voice notes, we can use GPT4o to transcribe the message for our AI Agent.\"},\"typeVersion\":1},{\"id\":\"59de051e-f0d4-4c07-9680-03923ab81f57\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1020,40],\"parameters\":{\"color\":7,\"width\":492.5258918296896,\"height\":127.13555811277331,\"content\":\"### 3. Describe Video Messages ğŸ¬\\nFor video messages, one approach is to use a Multimodal Model that supports parsing video. Currently, Google Gemini is a well-tested service for this task. We'll need to use the HTTP request node as currrently n8n's LLM node doesn't currently support video binary types.\"},\"typeVersion\":1},{\"id\":\"e2ca780f-01c0-4a5f-9f0a-e15575d0b803\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1020,420],\"parameters\":{\"color\":7,\"width\":356.65822784810103,\"height\":97.23360184119679,\"content\":\"### 4. Analyse Image Messages ğŸï¸\\nFor image messages, we can use GPT4o to explain what is going on in the message for our AI Agent.\"},\"typeVersion\":1},{\"id\":\"6eea3c0f-4501-4355-b3b7-b752c93d5c48\",\"name\":\"Sticky Note4\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1020,720],\"parameters\":{\"color\":7,\"width\":428.24395857307246,\"height\":97.23360184119679,\"content\":\"### 5. Text summarizer ğŸ“˜\\nFor text messages, we don't need to do much transformation but it's nice to summarize for easier understanding.\"},\"typeVersion\":1},{\"id\":\"925a3871-9cdb-49f9-a2b9-890617d09965\",\"name\":\"Get Text\",\"type\":\"n8n-nodes-base.wait\",\"position\":[1020,840],\"webhookId\":\"99b49c83-d956-46d2-b8d3-d65622121ad9\",\"parameters\":{\"amount\":0},\"typeVersion\":1.1},{\"id\":\"9225a6b9-322a-4a33-86af-6586fcf246b9\",\"name\":\"Sticky Note5\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2280,60],\"parameters\":{\"color\":7,\"width\":500.7797468354428,\"height\":273.14522439585744,\"content\":\"## 6. Generate Response with AI Agent\\n[Read more about the AI Agent node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent)\\n\\nNow that we'll able to handle all message types from WhatsApp, we could do pretty much anything we want with it by giving it our AI agent. Examples could include handling customer support, helping to book appointments or verifying documents.\\n\\nIn this demonstration, we'll just create a simple AI Agent which responds to our WhatsApp user's message and returns a simple response.\"},\"typeVersion\":1},{\"id\":\"5a863e5d-e7fb-4e89-851b-e0936f5937e7\",\"name\":\"Sticky Note6\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[2740,660],\"parameters\":{\"color\":7,\"width\":384.12151898734186,\"height\":211.45776754890682,\"content\":\"## 7. Respond to WhatsApp User\\n[Read more about the Whatsapp node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.whatsapp/)\\n\\nTo close out this demonstration, we'll simple send a simple text message back to the user. Note that this WhatsApp node also allows you to send images, audio, videos, documents as well as location!\"},\"typeVersion\":1},{\"id\":\"89df6f6c-2d91-4c14-a51a-4be29b1018ec\",\"name\":\"Respond to User\",\"type\":\"n8n-nodes-base.whatsApp\",\"position\":[2740,480],\"parameters\":{\"textBody\":\"={{ $json.output }}\",\"operation\":\"send\",\"phoneNumberId\":\"477115632141067\",\"requestOptions\":{},\"additionalFields\":{},\"recipientPhoneNumber\":\"={{ $('WhatsApp Trigger').item.json.messages[0].from }}\"},\"credentials\":{\"whatsAppApi\":{\"id\":\"9SFJPeqrpChOkAmw\",\"name\":\"WhatsApp account\"}},\"typeVersion\":1},{\"id\":\"67709b9e-a9b3-456b-9e68-71720b0cd75e\",\"name\":\"Sticky Note7\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,-140],\"parameters\":{\"width\":470.66513233601853,\"height\":562.8608514850005,\"content\":\"## Try It Out!\\n\\n### This n8n template demonstrates the beginnings of building your own n8n-powered WhatsApp chatbot! Under the hood, utilise n8n's powerful AI features to handle different message types and use an AI agent to respond to the user. A powerful tool for any use-case!\\n\\n* Incoming WhatsApp Trigger provides a way to get messages into the workflow.\\n* The message received is extracted and sent through 1 of 4 branches for processing.\\n* Each processing branch uses AI to analyse, summarize or transcribe the message so that the AI agent can understand it.\\n* The AI Agent is used to generate a response generally and uses a wikipedia tool for more complex queries.\\n* Finally, the response message is sent back to the WhatsApp user using the WhatsApp node.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\"},\"typeVersion\":1},{\"id\":\"10ae1f60-c025-4b63-8e02-4e6353bb67dc\",\"name\":\"Sticky Note8\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-340,440],\"parameters\":{\"color\":5,\"width\":473.28063885246377,\"height\":96.0144533433243,\"content\":\"### Activate workflow to use!\\nYou must activate the workflow to use this WhatsApp Chabot. If you are self-hosting, ensure WhatsApp is able to connect to your server.\"},\"typeVersion\":1},{\"id\":\"2f0fd658-a138-4f50-95a7-7ddc4eb90fab\",\"name\":\"Image Explainer\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[1700,540],\"parameters\":{\"text\":\"Here is an image sent by the user. Describe the image and transcribe any text visible in the image.\",\"messages\":{\"messageValues\":[{\"type\":\"HumanMessagePromptTemplate\",\"messageType\":\"imageBinary\"}]},\"promptType\":\"define\"},\"typeVersion\":1.4},{\"id\":\"d969ce8b-d6c4-4918-985e-3420557ef707\",\"name\":\"Format Response\",\"type\":\"n8n-nodes-base.set\",\"position\":[1860,200],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"2ec0e573-373b-4692-bfae-86b6d3b9aa9a\",\"name\":\"text\",\"type\":\"string\",\"value\":\"={{ $json.candidates[0].content.parts[0].text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"b67c9c4e-e13f-4ee4-bf01-3fd9055a91be\",\"name\":\"Sticky Note9\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1540,180],\"parameters\":{\"width\":260,\"height\":305.35604142692785,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n### ğŸš¨ Google Gemini Required!\\nNot using Gemini? Feel free to swap this out for any Multimodal Model that supports Video.\"},\"typeVersion\":1},{\"id\":\"8dd972be-305b-4d26-aa05-1dee17411d8a\",\"name\":\"Google Gemini Chat Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[2240,560],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-pro-002\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"00a883a6-7688-4e82-926b-c5ba680378b7\",\"name\":\"Sticky Note10\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1540,-180],\"parameters\":{\"width\":260,\"height\":294.22048331415436,\"content\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n### ğŸš¨ Google Gemini Required!\\nNot using Gemini? Feel free to swap this out for any Multimodal Model that supports Audio.\"},\"typeVersion\":1},{\"id\":\"d0c7c2f6-b626-4ec5-86ff-96523749db2c\",\"name\":\"Google Gemini Audio\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1620,-160],\"parameters\":{\"url\":\"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-002:generateContent\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={{\\n{\\n  \\\"contents\\\": [{\\n    \\\"parts\\\":[\\n      {\\\"text\\\": \\\"Transcribe this audio\\\"},\\n      {\\\"inlineData\\\": {\\n        \\\"mimeType\\\": `audio/${$binary.data.fileExtension}`,\\n        \\\"data\\\": $input.item.binary.data.data }\\n      }\\n    ]\\n  }]\\n}\\n}}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]},\"nodeCredentialType\":\"googlePalmApi\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":4.2},{\"id\":\"27261815-f949-48e8-920d-7bf880ea87ce\",\"name\":\"Google Gemini Video\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1620,200],\"parameters\":{\"url\":\"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-002:generateContent\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={{\\n{\\n  \\\"contents\\\": [{\\n    \\\"parts\\\":[\\n      {\\\"text\\\": \\\"Describe this video\\\"},\\n      {\\\"inlineData\\\": {\\n        \\\"mimeType\\\": `video/${$binary.data.fileExtension}`,\\n        \\\"data\\\": $input.item.binary.data.data }\\n      }\\n    ]\\n  }]\\n}\\n}}\",\"sendBody\":true,\"sendHeaders\":true,\"specifyBody\":\"json\",\"authentication\":\"predefinedCredentialType\",\"headerParameters\":{\"parameters\":[{\"name\":\"Content-Type\",\"value\":\"application/json\"}]},\"nodeCredentialType\":\"googlePalmApi\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":4.2},{\"id\":\"7e28786b-ab19-4969-9915-2432a25b49d3\",\"name\":\"Google Gemini Chat Model1\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1680,680],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-pro-002\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"8832dac3-9433-4dcc-a805-346408042bf2\",\"name\":\"Google Gemini Chat Model2\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\"position\":[1680,980],\"parameters\":{\"options\":{},\"modelName\":\"models/gemini-1.5-pro-002\"},\"credentials\":{\"googlePalmApi\":{\"id\":\"dSxo6ns5wn658r8N\",\"name\":\"Google Gemini(PaLM) Api account\"}},\"typeVersion\":1},{\"id\":\"73d0af9e-d009-4859-b60d-48a2fbeda932\",\"name\":\"Format Response1\",\"type\":\"n8n-nodes-base.set\",\"position\":[1860,-160],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"2ec0e573-373b-4692-bfae-86b6d3b9aa9a\",\"name\":\"text\",\"type\":\"string\",\"value\":\"={{ $json.candidates[0].content.parts[0].text }}\"}]}},\"typeVersion\":3.4},{\"id\":\"2ad0e104-0924-47ef-ad11-d84351d72083\",\"name\":\"Text Summarizer\",\"type\":\"@n8n/n8n-nodes-langchain.chainLlm\",\"position\":[1700,840],\"parameters\":{\"text\":\"={{ $json.text.body || $json.text }}\",\"messages\":{\"messageValues\":[{\"message\":\"Summarize the user's message succinctly.\"}]},\"promptType\":\"define\"},\"typeVersion\":1.4},{\"id\":\"85eaad3a-c4d1-4ae7-a37b-0b72be39409d\",\"name\":\"AI Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[2280,380],\"parameters\":{\"text\":\"=The user sent the following message\\nmessage type: {{ $json.message_type }}\\nmessage text or description:\\n```{{ $json.message_text }}```\\n{{ $json.message_caption ? `message caption: ${$json.message_caption.trim()}` : '' }}\",\"options\":{\"systemMessage\":\"You are a general knowledge assistant made available to the public via whatsapp. Help answer the user's query succiently and factually.\"},\"promptType\":\"define\"},\"typeVersion\":1.6}],\"pinData\":{},\"connections\":{\"AI Agent\":{\"main\":[[{\"node\":\"Respond to User\",\"type\":\"main\",\"index\":0}]]},\"Get Text\":{\"main\":[[{\"node\":\"Text Summarizer\",\"type\":\"main\",\"index\":0}]]},\"Wikipedia\":{\"ai_tool\":[[{\"node\":\"AI Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Get Audio URL\":{\"main\":[[{\"node\":\"Download Audio\",\"type\":\"main\",\"index\":0}]]},\"Get Image URL\":{\"main\":[[{\"node\":\"Download Image\",\"type\":\"main\",\"index\":0}]]},\"Get Video URL\":{\"main\":[[{\"node\":\"Download Video\",\"type\":\"main\",\"index\":0}]]},\"Download Audio\":{\"main\":[[{\"node\":\"Google Gemini Audio\",\"type\":\"main\",\"index\":0}]]},\"Download Image\":{\"main\":[[{\"node\":\"Image Explainer\",\"type\":\"main\",\"index\":0}]]},\"Download Video\":{\"main\":[[{\"node\":\"Google Gemini Video\",\"type\":\"main\",\"index\":0}]]},\"Format Response\":{\"main\":[[{\"node\":\"Get User's Message\",\"type\":\"main\",\"index\":0}]]},\"Image Explainer\":{\"main\":[[{\"node\":\"Get User's Message\",\"type\":\"main\",\"index\":0}]]},\"Text Summarizer\":{\"main\":[[{\"node\":\"Get User's Message\",\"type\":\"main\",\"index\":0}]]},\"Format Response1\":{\"main\":[[{\"node\":\"Get User's Message\",\"type\":\"main\",\"index\":0}]]},\"WhatsApp Trigger\":{\"main\":[[{\"node\":\"Split Out Message Parts\",\"type\":\"main\",\"index\":0}]]},\"Get User's Message\":{\"main\":[[{\"node\":\"AI Agent\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Audio\":{\"main\":[[{\"node\":\"Format Response1\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Video\":{\"main\":[[{\"node\":\"Format Response\",\"type\":\"main\",\"index\":0}]]},\"Window Buffer Memory\":{\"ai_memory\":[[{\"node\":\"AI Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Redirect Message Types\":{\"main\":[[{\"node\":\"Get Audio URL\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Video URL\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Image URL\",\"type\":\"main\",\"index\":0}],[{\"node\":\"Get Text\",\"type\":\"main\",\"index\":0}]]},\"Split Out Message Parts\":{\"main\":[[{\"node\":\"Redirect Message Types\",\"type\":\"main\",\"index\":0}]]},\"Google Gemini Chat Model\":{\"ai_languageModel\":[[{\"node\":\"AI Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Google Gemini Chat Model1\":{\"ai_languageModel\":[[{\"node\":\"Image Explainer\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Google Gemini Chat Model2\":{\"ai_languageModel\":[[{\"node\":\"Text Summarizer\",\"type\":\"ai_languageModel\",\"index\":0}]]}}}",
  "readme": "This n8n template demonstrates the beginnings of building your own n8n-powered WhatsApp chatbot! Under the hood, utilise n8n's powerful AI features to handle different message types and use an AI agent to respond to the user. A powerful tool for any use-case!\n\n## How it works\n\n  * Incoming WhatsApp Trigger provides a way to get messages into the workflow.\n  * The message received is extracted and sent through 1 of 4 branches for processing.\n  * Each processing branch uses AI to analyse, summarize or transcribe the message so that the AI agent can understand it. The supported types are **text** , **image** , **audio (voice notes)** and **video**.\n  * The AI Agent is used to generate a response generally and uses a wikipedia tool for more complex queries.\n  * Finally, the response message is sent back to the WhatsApp user using the WhatsApp node.\n\n\n\n## How to use\n\nOnce you have setup and configured your WhatsApp account, you'll need to activate your workflow to start processing messages.\n\n**Good to know:** Large media files may negatively impact workflow performance.\n\n## Requirements\n\n  * WhatsApp Buisness account\n  * Google Gemini for LLM. Gemini is used specifically because it can accept audio and video files whereas at time of writing, many other providers like OpenAI's GPT, do not.\n\n\n\n## Customising this workflow\n\n  * For performance reasons, consider detecting large audio and video before sending to the LLM. Pre-processing such files may allow your agent to perform better.\n  * Go beyond and create rich and engagement customer experiences by responding using images, audio and video instead of just text!\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><p>This n8n template demonstrates the beginnings of building your own n8n-powered WhatsApp chatbot! Under the hood, utilise n8n's powerful AI features to handle different message types and use an AI agent to respond to the user. A powerful tool for any use-case!</p>\n<h2>How it works</h2>\n<ul>\n<li>Incoming WhatsApp Trigger provides a way to get messages into the workflow.</li>\n<li>The message received is extracted and sent through 1 of 4 branches for processing.</li>\n<li>Each processing branch uses AI to analyse, summarize or transcribe the message so that the AI agent can understand it. The supported types are <strong>text</strong>, <strong>image</strong>, <strong>audio (voice notes)</strong> and <strong>video</strong>.</li>\n<li>The AI Agent is used to generate a response generally and uses a wikipedia tool for more complex queries.</li>\n<li>Finally, the response message is sent back to the WhatsApp user using the WhatsApp node.</li>\n</ul>\n<h2>How to use</h2>\n<p>Once you have setup and configured your WhatsApp account, you'll need to activate your workflow to start processing messages.</p>\n<p><strong>Good to know:</strong> Large media files may negatively impact workflow performance.</p>\n<h2>Requirements</h2>\n<ul>\n<li>WhatsApp Buisness account</li>\n<li>Google Gemini for LLM. Gemini is used specifically because it can accept audio and video files whereas at time of writing, many other providers like OpenAI's GPT, do not.</li>\n</ul>\n<h2>Customising this workflow</h2>\n<ul>\n<li>For performance reasons, consider detecting large audio and video before sending to the LLM. Pre-processing such files may allow your agent to perform better.</li>\n<li>Go beyond and create rich and engagement customer experiences by responding using images, audio and video instead of just text!</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "è¯¥n8næ¨¡æ¿å±•ç¤ºäº†æ„å»ºè‡ªä¸»WhatsAppèŠå¤©æœºå™¨äººçš„åˆçº§æ¡†æ¶ï¼å…¶æ ¸å¿ƒåœ¨äºè¿ç”¨n8nå¼ºå¤§çš„äººå·¥æ™ºèƒ½åŠŸèƒ½å¤„ç†å„ç±»æ¶ˆæ¯ï¼Œå¹¶é€šè¿‡AIä»£ç†å®ç°æ™ºèƒ½åº”ç­”ã€‚æ— è®ºæ˜¯ä½•ç§åº”ç”¨åœºæ™¯ï¼Œè¿™éƒ½æ˜¯ä¸€ä¸ªæå…·å¨åŠ›çš„å·¥å…·ï¼\n\n## è¿ä½œåŸç†\n\n  * **WhatsAppè§¦å‘èŠ‚ç‚¹**è´Ÿè´£æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯è¾“å…¥å·¥ä½œæµ\n  * ç³»ç»Ÿå°†æå–æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œå¹¶é€šè¿‡4æ¡åˆ†æ”¯æµç¨‹ä¹‹ä¸€è¿›è¡Œå¤„ç†\n  * æ¯æ¡å¤„ç†åˆ†æ”¯éƒ½é‡‡ç”¨AIæŠ€æœ¯å¯¹æ¶ˆæ¯è¿›è¡Œåˆ†æã€æ‘˜è¦æˆ–è½¬è¯‘ï¼ˆæ”¯æŒ**æ–‡æœ¬**ã€**å›¾ç‰‡**ã€**è¯­éŸ³å¤‡å¿˜å½•**å’Œ**è§†é¢‘**å››ç§ç±»å‹ï¼‰ï¼Œç¡®ä¿AIä»£ç†èƒ½å‡†ç¡®ç†è§£å†…å®¹\n  * **AIä»£ç†**è´Ÿè´£ç”Ÿæˆå¸¸è§„å›å¤ï¼Œé’ˆå¯¹å¤æ‚æŸ¥è¯¢è¿˜ä¼šè°ƒç”¨ç»´åŸºç™¾ç§‘å·¥å…·\n  * æœ€ç»ˆé€šè¿‡WhatsAppèŠ‚ç‚¹å°†å›å¤æ¶ˆæ¯å‘é€ç»™ç”¨æˆ·\n\n## ä½¿ç”¨æŒ‡å—\n\nå®ŒæˆWhatsAppè´¦æˆ·é…ç½®åï¼Œæ¿€æ´»å·¥ä½œæµå³å¯å¼€å§‹å¤„ç†æ¶ˆæ¯ã€‚\n\n**é‡è¦æç¤ºï¼š** å¤§ä½“ç§¯åª’ä½“æ–‡ä»¶å¯èƒ½å½±å“å·¥ä½œæµæ€§èƒ½\n\n## ç¯å¢ƒè¦æ±‚\n\n  * ä¼ä¸šç‰ˆWhatsAppè´¦æˆ·\n  * éœ€é…ç½®Google Geminiå¤§è¯­è¨€æ¨¡å‹ï¼ˆé€‰æ‹©Geminiæ˜¯å› ä¸ºå…¶æ”¯æŒéŸ³è§†é¢‘æ–‡ä»¶å¤„ç†ï¼Œè€Œå½“å‰å¤šæ•°æœåŠ¡å•†å¦‚OpenAIçš„GPTå°šä¸å…·å¤‡æ­¤åŠŸèƒ½ï¼‰\n\n## å®šåˆ¶å»ºè®®\n\n  * å‡ºäºæ€§èƒ½è€ƒé‡ï¼Œå»ºè®®åœ¨å‘å¤§è¯­è¨€æ¨¡å‹æäº¤å‰æ£€æµ‹å¤§ä½“ç§¯éŸ³è§†é¢‘æ–‡ä»¶ï¼Œé¢„å¤„ç†å¯æ˜¾è‘—æå‡ä»£ç†å“åº”æ•ˆç‡\n  * çªç ´çº¯æ–‡æœ¬å›å¤é™åˆ¶ï¼Œå°è¯•é€šè¿‡å›¾ç‰‡ã€è¯­éŸ³å’Œè§†é¢‘æ‰“é€ æ›´å…·å¸å¼•åŠ›çš„å®¢æˆ·äº’åŠ¨ä½“éªŒ",
  "title_zh": "ç”¨AIä¸“ä¸šå›å¤WhatsAppæ¶ˆæ¯ï¼",
  "publish_date_absolute": "2024-12-06",
  "publish_date_zh": "æœ€åæ›´æ–°äº5ä¸ªæœˆå‰",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"38ffe41a-ecdf-4bb4-bd55-51998abab0f5\",\n      \"name\": \"WhatsApp Trigger\",\n      \"type\": \"n8n-nodes-base.whatsAppTrigger\",\n      \"position\": [\n        220,\n        300\n      ],\n      \"webhookId\": \"0b1b3a9b-2f6a-4f5a-8385-6365d96f4802\",\n      \"parameters\": {\n        \"updates\": [\n          \"messages\"\n        ]\n      },\n      \"credentials\": {\n        \"whatsAppTriggerApi\": {\n          \"id\": \"H3uYNtpeczKMqtYm\",\n          \"name\": \"WhatsApp OAuth account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a35ac268-eff0-46cd-ac4e-c9b047a3f893\",\n      \"name\": \"Get Audio URL\",\n      \"type\": \"n8n-nodes-base.whatsApp\",\n      \"position\": [\n        1020,\n        -160\n      ],\n      \"parameters\": {\n        \"resource\": \"media\",\n        \"operation\": \"mediaUrlGet\",\n        \"mediaGetId\": \"={{ $json.audio.id }}\",\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a3be543c-949c-4443-bf82-e0d00419ae23\",\n      \"name\": \"Get Video URL\",\n      \"type\": \"n8n-nodes-base.whatsApp\",\n      \"position\": [\n        1020,\n        200\n      ],\n      \"parameters\": {\n        \"resource\": \"media\",\n        \"operation\": \"mediaUrlGet\",\n        \"mediaGetId\": \"={{ $json.video.id }}\",\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dd3cd0e7-0d1e-40cf-8120-aba0d1646d6d\",\n      \"name\": \"Get Image URL\",\n      \"type\": \"n8n-nodes-base.whatsApp\",\n      \"position\": [\n        1020,\n        540\n      ],\n      \"parameters\": {\n        \"resource\": \"media\",\n        \"operation\": \"mediaUrlGet\",\n        \"mediaGetId\": \"={{ $json.image.id }}\",\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a3505c93-2719-4a11-8813-39844fe0dd1a\",\n      \"name\": \"Download Video\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1180,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"whatsAppApi\"\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"b22e3a7d-5fa1-4b8d-be08-b59f5bb5c417\",\n      \"name\": \"Download Audio\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1180,\n        -160\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"whatsAppApi\"\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"dcadbd30-598e-443b-a3a7-10d7f9210f49\",\n      \"name\": \"Download Image\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1180,\n        540\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"whatsAppApi\"\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"d38b6f73-272e-4833-85fc-46ce0db91f6a\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        2380,\n        560\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"=whatsapp-tutorial-{{ $json.from }}\",\n        \"sessionIdType\": \"customKey\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"3459f96b-c0de-4514-9d53-53a9b40d534e\",\n      \"name\": \"Get User's Message\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2080,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"d990cbd6-a408-4ec4-a889-41be698918d9\",\n              \"name\": \"message_type\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Split Out Message Parts').item.json.type }}\"\n            },\n            {\n              \"id\": \"23b785c3-f38e-4706-80b7-51f333bba3bd\",\n              \"name\": \"message_text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text }}\"\n            },\n            {\n              \"id\": \"6e83f9a7-cf75-4182-b2d2-3151e8af76b9\",\n              \"name\": \"from\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('WhatsApp Trigger').item.json.messages[0].from }}\"\n            },\n            {\n              \"id\": \"da4b602a-28ca-4b0d-a747-c3d3698c3731\",\n              \"name\": \"message_caption\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Redirect Message Types').item.json.video && $('Redirect Message Types').item.json.video.caption || '' }}\\n{{ $('Redirect Message Types').item.json.image && $('Redirect Message Types').item.json.image.caption || ''}}\\n{{ $('Redirect Message Types').item.json.audio && $('Redirect Message Types').item.json.audio.caption || ''}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"7a4c9905-37f0-4cfe-a928-91c7e38914b9\",\n      \"name\": \"Split Out Message Parts\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        460,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"messages\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f2ecc9a9-bdd9-475d-be0c-43594d0cb613\",\n      \"name\": \"Wikipedia\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWikipedia\",\n      \"position\": [\n        2500,\n        560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"325dac6d-6698-41e0-8d2f-9ac5d84c245e\",\n      \"name\": \"Redirect Message Types\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        740,\n        380\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"Audio Message\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"boolean\",\n                      \"operation\": \"true\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.type == 'audio' && Boolean($json.audio) }}\",\n                    \"rightValue\": \"audio\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Video Message\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"82aa5ff4-c9b6-4187-a27e-c7c5d9bfdda0\",\n                    \"operator\": {\n                      \"type\": \"boolean\",\n                      \"operation\": \"true\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.type == 'video' && Boolean($json.video) }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Image Message\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"05b30af4-967b-4824-abdc-84a8292ac0e5\",\n                    \"operator\": {\n                      \"type\": \"boolean\",\n                      \"operation\": \"true\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.type == 'image' && Boolean($json.image) }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\",\n          \"renameFallbackOutput\": \"Text Message\"\n        }\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"b25c7d65-b9ea-4f90-8516-1747130501b2\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        220,\n        20\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 335.8011507479863,\n        \"height\": 245.72612197928734,\n        \"content\": \"## 1. WhatsAppè§¦å‘å™¨\\n[äº†è§£æ›´å¤šå…³äºWhatsAppè§¦å‘å™¨çš„ä¿¡æ¯](https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.whatsapptrigger)\\n\\nè¦åœ¨å·¥ä½œæµä¸­å¼€å§‹æ¥æ”¶WhatsAppæ¶ˆæ¯ï¼Œéœ€è¦å®Œæˆå¤šä¸ªæ­¥éª¤ï¼Œè¯·åŠ¡å¿…æŒ‰ç…§n8næ–‡æ¡£æ“ä½œã€‚å½“æˆ‘ä»¬æ¥æ”¶åˆ°WhatsAppæ¶ˆæ¯æ—¶ï¼Œç³»ç»Ÿå°†æ‹†åˆ†å‡ºæ¶ˆæ¯è´Ÿè½½éƒ¨åˆ†ï¼Œå¹¶æ ¹æ®æ¶ˆæ¯ç±»å‹ä½¿ç”¨SwitchèŠ‚ç‚¹è¿›è¡Œå¤„ç†ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d3d721e-fefc-4b50-abe1-0dd504c962ff\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1020,\n        -280\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 356.65822784810103,\n        \"height\": 97.23360184119679,\n        \"content\": \"### 2. è½¬å½•éŸ³é¢‘æ¶ˆæ¯ ğŸ’¬  \\nå¯¹äºéŸ³é¢‘æ¶ˆæ¯æˆ–è¯­éŸ³å¤‡å¿˜å½•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨GPT4oä¸ºæˆ‘ä»¬çš„AIåŠ©æ‰‹è½¬å½•å†…å®¹ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"59de051e-f0d4-4c07-9680-03923ab81f57\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1020,\n        40\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 492.5258918296896,\n        \"height\": 127.13555811277331,\n        \"content\": \"### 3. æè¿°è§†é¢‘æ¶ˆæ¯ ğŸ¬  \\nå¯¹äºè§†é¢‘æ¶ˆæ¯ï¼Œä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨æ”¯æŒè§£æè§†é¢‘çš„å¤šæ¨¡æ€æ¨¡å‹ã€‚ç›®å‰ï¼ŒGoogle Gemini æ˜¯ç»è¿‡å……åˆ†æµ‹è¯•çš„æœåŠ¡ä¹‹ä¸€ã€‚ç”±äºå½“å‰ n8n çš„ LLM èŠ‚ç‚¹æš‚ä¸æ”¯æŒè§†é¢‘äºŒè¿›åˆ¶ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ HTTP è¯·æ±‚èŠ‚ç‚¹æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2ca780f-01c0-4a5f-9f0a-e15575d0b803\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1020,\n        420\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 356.65822784810103,\n        \"height\": 97.23360184119679,\n        \"content\": \"### 4. åˆ†æå›¾åƒä¿¡æ¯ ğŸï¸  \\nå¯¹äºå›¾åƒä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨GPT4oæ¥ä¸ºæˆ‘ä»¬çš„AIä»£ç†è§£é‡Šå…¶ä¸­çš„å†…å®¹ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6eea3c0f-4501-4355-b3b7-b752c93d5c48\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1020,\n        720\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 428.24395857307246,\n        \"height\": 97.23360184119679,\n        \"content\": \"### 5. æ–‡æœ¬æ‘˜è¦ç”Ÿæˆå™¨ ğŸ“˜  \\nå¯¹äºçŸ­ä¿¡å†…å®¹ï¼Œæˆ‘ä»¬æ— éœ€è¿‡å¤šè½¬æ¢ï¼Œä½†ç”Ÿæˆæ‘˜è¦æœ‰åŠ©äºæ›´è½»æ¾åœ°ç†è§£ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"925a3871-9cdb-49f9-a2b9-890617d09965\",\n      \"name\": \"Get Text\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        1020,\n        840\n      ],\n      \"webhookId\": \"99b49c83-d956-46d2-b8d3-d65622121ad9\",\n      \"parameters\": {\n        \"amount\": 0\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"9225a6b9-322a-4a33-86af-6586fcf246b9\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2280,\n        60\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 500.7797468354428,\n        \"height\": 273.14522439585744,\n        \"content\": \"## 6. ä½¿ç”¨AIä»£ç†ç”Ÿæˆå“åº”\\n[è¯¦ç»†äº†è§£AIä»£ç†èŠ‚ç‚¹](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent)\\n\\næ—¢ç„¶æˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿå¤„ç†æ¥è‡ªWhatsAppçš„æ‰€æœ‰æ¶ˆæ¯ç±»å‹ï¼Œé€šè¿‡æ¥å…¥AIä»£ç†ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥å®ç°ä»»ä½•åŠŸèƒ½ã€‚ä¾‹å¦‚å¤„ç†å®¢æˆ·æ”¯æŒã€ååŠ©é¢„çº¦æˆ–éªŒè¯æ–‡ä»¶ç­‰ã€‚\\n\\nåœ¨æœ¬æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„AIä»£ç†ï¼Œç”¨äºå“åº”WhatsAppç”¨æˆ·çš„æ¶ˆæ¯å¹¶è¿”å›ç®€ç­”ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5a863e5d-e7fb-4e89-851b-e0936f5937e7\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2740,\n        660\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 384.12151898734186,\n        \"height\": 211.45776754890682,\n        \"content\": \"## 7. å›å¤WhatsAppç”¨æˆ·\\n[äº†è§£æ›´å¤šå…³äºWhatsAppèŠ‚ç‚¹çš„ä¿¡æ¯](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.whatsapp/)\\n\\nä½œä¸ºæœ¬æ¬¡æ¼”ç¤ºçš„æ”¶å°¾ï¼Œæˆ‘ä»¬å°†ç®€å•åœ°ç»™ç”¨æˆ·å‘é€ä¸€æ¡çº¯æ–‡æœ¬å›å¤ã€‚è¯·æ³¨æ„ï¼Œæ­¤WhatsAppèŠ‚ç‚¹è¿˜æ”¯æŒå‘é€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€æ–‡æ¡£ä»¥åŠåœ°ç†ä½ç½®ä¿¡æ¯ï¼\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"89df6f6c-2d91-4c14-a51a-4be29b1018ec\",\n      \"name\": \"Respond to User\",\n      \"type\": \"n8n-nodes-base.whatsApp\",\n      \"position\": [\n        2740,\n        480\n      ],\n      \"parameters\": {\n        \"textBody\": \"={{ $json.output }}\",\n        \"operation\": \"send\",\n        \"phoneNumberId\": \"477115632141067\",\n        \"requestOptions\": {},\n        \"additionalFields\": {},\n        \"recipientPhoneNumber\": \"={{ $('WhatsApp Trigger').item.json.messages[0].from }}\"\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"9SFJPeqrpChOkAmw\",\n          \"name\": \"WhatsApp account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"67709b9e-a9b3-456b-9e68-71720b0cd75e\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        -140\n      ],\n      \"parameters\": {\n        \"width\": 470.66513233601853,\n        \"height\": 562.8608514850005,\n        \"content\": \"## è¯•è¯•çœ‹å§ï¼\\n\\n### è¿™ä¸ªn8næ¨¡æ¿å±•ç¤ºäº†æ„å»ºè‡ªä¸»WhatsAppèŠå¤©æœºå™¨äººçš„åˆçº§æ¡†æ¶ï¼é€šè¿‡è°ƒç”¨n8nå¼ºå¤§çš„äººå·¥æ™ºèƒ½åŠŸèƒ½ï¼Œå¯å¤„ç†å„ç±»æ¶ˆæ¯ç±»å‹ï¼Œå¹¶å€ŸåŠ©AIä»£ç†å®ç°æ™ºèƒ½å›å¤ã€‚æ— è®ºæ˜¯ä½•ç§åº”ç”¨åœºæ™¯ï¼Œè¿™éƒ½æ˜¯ä¸ªç»ä½³å·¥å…·ï¼\\n\\n* ã€ŒWhatsAppè§¦å‘èŠ‚ç‚¹ã€ä¸ºå·¥ä½œæµæä¾›äº†æ¶ˆæ¯æ¥æ”¶å…¥å£\\n* ç³»ç»Ÿä¼šæå–æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œå¹¶é€šè¿‡4æ¡åˆ†æ”¯æµç¨‹ä¸­çš„1æ¡è¿›è¡Œå¤„ç†\\n* æ¯æ¡å¤„ç†åˆ†æ”¯éƒ½è¿ç”¨AIæŠ€æœ¯å¯¹æ¶ˆæ¯è¿›è¡Œåˆ†æã€æ‘˜è¦æˆ–è½¬è¯‘ï¼Œä»¥ä¾¿AIä»£ç†ç†è§£å†…å®¹\\n* ã€ŒAIä»£ç†èŠ‚ç‚¹ã€è´Ÿè´£ç”Ÿæˆå¸¸è§„å›å¤ï¼Œé‡åˆ°å¤æ‚æŸ¥è¯¢æ—¶ä¼šè°ƒç”¨ç»´åŸºç™¾ç§‘å·¥å…·\\n* æœ€ç»ˆé€šè¿‡ã€ŒWhatsAppèŠ‚ç‚¹ã€å°†å›å¤æ¶ˆæ¯å‘é€ç»™ç”¨æˆ·\\n\\n### éœ€è¦å¸®åŠ©ï¼Ÿ\\nå¿«æ¥åŠ å…¥[Discordç¤¾åŒº](https://discord.com/invite/XPKeKXeB7d)æˆ–è®¿é—®[å®˜æ–¹è®ºå›](https://community.n8n.io/)æé—®å§ï¼\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"10ae1f60-c025-4b63-8e02-4e6353bb67dc\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        440\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 473.28063885246377,\n        \"height\": 96.0144533433243,\n        \"content\": \"### æ¿€æ´»å·¥ä½œæµç¨‹ä»¥ä½¿ç”¨ï¼\\næ‚¨å¿…é¡»æ¿€æ´»å·¥ä½œæµç¨‹æ‰èƒ½ä½¿ç”¨æ­¤WhatsAppèŠå¤©æœºå™¨äººã€‚å¦‚æœæ˜¯è‡ªæ‰˜ç®¡ï¼Œè¯·ç¡®ä¿WhatsAppèƒ½å¤Ÿè¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2f0fd658-a138-4f50-95a7-7ddc4eb90fab\",\n      \"name\": \"Image Explainer\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1700,\n        540\n      ],\n      \"parameters\": {\n        \"text\": \"Here is an image sent by the user. Describe the image and transcribe any text visible in the image.\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"type\": \"HumanMessagePromptTemplate\",\n              \"messageType\": \"imageBinary\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"d969ce8b-d6c4-4918-985e-3420557ef707\",\n      \"name\": \"Format Response\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1860,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2ec0e573-373b-4692-bfae-86b6d3b9aa9a\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts[0].text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"b67c9c4e-e13f-4ee4-bf01-3fd9055a91be\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1540,\n        180\n      ],\n      \"parameters\": {\n        \"width\": 260,\n        \"height\": 305.35604142692785,\n        \"content\": \"ğŸš¨ éœ€è¦è°·æ­ŒGeminiï¼\\næ²¡æœ‰ä½¿ç”¨Geminiï¼Ÿæ¬¢è¿æ›¿æ¢ä¸ºä»»ä½•æ”¯æŒè§†é¢‘çš„å¤šæ¨¡æ€æ¨¡å‹ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8dd972be-305b-4d26-aa05-1dee17411d8a\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        2240,\n        560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-1.5-pro-002\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"00a883a6-7688-4e82-926b-c5ba680378b7\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1540,\n        -180\n      ],\n      \"parameters\": {\n        \"width\": 260,\n        \"height\": 294.22048331415436,\n        \"content\": \"ğŸš¨ éœ€è¦è°·æ­Œ Geminiï¼  \\næ²¡ç”¨ Geminiï¼Ÿéšæ„æ›¿æ¢æˆä»»ä½•æ”¯æŒéŸ³é¢‘çš„å¤šæ¨¡æ€æ¨¡å‹å³å¯ã€‚\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d0c7c2f6-b626-4ec5-86ff-96523749db2c\",\n      \"name\": \"Google Gemini Audio\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1620,\n        -160\n      ],\n      \"parameters\": {\n        \"url\": \"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-002:generateContent\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={{\\n{\\n  \\\"contents\\\": [{\\n    \\\"parts\\\":[\\n      {\\\"text\\\": \\\"Transcribe this audio\\\"},\\n      {\\\"inlineData\\\": {\\n        \\\"mimeType\\\": `audio/${$binary.data.fileExtension}`,\\n        \\\"data\\\": $input.item.binary.data.data }\\n      }\\n    ]\\n  }]\\n}\\n}}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"googlePalmApi\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"27261815-f949-48e8-920d-7bf880ea87ce\",\n      \"name\": \"Google Gemini Video\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1620,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-002:generateContent\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={{\\n{\\n  \\\"contents\\\": [{\\n    \\\"parts\\\":[\\n      {\\\"text\\\": \\\"Describe this video\\\"},\\n      {\\\"inlineData\\\": {\\n        \\\"mimeType\\\": `video/${$binary.data.fileExtension}`,\\n        \\\"data\\\": $input.item.binary.data.data }\\n      }\\n    ]\\n  }]\\n}\\n}}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"googlePalmApi\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7e28786b-ab19-4969-9915-2432a25b49d3\",\n      \"name\": \"Google Gemini Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1680,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-1.5-pro-002\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8832dac3-9433-4dcc-a805-346408042bf2\",\n      \"name\": \"Google Gemini Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1680,\n        980\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-1.5-pro-002\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"dSxo6ns5wn658r8N\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"73d0af9e-d009-4859-b60d-48a2fbeda932\",\n      \"name\": \"Format Response1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1860,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2ec0e573-373b-4692-bfae-86b6d3b9aa9a\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts[0].text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"2ad0e104-0924-47ef-ad11-d84351d72083\",\n      \"name\": \"Text Summarizer\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1700,\n        840\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.text.body || $json.text }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"Summarize the user's message succinctly.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"85eaad3a-c4d1-4ae7-a37b-0b72be39409d\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        2280,\n        380\n      ],\n      \"parameters\": {\n        \"text\": \"=The user sent the following message\\nmessage type: {{ $json.message_type }}\\nmessage text or description:\\n```{{ $json.message_text }}```\\n{{ $json.message_caption ? `message caption: ${$json.message_caption.trim()}` : '' }}\",\n        \"options\": {\n          \"systemMessage\": \"You are a general knowledge assistant made available to the public via whatsapp. Help answer the user's query succiently and factually.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to User\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Text\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Text Summarizer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wikipedia\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Audio URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Audio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Video URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Audio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Gemini Audio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Image Explainer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Gemini Video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format Response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User's Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Image Explainer\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User's Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Text Summarizer\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User's Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format Response1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User's Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"WhatsApp Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Message Parts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get User's Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Audio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format Response1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Redirect Message Types\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Audio URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Video URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Image URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get Text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Message Parts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Redirect Message Types\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Image Explainer\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Text Summarizer\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}