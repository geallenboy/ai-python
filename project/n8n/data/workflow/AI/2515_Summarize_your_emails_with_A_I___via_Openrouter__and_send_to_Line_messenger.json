{
  "title": "Summarize your emails with A.I. (via Openrouter) and send to Line messenger",
  "url": "https://n8n.io/workflows/2515-summarize-your-emails-with-ai-via-openrouter-and-send-to-line-messenger/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Keith Rumjahn",
  "publish_date": "Last update 6 months ago",
  "content": "",
  "workflow_json": "{\"id\":\"QnVdtKiTf3nbrNkh\",\"meta\":{\"instanceId\":\"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\",\"templateCredsSetupCompleted\":true},\"name\":\"Summarize emails with A.I. then send to messenger\",\"tags\":[],\"nodes\":[{\"id\":\"50e12e63-df28-45ac-9208-48cbf5116d09\",\"name\":\"Read emails (IMAP)\",\"type\":\"n8n-nodes-base.emailReadImap\",\"position\":[340,260],\"parameters\":{\"options\":{},\"postProcessAction\":\"nothing\"},\"credentials\":{\"imap\":{\"id\":\"gXtdakU9M02LBQc3\",\"name\":\"IMAP account\"}},\"typeVersion\":2},{\"id\":\"6565350b-2269-44e3-8f36-8797f32d3e09\",\"name\":\"Send email to A.I. to summarize\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[700,260],\"parameters\":{\"url\":\"https://openrouter.ai/api/v1/chat/completions\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"model\\\": \\\"meta-llama/llama-3.1-70b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"I want you to read and summarize all the emails. If it's not rimportant, just give me a short summary with less than 10 words.\\\\n\\\\nHighlight as important if it is, add an emoji to indicate it is urgent:\\\\nFor the relevant content, find any action items and deadlines. Sometimes I need to sign up before a certain date or pay before a certain date, please highlight that in the summary for me.\\\\n\\\\nPut the deadline in BOLD at the top. If the email is not important, keep the summary short to 1 sentence only.\\\\n\\\\nHere's the email content for you to read:\\\\nSender email address: {{ encodeURIComponent($json.from) }}\\\\nSubject: {{ encodeURIComponent($json.subject) }}\\\\n{{ encodeURIComponent($json.textHtml) }}\\\"\\n    }\\n  ]\\n}\",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"WY7UkF14ksPKq3S8\",\"name\":\"Header Auth account 2\"}},\"typeVersion\":4.2,\"alwaysOutputData\":false},{\"id\":\"d04c422a-c000-4e48-82d0-0bf44bcd9fff\",\"name\":\"Send summarized content to messenger\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[1100,260],\"parameters\":{\"url\":\"https://api.line.me/v2/bot/message/push\",\"method\":\"POST\",\"options\":{},\"jsonBody\":\"={\\n  \\\"to\\\": \\\"U3ec262c49811f30cdc2d2f2b0a0df99a\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replace(/\\\\n/g, \\\"\\\\\\\\n\\\") }}\\\"\\n    }\\n  ]\\n}\\n\\n\\n  \",\"sendBody\":true,\"specifyBody\":\"json\",\"authentication\":\"genericCredentialType\",\"genericAuthType\":\"httpHeaderAuth\"},\"credentials\":{\"httpHeaderAuth\":{\"id\":\"SzcKjO9Nn9vZPL2H\",\"name\":\"Header Auth account 5\"}},\"typeVersion\":4.2},{\"id\":\"57a1219c-4f40-407c-855b-86c4c7c468bb\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[180,0],\"parameters\":{\"width\":361,\"height\":90,\"content\":\"## Summarize emails with A.I.\\nYou can find out more about the [use case](https://rumjahn.com/how-a-i-saved-my-kids-school-life-and-my-marriage/)\"},\"typeVersion\":1},{\"id\":\"17686264-56ac-419e-a32b-dc5c75f15f1f\",\"name\":\"Sticky Note1\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[283,141],\"parameters\":{\"color\":5,\"width\":229,\"height\":280,\"content\":\"Find your email server's IMAP Settings. \\n- Link for [gmail](https://www.getmailspring.com/setup/access-gmail-via-imap-smtp)\"},\"typeVersion\":1},{\"id\":\"1862abd6-7dca-4c66-90d6-110d4fcf4d99\",\"name\":\"Sticky Note2\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[580,0],\"parameters\":{\"color\":6,\"width\":365,\"height\":442,\"content\":\"For the A.I. you can use Openrouter.ai. \\n- Set up a free account\\n- The A.I. model selected is FREE to use.\\n## Credentials\\n- Use header auth\\n- Username: Authorization\\n- Password: Bearer {insert your API key}.\\n- The password is \\\"Bearer\\\" space plus your API key.\"},\"typeVersion\":1},{\"id\":\"c4a3a76f-539d-4bbf-8f95-d7aaebf39a55\",\"name\":\"Sticky Note3\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[1000,0],\"parameters\":{\"color\":4,\"width\":307,\"height\":439,\"content\":\"Don't use the official Line node. It's outdated.\\n## Credentials\\n- Use header auth\\n- Username: Authorization\\n- Password: Bearer {channel access token}\\n\\nYou can find your channel access token at the [Line API console](https://developers.line.biz/console/). Go to Messaging API and scroll to the bottom.\"},\"typeVersion\":1}],\"active\":false,\"pinData\":{},\"settings\":{\"executionOrder\":\"v1\"},\"versionId\":\"81216e6a-2bd8-4215-8a96-376ee520469d\",\"connections\":{\"Read emails (IMAP)\":{\"main\":[[{\"node\":\"Send email to A.I. to summarize\",\"type\":\"main\",\"index\":0}]]},\"Send email to A.I. to summarize\":{\"main\":[[{\"node\":\"Send summarized content to messenger\",\"type\":\"main\",\"index\":0}]]}}}",
  "readme": "## Who is this template for?\n\n  * Anyone who is drowning in emails\n  * Busy parents who has alot of school emails\n  * Busy executives with too many emails\n\n\n\n![Cover.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Cover_88bc2c6654.png)\n\n## Case Study\n\nI get too many emails from my kid's school about soccer practice, lunch orders and parent events. I use this workflow to read all the emails and tell me what is important and what requires actioning.\n\n[Read more -> How I used A.I. to read all my emails](https://rumjahn.com/how-a-i-saved-my-kids-school-life-and-my-marriage/)\n\n## What this workflow does\n\n  1. It uses IMAP to read the emails from your email account (i.e. Gmail).\n  2. It then passes the email to [Openrouter.ai](http://Openrouter.ai) and uses a free A.I. model to read and summarize the email.\n  3. It then sends the summary as a message to your messenger (i.e. Line).\n\n\n\n## Setup\n\n  1. You need to find your email server IMAP credentials.\n  2. Input your [openrouter.ai](http://openrouter.ai) API credentials or replace the HTTP request node with an A.I. node such as OpenAI.\n  3. Input your messenger credentials. I use Line but you can change the node to another messenger line Telegram.\n  4. You need to change the message ID to your ID inside the http request. You can find your user ID inside the <https://developers.line.biz/console/>. Change the \"to\": {insert your user ID}.\n\n\n\n## How to adjust it to your needs\n\n  * You can change the A.I. prompt to fit your needs by telling it to mark emails from a certain address as important.\n  * You can change the A.I. model from the current meta-llama/llama-3.1-70b-instruct:free to a paid model or other free models.\n  * You can change the messenger node to telegram or any other messenger app you like.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h2>Who is this template for?</h2>\n<ul>\n<li>Anyone who is drowning in emails</li>\n<li>Busy parents who has alot of school emails</li>\n<li>Busy executives with too many emails</li>\n</ul>\n<p><img src=\"https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Cover_88bc2c6654.png\" alt=\"Cover.png\"></p>\n<h2>Case Study</h2>\n<p>I get too many emails from my kid's school about soccer practice, lunch orders and parent events. I use this workflow to read all the emails and tell me what is important and what requires actioning.</p>\n<p><a href=\"https://rumjahn.com/how-a-i-saved-my-kids-school-life-and-my-marriage/\" rel=\"ugc nofollow\" target=\"_blank\">Read more -&gt; How I used A.I. to read all my emails</a></p>\n<h2>What this workflow does</h2>\n<ol>\n<li>It uses IMAP to read the emails from your email account (i.e. Gmail).</li>\n<li>It then passes the email to <a href=\"http://Openrouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">Openrouter.ai</a> and uses a free A.I. model to read and summarize the email.</li>\n<li>It then sends the summary as a message to your messenger (i.e. Line).</li>\n</ol>\n<h2>Setup</h2>\n<ol>\n<li>You need to find your email server IMAP credentials.</li>\n<li>Input your <a href=\"http://openrouter.ai\" rel=\"ugc nofollow\" target=\"_blank\">openrouter.ai</a> API credentials or replace the HTTP request node with an A.I. node such as OpenAI.</li>\n<li>Input your messenger credentials. I use Line but you can change the node to another messenger line Telegram.</li>\n<li>You need to change the message ID to your ID inside the http request. You can find your user ID inside the <a href=\"https://developers.line.biz/console/\" rel=\"ugc nofollow\" target=\"_blank\">https://developers.line.biz/console/</a>. Change the \"to\": {insert your user ID}.</li>\n</ol>\n<h2>How to adjust it to your needs</h2>\n<ul>\n<li>You can change the A.I. prompt to fit your needs by telling it to mark emails from a certain address as important.</li>\n<li>You can change the A.I. model from the current meta-llama/llama-3.1-70b-instruct:free to a paid model or other free models.</li>\n<li>You can change the messenger node to telegram or any other messenger app you like.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "## 这个模板适合谁？\n\n  * 被邮件淹没的任何人  \n  * 收到大量学校邮件的忙碌家长  \n  * 邮件过多的企业高管  \n\n![封面.png](https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Cover_88bc2c6654.png)  \n\n## 案例研究  \n\n我经常收到孩子学校发来的足球训练、午餐订购和家长活动等邮件。通过这个工作流，我可以让AI阅读所有邮件，并告诉我哪些重要、哪些需要处理。  \n\n[阅读全文 -> 我是如何用AI处理所有邮件的](https://rumjahn.com/how-a-i-saved-my-kids-school-life-and-my-marriage/)  \n\n## 工作流功能  \n\n  1. 通过IMAP从邮箱（如Gmail）读取邮件  \n  2. 将邮件内容发送至[Openrouter.ai](http://Openrouter.ai)，使用免费AI模型进行阅读和摘要  \n  3. 将摘要以消息形式发送至通讯软件（如Line）  \n\n## 设置步骤  \n\n  1. 获取邮箱服务器的IMAP凭证  \n  2. 输入[openrouter.ai](http://openrouter.ai)的API密钥，或用OpenAI等AI节点替换HTTP请求节点  \n  3. 配置通讯软件凭证（示例使用Line，可替换为Telegram等其他应用）  \n  4. 在HTTP请求中修改消息ID：登录<https://developers.line.biz/console/>，将\"to\": {替换为你的用户ID}  \n\n## 个性化调整  \n\n  * 修改AI提示词：可设定特定发件人的邮件自动标记为重要  \n  * 更换AI模型：当前使用meta-llama/llama-3.1-70b-instruct:free，可替换为付费或其他免费模型  \n  * 切换通讯平台：可更改为Telegram等任意通讯应用",
  "title_zh": "用人工智能（通过Openrouter）总结您的邮件并发送至Line messenger",
  "publish_date_absolute": "2024-11-07",
  "publish_date_zh": "最后更新于6个月前",
  "workflow_json_zh": "{\n  \"id\": \"QnVdtKiTf3nbrNkh\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Summarize emails with A.I. then send to messenger\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"50e12e63-df28-45ac-9208-48cbf5116d09\",\n      \"name\": \"Read emails (IMAP)\",\n      \"type\": \"n8n-nodes-base.emailReadImap\",\n      \"position\": [\n        340,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"postProcessAction\": \"nothing\"\n      },\n      \"credentials\": {\n        \"imap\": {\n          \"id\": \"gXtdakU9M02LBQc3\",\n          \"name\": \"IMAP account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"6565350b-2269-44e3-8f36-8797f32d3e09\",\n      \"name\": \"Send email to A.I. to summarize\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"https://openrouter.ai/api/v1/chat/completions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"model\\\": \\\"meta-llama/llama-3.1-70b-instruct:free\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": \\\"I want you to read and summarize all the emails. If it's not rimportant, just give me a short summary with less than 10 words.\\\\n\\\\nHighlight as important if it is, add an emoji to indicate it is urgent:\\\\nFor the relevant content, find any action items and deadlines. Sometimes I need to sign up before a certain date or pay before a certain date, please highlight that in the summary for me.\\\\n\\\\nPut the deadline in BOLD at the top. If the email is not important, keep the summary short to 1 sentence only.\\\\n\\\\nHere's the email content for you to read:\\\\nSender email address: {{ encodeURIComponent($json.from) }}\\\\nSubject: {{ encodeURIComponent($json.subject) }}\\\\n{{ encodeURIComponent($json.textHtml) }}\\\"\\n    }\\n  ]\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"WY7UkF14ksPKq3S8\",\n          \"name\": \"Header Auth account 2\"\n        }\n      },\n      \"typeVersion\": 4.2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"d04c422a-c000-4e48-82d0-0bf44bcd9fff\",\n      \"name\": \"Send summarized content to messenger\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1100,\n        260\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/push\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"to\\\": \\\"U3ec262c49811f30cdc2d2f2b0a0df99a\\\",\\n  \\\"messages\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"text\\\": \\\"{{ $json.choices[0].message.content.replace(/\\\\n/g, \\\"\\\\\\\\n\\\") }}\\\"\\n    }\\n  ]\\n}\\n\\n\\n  \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"SzcKjO9Nn9vZPL2H\",\n          \"name\": \"Header Auth account 5\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"57a1219c-4f40-407c-855b-86c4c7c468bb\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        180,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 361,\n        \"height\": 90,\n        \"content\": \"## 用人工智能总结邮件\\n了解更多关于该[应用案例](https://rumjahn.com/how-a-i-saved-my-kids-school-life-and-my-marriage/)的信息\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17686264-56ac-419e-a32b-dc5c75f15f1f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        283,\n        141\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 229,\n        \"height\": 280,\n        \"content\": \"查找您的电子邮件服务器的IMAP设置。  \\n- [Gmail](https://www.getmailspring.com/setup/access-gmail-via-imap-smtp) 相关链接\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1862abd6-7dca-4c66-90d6-110d4fcf4d99\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        580,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 365,\n        \"height\": 442,\n        \"content\": \"对于人工智能服务，你可以使用Openrouter.ai。  \\n- 注册一个免费账户  \\n- 所选AI模型可免费使用。  \\n\\n## 认证信息  \\n- 使用头部验证  \\n- 用户名：Authorization  \\n- 密码：Bearer {插入你的API密钥}  \\n- 密码格式为\\\"Bearer\\\"加空格再加你的API密钥。\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c4a3a76f-539d-4bbf-8f95-d7aaebf39a55\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1000,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 307,\n        \"height\": 439,\n        \"content\": \"不要使用官方的Line节点，它已经过时了。\\n## 凭证设置\\n- 采用请求头认证方式\\n- 用户名填写：Authorization\\n- 密码填写：Bearer {渠道访问令牌}\\n\\n您的渠道访问令牌可在[Line开发者控制台](https://developers.line.biz/console/)获取。进入Messaging API版块并滚动至页面底部即可找到。\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"81216e6a-2bd8-4215-8a96-376ee520469d\",\n  \"connections\": {\n    \"Read emails (IMAP)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send email to A.I. to summarize\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send email to A.I. to summarize\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send summarized content to messenger\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}