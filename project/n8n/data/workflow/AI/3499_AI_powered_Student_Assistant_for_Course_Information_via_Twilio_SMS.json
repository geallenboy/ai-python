{
  "title": "AI-powered Student Assistant for Course Information via Twilio SMS",
  "url": "https://n8n.io/workflows/3499-ai-powered-student-assistant-for-course-information-via-twilio-sms/",
  "category": "AI",
  "category_url": "https://n8n.io/workflows/categories/ai/?count=20",
  "author": "Jimleuk",
  "publish_date": "Last update 18 days ago",
  "content": "",
  "workflow_json": "{\"meta\":{\"instanceId\":\"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\"templateCredsSetupCompleted\":true},\"nodes\":[{\"id\":\"c2429079-50b7-4da8-9fe4-9a1879bd681c\",\"name\":\"Twilio Trigger\",\"type\":\"n8n-nodes-base.twilioTrigger\",\"position\":[-380,-460],\"webhookId\":\"47604448-e049-480d-899e-d3318a93276b\",\"parameters\":{\"updates\":[\"com.twilio.messaging.inbound-message.received\"]},\"credentials\":{\"twilioApi\":{\"id\":\"TJv4H4lXxPCLZT50\",\"name\":\"Twilio account\"}},\"typeVersion\":1},{\"id\":\"b1c0dc4c-593f-49aa-8fec-a77c7e40928e\",\"name\":\"Search Available Courses\",\"type\":\"n8n-nodes-base.airtableTool\",\"position\":[380,-80],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appO5xvP1aUBYKyJ7\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7\",\"cachedResultName\":\"Northvale Institute of Technology Courses 2025-2026\"},\"limit\":5,\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblRfh0t0KNSJYJVw\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\"cachedResultName\":\"Imported table\"},\"options\":{},\"operation\":\"search\",\"returnAll\":false,\"descriptionType\":\"manual\",\"filterByFormula\":\"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Filter_By_Formula', ``, 'string') }}\",\"toolDescription\":\"Call this tool to access the course database. Ensure you have the course database schema before using this tool.\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"ad06d5f6-cd6d-4804-b633-cf065866f41e\",\"name\":\"Get Course Database Schema\",\"type\":\"n8n-nodes-base.airtableTool\",\"position\":[240,-160],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appO5xvP1aUBYKyJ7\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7\",\"cachedResultName\":\"Northvale Institute of Technology Courses 2025-2026\"},\"resource\":\"base\",\"operation\":\"getSchema\",\"descriptionType\":\"manual\",\"toolDescription\":\"Call this tool to get the course database schema.\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"7d16ef89-3e63-4f64-9470-eb1bf9c76ece\",\"name\":\"Get User Message\",\"type\":\"n8n-nodes-base.set\",\"position\":[-160,-460],\"parameters\":{\"options\":{},\"assignments\":{\"assignments\":[{\"id\":\"5ca2fffb-2926-42df-ae2b-95ba081345ef\",\"name\":\"message\",\"type\":\"string\",\"value\":\"={{ $json.Body || $json.chatInput }}\"},{\"id\":\"3bfdb166-0ab1-44b9-b6e4-ce6ad52a465c\",\"name\":\"sessionId\",\"type\":\"string\",\"value\":\"={{ $json.From || $json.sessionId }}\"}]}},\"typeVersion\":3.4},{\"id\":\"b2b03e59-2c1d-4852-a8a6-37fb20f38b55\",\"name\":\"Send SMS reply\",\"type\":\"n8n-nodes-base.twilio\",\"position\":[660,-460],\"parameters\":{\"to\":\"={{ $json.fields.from }}\",\"from\":\"={{ $('Twilio Trigger').item.json.To }}\",\"message\":\"={{ $('Course Assistant Agent').item.json.output }}\",\"options\":{}},\"credentials\":{\"twilioApi\":{\"id\":\"TJv4H4lXxPCLZT50\",\"name\":\"Twilio account\"}},\"typeVersion\":1},{\"id\":\"c07ba0c0-2e22-48fc-bca9-cbaeb221ccf9\",\"name\":\"Append to Call Log\",\"type\":\"n8n-nodes-base.airtable\",\"position\":[440,-460],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appO5xvP1aUBYKyJ7\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7\",\"cachedResultName\":\"Northvale Institute of Technology Courses 2025-2026\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblRFuaayw0En6T0c\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7/tblRFuaayw0En6T0c\",\"cachedResultName\":\"Call Log\"},\"columns\":{\"value\":{\"from\":\"={{ $('Get User Message').first().json.sessionId }}\",\"answer\":\"={{ $json.output }}\",\"question\":\"={{ $('Get User Message').first().json.message }}\"},\"schema\":[{\"id\":\"from\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"from\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"question\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"question\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"answer\",\"type\":\"string\",\"display\":true,\"removed\":false,\"readOnly\":false,\"required\":false,\"displayName\":\"answer\",\"defaultMatch\":false,\"canBeUsedToMatch\":true},{\"id\":\"Created\",\"type\":\"string\",\"display\":true,\"removed\":true,\"readOnly\":true,\"required\":false,\"displayName\":\"Created\",\"defaultMatch\":false,\"canBeUsedToMatch\":true}],\"mappingMode\":\"defineBelow\",\"matchingColumns\":[\"id\"],\"attemptToConvertTypes\":false,\"convertFieldsToString\":false},\"options\":{},\"operation\":\"create\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"ba7b4d7b-7b78-41f0-b158-3d1f09d14120\",\"name\":\"Course Assistant Agent\",\"type\":\"@n8n/n8n-nodes-langchain.agent\",\"position\":[60,-460],\"parameters\":{\"text\":\"={{ $json.message }}\",\"options\":{\"systemMessage\":\"=You are a course enquiry assistant for the Northvale Institute of Technology helping students with various questions about the available courses for the year.\\n* Answer factually and source the information from the course database to ensure you have updated information.\\n* Avoid answering or engaging in any discussion not related to the Northvale Institute of Technology courses and instead, direct the student to contact helpdesk@northvale.edu.\\n* always query the course database schema before using tools.\\n\\nNote: The airtable filter by query syntax was updated\\n* Wrap your query in AND() or OR() to join parameters.\\n* To filter select or multiple select finds, use the FIND() operation. eg. AND({Schedule_from}>=900, FIND('Wed', {Schedule_day}))\\n* times should be inclusive unless otherwise stated. Use the >= or <= operators.\"},\"promptType\":\"define\"},\"typeVersion\":1.8},{\"id\":\"3c790125-6665-4a0c-85b4-397e71faae35\",\"name\":\"Get List of Professors\",\"type\":\"n8n-nodes-base.airtableTool\",\"position\":[560,-180],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appO5xvP1aUBYKyJ7\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7\",\"cachedResultName\":\"Northvale Institute of Technology Courses 2025-2026\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblRfh0t0KNSJYJVw\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\"cachedResultName\":\"Imported table\"},\"options\":{\"fields\":[\"Instructor\"]},\"operation\":\"search\",\"descriptionType\":\"manual\",\"toolDescription\":\"Call this tool to get a list of active professors.\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"27aacf1e-b8a7-46d0-915e-0481d9608251\",\"name\":\"Get List of Departments\",\"type\":\"n8n-nodes-base.airtableTool\",\"position\":[500,-20],\"parameters\":{\"base\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"appO5xvP1aUBYKyJ7\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7\",\"cachedResultName\":\"Northvale Institute of Technology Courses 2025-2026\"},\"table\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"tblRfh0t0KNSJYJVw\",\"cachedResultUrl\":\"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\"cachedResultName\":\"Imported table\"},\"options\":{\"fields\":[\"Department\"]},\"operation\":\"search\",\"descriptionType\":\"manual\",\"toolDescription\":\"Call this tool to get a list of departments.\"},\"credentials\":{\"airtableTokenApi\":{\"id\":\"Und0frCQ6SNVX3VV\",\"name\":\"Airtable Personal Access Token account\"}},\"typeVersion\":2.1},{\"id\":\"f1991f1f-9666-43d9-88ce-a2c083491a78\",\"name\":\"Model\",\"type\":\"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\"position\":[-40,-240],\"parameters\":{\"model\":{\"__rl\":true,\"mode\":\"list\",\"value\":\"gpt-4o-mini\"},\"options\":{}},\"credentials\":{\"openAiApi\":{\"id\":\"8gccIjcuf3gvaoEr\",\"name\":\"OpenAi account\"}},\"typeVersion\":1.2},{\"id\":\"2afd9d28-a1ba-4364-a576-ed3e86c640b6\",\"name\":\"Memory\",\"type\":\"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\"position\":[100,-240],\"parameters\":{},\"typeVersion\":1.3},{\"id\":\"774472f7-eb3d-4251-97e3-8e4033a0cf4f\",\"name\":\"Sticky Note\",\"type\":\"n8n-nodes-base.stickyNote\",\"position\":[-940,-1100],\"parameters\":{\"width\":420,\"height\":1320,\"content\":\"## Try It Out!\\n### This n8n template offers a simple yet capable chatbot assistant who can answer course enquiries over SMS.\\n\\nGiven the right access to data, AI Agents are capable of planning and performing relatively complex research tasks to get their answers. In this example, the agent must first understand the database schema, retrieve lists of values before generating it's own query to search over the database.\\n\\n**Checkout the example database here - https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw**\\n\\n### How it works\\n* A Twilio trigger gives us the ability to receive SMS input into our workflow via webhook.\\n* The message is then directed to our AI agent who is instructed to assist the user and use the course database as reference. The database is an Airtable base.\\n* The agent autonomously figures out which tool it needs to use and generates it's own \\\"filter_by_formula\\\" query to search over the available courses.\\n* On successful search results, the Agent can then use this information to answer the user's query.\\n* The Agent's output is logged in a second sheet of the Airtable base. We can use this later for analysis and lead gen.\\n* Finally, the response is sent back to the user through SMS using Twilio.\\n\\n### How to use\\n* Ensure your Twilio number is set to forward messages to this workflow's webhook URL.\\n* Configure and update the course database as required. If you're not interested in courses, you can swap this out for inventory, deliveries or any other data relevant to your business.\\n* Ask questions like:\\n  * \\\"Can you help me find suitable courses to fill my Wednesday mornings?\\\"\\n  * \\\"Which courses are being instructed by profession Lee?\\\"\\n  * \\\"I'm interested in creative arts. What courses are available which could be relevant to me?\\\"\\n\\n### Requirements\\n* Twilio for SMS receiving and sending\\n* OpenAI for LLM and Agent\\n* Airtable for Course Database\\n\\n### Customising this workflow\\n* Add additional tools and expand the range of queries the agent is able to answer or assist with.\\n* Not using Airtable? This technique also works with SQL databases like PostgreSQL.\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\\n\\nHappy Hacking!\"},\"typeVersion\":1}],\"pinData\":{},\"connections\":{\"Model\":{\"ai_languageModel\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_languageModel\",\"index\":0}]]},\"Memory\":{\"ai_memory\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_memory\",\"index\":0}]]},\"Twilio Trigger\":{\"main\":[[{\"node\":\"Get User Message\",\"type\":\"main\",\"index\":0}]]},\"Get User Message\":{\"main\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"main\",\"index\":0}]]},\"Append to Call Log\":{\"main\":[[{\"node\":\"Send SMS reply\",\"type\":\"main\",\"index\":0}]]},\"Course Assistant Agent\":{\"main\":[[{\"node\":\"Append to Call Log\",\"type\":\"main\",\"index\":0}]]},\"Get List of Professors\":{\"ai_tool\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Get List of Departments\":{\"ai_tool\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Search Available Courses\":{\"ai_tool\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_tool\",\"index\":0}]]},\"Get Course Database Schema\":{\"ai_tool\":[[{\"node\":\"Course Assistant Agent\",\"type\":\"ai_tool\",\"index\":0}]]}}}",
  "readme": "### This n8n template offers a simple yet capable chatbot assistant who can answer course enquiries over SMS.\n\nGiven the right access to data, AI Agents are capable of planning and performing relatively complex research tasks to get their answers. In this example, the agent must first understand the database schema, retrieve lists of values before generating it's own query to search over the database.\n\n**Checkout the example database here -<https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw>**\n\n### How it works\n\n  * A Twilio trigger gives us the ability to receive SMS input into our workflow via webhook.\n  * The message is then directed to our AI agent who is instructed to assist the user and use the course database as reference. The database is an Airtable base.\n  * The agent autonomously figures out which tool it needs to use and generates it's own \"filter_by_formula\" query to search over the available courses.\n  * On successful search results, the Agent can then use this information to answer the user's query.\n  * The Agent's output is logged in a second sheet of the Airtable base. We can use this later for analysis and lead gen.\n  * Finally, the response is sent back to the user through SMS using Twilio.\n\n\n\n### How to use\n\n  * Ensure your Twilio number is set to forward messages to this workflow's webhook URL.\n  * Configure and update the course database as required. If you're not interested in courses, you can swap this out for inventory, deliveries or any other data relevant to your business.\n  * Ask questions like: \n    * \"Can you help me find suitable courses to fill my Wednesday mornings?\"\n    * \"Which courses are being instructed by profession Lee?\"\n    * \"I'm interested in creative arts. What courses are available which could be relevant to me?\"\n\n\n\n### Requirements\n\n  * Twilio for SMS receiving and sending\n  * OpenAI for LLM and Agent\n  * Airtable for Course Database\n\n\n\n### Customising this workflow\n\n  * Add additional tools and expand the range of queries the agent is able to answer or assist with.\n  * Not using Airtable? This technique also works with SQL databases like PostgreSQL.\n\n\n",
  "readme_html": "<!--[--><div data-v-006f9244=\"\"><h3>This n8n template offers a simple yet capable chatbot assistant who can answer course enquiries over SMS.</h3>\n<p>Given the right access to data, AI Agents are capable of planning and performing relatively complex research tasks to get their answers. In this example, the agent must first understand the database schema, retrieve lists of values before generating it's own query to search over the database.</p>\n<p><strong>Checkout the example database here - <a href=\"https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw\" rel=\"ugc nofollow\" target=\"_blank\">https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw</a></strong></p>\n<h3>How it works</h3>\n<ul>\n<li>A Twilio trigger gives us the ability to receive SMS input into our workflow via webhook.</li>\n<li>The message is then directed to our AI agent who is instructed to assist the user and use the course database as reference. The database is an Airtable base.</li>\n<li>The agent autonomously figures out which tool it needs to use and generates it's own \"filter_by_formula\" query to search over the available courses.</li>\n<li>On successful search results, the Agent can then use this information to answer the user's query.</li>\n<li>The Agent's output is logged in a second sheet of the Airtable base. We can use this later for analysis and lead gen.</li>\n<li>Finally, the response is sent back to the user through SMS using Twilio.</li>\n</ul>\n<h3>How to use</h3>\n<ul>\n<li>Ensure your Twilio number is set to forward messages to this workflow's webhook URL.</li>\n<li>Configure and update the course database as required. If you're not interested in courses, you can swap this out for inventory, deliveries or any other data relevant to your business.</li>\n<li>Ask questions like:\n<ul>\n<li>\"Can you help me find suitable courses to fill my Wednesday mornings?\"</li>\n<li>\"Which courses are being instructed by profession Lee?\"</li>\n<li>\"I'm interested in creative arts. What courses are available which could be relevant to me?\"</li>\n</ul>\n</li>\n</ul>\n<h3>Requirements</h3>\n<ul>\n<li>Twilio for SMS receiving and sending</li>\n<li>OpenAI for LLM and Agent</li>\n<li>Airtable for Course Database</li>\n</ul>\n<h3>Customising this workflow</h3>\n<ul>\n<li>Add additional tools and expand the range of queries the agent is able to answer or assist with.</li>\n<li>Not using Airtable? This technique also works with SQL databases like PostgreSQL.</li>\n</ul>\n</div><!--]-->",
  "readme_zh": "### 该n8n模板提供了一个简洁高效的短信课程咨询聊天机器人助手。\n\n当获得适当的数据访问权限后，AI智能体能够规划并执行相对复杂的研究任务来获取答案。本示例中，智能体需先理解数据库结构，检索数值列表，然后自主生成查询语句来搜索数据库。\n\n**查看示例数据库请访问 -<https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw>**\n\n### 工作原理\n\n  * Twilio触发器通过webhook将短信输入传递至工作流\n  * 消息被导向AI智能体，该智能体被设定为使用课程数据库辅助用户（数据库基于Airtable）\n  * 智能体自主判断所需工具，并生成\"filter_by_formula\"查询语句搜索课程\n  * 成功获取搜索结果后，智能体利用这些信息回答用户问题\n  * 智能体输出会记录在Airtable的第二个工作表中，可用于后续分析和潜在客户开发\n  * 最终通过Twilio以短信形式将回复发送给用户\n\n### 使用方法\n\n  * 确保Twilio号码已配置为将消息转发至本工作流的webhook URL\n  * 根据需要配置更新课程数据库（可替换为库存、物流等任何业务相关数据）\n  * 尝试咨询：\n    * \"能帮我推荐周三上午的合适课程吗？\"\n    * \"Lee教授指导哪些课程？\"\n    * \"我对创意艺术感兴趣，有哪些相关课程？\"\n\n### 系统要求\n\n  * Twilio（短信收发）\n  * OpenAI（LLM及智能体）\n  * Airtable（课程数据库）\n\n### 定制扩展\n\n  * 添加工具以扩展智能体的应答范围\n  * 非Airtable用户可适配PostgreSQL等SQL数据库",
  "title_zh": "通过Twilio短信提供课程信息的AI学生助手",
  "publish_date_absolute": "2025-04-19",
  "publish_date_zh": "上次更新于18天前",
  "workflow_json_zh": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"c2429079-50b7-4da8-9fe4-9a1879bd681c\",\n      \"name\": \"Twilio Trigger\",\n      \"type\": \"n8n-nodes-base.twilioTrigger\",\n      \"position\": [\n        -380,\n        -460\n      ],\n      \"webhookId\": \"47604448-e049-480d-899e-d3318a93276b\",\n      \"parameters\": {\n        \"updates\": [\n          \"com.twilio.messaging.inbound-message.received\"\n        ]\n      },\n      \"credentials\": {\n        \"twilioApi\": {\n          \"id\": \"TJv4H4lXxPCLZT50\",\n          \"name\": \"Twilio account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b1c0dc4c-593f-49aa-8fec-a77c7e40928e\",\n      \"name\": \"Search Available Courses\",\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"position\": [\n        380,\n        -80\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appO5xvP1aUBYKyJ7\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7\",\n          \"cachedResultName\": \"Northvale Institute of Technology Courses 2025-2026\"\n        },\n        \"limit\": 5,\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblRfh0t0KNSJYJVw\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\n          \"cachedResultName\": \"Imported table\"\n        },\n        \"options\": {},\n        \"operation\": \"search\",\n        \"returnAll\": false,\n        \"descriptionType\": \"manual\",\n        \"filterByFormula\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Filter_By_Formula', ``, 'string') }}\",\n        \"toolDescription\": \"Call this tool to access the course database. Ensure you have the course database schema before using this tool.\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"ad06d5f6-cd6d-4804-b633-cf065866f41e\",\n      \"name\": \"Get Course Database Schema\",\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"position\": [\n        240,\n        -160\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appO5xvP1aUBYKyJ7\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7\",\n          \"cachedResultName\": \"Northvale Institute of Technology Courses 2025-2026\"\n        },\n        \"resource\": \"base\",\n        \"operation\": \"getSchema\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Call this tool to get the course database schema.\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"7d16ef89-3e63-4f64-9470-eb1bf9c76ece\",\n      \"name\": \"Get User Message\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -160,\n        -460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"5ca2fffb-2926-42df-ae2b-95ba081345ef\",\n              \"name\": \"message\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.Body || $json.chatInput }}\"\n            },\n            {\n              \"id\": \"3bfdb166-0ab1-44b9-b6e4-ce6ad52a465c\",\n              \"name\": \"sessionId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.From || $json.sessionId }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"b2b03e59-2c1d-4852-a8a6-37fb20f38b55\",\n      \"name\": \"Send SMS reply\",\n      \"type\": \"n8n-nodes-base.twilio\",\n      \"position\": [\n        660,\n        -460\n      ],\n      \"parameters\": {\n        \"to\": \"={{ $json.fields.from }}\",\n        \"from\": \"={{ $('Twilio Trigger').item.json.To }}\",\n        \"message\": \"={{ $('Course Assistant Agent').item.json.output }}\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"twilioApi\": {\n          \"id\": \"TJv4H4lXxPCLZT50\",\n          \"name\": \"Twilio account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c07ba0c0-2e22-48fc-bca9-cbaeb221ccf9\",\n      \"name\": \"Append to Call Log\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        440,\n        -460\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appO5xvP1aUBYKyJ7\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7\",\n          \"cachedResultName\": \"Northvale Institute of Technology Courses 2025-2026\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblRFuaayw0En6T0c\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7/tblRFuaayw0En6T0c\",\n          \"cachedResultName\": \"Call Log\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"from\": \"={{ $('Get User Message').first().json.sessionId }}\",\n            \"answer\": \"={{ $json.output }}\",\n            \"question\": \"={{ $('Get User Message').first().json.message }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"from\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"from\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"question\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"question\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"answer\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"answer\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Created\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Created\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"ba7b4d7b-7b78-41f0-b158-3d1f09d14120\",\n      \"name\": \"Course Assistant Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        60,\n        -460\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.message }}\",\n        \"options\": {\n          \"systemMessage\": \"=You are a course enquiry assistant for the Northvale Institute of Technology helping students with various questions about the available courses for the year.\\n* Answer factually and source the information from the course database to ensure you have updated information.\\n* Avoid answering or engaging in any discussion not related to the Northvale Institute of Technology courses and instead, direct the student to contact helpdesk@northvale.edu.\\n* always query the course database schema before using tools.\\n\\nNote: The airtable filter by query syntax was updated\\n* Wrap your query in AND() or OR() to join parameters.\\n* To filter select or multiple select finds, use the FIND() operation. eg. AND({Schedule_from}>=900, FIND('Wed', {Schedule_day}))\\n* times should be inclusive unless otherwise stated. Use the >= or <= operators.\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"3c790125-6665-4a0c-85b4-397e71faae35\",\n      \"name\": \"Get List of Professors\",\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"position\": [\n        560,\n        -180\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appO5xvP1aUBYKyJ7\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7\",\n          \"cachedResultName\": \"Northvale Institute of Technology Courses 2025-2026\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblRfh0t0KNSJYJVw\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\n          \"cachedResultName\": \"Imported table\"\n        },\n        \"options\": {\n          \"fields\": [\n            \"Instructor\"\n          ]\n        },\n        \"operation\": \"search\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Call this tool to get a list of active professors.\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"27aacf1e-b8a7-46d0-915e-0481d9608251\",\n      \"name\": \"Get List of Departments\",\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"position\": [\n        500,\n        -20\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appO5xvP1aUBYKyJ7\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7\",\n          \"cachedResultName\": \"Northvale Institute of Technology Courses 2025-2026\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblRfh0t0KNSJYJVw\",\n          \"cachedResultUrl\": \"https://airtable.com/appO5xvP1aUBYKyJ7/tblRfh0t0KNSJYJVw\",\n          \"cachedResultName\": \"Imported table\"\n        },\n        \"options\": {\n          \"fields\": [\n            \"Department\"\n          ]\n        },\n        \"operation\": \"search\",\n        \"descriptionType\": \"manual\",\n        \"toolDescription\": \"Call this tool to get a list of departments.\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"Und0frCQ6SNVX3VV\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"f1991f1f-9666-43d9-88ce-a2c083491a78\",\n      \"name\": \"Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -40,\n        -240\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"2afd9d28-a1ba-4364-a576-ed3e86c640b6\",\n      \"name\": \"Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        100,\n        -240\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"774472f7-eb3d-4251-97e3-8e4033a0cf4f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -940,\n        -1100\n      ],\n      \"parameters\": {\n        \"width\": 420,\n        \"height\": 1320,\n        \"content\": \"## 试试看吧！\\n### 这个n8n模板提供了一个简单但功能强大的聊天机器人助手，可以通过短信回答课程咨询。\\n\\n只要获得适当的数据访问权限，AI智能体就能规划并执行相对复杂的研究任务来获取答案。在这个示例中，智能体需要先理解数据库结构，检索数值列表，然后自行生成查询语句来搜索数据库。\\n\\n**查看示例数据库请访问 - https://airtable.com/appO5xvP1aUBYKyJ7/shr8jSFDaghubDOrw**\\n\\n### 工作原理\\n* Twilio触发器通过webhook将短信输入传递到工作流\\n* 消息被导向AI智能体，该智能体被设定为协助用户并以课程数据库为参考（数据库基于Airtable）\\n* 智能体自主判断所需工具，并生成自己的\\\"filter_by_formula\\\"查询语句来搜索可用课程\\n* 成功获取搜索结果后，智能体利用这些信息回答用户问题\\n* 智能体的输出记录在Airtable的第二个工作表中，可用于后续分析和潜在客户开发\\n* 最终通过Twilio以短信形式将回复发送给用户\\n\\n### 使用方法\\n* 确保您的Twilio号码已设置为将消息转发到此工作流的webhook URL\\n* 根据需要配置和更新课程数据库。若不关注课程，可替换为库存、物流或其他业务相关数据\\n* 尝试提问例如：\\n  * \\\"能帮我找找周三上午适合的课程吗？\\\"\\n  * \\\"李教授教授的课程有哪些？\\\"\\n  * \\\"我对创意艺术感兴趣，有哪些相关课程可选？\\\"\\n\\n### 所需组件\\n* Twilio（用于收发短信）\\n* OpenAI（提供LLM和智能体）\\n* Airtable（课程数据库）\\n\\n### 自定义工作流\\n* 添加更多工具以扩展智能体能处理的查询范围\\n* 不使用Airtable？此技术同样适用于PostgreSQL等SQL数据库\\n\\n### 需要帮助？\\n加入[Discord](https://discord.com/invite/XPKeKXeB7d)或访问[论坛](https://community.n8n.io/)提问！\\n\\n祝您探索愉快！\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Twilio Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get User Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get User Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Append to Call Log\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send SMS reply\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Course Assistant Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append to Call Log\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get List of Professors\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get List of Departments\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search Available Courses\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Course Database Schema\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Course Assistant Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}"
}