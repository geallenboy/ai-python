{
  "url": "https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
  "title": "How to automate your team's video collaboration workflow",
  "excerpt": "Create a custom Mattermost slash command that helps to quickly connect with other team members via Whereby.",
  "thumbnail": "https://blog.n8n.io/content/images/size/w1200/2021/02/cover-1.png",
  "tags": [
    "Tutorial"
  ],
  "html": "<p>Video calls are an invaluable tool that can connect people from around the world. As the pandemic progresses, weâ€™ve depended on these conversations to effectively disseminate company knowledge, enabling us to build more collaboratively.</p><p>Video calls are meant to be easyâ€Šâ€”â€Šlike simply walking up to a person and starting a conversation. But in reality, this is far from the truth. It requires the user to maintain an account, logging into a platform every time to start a video meeting.</p><p>At <a href=\"https://n8n.io/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">n8n</a>, we use <a href=\"https://mattermost.com/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Mattermost</a> and <a href=\"https://whereby.com/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Whereby</a>. Mattermost is an open-source, self-hostable online chat service with file sharing, search, and integrations. It is designed as an internal chat for organizations and companies. Whereby is an easy to use video conferencing platform that does not require any software and runs entirely in-browser.</p><p>We created a custom Mattermost <a href=\"https://docs.mattermost.com/developer/slash-commands.html?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">slash command</a> to reduce friction and help us quickly connect with other members of the team via Whereby. In this article, Iâ€™m going to show you how you can create a Mattermost slash command that will use n8n as a backend to return your Whereby URL in a channel. You can follow along using the workflow available over <a href=\"https://n8n.io/workflows/613?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">here</a>. Please note that you will need to configure credentials for the <a href=\"https://docs.n8n.io/nodes/n8n-nodes-base.mattermost/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\"><em>Mattermost</em></a> node.</p><h2 id=\"prerequisites\">Prerequisites</h2><ul><li>An instance of n8n. You can find instructions on how to set up n8n <a href=\"https://docs.n8n.io/try-it-out/quickstart/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">here</a>. Alternatively, you can use a <a href=\"https://n8n.io/cloud?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">free n8n cloud trial</a> to get started quickly. (This workflow was built using n8n@107.0 version)</li><li>A Mattermost account. Youâ€™ll need to obtain the Personal Access Token and Base URL. You can find instructions on how to obtain that <a href=\"https://docs.n8n.io/credentials/mattermost/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">here</a>.</li><li>A <a href=\"https://whereby.com/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">Whereby</a> account. Youâ€™ll need to create a room and copy the room name.</li></ul><h2 id=\"setting-up-the-workflow\">Setting up the Workflow</h2><h3 id=\"1-setting-up-a-webhook-node\">1. Setting up a Webhook node</h3><p>The first node of this workflow will be a <a href=\"https://docs.n8n.io/nodes/n8n-nodes-base.webhook/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\"><em>Webhook</em></a> node that will receive the requests from the Mattermost slash command (weâ€™ll create the slash command in the next step).</p><p>Add a new node by clicking the '<strong><em>+</em></strong>' button on the top right of the Editor UI. Under the <strong><em>Trigger </em></strong>section, select the <strong><em>Webhook </em></strong>node. Then, select the 'POST'<em> </em>option for <strong><em>HTTP Method</em></strong>.</p><p>Now, save the workflow. This saves the webhook. Finally, copy the Test webhook URL (we will need this later). Hereâ€™s a video of me following the steps mentioned above.</p><figure class=\"kg-card kg-embed-card kg-card-hascaption\"><div class=\"js-reframe\" style=\"position: relative; width: 100%; padding-top: 56.1798%;\"><iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/4gpT1WlZkew?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\"position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;\"></iframe></div><figcaption>Creating the Webhook node to receive data from Mattermost</figcaption></figure><h3 id=\"2-create-a-custom-slash-command-in-mattermost\">2. Create a custom slash command in Mattermost</h3><p>Mattermost handles all slash commands using HTTP requests. We will first create a custom slash command and then configure it with the webhook that we created in the previous step.</p><p>Navigate to <strong>Main Menu &gt; Integrations &gt; Slash Commands</strong>. Then, click on <strong>Add Slash Command </strong>and enter a name and description for the command. Enter <code>call</code> as the Command Trigger Word and the webhook URL you copied in step 1 as the Request URL.</p><p>Now, click â€˜Saveâ€™ to create and save the slash command. Hereâ€™s a video of me following the steps mentioned above.</p><figure class=\"kg-card kg-embed-card kg-card-hascaption\"><div class=\"js-reframe\" style=\"position: relative; width: 100%; padding-top: 56.1798%;\"><iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/P00Uwhz6M9I?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\"position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;\"></iframe></div><figcaption>Creating a custom slash command in Mattermost</figcaption></figure><blockquote>If you donâ€™t have the <strong>Integrations</strong> option in your Main Menu, slash commands may not be enabled on your Mattermost server or may be disabled for non-admins. Enable it in <strong>System Console &gt; Integrations &gt; Integration Management.</strong></blockquote><p>Now, click on <strong><em>Execute Workflow</em></strong>. Then, head over to Mattermost and enter <code>/call</code> in the message box. You should now see data from Mattermost in n8n.</p><p>It should look something like this the following image.</p><figure class=\"kg-card kg-image-card kg-width-wide kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2021/02/webhook.png\" class=\"kg-image lightense-target\" alt=\"\" loading=\"lazy\" width=\"2000\" height=\"872\" srcset=\"https://blog.n8n.io/content/images/size/w600/2021/02/webhook.png 600w, https://blog.n8n.io/content/images/size/w1000/2021/02/webhook.png 1000w, https://blog.n8n.io/content/images/size/w1600/2021/02/webhook.png 1600w, https://blog.n8n.io/content/images/size/w2400/2021/02/webhook.png 2400w\" sizes=\"(min-width: 1200px) 1200px\"><figcaption>Data received from Mattermost in n8n</figcaption></figure><h3 id=\"-3-sending-a-whereby-link-to-mattermost-from-n8n\">â€Œ3. Sending a Whereby link to Mattermost from n8n</h3><p>Add a new node by clicking the '<strong><em>+</em></strong>' button on the top right of the Editor UI. Select the <a href=\"https://docs.n8n.io/nodes/n8n-nodes-base.set/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\"><em>Set</em></a><strong><em> </em></strong>node. Then, set the <strong><em>Keep Only Set</em></strong><em> </em>toggle to <code>true</code>. Click on the <strong><em>Add Value</em> </strong>button and select â€˜Stringâ€™ from the dropdown list. Enter your Mattermost username in the <strong><em>Name</em></strong> field. Enter your Whereby room ID in the <strong><em>Value</em> </strong>field. This will return the correct Whereby room name for the user who has issued the slash command.</p><p>It should look something like this the following image.</p><figure class=\"kg-card kg-image-card kg-width-wide kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2021/02/set-node.png\" class=\"kg-image lightense-target\" alt=\"\" loading=\"lazy\" width=\"2000\" height=\"878\" srcset=\"https://blog.n8n.io/content/images/size/w600/2021/02/set-node.png 600w, https://blog.n8n.io/content/images/size/w1000/2021/02/set-node.png 1000w, https://blog.n8n.io/content/images/size/w1600/2021/02/set-node.png 1600w, https://blog.n8n.io/content/images/size/w2400/2021/02/set-node.png 2400w\" sizes=\"(min-width: 1200px) 1200px\"><figcaption>Using the Set node to map the Mattermost username to the Whereby room nameâ€Œ</figcaption></figure><p>Then, add a new node by clicking the '<strong>+</strong>' button on the top right of the Editor UI. Select the <a href=\"https://docs.n8n.io/nodes/n8n-nodes-base.mattermost/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\"><em>Mattermost</em></a><strong> </strong>node. Double click on the node and create credentials for the node by clicking on the <strong><em>Mattermost API </em></strong>dropdown list and selecting <strong><em>Create New</em></strong>. Enter the Access Token that you obtained earlier. Then, use the variable selector to enter the <strong><em>Channel ID</em></strong><em> </em>received in the webhook. You can use the following expression in the <strong><em>Expression Editor</em></strong>: <code>{{$node[\"Webhook\"].json[\"body\"][\"channel_id\"]}}</code>. This tells the Mattermost node where to send the message.</p><p>In the <strong><em>Message</em></strong> field, enter <code>Join me in a video call:</code>. Click on the <strong><em>Add attachment </em></strong>button, and then select â€˜Titleâ€™ from the <strong><em>Add attachment item </em></strong>dropdown list.<strong> </strong>Select â€˜Title Linkâ€™ from the <strong><em>Add attachment item </em></strong>dropdown list. Click on the gears icon, select â€˜Add Expressionâ€™ from the dropdown list and enter <code>https://whereby.com/{{$json[$node[\"Webhook\"].json[\"body\"][\"user_name\"]]}}</code> in both the <strong><em>Title</em></strong> and <strong><em>Title Link</em></strong> fields. This expression retrieves the username of the person who issued the slash comment (from the <strong><em>Webhook</em></strong> node) and correlates that with their Whereby room ID that was specified in the <strong><em>Set</em></strong> node.</p><p>Hereâ€™s a video of me following the steps mentioned above.</p><figure class=\"kg-card kg-embed-card kg-card-hascaption\"><div class=\"js-reframe\" style=\"position: relative; width: 100%; padding-top: 56.1798%;\"><iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/3EOMF6yY-lk?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\"position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;\"></iframe></div><figcaption>Using the Mattermost node in n8n to send the Whereby meeting link to Mattermost</figcaption></figure><h3 id=\"4-executing-the-workflow\">4. Executing the workflow</h3><p>First of all, change the webhook in Mattermost from the testing to production and activate the workflow. The test webhook is meant only for configuration and setting up the webhook. It is only active for 120 seconds. The production webhook on the other hand, listens for requests all the time.</p><p>Next, open a Mattermost thread and type in <code>/call</code> and hit enter. You should see your Whereby meeting room link returned as a message!</p><p>Hereâ€™s a video of me executing the workflow.</p><figure class=\"kg-card kg-embed-card kg-card-hascaption\"><div class=\"js-reframe\" style=\"position: relative; width: 100%; padding-top: 56.1798%;\"><iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/BPaO-IPiAkE?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\"position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;\"></iframe></div><figcaption>Using a custom slash command in Mattermost to start a Whereby meeting via n8n</figcaption></figure><p>And, thatâ€™s it! Congratulations, you have just easily set up a custom slash command to quickly start video calls via Mattermost ðŸŽ‰</p><h2 id=\"next-steps\">Next Steps</h2><h3 id=\"adding-more-users\">Adding more users</h3><p>To allow other users to use the <code>/call</code> command, simply add more usersâ€™ information in the Set node, by clicking on the <strong><em>Add Value</em> </strong>button and selecting â€˜Stringâ€™ from the dropdown list. Enter their Mattermost username in the <strong><em>Name</em> </strong>field and their Whereby room ID in the <strong><em>Value</em> </strong>field.</p><h3 id=\"extending-the-workflow\">Extending the workflow</h3><p>Since n8n supports several other nodes such as <a href=\"https://docs.n8n.io/nodes/n8n-nodes-base.zoom?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Zoom</a>, you can experiment with customizing and adding more nodes to better suit your needs.</p><p>You can also include steps in the workflow to schedule and end meetings as well, making the slash command a powerful way to conduct meetings within Mattermost.</p><p>You can also extend the workflow to include multiple services, for example <code>/call zoom</code> would start a Zoom meeting and <code>/call whereby</code> would start a Whereby meeting, and so on.</p><h2 id=\"conclusion\">Conclusion</h2><p>With the current global pandemic, remote work is becoming the new normal and brings with it the challenges of communication. Video calls are becoming increasingly relevant with each passing day and is a great way to collaborate as a distributed team.</p><p>In this article, we learnt to create a custom Mattermost command, using n8n and Whereby to reduce the friction involved in initiating a conversation remotely, via video.</p><p>Weâ€™ve seen several benefits internally, we save time and end up collaborating more on great ideasâ€Šâ€”â€Šbecause the medium of discussion doesnâ€™t feel like a chore anymore. What are your thoughts? How do your online meetings work?</p><p>In case youâ€™ve run into an issue while following the tutorial, feel free to reach out to me on <a href=\"https://www.linkedin.com/in/amudhan-manivasagam-4aba86167/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">LinkedIn</a> or ask for help on our <a href=\"https://community.n8n.io/?ref=blog.n8n.io\" rel=\"noopener\" target=\"_blank\">forum</a> ðŸ’™</p><p><em>Start automating!</em></p><p><em>The best part is, you can start automating for free with n8n. The easiest way to get started is to </em><a href=\"https://n8n.io/pricing?cloud=false&amp;ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\"><em>download the desktop app,</em></a><em> or sign up for a <a href=\"https://n8n.io/cloud?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">free n8n cloud trial</a>. Thanks to n8nâ€™s fair-code license, you can also </em><a href=\"https://docs.n8n.io/hosting/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\"><em>self-host n8n for free</em></a><em>.</em></p>\n\t\t<div class=\"newsletter-banner\">\n\t    <div class=\"newsletter-banner-content\">\n\t      <div class=\"section-header\">\n\t        <h2>Subscribe to <span>n8n newsletter</span></h2>\n\t        <div class=\"section-subheader--bottom\">\n\t          Get the best, coolest, and latest in automation and low-code delivered to your inbox each week.\n\t        </div>\n\t      </div>\n\t      <div class=\"newsletter-banner-form\">\n\t        <form autocomplete=\"off\" class=\"contact-form\" onsubmit=\"subscribeNewsletter(event)\">\n\t        \t<div id=\"recaptcha\" class=\"g-recaptcha\" data-sitekey=\"6LeAQeopAAAAAKlLsRb1weWm6T_vijoQBkGkbHzB\" data-callback=\"submitSubscription\" data-size=\"invisible\"><div class=\"grecaptcha-badge\" data-style=\"bottomright\" style=\"width: 256px; height: 60px; display: block; transition: right 0.3s ease 0s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;\"><div class=\"grecaptcha-logo\"><iframe title=\"reCAPTCHA\" width=\"256\" height=\"60\" role=\"presentation\" name=\"a-t03ckifigxik\" frameborder=\"0\" scrolling=\"no\" sandbox=\"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation\" src=\"https://www.google.com/recaptcha/api2/anchor?ar=1&amp;k=6LeAQeopAAAAAKlLsRb1weWm6T_vijoQBkGkbHzB&amp;co=aHR0cHM6Ly9ibG9nLm44bi5pbzo0NDM.&amp;hl=en&amp;v=jt8Oh2-Ue1u7nEbJQUIdocyd&amp;size=invisible&amp;cb=koouw0ifvwll\"></iframe></div><div class=\"grecaptcha-error\"></div><textarea id=\"g-recaptcha-response\" name=\"g-recaptcha-response\" class=\"g-recaptcha-response\" style=\"width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;\"></textarea></div><iframe style=\"display: none;\"></iframe></div>\n\t          <div class=\"input-wrapper\">\n\t            <input placeholder=\"Email\" name=\"email\" type=\"email\" required=\"required\" class=\"\">\n\t            <div class=\"messages\">\n\t              <div class=\"message message--error\">Something went wrong. Please try again later.</div>\n\t              <div class=\"message message--success\">Subscribed!</div>\n\t            </div>\n\t          </div>\n\t          <button type=\"submit\" class=\"submit-btn\">Subscribe</button>\n\t        </form>\n\t      </div>\n\t    </div>\n    </div>\n\t\t<div class=\"post-share-section\">\n\t<div class=\"post-share-wrap\">\n\t\t<a href=\"https://twitter.com/intent/tweet?text=How%20to%20automate%20your%20team's%20video%20collaboration%20workflow&amp;url=https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/\" target=\"_blank\" rel=\"noopener\" aria-label=\"Twitter share icon\"><svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"></path></svg></a>\n\t\t<a href=\"https://www.facebook.com/sharer/sharer.php?u=https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/\" target=\"_blank\" rel=\"noopener\" aria-label=\"Facebook share icon\"><svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"></path></svg></a>\n\t\t<!-- <a href=\"javascript:\" class=\"post-share-link\" id=\"copy\" data-clipboard-target=\"#copy-link\" aria-label=\"Copy link icon\"><svg role=\"img\" viewBox=\"0 0 33 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M27.3999996,13.4004128 L21.7999996,13.4004128 L21.7999996,19 L18.9999996,19 L18.9999996,13.4004128 L13.3999996,13.4004128 L13.3999996,10.6006192 L18.9999996,10.6006192 L18.9999996,5 L21.7999996,5 L21.7999996,10.6006192 L27.3999996,10.6006192 L27.3999996,13.4004128 Z M12,20.87 C7.101,20.87 3.13,16.898 3.13,12 C3.13,7.102 7.101,3.13 12,3.13 C12.091,3.13 12.181,3.139 12.272,3.142 C9.866,5.336 8.347,8.487 8.347,12 C8.347,15.512 9.866,18.662 12.271,20.857 C12.18,20.859 12.091,20.87 12,20.87 Z M20.347,0 C18.882,0 17.484,0.276 16.186,0.756 C14.882,0.271 13.473,0 12,0 C5.372,0 0,5.373 0,12 C0,18.628 5.372,24 12,24 C13.471,24 14.878,23.726 16.181,23.242 C17.481,23.724 18.88,24 20.347,24 C26.975,24 32.347,18.628 32.347,12 C32.347,5.373 26.975,0 20.347,0 Z\"/></svg></a>\n\t\t<small class=\"share-link-info\">The link has been copied!</small> -->\n\t</div>\n\t<input type=\"text\" value=\"https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/\" id=\"copy-link\" aria-label=\"Copy link input\">\n</div>",
  "readme": "Video calls are an invaluable tool that can connect people from around the world. As the pandemic progresses, weâ€™ve depended on these conversations to effectively disseminate company knowledge, enabling us to build more collaboratively.\n\nVideo calls are meant to be easy â€” like simply walking up to a person and starting a conversation. But in reality, this is far from the truth. It requires the user to maintain an account, logging into a platform every time to start a video meeting.\n\nAt [n8n](https://n8n.io/?ref=blog.n8n.io), we use [Mattermost](https://mattermost.com/?ref=blog.n8n.io) and [Whereby](https://whereby.com/?ref=blog.n8n.io). Mattermost is an open-source, self-hostable online chat service with file sharing, search, and integrations. It is designed as an internal chat for organizations and companies. Whereby is an easy to use video conferencing platform that does not require any software and runs entirely in-browser.\n\nWe created a custom Mattermost [slash command](https://docs.mattermost.com/developer/slash-commands.html?ref=blog.n8n.io) to reduce friction and help us quickly connect with other members of the team via Whereby. In this article, Iâ€™m going to show you how you can create a Mattermost slash command that will use n8n as a backend to return your Whereby URL in a channel. You can follow along using the workflow available over [here](https://n8n.io/workflows/613?ref=blog.n8n.io). Please note that you will need to configure credentials for the [_Mattermost_](https://docs.n8n.io/nodes/n8n-nodes-base.mattermost/?ref=blog.n8n.io) node.\n\n## Prerequisites\n\n  * An instance of n8n. You can find instructions on how to set up n8n [here](https://docs.n8n.io/try-it-out/quickstart/?ref=blog.n8n.io). Alternatively, you can use a [free n8n cloud trial](https://n8n.io/cloud?ref=blog.n8n.io) to get started quickly. (This workflow was built using n8n@107.0 version)\n  * A Mattermost account. Youâ€™ll need to obtain the Personal Access Token and Base URL. You can find instructions on how to obtain that [here](https://docs.n8n.io/credentials/mattermost/?ref=blog.n8n.io).\n  * A [Whereby](https://whereby.com/?ref=blog.n8n.io) account. Youâ€™ll need to create a room and copy the room name.\n\n\n\n## Setting up the Workflow\n\n### 1\\. Setting up a Webhook node\n\nThe first node of this workflow will be a [_Webhook_](https://docs.n8n.io/nodes/n8n-nodes-base.webhook/?ref=blog.n8n.io) node that will receive the requests from the Mattermost slash command (weâ€™ll create the slash command in the next step).\n\nAdd a new node by clicking the '**_+_** ' button on the top right of the Editor UI. Under the **_Trigger_** section, select the **_Webhook_** node. Then, select the 'POST'__ option for **_HTTP Method_**.\n\nNow, save the workflow. This saves the webhook. Finally, copy the Test webhook URL (we will need this later). Hereâ€™s a video of me following the steps mentioned above.\n\nCreating the Webhook node to receive data from Mattermost\n\n### 2\\. Create a custom slash command in Mattermost\n\nMattermost handles all slash commands using HTTP requests. We will first create a custom slash command and then configure it with the webhook that we created in the previous step.\n\nNavigate to **Main Menu > Integrations > Slash Commands**. Then, click on **Add Slash Command** and enter a name and description for the command. Enter `call` as the Command Trigger Word and the webhook URL you copied in step 1 as the Request URL.\n\nNow, click â€˜Saveâ€™ to create and save the slash command. Hereâ€™s a video of me following the steps mentioned above.\n\nCreating a custom slash command in Mattermost\n\n> If you donâ€™t have the **Integrations** option in your Main Menu, slash commands may not be enabled on your Mattermost server or may be disabled for non-admins. Enable it in **System Console > Integrations > Integration Management.**\n\nNow, click on **_Execute Workflow_**. Then, head over to Mattermost and enter `/call` in the message box. You should now see data from Mattermost in n8n.\n\nIt should look something like this the following image.\n\n![](https://blog.n8n.io/content/images/2021/02/webhook.png)Data received from Mattermost in n8n\n\n### â€Œ3. Sending a Whereby link to Mattermost from n8n\n\nAdd a new node by clicking the '**_+_** ' button on the top right of the Editor UI. Select the [_Set_](https://docs.n8n.io/nodes/n8n-nodes-base.set/?ref=blog.n8n.io)** __** node. Then, set the **_Keep Only Set_** __ toggle to `true`. Click on the **_Add Value_ **button and select â€˜Stringâ€™ from the dropdown list. Enter your Mattermost username in the **_Name_** field. Enter your Whereby room ID in the **_Value_ **field. This will return the correct Whereby room name for the user who has issued the slash command.\n\nIt should look something like this the following image.\n\n![](https://blog.n8n.io/content/images/2021/02/set-node.png)Using the Set node to map the Mattermost username to the Whereby room nameâ€Œ\n\nThen, add a new node by clicking the '**+** ' button on the top right of the Editor UI. Select the [_Mattermost_](https://docs.n8n.io/nodes/n8n-nodes-base.mattermost/?ref=blog.n8n.io)**** node. Double click on the node and create credentials for the node by clicking on the **_Mattermost API_** dropdown list and selecting **_Create New_**. Enter the Access Token that you obtained earlier. Then, use the variable selector to enter the **_Channel ID_** __ received in the webhook. You can use the following expression in the **_Expression Editor_** : `{{$node[\"Webhook\"].json[\"body\"][\"channel_id\"]}}`. This tells the Mattermost node where to send the message.\n\nIn the **_Message_** field, enter `Join me in a video call:`. Click on the **_Add attachment_** button, and then select â€˜Titleâ€™ from the **_Add attachment item_** dropdown list.**** Select â€˜Title Linkâ€™ from the **_Add attachment item_** dropdown list. Click on the gears icon, select â€˜Add Expressionâ€™ from the dropdown list and enter `https://whereby.com/{{$json[$node[\"Webhook\"].json[\"body\"][\"user_name\"]]}}` in both the **_Title_** and **_Title Link_** fields. This expression retrieves the username of the person who issued the slash comment (from the **_Webhook_** node) and correlates that with their Whereby room ID that was specified in the **_Set_** node.\n\nHereâ€™s a video of me following the steps mentioned above.\n\nUsing the Mattermost node in n8n to send the Whereby meeting link to Mattermost\n\n### 4\\. Executing the workflow\n\nFirst of all, change the webhook in Mattermost from the testing to production and activate the workflow. The test webhook is meant only for configuration and setting up the webhook. It is only active for 120 seconds. The production webhook on the other hand, listens for requests all the time.\n\nNext, open a Mattermost thread and type in `/call` and hit enter. You should see your Whereby meeting room link returned as a message!\n\nHereâ€™s a video of me executing the workflow.\n\nUsing a custom slash command in Mattermost to start a Whereby meeting via n8n\n\nAnd, thatâ€™s it! Congratulations, you have just easily set up a custom slash command to quickly start video calls via Mattermost ðŸŽ‰\n\n## Next Steps\n\n### Adding more users\n\nTo allow other users to use the `/call` command, simply add more usersâ€™ information in the Set node, by clicking on the **_Add Value_ **button and selecting â€˜Stringâ€™ from the dropdown list. Enter their Mattermost username in the **_Name_ **field and their Whereby room ID in the **_Value_ **field.\n\n### Extending the workflow\n\nSince n8n supports several other nodes such as [Zoom](https://docs.n8n.io/nodes/n8n-nodes-base.zoom?ref=blog.n8n.io), you can experiment with customizing and adding more nodes to better suit your needs.\n\nYou can also include steps in the workflow to schedule and end meetings as well, making the slash command a powerful way to conduct meetings within Mattermost.\n\nYou can also extend the workflow to include multiple services, for example `/call zoom` would start a Zoom meeting and `/call whereby` would start a Whereby meeting, and so on.\n\n## Conclusion\n\nWith the current global pandemic, remote work is becoming the new normal and brings with it the challenges of communication. Video calls are becoming increasingly relevant with each passing day and is a great way to collaborate as a distributed team.\n\nIn this article, we learnt to create a custom Mattermost command, using n8n and Whereby to reduce the friction involved in initiating a conversation remotely, via video.\n\nWeâ€™ve seen several benefits internally, we save time and end up collaborating more on great ideas â€” because the medium of discussion doesnâ€™t feel like a chore anymore. What are your thoughts? How do your online meetings work?\n\nIn case youâ€™ve run into an issue while following the tutorial, feel free to reach out to me on [LinkedIn](https://www.linkedin.com/in/amudhan-manivasagam-4aba86167/?ref=blog.n8n.io) or ask for help on our [forum](https://community.n8n.io/?ref=blog.n8n.io) ðŸ’™\n\n _Start automating!_\n\n_The best part is, you can start automating for free with n8n. The easiest way to get started is to_[ _download the desktop app,_](https://n8n.io/pricing?cloud=false&ref=blog.n8n.io)_or sign up for a[free n8n cloud trial](https://n8n.io/cloud?ref=blog.n8n.io). Thanks to n8nâ€™s fair-code license, you can also _[_self-host n8n for free_](https://docs.n8n.io/hosting/?ref=blog.n8n.io) _._\n\n## Subscribe to n8n newsletter\n\nGet the best, coolest, and latest in automation and low-code delivered to your inbox each week. \n\nSomething went wrong. Please try again later.\n\nSubscribed!\n\nSubscribe\n\n[](https://twitter.com/intent/tweet?text=How%20to%20automate%20your%20team's%20video%20collaboration%20workflow&url=https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/) [](https://www.facebook.com/sharer/sharer.php?u=https://blog.n8n.io/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/)\n",
  "crawled_at": "2025-05-28T11:00:31.854312"
}