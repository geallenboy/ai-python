{
  "url": "https://blog.n8n.io/how-to-set-up-n8n-via-pm2/",
  "title": "How to set up n8n via PM2",
  "excerpt": "Learn what PM2 is and how you can set up and configure n8n with PM2 in a few steps.",
  "thumbnail": "https://blog.n8n.io/content/images/size/w1200/2021/08/n8n-x-pm2-1.png",
  "tags": [
    "Tutorial"
  ],
  "html": "<p>I am always curious to learn how our community members use n8n. This time I discovered that some members set up n8n via &nbsp;<a href=\"https://pm2.keymetrics.io/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">PM2</a>. Though we officially support server setup via Docker (check out the <a href=\"https://docs.n8n.io/hosting/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Server Setup guide</a> to learn more), I thought PM2 is a useful alternative for some users. So in this article, I want to help you understand what PM2 is and show you how to set up n8n on your server via PM2.</p><!--kg-card-begin: markdown--><h4 id=\"table-of-contents\">Table of contents</h4>\n<p><a href=\"#what-is-pm2\">What is PM2?</a><br>\n<a href=\"#set-up-n8n-via-pm2\">Set up n8n via PM2</a><br>\n&nbsp; &nbsp; <a href=\"#prerequisites\">Prerequisites</a><br>\n&nbsp; &nbsp; <a href=\"#start-n8n-via-pm2\">Start n8n via PM2</a><br>\n&nbsp; &nbsp; <a href=\"#auto-start-n8n-on-machine-restart\">Auto-start n8n on machine restart</a><br>\n&nbsp; &nbsp; <a href=\"#update-n8n\">Update n8n</a><br>\n&nbsp; &nbsp; <a href=\"#configure-environment-variables\">Configure environment variables</a><br>\n&nbsp; &nbsp; <a href=\"#configure-nginx-and-ssl-certificate\">Configure Nginx and SSL certificate</a><br>\n&nbsp; &nbsp; <a href=\"#how-to-run-n8n-with-pm2-on-windows\">How to run n8n with PM2 on Windows</a><br>\n<a href=\"#whats-next\">What's next?</a></p>\n<!--kg-card-end: markdown--><h2 id=\"what-is-pm2\">What is PM2?</h2><p>PM2 is a daemon process manager that allows you to manage and keep your application online. PM2 allows you to wrap a Node.js application into service– in other words, to run a Node.js application on a production server. PM2 comes with many features, like application monitoring and memory usage. PM2 allows you to configure the environment variables for your application and automatically restart the application when a file is modified.</p><p>You can configure all the variables mentioned in the <a href=\"https://docs.n8n.io/reference/environment-variables.html?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Environment Variables documentation</a> for n8n. The flexibility that PM2 provides makes it a good alternative to Docker.</p><p>Now let’s see how to set up n8n via PM2 step by step.</p><h2 id=\"set-up-n8n-via-pm2\">Set up n8n via PM2</h2><h3 id=\"prerequisites\">Prerequisites</h3><p>To run n8n via PM2, you need to have the following software installed:</p><ul><li><strong>Node.js and npm:</strong> You can find instructions on how to install both using nvm (Node Version Manager) <a href=\"https://github.com/nvm-sh/nvm?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">here</a>. You need to have at least version 14.15. In case you already have installed Node.js, you can check your current version with the following command:</li></ul><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">node -v\n</code></pre>\n<!--kg-card-end: markdown--><ul><li><strong>PM2:</strong> You can install PM2 globally with the following command:</li></ul><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">npm install pm2 -g\n</code></pre>\n<!--kg-card-end: markdown--><ul><li><strong>n8n:</strong> You can install n8n globally with the following command:</li></ul><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">npm install n8n -g\n</code></pre>\n<!--kg-card-end: markdown--><h3 id=\"start-n8n-via-pm2\">Start n8n via PM2</h3><p>After installing n8n and PM2, you can start the n8n service by executing the following command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 start n8n\n</code></pre>\n<!--kg-card-end: markdown--><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.20.png\" class=\"kg-image lightense-target\" alt=\"pm2 command to start n8n\" loading=\"lazy\" width=\"1120\" height=\"304\" srcset=\"https://blog.n8n.io/content/images/size/w600/2022/09/Screenshot-2022-09-08-at-16.46.20.png 600w, https://blog.n8n.io/content/images/size/w1000/2022/09/Screenshot-2022-09-08-at-16.46.20.png 1000w, https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.20.png 1120w\" sizes=\"(min-width: 720px) 720px\"><figcaption>pm2 command to start n8n</figcaption></figure><p>If you’re running n8n locally, navigate to localhost:5678 to access the Editor UI. If you’re running n8n on a server, navigate to IP_ADDRESS:5678.</p><p>Congratulations, you have successfully set up n8n via PM2!</p><p>If you want to learn about advanced configurations, continue reading.</p><h3 id=\"auto-start-n8n-on-machine-restart\">Auto-start n8n on machine restart</h3><p>You can generate startup scripts and configure them to keep your process list intact if your machine restarts (un)expectedly.</p><p>To automatically generate and configure a startup script, execute the following command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 startup\n</code></pre>\n<!--kg-card-end: markdown--><p>The above command asks you to run another command. Copy and paste the suggested command. The comment would look like this:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">sudo  \"env PATH=$PATH:/user/home/.nvm/versions/node/v14.3/bin pm2 startup &lt;distribution&gt; -u &lt;user&gt; --hp &lt;home-path&gt;\n</code></pre>\n<!--kg-card-end: markdown--><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.35.png\" class=\"kg-image lightense-target\" alt=\"pm2 command to restart at boot\" loading=\"lazy\" width=\"1116\" height=\"216\" srcset=\"https://blog.n8n.io/content/images/size/w600/2022/09/Screenshot-2022-09-08-at-16.46.35.png 600w, https://blog.n8n.io/content/images/size/w1000/2022/09/Screenshot-2022-09-08-at-16.46.35.png 1000w, https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.35.png 1116w\" sizes=\"(min-width: 720px) 720px\"><figcaption>pm2 command to restart at boot</figcaption></figure><p>PM2 will now automatically restart at boot.</p><p>If you want to learn more about the startup script, refer to the official <a href=\"https://pm2.keymetrics.io/docs/usage/startup/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">PM2 documentation</a>.</p><h3 id=\"update-n8n\">Update n8n</h3><p>We release a new version of n8n with new features and bug fixes almost every week. To keep your n8n instance updated, you need to install the latest version of n8n.</p><p>To update n8n, follow these three steps:</p><p>1. Stop the n8n service</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 stop n8n\n</code></pre>\n<!--kg-card-end: markdown--><p>2. Install the latest version of n8n</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">npm install -g n8n@latest\n</code></pre>\n<!--kg-card-end: markdown--><p>3. Restart the n8n service</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 restart n8n\n</code></pre>\n<!--kg-card-end: markdown--><p>Now you can enjoy the new features of n8n!</p><h3 id=\"configure-environment-variables\">Configure environment variables</h3><p>You can set environment variables to override the default n8n configurations. For example, if you want to enable basic authentication for your n8n service, use the following command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">N8N_BASIC_AUTH_ACTIVE=true N8N_BASIC_AUTH_USER=&lt;USERNAME&gt; N8N_BASIC_AUTH_PASSWORD=&lt;PASSWORD&gt; pm2 restart n8n --update-env\n</code></pre>\n<!--kg-card-end: markdown--><p>Replace &lt;USERNAME&gt; and &lt;PASSWORD&gt; with your username and password. The above command will restart PM2 with the new configuration. If you navigate to your instance, you will now be asked to log in with your username and password.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.52.png\" class=\"kg-image lightense-target\" alt=\"command to restart pm2 with the new configuration\" loading=\"lazy\" width=\"1120\" height=\"262\" srcset=\"https://blog.n8n.io/content/images/size/w600/2022/09/Screenshot-2022-09-08-at-16.46.52.png 600w, https://blog.n8n.io/content/images/size/w1000/2022/09/Screenshot-2022-09-08-at-16.46.52.png 1000w, https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.52.png 1120w\" sizes=\"(min-width: 720px) 720px\"><figcaption>command to restart pm2 with the new configuration</figcaption></figure><p>Similar to the above command, you can configure any environment variable for your n8n instance. You can learn more about all the possible configurations <a href=\"https://docs.n8n.io/reference/environment-variables.html?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">here</a>.</p><p>PM2 also allows you to configure these variables via a config file. Execute the command `pm2 init simple` to generate a simple configuration file.</p><p>Open the generated file, and replace the existing code with the below code snippet:</p><!--kg-card-begin: markdown--><pre><code class=\"language-js\">module.exports = {\n    apps : [{\n        name   : \"n8n\",\n        env: {\n            N8N_BASIC_AUTH_ACTIVE:true,\n            N8N_BASIC_AUTH_USER:\"USERNAME\",\n            N8N_BASIC_AUTH_PASSWORD:\"PASSWORD\"\n        }\n    }]\n}\n</code></pre>\n<!--kg-card-end: markdown--><p>Now, to start n8n, execute the command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 start ecosystem.config.js\n</code></pre>\n<!--kg-card-end: markdown--><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.47.44.png\" class=\"kg-image lightense-target\" alt=\"pm2 command to start n8n with a new configuration\" loading=\"lazy\" width=\"1122\" height=\"250\" srcset=\"https://blog.n8n.io/content/images/size/w600/2022/09/Screenshot-2022-09-08-at-16.47.44.png 600w, https://blog.n8n.io/content/images/size/w1000/2022/09/Screenshot-2022-09-08-at-16.47.44.png 1000w, https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.47.44.png 1122w\" sizes=\"(min-width: 720px) 720px\"><figcaption>pm2 command to start n8n with a new configuration</figcaption></figure><p>The above command will load the configuration from the ecosystem.config.js file and start n8n.</p><p>You can learn more about the configuration files in PM2 on the official <a href=\"https://pm2.keymetrics.io/docs/usage/application-declaration?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">PM2 documentation</a>.</p><h3 id=\"configure-nginx-and-ssl-certificate\">Configure Nginx and SSL certificate</h3><p>You learned how to set up n8n via PM2 and access the n8n workflow designer via the IP address. In this section, you will learn how to configure Nginx and an SSL certificate to point n8n to your domain. </p><p><strong>Keep in mind that this setup is not officially supported by n8n and we recommend the server setup page. If you don't set up the domain and SSL, most trigger nodes won't work.</strong></p><p>First, start and enable Nginx by executing the following commands:</p><!--kg-card-begin: markdown--><pre><code class=\"language-sh\">sudo systemctl start nginx\nsudo systemctl enable nginx\n</code></pre>\n<!--kg-card-end: markdown--><p>Next, create a configuration file by executing the command `sudo vi /etc/nginx/conf.d/n8n.conf`. Add the following configuration and save the file.</p><!--kg-card-begin: markdown--><pre><code>server {\n    server_name subdomain.example.com;\n    location / {\n        proxy_pass http://localhost:5678;\n        proxy_http_version 1.1;\n        proxy_set_header Connection '';\n        proxy_set_header Host $host;\n        chunked_transfer_encoding off;\n        proxy_buffering off;\n        proxy_cache off;\n    }\n}\n</code></pre>\n<!--kg-card-end: markdown--><p>Configure the A record in the DNS management section for your domain.</p><p>Before restarting the Nginx, you need to add the SSL certificate. This will allow you to access n8n via HTTPS and make secure calls to webhooks.</p><p>Execute the following commands to install the required packages:</p><!--kg-card-begin: markdown--><pre><code class=\"language-sh\">sudo apt install software-properties-common\nsudo apt update\nsudo add-apt-repository ppa:certbot/certbot\nsudo apt install python3-certbot-nginx\n</code></pre>\n<!--kg-card-end: markdown--><p>Once installed, generate the SSL certificate using the command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">sudo certbot --nginx -d subdomain.example.com\n</code></pre>\n<!--kg-card-end: markdown--><p>Finally, update your ecosystem.config.js file with the following configurations:</p><!--kg-card-begin: markdown--><pre><code class=\"language-js\">module.exports = {\n    apps : [{\n        name   : \"n8n\",\n        env: {\n            N8N_BASIC_AUTH_ACTIVE:true,\n            N8N_BASIC_AUTH_USER:\"USERNAME\",\n            N8N_BASIC_AUTH_PASSWORD:\"PASSWORD\",\n            N8N_PROTOCOL: \"https\",\n            WEBHOOK_TUNNEL_URL: \"https://subdomain.example.com/\",\n            N8N_HOST: \"subdomain.example.com\"\n        }\n    }]\n}\n</code></pre>\n<!--kg-card-end: markdown--><p>Now restart Nginx and PM2 using the command sudo systemctl restart nginx and pm2 restart ecosystem.config.js, respectively.</p><p>Navigate to your domain, and you will now be able to access n8n.</p><p>Note that the SSL certificate will expire after a certain period of time. &nbsp;You need to periodically run the following command to renew the certificate. Refer to the <a href=\"https://certbot.eff.org/docs/using.html?ref=blog.n8n.io#setting-up-automated-renewal\" target=\"_blank\" rel=\"noopener\">Certbot documentation</a> to learn to setup automated renewal.</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">sudo certbot renew\n</code></pre>\n<!--kg-card-end: markdown--><h3 id=\"how-to-run-n8n-with-pm2-on-windows\">How to run n8n with PM2 on Windows</h3><p>If you’re running PM2 on a Windows operating system, you might run into a minor issue. On Windows, PM2 doesn’t recognize the correct n8n directory and throws an error.</p><p>To run n8n via PM2 on Windows, navigate to the start directory C:\\Users\\%AppData%\\Roaming\\npm\\node_modules\\n8n\\bin and execute the command:</p><!--kg-card-begin: markdown--><pre><code class=\"language-bash\">pm2 start n8n\n</code></pre>\n<!--kg-card-end: markdown--><p>Note that if you have installed n8n in a different directory, you need to execute the above-mentioned command from that directory.</p><h2 id=\"what%E2%80%99s-next\">What’s next?</h2><p>PM2 is a good alternative to Docker when you want to run a Node.js application. In this article, you learned about PM2 and how you can set up n8n via PM2. You also learned how to configure advanced settings for your n8n service in PM2.</p><p>However, keep in mind that n8n officially supports setting up n8n with Docker.</p><p>Now it’s your turn: configure your domain to point it to your server or try out other advanced configurations to modify your n8n service.</p><p>I’d like to know how you are using n8n. Feel free to message me on <a href=\"https://twitter.com/harshil1712?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">Twitter</a> or discuss on our <a href=\"https://community.n8n.io/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">community forum</a> 🧡 And if you want to get the latest content on automation, <a href=\"https://blog.n8n.io/#subscribe\">subscribe to our newsletter</a> 💌</p><p><em>Start automating!</em></p><p><em>The best part is, you can start automating for free with n8n. The easiest way to get started is to sign up for a <a href=\"https://n8n.io/pricing/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\">free n8n cloud trial</a>. Thanks to n8n’s fair-code license, you can also </em><a href=\"https://docs.n8n.io/hosting/?ref=blog.n8n.io\" target=\"_blank\" rel=\"noopener\"><em>self-host n8n for free</em></a><em>.</em></p>\n\t\t<div class=\"newsletter-banner\">\n\t    <div class=\"newsletter-banner-content\">\n\t      <div class=\"section-header\">\n\t        <h2>Subscribe to <span>n8n newsletter</span></h2>\n\t        <div class=\"section-subheader--bottom\">\n\t          Get the best, coolest, and latest in automation and low-code delivered to your inbox each week.\n\t        </div>\n\t      </div>\n\t      <div class=\"newsletter-banner-form\">\n\t        <form autocomplete=\"off\" class=\"contact-form\" onsubmit=\"subscribeNewsletter(event)\">\n\t        \t<div id=\"recaptcha\" class=\"g-recaptcha\" data-sitekey=\"6LeAQeopAAAAAKlLsRb1weWm6T_vijoQBkGkbHzB\" data-callback=\"submitSubscription\" data-size=\"invisible\"><div class=\"grecaptcha-badge\" data-style=\"bottomright\" style=\"width: 256px; height: 60px; display: block; transition: right 0.3s ease 0s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;\"><div class=\"grecaptcha-logo\"><iframe title=\"reCAPTCHA\" width=\"256\" height=\"60\" role=\"presentation\" name=\"a-ux5w3uvd68qn\" frameborder=\"0\" scrolling=\"no\" sandbox=\"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation\" src=\"https://www.google.com/recaptcha/api2/anchor?ar=1&amp;k=6LeAQeopAAAAAKlLsRb1weWm6T_vijoQBkGkbHzB&amp;co=aHR0cHM6Ly9ibG9nLm44bi5pbzo0NDM.&amp;hl=en&amp;v=jt8Oh2-Ue1u7nEbJQUIdocyd&amp;size=invisible&amp;cb=m7t4hg2joilo\"></iframe></div><div class=\"grecaptcha-error\"></div><textarea id=\"g-recaptcha-response\" name=\"g-recaptcha-response\" class=\"g-recaptcha-response\" style=\"width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;\"></textarea></div><iframe style=\"display: none;\"></iframe></div>\n\t          <div class=\"input-wrapper\">\n\t            <input placeholder=\"Email\" name=\"email\" type=\"email\" required=\"required\" class=\"\">\n\t            <div class=\"messages\">\n\t              <div class=\"message message--error\">Something went wrong. Please try again later.</div>\n\t              <div class=\"message message--success\">Subscribed!</div>\n\t            </div>\n\t          </div>\n\t          <button type=\"submit\" class=\"submit-btn\">Subscribe</button>\n\t        </form>\n\t      </div>\n\t    </div>\n    </div>\n\t\t<div class=\"post-share-section\">\n\t<div class=\"post-share-wrap\">\n\t\t<a href=\"https://twitter.com/intent/tweet?text=How%20to%20set%20up%20n8n%20via%20PM2&amp;url=https://blog.n8n.io/how-to-set-up-n8n-via-pm2/\" target=\"_blank\" rel=\"noopener\" aria-label=\"Twitter share icon\"><svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"></path></svg></a>\n\t\t<a href=\"https://www.facebook.com/sharer/sharer.php?u=https://blog.n8n.io/how-to-set-up-n8n-via-pm2/\" target=\"_blank\" rel=\"noopener\" aria-label=\"Facebook share icon\"><svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"></path></svg></a>\n\t\t<!-- <a href=\"javascript:\" class=\"post-share-link\" id=\"copy\" data-clipboard-target=\"#copy-link\" aria-label=\"Copy link icon\"><svg role=\"img\" viewBox=\"0 0 33 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M27.3999996,13.4004128 L21.7999996,13.4004128 L21.7999996,19 L18.9999996,19 L18.9999996,13.4004128 L13.3999996,13.4004128 L13.3999996,10.6006192 L18.9999996,10.6006192 L18.9999996,5 L21.7999996,5 L21.7999996,10.6006192 L27.3999996,10.6006192 L27.3999996,13.4004128 Z M12,20.87 C7.101,20.87 3.13,16.898 3.13,12 C3.13,7.102 7.101,3.13 12,3.13 C12.091,3.13 12.181,3.139 12.272,3.142 C9.866,5.336 8.347,8.487 8.347,12 C8.347,15.512 9.866,18.662 12.271,20.857 C12.18,20.859 12.091,20.87 12,20.87 Z M20.347,0 C18.882,0 17.484,0.276 16.186,0.756 C14.882,0.271 13.473,0 12,0 C5.372,0 0,5.373 0,12 C0,18.628 5.372,24 12,24 C13.471,24 14.878,23.726 16.181,23.242 C17.481,23.724 18.88,24 20.347,24 C26.975,24 32.347,18.628 32.347,12 C32.347,5.373 26.975,0 20.347,0 Z\"/></svg></a>\n\t\t<small class=\"share-link-info\">The link has been copied!</small> -->\n\t</div>\n\t<input type=\"text\" value=\"https://blog.n8n.io/how-to-set-up-n8n-via-pm2/\" id=\"copy-link\" aria-label=\"Copy link input\">\n</div>",
  "readme": "I am always curious to learn how our community members use n8n. This time I discovered that some members set up n8n via  [PM2](https://pm2.keymetrics.io/?ref=blog.n8n.io). Though we officially support server setup via Docker (check out the [Server Setup guide](https://docs.n8n.io/hosting/?ref=blog.n8n.io) to learn more), I thought PM2 is a useful alternative for some users. So in this article, I want to help you understand what PM2 is and show you how to set up n8n on your server via PM2.\n\n#### Table of contents\n\nWhat is PM2?  \nSet up n8n via PM2  \n    Prerequisites  \n    Start n8n via PM2  \n    Auto-start n8n on machine restart  \n    Update n8n  \n    Configure environment variables  \n    Configure Nginx and SSL certificate  \n    How to run n8n with PM2 on Windows  \nWhat's next?\n\n## What is PM2?\n\nPM2 is a daemon process manager that allows you to manage and keep your application online. PM2 allows you to wrap a Node.js application into service– in other words, to run a Node.js application on a production server. PM2 comes with many features, like application monitoring and memory usage. PM2 allows you to configure the environment variables for your application and automatically restart the application when a file is modified.\n\nYou can configure all the variables mentioned in the [Environment Variables documentation](https://docs.n8n.io/reference/environment-variables.html?ref=blog.n8n.io) for n8n. The flexibility that PM2 provides makes it a good alternative to Docker.\n\nNow let’s see how to set up n8n via PM2 step by step.\n\n## Set up n8n via PM2\n\n### Prerequisites\n\nTo run n8n via PM2, you need to have the following software installed:\n\n  * **Node.js and npm:** You can find instructions on how to install both using nvm (Node Version Manager) [here](https://github.com/nvm-sh/nvm?ref=blog.n8n.io). You need to have at least version 14.15. In case you already have installed Node.js, you can check your current version with the following command:\n\n\n    \n    \n    node -v\n    \n\n  * **PM2:** You can install PM2 globally with the following command:\n\n\n    \n    \n    npm install pm2 -g\n    \n\n  * **n8n:** You can install n8n globally with the following command:\n\n\n    \n    \n    npm install n8n -g\n    \n\n### Start n8n via PM2\n\nAfter installing n8n and PM2, you can start the n8n service by executing the following command:\n    \n    \n    pm2 start n8n\n    \n\n![pm2 command to start n8n](https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.20.png)pm2 command to start n8n\n\nIf you’re running n8n locally, navigate to localhost:5678 to access the Editor UI. If you’re running n8n on a server, navigate to IP_ADDRESS:5678.\n\nCongratulations, you have successfully set up n8n via PM2!\n\nIf you want to learn about advanced configurations, continue reading.\n\n### Auto-start n8n on machine restart\n\nYou can generate startup scripts and configure them to keep your process list intact if your machine restarts (un)expectedly.\n\nTo automatically generate and configure a startup script, execute the following command:\n    \n    \n    pm2 startup\n    \n\nThe above command asks you to run another command. Copy and paste the suggested command. The comment would look like this:\n    \n    \n    sudo  \"env PATH=$PATH:/user/home/.nvm/versions/node/v14.3/bin pm2 startup <distribution> -u <user> --hp <home-path>\n    \n\n![pm2 command to restart at boot](https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.35.png)pm2 command to restart at boot\n\nPM2 will now automatically restart at boot.\n\nIf you want to learn more about the startup script, refer to the official [PM2 documentation](https://pm2.keymetrics.io/docs/usage/startup/?ref=blog.n8n.io).\n\n### Update n8n\n\nWe release a new version of n8n with new features and bug fixes almost every week. To keep your n8n instance updated, you need to install the latest version of n8n.\n\nTo update n8n, follow these three steps:\n\n1\\. Stop the n8n service\n    \n    \n    pm2 stop n8n\n    \n\n2\\. Install the latest version of n8n\n    \n    \n    npm install -g n8n@latest\n    \n\n3\\. Restart the n8n service\n    \n    \n    pm2 restart n8n\n    \n\nNow you can enjoy the new features of n8n!\n\n### Configure environment variables\n\nYou can set environment variables to override the default n8n configurations. For example, if you want to enable basic authentication for your n8n service, use the following command:\n    \n    \n    N8N_BASIC_AUTH_ACTIVE=true N8N_BASIC_AUTH_USER=<USERNAME> N8N_BASIC_AUTH_PASSWORD=<PASSWORD> pm2 restart n8n --update-env\n    \n\nReplace <USERNAME> and <PASSWORD> with your username and password. The above command will restart PM2 with the new configuration. If you navigate to your instance, you will now be asked to log in with your username and password.\n\n![command to restart pm2 with the new configuration](https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.46.52.png)command to restart pm2 with the new configuration\n\nSimilar to the above command, you can configure any environment variable for your n8n instance. You can learn more about all the possible configurations [here](https://docs.n8n.io/reference/environment-variables.html?ref=blog.n8n.io).\n\nPM2 also allows you to configure these variables via a config file. Execute the command `pm2 init simple` to generate a simple configuration file.\n\nOpen the generated file, and replace the existing code with the below code snippet:\n    \n    \n    module.exports = {\n        apps : [{\n            name   : \"n8n\",\n            env: {\n                N8N_BASIC_AUTH_ACTIVE:true,\n                N8N_BASIC_AUTH_USER:\"USERNAME\",\n                N8N_BASIC_AUTH_PASSWORD:\"PASSWORD\"\n            }\n        }]\n    }\n    \n\nNow, to start n8n, execute the command:\n    \n    \n    pm2 start ecosystem.config.js\n    \n\n![pm2 command to start n8n with a new configuration](https://blog.n8n.io/content/images/2022/09/Screenshot-2022-09-08-at-16.47.44.png)pm2 command to start n8n with a new configuration\n\nThe above command will load the configuration from the ecosystem.config.js file and start n8n.\n\nYou can learn more about the configuration files in PM2 on the official [PM2 documentation](https://pm2.keymetrics.io/docs/usage/application-declaration?ref=blog.n8n.io).\n\n### Configure Nginx and SSL certificate\n\nYou learned how to set up n8n via PM2 and access the n8n workflow designer via the IP address. In this section, you will learn how to configure Nginx and an SSL certificate to point n8n to your domain. \n\n**Keep in mind that this setup is not officially supported by n8n and we recommend the server setup page. If you don't set up the domain and SSL, most trigger nodes won't work.**\n\nFirst, start and enable Nginx by executing the following commands:\n    \n    \n    sudo systemctl start nginx\n    sudo systemctl enable nginx\n    \n\nNext, create a configuration file by executing the command `sudo vi /etc/nginx/conf.d/n8n.conf`. Add the following configuration and save the file.\n    \n    \n    server {\n        server_name subdomain.example.com;\n        location / {\n            proxy_pass http://localhost:5678;\n            proxy_http_version 1.1;\n            proxy_set_header Connection '';\n            proxy_set_header Host $host;\n            chunked_transfer_encoding off;\n            proxy_buffering off;\n            proxy_cache off;\n        }\n    }\n    \n\nConfigure the A record in the DNS management section for your domain.\n\nBefore restarting the Nginx, you need to add the SSL certificate. This will allow you to access n8n via HTTPS and make secure calls to webhooks.\n\nExecute the following commands to install the required packages:\n    \n    \n    sudo apt install software-properties-common\n    sudo apt update\n    sudo add-apt-repository ppa:certbot/certbot\n    sudo apt install python3-certbot-nginx\n    \n\nOnce installed, generate the SSL certificate using the command:\n    \n    \n    sudo certbot --nginx -d subdomain.example.com\n    \n\nFinally, update your ecosystem.config.js file with the following configurations:\n    \n    \n    module.exports = {\n        apps : [{\n            name   : \"n8n\",\n            env: {\n                N8N_BASIC_AUTH_ACTIVE:true,\n                N8N_BASIC_AUTH_USER:\"USERNAME\",\n                N8N_BASIC_AUTH_PASSWORD:\"PASSWORD\",\n                N8N_PROTOCOL: \"https\",\n                WEBHOOK_TUNNEL_URL: \"https://subdomain.example.com/\",\n                N8N_HOST: \"subdomain.example.com\"\n            }\n        }]\n    }\n    \n\nNow restart Nginx and PM2 using the command sudo systemctl restart nginx and pm2 restart ecosystem.config.js, respectively.\n\nNavigate to your domain, and you will now be able to access n8n.\n\nNote that the SSL certificate will expire after a certain period of time.  You need to periodically run the following command to renew the certificate. Refer to the [Certbot documentation](https://certbot.eff.org/docs/using.html?ref=blog.n8n.io#setting-up-automated-renewal) to learn to setup automated renewal.\n    \n    \n    sudo certbot renew\n    \n\n### How to run n8n with PM2 on Windows\n\nIf you’re running PM2 on a Windows operating system, you might run into a minor issue. On Windows, PM2 doesn’t recognize the correct n8n directory and throws an error.\n\nTo run n8n via PM2 on Windows, navigate to the start directory C:\\Users\\%AppData%\\Roaming\\npm\\node_modules\\n8n\\bin and execute the command:\n    \n    \n    pm2 start n8n\n    \n\nNote that if you have installed n8n in a different directory, you need to execute the above-mentioned command from that directory.\n\n## What’s next?\n\nPM2 is a good alternative to Docker when you want to run a Node.js application. In this article, you learned about PM2 and how you can set up n8n via PM2. You also learned how to configure advanced settings for your n8n service in PM2.\n\nHowever, keep in mind that n8n officially supports setting up n8n with Docker.\n\nNow it’s your turn: configure your domain to point it to your server or try out other advanced configurations to modify your n8n service.\n\nI’d like to know how you are using n8n. Feel free to message me on [Twitter](https://twitter.com/harshil1712?ref=blog.n8n.io) or discuss on our [community forum](https://community.n8n.io/?ref=blog.n8n.io) 🧡 And if you want to get the latest content on automation, [subscribe to our newsletter](https://blog.n8n.io/#subscribe) 💌\n\n _Start automating!_\n\n_The best part is, you can start automating for free with n8n. The easiest way to get started is to sign up for a[free n8n cloud trial](https://n8n.io/pricing/?ref=blog.n8n.io). Thanks to n8n’s fair-code license, you can also _[_self-host n8n for free_](https://docs.n8n.io/hosting/?ref=blog.n8n.io) _._\n\n## Subscribe to n8n newsletter\n\nGet the best, coolest, and latest in automation and low-code delivered to your inbox each week. \n\nSomething went wrong. Please try again later.\n\nSubscribed!\n\nSubscribe\n\n[](https://twitter.com/intent/tweet?text=How%20to%20set%20up%20n8n%20via%20PM2&url=https://blog.n8n.io/how-to-set-up-n8n-via-pm2/) [](https://www.facebook.com/sharer/sharer.php?u=https://blog.n8n.io/how-to-set-up-n8n-via-pm2/)\n",
  "crawled_at": "2025-05-28T10:53:28.345376"
}